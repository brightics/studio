/*   Brightics VA Build 181114 */
(function(){"use strict";void 0===this.Brightics&&(this.Brightics={}),$.extend(!0,this.Brightics,{Tools:{Extractor:{},IDGenerator:{sql:{main_id:function(e){return"DATA_"+e+"_"+t(6)},condition_id:function(e,r){return"COND_"+e+"_"+r+"_"+t(6)}}}}});var t=function(t){for(var e,r=t||16,a="",o=0;o<r;o++)a+=(e="23456789abcdefghjkmnpqrstuvwxyz").charAt(Math.floor(Math.random()*e.length));return a}}).call(this),function(){"use strict";var t=this.Brightics,e=function(t){var e=JSON.parse(JSON.stringify(t));delete e["properties-layout"];var r=[];r.push("/**************************************************************************"),r.push(" *                                 FnUnit                                  "),r.push(" *************************************************************************/");var a=e.defaultFnUnit.func,o=("Brightics.VA.Core.Functions.Library['"+a+"'] = "+JSON.stringify(e,null,4)+";").split("\n");return o.push("Brightics.VA.Implementation.DataFlow.Functions['"+a+"'] = Brightics.VA.Core.Functions.Library['"+a+"'];"),r.concat(o)},r={build:function(r){var a=e(r);for(var o in a.push(""),(a=a.concat(t.Tools.Extractor.PropertiesPanelCodeGenerator.build(r))).push(""),(a=a.concat(t.Tools.Extractor.ValidatorCodeGenerator.build(r))).push(""),a)a[o]="    "+a[o];var i,n=r.defaultFnUnit.func,s="JdbcLoader"+((i=n.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})).charAt(0).toUpperCase()+i.slice(1));return["(function () {","    'use strict';","","    var root = this;","    var Brightics = root.Brightics;",""].concat(a,["}).call(this);"]).join("\n").replace(/__clazz__/g,s).replace(/__func__/g,n)}};t.Tools.Extractor.FuncCodeGenerator=r}.call(this),function(){"use strict";var t=this.Brightics;function e(t,e){this.parentId=t,this.options=e,this.jdbcFuncId="",this._init(),this._createContents(this.$parent)}e.prototype._init=function(){this._retrieveParent(),$.extend(!0,this.options,{style:{}})},e.prototype._retrieveParent=function(){this.$parent="string"==typeof this.parentId?$(this.parentId):this.parentId},e.prototype._createContents=function(t){this.$mainControl=$('<div class="brtc-etl-gen">   <div>       <div>ID:</div><input type="text" class="brtc-etl-gen-id brtc-flex-grow-one"/>   </div>   <div>       <div>Category:</div><input type="text" class="brtc-etl-gen-category brtc-flex-grow-one"/>   </div>   <div>       <div>Label:</div><input type="text" class="brtc-etl-gen-label brtc-flex-grow-one"/>   </div>   <div>       <div>Description:</div><input type="text" class="brtc-etl-gen-description brtc-flex-grow-one"/>   </div>   <div>       <div>Tags:</div><input type="text" class="brtc-etl-gen-tags brtc-flex-grow-one"/>   </div>   <div>       <div>Datasource:</div>       <div class="brtc-etl-gen-datasource-visiable">Visible</div>       <div class="brtc-etl-gen-datasource-invisiable">Invisible</div>       <div class="brtc-etl-gen-datasource brtc-flex-grow-one"></div>   </div>   <div>       <div>Query:</div><div class="brtc-etl-gen-query brtc-flex-grow-one"></div>   </div>   <div>       <div>Parameters:</div>       <div class="brtc-etl-gen-param brtc-flex-grow-one">           <div class="brtc-etl-add-param">Add Parameter</div>           <div class="brtc-etl-param-container"></div>       </div>   </div></div>'),t.append(this.$mainControl),this._createIDControl(this.$mainControl.find(".brtc-etl-gen-id")),this._createCategoryControl(this.$mainControl.find(".brtc-etl-gen-category")),this._createLabelControl(this.$mainControl.find(".brtc-etl-gen-label")),this._createDataSourceVisibleControl(this.$mainControl.find(".brtc-etl-gen-datasource-visiable")),this._createDataSourceInVisibleControl(this.$mainControl.find(".brtc-etl-gen-datasource-invisiable")),this._createDataSourceControl(this.$mainControl.find(".brtc-etl-gen-datasource")),this._createQueryControl(this.$mainControl.find(".brtc-etl-gen-query")),this._createNewParamButton(this.$mainControl.find(".brtc-etl-add-param")),this._createDescriptionControl(this.$mainControl.find(".brtc-etl-gen-description")),this._createTagsControl(this.$mainControl.find(".brtc-etl-gen-tags")),this.$mainControl.perfectScrollbar()},e.prototype._createIDControl=function(t){this.$id=t.jqxInput({theme:"office",placeHolder:"Enter a ID"})},e.prototype._getId=function(){return this.$id.val().trim()},e.prototype._createCategoryControl=function(t){this.$category=t.jqxInput({theme:"office",placeHolder:"Enter a Category"})},e.prototype._getCategory=function(){return this.$category.val().trim()},e.prototype._createLabelControl=function(t){this.$label=t.jqxInput({theme:"office",placeHolder:"Enter a Label"})},e.prototype._getLabel=function(){return this.$label.val()},e.prototype._createDescriptionControl=function(t){this.$description=t.jqxInput({theme:"office",placeHolder:"Enter a Description"})},e.prototype._getDescription=function(){return this.$description.val()},e.prototype._createTagsControl=function(t){this.$tags=t.jqxInput({theme:"office",placeHolder:"Enter a Tags. ex) function, name, id"})},e.prototype._getTags=function(){return this.$tags.val().split(",").map(function(t){return t.trim()}).filter(function(t){return""!==t})},e.prototype._createDataSourceVisibleControl=function(t){var e=this;this.$visibleDatasource=t.jqxRadioButton({theme:"office",width:80}),this.$visibleDatasource.on("checked",function(t){e.$datasourceList.hide()}),this.$visibleDatasource.jqxRadioButton("check")},e.prototype._createDataSourceInVisibleControl=function(t){var e=this;this.$invisibleDatasource=t.jqxRadioButton({theme:"office",width:80}),this.$invisibleDatasource.on("checked",function(t){e.$datasourceList.show()})},e.prototype._getVisibleDataSource=function(){return!!this.$visibleDatasource.jqxRadioButton("val")},e.prototype._createDataSourceControl=function(t){var e=new $.jqx.dataAdapter({datatype:"json",datafields:[{name:"datasourceName",type:"string"}],url:"datasources",async:!0});this.$datasourceList=t.jqxDropDownList({theme:"office",placeHolder:"Choose a datasource",itemHeight:30,dropDownHeight:125,source:e,displayMember:"datasourceName",valueMember:"datasourceName"}),this.$datasourceList.hide()},e.prototype._getDataSource=function(){return this.$invisibleDatasource.jqxRadioButton("val")&&this.$datasourceList?this.$datasourceList.val():""},e.prototype._createQueryControl=function(t){t.attr("id","brtc-etl-gen-query-"+Date.now()),this.queryEditor=ace.edit(t.attr("id")),this.queryEditor.setTheme("ace/theme/monokai"),this.queryEditor.getSession().setMode("ace/mode/sql"),this.queryEditor.setOptions({enableBasicAutocompletion:!0,minLines:5,maxLines:30}),this.queryEditor.setValue("SELECT *\n  FROM\n WHERE 1=1\n\n",-1)},e.prototype._getQuery=function(){return this.queryEditor.getSession().getValue()},e.prototype._getSqlId=function(){var e=this._getId();return this.jdbcFuncId!=e&&(this.jdbcFuncId=e,this.mainSqlId=t.Tools.IDGenerator.sql.main_id(this.jdbcFuncId)),this.mainSqlId},e.prototype._createNewParamButton=function(t){var e=this;this.$newParamButton=t,this.$newParamButton.click(function(){e._createNewParam()})},e.prototype._createNewParam=function(){var e=this.$mainControl.find(".brtc-etl-param-container");return new t.Tools.Extractor.ParamSpecGenerator(e,{func:this._getId()})},e.prototype._getDataSourceParameter=function(){var t={param:"datasourceName",label:"Data Source",type:"Items",control:{type:"DropDownList",options:{source:{},displayMember:"datasourceName",valueMember:"datasourceName"},value:{},itemType:"Items"},inputType:"String",mandatory:!0,dataSourceParam:!0,visible:this._getVisibleDataSource()};return this._getVisibleDataSource()?(t.type="API",t.control.options.source={datatype:"json",datafields:[{name:"datasourceName",type:"string"},{name:"datasourceType",type:"string"},{name:"dbtype",type:"string"}],url:"api/va/v2/datasources",async:!0},t.control.itemType="API"):(t.type="Items",t.control.options.source=[{datasourceName:this._getDataSource()}],t.control.itemType="Items"),t.visible=this._getVisibleDataSource(),t},e.prototype._getParameters=function(){return this.$mainControl.find(".brtc-etl-param").map(function(t,e){return $(e).data("ParamSpecGenerator")}).toArray()},e.prototype.save=function(){var t={id:this._getId(),category:this._getCategory(),label:this._getLabel(),description:this._getDescription(),tags:this._getTags(),datasource:{datasourceName:this._getDataSource(),visible:this._getVisibleDataSource()},query:this._getQuery(),mainSqlId:this._getSqlId(),params:[]},e=this._getParameters();for(var r in e)t.params.push(e[r].save());return t},e.prototype.getSqlContents=function(t,e){if(t||!e){var r={url:"jdbcloader/"+t,type:"GET"};$.ajax(r).done(function(t){e&&e(t.sql)}).fail(function(r){console.error("[ERROR] "+t+" : Query not exsits in database."),e()})}else e("SELECT *\n  FROM\n WHERE 1=1\n\n")},e.prototype.open=function(t){var e=this;for(var r in this.$id.val(t.id),this.$category.val(t.category),this.jdbcFuncId=t.id,this.$label.val(t.label),this.$description.val(t.description),this.$tags.val(t.tags.join(", ")),void 0!==t.datasource?(t.datasource.visible?this.$visibleDatasource.jqxRadioButton("check"):this.$invisibleDatasource.jqxRadioButton("check"),""!==t.datasource.datasourceName?this.$datasourceList.on("bindingComplete",function(r){e.$datasourceList.jqxDropDownList("val",t.datasource.datasourceName)}):this.$datasourceList.jqxDropDownList("selectedIndex",-1)):this.$visibleDatasource.jqxRadioButton("check"),this.getSqlContents(t.mainSqlId,function(r){e.queryEditor.getSession().setValue(r||t.query)}),this.mainSqlId=t.mainSqlId,t.params){this._createNewParam().open(t.params[r],this.jdbcFuncId)}},e.prototype.validate=function(){return""===this._getId().trim()?(alert("Please enter a ID."),!1):""===this._getCategory().trim()?(alert("Please enter a Category"),!1):""!==this._getLabel().trim()||(alert("Please enter a Label"),!1)},e.prototype.buildSpec=function(){var t={category:this._getCategory(),defaultFnUnit:{func:this._getId(),name:"DistributedJdbcLoader",outData:[],param:{sql:{metadata:"sql",sqlId:this._getSqlId(),condition:{}},datasource:{metadata:"datasource",datasourceName:this._getDataSource()}},persist:!1,display:{label:this._getLabel(),diagram:{position:{x:20,y:10}},sheet:{out:{partial:[{panel:[],layout:{}}],full:[{panel:[],layout:{}}]}}}},description:this._getDescription(),mandatory:[],tags:this._getTags(),"in-range":{min:0,max:0},"out-range":{min:1,max:1},"properties-layout":[]},e=this._getDataSourceParameter();t["properties-layout"].push(e);var r=this._getParameters();for(var a in r){t.defaultFnUnit.param.sql.condition[r[a]._getTrimId()]="",r[a].buildSpec(this._getId()).forEach(function(e){t.defaultFnUnit.param.sql.condition[e.param]="",t["properties-layout"].push(e)})}return t},t.Tools.Extractor.FuncSpecGenerator=e}.call(this),function(){"use strict";var t=this.Brightics,e=["ItemSelector","InputBox","DropDownList","RadioButton","CheckBox","DateTimeInput"],r=["String","Integer","Double","Date"],a=["SQL","Items"],o=["Single","Range"];function i(t,e){this.parentId=t,this.options=e,this.jdbcFuncId="",this._init(),this.paramProps={},this.wrappers={},this.controls={},this.selectedControl="",this._createContents(this.$parent)}i.prototype._init=function(){this._retrieveParent(),$.extend(!0,this.options,{style:{}})},i.prototype._retrieveParent=function(){this.$parent="string"==typeof this.parentId?$(this.parentId):this.parentId},i.prototype._initWrappers=function(){var t=this.$mainControl;this.wrappers.type=t.find(".brtc-etl-param-type"),this.wrappers.query=t.find(".brtc-etl-param-query"),this.wrappers["item-row"]=t.find(".brtc-etl-param-items-row"),this.wrappers["item-selector-item-row"]=t.find(".brtc-etl-param-item-selector-item-row"),this.wrappers.format=t.find(".brtc-etl-param-format"),this.wrappers["date-time-input-type"]=t.find(".brtc-etl-param-date-time-input-type"),this.wrappers["to-id"]=t.find(".brtc-etl-param-to-id"),this.wrappers.duration=t.find(".brtc-etl-param-duration"),this.wrappers["input-type"]=t.find(".brtc-etl-param-input-type"),this.hiddenWrappers=[this.wrappers.type,this.wrappers.query,this.wrappers["item-row"],this.wrappers["item-selector-item-row"],this.wrappers.format,this.wrappers["date-time-input-type"],this.wrappers["to-id"],this.wrappers.duration,this.wrappers["input-type"]]},i.prototype._createContents=function(t){this.itemLabelControlList=[],this.itemValueControlList=[],this.itemSelectorItemControlList=[],this.durationRows=[],this.durationRowCount=0,this.$mainControl=$('<div class="brtc-etl-param" expanded="true">   <div class="brtc-etl-chevron">       <i class="fa fa-chevron-down" aria-hidden="true"></i>       <i class="fa fa-chevron-right" aria-hidden="true"></i>   </div>   <div class="brtc-etl-remove"><i class="fa fa-times" aria-hidden="true"></i></div>   <div>       <span>${</span><input type="text" class="brtc-etl-param-id-input"/><span>}</span>   </div>   <div>       <div class="brtc-etl-param-label">Label</div>       <input type="text" class="brtc-etl-param-label-input brtc-flex-grow-one"/>   </div>   <div>       <div class="brtc-etl-param-control">Control</div>       <div class="brtc-etl-param-control-input brtc-flex-grow-one"></div>   </div>   <div class="brtc-etl-param-input-type">       <div class="brtc-etl-param-type-header">Input Type</div>       <div class="brtc-etl-param-type-input brtc-flex-grow-one"></div>   </div>   <div class="brtc-etl-param-type">       <div class="brtc-etl-param-type-header">Type</div>       <div class="brtc-etl-param-type-input brtc-flex-grow-one"></div>   </div>   <div class="brtc-etl-param-query">       <div class="brtc-etl-param-query-header">Query</div>       <div class="brtc-flex-grow-one">           <div class="brtc-etl-param-query-input"></div>           <div class="brtc-etl-param-query-example"></div>       </div>   </div>   <div class="brtc-etl-param-items-row">       <div class="brtc-etl-param-item">Item(s)</div>       <div class="brtc-etl-param-item-container">           <div class="brtc-etl-param-item-container-wrapper">               <div class="brtc-etl-param-item-input-row">                   <input type="text" class="brtc-etl-gen-item-label-input brtc-flex-grow-one"/>                   <input type="text" class="brtc-etl-gen-item-value-input brtc-flex-grow-one"/>               </div>               <div class="brtc-etl-param-item-add-button"></div>           </div>       </div>   </div>   <div class="brtc-etl-param-item-selector-item-row">       <div class="brtc-etl-param-item-selector-item">Item(s)</div>       <div class="brtc-etl-param-item-selector-item-container">           <div class="brtc-etl-param-item-selector-item-container-wrapper">               <div class="brtc-etl-param-item-selector-item-input-row">                   <input type="text" class="brtc-etl-gen-item-selector-item-input brtc-flex-grow-one"/>               </div>               <div class="brtc-etl-param-item-selector-item-add-button"></div>           </div>       </div>   </div>   <div class="brtc-etl-param-format">       <div class="brtc-etl-param-format-header">Format</div>       <input type="text" class="brtc-etl-param-format-input brtc-flex-grow-one"/>   </div>   <div class="brtc-etl-param-date-time-input-type">       <div class="brtc-etl-param-date-time-input-type-header">Type</div>       <div type="text" class="brtc-etl-param-date-time-input-type-input brtc-flex-grow-one"></div>   </div>   <div class="brtc-etl-param-to-id">       <span>${</span><input type="text" class="brtc-etl-param-to-id-input"/><span>}</span>   </div>   <div class="brtc-etl-param-duration">       <div class="brtc-etl-param-duration-header">Duration</div>       <div class="brtc-etl-param-duration-row-container">           <div class="brtc-etl-param-duration-row-container-wrapper">               <div class="brtc-etl-gen-button"></div>           </div>       </div>   </div></div>'),t.append(this.$mainControl),this.$mainControl.data("ParamSpecGenerator",this),this._createExpandControl(this.$mainControl.find(".brtc-etl-chevron")),this._createRemoveControl(this.$mainControl.find(".brtc-etl-remove"));var e=this.$mainControl;this._createIDControl(e.find(".brtc-etl-param-id-input")),this._createLabelControl(e.find(".brtc-etl-param-label-input")),this._createWidgetSelectControl(e.find(".brtc-etl-param-control-input")),this._createQueryControl(e.find(".brtc-etl-param-query-input")),this._createItemControl(e.find(".brtc-etl-param-item-input-row"),e.find(".brtc-etl-param-item-add-button")),this._createItemSelectorItemControl(e.find(".brtc-etl-param-item-selector-item-input-row"),e.find(".brtc-etl-param-item-selector-item-add-button")),this._createFormatControl(e.find(".brtc-etl-param-format-input")),this._createToIDControl(e.find(".brtc-etl-param-to-id-input")),this._createDurationControl(e.find(".brtc-etl-gen-button")),this._createInputTypeControl(e.find(".brtc-etl-param-input-type").find(".brtc-etl-param-type-input"),r),this._createTypeControl(e.find(".brtc-etl-param-type").find(".brtc-etl-param-type-input"),a),this._createDateTimeInputTypeControl(e.find(".brtc-etl-param-date-time-input-type-input"),o),this._initWrappers(),this._hideWrappers()},i.prototype._hideWrappers=function(){var t=this;t.hiddenWrappers.forEach(function(e){t._hideWrapper(e)})},i.prototype._createExpandControl=function(t){var e=this;t.click(function(){"true"===e.$mainControl.attr("expanded")?e.$mainControl.attr("expanded","false"):e.$mainControl.attr("expanded","true")})},i.prototype._createRemoveControl=function(t){var e=this;t.click(function(){e.$mainControl.remove()})},i.prototype._createIDControl=function(t){return this.$id=t.jqxInput({theme:"office",placeHolder:"Enter a ID",height:30}),t},i.prototype._createToIDControl=function(t){return this.$toId=t.jqxInput({theme:"office",placeHolder:"Enter a To ID",height:30}),t},i.prototype._getId=function(){return"${"+this.$id.val().trim()+"}"},i.prototype._getTrimId=function(){return this.$id.val().trim()},i.prototype._createLabelControl=function(t){return this.$label=t.jqxInput({theme:"office",placeHolder:"Enter a Label",height:30}),t},i.prototype._getLabel=function(){return this.$label.val()},i.prototype._createTypeControl=function(t,e){var r=this;return this.$type=t.jqxDropDownList({source:e,theme:"office",placeHolder:"Choose a Type",height:30,itemHeight:30,dropDownHeight:125}),this.$type.on("change",function(t){if(r._hideWrapper(r.wrappers["item-row"]),r._hideWrapper(r.wrappers["item-selector-item-row"]),r._hideWrapper(r.wrappers.query),-1!==t.args.index){var e=t.args.item.value;"SQL"===e?(r._showWrapper(r.wrappers.query),r.queryEditor.renderer.updateFull(),r.$mainControl.find("brtc-etl-param-query-example").text("ex)\nSELECT id FROM table WHERE type in (${TYPE})\n※ Variable used in this query must be set in upward.")):"Items"===e&&("DropDownList"===r.$widget.val()?r._showWrapper(r.wrappers["item-row"]):r._showWrapper(r.wrappers["item-selector-item-row"]))}}),t},i.prototype._createDateTimeInputTypeControl=function(t,e){var r=this;return this.$dateTimeInputType=t.jqxDropDownList({source:e,theme:"office",placeHolder:"Choose a Type",height:30,itemHeight:30,dropDownHeight:125,selectedIndex:0}),this.$dateTimeInputType.on("change",function(t){var e=t.args.item.value;"Single"===e?(r._hideWrapper(r.wrappers["to-id"]),r._hideWrapper(r.wrappers.duration)):"Range"===e&&(r._showWrapper(r.wrappers["to-id"]),r._showWrapper(r.wrappers.duration))}),t},i.prototype._hideWrapper=function(t){t.addClass("brtc-etl-param-invisible")},i.prototype._showWrapper=function(t){t.removeClass("brtc-etl-param-invisible")},i.prototype._createInputTypeControl=function(t,e){return this.$inputType=t.jqxDropDownList({source:e,theme:"office",placeHolder:"Choose a Input Type",height:30,itemHeight:30,dropDownHeight:125}),t},i.prototype._getType=function(){return"ItemSelector"===this.$widget.val()?"Array":this.$type?this.$type.val():void 0},i.prototype._getInputType=function(){return this.$inputType?this.$inputType.val():void 0},i.prototype._createWidgetSelectControl=function(t){var r=this;return this.$widget=t.jqxDropDownList({source:e,theme:"office",placeHolder:"Choose a Control",height:30,itemHeight:30,dropDownHeight:125}),this.$widget.on("change",function(t){var e=t.args.item.value;r.selectedControl=e,r._hideWrappers(),r.$type.jqxDropDownList("selectIndex",-1),"DateTimeInput"===e?(r._showWrapper(r.wrappers["date-time-input-type"]),r._showWrapper(r.wrappers.format),"Range"===r.$dateTimeInputType.val()&&(r._showWrapper(r.wrappers["to-id"]),r._showWrapper(r.wrappers.duration))):(r._showWrapper(r.wrappers["input-type"]),r.$inputType.jqxDropDownList("removeItem","String(Non-Quotation)"),"ItemSelector"===e||"DropDownList"===e?("DropDownList"===e&&r.$inputType.jqxDropDownList("addItem","String(Non-Quotation)"),r._showWrapper(r.wrappers.type)):"CheckBox"!==e&&"RadioButton"!==e||r._showWrapper(r.wrappers["item-row"]))}),t},i.prototype._getShowTimeButton=function(){for(var t=this.$format.val(),e=0;e<"HhmSs".length;++e)if(-1!==t.indexOf("HhmSs"[e]))return!0;return!1},i.prototype._getWidget=function(){var t={type:this.$widget.val(),options:{},value:{}};return"InputBox"===t.type?"Integer"===this._getInputType()?t.options.numberType="int":"Double"===this._getInputType()&&(t.options.numberType="double"):"DropDownList"===t.type?(t.itemType=this.$type.val(),"Items"===t.itemType?t.options.source=this._getItem():(t["sql-id"]=this._getCondSqlId(),t.items=this._getQuery(),t.condSqlId=this._getCondSqlId()),t.options.displayMember="label",t.options.valueMember="value"):"CheckBox"===t.type?t.options.items=this._getItem():"RadioButton"===t.type?(t.options.groupName=this._getId(),t.options.items=this._getItem()):"DateTimeInput"===t.type?(t.options.showTimeButton=this._getShowTimeButton(),t.options.type=this.$mainControl.find(".brtc-etl-param-date-time-input-type-input").val(),t.options.source=this.durationRows.map(function(t){return{label:t.label.val(),input:t.input.val()}}),t.value.format=this._getFormat().format):"ItemSelector"===t.type&&(t.options.multiple=!this._getMultiple||"function"!=typeof this._getMultiple||this._getMultiple(),t.options.maxRowCount=this._getRowCount&&"function"==typeof this._getRowCount?this._getRowCount():3,t.itemType=this.$type.val(),"SQL"===t.itemType?(t["sql-id"]=this._getCondSqlId(),t.items=this._getQuery(),t.condSqlId=this._getCondSqlId()):t.items=this._getItemSelectorItem()),t},i.prototype._createQueryControl=function(t){return t.attr("id","brtc-etl-param-query-"+Date.now()),this.queryEditor=ace.edit(t.attr("id")),this.queryEditor.setOptions({enableBasicAutocompletion:!0,minLines:3,maxLines:10}),this.queryEditor.setTheme("ace/theme/monokai"),this.queryEditor.getSession().setMode("ace/mode/sql"),t},i.prototype._getQuery=function(){return this.queryEditor.getSession().getValue()},i.prototype._getCondSqlId=function(){if(this.condSqlId||""!==this._getId())return this.condSqlId||""===this._getId()?this.options.func!==this.jdbcFuncId?(this.options.func=this.jdbcFuncId,this.condSqlId=t.Tools.IDGenerator.sql.condition_id(this.options.func,this._getTrimId())):this.condSqlId:this.condSqlId=t.Tools.IDGenerator.sql.condition_id(this.options.func,this._getTrimId())},i.prototype._createDurationControl=function(t){var e=this;return t.click(function(t){e._createDurationRow(e.$mainControl.find(".brtc-etl-param-duration-row-container"))}),t},i.prototype._createItemControl=function(t,e){var r=this,a=t.find(".brtc-etl-gen-item-label-input").jqxInput({theme:"office",placeHolder:"Enter a Label",height:30});this.itemLabelControlList.push(a);var o=t.find(".brtc-etl-gen-item-value-input").jqxInput({theme:"office",placeHolder:"Enter a Value",height:30});this.itemValueControlList.push(o),e.click(function(){r._createItemRow(r.$mainControl.find(".brtc-etl-param-item-container"))})},i.prototype._createDurationRow=function(t){var e=this;if(!(e.durationRows.length>=3)){var r=$('<div class="brtc-etl-param-duration-row-container-wrapper">   <div class="brtc-etl-param-duration-input-row">       <input type="text" class="duration-label brtc-flex-grow-one"/>       <input type="text" class="duration-input brtc-flex-grow-one"/>   </div>   <div class="remove-btn brtc-etl-btn brtc-etl-remove-btn"></div></div>');t.append(r);var a,o=r.find(".duration-label").jqxInput({theme:"office",placeHolder:"Enter a Label",height:30}),i=r.find(".duration-input").jqxInput({theme:"office",placeHolder:"Enter a Duration ex)30",height:30});e.durationRows.push({id:++e.durationRowCount,label:o,input:i}),r.find(".remove-btn").click((a=e.durationRowCount,function(t){e.durationRows=e.durationRows.filter(function(t){return t.id!==a}),r.remove()}))}},i.prototype._createItemRow=function(t){var e=this,r=$('<div class="brtc-etl-param-item-container-wrapper">   <div class="brtc-etl-param-item-input-row">       <input type="text" class="brtc-etl-gen-item-label-input brtc-flex-grow-one"/>       <input type="text" class="brtc-etl-gen-item-value-input brtc-flex-grow-one"/>   </div><div class="brtc-etl-param-item-remove-button"></div></div>');t.append(r);var a=r.find(".brtc-etl-gen-item-label-input").jqxInput({theme:"office",placeHolder:"Enter a Label",height:30});this.itemLabelControlList.push(a);var o=r.find(".brtc-etl-gen-item-value-input").jqxInput({theme:"office",placeHolder:"Enter a Value",height:30});this.itemValueControlList.push(o),r.find(".brtc-etl-param-item-remove-button").click(function(){e.itemLabelControlList.splice(e.itemLabelControlList.indexOf(a),1),e.itemValueControlList.splice(e.itemValueControlList.indexOf(o),1),r.remove()})},i.prototype._getItem=function(){var t=[];for(var e in this.itemLabelControlList){var r=this.itemValueControlList[e].val();"Integer"!==this._getInputType()&&"Double"!==this._getInputType()||(r=Number(r)),this.itemLabelControlList[e]&&this.itemValueControlList[e]&&t.push({label:this.itemLabelControlList[e].val(),value:r})}return t},i.prototype._createItemSelectorItemControl=function(t,e){var r=this,a=t.find(".brtc-etl-gen-item-selector-item-input").jqxInput({theme:"office",placeHolder:"Enter a Item",height:30});return this.itemSelectorItemControlList.push(a),e.click(function(){r._createItemSelectorItemRow(r.$mainControl.find(".brtc-etl-param-item-selector-item-container"))}),t},i.prototype._createItemSelectorItemRow=function(t){var e=this,r=$('<div class="brtc-etl-param-item-selector-item-container-wrapper">   <div class="brtc-etl-param-item-selector-item-input-row">       <input type="text" class="brtc-etl-gen-item-selector-item-input brtc-flex-grow-one"/>   </div><div class="brtc-etl-param-item-selector-item-remove-button"></div></div>');t.append(r);var a=r.find(".brtc-etl-gen-item-selector-item-input").jqxInput({theme:"office",placeHolder:"Enter a Item",height:30});this.itemSelectorItemControlList.push(a),r.find(".brtc-etl-param-item-selector-item-remove-button").click(function(){e.itemSelectorItemControlList.splice(e.itemSelectorItemControlList.indexOf(a),1),r.remove()})},i.prototype._getItemSelectorItem=function(){var t=[];for(var e in this.itemSelectorItemControlList)this.itemSelectorItemControlList[e]&&("Integer"==this._getInputType()||"Double"==this._getInputType()?t.push({item:Number(this.itemSelectorItemControlList[e].val())}):t.push({item:this.itemSelectorItemControlList[e].val()}));return t},i.prototype._createFormatControl=function(t){return this.$format=t.jqxInput({theme:"office",placeHolder:"Enter DateTime Format. ex) YYYY-MM-DD HH:mm:ss",height:30}),t},i.prototype._getFormat=function(){return{format:this.$format.val()}},i.prototype._getDateTimeInputRangeSpec=function(){return[{param:this._getTrimId(),label:this._getLabel(),type:"Date",control:{type:"DateTimeInput",options:{showTimeButton:this._getShowTimeButton(),type:"Range",source:this._getWidget().options.source},value:{format:this.$format.val()}},toRef:this.$toId.val(),mandatory:!0},{param:this.$toId.val(),type:"Date",control:{type:"DateTimeInputRef"}}]},i.prototype.buildSpec=function(t){var e=[];if(this.jdbcFuncId=t,"DateTimeInput"===this._getWidget().type&&"Range"===this.$dateTimeInputType.val())e=this._getDateTimeInputRangeSpec();else{var r={param:this._getTrimId(),label:this._getLabel(),type:this._getType(),control:this._getWidget(),inputType:this._getInputType(),mandatory:!0};e.push(r)}return e},i.prototype.save=function(){var t,e=this._getWidget();return"DateTimeInput"===e.type&&"Range"===this.$dateTimeInputType.val()?t={id:this._getId(),label:this._getLabel(),control:e.type,dateType:"Range",format:this.$format.val(),toProp:{id:this.$toId.val()},items:this.durationRows.map(function(t){return{label:t.label.val(),input:t.input.val()}})}:((t={id:this._getId(),label:this._getLabel(),control:this._getWidget().type,inputType:this._getInputType(),type:"",items:""}).type=this._getWidget().itemType,"SQL"===t.type?(t.items=this._getQuery(),t.condSqlId=this._getCondSqlId()):"ItemSelector"===t.control?t.items=this._getItemSelectorItem():"DateTimeInput"===t.control?t.items=this.$format.val():t.items=this._getItem()),t},i.prototype._getDurationRows=function(){for(var t=[],e=0;e<this.durationRows.length;++e){var r=this.durationRows[e];t.push({label:r.label.val(),input:r.input.val()})}return t},i.prototype.getSqlContents=function(t,e){if(t){var r={url:"jdbcloader/"+t,type:"GET",contentType:"application/json; charset=utf-8",blocking:!1};$.ajax(r).done(function(t){e&&e(t.sql)}).fail(function(r){console.error("[ERROR] "+t+" : Query not exsits in database."),e()})}else e()},i.prototype._reconDurationRows=function(t){for(var e=0;e<t.length;++e)this._createDurationRow(this.$mainControl.find(".brtc-etl-param-duration-row-container")),this.durationRows[e].label.val(t[e].label),this.durationRows[e].input.val(t[e].input)},i.prototype.open=function(t,e){var r=this;this.$id.val(t.id.substring(2,t.id.length-1)),this.jdbcFuncId=e,this.$label.val(t.label),this.$widget.val(t.control),t.inputType&&this.$inputType.val(t.inputType),t.type&&this.$type.val(t.type),"InputBox"!==t.control&&("SQL"===t.type?(this.getSqlContents(t.condSqlId,function(e){r.queryEditor.getSession().setValue(e||t.items)}),this.condSqlId=t.condSqlId):"ItemSelector"===t.control?t.items.forEach(function(t,e){e>0&&r._createItemSelectorItemRow(r.$mainControl.find(".brtc-etl-param-item-selector-item-container")),r.itemSelectorItemControlList[e].val(t.item)}):"DateTimeInput"===t.control?"Range"===t.dateType?(this.$format.val(t.format),this.$dateTimeInputType.val("Range"),this.$toId.val(t.toProp.id),this._reconDurationRows(t.items)):(this.$format.val(t.items),this.$dateTimeInputType.val("Single")):t.items.forEach(function(t,e){e>0&&r._createItemRow(r.$mainControl.find(".brtc-etl-param-item-container")),r.itemLabelControlList[e].val(t.label),r.itemValueControlList[e].val(t.value)}))},t.Tools.Extractor.ParamSpecGenerator=i}.call(this),function(){"use strict";var t=this.Brightics,e=function(t){var e=t.replace(/\$|\{|\}/g,"").replace(/-([a-z])/g,function(t){return t[1].toUpperCase()});return e.charAt(0).toUpperCase()+e.slice(1)},r=function(t,r){var a=[];for(var o in a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),r.control.options.items)a.push("    _this.$elements['"+r.param+"."+r.control.options.items[o].value+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-radiobutton\">"+r.control.options.items[o].label+"</div>');");for(var o in a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push(" "),r.control.options.items){var i=r.param+"."+r.control.options.items[o].value;a.push("        $container.append(_this.$elements['"+i+"']);"),a.push("        _this.controls['"+i+"'] = _this.createRadioButton(_this.$elements['"+i+"'], {groupName: '"+r.control.options.groupName+"'});"),a.push("        _this.$elements['"+i+"'].on('checked', function (event) {"),"Integer"===r.inputType||"Double"===r.inputType?a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', Number('"+r.control.options.items[o].value+"'));"):a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', '"+r.control.options.items[o].value+"');"),a.push("            _this.executeCommand(command);"),a.push("            _this.changeCallback('"+r.param+"');"),a.push("        });"),a.push(" ")}return a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},a=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),"API"===r.type&&(a.push("    var source = {"),a.push("        datatype: '"+r.control.options.source.datatype+"',"),a.push("        datafields: "+JSON.stringify(r.control.options.source.datafields)+","),a.push("        url: '"+r.control.options.source.url+"',"),a.push("        async: "+r.control.options.source.async),a.push("    }"),a.push("    var dataAdapter = new $.jqx.dataAdapter(source);")),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-combobox\"/>');"),a.push("    var "+r.param+"Control = _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push(" "),a.push("        $container.append(_this.$elements['"+r.param+"']);"),"API"===r.type?(a.push("        var opt = {"),a.push("            source:dataAdapter,"),a.push("            displayMember: 'datasourceName',"),a.push("            valueMember: 'datasourceName',"),a.push("            placeHolder: 'Select DataSource'"),a.push("         };"),a.push("         _this.$elements['"+r.param+"'].on('bindingComplete', function (event) {"),a.push("            _this.setContentsEditable(true);"),a.push("         });")):a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        _this.controls['"+r.param+"'] = _this.createDropDownList(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.controls['"+r.param+"'].on('change', function (event) {"),"Integer"===r.inputType||"Double"===r.inputType?r.dataSourceParam?a.push("            var command = _this.createSetDataSourceParamValueJdbcLoaderCommand('"+r.param+"', Number(event.args.item.value));"):a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', Number(event.args.item.value));"):"String(Non-Quotation)"==r.inputType?r.dataSourceParam?a.push("            var command = _this.createSetDataSourceParamValueJdbcLoaderCommand('"+r.param+"', {quote: false, value : event.args.item.value});"):a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', {quote: false, value : event.args.item.value});"):r.dataSourceParam?a.push("            var command = _this.createSetDataSourceParamValueJdbcLoaderCommand('"+r.param+"', event.args.item.value);"):a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', event.args.item.value);"),a.push("            _this.executeCommand(command);"),a.push("            _this.changeCallback('"+r.param+"');"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push(" "),void 0===r.visible||r.visible||a.push("   "+r.param+"Control.hide()"),a.push("};"),a.push(" "),a},o=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-checkbox-container\"></div>');"),a.push('    var $selectAllButton = $(\'<input type="button" value="Select All" style="width: 100%; float:left; margin-left: 0px;"/>\');'),a.push('    var $clearAllButton = $(\'<input type="button" value="Unselect All" style="width: 100%; float:left; margin-left: 2px; margin-bottom: 2px;"/>\');'),a.push("    _this.$elements['"+r.param+"'].append($selectAllButton);"),a.push("    _this.$elements['"+r.param+"'].append($clearAllButton);"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        _this.createButton($selectAllButton, {height: 23}, 'brtc-va-editors-sheet-controls-width-6');"),a.push("        _this.createButton($clearAllButton, {height: 23}, 'brtc-va-editors-sheet-controls-width-6');"),a.push(""),a.push("        var items = "+JSON.stringify(r.control.options.items)+";"),a.push("        var itemKey;"),a.push("        var changeHandler = function () {"),a.push("            $(window).trigger('mousedown');"),a.push("            var checked = [];"),a.push("            for (var i in items) {"),a.push("                itemKey = '"+r.param+".' + items[i].value;"),a.push("                if (_this.$elements[itemKey].val() === true) {"),a.push("                    checked.push(_this.$elements[itemKey].data('tag'));"),a.push("                }"),a.push("            }"),a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', checked);"),a.push("            _this.executeCommand(command);"),a.push("            _this.changeCallback('"+r.param+"');"),a.push("        };"),a.push("        for (var i in items) {"),a.push("            itemKey = '"+r.param+".' + items[i].value;"),a.push("            _this.$elements[itemKey] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-checkbox\"></div>');"),a.push("            _this.$elements[itemKey].text(items[i].label);"),a.push("            _this.$elements[itemKey].data('tag', items[i].value);"),a.push("            _this.$elements['"+r.param+"'].append(_this.$elements[itemKey]);"),a.push("            _this.controls[itemKey] = _this.createCheckBox(_this.$elements[itemKey], {}, 'brtc-va-editors-sheet-controls-width-12')"),a.push("            _this.$elements[itemKey].on('change', changeHandler);"),a.push("        }"),a.push("        $selectAllButton.on('click', function (event) {"),a.push("            for (var i in items) {"),a.push("                itemKey = '"+r.param+".' + items[i].value;"),a.push("                _this.$elements[itemKey].off('change', changeHandler);"),a.push("                _this.$elements[itemKey].jqxCheckBox({checked: true});"),a.push("                _this.$elements[itemKey].on('change', changeHandler);"),a.push("            }"),a.push("            var checked = [];"),a.push("            for (var i in items) {"),a.push("                itemKey = '"+r.param+".' + items[i].value;"),a.push("                checked.push(_this.$elements[itemKey].data('tag'));"),a.push("            }"),a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', checked);"),a.push("            _this.executeCommand(command);"),a.push("            _this.changeCallback('"+r.param+"');"),a.push("        });"),a.push("        $clearAllButton.on('click', function (event) {"),a.push("            for (var i in items) {"),a.push("                itemKey = '"+r.param+".' + items[i].value;"),a.push("                _this.$elements[itemKey].off('change', changeHandler);"),a.push("                _this.$elements[itemKey].jqxCheckBox({checked: false});"),a.push("                _this.$elements[itemKey].on('change', changeHandler);"),a.push("            }"),a.push("            var checked = [];"),a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', checked);"),a.push("            _this.executeCommand(command);"),a.push("            _this.changeCallback('"+r.param+"');"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},i=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+'\'] = $(\'<input type="text" class="brtc-va-editors-sheet-controls-propertycontrol-input"/>\');'),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        _this.controls['"+r.param+"'] = _this.createInput(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.$elements['"+r.param+"'].on('change', function (event) {"),a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', $(this).val());"),a.push("            _this.executeCommand(command);"),a.push("            _this.changeCallback('"+r.param+"');"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},n=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-date\"></div>');"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = {showTimeButton : "+r.control.options.showTimeButton+"};"),a.push("        _this.controls['"+r.param+"'] = _this.createDateTimePickerControl(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.$elements['"+r.param+"'].on('valueChanged', function (event) {"),a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', moment(event.args.date).format('"+r.control.value.format+"'));"),a.push("            _this.executeCommand(command);"),a.push("            _this.changeCallback('"+r.param+"');"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},s=function(t,r,a){var o=[];o.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),o.push("    var _this = this;"),o.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-from-picker\"></div>');"),o.push("    _this.$elements['"+a.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-from-picker\"></div>');"),o.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),o.push("        var opt = {"),o.push("            showTimeButton: "+r.control.options.showTimeButton+","),o.push("            formatString: '"+function(t){for(var e={Y:"y",M:"M",D:"d",H:"H",h:"h",m:"m",s:"s"},r=t.split(""),a=0;a<r.length;++a)e[r[a]]&&(r[a]=e[r[a]]);return r.join("")}(r.control.value.format)+"'"),o.push("        };"),o.push("        $container.append(_this.$elements['"+r.param+"']);"),o.push("        var $tilde = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-tilde\">~</div>');"),o.push("        $container.append($tilde);"),o.push("        $container.append(_this.$elements['"+a.param+"']);"),o.push("        _this.createDateTimePickerControl(_this.$elements['"+r.param+"'], opt, 'brtc-va-editors-sheet-controls-width-12');"),o.push("        _this.createDateTimePickerControl(_this.$elements['"+a.param+"'], opt, 'brtc-va-editors-sheet-controls-width-11');"),o.push("        _this.createTildeControl($tilde, 'brtc-va-editors-sheet-controls-width-1',  'clear: both');"),o.push("        _this.$elements['"+r.param+"'].on('valueChanged', function (event) {"),o.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', moment(event.args.date).format('"+r.control.value.format+"'));"),o.push("            _this.executeCommand(command);"),o.push("            _this.changeCallback('"+r.param+"');"),o.push("        });"),o.push("        _this.$elements['"+a.param+"'].on('valueChanged', function (event) {"),o.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+a.param+"', moment(event.args.date).format('"+r.control.value.format+"'));"),o.push("            _this.executeCommand(command);"),o.push("            _this.changeCallback('"+a.param+"');"),o.push("        });"),o.push("        var btns = [];");for(var i="brtc-va-editors-sheet-controls-width-"+12/(r.control.options.source.length+1),n=0;n<r.control.options.source.length;++n){var s=r.control.options.source[n];o.push('        btns.push($(\'<input type="button" value="'+s.label+"\"/>'));"),o.push("        $container.append(btns["+n+"]);"),o.push("        _this.createButton(btns["+n+"], {height: \"22px\", width: '100%'}, '"+i+"');"),o.push("        btns["+n+"].click(function() {"),o.push("            _this.$elements['"+r.param+"'].val(new Date(moment(_this.$elements['"+a.param+"'].val(), '"+r.control.value.format+"').subtract("+s.input+", 'days')));"),o.push("        });")}return o.push("        var $input = $('<input type=\"text\"/>');"),o.push("        $container.append($input);"),o.push("        _this.createInput($input, {height: \"20px\", width: '75%'}, '"+i+"');"),o.push("        $input.on('keypress', function(event) {"),o.push("            if (event.which === 13) {"),o.push("                event.preventDefault();"),o.push("               _this.$elements['"+r.param+"'].val(new Date(moment(_this.$elements['"+a.param+"'].val(), '"+r.control.value.format+"').add($input.val(), 'days')));"),o.push("          }"),o.push("      });"),o.push(""),o.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),o.push("};"),o.push(""),o.push("__clazz__Properties.prototype.create"+e(a.param)+"Control = function ($parent) {};"),o.push(" "),o},p=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-textareacontrol\"/>');"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        _this.controls['"+r.param+"'] = _this.createTextArea(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.$elements['"+r.param+"'].on('change', function (event) {"),a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', $(this).val().split('\\n'));"),a.push("            _this.executeCommand(command);"),a.push("            _this.changeCallback('"+r.param+"');"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},l=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-widget-controls-propertycontrol-itemlist\"/>');"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        opt.changed = function (type, data) {"),a.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+r.param+"', data.items);"),a.push("            _this.executeCommand(command);"),a.push("            _this.changeCallback('"+r.param+"');"),a.push("        }"),a.push("        _this.controls['"+r.param+"'] = _this.createItemList(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.controls['"+r.param+"'].setItems([]);"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},c=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['sql']['condition']['"+r.param+"'];"),a.push("    _this.controls['"+r.param+"'].setValue(val || '');"),a.push("};"),a.push(" "),a},u=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['sql']['condition']['"+r.param+"'];"),a.push("    var key = '"+r.param+".' + val;"),a.push("    if (_this.$elements[key]) {"),a.push("        _this.$elements[key].jqxRadioButton('check');"),a.push("    }"),a.push("};"),a.push(" "),a},h=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var values = _this.options.fnUnit['param']['sql']['condition']['"+r.param+"'];"),a.push("    var items = "+JSON.stringify(r.control.options.items)+";"),a.push("    var itemKey;"),a.push("    for (var i in items) {"),a.push("        itemKey = '"+r.param+".' + items[i].value;"),a.push("        if ($.inArray(_this.$elements[itemKey].data('tag'), values) > -1) {"),a.push("            _this.$elements[itemKey].jqxCheckBox({checked: true});"),a.push("        } else {"),a.push("            _this.$elements[itemKey].jqxCheckBox({checked: false});"),a.push("        }"),a.push("    }"),a.push("};"),a.push(" "),a},m=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['sql']['condition']['"+r.param+"'];"),a.push("    _this.$elements['"+r.param+"'].val(val || '');"),a.push("};"),a.push(" "),a},d=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['sql']['condition']['"+r.param+"'];"),a.push("    _this.$elements['"+r.param+"'].jqxDateTimeInput('val', val);"),a.push("};"),a.push(" "),a},v=function(t,e,r){var a=d(0,e);return a=a.concat(d(0,r))},f=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),r.dataSourceParam?a.push("    var val = _this.options.fnUnit['param']['datasource']['"+r.param+"'];"):a.push("    var val = _this.options.fnUnit['param']['sql']['condition']['"+r.param+"'];"),a.push("    if (typeof val === 'undefined' || val === '') {"),a.push("        _this.$elements['"+r.param+"'].jqxDropDownList({selectedIndex: -1});"),a.push("    } else if(typeof val.quote !='undefined'){"),a.push("        _this.$elements['"+r.param+"'].jqxDropDownList('selectItem', val.value);"),a.push("    } else {"),a.push("        _this.$elements['"+r.param+"'].jqxDropDownList('selectItem', val);"),a.push("    }"),a.push("};"),a.push(" "),a},_=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['sql']['condition']['"+r.param+"'];"),a.push("    var text = val.join('\\n');"),a.push("    _this.$elements['"+r.param+"'].val(text || '');"),a.push("};"),a.push(" "),a},y=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var items = _this.options.fnUnit['param']['sql']['condition']['"+r.param+"'];"),a.push("    _this.controls['"+r.param+"'].setSelectedItems(items);"),a.push("};"),a.push(" "),a},g=function(t,r){var a=[];if(a.push("__clazz__Properties.prototype.fill"+e(r.param)+"Control = function (changedParam) {"),a.push("    var _this = this;"),r.control.items){var o=r.control.items.match(/\$\{([^}]+)\}/g)||[];for(var i in o)o[i]=o[i].replace(/\$|\{|\}/g,"");a.push("    var options = {};"),a.push("    options.datasourceName = _this.$elements['datasourceName'].val();"),a.push("    var sqlParams = "+JSON.stringify(o||[])+";"),a.push("    var dataFlag = false;"),a.push("    if (changedParam === 'datasourceName') {"),a.push("        dataFlag = true;"),a.push("     }"),a.push("    var sqlParams = "+JSON.stringify(o||[])+";"),a.push("    if (sqlParams.length > 0) {"),a.push("        if ($.inArray(changedParam, sqlParams) !== -1) {"),a.push("            var noDataFlag = false;"),a.push("            for (var i in sqlParams) {"),a.push("                if (!_this.options.fnUnit['param']['sql']['condition'][sqlParams[i]]) {"),a.push("                    noDataFlag = true;"),a.push("                    break;"),a.push("                }"),a.push("                options[sqlParams[i]] = _this.options.fnUnit['param']['sql']['condition'][sqlParams[i]];"),a.push("            }"),a.push("            if(!noDataFlag) _this.getQueryResult(_this.controls['"+r.param+"'], '"+r.control["sql-id"]+"', options, '"+r.control.type+"', '"+r.control.type+"');"),a.push("        }"),a.push("    } else {"),a.push("        if (dataFlag) {"),a.push("            _this.getQueryResult(_this.controls['"+r.param+"'], '"+r.control["sql-id"]+"', options, '"+r.control.type+"', '"+r.control.type+"');"),a.push("        }"),a.push("    }")}return a.push("};"),a.push(" "),a},b=function(t,r){var a=[];if(a.push("__clazz__Properties.prototype.fill"+e(r.param)+"Control = function (changedParam) {"),a.push("    var _this = this;"),a.push("    "),r.control.items){var o=r.control.items.match(/\$\{([^}]+)\}/g)||[];for(var i in o)o[i]=o[i].replace(/\$|\{|\}/g,"");a.push("    var options = {};"),a.push("    options.datasourceName = _this.$elements['datasourceName'].val();"),a.push("    var sqlParams = "+JSON.stringify(o||[])+";"),a.push("    var dataFlag = false;"),a.push("    if (changedParam === 'datasourceName') {"),a.push("        dataFlag = true;"),a.push("     }"),a.push("    if (sqlParams.length > 0) {"),a.push("        if ($.inArray(changedParam, sqlParams) !== -1) {"),a.push("            var noDataFlag = false;"),a.push("            for (var i in sqlParams) {"),a.push("                if (!_this.options.fnUnit['param']['sql']['condition'][sqlParams[i]] || _this.options.fnUnit['param']['sql']['condition'][sqlParams[i]].length == 0) {"),a.push("                    noDataFlag = true;"),a.push("                    break;"),a.push("                }"),a.push("                options[sqlParams[i]] = _this.options.fnUnit['param']['sql']['condition'][sqlParams[i]];"),a.push("            }"),a.push("            if(!noDataFlag) _this.getQueryResult(_this.controls['"+r.param+"'], '"+r.control["sql-id"]+"', options, '"+r.control.type+"', '"+r.inputType+"');"),a.push("            else _this.controls['"+r.param+"'].setItems([]);"),a.push("        }"),a.push("    } else {"),a.push("        if (dataFlag) {"),a.push("            _this.getQueryResult(_this.controls['"+r.param+"'], '"+r.control["sql-id"]+"', options, '"+r.control.type+"', '"+r.inputType+"');"),a.push("    } "),a.push("  } ")}return a.push("};"),a.push(" "),a},C={build:function(t){t.defaultFnUnit;var C=t["properties-layout"],w=[];w.push("/**************************************************************************"),w.push(" *                           Properties Panel                              "),w.push(" *");var I=JSON.stringify(C,null,4).split("\n");for(var x in I)w.push(" * "+I[x]);w.push(" *************************************************************************/");var S=["function __clazz__Properties(parentId, options) {","    Brightics.VA.Core.Editors.Sheet.Panels.DistributedJdbcLoaderProperties.call(this, parentId, options);","}","","__clazz__Properties.prototype = Object.create(Brightics.VA.Core.Editors.Sheet.Panels.DistributedJdbcLoaderProperties.prototype);","__clazz__Properties.prototype.constructor = __clazz__Properties;","","__clazz__Properties.prototype.createControls = function () {","    Brightics.VA.Core.Editors.Sheet.Panels.DistributedJdbcLoaderProperties.prototype.createControls.call(this);","","    this.retrieveTableInfo(this.options.fnUnit['inData']);","};",""];S=S.concat(function(t,r){var a,o,i=[];for(i.push("__clazz__Properties.prototype.createContentsAreaControls = function ($parent) {"),i.push("    Brightics.VA.Core.Editors.Sheet.Panels.DistributedJdbcLoaderProperties.prototype.createContentsAreaControls.call(this, $parent);"),i.push("    this.render = {"),a=0;a<r.length;a++)o=a<r.length-1&&r.length>1?",":"",i.push("        '"+r[a].param+"': this.render"+e(r[a].param)+"Control"+o);for(i.push("    };"),i.push("    "),i.push("    "),a=0;a<r.length;a++)i.push("    this.create"+e(r[a].param)+"Control();");return i.push("    this.setValues(this.options.fnUnit['param']['sql']['condition']);"),i.push("};"),i.push(" "),i}(0,C));var P,D;for(x=0;x<C.length;x++){var L=C[x];if("InputBox"!==C[x].control.type||"Integer"!==C[x].inputType&&"Double"!==C[x].inputType)if("InputBox"===C[x].control.type)S=(S=S.concat(i(0,C[x]))).concat(m(0,C[x]));else if("RadioButton"===C[x].control.type)S=(S=S.concat(r(0,C[x]))).concat(u(0,C[x]));else if("DropDownList"===C[x].control.type)S=(S=S.concat(a(0,C[x]))).concat(f(0,C[x])),"SQL"===C[x].control.itemType&&(S=S.concat(g(0,C[x])),!0);else if("CheckBox"===C[x].control.type)S=(S=S.concat(o(0,C[x]))).concat(h(0,C[x]));else if("DateTimeInput"===C[x].control.type)if("Range"===L.control.options.type){var T=$(C,L);S=(S=S.concat(s(0,L,T))).concat(v(0,L,T))}else S=(S=S.concat(n(0,C[x]))).concat(d(0,C[x]));else"MultiLineInput"===C[x].control.type?S=(S=S.concat(p(0,C[x]))).concat(_(0,C[x])):"ItemSelector"===C[x].control.type&&(S=(S=S.concat(l(0,C[x]))).concat(y(0,C[x])),!0,"SQL"===C[x].control.itemType&&(S=S.concat(b(0,C[x])),!0));else S=(S=S.concat((P=C[x],D=void 0,(D=[]).push("__clazz__Properties.prototype.create"+e(P.param)+"Control = function ($parent) {"),D.push("    var _this = this;"),D.push("    _this.$elements['"+P.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-numberinput\"/>');"),D.push("    _this.addPropertyControl('"+P.label+"', function ($container) {"),D.push("        $container.append(_this.$elements['"+P.param+"']);"),D.push("        var opt = "+JSON.stringify(P.control.options)+";"),D.push("        _this.controls['"+P.param+"'] = _this.createNumericInput(_this.$elements['"+P.param+"'], opt);"),D.push("        _this.controls['"+P.param+"'].onChange(function () {"),D.push("            var command = _this.createSetParameterValueJdbcLoaderCommand('"+P.param+"', Number(this.getValue()));"),D.push("            _this.executeCommand(command);"),D.push("            _this.changeCallback('"+P.param+"');"),D.push("        });"),D.push("    }, {mandatory: "+(P.mandatory||!1)+"});"),D.push("};"),D.push(" "),D))).concat(c(0,C[x]))}S=(S=S.concat(function(t,e){var r=[],a=0;r.push("__clazz__Properties.prototype.fillControlValues = function () {"),r.push("    var _this = this;");for(var o=0;o<e.length;o++)"ItemSelector"===e[o].control.type&&(e[o].control.itemType&&"Items"!==e[o].control.itemType?"SQL"===e[o].control.itemType&&-1===JSON.stringify(e[o].control.items||"").indexOf("$")&&(r.push("    var datasourceName = this.$elements['datasourceName'].val();"),r.push("    if (datasourceName !== '') {"),r.push("        var options = { datasourceName : datasourceName };"),r.push("        _this.getQueryResult(_this.controls['"+e[o].param+"'], '"+e[o].control["sql-id"]+"', options, '"+e[o].control.type+"', '"+e[o].inputType+"');"),r.push("     }"),r.push("    "),a++):(r.push("    "),r.push("    _this.controls['"+e[o].param+"'].setItems("+(JSON.stringify(e[o].control.items)||"{}")+");"),a++)),e[o].control.type;return r.push("};"),r.push(" "),a||(r=[]),r}(0,C))).concat(function(t,r){var a=[];a.push("__clazz__Properties.prototype.changeCallback = function (changedParam) {"),a.push("    var _this = this;"),a.push("    ");for(var o=0;o<r.length;o++)"SQL"===r[o].control.itemType&&a.push("    _this.fill"+e(r[o].param)+"Control(changedParam);");return a.push("};"),a.push(" "),a}(0,C));return w.concat(S,["Brightics.VA.Core.Functions.Library['__func__'].propertiesPanel = __clazz__Properties;"])}},$=function(t,e){for(var r=0;r<t.length;++r)if(t[r].param===e.toRef)return t[r];return null};t.Tools.Extractor.PropertiesPanelCodeGenerator=C}.call(this),function(){"use strict";var t=this.Brightics,e=function(t){var e;return(e=(e=t.replace(/\$|\{|\}/g,"")).replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})).charAt(0).toUpperCase()+e.slice(1)},r={build:function(t){var r=t.defaultFnUnit.func,i=t["properties-layout"],n=[];n.push("/**************************************************************************"),n.push(" *                               Validator                                 "),n.push(" *************************************************************************/");var s=[];s.push("function __clazz__Validator() {","    Brightics.VA.Core.Validator.DistributedJdbcLoaderValidator.call(this);","}","","__clazz__Validator.prototype = Object.create(Brightics.VA.Core.Validator.DistributedJdbcLoaderValidator.prototype);","__clazz__Validator.prototype.constructor = __clazz__Validator;",""),s.push("__clazz__Validator.prototype.initRules = function () {"),s.push("    Brightics.VA.Core.Validator.DistributedJdbcLoaderValidator.prototype.initRules.call(this);"),s.push("");for(var p=0;p<i.length;p++)s.push("    this.add"+e(i[p].param)+"Rule();");s.push("};"),s.push("");for(p=0;p<i.length;p++)if("ItemSelector"===i[p].control.type||"CheckBox"===i[p].control.type)s=s.concat(a(i[p]));else if("DateTimeInput"===i[p].control.type&&"Range"===i[p].control.options.type)s=(s=s.concat(o(i[p]))).concat(o({param:i[p].toRef,label:i[p].label}));else{if("DateTimeInputRef"===i[p].control.type)continue;s=s.concat(o(i[p]))}var l=["Brightics.VA.Core.Functions.Library['"+r+"'].validator = __clazz__Validator;"];return n.concat(s,l)}},a=function(t){var r=[];return r.push("__clazz__Validator.prototype.add"+e(t.param)+"Rule = function () {"),void 0!==t.dataSourceParam&&t.dataSourceParam?r.push("    this.addDataSourceParamEmptyArrayRule('"+t.param+"','"+t.label+"');"):r.push("    this.addEmptyArrayRule('"+t.param+"','"+t.label+"');"),r.push("};"),r.push(" "),r},o=function(t){var r=[];return r.push("__clazz__Validator.prototype.add"+e(t.param)+"Rule = function () {"),void 0!==t.dataSourceParam&&t.dataSourceParam?r.push("    this.addDataSourceParamEmptyInputRule('"+t.param+"','"+t.label+"');"):r.push("    this.addEmptyInputRule('"+t.param+"','"+t.label+"');"),r.push("};"),r.push(" "),r};t.Tools.Extractor.ValidatorCodeGenerator=r}.call(this),window.onload=function(){$(document).bind("contextmenu",function(t){return!1}),$(".brtc-tools-contents-splitter").jqxSplitter({theme:"office",width:"100%",height:"100%",panels:[{size:"700px"}]});var t=new Brightics.Tools.Extractor.FuncSpecGenerator($(".brtc-tools-left-panel"),{});$(".brtc-tools-option-refresh").click(function(){$(".brtc-etl-gen").remove(),t=new Brightics.Tools.Extractor.FuncSpecGenerator($(".brtc-tools-left-panel"),{}),$(".brtc-tools-result-download").removeAttr("func"),e.getSession().setValue(""),$(".brtc-tools-result-download").removeData("spec"),$(".brtc-tools-result-download").hide()}),$(".brtc-tools-option-generator").click(function(){if(t.validate()){var r=t.buildSpec();$(".brtc-tools-result-download").attr("func",r.defaultFnUnit.func);var a=t.save();e.getSession().setValue(Brightics.Tools.Extractor.FuncCodeGenerator.build(r)),$(".brtc-tools-result-download").data("spec",a),$(".brtc-tools-result-download").show()}}),$(".brtc-tools-option-open").click(function(){$("#brtc-tools-option-open-file").remove();var e=$('<input type="file" value="Local" id="brtc-tools-option-open-file" style="display: absolute; width: 0; height: 0" accept=".json">');$("body").append(e),$("#brtc-tools-option-open-file").on("change",function(e){var r=$(this)[0].files[0],a=new FileReader;a.onload=function(e){var r=e.target.result;try{$(".brtc-etl-gen").remove(),(t=new Brightics.Tools.Extractor.FuncSpecGenerator($(".brtc-tools-left-panel"),{})).open(JSON.parse(r))}catch(t){console.log(t)}},a.readAsText(r)}),$("#brtc-tools-option-open-file").click()});var e=ace.edit("brtc-tools-result-code");e.setTheme("ace/theme/monokai"),e.getSession().setMode("ace/mode/javascript"),e.setOptions({enableBasicAutocompletion:!0}),$(".brtc-tools-result-download").click(function(){var t=[],o=$(".brtc-tools-result-download").data("spec"),i=o.id+".json",n=JSON.stringify(o,null,4);t.push({fileName:i,data:n}),i=o.id+".sql",n=a(o),t.push({fileName:i,data:n}),i=o.category+"_"+$(".brtc-tools-result-download").attr("func")+".js",n=e.getSession().getValue(),t.push({fileName:i,data:n});var s=0,p=function(){var e=t[s].data,a=t[s].fileName;r(a,e),++s<t.length&&setTimeout(p,500)};p()});var r=function(t,e){var r=new Blob([e],{type:"text/json;charset=utf-8;"}),a=URL.createObjectURL(r),o=document.createElement("a");o.setAttribute("href",a),o.setAttribute("download",t);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,self,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(i)},a=function(t){var e=function(t,e){var r=function(t){return t.split("\n").map(function(t){return"-- "+t}).join("\n")},a="DELETE FROM brtc_sql WHERE sql_id = '"+t+"';";return["INSERT INTO brtc_sql(sql_id, sql) VALUES('"+t+"', '"+(e=e.split("").map(function(t){return"'"===t?"''":t}).join(""))+"');","",r("UPDATE brtc_sql SET sql = '"+e+"' WHERE sql_id = '"+t+"';"),"",r(a)]},r=[];r=r.concat(e(t.mainSqlId,t.query));for(var a=0;a<t.params.length;++a)"SQL"===t.params[a].type&&(r.push("\n/*--------------------------------------------------------------------------------------------------*/\n"),r=r.concat(e(t.params[a].condSqlId,t.params[a].items)));return r.join("\n")}},function(){"use strict";void 0===this.Brightics&&(this.Brightics={}),$.extend(!0,this.Brightics,{Tools:{Ui:{}}})}.call(this),function(){"use strict";var t=this.Brightics,e=function(t){var e=JSON.parse(JSON.stringify(t));delete e["properties-layout"];var r=[];r.push("/**************************************************************************"),r.push(" *                                 FnUnit                                  "),r.push(" *************************************************************************/");var a=e.defaultFnUnit.func,o=("Brightics.VA.Core.Functions.Library."+a+" = "+JSON.stringify(e,null,4)+";").split("\n");return o.push("Brightics.VA.Implementation.DataFlow.Functions['"+a+"'] = Brightics.VA.Core.Functions.Library['"+a+"'];"),r.concat(o)},r={build:function(r){var a=e(r);for(var o in a.push(""),(a=a.concat(t.Tools.Ui.PropertiesPanelCodeGenerator.build(r))).push(""),(a=a.concat(t.Tools.Ui.ValidatorCodeGenerator.build(r))).push(""),a)a[o]="    "+a[o];var i,n=r.defaultFnUnit.func,s=(i=n.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})).charAt(0).toUpperCase()+i.slice(1);return["(function () {","    'use strict';","","    var root = this;","    var Brightics = root.Brightics;",""].concat(a,["}).call(this);"]).join("\n").replace(/__clazz__/g,s).replace(/__func__/g,n)}};t.Tools.Ui.FuncCodeGenerator=r}.call(this),function(){"use strict";var t=this.Brightics;function e(t,e){this.parentId=t,this.options=e,this._init(),this._createContents(this.$parent)}e.prototype._init=function(){this._retrieveParent(),$.extend(!0,this.options,{style:{}})},e.prototype._retrieveParent=function(){this.$parent="string"==typeof this.parentId?$(this.parentId):this.parentId},e.prototype._createContents=function(t){this.$mainControl=$('<div class="brtc-etl-gen functionGen">   <div>       <div>Category:</div>       <div class="brtc-etl-gen-category brtc-flex-grow-one"></div>   </div>   <div>       <div>Operation:</div><input type="text" class="brtc-etl-gen-operation brtc-flex-grow-one"/>   </div>   <div>       <div>Label:</div><input type="text" class="brtc-etl-gen-label brtc-flex-grow-one"/>   </div>   <div>       <div>Description:</div><input type="text" class="brtc-etl-gen-description brtc-flex-grow-one"/>   </div>   <div>       <div>Tags:</div><input type="text" class="brtc-etl-gen-tags brtc-flex-grow-one"/>   </div>   <div>       <div>In Table:</div>           <div type="text" class="brtc-etl-gen-inrangemin brtc-flex-grow-one"></div>   </div>   <div>       <div>Out Table:</div>           <div type="text" class="brtc-etl-gen-outrangemin brtc-flex-grow-one"></div>   </div>   <div>       <div>Parameters:</div>       <div class="brtc-etl-gen-param brtc-flex-grow-one">           <div class="brtc-etl-add-param">Add Parameter</div>           <div class="brtc-etl-param-container"></div>       </div>   </div></div>'),t.append(this.$mainControl),this._createCategoryControl(this.$mainControl.find(".brtc-etl-gen-category")),this._createOperationControl(this.$mainControl.find(".brtc-etl-gen-operation")),this._createLabelControl(this.$mainControl.find(".brtc-etl-gen-label")),this._createDescriptionControl(this.$mainControl.find(".brtc-etl-gen-description")),this._createTagsControl(this.$mainControl.find(".brtc-etl-gen-tags")),this._createInRangeMinControl(this.$mainControl.find(".brtc-etl-gen-inrangemin")),this._createOutRangeMinControl(this.$mainControl.find(".brtc-etl-gen-outrangemin")),this._createNewParamButton(this.$mainControl.find(".brtc-etl-add-param")),this.$mainControl.perfectScrollbar()},e.prototype._createCategoryControl=function(t){this.$category=t.jqxDropDownList({source:["io","manipulation","statistics","transform","extraction","regression","classification","evaluation","clustering","recommendation","timeseries","script","autonomousanalytics"],theme:"office",placeHolder:"Enter a Category",height:30,itemHeight:30})},e.prototype._getCategory=function(){return this.$category.val()},e.prototype._createFuncControl=function(t){this.$func=t.jqxInput({theme:"office",placeHolder:"Enter a Func"})},e.prototype._getFunc=function(){var t=this.$Operation.val();return t=t[0].toLowerCase()+t.substring(1,t.length)},e.prototype._createOperationControl=function(t){this.$Operation=t.jqxInput({theme:"office",placeHolder:"Enter a Operation"})},e.prototype._getOperation=function(){return this.$Operation.val()},e.prototype._createLabelControl=function(t){this.$label=t.jqxInput({theme:"office",placeHolder:"Enter a Label"})},e.prototype._getLabel=function(){return this.$label.val()},e.prototype._createDescriptionControl=function(t){this.$description=t.jqxInput({theme:"office",placeHolder:"Enter a Description"})},e.prototype._getDescription=function(){return this.$description.val()},e.prototype._createTagsControl=function(t){this.$tags=t.jqxInput({theme:"office",placeHolder:"Enter a Tags. ex) function, name, id"})},e.prototype._getTags=function(){var t=this.$tags.val().split(","),e=[];for(var r in t)e.push(t[r].trim());return e},e.prototype._createInRangeMinControl=function(t){this.$inRangeMin=t.jqxDropDownList({source:["1","2","3"],theme:"office",height:30,itemHeight:30,selectedIndex:0})},e.prototype._getInRangeMin=function(){return this.$inRangeMin.val()},e.prototype._createInRangeMaxControl=function(t){this.$inRangeMax=t.jqxInput({theme:"office",placeHolder:"Enter a InRange",value:1})},e.prototype._getInRangeMax=function(){return this.$inRangeMin.val()},e.prototype._createOutRangeMinControl=function(t){this.$outRangeMin=t.jqxDropDownList({source:["1","2","3"],theme:"office",height:30,itemHeight:30,selectedIndex:0})},e.prototype._getOutRangeMin=function(){return this.$outRangeMin.val()},e.prototype._createOutRangeMaxControl=function(t){this.$outRangeMax=t.jqxInput({theme:"office",placeHolder:"Enter a outRange",value:1,disabled:!0})},e.prototype._getOutRangeMax=function(){return this.$outRangeMin.val()},e.prototype._createNewParamButton=function(t){var e=this;this.$newParamButton=t,this.$newParamButton.click(function(){e._createNewParam()})},e.prototype._createNewParam=function(){var e=this.$mainControl.find(".brtc-etl-param-container");return new t.Tools.Ui.ParamSpecGenerator(e,{})},e.prototype._getParameters=function(){return this.$mainControl.find(".brtc-etl-param").map(function(t,e){return $(e).data("ParamSpecGenerator")}).toArray()},e.prototype.save=function(){var t={category:this._getCategory(),func:this._getFunc(),operation:this._getOperation(),label:this._getLabel(),description:this._getDescription(),tags:this._getTags(),inrange:{min:this._getInRangeMin(),max:this._getInRangeMax()},outrange:{min:this._getOutRangeMin(),max:this._getOutRangeMax()},params:[]},e=this._getParameters();for(var r in e)t.params.push(e[r].save());return t},e.prototype.open=function(t){this.$category.val(t.category),this.$Operation.val(t.name),this.$label.val(t.label),this.$description.val(t.description);var e="";for(var r in t.tags)e+=t.tags[r],e+=", ";for(var r in this.$tags.val(e.substring(0,e.length-2)),this.$inRangeMin.val(t.inrange.min),this.$outRangeMin.val(t.outrange.min),t.params){this._createNewParam().open(t.params[r])}},e.prototype.buildSpec=function(){var t=[],e={category:this._getCategory(),defaultFnUnit:{func:this._getFunc(),name:this._getOperation(),inData:[],outData:[],param:{},display:{label:this._getLabel(),diagram:{position:{x:20,y:10}},sheet:{in:{partial:[{panel:[],layout:{}}],full:[{panel:[],layout:{}}]},out:{partial:[{panel:[],layout:{}}],full:[{panel:[],layout:{}}]}}}},description:this._getDescription(),mandatory:[],tags:this._getTags(),"in-range":{min:this._getInRangeMin(),max:this._getInRangeMin()},"out-range":{min:this._getOutRangeMin(),max:this._getOutRangeMin()},"properties-layout":[]},r=this._getParameters();for(var a in r){if("ColumnSelector"===r[a]._getWidget().type)r[a]._getMultiple()?e.defaultFnUnit.param[r[a]._getId()]=[]:e.defaultFnUnit.param[r[a]._getId()]="";else if("RadioButton"===r[a]._getWidget().type){var o=r[a].itemDefaultRadioControlList;for(var i in o)o[i].val()&&(e.defaultFnUnit.param[r[a]._getId()]=r[a].itemValueControlList[i].val())}else if("CheckBox"===r[a]._getWidget().type){e.defaultFnUnit.param[r[a]._getId()]=[];o=r[a].itemDefaultCheckboxControlList;for(var i in o)o[i].val()&&e.defaultFnUnit.param[r[a]._getId()].push(r[a].itemValueControlList[i].val());r[a]._getEmpty()&&t.push(r[a]._getId())}else e.defaultFnUnit.param[r[a]._getId()]="";e["properties-layout"].push(r[a].buildSpec())}return t.length&&(e.mandatory=t),e},t.Tools.Ui.FuncSpecGenerator=e}.call(this),function(){"use strict";var t=this.Brightics;function e(t,e){this.parentId=t,this.options=e,this._init(),this._createContents(this.$parent)}e.prototype._init=function(){this._retrieveParent(),$.extend(!0,this.options,{style:{}})},e.prototype._retrieveParent=function(){this.$parent="string"==typeof this.parentId?$(this.parentId):this.parentId},e.prototype._createContents=function(t){this.columnTypeControlList=[],this.generalItemControlList=[],this.itemDefaultRadioControlList=[],this.itemDefaultCheckboxControlList=[],this.itemLabelControlList=[],this.itemValueControlList=[],this.$mainControl=$('<div class="brtc-etl-param" expanded="true">   <div class="brtc-etl-chevron"><i class="fa fa-chevron-down" aria-hidden="true"></i><i class="fa fa-chevron-right" aria-hidden="true"></i></div>   <div class="brtc-etl-remove"><i class="fa fa-times" aria-hidden="true"></i></div>   <div>       <div class="brtc-etl-param-id">ID</div>       <input type="text" class="brtc-etl-param-id-input"/>   </div>   <div>       <div class="brtc-etl-param-label">Label</div>       <input type="text" class="brtc-etl-param-label-input brtc-flex-grow-one"/>   </div>   <div>       <div class="brtc-etl-param-mandatory">Mandatory</div>       <div type="text" class="brtc-etl-param-mandatory-input brtc-flex-grow-one"></div>   </div>   <div>       <div class="brtc-etl-param-control">Control</div>       <div class="brtc-etl-param-control-input brtc-flex-grow-one"></div>   </div>   <div class="brtc-etl-param-type-row">       <div class="brtc-etl-param-type">Type</div>       <div type="text" class="brtc-etl-param-type-input brtc-flex-grow-one"></div>   </div>   <div class="brtc-etl-param-placeholder-row">       <div class="brtc-etl-param-placeholder">Place Holder</div>       <input type="text" class="brtc-etl-param-placeholder-input brtc-flex-grow-one"/>   </div>   <div class="brtc-etl-param-multiple-row">       <div class="brtc-etl-param-multiple">Multiple</div>       <div class="brtc-etl-param-multiple-input brtc-flex-grow-one"></div>   </div>   <div class="brtc-etl-param-rowcount-row">       <div class="brtc-etl-param-rowcount">Row Count</div>       <input type="text" class="brtc-etl-param-rowcount-input brtc-flex-grow-one"/>   </div>   <div class="brtc-etl-param-columntype-row">       <div class="brtc-etl-param-columntype">Column Type</div>       <div class="brtc-etl-param-columntype-container">           <div class="brtc-etl-param-columntype-container-wrapper">               <div class="brtc-etl-param-columntype-input-row">                   <div class="brtc-etl-param-columntype-input brtc-flex-grow-one"></div>               </div>               <div class="brtc-etl-param-columntype-add-button"></div>           </div>       </div>   </div>   <div class="brtc-etl-param-empty-row">       <div class="brtc-etl-param-empty">Empty</div>       <div class="brtc-etl-param-empty-input brtc-flex-grow-one"></div>   </div>   <div class="brtc-etl-param-item-row">       <div class="brtc-etl-param-item">Item</div>       <div class="brtc-etl-param-item-container">           <div class="brtc-etl-param-item-container-wrapper">               <div class="brtc-etl-param-item-radiobutton-default"/>               <div class="brtc-etl-param-item-checkbox-default"/>               <div class="brtc-etl-param-item-input-row">                   <input type="text" class="brtc-etl-gen-item-label-input brtc-flex-grow-one"/>                   <input type="text" class="brtc-etl-gen-item-value-input brtc-flex-grow-one"/>               </div>               <div class="brtc-etl-param-item-add-button"></div>           </div>       </div>   </div>   <div class="brtc-etl-param-generalitem-row">       <div class="brtc-etl-param-generalitem">Item</div>       <div class="brtc-etl-param-generalitem-container">           <div class="brtc-etl-param-generalitem-container-wrapper">               <div class="brtc-etl-param-generalitem-input-row">                   <input type="text" class="brtc-etl-gen-generalitem-label-input brtc-flex-grow-one"/>               </div>               <div class="brtc-etl-param-generalitem-add-button"></div>           </div>       </div>   </div></div>'),t.append(this.$mainControl),this.$mainControl.data("ParamSpecGenerator",this),this.$mainControl.attr("groupName",this.$mainControl.parent().find(".brtc-etl-param").length),this._createExpandControl(this.$mainControl.find(".brtc-etl-chevron")),this._createRemoveControl(this.$mainControl.find(".brtc-etl-remove")),this._createIDControl(this.$mainControl.find(".brtc-etl-param-id-input")),this._createLabelControl(this.$mainControl.find(".brtc-etl-param-label-input")),this._createMandatoryControl(this.$mainControl.find(".brtc-etl-param-mandatory-input")),this._createEmptyControl(this.$mainControl.find(".brtc-etl-param-empty-input")),this._createTypeControl(this.$mainControl.find(".brtc-etl-param-type-input")),this._createPlaceHolderControl(this.$mainControl.find(".brtc-etl-param-placeholder-input")),this._createWidgetSelectControl(this.$mainControl.find(".brtc-etl-param-control-input")),this._createMultipleControl(this.$mainControl.find(".brtc-etl-param-multiple-input")),this._createRowCountControl(this.$mainControl.find(".brtc-etl-param-rowcount-input")),this._createColumnTypeControl(this.$mainControl.find(".brtc-etl-param-columntype-input"),this.$mainControl.find(".brtc-etl-param-columntype-add-button")),this._createItemControl(this.$mainControl.find(".brtc-etl-param-item-input-row"),this.$mainControl.find(".brtc-etl-param-item-add-button"),this.$mainControl.find(".brtc-etl-param-item-container-wrapper")),this._createGeneralItemControl(this.$mainControl.find(".brtc-etl-param-generalitem-input-row"),this.$mainControl.find(".brtc-etl-param-generalitem-add-button"))},e.prototype._createExpandControl=function(t){var e=this;t.click(function(){"true"===e.$mainControl.attr("expanded")?e.$mainControl.attr("expanded","false"):e.$mainControl.attr("expanded","true")})},e.prototype._createRemoveControl=function(t){var e=this;t.click(function(){e.$mainControl.remove()})},e.prototype._createIDControl=function(t){this.$id=t.jqxInput({theme:"office",placeHolder:"Enter a ID",height:30})},e.prototype._getId=function(){return this.$id.val()},e.prototype._createLabelControl=function(t){this.$label=t.jqxInput({theme:"office",placeHolder:"Enter a Label",height:30})},e.prototype._getLabel=function(){return this.$label.val()},e.prototype._createTypeControl=function(t){this.$type=t.jqxDropDownList({source:["String","Integer","Double"],theme:"office",placeHolder:"Choose a Type",height:30,itemHeight:30})},e.prototype._getType=function(){return this.$type.val()},e.prototype._createPlaceHolderControl=function(t){this.$placeHolder=t.jqxInput({theme:"office",placeHolder:"Enter a Place Holder",height:30})},e.prototype._getPlaceHolder=function(){return this.$placeHolder.val()},e.prototype._createMandatoryControl=function(t){this.$mandatory=t.jqxDropDownList({source:["true","false"],theme:"office",placeHolder:"Choose a Mandatory",height:30,itemHeight:30})},e.prototype._getMandatory=function(){return this.$mandatory.val()},e.prototype._createWidgetSelectControl=function(t){var e=this;this.$widget=t.jqxDropDownList({source:["ColumnSelector","InputBox","DropDownList","RadioButton","CheckBox"],theme:"office",placeHolder:"Choose a Control",height:30,itemHeight:30}),this.$widget.on("change",function(){e.refreshControl()})},e.prototype.refreshControl=function(){"ColumnSelector"===this.$widget.val()?(this.$mainControl.find(".brtc-etl-param-type-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-placeholder-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-empty-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-multiple-row").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-rowcount-row").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-columntype-row").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-item-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-generalitem-row").css({display:"none"})):"InputBox"===this.$widget.val()?(this.$mainControl.find(".brtc-etl-param-type-row").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-placeholder-row").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-empty-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-multiple-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-rowcount-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-columntype-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-item-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-generalitem-row").css({display:"none"})):"RadioButton"===this.$widget.val()?(this.$mainControl.find(".brtc-etl-param-type-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-placeholder-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-empty-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-multiple-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-rowcount-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-columntype-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-item-row").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-generalitem-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-item-radiobutton-default").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-item-checkbox-default").css({display:"none"})):"DropDownList"===this.$widget.val()?(this.$mainControl.find(".brtc-etl-param-type-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-placeholder-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-empty-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-multiple-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-rowcount-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-columntype-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-item-row").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-generalitem-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-item-radiobutton-default").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-item-checkbox-default").css({display:"none"})):"CheckBox"===this.$widget.val()&&(this.$mainControl.find(".brtc-etl-param-type-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-placeholder-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-empty-row").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-multiple-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-rowcount-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-columntype-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-item-row").css({display:"flex"}),this.$mainControl.find(".brtc-etl-param-generalitem-row").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-item-radiobutton-default").css({display:"none"}),this.$mainControl.find(".brtc-etl-param-item-checkbox-default").css({display:"flex"}))},e.prototype._getWidget=function(){var t={type:this.$widget.val(),options:{},value:{}};return"ColumnSelector"===t.type?(t.options.multiple=this._getMultiple(),t.options.maxRowCount=this._getRowCount(),t["ref-table"]={},t["ref-table"]["set-type"]="single",t["ref-table"].indexes=[],t["ref-table"].indexes.push(0),t["ref-table"]["column-type"]=this._getColumnType()):"InputBox"===t.type?"Integer"===this._getType()?(t.options.placeholder=this._getPlaceHolder(),t.options.numberType="int"):"Double"===this._getType()?(t.options.placeholder=this._getPlaceHolder(),t.options.numberType="double"):t.options.placeHolder=this._getPlaceHolder():"DropDownList"===t.type?(t.options.source=this._getItem(),t.options.displayMember="label",t.options.valueMember="value"):"CheckBox"===t.type?(t.options.items=this._getItem(),t.options.empty=this._getEmpty()):"RadioButton"===t.type?(t.options.groupName=this._getId(),t.options.items=this._getItem()):"DateTimeInput"===t.type&&(t.options.showTimeButton=!1,t.value.format=JSON.parse(this._getItem()).format),t},e.prototype._createEmptyControl=function(t){this.$empty=t.jqxDropDownList({source:["true","false"],theme:"office",placeHolder:"Choose a Empty",height:30,itemHeight:30})},e.prototype._getEmpty=function(){return"true"===this.$empty.val()},e.prototype._createMultipleControl=function(t){this.$multiple=t.jqxDropDownList({source:["true","false"],theme:"office",placeHolder:"Choose a Mandatory",height:30,itemHeight:30})},e.prototype._getMultiple=function(){return"true"===this.$multiple.val()},e.prototype._createRowCountControl=function(t){this.$rowCount=t.jqxInput({theme:"office",placeHolder:"Enter a Label",height:30})},e.prototype._getRowCount=function(){return this.$rowCount.val()},e.prototype._createColumnTypeControl=function(t,e){var r=this,a=t.jqxDropDownList({source:["Integer","Long","Double","String","Boolean","number","string","Long[]","Double[]","String[]","Boolean[]","number[]","string[]"],theme:"office",placeHolder:"Choose a Column Type",height:30,itemHeight:30});this.columnTypeControlList.push(a),e.click(function(){r._createColumnTypeRow(r.$mainControl.find(".brtc-etl-param-columntype-container"))})},e.prototype._getColumnType=function(){var t=[];for(var e in this.columnTypeControlList)""!=this.columnTypeControlList[e].val()&&t.push(this.columnTypeControlList[e].val());return t},e.prototype._createColumnTypeRow=function(t,e,r){var a=$('<div class="brtc-etl-param-columntype-container-wrapper">   <div class="brtc-etl-param-columntype-input-row">       <div class="brtc-etl-param-columntype-input brtc-flex-grow-one"></div>   </div><div class="brtc-etl-param-columntype-remove-button"></div></div>');t.append(a);var o=a.find(".brtc-etl-param-columntype-input").jqxDropDownList({source:["Integer","Long","Double","String","Boolean","number","string","Long[]","Double[]","String[]","Boolean[]","number[]","string[]"],theme:"office",placeHolder:"Choose a Column Type",height:30,itemHeight:30});this.columnTypeControlList.push(o),a.find(".brtc-etl-param-columntype-remove-button").click(function(){a.find(".brtc-etl-param-columntype-remove-button").parent().remove()})},e.prototype._createItemControl=function(t,e,r){var a=this,o=a.$mainControl.attr("groupName"),i=r.find(".brtc-etl-param-item-radiobutton-default").jqxRadioButton({theme:"office",height:30,groupName:o,checked:!0});this.itemDefaultRadioControlList.push(i);var n=r.find(".brtc-etl-param-item-checkbox-default").jqxCheckBox({theme:"office",height:30});this.itemDefaultCheckboxControlList.push(n);var s=t.find(".brtc-etl-gen-item-label-input").jqxInput({theme:"office",placeHolder:"Enter a Label",height:30});this.itemLabelControlList.push(s);var p=t.find(".brtc-etl-gen-item-value-input").jqxInput({theme:"office",placeHolder:"Enter a Value",height:30});this.itemValueControlList.push(p),e.click(function(){a._createItemRow(a.$mainControl.find(".brtc-etl-param-item-container"),o),a.refreshControl()})},e.prototype._createItemRow=function(t,e,r,a,o){var i=this,n=$('<div class="brtc-etl-param-item-container-wrapper">   <div class="brtc-etl-param-item-radiobutton-default"/>   <div class="brtc-etl-param-item-checkbox-default"/>   <div class="brtc-etl-param-item-input-row">       <input type="text" class="brtc-etl-gen-item-label-input brtc-flex-grow-one"/>       <input type="text" class="brtc-etl-gen-item-value-input brtc-flex-grow-one"/>   </div><div class="brtc-etl-param-item-remove-button"></div></div>');t.append(n);var s=n.find(".brtc-etl-param-item-radiobutton-default").jqxRadioButton({theme:"office",height:30,groupName:e});this.itemDefaultRadioControlList.push(s);var p=n.find(".brtc-etl-param-item-checkbox-default").jqxCheckBox({theme:"office",height:30});this.itemDefaultCheckboxControlList.push(p);var l=n.find(".brtc-etl-gen-item-label-input").jqxInput({theme:"office",placeHolder:"Enter a Label",height:30});this.itemLabelControlList.push(l);var c=n.find(".brtc-etl-gen-item-value-input").jqxInput({theme:"office",placeHolder:"Enter a Value",height:30});this.itemValueControlList.push(c),r&&n.find(".brtc-etl-param-item-radiobutton-default").jqxRadioButton({checked:!0}),n.find(".brtc-etl-param-item-remove-button").click(function(){var t=n.find(".brtc-etl-param-item-remove-button").parents(".brtc-etl-param-item-container-wrapper").prevAll().length;i.itemLabelControlList.splice(t,1),i.itemValueControlList.splice(t,1),i.itemDefaultRadioControlList.splice(t,1),i.itemDefaultCheckboxControlList.splice(t,1),n.find(".brtc-etl-param-item-remove-button").parent().remove()})},e.prototype._getItem=function(t){var e=[];for(var r in this.itemLabelControlList)"RadioButton"===t?e.push({label:this.itemLabelControlList[r].val(),value:this.itemValueControlList[r].val(),default:this.itemDefaultRadioControlList[r].val()}):e.push({label:this.itemLabelControlList[r].val(),value:this.itemValueControlList[r].val(),default:this.itemDefaultCheckboxControlList[r].val()});return e},e.prototype._createGeneralItemControl=function(t,e){var r=this,a=t.find(".brtc-etl-gen-generalitem-label-input").jqxInput({theme:"office",placeHolder:"Enter a item",height:30});this.generalItemControlList.push(a),e.click(function(){r._createGeneralItemRow(r.$mainControl.find(".brtc-etl-param-generalitem-container"))})},e.prototype._createGeneralItemRow=function(t,e,r){var a=$('<div class="brtc-etl-param-generalitem-container-wrapper">   <div class="brtc-etl-param-generalitem-input-row">       <input type="text" class="brtc-etl-gen-generalitem-label-input brtc-flex-grow-one"/>   </div><div class="brtc-etl-param-generalitem-remove-button"></div></div>');t.append(a);var o=a.find(".brtc-etl-gen-generalitem-label-input").jqxInput({theme:"office",placeHolder:"Enter a Label",height:30});this.generalItemControlList.push(o),a.find(".brtc-etl-param-generalitem-remove-button").click(function(){a.find(".brtc-etl-param-generalitem-remove-button").parent().remove()})},e.prototype._getGeneralItem=function(){var t=[];for(var e in this.generalItemControlList)t.push({value:this.generalItemControlList[e].val()});return t},e.prototype.buildSpec=function(){return{param:this._getId(),label:this._getLabel(),mandatory:this._getMandatory(),empty:this._getEmpty(),control:this._getWidget(),type:this._getType()}},e.prototype.save=function(){return{id:this._getId(),label:this._getLabel(),mandatory:this._getMandatory(),control:this._getWidget().type,type:this._getType(),placeHolder:this._getPlaceHolder(),empty:this._getEmpty(),multiple:this._getMultiple(),rowCount:this._getRowCount(),columnType:this._getColumnType(),items:this._getItem(this._getWidget().type),generalItems:this._getGeneralItem()}},e.prototype.open=function(t){for(var e in this.$id.val(t.id),this.$label.val(t.label),this.$type.val(t.type),this.$placeHolder.val(t.placeHolder),this.$empty.val(t.empty),this.$mandatory.val(t.mandatory),this.$widget.val(t.control),t.items)e>0&&this._createItemRow(this.$mainControl.find(".brtc-etl-param-item-container"),this.$mainControl.attr("groupName"),t.items[e].default),"RadionButton"===t.control?this.itemDefaultRadioControlList[e].val(t.items[e].default):this.itemDefaultCheckboxControlList[e].val(t.items[e].default),this.itemLabelControlList[e].val(t.items[e].label),this.itemValueControlList[e].val(t.items[e].value);for(var e in t.generalItems)e>0&&this._createGeneralItemRow(this.$mainControl.find(".brtc-etl-param-generalitem-container")),this.generalItemControlList[e].val(t.generalItems[e]);for(var e in this.$empty.val(t.empty),this.$multiple.val(t.multiple),this.$rowCount.val(t.rowCount),t.columnType)e>0&&this._createColumnTypeRow(this.$mainControl.find(".brtc-etl-param-columntype-container")),this.columnTypeControlList[e].val(t.columnType[e]);this.refreshControl()},t.Tools.Ui.ParamSpecGenerator=e}.call(this),function(){"use strict";var t=this.Brightics,e=function(t){var e;return(e=(e=t.replace(/\$|\{|\}/g,"")).replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})).charAt(0).toUpperCase()+e.slice(1)},r=function(t,r){var a=[];if(a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-columnlist\"/>');"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        opt.changed = function (type, data) { "),!t.param[r.param])throw{message:"["+r.param+"] does not exist in FnUnit Parameters."};return Array.isArray(t.param[r.param][0])?a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', [ data.items ]);"):a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', data.items);"),a.push("            _this.executeCommand(command)"),a.push("        };"),a.push("        _this.controls['"+r.param+"'] = _this.createColumnList(_this.$elements['"+r.param+"'], opt);"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},a=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-numberinput\"/>');"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        _this.controls['"+r.param+"'] = _this.createNumericInput(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.controls['"+r.param+"'].onChange(function () {"),a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', this.getValue());"),a.push("            _this.executeCommand(command);"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},o=function(t,r){var a=[];for(var o in a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),r.control.options.items)a.push("    _this.$elements['"+r.param+"."+r.control.options.items[o].value+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-radiobutton\">"+r.control.options.items[o].label+"</div>');");for(var o in a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push(" "),r.control.options.items){var i=r.param+"."+r.control.options.items[o].value;a.push("        $container.append(_this.$elements['"+i+"']);"),r.control.options.items[o].default?a.push("        _this.controls['"+i+"'] = _this.createRadioButton(_this.$elements['"+i+"'], {width: '"+r.control.options.items[o].width+"', groupName: '"+r.control.options.groupName+"', checked: true});"):a.push("        _this.controls['"+i+"'] = _this.createRadioButton(_this.$elements['"+i+"'], {width: '"+r.control.options.items[o].width+"', groupName: '"+r.control.options.groupName+"'});"),a.push("        _this.$elements['"+i+"'].on('checked', function (event) {"),a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', '"+r.control.options.items[o].value+"');"),a.push("            _this.executeCommand(command);"),a.push("        });"),a.push(" ")}return a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},i=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-combobox\"/>');"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push(" "),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        _this.controls['"+r.param+"'] = _this.createDropDownList(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.controls['"+r.param+"'].on('change', function (event) {"),a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', event.args.item.value);"),a.push("            _this.executeCommand(command);"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},n=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-checkbox-container\"></div>');"),a.push('    var $selectAllButton = $(\'<input type="button" value="Select All" style="width: 100%; float:left; margin-left: 0px;"/>\');'),a.push('    var $clearAllButton = $(\'<input type="button" value="Unselect All" style="width: 100%; float:left; margin-left: 2px; margin-bottom: 2px;"/>\');'),a.push("    _this.$elements['"+r.param+"'].append($selectAllButton);"),a.push("    _this.$elements['"+r.param+"'].append($clearAllButton);"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        _this.createButton($selectAllButton, {height: 23}, 'brtc-va-editors-sheet-controls-width-6');"),a.push("        _this.createButton($clearAllButton, {height: 23}, 'brtc-va-editors-sheet-controls-width-6');"),a.push(""),a.push("        var items = "+JSON.stringify(r.control.options.items)+";"),a.push("        var itemKey;"),a.push("        var changeHandler = function () {"),a.push("            $(window).trigger('mousedown');"),a.push("            var checked = [];"),a.push("            for (var i in items) {"),a.push("                itemKey = '"+r.param+".' + items[i].value;"),a.push("                if (_this.$elements[itemKey].val() === true) {"),a.push("                    checked.push(_this.$elements[itemKey].data('tag'));"),a.push("                }"),a.push("            }"),a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', checked);"),a.push("            _this.executeCommand(command);"),a.push("        };"),a.push("        for (var i in items) {"),a.push("            itemKey = '"+r.param+".' + items[i].value;"),a.push("            _this.$elements[itemKey] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-checkbox\"></div>');"),a.push("            _this.$elements[itemKey].text(items[i].label);"),a.push("            _this.$elements[itemKey].data('tag', items[i].value);"),a.push("            _this.$elements['"+r.param+"'].append(_this.$elements[itemKey]);"),a.push("            _this.controls[itemKey] = _this.createCheckBox(_this.$elements[itemKey], {}, 'brtc-va-editors-sheet-controls-width-12')"),a.push("            _this.$elements[itemKey].on('change', changeHandler);"),a.push("        }"),a.push("        $selectAllButton.on('click', function (event) {"),a.push("            for (var i in items) {"),a.push("                itemKey = '"+r.param+".' + items[i].value;"),a.push("                _this.$elements[itemKey].off('change', changeHandler);"),a.push("                _this.$elements[itemKey].jqxCheckBox({checked: true});"),a.push("                _this.$elements[itemKey].on('change', changeHandler);"),a.push("            }"),a.push("            var checked = [];"),a.push("            for (var i in items) {"),a.push("                itemKey = '"+r.param+".' + items[i].value;"),a.push("                checked.push(_this.$elements[itemKey].data('tag'));"),a.push("            }"),a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', checked);"),a.push("            _this.executeCommand(command);"),a.push("        });"),a.push("        $clearAllButton.on('click', function (event) {"),a.push("            for (var i in items) {"),a.push("                itemKey = '"+r.param+".' + items[i].value;"),a.push("                _this.$elements[itemKey].off('change', changeHandler);"),a.push("                _this.$elements[itemKey].jqxCheckBox({checked: false});"),a.push("                _this.$elements[itemKey].on('change', changeHandler);"),a.push("            }"),a.push("            var checked = [];"),a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', checked);"),a.push("            _this.executeCommand(command);"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},s=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+'\'] = $(\'<input type="text" class="brtc-va-editors-sheet-controls-propertycontrol-input"/>\');'),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        _this.controls['"+r.param+"'] = _this.createInput(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.$elements['"+r.param+"'].on('change', function (event) {"),a.push("            if (!_this.isInputValueChanged('"+r.param+"', $(this).val())) return;"),a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', $(this).val());"),a.push("            _this.executeCommand(command);"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},p=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-date\"></div>');"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        _this.controls['"+r.param+"'] = _this.createDateTimePickerControl(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.$elements['"+r.param+"'].on('valueChanged', function (event) {"),a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', moment(event.args.date).format('"+r.control.value.format+"'));"),a.push("            _this.executeCommand(command);"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},l=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.create"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    _this.$elements['"+r.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-textareacontrol\"/>');"),a.push("    _this.addPropertyControl('"+r.label+"', function ($container) {"),a.push("        $container.append(_this.$elements['"+r.param+"']);"),a.push("        var opt = "+JSON.stringify(r.control.options)+";"),a.push("        _this.controls['"+r.param+"'] = _this.createTextArea(_this.$elements['"+r.param+"'], opt);"),a.push("        _this.$elements['"+r.param+"'].on('change', function (event) {"),a.push("            var command = _this.createSetParameterValueCommand('"+r.param+"', $(this).val().split('\\n'));"),a.push("            _this.executeCommand(command);"),a.push("        });"),a.push("    }, {mandatory: "+(r.mandatory||!1)+"});"),a.push("};"),a.push(" "),a},c=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),Array.isArray(t.param[r.param][0])?a.push("    var items = _this.options.fnUnit.param['"+r.param+"'][0];"):a.push("    var items = _this.options.fnUnit.param['"+r.param+"'];"),a.push("    _this.controls['"+r.param+"'].setSelectedItems(items);"),a.push("};"),a.push(" "),a},u=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var items = _this.options.fnUnit.param['"+r.param+"'];"),a.push("    _this.controls['"+r.param+"'].setSelectedItems([items]);"),a.push("};"),a.push(" "),a},h=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['"+r.param+"'];"),a.push("    _this.controls['"+r.param+"'].setValue(val || '');"),a.push("};"),a.push(" "),a},m=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['"+r.param+"'];"),a.push("    var key = '"+r.param+".' + val;"),a.push("    if (_this.$elements[key]) {"),a.push("        _this.$elements[key].jqxRadioButton('check');"),a.push("    }"),a.push("};"),a.push(" "),a},d=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var values = _this.options.fnUnit['param']['"+r.param+"'];"),a.push("    var items = "+JSON.stringify(r.control.options.items)+";"),a.push("    var itemKey;"),a.push("    for (var i in items) {"),a.push("        itemKey = '"+r.param+".' + items[i].value;"),a.push("        if ($.inArray(_this.$elements[itemKey].data('tag'), values) > -1) {"),a.push("            _this.$elements[itemKey].jqxCheckBox({checked: true});"),a.push("        } else {"),a.push("            _this.$elements[itemKey].jqxCheckBox({checked: false});"),a.push("        }"),a.push("    }"),a.push("};"),a.push(" "),a},v=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['"+r.param+"'];"),a.push("    _this.$elements['"+r.param+"'].val(val || '');"),a.push("};"),a.push(" "),a},f=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['"+r.param+"'];"),a.push("    _this.$elements['"+r.param+"'].jqxDateTimeInput('value', val ? moment(val).toDate() : new Date());"),a.push("};"),a.push(" "),a},_=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['"+r.param+"'];"),a.push("    _this.$elements['"+r.param+"'].val(val);"),a.push("};"),a.push(" "),a},y=function(t,r){var a=[];return a.push("__clazz__Properties.prototype.render"+e(r.param)+"Control = function ($parent) {"),a.push("    var _this = this;"),a.push("    var val = _this.options.fnUnit['param']['"+r.param+"'];"),a.push("    var text = val.join('\\n');"),a.push("    _this.$elements['"+r.param+"'].val(text || '');"),a.push("};"),a.push(" "),a},g={build:function(t){var g=t.defaultFnUnit,b=t["properties-layout"],C=[];C.push("/**************************************************************************"),C.push(" *                           Properties Panel                              "),C.push(" *");var $=JSON.stringify(b,null,4).split("\n");for(var w in $)C.push(" * "+$[w]);C.push(" *************************************************************************/");var I=["function __clazz__Properties(parentId, options) {","    Brightics.VA.Core.Editors.Sheet.Panels.PropertiesPanel.call(this, parentId, options);","}","","__clazz__Properties.prototype = Object.create(Brightics.VA.Core.Editors.Sheet.Panels.PropertiesPanel.prototype);","__clazz__Properties.prototype.constructor = __clazz__Properties;","","__clazz__Properties.prototype.createControls = function () {","    Brightics.VA.Core.Editors.Sheet.Panels.PropertiesPanel.prototype.createControls.call(this);","","    this.retrieveTableInfo(this.options.fnUnit['inData']);","};",""];I=I.concat(function(t,r){var a,o,i=[];for(i.push("__clazz__Properties.prototype.createContentsAreaControls = function ($parent) {"),i.push("    Brightics.VA.Core.Editors.Sheet.Panels.PropertiesPanel.prototype.createContentsAreaControls.call(this, $parent);"),i.push("    this.render = {"),a=0;a<r.length;a++)o=a<r.length-1&&r.length>1?",":"",i.push("        '"+r[a].param+"': this.render"+e(r[a].param)+"Control"+o);for(i.push("    };"),i.push("    "),i.push("    this.$elements = {};"),i.push("    this.controls = {};"),i.push("    "),a=0;a<r.length;a++)i.push("    this.create"+e(r[a].param)+"Control();");return i.push("};"),i.push(" "),i}(0,b));var x,S,P=!1;for(w=0;w<b.length;w++)"ColumnSelector"===b[w].control.type?(I=b[w].control.options.multiple?(I=I.concat(r(g,b[w]))).concat(c(g,b[w])):(I=I.concat((x=b[w],S=void 0,(S=[]).push("__clazz__Properties.prototype.create"+e(x.param)+"Control = function ($parent) {"),S.push("    var _this = this;"),S.push("    _this.$elements['"+x.param+"'] = $('<div class=\"brtc-va-editors-sheet-controls-propertycontrol-columnlist\"/>');"),S.push("    _this.addPropertyControl('"+x.label+"', function ($container) {"),S.push("        $container.append(_this.$elements['"+x.param+"']);"),S.push("        var opt = "+JSON.stringify(x.control.options)+";"),S.push("        opt.changed = function (type, data) { "),S.push("            var command = _this.createSetParameterValueCommand('"+x.param+"', data.items[0]);"),S.push("            _this.executeCommand(command)"),S.push("        };"),S.push("        _this.controls['"+x.param+"'] = _this.createColumnList(_this.$elements['"+x.param+"'], opt);"),S.push("    }, {mandatory: "+(x.mandatory||!1)+"});"),S.push("};"),S.push(" "),S))).concat(u(0,b[w])),P=!0):"InputBox"!==b[w].control.type||"Integer"!==b[w].type&&"Double"!==b[w].type?"InputBox"===b[w].control.type?I=(I=I.concat(s(0,b[w]))).concat(v(0,b[w])):"RadioButton"===b[w].control.type?I=(I=I.concat(o(0,b[w]))).concat(m(0,b[w])):"DropDownList"===b[w].control.type?I=(I=I.concat(i(0,b[w]))).concat(_(0,b[w])):"CheckBox"===b[w].control.type?I=(I=I.concat(n(0,b[w]))).concat(d(0,b[w])):"DateTimeInput"===b[w].control.type?I=(I=I.concat(p(0,b[w]))).concat(f(0,b[w])):"MultiLineInput"===b[w].control.type&&(I=(I=I.concat(l(0,b[w]))).concat(y(0,b[w]))):I=(I=I.concat(a(0,b[w]))).concat(h(0,b[w]));I=I.concat(function(){var t=[];return t.push("__clazz__Properties.prototype.renderValidation = function () {"),t.push("    var _this = this;"),t.push("    for (var i in _this.problems) {"),t.push("        var key = _this.problems[i].param;"),t.push("        if (_this.$elements[key]) {"),t.push("            _this.createValidationContent(_this.$elements[key], _this.problems[i]);"),t.push("        }"),t.push("    }"),t.push("};"),t.push(" "),t}()),P&&(I=I.concat(function(t,e){var r=[];r.push("__clazz__Properties.prototype.fillControlValues = function () {"),r.push("    var _this = this;"),r.push("    var columns;");for(var a=0;a<e.length;a++)"ColumnSelector"===e[a].control.type&&"single"===e[a].control["ref-table"]["set-type"]&&(r.push("    "),r.push("    columns = _this.getColumnsOfInTable("+e[a].control["ref-table"].indexes[0]+", "+JSON.stringify(e[a].control["ref-table"]["column-type"])+");"),r.push("    _this.controls['"+e[a].param+"'].setItems(columns);"));return r.push("};"),r.push(" "),r}(0,b)));return C.concat(I,["Brightics.VA.Core.Functions.Library['__func__'].propertiesPanel = __clazz__Properties;"])}};t.Tools.Ui.PropertiesPanelCodeGenerator=g}.call(this),function(){"use strict";var t=this.Brightics,e=function(t){var e;return(e=(e=t.replace(/\$|\{|\}/g,"")).replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})).charAt(0).toUpperCase()+e.slice(1)},r={build:function(t){t.defaultFnUnit.func;var r=t["properties-layout"],p=[];p.push("/**************************************************************************"),p.push(" *                               Validator                                 "),p.push(" *************************************************************************/");var l=[];"1"===t["in-range"].min?(l.push("function __clazz__Validator() {","    Brightics.VA.Core.Validator.SingleInputValidator.call(this);","}","","__clazz__Validator.prototype = Object.create(Brightics.VA.Core.Validator.SingleInputValidator.prototype);","__clazz__Validator.prototype.constructor = __clazz__Validator;",""),l.push("__clazz__Validator.prototype.initRules = function () {"),l.push("    Brightics.VA.Core.Validator.SingleInputValidator.prototype.initRules.call(this);"),l.push("")):(l.push("function __clazz__Validator() {","    Brightics.VA.Core.Validator.PairInputValidator.call(this);","}","","__clazz__Validator.prototype = Object.create(Brightics.VA.Core.Validator.PairInputValidator.prototype);","__clazz__Validator.prototype.constructor = __clazz__Validator;",""),l.push("__clazz__Validator.prototype.initRules = function () {"),l.push("    Brightics.VA.Core.Validator.PairInputValidator.prototype.initRules.call(this);"),l.push(""));for(var c=0;c<r.length;c++)"true"===r[c].mandatory&&"ColumnSelector"===r[c].control.type?l.push("    this.add"+e(r[c].param)+"Rule();"):"true"!==r[c].mandatory||"NumericInput"!==r[c].control.type&&"Input"!==r[c].control.type&&"MultiLineInput"!==r[c].control.type&&"InputBox"!==r[c].control.type&&"CheckBox"!==r[c].control.type||l.push("    this.add"+e(r[c].param)+"Rule();");l.push("};"),l.push("");for(c=0;c<r.length;c++)"true"===r[c].mandatory&&"ColumnSelector"===r[c].control.type?l=l.concat(a(r[c])):"true"===r[c].mandatory&&"InputBox"===r[c].control.type?l="String"===r[c].type?l.concat(i(r[c])):l.concat(o(r[c])):r[c].mandatory&&"MultiLineInput"===r[c].control.type?l=l.concat(n(r[c])):"true"===r[c].mandatory&&"CheckBox"===r[c].control.type&&(l=l.concat(s(r[c])));return p.concat(l,["Brightics.VA.Core.Functions.Library.__func__.validator = __clazz__Validator;"])}},a=function(t){var r=[];return r.push("__clazz__Validator.prototype.add"+e(t.param)+"Rule = function () {"),r.push("    var _this = this;"),t.mandatory&&(r.push("    this.addRule(function (fnUnit) {"),r.push("        return _this.checkColumnIsEmpty(fnUnit, '"+t.param+"', fnUnit.param['"+t.param+"'], '"+t.label+"');"),r.push("    });")),r.push("    this.addRule(function (fnUnit) {"),r.push("        return _this.checkColumnExists(fnUnit, '"+t.param+"', fnUnit.param['"+t.param+"']);"),r.push("    });"),t.control["ref-table"]["column-type"]&&t.control["ref-table"]["column-type"].length>0&&(r.push("    this.addRule(function (fnUnit) {"),r.push("        return _this.checkColumnType(fnUnit, '"+t.param+"', fnUnit.param['"+t.param+"'], "+JSON.stringify(t.control["ref-table"]["column-type"])+");"),r.push("    });")),r.push("};"),r.push(" "),r},o=function(t){var r=[];return r.push("__clazz__Validator.prototype.add"+e(t.param)+"Rule = function () {"),r.push("    var _this = this;"),r.push("    this.addRule(function (fnUnit) {"),r.push("        var msg = {"),r.push("            errorCode: 'BR-0033',"),r.push("            param: '"+t.param+"',"),r.push("            messageParam: ['"+t.label+"']"),r.push("        };"),r.push("        return _this._checkStringIsEmpty(msg, fnUnit, fnUnit.param['"+t.param+"']);"),r.push("    });"),r.push("};"),r.push(" "),r},i=function(t){var r=[];return r.push("__clazz__Validator.prototype.add"+e(t.param)+"Rule = function () {"),r.push("    var _this = this;"),r.push("    this.addRule(function (fnUnit) {"),r.push("        var msg = {"),r.push("            errorCode: 'BR-0033',"),r.push("            param: '"+t.param+"',"),r.push("            messageParam: ['"+t.label+"']"),r.push("        };"),r.push("        return _this._checkStringIsEmpty(msg, fnUnit, fnUnit.param['"+t.param+"']);"),r.push("    });"),r.push("};"),r.push(" "),r},n=function(t){var r=[];return r.push("__clazz__Validator.prototype.add"+e(t.param)+"Rule = function () {"),r.push("    var _this = this;"),r.push("    this.addRule(function (fnUnit) {"),r.push("        var msg = {"),r.push("            errorCode: 'BR-0033',"),r.push("            param: '"+t.param+"',"),r.push("            messageParam: ['"+t.label+"']"),r.push("        };"),r.push("        return _this._checkArrayIsEmpty(msg, fnUnit, fnUnit.param['"+t.param+"']);"),r.push("    });"),r.push("};"),r.push(" "),r},s=function(t){var r=[];return r.push("__clazz__Validator.prototype.add"+e(t.param)+"Rule = function () {"),r.push("    var _this = this;"),r.push("    this.addRule(function (fnUnit) {"),r.push("        var msg = {"),r.push("            errorCode: 'BR-0033',"),r.push("            param: '"+t.param+"',"),r.push("            messageParam: ['"+t.label+"']"),r.push("        };"),r.push("        return _this._checkArrayIsEmpty(msg, fnUnit, fnUnit.param['"+t.param+"']);"),r.push("    });"),r.push("};"),r.push(" "),r};t.Tools.Ui.ValidatorCodeGenerator=r}.call(this);