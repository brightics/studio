!function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=686)}({299:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=o(300),a=(r=n)&&r.__esModule?r:{"default":r};function i(t,e){a["default"].call(this,t,$.extend(!0,{},e))}i.prototype=Object.create(a["default"].prototype),i.prototype.constructor=i,i.prototype.createContents=function(){return this.$mainControl=$('<div class="bcharts-tethys">   <div class="bcharts-tethys-layout" layout="flex">   </div></div>'),this.$mainControl},i.prototype.createLayout=function(){var t,e=this.$mainControl.children(".bcharts-tethys-layout");this.options.pagination.enable?(t=(-1!=this.options.layout.flexData.width.indexOf("px")?Math.floor(this.$mainControl.innerWidth()/parseInt(this.options.layout.flexData.width.replace("px",""))):Math.floor(this.$mainControl.innerWidth()/(this.$mainControl.innerWidth()*parseInt(this.options.layout.flexData.width.replace("%",""))/100)))*(-1!=this.options.layout.flexData.height.indexOf("px")?Math.floor(parseInt(this.options.pagination.height.replace("px",""))/parseInt(this.options.layout.flexData.height.replace("px",""))):Math.floor(parseInt(this.options.pagination.height.replace("px",""))/(parseInt(this.options.pagination.height.replace("px",""))*parseInt(this.options.layout.flexData.height.replace("%",""))/100))),console.log("ChartCount ",t),console.log("PageIndex ",this.options.pagination.pageIndex),this._createFlexLayout(e,this.options.keys(),this.options.layout.flexData,t,this.options.pagination.pageIndex)):this._createFlexLayout(e,this.options.keys(),this.options.layout.flexData,this.options.keys().length,0),this._perfectScrollbar(e)},i.prototype._createFlexLayout=function(t,e,o,r,n){var a=0;a=(n+1)*r>=e.length?e.length:(n+1)*r;for(var i=n*r;i<a;i++){var s=this._uuid+i,p=$('<div class="bcharts-tethys-layout-item" status="ready" id="'+s+'">   <div class="bcharts-tethys-loading"></div></div>');o.width&&p.css("width",o.width),o.height&&p.css("height",o.height),p.find(".bcharts-tethys-loading").text(e[i]),p.data("ItemKey",e[i]),p.data("chartUid",s),p.attr("groupByKeyName","bcharts-"+i+"-"+this.genGroupByKeyName(e[i])),t.append(p)}},i.prototype._perfectScrollbar=function(t){t.perfectScrollbar(),t.on("ps-scroll-x",function(){$(window).scroll()}),t.on("ps-scroll-y",function(){$(window).scroll()})},i.prototype.hasAutoEvent=function(){return!1},i.prototype.doAutoEvent=function(){var t=this.$mainControl.find(".bcharts-tethys-layout"),e=t.scrollTop();t.scrollTop(e+parseInt(this.options.layout.flexData.height.replace("px","")))},i.prototype.getAppearItems=function(){return this.$mainControl.find(this.getAppearItemSelector())},i.prototype.getAppearItemSelector=function(){return".bcharts-tethys-layout-item"},i.prototype.destroy=function(){this.$mainControl.remove()},e["default"]=i},300:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Brightics.Chart.Widget;function n(t,e){r.call(this,t,$.extend(!0,{},e)),this._uuid=this.createUUID()}n.prototype=Object.create(r.prototype),n.prototype.constructor=n,n.prototype.createContents=function(){},n.prototype.createLayout=function(){},n.prototype.getAppearItems=function(){},n.prototype.getAppearItemSelector=function(){},n.prototype.getLayoutContainer=function(){},n.prototype.hasAutoEvent=function(){},n.prototype.doAutoEvent=function(){},n.prototype.destroy=function(){},n.prototype.createUUID=function(){return function(){for(var t,e="",o=0;o<10;o++)e+=(t="23456789abcdefghjkmnpqrstuvwxyz").charAt(Math.floor(Math.random()*t.length));return e}()},n.prototype.genGroupByKeyName=function(t){return"string"!=typeof t&&(t=JSON.stringify(t)),t.replace(/[.]/gi,"-").replace(/["]/gi,'\\"')},e["default"]=n},686:function(t,e,o){"use strict";var r,n=o(687),a=(r=n)&&r.__esModule?r:{"default":r};$.fn.bchartsTethys=function(t,e,o){var r=this.first();if(!t)return r.children(".bcharts-tethys").data("BChartsTethysRef");if("string"!=typeof t){n=new a["default"](r,t);return r.children(".bcharts-tethys").data("BChartsTethysRef",n),this}var n,i=t;return(n=r.children(".bcharts-tethys").data("BChartsTethysRef"))&&"function"==typeof n[i]?n[i](e,o):void 0}},687:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(o(299)),n=i(o(688)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}(o(689));function i(t){return t&&t.__esModule?t:{"default":t}}var s=Brightics.Chart.Widget;function p(t,e){s.call(this,t,$.extend(!0,{},e)),this._putTethysRef()}p.prototype=Object.create(s.prototype),p.prototype.constructor=p,p.prototype._init=function(){s.prototype._init.call(this),this._getTethysRef()&&this._getTethysRef().destroy(),this.chartCache=new n["default"](this.options.cache),this.layoutManager=this._createLayoutManager(),this.currentRenderJobCount=0},p.prototype.destroy=function(){this._clearAppearEvent(),this.chartCache.destroy(),this.layoutManager.destroy(),this.currentRenderJobCount=0,clearInterval(this.chartRenderIntervalId)},p.prototype._createLayoutManager=function(){return this.options.layout&&this.options.layout.type?a.createLayout(this.options.layout.type,this.parentId,this.options):new r["default"](this.parentId,this.options)},p.prototype._createContents=function(t){var e=this;this.$mainControl=this.layoutManager.createContents(),this.$mainControl&&t.append(this.$mainControl),this._applyStyle(),this.layoutManager.createLayout(),this._bindAppearEvent(),this._doLayoutAutoEvent(),this.chartRenderIntervalId=setInterval(function(){e._renderChart()},300)},p.prototype._applyStyle=function(){var t=["background","border","padding","width","height","borderRadius"];for(var e in t)"undefined"!=typeof this.options.style[t[e]]&&this.$mainControl&&this.$mainControl.css(t[e],this.options.style[t[e]])},p.prototype._bindAppearEvent=function(){var t=this,e=this.layoutManager.getAppearItems();this.layoutManager.getAppearItemSelector(),this.layoutManager.getLayoutContainer()||this.$parent;e.appear({interval:250,force_process:!0}),this._appearFunction=function(e,o){if("ready"===$(e.target).attr("status")){var r=$(e.target).attr("id");t.chartCache.appeared([r])}},e.on("appear",this._appearFunction),this._disappearFunction=function(e,o){var r=$(e.target).attr("id");t.chartCache.disappeared(r)},e.on("disappear",this._disappearFunction)},p.prototype._clearAppearEvent=function(){var t=this.layoutManager.getAppearItems();t.off("appear",this._appearFunction),t.off("disappear",this._disappearFunction)},p.prototype._doLayoutAutoEvent=function(){var t=this;this.layoutManager.hasAutoEvent()&&(setTimeout(function(){t._doLayoutAutoEvent()},1e3),this._isStarted&&t._isIdle()&&this.layoutManager.doAutoEvent())},p.prototype._renderChart=function(){if(!(this.currentRenderJobCount>0)){var t=this;this._isStarted=!0;var e=this.layoutManager.getLayoutContainer()||this.$parent,o=this.chartCache.shift();if(o){t.currentRenderJobCount++;var r=e.find("#"+o);r.find(".bcharts-container").remove(),r.attr("status","loaded");var n=r.data("ItemKey"),a=this.options.chart(n);r.bcharts(a),r.find(".bcharts-container").on("bindingComplete",function(){t.currentRenderJobCount--}),r.find(".bcharts-container").on("bindingError",function(){t.currentRenderJobCount--})}this._gc()}},p.prototype._destroyChart=function(t){var e=this,o=this.$parent.find('[groupByKeyName="'+CSS.escape(t)+'"]'),r=o.children(".bcharts-container").clone();if("undefined"!=typeof r[0]){var n=new Image;n.src=o.bcharts("getDataURL",{pixelRatio:2}),r.find(".bcharts-chart").empty(),r.find(".bcharts-chart").append(n),r.mouseover(function(){e.chartCache.appeared([$(this).parent().attr("groupByKeyName")])}),o.bcharts("destroy"),o.children(".bcharts-container").remove(),o.append(r),o.attr("status","cached")}},p.prototype._isIdle=function(){return 0==this.chartCache.loadingList.length&&0==this.currentRenderJobCount},p.prototype._gc=function(){var t=this.chartCache.gc();for(var e in t)this._destroyChart(t[e])},p.prototype._putTethysRef=function(){this.$parent.data("bcharts-tethys-ref",this)},p.prototype._getTethysRef=function(){return this.$parent.data("bcharts-tethys-ref")},e["default"]=p},688:function(t,e,o){"use strict";function r(t){var e=t.maxLimit,o=t.evictionCount;this.loadingList=[],this.loadedList=[],this.maxLimit=e,this.evictionCount=o}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype.appeared=function(t){for(var e=0;e<t.length;e++){var o=$.inArray(t[e],this.loadedList);o>-1?(this.loadedList.splice(o,1),this.loadedList.push(t[e])):(o=$.inArray(t[e],this.loadingList))<0&&this.loadingList.push(t[e])}},r.prototype.disappeared=function(t){var e=$.inArray(t,this.loadingList);e>-1&&this.loadingList.splice(e,1)},r.prototype.shift=function(){var t=this.loadingList.shift();return void 0!==t&&this.loadedList.push(t),t},r.prototype.gc=function(){var t=[];if(this.loadedList.length>this.maxLimit)for(var e=0;e<this.evictionCount;e++)t.push(this.loadedList.shift());return t},r.prototype.destroy=function(){this.loadingList=[],this.loadedList=[]},e["default"]=r},689:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerLayout=function(t){$.isEmptyObject(n)&&console.log("chart layout register is empty");n[t.Key]=t.Func},e.createLayout=function(t,e,o){if(!n[t]||!e||!o)throw new Error("Cannot create chart layout. "+t);return new n[t](e,o)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}(o(690));var n={};Object.keys(r).forEach(function(t){n[t]=r[t]}),e["default"]=n},690:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.each=e.flex=undefined;var r=a(o(299)),n=a(o(691));function a(t){return t&&t.__esModule?t:{"default":t}}e.flex=r["default"],e.each=n["default"]},691:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=o(300),a=(r=n)&&r.__esModule?r:{"default":r};var i="bcharts-tethys-layout-item";function s(t,e){a["default"].call(this,t,$.extend(!0,{},e))}s.prototype=Object.create(a["default"].prototype),s.prototype.constructor=s,s.prototype._init=function(){this.$items=this.parentId.prevObject},s.prototype.createLayout=function(){for(var t=this.$items,e=this.options.keys(),o=0;o<t.length;o++){var r=this.genGroupByKeyName(e[o]),n=this._uuid+o,a=$('<div class="'+i+'" status="ready" layout="each" id="'+n+'">   <div class="bcharts-tethys-loading"></div></div>');a.find(".bcharts-tethys-loading").text(e[o]),a.data("ItemKey",r),a.data("chartUid",n),a.attr("groupByKeyName","bcharts-"+o+"-"+r),$(t[o]).append(a)}},s.prototype.getAppearItems=function(){return this.$items.find("."+i)},s.prototype.getLayoutContainer=function(){return $(document.body)},s.prototype.getAppearItemSelector=function(){return"."+i},s.prototype.destroy=function(){this.getAppearItems().remove()},e["default"]=s}});