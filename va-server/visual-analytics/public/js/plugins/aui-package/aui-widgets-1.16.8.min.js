/* Samsung SDS Anyframe UI
Copyright (C) 2016 Samsung SDS Co., Ltd. All Rights Reserved */

/* Anyframe UI Extension for jqWidget-1.16.8 built on 2017-10-26, 11:32:41 AM */

!function(a,b){function c(a){var b=ga[a]={};return S.each(a.split(V),function(a,c){b[c]=!0}),b}function d(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(ia,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:ha.test(d)?S.parseJSON(d):d)}catch(f){}S.data(a,c,d)}else d=b}return d}function e(a){var b;for(b in a)if(("data"!==b||!S.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function f(){return!1}function g(){return!0}function h(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function i(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function j(a,b,c){if(b=b||0,S.isFunction(b))return S.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return S.grep(a,function(a,d){return a===b===c});if("string"==typeof b){var d=S.grep(a,function(a){return 1===a.nodeType});if(Aa.test(b))return S.filter(b,d,!c);b=S.filter(b,d)}return S.grep(a,function(a,d){return S.inArray(a,b)>=0===c})}function k(a){var b=Da.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function l(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function m(a,b){if(1===b.nodeType&&S.hasData(a)){var c,d,e,f=S._data(a),g=S._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)S.event.add(b,c,h[c][d])}g.data&&(g.data=S.extend({},g.data))}}function n(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),S.support.html5Clone&&a.innerHTML&&!S.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Na.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(S.expando))}function o(a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function p(a){Na.test(a.type)&&(a.defaultChecked=a.checked)}function q(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=hb.length;e--;)if(b=hb[e]+c,b in a)return b;return d}function r(a,b){return a=b||a,"none"===S.css(a,"display")||!S.contains(a.ownerDocument,a)}function s(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)c=a[f],c.style&&(e[f]=S._data(c,"olddisplay"),b?(e[f]||"none"!==c.style.display||(c.style.display=""),""===c.style.display&&r(c)&&(e[f]=S._data(c,"olddisplay",w(c.nodeName)))):(d=Ua(c,"display"),e[f]||"none"===d||S._data(c,"olddisplay",d)));for(f=0;f<g;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?e[f]||"":"none"));return a}function t(a,b,c){var d=ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function u(a,b,c,d){for(var e=c===(d?"border":"content")?4:"width"===b?1:0,f=0;e<4;e+=2)"margin"===c&&(f+=S.css(a,c+gb[e],!0)),d?("content"===c&&(f-=parseFloat(Ua(a,"padding"+gb[e]))||0),"margin"!==c&&(f-=parseFloat(Ua(a,"border"+gb[e]+"Width"))||0)):(f+=parseFloat(Ua(a,"padding"+gb[e]))||0,"padding"!==c&&(f+=parseFloat(Ua(a,"border"+gb[e]+"Width"))||0));return f}function v(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e=!0,f=S.support.boxSizing&&"border-box"===S.css(a,"boxSizing");if(d<=0||null==d){if(d=Ua(a,b),(d<0||null==d)&&(d=a.style[b]),bb.test(d))return d;e=f&&(S.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+u(a,b,c||(f?"border":"content"),e)+"px"}function w(a){if(db[a])return db[a];var b=S("<"+a+">").appendTo(I.body),c=b.css("display");return b.remove(),"none"!==c&&""!==c||(Va=I.body.appendChild(Va||S.extend(I.createElement("iframe"),{frameBorder:0,width:0,height:0})),Wa&&Va.createElement||(Wa=(Va.contentWindow||Va.contentDocument).document,Wa.write("<!doctype html><html><body>"),Wa.close()),b=Wa.body.appendChild(Wa.createElement(a)),c=Ua(b,"display"),I.body.removeChild(Va)),db[a]=c,c}function x(a,b,c,d){var e;if(S.isArray(b))S.each(b,function(b,e){c||kb.test(a)?d(a,e):x(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==S.type(b))d(a,b);else for(e in b)x(a+"["+e+"]",b[e],c,d)}function y(){return setTimeout(function(){ob=b},0),ob=S.now()}function z(a,b){S.each(b,function(b,c){for(var d=(ub[b]||[]).concat(ub["*"]),e=0,f=d.length;e<f;e++)if(d[e].call(a,b,c))return})}function A(a,b,c){var d,e=0,f=tb.length,g=S.Deferred().always(function(){delete h.elem}),h=function(){for(var b=ob||y(),c=Math.max(0,i.startTime+i.duration-b),d=c/i.duration||0,e=1-d,f=0,h=i.tweens.length;f<h;f++)i.tweens[f].run(e);return g.notifyWith(a,[i,e,c]),e<1&&h?c:(g.resolveWith(a,[i]),!1)},i=g.promise({elem:a,props:S.extend({},b),opts:S.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:ob||y(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=S.Tween(a,i.opts,b,c,i.opts.specialEasing[b]||i.opts.easing);return i.tweens.push(e),e},stop:function(b){for(var c=0,d=b?i.tweens.length:0;c<d;c++)i.tweens[c].run(1);return b?g.resolveWith(a,[i,b]):g.rejectWith(a,[i,b]),this}}),j=i.props;for(B(j,i.opts.specialEasing);e<f;e++)if(d=tb[e].call(i,a,j,i.opts))return d;return z(i,j),S.isFunction(i.opts.start)&&i.opts.start.call(a,i),S.fx.timer(S.extend(h,{anim:i,queue:i.opts.queue,elem:a})),i.progress(i.opts.progress).done(i.opts.done,i.opts.complete).fail(i.opts.fail).always(i.opts.always)}function B(a,b){var c,d,e,f,g;for(c in a)if(d=S.camelCase(c),e=b[d],f=a[c],S.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=S.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function C(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&r(a);c.queue||(k=S._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,S.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===S.css(a,"display")&&"none"===S.css(a,"float")&&(S.support.inlineBlockNeedsLayout&&"inline"!==w(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",S.support.shrinkWrapBlocks||m.done(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(f=b[d],qb.exec(f)){if(delete b[d],i=i||"toggle"===f,f===(q?"hide":"show"))continue;p.push(d)}if(g=p.length){h=S._data(a,"fxshow")||S._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?S(a).show():m.done(function(){S(a).hide()}),m.done(function(){var b;S.removeData(a,"fxshow",!0);for(b in o)S.style(a,b,o[b])});for(d=0;d<g;d++)e=p[d],j=m.createTween(e,q?h[e]:0),o[e]=h[e]||S.style(a,e),e in h||(h[e]=j.start,q&&(j.end=j.start,j.start="width"===e||"height"===e?1:0))}}function D(a,b,c,d,e){return new D.prototype.init(a,b,c,d,e)}function E(a,b){var c,d={height:a},e=0;for(b=b?1:0;e<4;e+=2-b)c=gb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function F(a){return S.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow)}var G,H,I=a.document,J=(a.location,a.navigator),K=a.JQXLite,L=a.$,M=Array.prototype.push,N=Array.prototype.slice,O=Array.prototype.indexOf,P=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,R=String.prototype.trim,S=function(a,b){return new S.fn.init(a,b,G)},T=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,U=/\S/,V=/\s+/,W=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,X=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Y=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Z=/^[\],:{}\s]*$/,$=/(?:^|:|,)(?:\s*\[)+/g,_=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,aa=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ba=/^-ms-/,ca=/-([\da-z])/gi,da=function(a,b){return(b+"").toUpperCase()},ea=function(){I.addEventListener?(I.removeEventListener("DOMContentLoaded",ea,!1),S.ready()):"complete"===I.readyState&&(I.detachEvent("onreadystatechange",ea),S.ready())},fa={};S.fn=S.prototype={constructor:S,init:function(a,c,d){var e,f,g;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:X.exec(a),!e||!e[1]&&c)return!c||c.jqx?(c||d).find(a):this.constructor(c).find(a);if(e[1])return c=c instanceof S?c[0]:c,g=c&&c.nodeType?c.ownerDocument||c:I,a=S.parseHTML(e[1],g,!0),Y.test(e[1])&&S.isPlainObject(c)&&this.attr.call(a,c,!0),S.merge(this,a);if(f=I.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=I,this.selector=a,this}return S.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),S.makeArray(a,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return N.call(this)},get:function(a){return null==a?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=S.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return S.each(this,a,b)},ready:function(a){return S.ready.promise().done(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(N.apply(this,arguments),"slice",N.call(arguments).join(","))},map:function(a){return this.pushStack(S.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:M,sort:[].sort,splice:[].splice},S.fn.init.prototype=S.fn,S.extend=S.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||S.isFunction(h)||(h={}),j===i&&(h=this,--i);i<j;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(S.isPlainObject(e)||(f=S.isArray(e)))?(f?(f=!1,g=d&&S.isArray(d)?d:[]):g=d&&S.isPlainObject(d)?d:{},h[c]=S.extend(k,g,e)):e!==b&&(h[c]=e));return h},S.extend({noConflict:function(b){return a.$===S&&(a.$=L),b&&a.JQXLite===S&&(a.JQXLite=K),S},isReady:!1,readyWait:1,holdReady:function(a){a?S.readyWait++:S.ready(!0)},ready:function(a){if(a===!0?!--S.readyWait:!S.isReady){if(!I.body)return setTimeout(S.ready,1);S.isReady=!0,a!==!0&&--S.readyWait>0||(H.resolveWith(I,[S]),S.fn.trigger&&S(I).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===S.type(a)},isArray:Array.isArray||function(a){return"array"===S.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):fa[P.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==S.type(a)||a.nodeType||S.isWindow(a))return!1;try{if(a.constructor&&!Q.call(a,"constructor")&&!Q.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||Q.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return a&&"string"==typeof a?("boolean"==typeof b&&(c=b,b=0),b=b||I,(d=Y.exec(a))?[b.createElement(d[1])]:(d=S.buildFragment([a],b,c?null:[]),S.merge([],(d.cacheable?S.clone(d.fragment):d.fragment).childNodes))):null},parseJSON:function(b){return b&&"string"==typeof b?(b=S.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):Z.test(b.replace(_,"@").replace(aa,"]").replace($,""))?new Function("return "+b)():void S.error("Invalid JSON: "+b)):null},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&U.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ba,"ms-").replace(ca,da)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||S.isFunction(a);if(d)if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;f<g&&c.apply(a[f++],d)!==!1;);else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;f<g&&c.call(a[f],f,a[f++])!==!1;);return a},trim:R&&!R.call("\ufeff ")?function(a){return null==a?"":R.call(a)}:function(a){return null==a?"":(a+"").replace(W,"")},makeArray:function(a,b){var c,d=b||[];return null!=a&&(c=S.type(a),null==a.length||"string"===c||"function"===c||"regexp"===c||S.isWindow(a)?M.call(d,a):S.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(O)return O.call(b,a,c);for(d=b.length,c=c?c<0?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;f<d;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof S||i!==b&&"number"==typeof i&&(i>0&&a[0]&&a[i-1]||0===i||S.isArray(a));if(j)for(;h<i;h++)e=c(a[h],h,d),null!=e&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),null!=e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),S.isFunction(a)?(e=N.call(arguments,2),f=function(){return a.apply(c,e.concat(N.call(arguments)))},f.guid=a.guid=a.guid||S.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=null==d,k=0,l=a.length;if(d&&"object"==typeof d){for(k in d)S.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){if(i=h===b&&S.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(S(a),c)}):(c.call(a,e),c=null)),c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),S.ready.promise=function(b){if(!H)if(H=S.Deferred(),"complete"===I.readyState)setTimeout(S.ready,1);else if(I.addEventListener)I.addEventListener("DOMContentLoaded",ea,!1),a.addEventListener("load",S.ready,!1);else{I.attachEvent("onreadystatechange",ea),a.attachEvent("onload",S.ready);var c=!1;try{c=null==a.frameElement&&I.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!S.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}S.ready()}}()}return H.promise(b)},S.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){fa["[object "+b+"]"]=b.toLowerCase()}),G=S(I);var ga={};S.Callbacks=function(a){a="string"==typeof a?ga[a]||c(a):S.extend({},a);var d,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&i<h;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function c(b){S.each(b,function(b,d){var e=S.type(d);"function"===e?a.unique&&m.has(d)||j.push(d):d&&d.length&&"string"!==e&&c(d)})}(arguments),f?h=j.length:d&&(g=b,l(d))}return this},remove:function(){return j&&S.each(arguments,function(a,b){for(var c;(c=S.inArray(b,j,c))>-1;)j.splice(c,1),f&&(c<=h&&h--,c<=i&&i--)}),this},has:function(a){return S.inArray(a,j)>-1},empty:function(){return j=[],this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||e&&!k||(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},S.extend({Deferred:function(a){var b=[["resolve","done",S.Callbacks("once memory"),"resolved"],["reject","fail",S.Callbacks("once memory"),"rejected"],["notify","progress",S.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return S.Deferred(function(c){S.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](S.isFunction(g)?function(){var a=g.apply(this,arguments);a&&S.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return null!=a?S.extend(a,d):d}},e={};return d.pipe=d.then,S.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=N.call(arguments),g=f.length,h=1!==g||a&&S.isFunction(a.promise)?g:0,i=1===h?a:S.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?N.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&S.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),S.support=function(){var b,c,d,e,f,g,h,i,j,k,l,m=I.createElement("div");if(m.setAttribute("className","t"),m.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=m.getElementsByTagName("*"),d=m.getElementsByTagName("a")[0],!c||!d||!c.length)return{};e=I.createElement("select"),f=e.appendChild(I.createElement("option")),g=m.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={leadingWhitespace:3===m.firstChild.nodeType,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:"on"===g.value,optSelected:f.selected,getSetAttribute:"t"!==m.className,enctype:!!I.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==I.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===I.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},g.checked=!0,b.noCloneChecked=g.cloneNode(!0).checked,e.disabled=!0,b.optDisabled=!f.disabled;try{delete m.test}catch(n){b.deleteExpando=!1}if(!m.addEventListener&&m.attachEvent&&m.fireEvent&&(m.attachEvent("onclick",l=function(){b.noCloneEvent=!1}),m.cloneNode(!0).fireEvent("onclick"),m.detachEvent("onclick",l)),g=I.createElement("input"),g.value="t",g.setAttribute("type","radio"),b.radioValue="t"===g.value,g.setAttribute("checked","checked"),g.setAttribute("name","t"),m.appendChild(g),h=I.createDocumentFragment(),h.appendChild(m.lastChild),b.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=g.checked,h.removeChild(g),h.appendChild(m),m.attachEvent)for(j in{submit:!0,change:!0,focusin:!0})i="on"+j,k=i in m,k||(m.setAttribute(i,"return;"),k="function"==typeof m[i]),b[j+"Bubbles"]=k;return S(function(){var c,d,e,f,g="padding:0;margin:0;border:0;display:block;overflow:hidden;",h=I.getElementsByTagName("body")[0];h&&(c=I.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",h.insertBefore(c,h.firstChild),d=I.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=d.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=k&&0===e[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===d.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==h.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(d,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(d,null)||{width:"4px"}).width,f=I.createElement("div"),f.style.cssText=d.style.cssText=g,f.style.marginRight=f.style.width="0",d.style.width="1px",d.appendChild(f),b.reliableMarginRight=!parseFloat((a.getComputedStyle(f,null)||{}).marginRight)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.cssText=g+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==d.offsetWidth,c.style.zoom=1),h.removeChild(c),c=d=e=f=null)}),h.removeChild(m),c=d=e=f=g=h=m=null,b}();var ha=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ia=/([A-Z])/g;S.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(S.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?S.cache[a[S.expando]]:a[S.expando],!!a&&!e(a)},data:function(a,c,d,e){if(S.acceptData(a)){var f,g,h=S.expando,i="string"==typeof c,j=a.nodeType,k=j?S.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=S.deletedIds.pop()||S.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=S.noop)),"object"!=typeof c&&"function"!=typeof c||(e?k[l]=S.extend(k[l],c):k[l].data=S.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[S.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[S.camelCase(c)])):g=f,g}},removeData:function(a,b,c){if(S.acceptData(a)){var d,f,g,h=a.nodeType,i=h?S.cache:a,j=h?a[S.expando]:S.expando;if(i[j]){if(b&&(d=c?i[j]:i[j].data)){S.isArray(b)||(b in d?b=[b]:(b=S.camelCase(b),b=b in d?[b]:b.split(" ")));for(f=0,g=b.length;f<g;f++)delete d[b[f]];if(!(c?e:S.isEmptyObject)(d))return}(c||(delete i[j].data,e(i[j])))&&(h?S.cleanData([a],!0):S.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}},_data:function(a,b,c){return S.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&S.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),S.fn.extend({data:function(a,c){var e,f,g,h,i,j=this[0],k=0,l=null;if(a===b){if(this.length&&(l=S.data(j),1===j.nodeType&&!S._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;k<i;k++)h=g[k].name,h.indexOf("data-")||(h=S.camelCase(h.substring(5)),d(j,h,l[h]));S._data(j,"parsedAttrs",!0)}return l}return"object"==typeof a?this.each(function(){S.data(this,a)}):(e=a.split(".",2),e[1]=e[1]?"."+e[1]:"",f=e[1]+"!",S.access(this,function(c){return c===b?(l=this.triggerHandler("getData"+f,[e[0]]),l===b&&j&&(l=S.data(j,a),l=d(j,a,l)),l===b&&e[1]?this.data(e[0]):l):(e[1]=c,void this.each(function(){var b=S(this);b.triggerHandler("setData"+f,e),S.data(this,a,c),b.triggerHandler("changeData"+f,e)}))},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){S.removeData(this,a)})}}),S.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=S._data(a,b),c&&(!d||S.isArray(c)?d=S._data(a,b,S.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=S.queue(a,b),d=c.length,e=c.shift(),f=S._queueHooks(a,b),g=function(){S.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return S._data(a,c)||S._data(a,c,{empty:S.Callbacks("once memory").add(function(){S.removeData(a,b+"queue",!0),S.removeData(a,c,!0)})})}}),S.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?S.queue(this[0],a):c===b?this:this.each(function(){var b=S.queue(this,a,c);S._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&S.dequeue(this,a)})},dequeue:function(a){return this.each(function(){S.dequeue(this,a)})},delay:function(a,b){return a=S.fx?S.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=S.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=S._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var ja,ka,la=/[\t\r\n]/g,ma=/\r/g,na=/^(?:button|input)$/i,oa=/^(?:button|input|object|select|textarea)$/i,pa=/^a(?:rea|)$/i,qa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ra=S.support.getSetAttribute;S.fn.extend({attr:function(a,b){return S.access(this,S.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){S.removeAttr(this,a)})},prop:function(a,b){return S.access(this,S.prop,a,b,arguments.length>1)},removeProp:function(a){return a=S.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(S.isFunction(a))return this.each(function(b){S(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(V),c=0,d=this.length;c<d;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(f=" "+e.className+" ",g=0,h=b.length;g<h;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=S.trim(f)}else e.className=a;return this},removeClass:function(a){var c,d,e,f,g,h,i;if(S.isFunction(a))return this.each(function(b){S(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(V),h=0,i=this.length;h<i;h++)if(e=this[h],1===e.nodeType&&e.className){for(d=(" "+e.className+" ").replace(la," "),f=0,g=c.length;f<g;f++)for(;d.indexOf(" "+c[f]+" ")>=0;)d=d.replace(" "+c[f]+" "," ");e.className=a?S.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return S.isFunction(a)?this.each(function(c){S(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=S(this),h=b,i=a.split(V);e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else"undefined"!==c&&"boolean"!==c||(this.className&&S._data(this,"__className__",this.className),this.className=this.className||a===!1?"":S._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(la," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=S.isFunction(a),this.each(function(d){var f,g=S(this);1===this.nodeType&&(f=e?a.call(this,d,g.val()):a,null==f?f="":"number"==typeof f?f+="":S.isArray(f)&&(f=S.map(f,function(a){return null==a?"":a+""})),c=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))});if(f)return c=S.valHooks[f.type]||S.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(ma,""):null==d?"":d)}}}),S.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(S.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!S.nodeName(c.parentNode,"optgroup"))){if(b=S(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c=S.makeArray(b);return S(a).find("option").each(function(){this.selected=S.inArray(S(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(a&&3!==i&&8!==i&&2!==i)return e&&S.isFunction(S.fn[c])?S(a)[c](d):"undefined"==typeof a.getAttribute?S.prop(a,c,d):(h=1!==i||!S.isXMLDoc(a),h&&(c=c.toLowerCase(),g=S.attrHooks[c]||(qa.test(c)?ka:ja)),d!==b?null===d?void S.removeAttr(a,c):g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):g&&"get"in g&&h&&null!==(f=g.get(a,c))?f:(f=a.getAttribute(c),null===f?b:f))},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&1===a.nodeType)for(d=b.split(V);g<d.length;g++)e=d[g],e&&(c=S.propFix[e]||e,f=qa.test(e),f||S.attr(a,e,""),a.removeAttribute(ra?e:c),f&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(na.test(a.nodeName)&&a.parentNode)S.error("type property can't be changed");else if(!S.support.radioValue&&"radio"===b&&S.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return ja&&S.nodeName(a,"button")?ja.get(a,b):b in a?a.value:null},set:function(a,b,c){return ja&&S.nodeName(a,"button")?ja.set(a,b,c):void(a.value=b)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!S.isXMLDoc(a),g&&(c=S.propFix[c]||c,f=S.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):oa.test(a.nodeName)||pa.test(a.nodeName)&&a.href?0:b}}}}),ka={get:function(a,c){var d,e=S.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?S.removeAttr(a,c):(d=S.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},S.support.enctype||(S.propFix.enctype="encoding");var sa=/^([^\.]*|)(?:\.(.+)|)$/,ta=/(?:^|\s)hover(\.\S+|)\b/,ua=/^key/,va=/^(?:mouse|contextmenu)|click/,wa=/^(?:focusinfocus|focusoutblur)$/,xa=function(a){return S.event.special.hover?a:a.replace(ta,"mouseenter$1 mouseleave$1")};S.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(g=S._data(a))){for(d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=S.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return"undefined"==typeof S||a&&S.event.triggered===a.type?b:S.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=S.trim(xa(c)).split(" "),j=0;j<c.length;j++)k=sa.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),q=S.event.special[l]||{},l=(f?q.delegateType:q.bindType)||l,q=S.event.special[l]||{},n=S.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&S.expr.match.needsContext.test(f),namespace:m.join(".")},o),p=i[l],p||(p=i[l]=[],p.delegateCount=0,q.setup&&q.setup.call(a,e,m,h)!==!1||(a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h))),q.add&&(q.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?p.splice(p.delegateCount++,0,n):p.push(n),S.event.global[l]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=S.hasData(a)&&S._data(a);if(q&&(m=q.events)){for(b=S.trim(xa(b||"")).split(" "),f=0;f<b.length;f++)if(g=sa.exec(b[f])||[],h=i=g[1],j=g[2],h){for(n=S.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=0;l<o.length;l++)p=o[l],!e&&i!==p.origType||c&&c.guid!==p.guid||j&&!j.test(p.namespace)||d&&d!==p.selector&&("**"!==d||!p.selector)||(o.splice(l--,1),p.selector&&o.delegateCount--,n.remove&&n.remove.call(a,p));0===o.length&&k!==o.length&&(n.teardown&&n.teardown.call(a,j,q.handle)!==!1||S.removeEvent(a,h,q.handle),delete m[h])}else for(h in m)S.event.remove(a,h+b[f],c,d,!0);S.isEmptyObject(m)&&(delete q.handle,S.removeData(a,"events",!0));
}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,f){if(!e||3!==e.nodeType&&8!==e.nodeType){var g,h,i,j,k,l,m,n,o,p,q=c.type||c,r=[];if(!wa.test(q+S.event.triggered)&&(q.indexOf("!")>=0&&(q=q.slice(0,-1),h=!0),q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),e&&!S.event.customEvent[q]||S.event.global[q]))if(c="object"==typeof c?c[S.expando]?c:new S.Event(q,c):new S.Event(q),c.type=q,c.isTrigger=!0,c.exclusive=h,c.namespace=r.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,l=q.indexOf(":")<0?"on"+q:"",e){if(c.result=b,c.target||(c.target=e),d=null!=d?S.makeArray(d):[],d.unshift(c),m=S.event.special[q]||{},!m.trigger||m.trigger.apply(e,d)!==!1){if(o=[[e,m.bindType||q]],!f&&!m.noBubble&&!S.isWindow(e)){for(p=m.delegateType||q,j=wa.test(p+q)?e:e.parentNode,k=e;j;j=j.parentNode)o.push([j,p]),k=j;k===(e.ownerDocument||I)&&o.push([k.defaultView||k.parentWindow||a,p])}for(i=0;i<o.length&&!c.isPropagationStopped();i++)j=o[i][0],c.type=o[i][1],n=(S._data(j,"events")||{})[c.type]&&S._data(j,"handle"),n&&n.apply(j,d),n=l&&j[l],n&&S.acceptData(j)&&n.apply&&n.apply(j,d)===!1&&c.preventDefault();return c.type=q,f||c.isDefaultPrevented()||m._default&&m._default.apply(e.ownerDocument,d)!==!1||"click"===q&&S.nodeName(e,"a")||!S.acceptData(e)||l&&e[q]&&("focus"!==q&&"blur"!==q||0!==c.target.offsetWidth)&&!S.isWindow(e)&&(k=e[l],k&&(e[l]=null),S.event.triggered=q,e[q](),S.event.triggered=b,k&&(e[l]=k)),c.result}}else{g=S.cache;for(i in g)g[i].events&&g[i].events[q]&&S.event.trigger(c,d,g[i].handle.elem,!0)}}},dispatch:function(c){c=S.event.fix(c||a.event);var d,e,f,g,h,i,j,k,l,m=(S._data(this,"events")||{})[c.type]||[],n=m.delegateCount,o=N.call(arguments),p=!c.exclusive&&!c.namespace,q=S.event.special[c.type]||{},r=[];if(o[0]=c,c.delegateTarget=this,!q.preDispatch||q.preDispatch.call(this,c)!==!1){if(n&&(!c.button||"click"!==c.type))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==c.type){for(h={},j=[],d=0;d<n;d++)k=m[d],l=k.selector,h[l]===b&&(h[l]=k.needsContext?S(l,this).index(f)>=0:S.find(l,this,null,[f]).length),h[l]&&j.push(k);j.length&&r.push({elem:f,matches:j})}for(m.length>n&&r.push({elem:this,matches:m.slice(n)}),d=0;d<r.length&&!c.isPropagationStopped();d++)for(i=r[d],c.currentTarget=i.elem,e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++)k=i.matches[e],(p||!c.namespace&&!k.namespace||c.namespace_re&&c.namespace_re.test(k.namespace))&&(c.data=k.data,c.handleObj=k,g=((S.event.special[k.origType]||{}).handle||k.handler).apply(i.elem,o),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation())));return q.postDispatch&&q.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||I,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[S.expando])return a;var b,c,d=a,e=S.event.fixHooks[a.type]||{},f=e.props?this.props.concat(e.props):this.props;for(a=S.Event(d),b=f.length;b;)c=f[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||I),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,e.filter?e.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){S.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=S.extend(new S.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?S.event.trigger(e,null,b):S.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},S.event.handle=S.event.dispatch,S.removeEvent=I.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},S.Event=function(a,b){return this instanceof S.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?g:f):this.type=a,b&&S.extend(this,b),this.timeStamp=a&&a.timeStamp||S.now(),void(this[S.expando]=!0)):new S.Event(a,b)},S.Event.prototype={preventDefault:function(){this.isDefaultPrevented=g;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=g;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f},S.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){S.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;f.selector;return e&&(e===d||S.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),S.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=f;else if(!e)return this;return 1===g&&(h=e,e=function(a){return S().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=S.guid++)),this.each(function(){S.event.add(this,a,e,d,c)})},off:function(a,c,d){var e,g;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,S(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(g in a)this.off(g,c,a[g]);return this}return c!==!1&&"function"!=typeof c||(d=c,c=b),d===!1&&(d=f),this.each(function(){S.event.remove(this,a,d,c)})},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){S.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return S.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||S.guid++,d=0,e=function(c){var e=(S._data(this,"lastToggle"+a.guid)||0)%d;return S._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),S.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){S.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},ua.test(b)&&(S.event.fixHooks[b]=S.event.keyHooks),va.test(b)&&(S.event.fixHooks[b]=S.event.mouseHooks)}),function(a,b){function c(a,b,c,d){c=c||[],b=b||F;var e,f,g,h,i=b.nodeType;if(!a||"string"!=typeof a)return c;if(1!==i&&9!==i)return[];if(g=v(b),!g&&!d&&(e=ca.exec(a)))if(h=e[1]){if(9===i){if(f=b.getElementById(h),!f||!f.parentNode)return c;if(f.id===h)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&w(b,f)&&f.id===h)return c.push(f),c}else{if(e[2])return K.apply(c,L.call(b.getElementsByTagName(a),0)),c;if((h=e[3])&&ma&&b.getElementsByClassName)return K.apply(c,L.call(b.getElementsByClassName(h),0)),c}return p(a.replace($,"$1"),b,c,d,g)}function d(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function f(a){return N(function(b){return b=+b,N(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function g(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}function h(a,b){var d,e,f,g,h,i,j,k=Q[D][a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=t.preFilter;h;){d&&!(e=_.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=aa.exec(h))&&(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=e[0].replace($," "));for(g in t.filter)!(e=ha[g].exec(h))||j[g]&&!(e=j[g](e))||(f.push(d=new E(e.shift())),h=h.slice(d.length),d.type=g,d.matches=e);if(!d)break}return b?h.length:h?c.error(a):Q(a,i).slice(0)}function i(a,b,c){var d=b.dir,e=c&&"parentNode"===b.dir,f=I++;return b.first?function(b,c,f){for(;b=b[d];)if(e||1===b.nodeType)return a(b,c,f)}:function(b,c,g){if(g){for(;b=b[d];)if((e||1===b.nodeType)&&a(b,c,g))return b}else for(var h,i=H+" "+f+" ",j=i+r;b=b[d];)if(e||1===b.nodeType){if((h=b[D])===j)return b.sizset;if("string"==typeof h&&0===h.indexOf(i)){if(b.sizset)return b}else{if(b[D]=j,a(b,c,g))return b.sizset=!0,b;b.sizset=!1}}}}function j(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function k(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function l(a,b,c,d,e,f){return d&&!d[D]&&(d=l(d)),e&&!e[D]&&(e=l(e,f)),N(function(f,g,h,i){var j,l,m,n=[],p=[],q=g.length,r=f||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!f&&b?r:k(r,n,a,h,i),t=c?e||(f?a:q||d)?[]:g:s;if(c&&c(s,t,h,i),d)for(j=k(t,p),d(j,[],h,i),l=j.length;l--;)(m=j[l])&&(t[p[l]]=!(s[p[l]]=m));if(f){if(e||a){if(e){for(j=[],l=t.length;l--;)(m=t[l])&&j.push(s[l]=m);e(null,t=[],j,i)}for(l=t.length;l--;)(m=t[l])&&(j=e?M.call(f,m):n[l])>-1&&(f[j]=!(g[j]=m))}}else t=k(t===g?t.splice(q,t.length):t),e?e(null,g,t,i):K.apply(g,t)})}function m(a){for(var b,c,d,e=a.length,f=t.relative[a[0].type],g=f||t.relative[" "],h=f?1:0,k=i(function(a){return a===b},g,!0),n=i(function(a){return M.call(b,a)>-1},g,!0),o=[function(a,c,d){return!f&&(d||c!==A)||((b=c).nodeType?k(a,c,d):n(a,c,d))}];h<e;h++)if(c=t.relative[a[h].type])o=[i(j(o),c)];else{if(c=t.filter[a[h].type].apply(null,a[h].matches),c[D]){for(d=++h;d<e&&!t.relative[a[d].type];d++);return l(h>1&&j(o),h>1&&a.slice(0,h-1).join("").replace($,"$1"),c,h<d&&m(a.slice(h,d)),d<e&&m(a=a.slice(d)),d<e&&a.join(""))}o.push(c)}return j(o)}function n(a,b){var d=b.length>0,e=a.length>0,f=function(g,h,i,j,l){var m,n,o,p=[],q=0,s="0",u=g&&[],v=null!=l,w=A,x=g||e&&t.find.TAG("*",l&&h.parentNode||h),y=H+=null==w?1:Math.E;for(v&&(A=h!==F&&h,r=f.el);null!=(m=x[s]);s++){if(e&&m){for(n=0;o=a[n];n++)if(o(m,h,i)){j.push(m);break}v&&(H=y,r=++f.el)}d&&((m=!o&&m)&&q--,g&&u.push(m))}if(q+=s,d&&s!==q){for(n=0;o=b[n];n++)o(u,p,h,i);if(g){if(q>0)for(;s--;)u[s]||p[s]||(p[s]=J.call(j));p=k(p)}K.apply(j,p),v&&!g&&p.length>0&&q+b.length>1&&c.uniqueSort(j)}return v&&(H=y,A=w),u};return f.el=0,d?N(f):f}function o(a,b,d){for(var e=0,f=b.length;e<f;e++)c(a,b[e],d);return d}function p(a,b,c,d,e){var f,g,i,j,k,l=h(a);l.length;if(!d&&1===l.length){if(g=l[0]=l[0].slice(0),g.length>2&&"ID"===(i=g[0]).type&&9===b.nodeType&&!e&&t.relative[g[1].type]){if(b=t.find.ID(i.matches[0].replace(ga,""),b,e)[0],!b)return c;a=a.slice(g.shift().length)}for(f=ha.POS.test(a)?-1:g.length-1;f>=0&&(i=g[f],!t.relative[j=i.type]);f--)if((k=t.find[j])&&(d=k(i.matches[0].replace(ga,""),da.test(g[0].type)&&b.parentNode||b,e))){if(g.splice(f,1),a=d.length&&g.join(""),!a)return K.apply(c,L.call(d,0)),c;break}}return x(a,l)(d,b,e,c,da.test(a)),c}function q(){}var r,s,t,u,v,w,x,y,z,A,B=!0,C="undefined",D=("sizcache"+Math.random()).replace(".",""),E=String,F=a.document,G=F.documentElement,H=0,I=0,J=[].pop,K=[].push,L=[].slice,M=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]===a)return b;return-1},N=function(a,b){return a[D]=null==b||b,a},O=function(){var a={},b=[];return N(function(c,d){return b.push(c)>t.cacheLength&&delete a[b.shift()],a[c+" "]=d},a)},P=O(),Q=O(),R=O(),T="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",V=U.replace("w","w#"),W="([*^$|!~]?=)",X="\\["+T+"*("+U+")"+T+"*(?:"+W+T+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+V+")|)|)"+T+"*\\]",Y=":("+U+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+X+")|[^:]|\\\\.)*|.*))\\)|)",Z=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+T+"*((?:-\\d)?\\d*)"+T+"*\\)|)(?=[^-]|$)",$=new RegExp("^"+T+"+|((?:^|[^\\\\])(?:\\\\.)*)"+T+"+$","g"),_=new RegExp("^"+T+"*,"+T+"*"),aa=new RegExp("^"+T+"*([\\x20\\t\\r\\n\\f>+~])"+T+"*"),ba=new RegExp(Y),ca=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,da=/[\x20\t\r\n\f]*[+~]/,ea=/h\d/i,fa=/input|select|textarea|button/i,ga=/\\(?!\\)/g,ha={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),NAME:new RegExp("^\\[name=['\"]?("+U+")['\"]?\\]"),TAG:new RegExp("^("+U.replace("w","w*")+")"),ATTR:new RegExp("^"+X),PSEUDO:new RegExp("^"+Y),POS:new RegExp(Z,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+T+"*(even|odd|(([+-]|)(\\d*)n|)"+T+"*(?:([+-]|)"+T+"*(\\d+)|))"+T+"*\\)|)","i"),needsContext:new RegExp("^"+T+"*[>+~]|"+Z,"i")},ia=function(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},ja=ia(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),ka=ia(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==C&&"#"===a.firstChild.getAttribute("href")}),la=ia(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),ma=ia(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!a.getElementsByClassName||!a.getElementsByClassName("e").length)&&(a.lastChild.className="e",2===a.getElementsByClassName("e").length)}),na=ia(function(a){a.id=D+0,a.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",G.insertBefore(a,G.firstChild);var b=F.getElementsByName&&F.getElementsByName(D).length===2+F.getElementsByName(D+0).length;return s=!F.getElementById(D),G.removeChild(a),b});try{L.call(G.childNodes,0)[0].nodeType}catch(oa){L=function(a){for(var b,c=[];b=this[a];a++)c.push(b);return c}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){return c(b,null,null,[a]).length>0},u=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=u(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=u(b);return c},v=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},w=c.contains=G.contains?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&1===d.nodeType&&c.contains&&c.contains(d))}:G.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},c.attr=function(a,b){var c,d=v(a);return d||(b=b.toLowerCase()),(c=t.attrHandle[b])?c(a):d||la?a.getAttribute(b):(c=a.getAttributeNode(b),c?"boolean"==typeof a[b]?a[b]?b:null:c.specified?c.value:null:null)},t=c.selectors={cacheLength:50,createPseudo:N,match:ha,attrHandle:ka?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:s?function(a,b,c){if(typeof b.getElementById!==C&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==C&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==C&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:ja?function(a,b){if(typeof b.getElementsByTagName!==C)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if("*"===a){for(var d,e=[],f=0;d=c[f];f++)1===d.nodeType&&e.push(d);return e}return c},NAME:na&&function(a,b){if(typeof b.getElementsByName!==C)return b.getElementsByName(name)},CLASS:ma&&function(a,b,c){if(typeof b.getElementsByClassName!==C&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ga,""),a[3]=(a[4]||a[5]||"").replace(ga,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||c.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&c.error(a[0]),a},PSEUDO:function(a){var b,c;return ha.CHILD.test(a[0])?null:(a[3]?a[2]=a[3]:(b=a[4])&&(ba.test(b)&&(c=h(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b),a.slice(0,3))}},filter:{ID:s?function(a){return a=a.replace(ga,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(ga,""),function(b){var c=typeof b.getAttributeNode!==C&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(ga,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=P[D][a+" "];return b||(b=new RegExp("(^|"+T+")"+a+"("+T+"|$)"))&&P(a,function(a){return b.test(a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e,f){var g=c.attr(e,a);return null==g?"!="===b:!b||(g+="","="===b?g===d:"!="===b?g!==d:"^="===b?d&&0===g.indexOf(d):"*="===b?d&&g.indexOf(d)>-1:"$="===b?d&&g.substr(g.length-d.length)===d:"~="===b?(" "+g+" ").indexOf(d)>-1:"|="===b&&(g===d||g.substr(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d){return"nth"===a?function(a){var b,e,f=a.parentNode;if(1===c&&0===d)return!0;if(f)for(e=0,b=f.firstChild;b&&(1!==b.nodeType||(e++,a!==b));b=b.nextSibling);return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===a)return!0;c=b;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var d,e=t.pseudos[a]||t.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[D]?e(b):e.length>1?(d=[a,a,"",b],t.setFilters.hasOwnProperty(a.toLowerCase())?N(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=M.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:N(function(a){var b=[],c=[],d=x(a.replace($,"$1"));return d[D]?N(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:N(function(a){return function(b){return c(a,b).length>0}}),contains:N(function(a){return function(b){return(b.textContent||b.innerText||u(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!t.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if(a.nodeName>"@"||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return ea.test(a.nodeName)},text:function(a){var b,c;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(c=a.getAttribute("type"))||c.toLowerCase()===b)},radio:d("radio"),checkbox:d("checkbox"),file:d("file"),password:d("password"),image:d("image"),submit:e("submit"),reset:e("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return fa.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},active:function(a){return a===a.ownerDocument.activeElement},first:f(function(){return[0]}),last:f(function(a,b){return[b-1]}),eq:f(function(a,b,c){return[c<0?c+b:c]}),even:f(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:f(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:f(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:f(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},y=G.compareDocumentPosition?function(a,b){return a===b?(z=!0,0):(a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b):a.compareDocumentPosition)?-1:1}:function(a,b){if(a===b)return z=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],h=a.parentNode,i=b.parentNode,j=h;if(h===i)return g(a,b);if(!h)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return g(e[k],f[k]);return k===c?g(a,f[k],-1):g(e[k],b,1)},[0,0].sort(y),B=!z,c.uniqueSort=function(a){var b,c=[],d=1,e=0;if(z=B,a.sort(y),z){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},x=c.compile=function(a,b){var c,d=[],e=[],f=R[D][a+" "];if(!f){for(b||(b=h(a)),c=b.length;c--;)f=m(b[c]),f[D]?d.push(f):e.push(f);f=R(a,n(e,d))}return f},F.querySelectorAll&&!function(){var a,b=p,d=/'|\\/g,e=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,f=[":focus"],g=[":active"],i=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector;ia(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||f.push("\\["+T+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||f.push(":checked")}),ia(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&f.push("[*^$]="+T+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||f.push(":enabled",":disabled")}),f=new RegExp(f.join("|")),p=function(a,c,e,g,i){if(!g&&!i&&!f.test(a)){var j,k,l=!0,m=D,n=c,o=9===c.nodeType&&a;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){for(j=h(a),(l=c.getAttribute("id"))?m=l.replace(d,"\\$&"):c.setAttribute("id",m),m="[id='"+m+"'] ",k=j.length;k--;)j[k]=m+j[k].join("");n=da.test(a)&&c.parentNode||c,o=j.join(",")}if(o)try{return K.apply(e,L.call(n.querySelectorAll(o),0)),e}catch(p){}finally{l||c.removeAttribute("id")}}return b(a,c,e,g,i)},i&&(ia(function(b){a=i.call(b,"div");try{i.call(b,"[test!='']:sizzle"),g.push("!=",Y)}catch(c){}}),g=new RegExp(g.join("|")),c.matchesSelector=function(b,d){if(d=d.replace(e,"='$1']"),!v(b)&&!g.test(d)&&!f.test(d))try{var h=i.call(b,d);if(h||a||b.document&&11!==b.document.nodeType)return h}catch(j){}return c(d,null,null,[b]).length>0})}(),t.pseudos.nth=t.pseudos.eq,t.filters=q.prototype=t.pseudos,t.setFilters=new q,c.attr=S.attr,S.find=c,S.expr=c.selectors,S.expr[":"]=S.expr.pseudos,S.unique=c.uniqueSort,S.text=c.getText,S.isXMLDoc=c.isXML,S.contains=c.contains}(a);var ya=/Until$/,za=/^(?:parents|prev(?:Until|All))/,Aa=/^.[^:#\[\.,]*$/,Ba=S.expr.match.needsContext,Ca={children:!0,contents:!0,next:!0,prev:!0};S.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if("string"!=typeof a)return S(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(S.contains(h[b],this))return!0});for(g=this.pushStack("","find",a),b=0,c=this.length;b<c;b++)if(d=g.length,S.find(a,this[b],g),b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}return g},has:function(a){var b,c=S(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(S.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(j(this,a,!1),"not",a)},filter:function(a){return this.pushStack(j(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Ba.test(a)?S(a,this.context).index(this[0])>=0:S.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Ba.test(a)||"string"!=typeof a?S(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:S.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return f=f.length>1?S.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?"string"==typeof a?S.inArray(this[0],S(a)):S.inArray(a.jqx?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?S(a,b):S.makeArray(a&&a.nodeType?[a]:a),d=S.merge(this.get(),c);return this.pushStack(h(c[0])||h(d[0])?d:S.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),S.fn.andSelf=S.fn.addBack,S.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return S.dir(a,"parentNode")},parentsUntil:function(a,b,c){return S.dir(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return S.dir(a,"nextSibling")},prevAll:function(a){return S.dir(a,"previousSibling")},nextUntil:function(a,b,c){return S.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return S.dir(a,"previousSibling",c)},siblings:function(a){return S.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return S.sibling(a.firstChild)},contents:function(a){return S.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:S.merge([],a.childNodes)}},function(a,b){S.fn[a]=function(c,d){var e=S.map(this,b,c);return ya.test(a)||(d=c),d&&"string"==typeof d&&(e=S.filter(d,e)),e=this.length>1&&!Ca[a]?S.unique(e):e,this.length>1&&za.test(a)&&(e=e.reverse()),this.pushStack(e,a,N.call(arguments).join(","))}}),S.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?S.find.matchesSelector(b[0],a)?[b[0]]:[]:S.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!S(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Da="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ea=/ JQXLite\d+="(?:null|\d+)"/g,Fa=/^\s+/,Ga=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ha=/<([\w:]+)/,Ia=/<tbody/i,Ja=/<|&#?\w+;/,Ka=/<(?:script|style|link)/i,La=/<(?:script|object|embed|option|style)/i,Ma=new RegExp("<(?:"+Da+")[\\s/>]","i"),Na=/^(?:checkbox|radio)$/,Oa=/checked\s*(?:[^=]|=\s*.checked.)/i,Pa=/\/(java|ecma)script/i,Qa=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Sa=k(I),Ta=Sa.appendChild(I.createElement("div"));Ra.optgroup=Ra.option,Ra.tbody=Ra.tfoot=Ra.colgroup=Ra.caption=Ra.thead,Ra.th=Ra.td,S.support.htmlSerialize||(Ra._default=[1,"X<div>","</div>"]),S.fn.extend({text:function(a){return S.access(this,function(a){return a===b?S.text(this):this.empty().append((this[0]&&this[0].ownerDocument||I).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(S.isFunction(a))return this.each(function(b){S(this).wrapAll(a.call(this,b))});if(this[0]){var b=S(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return S.isFunction(a)?this.each(function(b){S(this).wrapInner(a.call(this,b))}):this.each(function(){var b=S(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=S.isFunction(a);return this.each(function(c){S(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){S.nodeName(this,"body")||S(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(a,this.firstChild)})},before:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=S.clean(arguments);return this.pushStack(S.merge(a,this),"before",this.selector)}},after:function(){if(!h(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=S.clean(arguments);return this.pushStack(S.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)a&&!S.filter(a,[c]).length||(b||1!==c.nodeType||(S.cleanData(c.getElementsByTagName("*")),S.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&S.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return S.clone(this,a,b)})},html:function(a){return S.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Ea,""):b;if("string"==typeof a&&!Ka.test(a)&&(S.support.htmlSerialize||!Ma.test(a))&&(S.support.leadingWhitespace||!Fa.test(a))&&!Ra[(Ha.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ga,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},1===c.nodeType&&(S.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return h(this[0])?this.length?this.pushStack(S(S.isFunction(a)?a():a),"replaceWith",a):this:S.isFunction(a)?this.each(function(b){var c=S(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=S(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;S(this).remove(),b?S(b).before(a):S(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],m=this.length;if(!S.support.checkClone&&m>1&&"string"==typeof j&&Oa.test(j))return this.each(function(){S(this).domManip(a,c,d)});if(S.isFunction(j))return this.each(function(e){var f=S(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){if(e=S.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,1===g.childNodes.length&&(g=f),f)for(c=c&&S.nodeName(f,"tr"),h=e.cacheable||m-1;i<m;i++)d.call(c&&S.nodeName(this[i],"table")?l(this[i],"tbody"):this[i],i===h?g:S.clone(g,!0,!0));g=f=null,k.length&&S.each(k,function(a,b){b.src?S.ajax?S.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):S.error("no ajax"):S.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Qa,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),S.buildFragment=function(a,c,d){var e,f,g,h=a[0];return c=c||I,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,!(1===a.length&&"string"==typeof h&&h.length<512&&c===I&&"<"===h.charAt(0))||La.test(h)||!S.support.checkClone&&Oa.test(h)||!S.support.html5Clone&&Ma.test(h)||(f=!0,e=S.fragments[h],g=e!==b),e||(e=c.createDocumentFragment(),S.clean(a,c,e,d),f&&(S.fragments[h]=g&&e)),{fragment:e,
cacheable:f}},S.fragments={},S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){S.fn[a]=function(c){var d,e=0,f=[],g=S(c),h=g.length,i=1===this.length&&this[0].parentNode;if((null==i||i&&11===i.nodeType&&1===i.childNodes.length)&&1===h)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),S(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),S.extend({clone:function(a,b,c){var d,e,f,g;if(S.support.html5Clone||S.isXMLDoc(a)||!Ma.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(Ta.innerHTML=a.outerHTML,Ta.removeChild(g=Ta.firstChild)),!(S.support.noCloneEvent&&S.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||S.isXMLDoc(a)))for(n(a,g),d=o(a),e=o(g),f=0;d[f];++f)e[f]&&n(d[f],e[f]);if(b&&(m(a,g),c))for(d=o(a),e=o(g),f=0;d[f];++f)m(d[f],e[f]);return d=e=null,g},clean:function(a,b,c,d){var e,f,g,h,i,j,l,m,n,o,q,r=b===I&&Sa,s=[];for(b&&"undefined"!=typeof b.createDocumentFragment||(b=I),e=0;null!=(g=a[e]);e++)if("number"==typeof g&&(g+=""),g){if("string"==typeof g)if(Ja.test(g)){for(r=r||k(b),l=b.createElement("div"),r.appendChild(l),g=g.replace(Ga,"<$1></$2>"),h=(Ha.exec(g)||["",""])[1].toLowerCase(),i=Ra[h]||Ra._default,j=i[0],l.innerHTML=i[1]+g+i[2];j--;)l=l.lastChild;if(!S.support.tbody)for(m=Ia.test(g),n="table"!==h||m?"<table>"!==i[1]||m?[]:l.childNodes:l.firstChild&&l.firstChild.childNodes,f=n.length-1;f>=0;--f)S.nodeName(n[f],"tbody")&&!n[f].childNodes.length&&n[f].parentNode.removeChild(n[f]);!S.support.leadingWhitespace&&Fa.test(g)&&l.insertBefore(b.createTextNode(Fa.exec(g)[0]),l.firstChild),g=l.childNodes,l.parentNode.removeChild(l)}else g=b.createTextNode(g);g.nodeType?s.push(g):S.merge(s,g)}if(l&&(g=l=r=null),!S.support.appendChecked)for(e=0;null!=(g=s[e]);e++)S.nodeName(g,"input")?p(g):"undefined"!=typeof g.getElementsByTagName&&S.grep(g.getElementsByTagName("input"),p);if(c)for(o=function(a){if(!a.type||Pa.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)},e=0;null!=(g=s[e]);e++)S.nodeName(g,"script")&&o(g)||(c.appendChild(g),"undefined"!=typeof g.getElementsByTagName&&(q=S.grep(S.merge([],g.getElementsByTagName("script")),o),s.splice.apply(s,[e+1,0].concat(q)),e+=q.length));return s},cleanData:function(a,b){for(var c,d,e,f,g=0,h=S.expando,i=S.cache,j=S.support.deleteExpando,k=S.event.special;null!=(e=a[g]);g++)if((b||S.acceptData(e))&&(d=e[h],c=d&&i[d])){if(c.events)for(f in c.events)k[f]?S.event.remove(e,f):S.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,S.deletedIds.push(d))}}}),function(){var a,b;S.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=S.uaMatch(J.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),S.browser=b,S.sub=function(){function a(b,c){return new a.fn.init(b,c)}S.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(c,d){return d&&d instanceof S&&!(d instanceof a)&&(d=a(d)),S.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(I);return a}}();var Ua,Va,Wa,Xa=/alpha\([^)]*\)/i,Ya=/opacity=([^)]*)/,Za=/^(top|right|bottom|left)$/,$a=/^(none|table(?!-c[ea]).+)/,_a=/^margin/,ab=new RegExp("^("+T+")(.*)$","i"),bb=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),cb=new RegExp("^([-+])=("+T+")","i"),db={BODY:"block"},eb={position:"absolute",visibility:"hidden",display:"block"},fb={letterSpacing:0,fontWeight:400},gb=["Top","Right","Bottom","Left"],hb=["Webkit","O","Moz","ms"],ib=S.fn.toggle;S.fn.extend({css:function(a,c){return S.access(this,function(a,c,d){return d!==b?S.style(a,c,d):S.css(a,c)},a,c,arguments.length>1)},show:function(){return s(this,!0)},hide:function(){return s(this)},toggle:function(a,b){var c="boolean"==typeof a;return S.isFunction(a)&&S.isFunction(b)?ib.apply(this,arguments):this.each(function(){(c?a:r(this))?S(this).show():S(this).hide()})}}),S.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ua(a,"opacity");return""===c?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":S.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=S.camelCase(c),j=a.style;if(c=S.cssProps[i]||(S.cssProps[i]=q(j,i)),h=S.cssHooks[c]||S.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=cb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(S.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||S.cssNumber[i]||(d+="px"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=S.camelCase(c);return c=S.cssProps[i]||(S.cssProps[i]=q(a.style,i)),h=S.cssHooks[c]||S.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=Ua(a,c)),"normal"===f&&c in fb&&(f=fb[c]),d||e!==b?(g=parseFloat(f),d||S.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?Ua=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h.getPropertyValue(c)||h[c],""!==d||S.contains(b.ownerDocument,b)||(d=S.style(b,c)),bb.test(d)&&_a.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:I.documentElement.currentStyle&&(Ua=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return null==e&&f&&f[b]&&(e=f[b]),bb.test(e)&&!Za.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),""===e?"auto":e}),S.each(["height","width"],function(a,b){S.cssHooks[b]={get:function(a,c,d){if(c)return 0===a.offsetWidth&&$a.test(Ua(a,"display"))?S.swap(a,eb,function(){return v(a,b,d)}):v(a,b,d)},set:function(a,c,d){return t(a,c,d?u(a,b,d,S.support.boxSizing&&"border-box"===S.css(a,"boxSizing")):0)}}}),S.support.opacity||(S.cssHooks.opacity={get:function(a,b){return Ya.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=S.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===S.trim(f.replace(Xa,""))&&c.removeAttribute&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=Xa.test(f)?f.replace(Xa,e):f+" "+e)}}),S(function(){S.support.reliableMarginRight||(S.cssHooks.marginRight={get:function(a,b){return S.swap(a,{display:"inline-block"},function(){if(b)return Ua(a,"marginRight")})}}),!S.support.pixelPosition&&S.fn.position&&S.each(["top","left"],function(a,b){S.cssHooks[b]={get:function(a,c){if(c){var d=Ua(a,b);return bb.test(d)?S(a).position()[b]+"px":d}}}})}),S.expr&&S.expr.filters&&(S.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!S.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||Ua(a,"display"))},S.expr.filters.visible=function(a){return!S.expr.filters.hidden(a)}),S.each({margin:"",padding:"",border:"Width"},function(a,b){S.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+gb[d]+b]=e[d]||e[d-2]||e[0];return f}},_a.test(a)||(S.cssHooks[a+b].set=t)});var jb=/%20/g,kb=/\[\]$/,lb=/\r?\n/g,mb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,nb=/^(?:select|textarea)/i;S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?S.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||nb.test(this.nodeName)||mb.test(this.type))}).map(function(a,b){var c=S(this).val();return null==c?null:S.isArray(c)?S.map(c,function(a,c){return{name:b.name,value:a.replace(lb,"\r\n")}}):{name:b.name,value:c.replace(lb,"\r\n")}}).get()}}),S.param=function(a,c){var d,e=[],f=function(a,b){b=S.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=S.ajaxSettings&&S.ajaxSettings.traditional),S.isArray(a)||a.jqx&&!S.isPlainObject(a))S.each(a,function(){f(this.name,this.value)});else for(d in a)x(d,a[d],c,f);return e.join("&").replace(jb,"+")},S.support.ajax&&S.ajaxTransport(function(c){if(!c.crossDomain||S.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=S.noop,xhrOnUnloadAbort&&delete xhrCallbacks[g]),e)4!==i.readyState&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(n){}try{j=i.statusText}catch(n){j=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?4===i.readyState?setTimeout(d,0):(g=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},S(a).unload(xhrOnUnloadAbort)),xhrCallbacks[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var ob,pb,qb=/^(?:toggle|show|hide)$/,rb=new RegExp("^(?:([-+])=|)("+T+")([a-z%]*)$","i"),sb=/queueHooks$/,tb=[C],ub={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=rb.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||(S.cssNumber[a]?"":"px"),"px"!==d&&h){h=S.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,S.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};S.Animation=S.extend(A,{tweener:function(a,b){S.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],ub[c]=ub[c]||[],ub[c].unshift(b)},prefilter:function(a,b){b?tb.unshift(a):tb.push(a)}}),S.Tween=D,D.prototype={constructor:D,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(S.cssNumber[c]?"":"px")},cur:function(){var a=D.propHooks[this.prop];return a&&a.get?a.get(this):D.propHooks._default.get(this)},run:function(a){var b,c=D.propHooks[this.prop];return this.options.duration?this.pos=b=S.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=S.css(a.elem,a.prop,!1,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){S.fx.step[a.prop]?S.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[S.cssProps[a.prop]]||S.cssHooks[a.prop])?S.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},S.each(["toggle","show","hide"],function(a,b){var c=S.fn[b];S.fn[b]=function(d,e,f){return null==d||"boolean"==typeof d||!a&&S.isFunction(d)&&S.isFunction(e)?c.apply(this,arguments):this.animate(E(b,!0),d,e,f)}}),S.fn.extend({fadeTo:function(a,b,c,d){return this.filter(r).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=S.isEmptyObject(a),f=S.speed(b,c,d),g=function(){var b=A(this,S.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=S.timers,g=S._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&sb.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));!b&&d||S.dequeue(this,a)})}}),S.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){S.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),S.speed=function(a,b,c){var d=a&&"object"==typeof a?S.extend({},a):{complete:c||!c&&b||S.isFunction(a)&&a,duration:a,easing:c&&b||b&&!S.isFunction(b)&&b};return d.duration=S.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in S.fx.speeds?S.fx.speeds[d.duration]:S.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){S.isFunction(d.old)&&d.old.call(this),d.queue&&S.dequeue(this,d.queue)},d},S.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},S.timers=[],S.fx=D.prototype.init,S.fx.tick=function(){var a,c=S.timers,d=0;for(ob=S.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||S.fx.stop(),ob=b},S.fx.timer=function(a){a()&&S.timers.push(a)&&!pb&&(pb=setInterval(S.fx.tick,S.fx.interval))},S.fx.interval=13,S.fx.stop=function(){clearInterval(pb),pb=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fx.step={},S.expr&&S.expr.filters&&(S.expr.filters.animated=function(a){return S.grep(S.timers,function(b){return a===b.elem}).length});var vb=/^(?:body|html)$/i;S.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){S.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(l)return(d=l.body)===k?S.offset.bodyOffset(k):(c=l.documentElement,S.contains(c,k)?("undefined"!=typeof k.getBoundingClientRect&&(j=k.getBoundingClientRect()),e=F(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},S.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return S.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(S.css(a,"marginTop"))||0,c+=parseFloat(S.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=S.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=S(a),h=g.offset(),i=S.css(a,"top"),j=S.css(a,"left"),k=("absolute"===d||"fixed"===d)&&S.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),S.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},S.fn.extend({isRendered:function(){var a=this[0];return null!=a.parentNode&&0!==a.offsetWidth&&0!==a.offsetHeight},getSizeFromStyle:function(){var b,c=null,d=null,e=this[0];return e.style.width&&(c=e.style.width),e.style.height&&(d=e.style.height),b=a.getComputedStyle?getComputedStyle(e,null):e.currentStyle,b&&(b.width&&(c=b.width),b.height&&(d=b.height)),"0px"===c&&(c=0),"0px"===d&&(d=0),null===c&&(c=0),null===d&&(d=0),{width:c,height:d}},initAnimate:function(){},sizeStyleChanged:function(a){var b,c=this,d=function(a){var d=b;a&&a[0]&&"style"===a[0].attributeName&&"attributes"===a[0].type&&(d.element.offsetWidth===d.offsetWidth&&d.element.offsetHeight===d.offsetHeight||(d.offsetWidth=d.element.offsetWidth,d.offsetHeight=d.element.offsetHeight,c.isRendered()&&d.callback()))};b={element:c[0],offsetWidth:c[0].offsetWidth,offsetHeight:c[0].offsetHeight,callback:a};try{c.elementStyleObserver||(c.elementStyleObserver=new MutationObserver(d),c.elementStyleObserver.observe(c[0],{attributes:!0,childList:!1,characterData:!1}))}catch(e){}},position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),c=this.offset(),d=vb.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(S.css(a,"marginTop"))||0,c.left-=parseFloat(S.css(a,"marginLeft"))||0,d.top+=parseFloat(S.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(S.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||I.body;a&&!vb.test(a.nodeName)&&"static"===S.css(a,"position");)a=a.offsetParent;return a||I.body})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);S.fn[a]=function(e){return S.access(this,function(a,e,f){var g=F(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?S(g).scrollLeft():f,d?f:S(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),S.each({Height:"height",Width:"width"},function(a,c){S.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){S.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return S.access(this,function(c,d,e){var f;return S.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?S.css(c,d,e,h):S.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.JQXLite=a.jqxHelper=S,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return S})}(window),function(a){a.jQuery||a.$||(a.$=a.minQuery=a.JQXLite)}(window);var jqxBaseFramework=window.minQuery||window.jQuery;!function(a){a.jqx=a.jqx||{},jqwidgets={createInstance:function(b,c,d){if("jqxDataAdapter"==c){var e=d[0],f=d[1]||{};return new a.jqx.dataAdapter(e,f)}return a(b)[c](d||{}),a(b)[c]("getInstance")}},a.jqx.define=function(b,c,d){b[c]=function(){a.jqx.bridgeAUI&&!b[c].prototype.invokeAUI&&a.jqx.bridgeAUI(b[c].prototype),this.baseType&&(this.base=new b[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},b[c].prototype.defineInstance=function(){},b[c].prototype.metaInfo=function(){},b[c].prototype.base=null,b[c].prototype.baseType=void 0,d&&b[d]&&(b[c].prototype.baseType=d)},a.jqx.invoke=function(b,c){if(0!=c.length){for(var d=typeof c==Array||c.length>0?c[0]:c,e=typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):a({}).toArray();void 0==b[d]&&null!=b.base;){if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();if(void 0!=b[f]&&a.isFunction(b[f]))return b[f].apply(b,e)}b=b.base}if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();if(void 0!=b[f]&&a.isFunction(b[f]))return b[f].apply(b,e)}}},a.jqx.hasProperty=function(a,b){if("object"==typeof b)for(var c in b){for(var d=a;d;){if(d.hasOwnProperty(c))return!0;if(d.hasOwnProperty(c.toLowerCase()))return!0;d=d.base}return!1}else for(;a;){if(a.hasOwnProperty(b))return!0;if(a.hasOwnProperty(b.toLowerCase()))return!0;a=a.base}return!1},a.jqx.hasFunction=function(b,c){if(0==c.length)return!1;if(void 0==b)return!1;var d=typeof c==Array||c.length>0?c[0]:c;for(typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):{};void 0==b[d]&&null!=b.base;){if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}b=b.base}if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}return!1},a.jqx.isPropertySetter=function(b,c){return 1==c.length&&"object"==typeof c[0]||2==c.length&&"string"==typeof c[0]&&!a.jqx.hasFunction(b,c)},a.jqx.validatePropertySetter=function(b,c,d){if(!a.jqx.propertySetterValidation)return!0;if(1==c.length&&"object"==typeof c[0]){for(var e in c[0]){for(var f=b;!f.hasOwnProperty(e)&&f.base;)f=f.base;if(!f||!f.hasOwnProperty(e)){if(!d){var g=f.hasOwnProperty(e.toString().toLowerCase());if(g)return!0;throw"Invalid property: "+e}return!1}}return!0}if(2!=c.length){if(!d)throw"Invalid property: "+c.length>=0?c[0]:"";return!1}for(;!b.hasOwnProperty(c[0])&&b.base;)b=b.base;if(!b||!b.hasOwnProperty(c[0])){if(!d)throw"Invalid property: "+c[0];return!1}return!0},Object.keys||(Object.keys=function(){"use strict";var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;g<d;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),a.jqx.set=function(b,c){var d=0;if(1==c.length&&"object"==typeof c[0]){if(b.isInitialized&&Object.keys&&Object.keys(c[0]).length>1){var e=b.base?b.base.element:b.element;a.data(e,b.widgetName).initArgs;b.batchUpdate=c[0];var f={},g={};a.each(c[0],function(a,c){for(var e=b;!e.hasOwnProperty(a)&&null!=e.base;)e=e.base;e.hasOwnProperty(a)?b[a]!=c&&(f[a]=b[a],g[a]=c,d++):e.hasOwnProperty(a.toLowerCase())&&b[a.toLowerCase()]!=c&&(f[a.toLowerCase()]=b[a.toLowerCase()],g[a.toLowerCase()]=c,d++)}),d<2&&(b.batchUpdate=null)}a.each(c[0],function(c,d){for(var e=b;!e.hasOwnProperty(c)&&null!=e.base;)e=e.base;if(e.hasOwnProperty(c))a.jqx.setvalueraiseevent(e,c,d);else if(e.hasOwnProperty(c.toLowerCase()))a.jqx.setvalueraiseevent(e,c.toLowerCase(),d);else if(a.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+c+"'"}),null!=b.batchUpdate&&(b.batchUpdate=null,b.propertiesChangedHandler&&d>1&&b.propertiesChangedHandler(b,f,g))}else if(2==c.length){for(;!b.hasOwnProperty(c[0])&&b.base;)b=b.base;if(b.hasOwnProperty(c[0]))a.jqx.setvalueraiseevent(b,c[0],c[1]);else if(b.hasOwnProperty(c[0].toLowerCase()))a.jqx.setvalueraiseevent(b,c[0].toLowerCase(),c[1]);else if(a.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+c[0]+"'"}},a.jqx.setvalueraiseevent=function(a,b,c){var d=a[b];a[b]=c,a.isInitialized&&(void 0!=a.propertyChangedHandler&&a.propertyChangedHandler(a,b,d,c),void 0!=a.propertyChangeMap&&void 0!=a.propertyChangeMap[b]&&a.propertyChangeMap[b](a,b,d,c))},a.jqx.get=function(a,b){if(void 0!=b&&null!=b){if(a.propertyMap){var c=a.propertyMap(b);if(null!=c)return c}if(a.hasOwnProperty(b))return a[b];if(a.hasOwnProperty(b.toLowerCase()))return a[b.toLowerCase()];var d=void 0;if(typeof b==Array){if(1!=b.length)return;d=b[0]}else"string"==typeof b&&(d=b);for(;!a.hasOwnProperty(d)&&a.base;)a=a.base;return a?a[d]:void 0}},a.jqx.serialize=function(b){var c="";if(a.isArray(b)){c="[";for(var d=0;d<b.length;d++)d>0&&(c+=", "),c+=a.jqx.serialize(b[d]);c+="]"}else if("object"==typeof b){c="{";var e=0;for(var d in b)e++>0&&(c+=", "),c+=d+": "+a.jqx.serialize(b[d]);c+="}"}else c=b.toString();return c},a.jqx.propertySetterValidation=!0,a.jqx.jqxWidgetProxy=function(b,c,d){var e=(a(c),a.data(c,b));if(void 0!=e){var f=e.instance;if(a.jqx.hasFunction(f,d))return a.jqx.invoke(f,d);if(a.jqx.isPropertySetter(f,d)){if(a.jqx.validatePropertySetter(f,d))return void a.jqx.set(f,d)}else{if("object"==typeof d&&0==d.length)return;if("object"==typeof d&&1==d.length&&a.jqx.hasProperty(f,d[0]))return a.jqx.get(f,d[0]);if("string"==typeof d&&a.jqx.hasProperty(f,d[0]))return a.jqx.get(f,d)}throw"jqxCore: Invalid parameter '"+a.jqx.serialize(d)+"' does not exist."}},a.jqx.applyWidget=function(b,c,d,e){var f=!1;try{f=void 0!=window.MSApp}catch(g){}var h=a(b);e?(e.host=h,e.element=b):e=new a.jqx["_"+c],""==b.id&&(b.id=a.jqx.utilities.createId());var i={host:h,element:b,instance:e,initArgs:d};e.widgetName=c,a.data(b,c,i),a.data(b,"jqxWidget",i.instance);for(var j=new Array,e=i.instance;e;)e.isInitialized=!1,j.push(e),e=e.base;j.reverse(),j[0].theme=a.jqx.theme||"",a.jqx.jqxWidgetProxy(c,b,d);for(var k in j)e=j[k],0==k&&(e.host=h,e.element=b,e.WinJS=f),void 0!=e&&(e.definedInstance&&e.definedInstance(),null!=e.createInstance&&(f?MSApp.execUnsafeLocalFunction(function(){e.createInstance(d)}):e.createInstance(d)));for(var k in j)void 0!=j[k]&&(j[k].isInitialized=!0);f?MSApp.execUnsafeLocalFunction(function(){i.instance.refresh(!0)}):i.instance.refresh(!0)},a.jqx.jqxWidget=function(b,c,d){var e=!1,f="";try{f=Array.prototype.slice.call(d,0)}catch(g){f=""}try{e=void 0!=window.MSApp}catch(g){}var h=b,i="";c&&(i="_"+c),a.jqx.define(a.jqx,"_"+h,i);var j=new Array;if(!window[h]){var k=function(b){if(null==b)return"";var c=a.type(b);switch(c){case"string":case"number":case"date":case"boolean":case"bool":return null===b?"":b.toString()}var d="";return a.each(b,function(b,c){var e=c;b>0&&(d+=", "),d+="[";var f=0;if("object"==a.type(e))for(var g in e)f>0&&(d+=", "),d+="{"+g+":"+e[g]+"}",f++;else f>0&&(d+=", "),d+="{"+b+":"+e+"}",f++;d+="]"}),d};jqwidgets[h]=window[h]=function(b,c){var d=[];c||(c={}),d.push(c);var e=b;if("object"===a.type(e)&&b[0]?(e=b[0].id,""===e&&(e=b[0].id=a.jqx.utilities.createId())):"object"===a.type(b)&&b&&b.nodeName&&(e=b.id,""===e&&(e=b.id=a.jqx.utilities.createId())),window.jqxWidgets&&window.jqxWidgets[e]){if(c&&a.each(window.jqxWidgets[e],function(b){var d=a(this.element).data();d&&d.jqxWidget&&a(this.element)[h](c)}),1==window.jqxWidgets[e].length){var f=a(window.jqxWidgets[e][0].widgetInstance.element).data();if(f&&f.jqxWidget)return window.jqxWidgets[e][0]}var f=a(window.jqxWidgets[e][0].widgetInstance.element).data();if(f&&f.jqxWidget)return window.jqxWidgets[e]}var g=a(b);0===g.length&&(g=a("<div></div>"),"jqxInput"!==h&&"jqxPasswordInput"!==h&&"jqxMaskedInput"!==h||(g=a("<input/>")),"jqxTextArea"===h&&(g=a("<textarea></textarea>")),"jqxButton"!==h&&"jqxRepeatButton"!==h&&"jqxToggleButton"!==h||(g=a("<button/>")),"jqxSplitter"===h&&(g=a("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===h&&(g=a("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===h&&(g=a("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===h&&(g=a("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===h&&(g=a("<div><div>Title 1</div><div>Content 1</div></div>")));var i=[];return a.each(g,function(b){var c=g[b];if(a.jqx.applyWidget(c,h,d,void 0),!j[h]){var f=a.data(c,"jqxWidget"),l=a.jqx["_"+h].prototype.defineInstance(),m={};a.jqx["_"+h].prototype.metaInfo&&(m=a.jqx["_"+h].prototype.metaInfo()),"jqxDockingLayout"==h&&(l=a.extend(l,a.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=h&&"jqxRepeatButton"!=h||(l=a.extend(l,a.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==h&&(l=a.extend(l,a.jqx._jqxDataTable.prototype.defineInstance()));var n=function(b){var c=a.data(b,"jqxWidget");this.widgetInstance=c;var d=a.extend(this,c);d.on=d.addEventListener=function(a,b){d.addHandler(d.base?d.base.host:d.host,a,b)},d.off=d.removeEventListener=function(a){d.removeHandler(d.base?d.base.host:d.host,a)};for(var e in c)"function"==a.type(c[e])&&(d[e]=a.proxy(c[e],c));return d};j[h]=n,a.each(l,function(b,c){Object.defineProperty(n.prototype,b,{get:function(){return this.widgetInstance?this.widgetInstance[b]:c},set:function(c){if(this.widgetInstance&&(this.widgetInstance[b]!=c||"width"===b||"height"===b)){var d=this.widgetInstance[b],e=c,f=a.type(d),g=a.type(e),i=!1;if(f==g&&"source"!==b&&"width"!==b&&"height"!==b||(i=!0),i||k(d)!=k(e)){var j={};j[b]=c,this.widgetInstance.host?this.widgetInstance.host[h](j):this.widgetInstance.base.host[h](j),this.widgetInstance[b]=c,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(b,d,c)}}}})})}var f=new j[h](c);i.push(f),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[e]||(window.jqxWidgets[e]=new Array),window.jqxWidgets[e].push(f)}),1===i.length?i[0]:i}}a.fn[h]=function(){var b=Array.prototype.slice.call(arguments,0);if(0==b.length||1==b.length&&"object"==typeof b[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var c=(a(this),this),d=a.data(c,h);null==d?a.jqx.applyWidget(c,h,b,void 0):a.jqx.jqxWidgetProxy(h,this,b)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var c=null,d=0;return this.each(function(){var e=a.jqx.jqxWidgetProxy(h,this,b);if(0==d)c=e,d++;else{if(1==d){var f=[];f.push(c),c=f}c.push(e)}}),c};try{a.extend(a.jqx["_"+h].prototype,Array.prototype.slice.call(d,0)[0])}catch(g){}a.extend(a.jqx["_"+h].prototype,{toThemeProperty:function(b,c){return a.jqx.toThemeProperty(this,b,c)}}),a.jqx["_"+h].prototype.refresh=function(){this.base&&this.base.refresh(!0)},a.jqx["_"+h].prototype.createInstance=function(){},a.jqx["_"+h].prototype.addEventHandler=function(a,b){this.host.bind(a,b)},a.jqx["_"+h].prototype.removeEventHandler=function(a,b){this.host.unbind(a)},a.jqx["_"+h].prototype.applyTo=function(b,c){if(!(c instanceof Array)){var d=[];d.push(c),c=d}a.jqx.applyWidget(b,h,c,this)},a.jqx["_"+h].prototype.getInstance=function(){return this},a.jqx["_"+h].prototype.propertyChangeMap={},a.jqx["_"+h].prototype.addHandler=function(b,c,d,e){a.jqx.addHandler(a(b),c,d,e)},a.jqx["_"+h].prototype.removeHandler=function(b,c,d){a.jqx.removeHandler(a(b),c,d)},a.jqx["_"+h].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return a.jqx.jqxWidgetProxy(h,this.host[0],arguments)}},a.jqx.toThemeProperty=function(a,b,c){if(""==a.theme)return b;for(var d=b.split(" "),e="",f=0;f<d.length;f++){f>0&&(e+=" ");var g=d[f];e+=null!=c&&c?g+"-"+a.theme:g+" "+g+"-"+a.theme}return e},a.jqx.addHandler=function(b,c,d,e){for(var f=c.split(" "),g=0;g<f.length;g++){var h=f[g];if(window.addEventListener)switch(h){case"mousewheel":a.jqx.browser.mozilla?b[0].addEventListener("DOMMouseScroll",d,!1):b[0].addEventListener("mousewheel",d,!1);continue;case"mousemove":if(!e){b[0].addEventListener("mousemove",d,!1);continue}}void 0==e||null==e?b.on?b.on(h,d):b.bind(h,d):b.on?b.on(h,e,d):b.bind(h,e,d)}},a.jqx.removeHandler=function(b,c,d){if(!c)return void(b.off?b.off():b.unbind());for(var e=c.split(" "),f=0;f<e.length;f++){var g=e[f];if(window.removeEventListener)switch(g){case"mousewheel":a.jqx.browser.mozilla?b[0].removeEventListener("DOMMouseScroll",d,!1):b[0].removeEventListener("mousewheel",d,!1);continue;case"mousemove":if(d){b[0].removeEventListener("mousemove",d,!1);continue}}void 0!=g?void 0==d?b.off?b.off(g):b.unbind(g):b.off?b.off(g,d):b.unbind(g,d):b.off?b.off():b.unbind()}},a.jqx.theme=a.jqx.theme||"",a.jqx.scrollAnimation=a.jqx.scrollAnimation||!1,a.jqx.resizeDelay=a.jqx.resizeDelay||10,a.jqx.ready=function(){a(window).trigger("jqxReady")},a.jqx.init=function(){a.each(arguments[0],function(b,c){"theme"==b&&(a.jqx.theme=c),"scrollBarSize"==b&&(a.jqx.utilities.scrollBarSize=c),"touchScrollBarSize"==b&&(a.jqx.utilities.touchScrollBarSize=c),"scrollBarButtonsVisibility"==b&&(a.jqx.utilities.scrollBarButtonsVisibility=c)})},a.jqx.destroy=function(){a.fx.off=!0,a(window).off("resize.jqx"),a(window).off("orientationchange.jqx"),a(window).off("orientationchanged.jqx"),a.jqx.utilities._resizeTimer&&clearTimeout(a.jqx.utilities._resizeTimer),window.frameElement&&window.top.document&&a.jqx.mobile._eventHandle&&a(window.top.document).off("mouseup",a.jqx.mobile._eventHandle),a(window).off(),a(document).off()},a.jqx.utilities=a.jqx.utilities||{},a.extend(a.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:0,scrollBarButtonsVisibility:"visible",
createId:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+a()+a()},setTheme:function(b,c,d){if("undefined"!=typeof d&&d[0].className.split){for(var e=d[0].className.split(" "),f=[],g=[],h=d.children(),i=0;i<e.length;i+=1)e[i].indexOf(b)>=0&&(b.length>0?(f.push(e[i]),g.push(e[i].replace(b,c))):g.push(e[i].replace("-"+c,"")+"-"+c));this._removeOldClasses(f,d),this._addNewClasses(g,d);for(var i=0;i<h.length;i+=1)this.setTheme(b,c,a(h[i]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},getOffset:function(b){var c=a.jqx.mobile.getLeftPos(b[0]),d=a.jqx.mobile.getTopPos(b[0]);return{top:d,left:c}},resize:function(b,c,d,e){void 0===e&&(e=!0);var f=-1,g=this,h=function(a){if(!g.hiddenWidgets)return-1;for(var b=-1,c=0;c<g.hiddenWidgets.length;c++)if(a.id){if(g.hiddenWidgets[c].id==a.id){b=c;break}}else if(g.hiddenWidgets[c].id==a[0].id){b=c;break}return b};if(this.resizeHandlers){for(var i=0;i<this.resizeHandlers.length;i++)if(b.id){if(this.resizeHandlers[i].id==b.id){f=i;break}}else if(this.resizeHandlers[i].id==b[0].id){f=i;break}if(d===!0){if(f!=-1&&this.resizeHandlers.splice(f,1),0==this.resizeHandlers.length){var j=a(window);j.off?(j.off("resize.jqx"),j.off("orientationchange.jqx"),j.off("orientationchanged.jqx")):(j.unbind("resize.jqx"),j.unbind("orientationchange.jqx"),j.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var k=h(b);return void(k!=-1&&this.hiddenWidgets&&this.hiddenWidgets.splice(k,1))}}else if(d===!0){var k=h(b);return void(k!=-1&&this.hiddenWidgets&&this.hiddenWidgets.splice(k,1))}var g=this,l=function(b,c){if(g.resizeHandlers){var d=function(a){for(var b=-1,c=a.parentNode;c;)b++,c=c.parentNode;return b},e=function(a,b){if(!a.widget||!b.widget)return 0;var c=d(a.widget[0]),e=d(b.widget[0]);try{if(c<e)return-1;if(c>e)return 1}catch(f){}return 0},f=function(b){if(g.hiddenWidgets.length>0){g.hiddenWidgets.sort(e);var d=function(){for(var b=!1,d=new Array,e=0;e<g.hiddenWidgets.length;e++){var f=g.hiddenWidgets[e];a.jqx.isHidden(f.widget)?(b=!0,d.push(f)):f.callback&&f.callback(c)}g.hiddenWidgets=d,b||clearInterval(g.__resizeInterval)};if(0==b)return d(),void(g.__resizeInterval&&clearInterval(g.__resizeInterval));g.__resizeInterval&&clearInterval(g.__resizeInterval),g.__resizeInterval=setInterval(function(){d()},100)}};g.hiddenWidgets&&g.hiddenWidgets.length>0&&f(!1),g.hiddenWidgets=new Array,g.resizeHandlers.sort(e);for(var i=0;i<g.resizeHandlers.length;i++){var j=g.resizeHandlers[i],k=j.widget,l=j.data;if(l&&l.jqxWidget){var m=l.jqxWidget.width,n=l.jqxWidget.height;l.jqxWidget.base&&(void 0==m&&(m=l.jqxWidget.base.width),void 0==n&&(n=l.jqxWidget.base.height)),void 0===m&&void 0===n&&(m=l.jqxWidget.element.style.width,n=l.jqxWidget.element.style.height);var o=!1;if(null!=m&&m.toString().indexOf("%")!=-1&&(o=!0),null!=n&&n.toString().indexOf("%")!=-1&&(o=!0),a.jqx.isHidden(k))h(k)===-1&&(o||b===!0)&&j.data.nestedWidget!==!0&&g.hiddenWidgets.push(j);else if(void 0===b||b!==!0){if(o){if(j.callback(c),g.watchedElementData)for(var p=0;p<g.watchedElementData.length;p++)if(g.watchedElementData[p].element==l.jqxWidget.element){g.watchedElementData[p].offsetWidth=l.jqxWidget.element.offsetWidth,g.watchedElementData[p].offsetHeight=l.jqxWidget.element.offsetHeight;break}g.hiddenWidgets.indexOf(j)>=0&&g.hiddenWidgets.splice(g.hiddenWidgets.indexOf(j),1)}if(l.jqxWidget.element){var q=l.jqxWidget.element.className;if((q.indexOf("dropdownlist")>=0||q.indexOf("datetimeinput")>=0||q.indexOf("combobox")>=0||q.indexOf("menu")>=0)&&l.jqxWidget.isOpened){var r=l.jqxWidget.isOpened();if(r){if(c&&"resize"==c&&a.jqx.mobile.isTouchDevice())continue;l.jqxWidget.close()}}}}}}f()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var j=a(window);j.on?(this._resizeTimer=null,this._initResize=null,j.on("resize.jqx",function(b){void 0!=g._resizeTimer&&clearTimeout(g._resizeTimer),g._initResize?g._resizeTimer=setTimeout(function(){l(null,"resize")},a.jqx.resizeDelay):(g._initResize=!0,l(null,"resize"))}),j.on("orientationchange.jqx",function(a){l(null,"orientationchange")}),j.on("orientationchanged.jqx",function(a){l(null,"orientationchange")})):(j.bind("resize.jqx",function(a){l(null,"orientationchange")}),j.bind("orientationchange.jqx",function(a){l(null,"orientationchange")}),j.bind("orientationchanged.jqx",function(a){l(null,"orientationchange")}))}var m=b.data();e&&f===-1&&this.resizeHandlers.push({id:b[0].id,widget:b,callback:c,data:m});try{var n=m.jqxWidget.width,o=m.jqxWidget.height;m.jqxWidget.base&&(void 0==n&&(n=m.jqxWidget.base.width),void 0==o&&(o=m.jqxWidget.base.height)),void 0===n&&void 0===o&&(n=m.jqxWidget.element.style.width,o=m.jqxWidget.element.style.height);var p=!1;if(null!=n&&n.toString().indexOf("%")!=-1&&(p=!0),null!=o&&o.toString().indexOf("%")!=-1&&(p=!0),p){this.watchedElementData||(this.watchedElementData=[]);var g=this,q=function(b){g.watchedElementData.forEach&&g.watchedElementData.forEach(function(b){b.element.offsetWidth===b.offsetWidth&&b.element.offsetHeight===b.offsetHeight||(b.offsetWidth=b.element.offsetWidth,b.offsetHeight=b.element.offsetHeight,b.timer&&clearTimeout(b.timer),b.timer=setTimeout(function(){a.jqx.isHidden(a(b.element))?b.timer=setInterval(function(){a.jqx.isHidden(a(b.element))||(clearInterval(b.timer),b.callback())},100):b.callback()}))})};g.watchedElementData.push({element:b[0],offsetWidth:b[0].offsetWidth,offsetHeight:b[0].offsetHeight,callback:c}),g.observer||(g.observer=new MutationObserver(q),g.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(r){}a.jqx.isHidden(b)&&e===!0&&l(!0),a.jqx.resize=function(){l(null,"resize")}},parseJSON:function(b){if(!b||"string"!=typeof b)return null;var c=/^[\],:{}\s]*$/,d=/(?:^|:|,)(?:\s*\[)+/g,e=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,f=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g;if(b=a.trim(b),window.JSON&&window.JSON.parse)return window.JSON.parse(b);if(c.test(b.replace(e,"@").replace(f,"]").replace(d,"")))return new Function("return "+b)();throw new Error("Invalid JSON: "+b)},html:function(b,c){if(!a(b).on)return a(b).html(c);try{return a.access(b,function(c){var d=b[0]||{},e=0,f=b.length;if(void 0===c)return 1===d.nodeType?d.innerHTML.replace(rinlinejQuery,""):void 0;var g=/<(?:script|style|link)/i,h="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",i=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,j=/<([\w:]+)/,k=new RegExp("<(?:"+h+")[\\s/>]","i"),l=/^\s+/,m={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if("string"==typeof c&&!g.test(c)&&(a.support.htmlSerialize||!k.test(c))&&(a.support.leadingWhitespace||!l.test(c))&&!m[(j.exec(c)||["",""])[1].toLowerCase()]){c=c.replace(i,"<$1></$2>");try{for(;e<f;e++)d=this[e]||{},1===d.nodeType&&(a.cleanData(d.getElementsByTagName("*")),d.innerHTML=c);d=0}catch(n){}}d&&b.empty().append(c)},null,c,arguments.length)}catch(d){return a(b).html(c)}},hasTransform:function(b){var c="";if(c=b.css("transform"),""==c||"none"==c){if(c=b.parents().css("transform"),""!=c&&"none"!=c)return""!=c&&"none"!=c;var d=a.jqx.utilities.getBrowser();"msie"==d.browser?(c=b.css("-ms-transform"),""!=c&&"none"!=c||(c=b.parents().css("-ms-transform"))):"chrome"==d.browser?(c=b.css("-webkit-transform"),""!=c&&"none"!=c||(c=b.parents().css("-webkit-transform"))):"opera"==d.browser?(c=b.css("-o-transform"),""!=c&&"none"!=c||(c=b.parents().css("-o-transform"))):"mozilla"==d.browser&&(c=b.css("-moz-transform"),""!=c&&"none"!=c||(c=b.parents().css("-moz-transform")))}return""!=c&&"none"!=c||(c=a(document.body).css("transform")),""!=c&&"none"!=c&&null!=c},getBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c={browser:b[1]||"",version:b[2]||"0"};return(a.indexOf("trident/7.0")>=0||a.indexOf("rv:11.0")>=0&&a.indexOf(".net4.0c")>=0)&&(c.browser="msie",c.version="11",b[1]="msie"),a.indexOf("edge")>=0&&(c.browser="msie",c.version="12",b[1]="msie"),c[b[1]]=b[1],c},escape:function(a){var b=/[&<>"'`]/g,c=RegExp(b.source),d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},e=function(a){return d[a]};return a&&c.test(a)?a.replace(b,e):a},unescape:function(a){var b=/&(?:amp|lt|gt|quot|#39|#96);/g,c=RegExp(b.source),d={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},e=function(a){return d[a]};return a&&c.test(a)?a.replace(b,e):a}}),a.jqx.browser=a.jqx.utilities.getBrowser(),a.jqx.isHidden=function(a){if(!a||!a[0])return!1;var b=a[0].offsetWidth,c=a[0].offsetHeight;return 0===b||0===c},a.jqx.ariaEnabled=!1,a.jqx.aria=function(b,c,d){if(a.jqx.ariaEnabled)if(void 0==c)a.each(b.aria,function(c,d){var e=b.base?b.base.host.attr(c):b.host.attr(c);if(void 0==e||a.isFunction(e)){var e=b[d.name];a.isFunction(e)&&(e=b[d.name]()),void 0==e&&(e="");try{b.base?b.base.host.attr(c,e.toString()):b.host.attr(c,e.toString())}catch(f){}}else{var g=e;switch(d.type){case"number":g=new Number(e),isNaN(g)&&(g=e);break;case"boolean":g="true"==e;break;case"date":g=new Date(e),("Invalid Date"==g||isNaN(g))&&(g=e)}b[d.name]=g}});else try{b.host?b.base?b.base.host?b.base.host.attr(c,d.toString()):b.attr(c,d.toString()):b.host?b.element.setAttribute?b.element.setAttribute(c,d.toString()):b.host.attr(c,d.toString()):b.attr(c,d.toString()):b.setAttribute&&b.setAttribute(c,d.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length,c=Number(arguments[1])||0;for(c=c<0?Math.ceil(c):Math.floor(c),c<0&&(c+=b);c<b;c++)if(c in this&&this[c]===a)return c;return-1}),a.jqx.mobile=a.jqx.mobile||{},a.jqx.position=function(b){var c=parseInt(b.pageX),d=parseInt(b.pageY);if(a.jqx.mobile.isTouchDevice()){var e=a.jqx.mobile.getTouches(b),f=e[0];c=parseInt(f.pageX),d=parseInt(f.pageY)}return{left:c,top:d}},a.extend(a.jqx.mobile,{_touchListener:function(a,b){var c=function(a,b){var c=document.createEvent("MouseEvents");return c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),c._pageX=b.pageX,c._pageY=b.pageY,c},d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=c(d[a.type],a);a.target.dispatchEvent(e);var f=a.target["on"+d[a.type]];"function"==typeof f&&f(a)},setMobileSimulator:function(b,c){if(!this.isTouchDevice()){this.simulatetouches=!0,0==c&&(this.simulatetouches=!1);var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=this;if(window.addEventListener){var f=function(){for(var a in d)b.addEventListener&&(b.removeEventListener(a,e._touchListener),b.addEventListener(a,e._touchListener,!1))};a.jqx.browser.msie,f()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var a="Browser CodeName: "+navigator.appCodeName;if(a+="Browser Name: "+navigator.appName,a+="Browser Version: "+navigator.appVersion,a+="Platform: "+navigator.platform,a+="User-agent header: "+navigator.userAgent,a.indexOf("Android")!=-1)return!0;if(a.indexOf("IEMobile")!=-1)return!0;if(a.indexOf("Windows Phone")!=-1)return!0;if(a.indexOf("WPDesktop")!=-1)return!0;if(a.indexOf("ZuneWP7")!=-1)return!0;if(a.indexOf("BlackBerry")!=-1&&a.indexOf("Mobile Safari")!=-1)return!0;if(a.indexOf("ipod")!=-1)return!0;if(a.indexOf("nokia")!=-1||a.indexOf("Nokia")!=-1)return!0;if(a.indexOf("Chrome/17")!=-1)return!1;if(a.indexOf("CrOS")!=-1)return!1;if(a.indexOf("Opera")!=-1&&a.indexOf("Mobi")==-1&&a.indexOf("Mini")==-1&&a.indexOf("Platform: Win")!=-1)return!1;if(a.indexOf("Opera")!=-1&&a.indexOf("Mobi")!=-1&&a.indexOf("Opera Mobi")!=-1)return!0;var b={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(var c in b)if(b.hasOwnProperty(c)){var d=b[c],e=a.match(new RegExp("(?:"+d+")([^\\s;]+)"));if(e)return"blackberry"==c.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0)}var f=navigator.userAgent;if(navigator.platform.toLowerCase().indexOf("win")!=-1){if(f.indexOf("Windows Phone")>=0||f.indexOf("WPDesktop")>=0||f.indexOf("IEMobile")>=0||f.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(f.indexOf("Touch")>=0){var g="MSPointerDown"in window||"pointerdown"in window;return g?(this.touchDevice=!0,!0):f.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return navigator.platform.toLowerCase().indexOf("win")!=-1?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(h){return this.touchDevice=!1,!1}},getLeftPos:function(a){for(var b=a.offsetLeft;null!=(a=a.offsetParent);)"HTML"!=a.tagName&&(b+=a.offsetLeft,document.all&&(b+=a.clientLeft));return b},getTopPos:function(b){for(var c=b.offsetTop,d=a(b).coord();null!=(b=b.offsetParent);)"HTML"!=b.tagName&&(c+=b.offsetTop-b.scrollTop,document.all&&(c+=b.clientTop));var e=navigator.userAgent.toLowerCase(),f=(e.indexOf("windows phone")!=-1||e.indexOf("WPDesktop")!=-1||e.indexOf("ZuneWP7")!=-1||e.indexOf("msie 9")!=-1||e.indexOf("msie 11")!=-1||e.indexOf("msie 10")!=-1)&&e.indexOf("touch")!=-1;return f?d.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?c:e.indexOf("version/7")!=-1?d.top:(e.indexOf("version/6")==-1&&e.indexOf("version/5")==-1||(c+=a(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?c+a(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?c+a(window).scrollTop():d.top):c},isChromeMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=a.indexOf("android")!=-1;return b},isOperaMiniMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=a.indexOf("opera mini")!=-1||a.indexOf("opera mobi")!=-1;return b},isOperaMiniBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=a.indexOf("opera mini")!=-1;return b},isNewSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=a.indexOf("ipad")!=-1||a.indexOf("iphone")!=-1||a.indexOf("ipod")!=-1;return b=b&&a.indexOf("version/5")!=-1},isSafari4MobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=a.indexOf("ipad")!=-1||a.indexOf("iphone")!=-1||a.indexOf("ipod")!=-1;return b=b&&a.indexOf("version/4")!=-1},isWindowsPhone:function(){var a=navigator.userAgent.toLowerCase(),b=a.indexOf("windows phone")!=-1||a.indexOf("WPDesktop")!=-1||a.indexOf("ZuneWP7")!=-1||a.indexOf("msie 9")!=-1||a.indexOf("msie 11")!=-1||a.indexOf("msie 10")!=-1&&a.indexOf("touch")!=-1;return b},isSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase();if(/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent))return!0;if(/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent))return!0;var b=a.indexOf("ipad")!=-1||a.indexOf("iphone")!=-1||a.indexOf("ipod")!=-1||a.indexOf("mobile safari")!=-1;return b},isIPadSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=a.indexOf("ipad")!=-1;return b},isMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=a.indexOf("ipad")!=-1||a.indexOf("iphone")!=-1||a.indexOf("android")!=-1;return b},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches;if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches}return a.touches||(a.touches=new Array,a.touches[0]=void 0!=a.originalEvent?a.originalEvent:a,void 0!=a.originalEvent&&a.pageX&&(a.touches[0]=a),"mousemove"==a.type&&(a.touches[0]=a)),a.touches},getTouchEventName:function(a){if(!this.isWindowsPhone())return a;var b=navigator.userAgent.toLowerCase();if(b.indexOf("windows phone 7")!=-1){if(a.toLowerCase().indexOf("start")!=-1)return"MSPointerDown";if(a.toLowerCase().indexOf("move")!=-1)return"MSPointerMove";if(a.toLowerCase().indexOf("end")!=-1)return"MSPointerUp"}return a.toLowerCase().indexOf("start")!=-1?"pointerdown":a.toLowerCase().indexOf("move")!=-1?"pointermove":a.toLowerCase().indexOf("end")!=-1?"pointerup":void 0},dispatchMouseEvent:function(a,b,c){if(!this.simulatetouches){var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,b.view,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),null!=c&&c.dispatchEvent(d)}},getRootNode:function(a){for(;1!==a.nodeType;)a=a.parentNode;return a},setTouchScroll:function(a,b){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[b]=a},touchScroll:function(b,c,d,e,f,g){function h(a){if(a.targetTouches&&a.targetTouches.length>=1)return a.targetTouches[0].clientY;if(a.originalEvent&&void 0!==a.originalEvent.clientY)return a.originalEvent.clientY;var b=l.getTouches(a);return b[0].clientY}function i(a){if(a.targetTouches&&a.targetTouches.length>=1)return a.targetTouches[0].clientX;if(a.originalEvent&&void 0!==a.originalEvent.clientX)return a.originalEvent.clientX;var b=l.getTouches(a);return b[0].clientX}function j(){var a,b;H&&(a=Date.now()-F,b=-H*Math.exp(-a/L),b>.5||b<-.5?(R(I+b),requestAnimationFrame(j)):(R(I),g.fadeOut("fast")))}function k(){var a,b;H&&(a=Date.now()-F,b=-H*Math.exp(-a/L),b>.5||b<-.5?(S(J+b),requestAnimationFrame(k)):(S(J),f.fadeOut("fast")))}if(null!=b){var l=this,m=0,n=0,o=0,p=0,q=0,r=0;this.scrolling||(this.scrolling=[]),this.scrolling[e]=!1;var s=!1,t=a(b),u=["select","input","textarea"],v=0,w=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[e]=!0;var x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,e=e,M=this.getTouchEventName("touchstart")+".touchScroll",N=this.getTouchEventName("touchend")+".touchScroll",O=this.getTouchEventName("touchmove")+".touchScroll";z=c,y=0,A=0,xoffset=0,initialOffset=0,initialXOffset=0,x=f.jqxScrollBar("max"),L=325;var P=function(){var a,b,c,d;a=Date.now(),b=a-F,F=a,c=A-E,xdelta=xoffset-xframe,E=A,xframe=xoffset,C=!0,d=1e3*c/(1+b),xv=1e3*xdelta/(1+b),D=.8*d+.2*D,xjqxAnimations=.8*xv+.2*xjqxAnimations},Q=!1,v=function(b){function c(a){Q=!1,C=!0,B=h(a),K=i(a),D=H=xjqxAnimations=0,E=A,xframe=xoffset,F=Date.now(),clearInterval(G),G=setInterval(P,100),initialOffset=A,initialXOffset=xoffset,A>0&&A<z&&"hidden"!=g[0].style.visibility}if(!l.enableScrolling[e])return!0;if(a.inArray(b.target.tagName.toLowerCase(),u)===-1){A=g.jqxScrollBar("value"),xoffset=f.jqxScrollBar("value");var d=l.getTouches(b),j=d[0];return 1==d.length&&l.dispatchMouseEvent("mousedown",j,l.getRootNode(j.target)),x=f.jqxScrollBar("max"),z=g.jqxScrollBar("max"),c(b),s=!1,n=j.pageY,q=j.pageX,l.simulatetouches&&void 0!=j._pageY&&(n=j._pageY,q=j._pageX),l.scrolling[e]=!0,m=0,p=0,!0}};t.on?t.on(M,v):t.bind(M,v);var R=function(a,b){return A=a>z?z:a<y?y:a,d(null,a,0,0,b),a>z?"max":a<y?"min":"value"},S=function(a,b){return xoffset=a>x?x:a<y?y:a,d(a,null,0,0,b),a>x?"max":a<y?"min":"value"},T=function(a){function b(a){var b,c,d;if(C){b=h(a),d=i(a),c=B-b,xdelta=K-d;var e="value";if(c>2||c<-2)return B=b,e=R(A+c,a),P(),"min"==e&&0===initialOffset||("max"==e&&initialOffset===z||(!v||(a.preventDefault(),a.stopPropagation(),Q=!0,!1)));if(xdelta>2||xdelta<-2)return K=d,e=S(xoffset+xdelta,a),P(),"min"==e&&0===initialXOffset||("max"==e&&initialXOffset===x||(!u||(Q=!0,a.preventDefault(),a.stopPropagation(),!1)));a.preventDefault()}}if(!l.enableScrolling[e])return!0;if(!l.scrolling[e])return!0;Q&&(a.preventDefault(),a.stopPropagation());var c=l.getTouches(a);if(c.length>1)return!0;var d=c[0].pageY,j=c[0].pageX;l.simulatetouches&&void 0!=c[0]._pageY&&(d=c[0]._pageY,j=c[0]._pageX);var k=d-n,t=j-q;w=d,touchHorizontalEnd=j,o=k-m,r=t-p,s=!0,m=k,p=t;var u=null==f||"hidden"!=f[0].style.visibility,v=null==g||"hidden"!=g[0].style.visibility;(u||v)&&(u||v)&&b(a)};t.on?t.on(O,T):t.bind(O,T);var U=function(a){if(!l.enableScrolling[e])return!0;var b=l.getTouches(a)[0];if(!l.scrolling[e])return!0;if(C=!1,clearInterval(G),D>10||D<-10?(H=.8*D,I=Math.round(A+H),F=Date.now(),requestAnimationFrame(j),g.fadeIn(100)):xjqxAnimations>10||xjqxAnimations<-10?(H=.8*xjqxAnimations,J=Math.round(xoffset+H),F=Date.now(),requestAnimationFrame(k),f.fadeIn(100)):(f.fadeOut(100),g.fadeOut(100)),l.scrolling[e]=!1,!s){var b=l.getTouches(a)[0],c=l.getRootNode(b.target);return l.dispatchMouseEvent("mouseup",b,c),l.dispatchMouseEvent("click",b,c),!0}l.dispatchMouseEvent("mouseup",b,a.target)};if(this.simulatetouches){var V=(void 0!=a(window).on||a(window).bind,function(a){try{U(a)}catch(b){}l.scrolling[e]=!1});if(void 0!=a(window).on?a(document).on("mouseup.touchScroll",V):a(document).bind("mouseup.touchScroll",V),window.frameElement&&null!=window.top){var W=function(a){try{U(a)}catch(b){}l.scrolling[e]=!1};window.top.document&&(a(window.top.document).on?a(window.top.document).on("mouseup",W):a(window.top.document).bind("mouseup",W))}var X=(void 0!=a(document).on||a(document).bind,function(a){if(!l.scrolling[e])return!0;l.scrolling[e]=!1;var b=l.getTouches(a)[0],c=l.getRootNode(b.target);l.dispatchMouseEvent("mouseup",b,c),l.dispatchMouseEvent("click",b,c)});void 0!=a(document).on?a(document).on("touchend",X):a(document).bind("touchend",X)}t.on&&(t.on("dragstart",function(a){a.preventDefault()}),t.on("selectstart",function(a){a.preventDefault()})),t.on?t.on(N+" touchcancel.touchScroll",U):t.bind(N+" touchcancel.touchScroll",U)}}}),a.jqx.cookie=a.jqx.cookie||{},a.extend(a.jqx.cookie,{cookie:function(b,c,d){if(arguments.length>1&&"[object Object]"!==String(c)){if(d=a.extend({},d),null!==c&&void 0!==c||(d.expires=-1),"number"==typeof d.expires){var e=d.expires,f=d.expires=new Date;f.setDate(f.getDate()+e)}return c=String(c),document.cookie=[encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=c||{};var g,h=d.raw?function(a){return a}:decodeURIComponent;return(g=new RegExp("(?:^|; )"+encodeURIComponent(b)+"=([^;]*)").exec(document.cookie))?h(g[1]):null}}),a.jqx.string=a.jqx.string||{},a.extend(a.jqx.string,{replace:function(a,b,c){if(b===c)return this;for(var d=a,e=d.indexOf(b);e!=-1;)d=d.replace(b,c),e=d.indexOf(b);return d},contains:function(a,b){return null!=a&&null!=b&&a.indexOf(b)!=-1},containsIgnoreCase:function(a,b){return null!=a&&null!=b&&a.toString().toUpperCase().indexOf(b.toString().toUpperCase())!=-1},equals:function(a,b){return null!=a&&null!=b&&(a=this.normalize(a),b.length==a.length&&a.slice(0,b.length)==b)},equalsIgnoreCase:function(a,b){return null!=a&&null!=b&&(a=this.normalize(a),b.length==a.length&&a.toUpperCase().slice(0,b.length)==b.toUpperCase())},startsWith:function(a,b){return null!=a&&null!=b&&a.slice(0,b.length)==b},startsWithIgnoreCase:function(a,b){return null!=a&&null!=b&&a.toUpperCase().slice(0,b.length)==b.toUpperCase()},normalize:function(a){return 65279==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},endsWith:function(a,b){return null!=a&&null!=b&&(a=this.normalize(a),a.slice(-b.length)==b)},endsWithIgnoreCase:function(a,b){return null!=a&&null!=b&&(a=this.normalize(a),a.toUpperCase().slice(-b.length)==b.toUpperCase())}}),a.extend(a.easing,{easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c}})}(jqxBaseFramework),function(a){a.event&&a.event.special&&a.extend(a.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),a.fn.extend&&a.fn.extend({ischildof:function(b){if(!a(this).parents){var c=b.element.contains(this.element);return c}for(var d=a(this).parents().get(),e=0;e<d.length;e++)if("string"!=typeof b){var f=d[e];if(void 0!==b&&f==b[0])return!0}else if(void 0!==b&&a(d[e]).is(b))return!0;return!1}}),a.fn.jqxProxy=function(){var b=a(this).data().jqxWidget,c=Array.prototype.slice.call(arguments,0),d=b.element;return d||(d=b.base.element),a.jqx.jqxWidgetProxy(b.widgetName,d,c)};var b=this.originalVal=a.fn.val;a.fn.val=function(c){if("undefined"==typeof c){if(a(this).hasClass("jqx-widget")){var d=a(this).data().jqxWidget;if(d&&d.val)return d.val()}if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0){var d=a(this).find(".jqx-widget").data().jqxWidget;if(d&&d.val)return d.val()}return b.call(this)}if(a(this).hasClass("jqx-widget")){var d=a(this).data().jqxWidget;if(d&&d.val)return 2!=arguments.length?d.val(c):d.val(c,arguments[1])}if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0){var d=a(this).find(".jqx-widget").data().jqxWidget;if(d&&d.val)return 2!=arguments.length?d.val(c):d.val(c,arguments[1])}return b.call(this,c)},a.fn.modal&&a.fn.modal.Constructor&&(a.fn.modal.Constructor.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(b){if(this.$element[0]!==b.target&&!this.$element.has(b.target).length){if(a(b.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),a.fn.coord=function(b){var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g){if(c=g.documentElement,!a.contains(c,f))return e;void 0!==typeof f.getBoundingClientRect&&(e=f.getBoundingClientRect());var h=function(b){return a.isWindow(b)?b:9===b.nodeType&&(b.defaultView||b.parentWindow)};d=h(g);var i=0,j=0,k=navigator.userAgent.toLowerCase(),l=k.indexOf("ipad")!=-1||k.indexOf("iphone")!=-1;if(l&&(i=2),1==b&&"static"!=document.body.style.position&&""!=document.body.style.position){var m=a(document.body).coord();i=-m.left,j=-m.top}return{top:j+e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:i+e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}}}(jqxBaseFramework),function(a){function b(b){var c=b.defineInstance;b.defineInstance=function(){var a=arguments;c.apply(this,a),this.invokeAUI("defineInstance")};var d=b.createInstance;b.createInstance=function(){var a=arguments;this.invokeAUI("createInstance"),d.apply(this,a)};var e=b.destroy;b.destroy=function(){var a=arguments;this.invokeAUI("destroy"),e.apply(this,a)};var f=b.propertyChangedHandler;b.propertyChangedHandler=function(){var a=arguments;this.invokeAUI("propertyChangedHandler",a),f&&f.apply(this,a)};var g=function(b){var c,d=["jqxCalendar","jqxCheckBox","jqxComplexInput","jqxDateTimeInput","jqxFormattedInput","jqxInput","jqxMaskedInput","jqxNumberInput","jqxPasswordInput","jqxProgressBar","jqxRadioButton","jqxRangeSelector","jqxSlider","jqxSwitchButton"];return c=a.inArray(b,d)>-1?"value":"source"},h=function(a,b){var c=g(this.widgetName);null==this.$dataBinders$&&(this.$dataBinders$={}),this.$dataBinders$[c]&&this.$dataBinders$[c].unbindDataBind(),null!=a&&(this.$dataBinders$[c]=A.createModule("dataBinder",{bindType:c,bindmodel:a}),i.apply(this,[this.$dataBinders$[c]]),b&&j.apply(this,[c]))},i=function(a){a.on(a.EVENTS.DATA_UNBIND,function(){var a=arguments[0],b=a.bindType;this.$dataBinders$&&delete this.$dataBinders$[b]}.bind(this),this)},j=function(a){var b=this.bindDataBinder(a);this.$dataBinders$[a].unbindCallbackFunc(this.element.id),this.$dataBinders$[a].bindCallbackFunc(this.element.id,b),this.$dataBinders$[a].dataBind()},k=function(){};b.invokeAUI=function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),c=a.length,d=a[0];if("string"!=typeof b)throw"[invokeAUI] Invalid Method Name (not a string)";switch(b){case"defineInstance":this.$bindmodel$=null,this.$dataBinders$=null,this.$uipp$=null,this.$storageKey$=null,this.$storage$=null;break;case"createInstance":if(this.$bindmodel$&&"jqxGrid"!=this.widgetName&&"jqxDataTable"!=this.widgetName&&"jqxTreeGrid"!=this.widgetName&&h.apply(this,[this.$bindmodel$]),this.$dataBinders$)for(var e in this.$dataBinders$)i.apply(this,[this.$dataBinders$[e]]);break;case"extend":break;case"extendDestroy":1==c&&"function"==typeof d&&(k=d);break;case"destroy":if(this.$bindmodel$&&"jqxGrid"!=this.widgetName&&"jqxDataTable"!=this.widgetName&&"jqxTreeGrid"!=this.widgetName)for(var e in this.$dataBinders$)this.$dataBinders$[e].unbindDataBind();k.call(this);break;case"propertyChangedHandler":if(1==c){var f=d[1],g=d[3];if("$bindmodel$"==f)"jqxGrid"!=this.widgetName&&"jqxDataTable"!=this.widgetName&&"jqxTreeGrid"!=this.widgetName&&h.apply(this,[g,!0]);else if("$dataBinders$"==f){if("jqxDropDownList"==this.widgetName||"jqxComboBox"==this.widgetName)return;var l=d[2],m=d[3];if(null!=l&&(null==m||A.isEmpty(m)))for(var e in l)l[e].unbindDataBind();if(null!=m){this.$dataBinders$=l||{};for(var e in m)l&&null!=l[e]&&l[e].unbindDataBind(),null!=m[e]&&(this.$dataBinders$[e]=m[e],i.apply(this,[this.$dataBinders$[e]]),j.apply(this,[e]))}}}}}}a.jqx.bridgeAUI=b}(jqxBaseFramework),function(a,b){function c(b){return function(c,d){"string"!=typeof c&&(d=c,c="*");var e,f,g,h=c.toLowerCase().split(t),i=0,j=h.length;if(a.isFunction(d))for(;i<j;i++)e=h[i],g=/^\+/.test(e),g&&(e=e.substr(1)||"*"),f=b[e]=b[e]||[],f[g?"unshift":"push"](d)}}function d(a,b,c,e,f,g){f=f||b.dataTypes[0],g=g||{},g[f]=!0;for(var h,i=a[f],j=0,k=i?i.length:0,l=a===u;j<k&&(l||!h);j++)h=i[j](b,c,e),"string"==typeof h&&(!l||g[h]?h=void 0:(b.dataTypes.unshift(h),h=d(a,b,c,e,h,g)));return!l&&h||g["*"]||(h=d(a,b,c,e,"*",g)),h}function e(b,c){var d,e,f=a.jqx.data.ajaxSettings.flatOptions||{};for(d in c)void 0!==c[d]&&((f[d]?b:e||(e={}))[d]=c[d]);e&&a.extend(!0,b,e)}function f(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes,j=a.responseFields;for(e in j)e in c&&(b[j[e]]=c[e]);for(;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("content-type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function g(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if("*"!==e){if("*"!==h&&h!==e){if(c=i[h+" "+e]||i["* "+e],!c)for(d in i)if(f=d.split(" "),f[1]===e&&(c=i[h+" "+f[0]]||i["* "+f[0]])){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function h(){try{return new window.XMLHttpRequest}catch(a){}}function i(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}a.jqx.observableArray=function(b,c){if("string"==typeof b&&(b=a.parseJSON(b)),!Object.defineProperty||!function(){
try{return Object.defineProperty({},"x",{}),!0}catch(a){return!1}}()){var d=Object.defineProperty;Object.defineProperty=function(a,b,c){if(d)try{return d(a,b,c)}catch(e){}if(a!==Object(a))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in c&&Object.prototype.__defineGetter__.call(a,b,c.get),Object.prototype.__defineSetter__&&"set"in c&&Object.prototype.__defineSetter__.call(a,b,c.set),"value"in c?a[b]=c.value:a[b]||(a[b]=c),a}}Array.prototype.forEach||(Array.prototype.forEach=function(a){if(void 0===this||null===this)throw TypeError();var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw TypeError();var d,e=arguments[1];for(d=0;d<c;d++)d in b&&a.call(e,b[d],d,b)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw TypeError("Object.getOwnPropertyNames called on non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c});var e,f=this,g=[];f.notifier=null,f.name="observableArray",f.observing=!0,f.changes=new Array;var c=c;return f.observe=function(){f.observing=!0,1==arguments.length&&(c=arguments[0])},f.unobserve=function(){f.observing=!1},f.toArray=function(){return g.slice(0)},f.toJSON=function(a,b){function c(a){return'"'+a.replace(m,function(a){var b=n[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'}function d(a){return a<10?"0"+a:a}function e(a){var b;return b=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+d(a.getUTCMonth()+1)+"-"+d(a.getUTCDate())+"T"+d(a.getUTCHours())+":"+d(a.getUTCMinutes())+":"+d(a.getUTCSeconds())+'Z"':"null"}function f(a){var b,c=a.length,d=[];for(b=0;b<c;b++)d.push(k(b,a)||"null");return"["+d.join(",")+"]"}function h(b){var d,e,f=[];for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)){if(""!=d&&a&&a.indexOf(d)===-1)continue;e=k(d,b),e&&f.push(c(d)+":"+e)}return"{"+f.join(",")+"}"}function i(a){switch(Object.prototype.toString.call(a)){case"[object Date]":return e(a);case"[object Array]":return f(a)}return h(a)}function j(a,b){switch(b){case"string":return c(a);case"number":case"float":case"integer":case"int":return isFinite(a)?a:"null";case"boolean":return a}return"null"}function k(a,b){var c=b[a],d=typeof c;return c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(a),d=typeof c),/(number|float|int|integer|string|boolean)/.test(d)||!c&&"object"===d?j(c,d):i(c)}var l=g;b&&(l=b);var m=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!a&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(l):k("",{"":l})},f.defineIndexProperty=function(b){if(!(b in f)){var c=function(b,c,d,h){var i=b[c],j=i,k=function(){return j},l=function(b){if(i=b,j!==i){var d=j;if(j=i,"function"==typeof e){var k=g.indexOf(h),l="",m=function(b,d){Object.getOwnPropertyNames(b).forEach(function(e){var f=a.type(b[e]);"array"==f||"object"==f?m(b[e],d+"."+e):c===e&&(l=d+"."+e)})};m(h,k),e({object:f,type:"update",path:l,index:k,name:c,newValue:i,oldValue:d})}}return j=i,i};void 0!=b[c]&&"length"!=c&&(Object.defineProperty?Object.defineProperty(b,c,{get:k,set:l}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(b,c,k),Object.prototype.__defineSetter__.call(b,c,l)))},d=function(b,e,f){var g=a.type(b);/(number|float|int|integer|string|boolean)/.test(g)||void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(g){var h=a.type(b[g]);"array"==h||"object"==h?(c(b,g,e+"."+g,f),d(b[g],e+"."+g,f)):c(b,g,e+"."+g,f)})};Object.defineProperty(f,b,{configurable:!0,enumerable:!0,get:function(){return g[b]},set:function(a){var c=g[b];f.toJSON(null,c)!=f.toJSON(null,a)&&(g[b]=a,"function"==typeof e&&e({object:f,type:"update",path:b.toString(),index:b,name:"index",newValue:a,oldValue:c}),d(a,b,a))}}),d(f[b],b,f[b])}},f.push=function(){for(var a,b=0,c=arguments.length;b<c;b++)a=g.length,g.push(arguments[b]),f.defineIndexProperty(a),"function"==typeof e&&e({object:f,type:"add",name:"length",index:a,newValue:g.length,oldValue:a});return g.length},f.pop=function(){if(~g.length){var a=g.length-1,b=g.pop();return delete f[a],"function"==typeof e&&e({object:f,type:"delete",name:"length",index:a,newValue:g.length,oldValue:a}),b}},f.unshift=function(){for(var a=g.length,b=0,c=arguments.length;b<c;b++)g.splice(b,0,arguments[b]),f.defineIndexProperty(g.length-1);return"function"==typeof e&&e({object:f,type:"add",index:0,name:"length",newValue:g.length,oldValue:a}),g.length},f.shift=function(){var a=g.length;if(~g.length){var b=g.shift();return 0===g.length&&delete f[a],"function"==typeof e&&e({object:f,type:"delete",index:a,name:"length",newValue:g.length,oldValue:a}),b}},f.slice=function(b,c,d){var e=g.slice(b,c),f=new a.jqx.observableArray(e,d);return f},f.splice=function(b,c,d){var h,i=[];for(b=~b?b:g.length-b,c=(null==c?g.length-b:c)||0;c--;)h=g.splice(b,1)[0],i.push(h),delete f[g.length],"function"==typeof e&&e({object:f,type:"delete",index:b,name:"length",newValue:-1,oldValue:b});for(var j=2,k=arguments.length;j<k;j++)g.splice(b,0,arguments[j]),defineIndexProperty(g.length-1),"function"==typeof e&&e({object:f,type:"add",index:b,name:"length",newValue:g.length-1,oldValue:b}),b++;var l=new a.jqx.observableArray(i,d);return l},Object.defineProperty(f,"length",{configurable:!1,enumerable:!0,get:function(){return g.length},set:function(a){var b=Number(a);if(!(b%1===0&&b>=0))throw new RangeError("Invalid array length");return b<g.length?f.splice(b):b>g.length&&f.push.apply(f,new Array(b-g.length)),a}}),a.jqx.observableArray.prototype.fromArray=function(b,c){var d=new a.jqx.observableArray(b,c);return d},a.jqx.observableArray.prototype.clone=function(){var b=new a.jqx.observableArray(g,c);return b.observing=f.observing,b.changes=f.changes,b.notifier=f.notifier,b},f.remove=function(a){if(a<0||a>=f.length)throw new Error("Invalid index : "+a);if(f.hasOwnProperty(a)){var b=f[a];return f[a]=void 0,g[a]=void 0,"function"==typeof e&&e({object:f,type:"delete",index:a,name:"index",newValue:void 0,oldValue:b}),!0}return!1},f.concat=function(b,c){var d=g.concat(b),e=new a.jqx.observableArray(d,c);return e},Object.getOwnPropertyNames(Array.prototype).forEach(function(a){if(!(a in f)){var b=function(){var b=f.observing;f.observing=!1;var c=g[a],d=c.apply(g,arguments);return f.observing=b,d};Object.defineProperty(f,a,{configurable:!1,enumerable:!0,writeable:!1,value:b})}}),f.set=function(b,c){if("string"==a.type(b)&&b.split(".").length>1){for(var d=b.split("."),e=f,g=0;g<d.length;g++){if(0===g&&d[g]>=f.length)throw new Error("Invalid Index: "+b);g<d.length-1?e=e[d[g]]:e[d[g]]=c}return!0}return b>=f.length?f.push(c):f[b]=c,!0},f.get=function(a){return f[a]},b instanceof Array&&f.push.apply(f,b),e=function(){f.observing&&(arguments&&arguments[0]&&f.changes.push(arguments[0]),c&&c.apply(f,arguments),f.notifier&&f.notifier.apply(f,arguments))},f},a.jqx.formatDate=function(b,c,d){var e=a.jqx.dataFormat.formatdate(b,c,d);return e},a.jqx.formatNumber=function(b,c,d){var e=a.jqx.dataFormat.formatnumber(b,c,d);return e},a.jqx.dataAdapter=function(b,c){if(void 0!=b&&(void 0!==b.dataFields&&(b.datafields=b.dataFields),void 0!==b.dataType&&(b.datatype=b.dataType),void 0!==b.localData&&(b.localdata=b.localData),void 0!==b.sortColumn&&(b.sortcolumn=b.sortColumn),void 0!==b.sortDirection&&(b.sortdirection=b.sortDirection),void 0!==b.sortOrder&&(b.sortdirection=b.sortOrder),void 0!==b.formatData&&(b.formatdata=b.formatData),void 0!==b.processData&&(b.processdata=b.processData),void 0!==b.pageSize&&(b.pagesize=b.pageSize),void 0!==b.pageNum&&(b.pagenum=b.pageNum),void 0!==b.updateRow&&(b.updaterow=b.updateRow),void 0!==b.addRow&&(b.addrow=b.addRow),void 0!==b.deleteRow&&(b.deleterow=b.deleteRow),void 0!==b.contentType&&(b.contenttype=b.contentType),void 0!=b.totalRecords&&(b.totalrecords=b.totalRecords),void 0!=b.loadError&&(b.loadError=b.loadError),void 0!=b.sortComparer&&(b.sortcomparer=b.sortComparer)),this._source=b,this._options=c||{},void 0!=b.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=b.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=b.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=b.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=b.formatData&&(this._options.formatData=this._source.formatData),void 0!=b.loadError&&(this._options.loadError=this._source.loadError),void 0!=b.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=b.contentType&&(this._options.contentType=this._source.contentType),void 0!=b.async&&(this._options.async=this._source.async),void 0!=b.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=b.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,this._dataset=null,this._binder=null,this._uipp=null,this._uippV2Flag=!0,this._isErrorState=!1,this.bindreadindex=-1,this.bindreadcount=-1,this.bindrowcount=-1,this._loadingBegin=[],this._loadingEnd=[],this._datasetEventsMap={},void 0!=b&&null!=b.localdata&&"function"==typeof b.localdata){var d=b.localdata();if(null!=d){b._localdata=b.localdata;var e=this;b._localdata.subscribe&&(e._oldlocaldata=[],b._localdata.subscribe(function(b){var c=function(b){return a.isArray(b)?a.makeArray(c(a(b))):a.extend(!0,{},b)};0!=e.suspendKO&&void 0!=e.suspendKO&&0!=e._oldlocaldata.length||(e._oldlocaldata=c(b))},b._localdata,"beforeChange"),b._localdata.subscribe(function(a){if(0==e.suspendKO||void 0==e.suspendKO){var c="";e._oldrecords=e.records,0==e._oldlocaldata.length&&(b.localdata=b._localdata()),0==e._oldlocaldata.length?c="change":a&&(e._oldlocaldata.length==a.length&&(c="update"),e._oldlocaldata.length>a.length&&(c="remove"),e._oldlocaldata.length<a.length&&(c="add")),e.dataBind(null,c)}},b._localdata,"change"),e._knockoutdatasource=!0),b.localdata=d}}1==this._options.autoBind&&this.dataBind()},a.jqx.dataAdapter.prototype={destroy:function(){var a=this._source.datatype;switch(a){case"dataset":var c=this._source.localdata;c.off(b.DS_EVENT.TRANSACTION_BEGIN,this._datasetEventsMap[b.DS_EVENT.TRANSACTION_BEGIN]),c.off(b.DS_EVENT.TRANSACTION_END,this._datasetEventsMap[b.DS_EVENT.TRANSACTION_END]),c.off(b.DS_EVENT.LOADCOMPLETE,this._datasetEventsMap[b.DS_EVENT.LOADCOMPLETE]),c.off(b.DS_EVENT.TRANSACTION_ERROR,this._datasetEventsMap[b.DS_EVENT.TRANSACTION_ERROR]),c.off(b.DS_EVENT.RESETDATASET,this._datasetEventsMap[b.DS_EVENT.RESETDATASET]);break;case"binder":}this._datasetEvenstMap=null,this.cachedrecords=null,this.records=null,this.originaldata=null,this.recordids=null,this._loadingBegin=null,this._loadingEnd=null,this._bindingUpdate=null,this._downloadComplete=null,this._dataset=null,this._binder=null,this._uipp=null,this._options=null,this._source=null},getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(a){this.isUpdating=!1,0!=a&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(b,c,d){var e=a.jqx.dataFormat.formatdate(b,c,d);return e},formatNumber:function(b,c,d){var e=a.jqx.dataFormat.formatnumber(b,c,d);return e},dataBind:function(c,d){function e(b,c,d){for(var e,f=b,g=c;f<g;f++)e=ga.getRowObject(f),a.each(H.datafields,function(a,b){var c=b.name,d=K.getvaluebytype(e[c],b);e[c]=d}),K.records[f]=e;K.originaldata=K.records,K.cachedrecords=K.records,K.totalrecords=d,K.addForeignValues(H)}function f(a){var c=a.dynamicmode,d=a.rows,f=(a.cols,a.startindex),g=a.readindex,h=a.readcount,i=a.rowcount;if(c==b.DS_DYNAMICTYPE.DYNAMIC_NONE)K.records.length>0&&b.clearArray(K.records),K.originaldata.length>0&&b.clearArray(K.originaldata),e(0,ga.getRowCount(),ga.getRowCount());else{if(void 0==g||void 0==h||void 0==h)return;h=h!=d.length?d.length:h,e(f,f+h,i)}}function g(){K.callLoadingBegin()}function h(){K.callBindingUpdate("load"),K.callLoadingEnd()}function i(){K.callBindingUpdate()}function j(){K.records.length>0&&b.clearArray(K.records),K.originaldata.length>0&&b.clearArray(K.originaldata),K.cachedrecords.length>0&&b.clearArray(K.cachedrecords),K.records=[],K.originaldata=K.records,K.cachedrecords=K.records,K.totalrecords=K.records.length,K.callBindingUpdate("reset")}function k(){}function l(){var a,c,d=arguments[0],e=d.records,f=d.startindex,g=d.readindex,h=d.readcount;d.rowcount;0===f&&(K.records.length>0&&b.clearArray(K.records),K.originaldata.length>0&&b.clearArray(K.originaldata));for(var i=0,j=e.length;i<j;i++){a=e[i];for(var k=0,l=H.datafields.length;k<l;k++)c=H.datafields[k],a[c.name]=this.getvaluebytype(a[c.name],c);K.records[i+f]=a}K.originaldata=K.records,K.cachedrecords=K.records,K.totalrecords=d.rowcount,K.bindreadindex=g,K.bindreadcount=h,K.bindrowcount=d.rowcount,K.addForeignValues(H)}function m(){}function n(){K.callLoadingBegin()}function o(){}function p(){!this._uippV2Flag&&this._isErrorState||(K.callBindingUpdate("load"),K.callLoadingEnd())}function q(){}function r(){this._uippV2Flag||(this._isErrorState=!0),K.callBindingUpdate("loaderror"),K.callLoadingEnd()}function s(){}function t(){K.records.length>0&&b.clearArray(K.records),K.originaldata.length>0&&b.clearArray(K.originaldata),K.cachedrecords.length>0&&b.clearArray(K.cachedrecords),K.records=[],K.originaldata=K.records,K.cachedrecords=K.records,K.totalrecords=K.records.length,K.callBindingUpdate("reset")}function u(){return Array.prototype.slice.call(arguments,0)}function v(){var a=Array.prototype.slice.call(arguments,0),b=a[0].rowindex,c=a[0].row,d=G(c);K.callBindingUpdate("updaterow",{rowindex:b,row:d})}function w(){return Array.prototype.slice.call(arguments,0)}function x(){var a=Array.prototype.slice.call(arguments,0),b=a[0].rowindex,c=a[0].row,d=G(c);K.callBindingUpdate("addrow",{rowindex:b,row:d})}function y(){return Array.prototype.slice.call(arguments,0)}function z(){var a=Array.prototype.slice.call(arguments,0),b=a[0].rowindex;K.callBindingUpdate("deleterow",{rowindex:b})}function A(){return Array.prototype.slice.call(arguments,0)}function B(){}function C(){return Array.prototype.slice.call(arguments,0)}function D(){var a=Array.prototype.slice.call(arguments,0),b=a[0].selectedIndex;K.callBindingUpdate("selectrow",{rowindex:b})}function E(){}function F(){ha.uiproxy_unregister(ia.LOAD),ha.uiproxy_unregister(ia.BEGINLOAD),ha.uiproxy_unregister(ia.ENDLOAD),ha.uiproxy_unregister(ia.LOADERROR),ha.uiproxy_unregister(ia.RESET),ha.uiproxy_unregister(ia.UPDATE),ha.uiproxy_unregister(ia.INSERT),ha.uiproxy_unregister(ia.DELETE),ha.uiproxy_unregister(ia.LOADRANGE),ha.uiproxy_unregister(ia.SELECT),ha.uiproxy_unregister(ia.UPDATEROW),ha.uiproxy_unregister(ia.INSERTROW),ha.uiproxy_unregister(ia.DELETEROW),ha.uiproxy_unregister(ia.UNBIND)}function G(a){for(var b={},c=0;c<H.datafields.length;c++){var d=H.datafields[c];b[d.name]=a[c]}return b}if(1!=this.isUpdating){var H=this._source;if(H){H.generatedfields&&(H.datafields=null,H.generatedfields=null),a.jqx.dataFormat.datescache=new Array,null!=H.dataFields&&(H.datafields=H.dataFields),void 0==H.recordstartindex&&(H.recordstartindex=0),void 0==H.recordendindex&&(H.recordendindex=0),void 0==H.loadallrecords&&(H.loadallrecords=!0),void 0==H.root&&(H.root=""),void 0==H.record&&(H.record=""),void 0!=H.sort&&(this.sort=H.sort),void 0!=H.filter?this.filter=H.filter:this.filter=null,void 0!=H.sortcolumn&&(this.sortcolumn=H.sortcolumn),void 0!=H.sortdirection&&(this.sortdirection=H.sortdirection),void 0!=H.sortcomparer&&(this.sortcomparer=H.sortcomparer),this.records=new Array;var I=this._options||{};if(this.virtualmode=void 0!=I.virtualmode&&I.virtualmode,this.totalrecords=void 0!=I.totalrecords?I.totalrecords:0,this.pageable=void 0!=I.pageable&&I.pageable,this.pagesize=void 0!=I.pagesize?I.pagesize:0,this.pagenum=void 0!=I.pagenum?I.pagenum:0,this.cachedrecords=void 0!=I.cachedrecords?I.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=I.updaterow?I.updaterow:null,this.addrow=void 0!=I.addrow?I.addrow:null,this.deleterow=void 0!=I.deleterow?I.deleterow:null,this.cache=void 0!=I.cache&&I.cache,this.unboundmode=!1,void 0!=H.formatdata&&(I.formatData=H.formatdata),void 0!=H.data&&(void 0==I.data&&(I.data={}),a.extend(I.data,H.data)),void 0!=H.mapChar&&(H.mapchar=H.maxChar),void 0!=H.mapchar?this.mapChar=H.mapchar?H.mapchar:">":this.mapChar=I.mapChar?I.mapChar:">",(I.unboundmode||H.unboundmode)&&(this.unboundmode=I.unboundmode||H.unboundmode),void 0!=H.cache&&(this.cache=H.cache),this.koSubscriptions)for(var J=0;J<this.koSubscriptions.length;J++)this.koSubscriptions[J].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var K=this,L=H.datatype;"csv"!==H.datatype&&"tab"!==H.datatype&&"tsv"!==H.datatype&&"text"!=H.datatype||(L="text");var M=void 0==I.async||I.async;switch(void 0!=H.async&&(M=H.async),L){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==H.localdata&&H.length){H.localdata=new Array;for(var N=0;N<H.length;N++)H.localdata[H.localdata.length]=H[N],H[N].uid=N}H.beforeprocessing&&a.isFunction(H.beforeprocessing)&&H.beforeprocessing(H.localdata);var O=H.localdata.length;if(this.totalrecords=this.virtualmode?H.totalrecords||O:O,this.unboundmode){this.totalrecords=this.unboundmode?H.totalrecords||O:O;var P=H.datafields?H.datafields.length:0;if(P>0)for(var N=0;N<this.totalrecords;N++){for(var Q={},R=0;R<P;R++)Q[H.datafields[R].name]="";Q.uid=N,H.localdata[H.localdata.length]=Q}}void 0==this.totalrecords&&(this.totalrecords=0);var P=H.datafields?H.datafields.length:0,S=function(b,c){for(var d={},e=0;e<c;e++){var f=H.datafields?H.datafields[e]:{},g="";if(void 0!=f&&null!=f){if(f.map){if(a.isFunction(f.map))g=f.map(b);else{var h=f.map.split(K.mapChar);if(h.length>0){for(var i=b,j=0;j<h.length;j++)i&&(i=i[h[j]]);g=i}else g=b[f.map]}void 0!=g&&null!=g?g=g.toString():void 0==g&&null!=g&&(g="")}var k=!1;""==g&&(k=!0,g=b[f.name],void 0!=g&&null!=g&&(H._localdata&&g.subscribe?g=g():"array"!=f.type&&(g=g.toString()))),"[object Object]"==g&&f.map&&k&&(g=""),g=K.getvaluebytype(g,f),void 0!=f.displayname?d[f.displayname]=g:d[f.name]=g}}return d};if(H._localdata){this._changedrecords=[],this.records=new Array;var T=H._localdata();if(a.each(T,function(b,c){if("string"==typeof c)K.records.push(c);else{var e={},f=0,g=this;a.each(this,function(c,d){var h=null,i="string",j=c;if(P>0){for(var k=!1,l=!1,m=0;m<P;m++){var n=H.datafields[m];if(void 0!=n&&n.name==c){k=!0,h=n.map,i=n.type,j=n.name;break}if(void 0!=n&&n.map&&n.map.indexOf(c)>=0){k=!0,h=n.map,i=n.type,j=n.name,l=!0;var o=g[c];if(null!=h){var p=h.split(K.mapChar);if(p.length>0){for(var q=g,r=0;r<p.length;r++)q=q[p[r]];o=q}else o=g[h]}"string"!=i&&(o=K.getvaluebytype(o,{type:i})),e[j]=o,void 0!=e[j]&&(f+=e[j].toString().length+e[j].toString().substr(0,1))}}if(!k)return!0;if(l)return!0}var s=a.isFunction(g[c]);if(s){var o=g[c]();if("string"!=i&&(o=K.getvaluebytype(o,{type:i})),e[c]=o,g[c].subscribe){var t=b;K.koSubscriptions[K.koSubscriptions.length]=g[c].subscribe(function(a){var b=t;e[c]=a;var d={index:b,oldrecord:e,record:e};if(K._changedrecords.push(d),!K.isUpdating)return K.callBindingUpdate("update"),K._changedrecords=[],!1})}}else{var o=g[c];if(null!=h){var p=h.split(K.mapChar);if(p.length>0){for(var q=g,r=0;r<p.length;r++)q=q[p[r]];o=q}else o=g[h]}"string"!=i&&(o=K.getvaluebytype(o,{type:i})),e[j]=o,void 0!=e[j]&&(f+=e[j].toString().length+e[j].toString().substr(0,1))}});var h=K.getid(H.id,g,b);if(e.uid=h,K.records.push(e),e._koindex=f,K._oldrecords){var i=K.records.length-1;if("update"==d&&K._oldrecords[i]._koindex!=f){var j={index:i,oldrecord:K._oldrecords[i],record:e};K._changedrecords.push(j)}}}}),"add"==d)for(var O=K.records.length,N=0;N<O;N++){for(var Q=K.records[N],U=!1,V=0;V<K._oldrecords.length;V++)if(K._oldrecords[V]._koindex===Q._koindex){U=!0;break}U||K._changedrecords.push({index:N,oldrecord:null,record:Q,position:0!=N?"last":"first"})}else if("remove"==d)for(var O=K._oldrecords.length,N=0;N<O;N++){var W=K._oldrecords[N];K.records[N]?K.records[N]._koindex!=W._koindex&&K._changedrecords.push({index:N,oldrecord:W,record:null}):K._changedrecords.push({index:N,oldrecord:W,record:null})}}else if(a.isArray(H.localdata))if(0==P){var X=0,Y=new Array;a.each(H.localdata,function(b,c){var d=new Object(this);if("string"==typeof c)return K.records=H.localdata,!1;var e=K.getid(H.id,d,b);if("object"==typeof e&&(e=b),d.uid=e,0==b){for(var f in this){X++;var g=a.type(this[f]);Y.push({name:f,type:g})}P=X,H.datafields=Y,H.generatedfields=Y}if(P>0){var h=S(d,P);h.uid=e,K.records[K.records.length]=h}else K.records[K.records.length]=d})}else a.each(H.localdata,function(a){var b=this,c=S(b,P),d=K.getid(H.id,c,a);"object"==typeof d&&(d=a);var b=new Object(c);b.uid=d,K.records[K.records.length]=b});else{this.records=new Array;var X=0,Y=new Array;a.each(H.localdata,function(b){var c=K.getid(H.id,this,b);if(0==P&&!("string"==typeof this||this instanceof String)){for(var d in this){X++;var e=a.type(this[d]);Y.push({name:d,type:e})}P=X,H.datafields=Y,H.generatedfields=Y}if(P>0){var f=this,g=S(f,P);g.uid=c,K.records[K.records.length]=g}else this.uid=c,K.records[K.records.length]=this})}if(this.originaldata=H.localdata,this.cachedrecords=this.records,this.addForeignValues(H),I.uniqueDataFields){var Z=this.getUniqueRecords(this.records,I.uniqueDataFields);this.records=Z,this.cachedrecords=Z}if(I.beforeLoadComplete){var $=I.beforeLoadComplete(K.records,this.originaldata);void 0!=$&&(K.records=$,K.cachedrecords=$)}if(I.autoSort&&I.autoSortField){var _=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[I.autoSortField]},K.records.sort(function(b,c){if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return-1;if(b=b.toString(),c=c.toString(),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return-1;if(a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return b<c?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return b<c?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(b<c)return-1;if(b>c)return 1}catch(d){}return 0}),Object.prototype.toString=_}K.loadedData=H.localdata,K.buildHierarchy(),K.callDownloadComplete(),a.isFunction(I.loadComplete)&&I.loadComplete(H.localdata,K.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=H.localdata&&!H.url){if(a.isFunction(H.beforeprocessing)&&H.beforeprocessing(H.localdata),"xml"===H.datatype?K.loadxml(H.localdata,H.localdata,H):"text"===L?K.loadtext(H.localdata,H):"ics"===L?K.loadics(H.localdata,H):K.loadjson(H.localdata,H.localdata,H),K.addForeignValues(H),I.uniqueDataFields){var Z=K.getUniqueRecords(K.records,I.uniqueDataFields);K.records=Z,K.cachedrecords=Z}if(I.beforeLoadComplete){var $=I.beforeLoadComplete(K.records,this.originaldata);void 0!=$&&(K.records=$,K.cachedrecords=$)}return K.loadedData=H.localdata,K.buildHierarchy.call(K),a.isFunction(I.loadComplete)&&I.loadComplete(H.localdata,K.records),void K.callBindingUpdate(d)}var aa=void 0!=I.data?I.data:{};if(H.processdata&&H.processdata(aa),a.isFunction(I.processData)&&I.processData(aa),a.isFunction(I.formatData)){var ba=I.formatData(aa);void 0!=ba&&(aa=ba)}var ca="application/x-www-form-urlencoded";I.contentType&&(ca=I.contentType);var da="GET";H.type&&(da=H.type),I.type&&(da=I.type);var ea=L;if("ics"==L&&(ea="text"),H.url&&H.url.length>0)a.isFunction(I.loadServerData)?K._requestData(aa,H,I):this.xhr=a.jqx.data.ajax({dataType:ea,cache:this.cache,type:da,url:H.url,async:M,timeout:H.timeout,contentType:ca,data:aa,success:function(b,c,d){if(a.isFunction(H.beforeprocessing)){var e=H.beforeprocessing(b,c,d);void 0!=e&&(b=e)}if(a.isFunction(I.downloadComplete)){var e=I.downloadComplete(b,c,d);void 0!=e&&(b=e)}if(null==b)return K.records=new Array,K.cachedrecords=new Array,K.originaldata=new Array,K.callDownloadComplete(),void(a.isFunction(I.loadComplete)&&I.loadComplete(new Array));var f=b;if(b.records&&(f=b.records),void 0!=b.totalrecords?H.totalrecords=b.totalrecords:void 0!=b.totalRecords&&(H.totalrecords=b.totalRecords),"xml"===H.datatype?K.loadxml(null,f,H):"text"===L?K.loadtext(f,H):"ics"===L?K.loadics(f,H):K.loadjson(null,f,H),K.addForeignValues(H),I.uniqueDataFields){var g=K.getUniqueRecords(K.records,I.uniqueDataFields);K.records=g,K.cachedrecords=g}if(I.beforeLoadComplete){var h=I.beforeLoadComplete(K.records,b);void 0!=h&&(K.records=h,K.cachedrecords=h)}K.loadedData=b,K.buildHierarchy.call(K),K.callDownloadComplete(),a.isFunction(I.loadComplete)&&I.loadComplete(b,c,d,K.records)},error:function(b,c,d){a.isFunction(H.loaderror)&&H.loaderror(b,c,d),a.isFunction(I.loadError)&&I.loadError(b,c,d),b=null,K.callDownloadComplete()},beforeSend:function(b,c){a.isFunction(I.beforeSend)&&I.beforeSend(b,c),a.isFunction(H.beforesend)&&H.beforesend(b,c)}});else if(K.buildHierarchy(new Array),K.callDownloadComplete(),a.isFunction(I.loadComplete)){if(!fa)var fa={};I.loadComplete(fa)}break;case"dataset":if(void 0!=H.localdata){if(void 0!=b.getModule("dataset.table")&&!(H.localdata instanceof b.getModule("dataset.table")))return;if(void 0!=b.getModule("dataset")&&!(H.localdata instanceof b.getModule("dataset")))return;this._dataset=H.localdata;var ga=this._dataset;ga.on(b.DS_EVENT.TRANSACTION_BEGIN,g),ga.on(b.DS_EVENT.TRANSACTION_END,h),ga.on(b.DS_EVENT.LOADCOMPLETE,f),ga.on(b.DS_EVENT.TRANSACTION_ERROR,i),ga.on(b.DS_EVENT.RESETDATASET,j),this._datasetEventsMap[b.DS_EVENT.TRANSACTION_BEGIN]=g,this._datasetEventsMap[b.DS_EVENT.TRANSACTION_END]=h,this._datasetEventsMap[b.DS_EVENT.LOADCOMPLETE]=f,this._datasetEventsMap[b.DS_EVENT.TRANSACTION_ERROR]=i,this._datasetEventsMap[b.DS_EVENT.RESETDATASET]=j,ga.getRowCount()>0&&e(0,ga.getRowCount(),ga.getRowCount())}break;case"binder":if(void 0!=H.localdata&&(H.localdata instanceof b.getModule("bindmodel")||H.localdata instanceof b.getModule("binder"))){this._binder=H.localdata;var ha=this._binder,ia=H.uipp;void 0!=b.getModule("bindmodelgrid")&&(ia=b.module("bindmodelgrid").UIPP,this._uippV2Flag=!1),this._uipp=ia,ha.uiproxy_register(ia.LOAD,this,k,l),ha.uiproxy_register(ia.BEGINLOAD,this,m,n),ha.uiproxy_register(ia.ENDLOAD,this,o,p),ha.uiproxy_register(ia.LOADERROR,this,q,r),ha.uiproxy_register(ia.RESET,this,s,t),ha.uiproxy_register(ia.UPDATE,this,u,v),ha.uiproxy_register(ia.INSERT,this,w,x),ha.uiproxy_register(ia.DELETE,this,y,z),ha.uiproxy_register(ia.LOADRANGE,this,A,B),ha.uiproxy_register(ia.SELECT,this,C,D),ha.uiproxy_register(ia.UPDATEROW,this,u,v),ha.uiproxy_register(ia.INSERTROW,this,w,x),ha.uiproxy_register(ia.DELETEROW,this,y,z),ha.uiproxy_register(ia.UNBIND,this,E,F),ha.uiproxy_run(ia.LOAD)}}this.callBindingUpdate(d)}}},bindupdaterow:function(a,b){var c=this._source.datatype;switch(c){case"dataset":this._dataset.updateRow(a,b);break;case"binder":this._binder.uiproxy_run(this._uippV2Flag?this._uipp.UPDATE:this._uipp.UPDATEROW,a,b)}},bindaddrow:function(a,b){var c=this._source.datatype;switch(c){case"dataset":"number"==typeof a?this._dataset.insertRow(b,a):this._dataset.addRow(b,a);break;case"binder":this._binder.uiproxy_run(this._uippV2Flag?this._uipp.INSERT:this._uipp.INSERTROW,a,b)}},binddeleterow:function(a){var b=this._source.datatype;switch(b){case"dataset":this._dataset.deleteRow(a);break;case"binder":this._binder.uiproxy_run(this._uippV2Flag?this._uipp.DELETE:this._uipp.DELETEROW,a)}},bindgopage:function(a,c,d){var e=this._source.datatype,f=d||{};switch(void 0==f.notrans&&(f.notrans=!0),e){case"dataset":var g=this._dataset,h=g.dynamicmode(),i=g.getDynamicRowCount(),j=g.getRealRowCount();h==b.DS_DYNAMICTYPE.DYNAMIC_APPEND&&!g.status(b.DS_STATUS.STAT_DYNAMICLOAD_COMPLETED)&&i<j&&g.requestTransaction(f);break;case"binder":this._binder.uiproxy_run(this._uipp.LOADRANGE,a,c,f)}},bindselectrow:function(a){var b=this._source.datatype;switch(b){case"dataset":this._dataset.setCurrentRowIndex(a);break;case"binder":this._binder.uiproxy_run(this._uippV2Flag?this._uipp.SELECT:this._uipp.SELECTROW,a)}},binddetach:function(){var a=this._source.datatype;switch(a){case"dataset":break;case"binder":this._binder.uiproxy_run(this._uipp.UNBIND)}},buildHierarchy:function(a){var b=this._source,c=new Array;if(b.datafields){if(b.hierarchy&&!b.hierarchy.reservedNames)b.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(b.hierarchy){var d=b.hierarchy.reservedNames;d.leaf||(d.leaf="leaf"),d.parent||(d.parent="parent"),d.expanded||(d.expanded="expanded"),d.checked||(d.checked="checked"),d.selected||(d.selected="selected"),d.level||(d.level="level"),d.data||(d.data="data")}if(b.hierarchy){var e=this,d=b.hierarchy.reservedNames;if(b.hierarchy.root){if("xml"==b.dataType){var c=this.getRecordsHierarchy("uid","parentuid","records",null,a);return this.hierarchy=c,c}this.hierarchy=this.records;for(var f=b.hierarchy.root,g=0;g<this.records.length;g++){var h=this.records[g];if(h){var i=function(a){if(b.hierarchy.record)a.records=a[f][b.hierarchy.record];else{var c=f.split(e.mapChar),g=null;if(c.length>1){for(var h=a,i=0;i<c.length;i++)void 0!=h&&(h=h[c[i]]);g=h}else g=a[f];a.records=g}(null==a.records||a.records&&0==a.records.length)&&(a[d.leaf]=!0)};i(h),h[d.level]=0;var j=this.getid(b.id,h,g);h.uid=j,h[d.parent]=null,h[d.data]=h,void 0===h[d.expanded]&&(h[d.expanded]=!1);var k=function(a,c){if(!c)return void(a.records=new Array);for(var f=0;f<c.length;f++){var g=c[f];if(g){i(g),g[d.level]=a[d.level]+1,g[d.parent]=a,g[d.data]=g;var h=e.getid(b.id,g,f);h==f&&null==b.id?g.uid=a.uid+"_"+h:g.uid=h,void 0===g[d.expanded]&&(g[d.expanded]=!1),k(g,g.records)}}};k(h,h.records)}}return this.hierarchy}if(b.hierarchy.keyDataField&&b.hierarchy.parentDataField){var c=this.getRecordsHierarchy(b.hierarchy.keyDataField.name,b.hierarchy.parentDataField.name,"records",null,a);return this.hierarchy=c,c}if(b.hierarchy.groupingDataFields){for(var l=new Array,g=0;g<b.hierarchy.groupingDataFields.length;g++)l.push(b.hierarchy.groupingDataFields[g].name);var c=this.getGroupedRecords(l,"records","label",null,"data",null,"parent",a);return this.hierarchy=c,c}}}},addRecord:function(a,b,c,d){var e=this,f=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=a){if(void 0!=c){if(this.hierarchy.length>0){var g=function(d){if(d)for(var h=0;h<d.length;h++){var i=d[h];if(i.uid==c){var j=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;return null==j&&(j=f()),a[j.parent]=i,a[j.level]=i[j.level]+1,i.records?i[j.leaf]=!1:(i.records=new Array,i[j.leaf]=!1),"last"==b?(i.records.push(a),e.records.push(a)):"number"==typeof b&&isFinite(b)?(i.records.splice(b,0,a),e.records.splice(b,0,a)):(i.records.splice(0,0,a),e.records.splice(0,0,a)),!0}i.records&&g(i.records)}};g(this.hierarchy)}}else if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||d)){var h=e._source&&e._source.hierarchy?e._source.hierarchy.reservedNames:null;null==h&&(h=f()),a[h.level]=0,"last"==b?(this.hierarchy.push(a),this.records.push(a)):"number"==typeof b&&isFinite(b)?(this.hierarchy.splice(b,0,a),this.records.splice(b,0,a)):(this.hierarchy.splice(0,0,a),this.records.splice(0,0,a))}else"last"==b?this.records.push(a):"number"==typeof b&&isFinite(b)?this.records.splice(b,0,a):this.records.splice(0,0,a);if("binder"==this._source.datatype){for(var i,j={},k=this._source.datafields,l=0,m=k.length;l<m;l++)i=k[l].name,
void 0==a[i]||null==a[i]?j[i]=null:j[i]=a[i];this.bindaddrow(b,j)}return!0}return!1},deleteRecord:function(a){var b=this;if(this.hierarchy.length>0){var c=function(d){if(d)for(var e=0;e<d.length;e++){var f=d[e];if(f.uid==a){d.splice(e,1),b.recordids[a]&&delete b.recordids[a];var g=function(a){for(var c=0;c<a.length;c++){for(var d=a[c].uid,e=0;e<b.records.length;e++){var f=b.records[e];if(f.uid==d){b.records.splice(e,1),"binder"==b._source.datatype&&b.binddeleterow(e);break}}a[c].records&&g(a[c].records)}};f.records&&g(f.records);for(var h=0;h<b.records.length;h++){var f=b.records[h];if(f.uid==a){b.records.splice(h,1),"binder"==b._source.datatype&&b.binddeleterow(h);break}}return!0}f.records&&c(f.records)}};c(this.hierarchy)}else for(var d=0;d<this.records.length;d++){var e=this.records[d];if(e.uid==a)return this.records.splice(d,1),"binder"==this._source.datatype&&this.binddeleterow(d),!0}return!1},addForeignValues:function(a){for(var b=this,c=a.datafields?a.datafields.length:0,d=0;d<c;d++){var e=a.datafields[d];if(void 0!=e)if(void 0!=e.values){void 0==e.value&&(e.value=e.name),void 0==e.values.value&&(e.values.value=e.value);var f,g,h=new Array;b.pageable&&b.virtualmode?(f=b.pagenum*b.pagesize,g=f+b.pagesize,g>b.totalrecords&&(g=b.totalrecords)):b.virtualmode?(f=a.recordstartindex,g=a.recordendindex,g>b.totalrecords&&(g=b.totalrecords)):(f=0,g=b.records.length);for(var i=f;i<g;i++){var j=b.records[i],k=e.name,l=j[e.value];if(void 0!=h[l])j[k]=h[l];else for(var m=0;m<e.values.source.length;m++){var n=e.values.source[m],o=n[e.values.value];if(void 0==o&&(o=n.uid),o==l){var p=n[e.values.name];j[k]=p,h[l]=p;break}}}}else if(void 0!=e.value)for(var i=0;i<b.records.length;i++){var j=b.records[i];j[e.name]=j[e.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(b,c,d){var e=this,f=function(b){if(b.totalrecords&&(c.totalrecords=b.totalrecords,e.totalrecords=b.totalrecords),b.records&&(e.records=b.records,e.cachedrecords=b.records),e.addForeignValues(c),d.uniqueDataFields){var f=e.getUniqueRecords(e.records,d.uniqueDataFields);e.records=f,e.cachedrecords=f}if(d.beforeLoadComplete){var g=d.beforeLoadComplete(e.records,data);void 0!=g&&(e.records=g,e.cachedrecords=g)}for(var h=0;h<e.records.length;h++){var i=e.records[h];void 0!=i&&void 0==i.uid&&(i.uid=e.getid(c.id,i,h))}e.buildHierarchy.call(e),e.callDownloadComplete(),a.isFunction(d.loadComplete)&&d.loadComplete(b)};d.loadServerData(b,c,f)},getUniqueRecords:function(a,b){if(a&&b)for(var c=a.length,d=b.length,e=new Array,f=new Array,g=0;g<c;g++){var h=a[g],i="";if(void 0!=h){for(var j=0;j<d;j++){var k=b[j];i+=h[k]+"_"}f[i]||(e[e.length]=h),f[i]=!0}}return e},getAggregatedData:function(b,c,d,e){var f=d;f||(f=this.records);var g={},h=new Array,i=f.length;if(0!=i&&void 0!=i){for(var j=0;j<i;j++)for(var k=f[j],l=0;l<b.length;l++){var m=b[l],n=k[m.name];if(m.aggregates){g[m.name]=g[m.name]||{},h[m.name]=h[m.name]||0,h[m.name]++;var o=function(b){for(obj in b){var c=g[m.name][obj];null==c&&(g[m.name][obj]=0,c=0),a.isFunction(b[obj])&&(c=b[obj](c,n,m.name,k,e)),g[m.name][obj]=c}},p=parseFloat(n);p=!isNaN(p),p&&(n=parseFloat(n)),"number"==typeof n&&isFinite(n)?a.each(m.aggregates,function(){var a=g[m.name][this];if(null==a&&(a=0,"min"==this&&(a=9999999999999),"max"==this&&(a=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)a+=parseFloat(n);else if("product"==this)0==j?a=parseFloat(n):a*=parseFloat(n);else if("min"==this)a=Math.min(a,parseFloat(n));else if("max"==this)a=Math.max(a,parseFloat(n));else if("count"==this)a++;else if("object"==typeof this)return void o(this);g[m.name][this]=a}):a.each(m.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===n)return!0;var a=g[m.name][this];return null==a&&(a=0),g[m.name][this]=a,!0}"object"==typeof this&&o(this)})}}for(var l=0;l<b.length;l++){var m=b[l];if(g[m.name]||(g[m.name]={},a.each(m.aggregates,function(a){g[m.name][this]=0})),void 0!=g[m.name].avg){var n=g[m.name].avg,q=h[m.name];0===q||void 0==q?g[m.name].avg=0:g[m.name].avg=n/q}else void 0!=g[m.name].count&&(g[m.name].count=i);(g[m.name].stdev||g[m.name].stdevp||g[m.name]["var"]||g[m.name].varp)&&a.each(m.aggregates,function(a){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var b=g[m.name][this],c=i,d=b/i,e=0,h=0;h<i;h++){var j=f[h],k=j[m.name];e+=(k-d)*(k-d)}var l="stdevp"==this||"varp"==this?c:c-1;0==l&&(l=1),"var"==this||"varp"==this?g[m.name][this]=e/l:"stdevp"!=this&&"stdev"!=this||(g[m.name][this]=Math.sqrt(e/l))}}),m.formatStrings&&a.each(m.aggregates,function(b){var d=m.formatStrings[b];if(d)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var e=g[m.name][this];g[m.name][this]=a.jqx.dataFormat.formatnumber(e,d,c)}else if("object"==typeof this)for(obj in this){var e=g[m.name][obj];g[m.name][obj]=a.jqx.dataFormat.formatnumber(e,d,c)}})}return g}},bindDownloadComplete:function(a,b){this._downloadComplete[this._downloadComplete.length]={id:a,func:b}},unbindDownloadComplete:function(a){for(var b=0;b<this._downloadComplete.length;b++)if(this._downloadComplete[b].id==a){this._downloadComplete[b].func=null,this._downloadComplete.splice(b,1);break}},callDownloadComplete:function(){for(var a=0;a<this._downloadComplete.length;a++){var b=this._downloadComplete[a];null!=b.func&&b.func()}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getGroupedRecords:function(b,c,d,e,f,g,h,i,j){var k=this;j||(j=0);for(var l=new Array,m=0;m<b.length;m++)l[m]=k.generatekey();c||(c="items"),d||(d="group"),f||(f="record"),h||(h="parentItem"),void 0===g&&(g="value");var n=new Array,o=0,p=new Array,q=b.length;new Array;if(!i)var i=this.records;for(var r=i.length,s=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},t=0;t<r;t++){var u=s(i[t]);id=u[k.uniqueId];var v=new Array,w=0;for(m=0;m<q;m++){var x=b[m],y=u[x];null!=y&&(v[w++]={value:y,hash:l[m]})}if(v.length!=q)break;for(var z=null,A="",B=-1,C=0;C<v.length;C++){B++;var D=v[C].value,E=v[C].hash;if(A=A+"_"+E+"_"+D,void 0==p[A]||null==p[A]){if(null==z){z={level:0},z[h]=null,z[d]=D,z[f]=u,void 0!==u.expanded?z.expanded=u.expanded:z.expanded=!1,g&&(z[g]=u[g]),z[c]=new Array;var F=n.length+j;this._source.id&&"number"!=typeof u.uid&&!isFinite(u.uid)||(F="Row"+F),z.uid=F,n[o++]=z}else{var G={level:z.level+1};G[h]=z,G[d]=D,G[c]=new Array,G[f]=u,void 0!==u.expanded?G.expanded=u.expanded:G.expanded=!1,g&&(G[g]=u[g]),G.uid=z.uid+"_"+z[c].length,z[c][z[c].length]=G,z=G}p[A]=z}else z=p[A]}u&&(u.leaf=!0),null!=z?(null==this._source.id&&(void 0==u.uid?u.uid=z.uid+"_"+z[c].length:u.uid.toString().indexOf(z.uid)==-1&&(u.uid=z.uid+"_"+u.uid)),u[h]=z,u.level=z.level+1,z[c][z[c].length]=u):void 0==u.uid&&(u.uid=this.generatekey())}return n},getRecordsHierarchy:function(b,c,d,e,f){var g=new Array,h=this.records;if(f&&(h=f),0==this.records.length)return[];for(var i=null!=d?d:"items",j=[],k=h,l=k.length,m=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,n=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},o=0;o<l;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];j[r]={parentid:q,item:p}}for(var o=0;o<l;o++){var p=a.extend({},k[o]),q=p[c],r=p[b];if(void 0!=j[q]){var p={parentid:q,item:j[r].item},s=j[q].item;s[i]||(s[i]=[]);var t=s[i].length,u=p.item;m?void 0==u[m.parent]&&(u[m.parent]=s):void 0==u.parent&&(u.parent=s);var v=n(u);s[i][t]=v,j[q].item=s,j[r]=p}else{var u=j[r].item;m?void 0==u[m.parent]&&(u[m.parent]=null):void 0==u.parent&&(u.parent=null);var v=n(u);m?v[m.level]=0:v.level=0,g[g.length]=v}}if(0!=g.length){var w=function(a,b){for(var c=0;c<b.length;c++){m?b[c][m.level]=a:b[c].level=a;var d=b[c][i];d&&d.length>0?w(a+1,d):m?b[c][m.leaf]=!0:b[c].leaf=!0}};w(0,g)}return g},bindBindingUpdate:function(a,b){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:b}},unbindBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++)if(this._bindingUpdate[b].id==a){this._bindingUpdate[b].func=null,this._bindingUpdate.splice(b,1);break}},callBindingUpdate:function(a){for(var b=Array.prototype.slice.call(arguments,0),c=0;c<this._bindingUpdate.length;c++){var d=this._bindingUpdate[c];null!=d.func&&d.func.apply(d,b)}},bindLoadingBegin:function(a,b){this._loadingBegin[this._loadingBegin.length]={id:a,func:b}},unbindLoadingBegin:function(a){for(var b=0;b<this._loadingBegin.length;b++)if(this._loadingBegin[b].id==a){this._loadingBegin[b].func=null,this._loadingBegin.splice(b,1);break}},callLoadingBegin:function(){for(var a=0;a<this._loadingBegin.length;a++){var b=this._loadingBegin[a];null!=b.func&&b.func()}},bindLoadingEnd:function(a,b){this._loadingEnd[this._loadingEnd.length]={id:a,func:b}},unbindLoadingEnd:function(a){for(var b=0;b<this._loadingEnd.length;b++)if(this._loadingEnd[b].id==a){this._loadingEnd[b].func=null,this._loadingEnd.splice(b,1);break}},callLoadingEnd:function(){for(var a=0;a<this._loadingEnd.length;a++){var b=this._loadingEnd[a];null!=b.func&&b.func()}},getid:function(b,c,d){if(null==b||void 0==b.name||!b.name){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return a.trim(e).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var f=b.split(this.mapChar);if(f.length>1){for(var g=c,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);if(void 0!=g)return g}else if(void 0!=c[b])return c[b]}return d}var e=a(c).attr(b.name);if(null!=e&&e.toString().length>0)return e;if(b.map)try{var e=a(c).attr(b.map);if(null!=e&&e.toString().length>0)return e;if(a(b.map,c).length>0)return a(b.map,c).text();if(a(b.name,c).length>0)return a(b.name,c).text()}catch(i){return d}},loadjson:function(b,c,d){"string"==typeof b&&(b=a.parseJSON(b)),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b=b||c;b||(b=[]);var e=this;if(""!=d.root){var f=d.root.split(e.mapChar);if(f.length>1){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}else if(void 0!==b[d.root]?b=b[d.root]:b[0]&&void 0!==b[0][d.root]?b=b[0][d.root]:a.each(b,function(a){return this==d.root?(b=this,!1):void(void 0!=this[d.root]&&(b=this[d.root]))}),!b){var f=d.root.split(e.mapChar);if(f.length>0){for(var g=b,h=0;h<f.length;h++)void 0!=g&&(g=g[f[h]]);b=g}}}else if(!b.length)for(obj in b)if(a.isArray(b[obj])){b=b[obj];break}if(null!=b&&void 0==b.length&&(b=a.makeArray(b)),null==b||void 0==b||"undefined"==b||void 0==b.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==b.length)return void(this.totalrecords=0);var i=b.length;this.totalrecords=this.virtualmode?d.totalrecords||i:i,this.records=new Array,this.originaldata=new Array;var j=this.records,k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(k=0,i=this.totalrecords);var l=0;this.virtualmode&&(k=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,l=k,k=0,i=this.totalrecords);var m=d.datafields?d.datafields.length:0;if(0==m){var n=b[0],o=new Array;for(obj in n){var p=obj;o[o.length]={name:p}}d.datafields=o,d.generatedfields=d.datafields,m=o.length}for(var q=k,r=k;r<i;r++){var s=b[r];if(void 0==s)break;if(!d.record||""==d.record||(s=s[d.record],void 0!=s)){var t=this.getid(d.id,s,r);if("object"==typeof t&&(t=r),!this.recordids[t]){this.recordids[t]=s;for(var u={},v=0;v<m;v++){var w=d.datafields[v],x="";if(void 0!=w&&null!=w){if(w.map){if(a.isFunction(w.map))x=w.map(s);else{var f=w.map.split(e.mapChar);if(f.length>0){for(var y=s,h=0;h<f.length;h++)void 0!=y&&(y=y[f[h]]);x=y}else x=s[w.map]}void 0!=x&&null!=x?x=this.getvaluebytype(x,w):void 0==x&&null!=x&&(x="")}if(""==x&&!w.map&&(x=s[w.name],void 0==x&&null!=x&&(x=""),void 0!=w.value&&void 0!=x)){var z=x[w.value];void 0!=z&&(x=z)}if(x=this.getvaluebytype(x,w),void 0!=w.displayname?u[w.displayname]=x:u[w.name]=x,"array"===w.type){var A=function(b){if(b)for(var c=0;c<b.length;c++){var f=b[c];if(f)for(var g=0;g<m;g++){var h=d.datafields[g],i="";if(void 0!=h&&null!=h){if(h.map){if(a.isFunction(h.map))i=h.map(f);else{var j=h.map.split(e.mapChar);if(j.length>0){for(var k=f,l=0;l<j.length;l++)void 0!=k&&(k=k[j[l]]);i=k}else i=f[h.map]}void 0!=i&&null!=i?i=this.getvaluebytype(i,h):void 0==i&&null!=i&&(i="")}if(""==i&&!h.map&&(i=f[h.name],void 0==i&&null!=i&&(i=""),void 0!=h.value&&void 0!=i)){var n=i[h.value];void 0!=n&&(i=n)}i=this.getvaluebytype(i,h),void 0!=h.displayname?f[h.displayname]=i:f[h.name]=i,"array"===h.type&&A.call(this,i)}}}};A.call(this,x)}}}(d.recordendindex<=0||k<d.recordendindex)&&(j[l+q]=new Object(u),j[l+q].uid=t,this.originaldata[l+q]=new Object(j[r]),q++)}}}this.records=j,this.cachedrecords=this.records},loadxml:function(b,c,d){"string"==typeof b&&(b=c=a(a.parseXML(b)),b=null),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b;b=a.jqx.browser.msie&&c&&void 0!=c.xml?a(d.root+" "+d.record,a.parseXML(c.xml)):b||a(d.root+" "+d.record,c),b||(b=[]);var e=b.length;if(0!=b.length){this.totalrecords=this.virtualmode?d.totalrecords||e:e,this.records=new Array,this.originaldata=new Array;var f=this.records,g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(g=0,e=this.totalrecords);var h=0;this.virtualmode&&(g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,h=g,g=0,e=this.totalrecords);var i=d.datafields?d.datafields.length:0;if(0==i){var j=b[0],k=new Array;for(obj in j){var l=obj;k[k.length]={name:l}}d.datafields=k,d.generatedfields=d.datafields,i=k.length}for(var m=g,n=!1,o=g;o<e;o++){var p=b[o];if(void 0==p)break;var q=this.getid(d.id,p,o);if(!this.recordids[q]){this.recordids[q]=p;var r={},s=!1;d.hierarchy&&d.hierarchy.root&&(s=!0);for(var t=0;t<i;t++){var u=d.datafields[t],v="";if(void 0!=u&&null!=u){if(u.map)if(a.isFunction(u.map))v=u.map(p);else{var w=u.map.indexOf("[");if(w<0)if(v=a(u.map,p),1==v.length)v=v.text();else{n=!0;for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}else{var z=u.map.substring(0,w-1),A=u.map.indexOf("]"),B=u.map.substring(w+1,A);v=a(z,p).attr(B),void 0==v&&(v=a(p).attr(B)),void 0==v&&(v="")}""==v&&(v=a(p).attr(u.map),void 0==v&&(v=""))}if(""==v){if(v=a(u.name,p),1==v.length)v=v.text();else{for(var x=new Array,y=0;y<v.length;y++)x.push(a(v[y]).text());v=x,s&&x.length>0&&(v=x[0])}""==v&&(v=a(p).attr(u.name),void 0==v&&(v="")),""==v&&p.nodeName&&p.nodeName==u.name&&p.firstChild&&(v=a(p.firstChild).text())}v=this.getvaluebytype(v,u),void 0!=u.displayname?r[u.displayname]=v:r[u.name]=v}}(d.recordendindex<=0||g<d.recordendindex)&&(f[h+m]=a.extend({},r),f[h+m].uid=q,this.originaldata[h+m]=a.extend({},f[o]),m++)}}if(d.hierarchy&&d.hierarchy.root)for(var o=g;o<e;o++){var p=b[o],C=f[o];if(a(p).parent().length>0){var q=this.getid(d.id,a(p).parents(d.hierarchy.record+":first"));C.parentuid=q}else C.parentuid=null}this.records=f,this.cachedrecords=this.records}},loadics:function(a,b){if(null!=a){var c=b.rowDelimiter||this.rowDelimiter||"\n",d=a.split(c),e=d.length,f=a.split("\r");1==e&&f.length>1&&(d=f,e=d.length),this.records=new Array,this.originaldata=new Array;var g=this.records;this.recordids=new Array;for(var h=function(a){var b=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,c=b.exec(a);if(!c)throw new Error("Invalid UNTIL value: "+a);return new Date(Date.UTC(c[1],c[2]-1,c[3],c[5]||0,c[6]||0,c[7]||0))},i=0;i<e;i++){var j=d[i];if("BEGIN:VEVENT"!=j)if(j.indexOf("SUMMARY")>=0)l.SUMMARY=j.substring(j.indexOf("SUMMARY")+8);else if(j.indexOf("LOCATION")>=0)l.LOCATION=j.substring(j.indexOf("LOCATION")+9);else if(j.indexOf("DESCRIPTION")>=0)l.DESCRIPTION=j.substring(j.indexOf("DESCRIPTION")+12);else if(j.indexOf("RRULE")>=0)l.RRULE=j.substring(j.indexOf("RRULE")+6);else if(j.indexOf("EXDATE")>=0){var k=j.substring(j.indexOf("EXDATE")+7);l.EXDATE=k}else j.indexOf("DTEND")>=0?l.DTEND=h(j.substring(j.indexOf("DTEND")+6)):j.indexOf("DTSTART")>=0?l.DTSTART=h(j.substring(j.indexOf("DTSTART")+8)):j.indexOf("UID")>=0?l.uid=l.UID=j.substring(j.indexOf("UID")+4):j.indexOf("STATUS")>=0?l.STATUS=j.substring(j.indexOf("STATUS")+7):"END:VEVENT"!=j||g.push(l);else var l={}}this.records=g,this.cachedrecords=this.records}},loadtext:function(b,c){if(null!=b){var d=c.rowDelimiter||this.rowDelimiter||"\n",e=b.split(d),f=e.length,g=b.split("\r");1==f&&g.length>1&&(e=g,f=e.length),this.totalrecords=this.virtualmode?c.totalrecords||f:f,this.records=new Array,this.originaldata=new Array;var h=this.records,i=this.pageable?this.pagesize*this.pagenum:c.recordstartindex;this.recordids=new Array,c.loadallrecords&&(i=0,f=this.totalrecords);var j=0;this.virtualmode&&(i=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,j=i,i=0,f=this.totalrecords);var k=c.datafields.length,l=c.columnDelimiter||this.columnDelimiter;l||(l="tab"===c.datatype||"tsv"===c.datatype?"\t":",");for(var m=i;m<f;m++){var n=e[m],o=null;if(!this.recordids[o]){null==c.id&&(o=m,this.recordids[o]=n);for(var p={},q=e[m].split(l),r=0;r<k;r++)if(!(r>=q.length)){var s=c.datafields[r],t=q[r];s.map&&a.isFunction(s.map)&&(t=s.map(n)),s.type&&(t=this.getvaluebytype(t,s));var u=s.map||s.name||r.toString();p[u]=t,null!=c.id&&c.id===s.name&&(o=t,this.recordids[o]=n)}null==o&&(o=m),h[j+m]=a.extend({},p),h[j+m].uid=o,this.originaldata[j+m]=a.extend({},h[m])}}this.records=h,this.cachedrecords=this.records}},getvaluebytype:function(b,c,d){var e=b,f=d||!1;if(null==b)return b;if(a.isArray(b)&&"array"!=c.type){for(var g=0;g<b.length;g++)b[g]=this.getvaluebytype(b[g],c);return b}if("date"==c.type)if("NaN"==b)b="";else{if(f)return b=new Date(b).getTime();var h=new Date(b);if("string"==typeof b&&c.format){var i=a.jqx.dataFormat.parsedate(b,c.format);null!=i&&(h=i)}b=("NaN"==h.toString()||"Invalid Date"==h.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):h,null==b&&(b=e)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=e)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=e)}else"bool"!=c.type&&"boolean"!=c.type||(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b||(0!=b||""===b)&&"");return b}},a.jqx.dataFormat={},a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return"boolean"==typeof a},isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"==typeof a},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(b){return!(!this.isString(b)&&this.isValue(b))&&(!this.isValue(b)||(b=a.trim(b).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===b))},startsWith:function(a,b){return 0===a.indexOf(b)},endsWith:function(a,b){return a.substr(a.length-b.length)===b},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return"[object Array]"===this.toString.call(a)},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},getEra:function(a,b){if(!b)return 0;if("string"==typeof a)return 0;for(var c,d=a.getTime(),e=0,f=b.length;e<f;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},toUpper:function(a){return a.split(" ").join(" ").toUpperCase()},toUpperArray:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=this.toUpper(a[c]);return b},getEraYear:function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},toUpper:function(a){return a?a.toUpperCase():""},getDayIndex:function(a,b,c){var d,e=a.days,f=a._upperDays;return f||(a._upperDays=f=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr),this.toUpperArray(e.namesShort)]),b=b.toUpperCase(),c?(d=this.arrayIndexOf(f[1],b),d===-1&&(d=this.arrayIndexOf(f[2],b))):d=this.arrayIndexOf(f[0],b),d},getMonthIndex:function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,f=a._upperMonths,g=a._upperMonthsGen;f||(a._upperMonths=f=[this.toUpperArray(d.names),this.toUpperArray(d.namesAbbr)],a._upperMonthsGen=g=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)]),b=this.toUpper(b);var h=this.arrayIndexOf(c?f[1]:f[0],b);return h<0&&(h=this.arrayIndexOf(c?g[1]:g[0],b)),h},appendPreOrPostMatch:function(a,b){for(var c=0,d=!1,e=0,f=a.length;e<f;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(a,b){var c="";return b&&b.target&&(c="target="+b.target),""!=c?"<a "+c+' href="'+a+'">'+a+"</a>":'<a href="'+a+'">'+a+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatNumber:function(a,b,c){return this.formatnumber(a,b,c)},formatnumber:function(a,b,c){if(void 0!=c&&null!=c&&""!=c||(c=this.defaultcalendar()),""===b||null===b)return a;this.isNumber(a)||(a*=1);var d;b.length>1&&(d=parseInt(b.slice(1),10));var e={},f=b.charAt(0).toUpperCase();switch(e.thousandsSeparator=c.thousandsseparator,e.decimalSeparator=c.decimalseparator,f){case"D":case"d":case"F":case"f":e.decimalPlaces=d;break;case"N":case"n":e.decimalPlaces=0;break;case"C":case"c":e.decimalPlaces=d,"before"==c.currencysymbolposition?e.prefix=c.currencysymbol:e.suffix=c.currencysymbol;break;case"P":case"p":e.suffix=c.percentsymbol,e.decimalPlaces=d;break;default:throw"Bad number format specifier: "+f}if(this.isNumber(a)){var g,h=a<0,i=a+"",j=e.decimalSeparator?e.decimalSeparator:".";if(this.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);if(i=(a*l).toFixed(0)/l+"",g=i.lastIndexOf("."),k>0)for(g<0?(i+=j,g=i.length-1):"."!==j&&(i=i.replace(".",j));i.length-1-g<k;)i+="0"}else{var i=a+"";g=i.lastIndexOf("."),g>0&&void 0==k&&"."!==j&&(i=i.replace(".",j))}if(e.thousandsSeparator){var m=e.thousandsSeparator;g=i.lastIndexOf(j),g=g>-1?g:i.length;for(var n=i.substring(g),o=-1,p=g;p>0;p--)o++,o%3===0&&p!==g&&(!h||p>1)&&(n=m+n),n=i.charAt(p-1)+n;i=n}return i=e.prefix?e.prefix+i:i,i=e.suffix?i+e.suffix:i}return a},tryparsedate:function(b,c){void 0!=c&&null!=c||(c=this.defaultcalendar());var d=this;if(""==b)return null;if(null==b||b.substring||(b=b.toString()),null!=b&&"/Date("==b.substring(0,6)){var e=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,f=new Date((+b.replace(/\/Date\((\d+)\)\//,"$1")));if("Invalid Date"==f){var g=b.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),f=null;g&&(f=new Date(1*g[1]+36e5*g[2]+6e4*g[3]))}if(null==f||"Invalid Date"==f||isNaN(f)){var h=e.exec(b);if(h){var i=new Date(parseInt(h[1]));if(h[2]){var j=parseInt(h[3]);"-"===h[2]&&(j=-j);var k=i.getUTCMinutes();i.setUTCMinutes(k-j)}if(!isNaN(i.valueOf()))return i}}return f}patterns=c.patterns;for(prop in patterns)if(f=d.parsedate(b,patterns[prop],c)){if("ISO"==prop){var l=d.parsedate(b,patterns.ISO2,c);if(l)return l}return f}if(null!=b){for(var l=null,m=[":","/","-"],n=!0,o=0;o<m.length;o++)b.indexOf(m[o])!=-1&&(n=!1);if(n){var p=new Number(b);if(!isNaN(p))return new Date(p)}}if("string"===a.type(b)){var q=d;b=q.trim(b);var r=[":","/","-"," ",","],s=function(a,b,c){return c.replace(new RegExp(a,"g"),b)};b=s(", ",",",b);var t="",u=b;b.indexOf(":")>=0?(t=b.substring(b.indexOf(":")-2),t=q.trim(t),u=b.substring(0,b.indexOf(":")-2)):b.toUpperCase().indexOf("AM")>=0?(t=b.substring(b.toUpperCase().indexOf("AM")-2),t=q.trim(t),u=b.substring(0,b.toUpperCase().indexOf("AM")-2)):b.toUpperCase().indexOf("PM")>=0&&(t=b.substring(b.toUpperCase().indexOf("PM")-2),t=q.trim(t),u=b.substring(0,b.toUpperCase().indexOf("PM")-2));var v=new Date,w=!1;if(u){for(var x=0;x<r.length;x++)if(u.indexOf(r[x])>=0){m=u.split(r[x]);break}for(var y=new Array,z=new Array,A=new Array,B=null,C=null,x=0;x<m.length;x++){var o=m[x],D=q.parsedate(o,"d",c)||q.parsedate(o,"dd",c)||q.parsedate(o,"ddd",c)||q.parsedate(o,"dddd",c);if(D&&o.length<=2){B=x,y.push(D.getDate());break}}for(var x=0;x<m.length;x++){var o=m[x],E=q.parsedate(o,"M",c)||q.parsedate(o,"MM",c)||q.parsedate(o,"MMM",c)||q.parsedate(o,"MMMM",c);if(E){if(void 0!=B&&B==x)continue;if(z.push(E.getMonth()),o.length>2){C=x;break}}}for(var x=0;x<m.length;x++){var o=m[x],F=q.parsedate(o,"yyyy",c);if(F){if(void 0!=B&&B==x)continue;if(void 0!=C&&C==x)continue;A.push(F.getFullYear())}}for(var G=new Array,H=0;H<y.length;H++)for(var g=0;g<z.length;g++)for(var I=0;I<A.length;I++){var i=new Date(A[I],z[g],y[H]);A[I]<1970&&i.setFullYear(A[I]),NaN!=i.getTime()&&G.push(i)}G.length>0&&(v=G[0],w=!0)}if(t){var J=t.indexOf(":")>=0?t.split(":"):t,K=q.parsedate(t,"h:mm tt",c)||q.parsedate(t,"h:mm:ss tt",c)||q.parsedate(t,"HH:mm:ss.fff",c)||q.parsedate(t,"HH:mm:ss.ff",c)||q.parsedate(t,"HH:mm:ss.tttt",c)||q.parsedate(t,"HH:mm:ss",c)||q.parsedate(t,"HH:mm",c)||q.parsedate(t,"HH",c),L=0,M=0,N=0,O=0;K&&NaN!=K.getTime()?(L=K.getHours(),M=K.getMinutes(),N=K.getSeconds(),O=K.getMilliseconds()):(1==J.length&&(L=parseInt(J[0])),2==J.length&&(L=parseInt(J[0]),M=parseInt(J[1])),3==J.length&&(L=parseInt(J[0]),M=parseInt(J[1]),J[2].indexOf(".")>=0?(N=parseInt(J[2].toString().split(".")[0]),O=parseInt(J[2].toString().split(".")[1])):N=parseInt(J[2])),4==J.length&&(L=parseInt(J[0]),M=parseInt(J[1]),N=parseInt(J[2]),O=parseInt(J[3]))),!v||isNaN(L)||isNaN(M)||isNaN(N)||isNaN(O)||(v.setHours(L,M,N,O),w=!0)}if(w)return v}return null},getparseregexp:function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=this.expandFormat(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=this.getTokenRegExp();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=this.appendPreOrPostMatch(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}this.appendPreOrPostMatch(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},outOfRange:function(a,b,c){return a<b||a>c},expandYear:function(a,b){var c=new Date,d=this.getEra(c);if(b<100){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=this.getEraYear(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},parsedate:function(a,b,c){void 0!=c&&null!=c||(c=this.defaultcalendar()),a=this.trim(a);var d=c,e=this.getparseregexp(d,b),f=new RegExp(e.regExp).exec(a);if(null===f)return null;for(var g,h=e.groups,i=null,j=null,k=null,l=null,m=null,n=0,o=0,p=0,q=0,r=null,s=!1,t=0,u=h.length;t<u;t++){var v=f[t+1];if(v){var w=h[t],x=w.length,y=parseInt(v,10);switch(w){case"dd":case"d":if(l=y,this.outOfRange(l,1,31))return null;break;case"MMM":case"MMMM":if(k=this.getMonthIndex(d,v,3===x),this.outOfRange(k,0,11))return null;break;case"M":case"MM":if(k=y-1,this.outOfRange(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(j=x<4?this.expandYear(d,y):y,this.outOfRange(j,0,9999))return null;break;case"h":case"hh":if(n=y,12===n&&(n=0),this.outOfRange(n,0,11))return null;break;case"H":case"HH":if(n=y,this.outOfRange(n,0,23))return null;break;case"m":case"mm":if(o=y,this.outOfRange(o,0,59))return null;break;case"s":case"ss":if(p=y,this.outOfRange(p,0,59))return null;break;case"tt":case"t":if(s=d.PM&&(v===d.PM[0]||v===d.PM[1]||v===d.PM[2]),!s&&(!d.AM||v!==d.AM[0]&&v!==d.AM[1]&&v!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(q=y*Math.pow(10,3-x),this.outOfRange(q,0,999))return null;break;case"ddd":case"dddd":if(m=this.getDayIndex(d,v,3===x),this.outOfRange(m,0,6))return null;break;case"zzz":var z=v.split(/:/);if(2!==z.length)return null;if(g=parseInt(z[0],10),this.outOfRange(g,-12,13))return null;var A=parseInt(z[1],10);if(this.outOfRange(A,0,59))return null;r=60*g+(this.startsWith(v,"-")?-A:A);break;case"z":case"zz":if(g=y,this.outOfRange(g,-12,13))return null;r=60*g;break;case"g":case"gg":var B=v;if(!B||!d.eras)return null;B=trim(B.toLowerCase());for(var C=0,D=d.eras.length;C<D;C++)if(B===d.eras[C].name.toLowerCase()){i=C;break}if(null===i)return null}}}var E,F=new Date,G=d.convert;if(E=F.getFullYear(),null===j?j=E:d.eras&&(j+=d.eras[i||0].offset),null===k&&(k=0),null===l&&(l=1),G){if(F=G.toGregorian(j,k,l),null===F)return null}else{if(F.setFullYear(j,k,l),F.getDate()!==l)return null;if(null!==m&&F.getDay()!==m)return null}if(s&&n<12&&(n+=12),F.setHours(n,o,p,q),null!==r){var H=F.getMinutes()-(r+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(H/60,10),H%60)}return F},cleardatescache:function(){this.datescache=new Array},formatDate:function(a,b,c){return this.formatdate(a,b,c)},formatdate:function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=m[b-2]+d,c.substr(c.length-b,b)):c=d}function e(a,b){if(l)return l[b];if(void 0!=a.getMonth)switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if(void 0!=c&&null!=c||(c=this.defaultcalendar()),"string"==typeof a)return a;var f=a.toString()+"_"+b;if(this.datescache&&this.datescache[f]&&b.indexOf("f")==-1)return this.datescache[f];if(!b||!b.length||"i"===b){var g;return g=this.formatDate(a,c.patterns.F,c)}var h=c.eras,i="s"===b;b=this.expandFormat(c,b),g=[];for(var j,k,l,m=["0","00","000"],n=0,o=this.getTokenRegExp();;){var p=o.lastIndex,q=o.exec(b),r=b.slice(p,q?q.index:b.length);if(n+=this.appendPreOrPostMatch(r,g),!q)break;if(n%2)g.push(q[0]);else{var s=q[0],t=s.length;switch(s){case"ddd":case"dddd":var u=3===t?c.days.namesAbbr:c.days.names;g.push(u[a.getDay()]);break;case"d":case"dd":k=!0,g.push(d(e(a,2),t));break;case"MMM":
case"MMMM":var v=e(a,1);g.push(c.months[3===t?"namesAbbr":"names"][v]);break;case"M":case"MM":g.push(d(e(a,1)+1,t));break;case"y":case"yy":case"yyyy":v=this.getEraYear(a,c,this.getEra(a,h),i),t<4&&(v%=100),g.push(d(v,t));break;case"h":case"hh":j=a.getHours()%12,0===j&&(j=12),g.push(d(j,t));break;case"H":case"HH":g.push(d(a.getHours(),t));break;case"m":case"mm":g.push(d(a.getMinutes(),t));break;case"s":case"ss":g.push(d(a.getSeconds(),t));break;case"t":case"tt":v=a.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",g.push(1===t?v.charAt(0):v);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,t));break;case"z":case"zz":j=a.getTimezoneOffset()/60,g.push((j<=0?"+":"-")+d(Math.floor(Math.abs(j)),t));break;case"zzz":j=a.getTimezoneOffset()/60,g.push((j<=0?"+":"-")+d(Math.floor(Math.abs(j)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&g.push(c.eras[this.getEra(a,h)].name);break;case"/":g.push(c["/"]);break;default:throw"Invalid date format pattern '"+s+"'."}}}var w=g.join("");return this.datescache||(this.datescache=new Array),this.datescache[f]=w,w}}),a.jqx.data={};var j,k,l=/#.*$/,m=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,n=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,o=/^(?:GET|HEAD)$/,p=/^\/\//,q=/\?/,r=/([?&])_=[^&]*/,s=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,t=/\s+/,u=(a.fn.load,{}),v={},w=["*/"]+["*"];try{k=location.href}catch(x){k=document.createElement("a"),k.href="",k=k.href}j=s.exec(k.toLowerCase())||[],a.extend(a.jqx.data,{ajaxSetup:function(b,c){return c?e(b,a.jqx.data.ajaxSettings):(c=b,b=a.jqx.data.ajaxSettings),e(b,c),b},ajaxSettings:{url:k,isLocal:n.test(j[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":w},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":a.parseJSON,"text xml":a.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:c(u),ajaxTransport:c(v),ajax:function(b,c){function e(b,c,d,e){var j,k,l,m,o,p=c;2!==J&&(J=2,x&&clearTimeout(x),n=void 0,i=e||"",L.readyState=b>0?4:0,d&&(m=f(B,L,d)),b>=200&&b<300||304===b?(B.ifModified&&(o=L.getResponseHeader("Last-Modified"),o&&(a.lastModified[h]=o),o=L.getResponseHeader("Etag"),o&&(a.etag[h]=o)),304===b?(p="notmodified",j=!0):(j=g(B,m),p=j.state,k=j.data,l=j.error,j=!l)):(l=p,p&&!b||(p="error",b<0&&(b=0))),L.status=b,L.statusText=(c||p)+"",j?E.resolveWith(C,[k,p,L]):E.rejectWith(C,[L,p,l]),L.statusCode(G),G=void 0,z&&D.trigger("ajax"+(j?"Success":"Error"),[L,B,j?k:l]),F.fireWith(C,[L,p]),z&&(D.trigger("ajaxComplete",[L,B]),--a.active||a.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var h,i,k,n,x,y,z,A,B=a.jqx.data.ajaxSetup({},c),C=B.context||B,D=C!==B&&(C.nodeType||C instanceof a)?a(C):a.event,E=a.Deferred(),F=a.Callbacks("once memory"),G=B.statusCode||{},H={},I={},J=0,K="canceled",L={readyState:0,setRequestHeader:function(a,b){if(!J){var c=a.toLowerCase();a=I[c]=I[c]||a,H[a]=b}return this},getAllResponseHeaders:function(){return 2===J?i:null},getResponseHeader:function(a){var b;if(2===J){if(!k)for(k={};b=m.exec(i);)k[b[1].toLowerCase()]=b[2];b=k[a.toLowerCase()]}return void 0===b?null:b},overrideMimeType:function(a){return J||(B.mimeType=a),this},abort:function(a){return a=a||K,n&&n.abort(a),e(0,a),this}};if(E.promise(L),L.success=L.done,L.error=L.fail,L.complete=F.add,L.statusCode=function(a){if(a){var b;if(J<2)for(b in a)G[b]=[G[b],a[b]];else b=a[L.status],L.always(b)}return this},B.url=((b||B.url)+"").replace(l,"").replace(p,j[1]+"//"),B.dataTypes=a.trim(B.dataType||"*").toLowerCase().split(t),null==B.crossDomain&&(y=s.exec(B.url.toLowerCase()),B.crossDomain=!(!y||y[1]===j[1]&&y[2]===j[2]&&(y[3]||("http:"===y[1]?80:443))==(j[3]||("http:"===j[1]?80:443)))),B.data&&B.processData&&"string"!=typeof B.data&&(B.data=a.param(B.data,B.traditional)),d(u,B,c,L),2===J)return L;if(z=B.global,B.type=B.type.toUpperCase(),B.hasContent=!o.test(B.type),z&&0===a.active++&&a.event.trigger("ajaxStart"),!B.hasContent&&(B.data&&(B.url+=(q.test(B.url)?"&":"?")+B.data,delete B.data),h=B.url,B.cache===!1)){var M=(new Date).getTime(),N=B.url.replace(r,"$1_="+M);B.url=N+(N===B.url?(q.test(B.url)?"&":"?")+"_="+M:"")}(B.data&&B.hasContent&&B.contentType!==!1||c.contentType)&&L.setRequestHeader("Content-Type",B.contentType),B.ifModified&&(h=h||B.url,a.lastModified[h]&&L.setRequestHeader("If-Modified-Since",a.lastModified[h]),a.etag[h]&&L.setRequestHeader("If-None-Match",a.etag[h])),L.setRequestHeader("Accept",B.dataTypes[0]&&B.accepts[B.dataTypes[0]]?B.accepts[B.dataTypes[0]]+("*"!==B.dataTypes[0]?", "+w+"; q=0.01":""):B.accepts["*"]);for(A in B.headers)L.setRequestHeader(A,B.headers[A]);if(B.beforeSend&&(B.beforeSend.call(C,L,B)===!1||2===J))return L.abort();K="abort";for(A in{success:1,error:1,complete:1})L[A](B[A]);if(n=d(v,B,c,L)){L.readyState=1,z&&D.trigger("ajaxSend",[L,B]),B.async&&B.timeout>0&&(x=setTimeout(function(){L.abort("timeout")},B.timeout));try{J=1,n.send(H,e)}catch(O){if(!(J<2))throw O;e(-1,O)}}else e(-1,"No Transport");return L},active:0,lastModified:{},etag:{}});var y=[],z=/\?/,A=/(=)\?(?=&|$)|\?\?/,B=(new Date).getTime();a.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=y.pop()||a.expando+"_"+B++;return this[b]=!0,b}}),a.jqx.data.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.data,i=b.url,j=b.jsonp!==!1,k=j&&A.test(i),l=j&&!k&&"string"==typeof h&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&A.test(h);if("jsonp"===b.dataTypes[0]||k||l)return e=b.jsonpCallback=a.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,f=window[e],k?b.url=i.replace(A,"$1"+e):l?b.data=h.replace(A,"$1"+e):j&&(b.url+=(z.test(i)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||a.error(e+" was not called"),g[0]},b.dataTypes[0]="json",window[e]=function(){g=arguments},d.always(function(){window[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,y.push(e)),g&&a.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),a.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){return a.globalEval(b),b}}}),a.jqx.data.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),a.jqx.data.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(d,e){b=document.createElement("script"),b.async="async",a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,d){(d||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,c&&b.parentNode&&c.removeChild(b),b=void 0,d||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var C,D=!!window.ActiveXObject&&function(){for(var a in C)C[a](0,1)},E=0;a.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&h()||i()}:h,function(b){a.extend(a.support,{ajax:!!b,cors:!!b&&"withCredentials"in b})}(a.jqx.data.ajaxSettings.xhr()),a.support||(a.support={ajax:!0}),a.support.ajax&&a.jqx.data.ajaxTransport(function(b){if(!b.crossDomain||a.support.cors){var c;return{send:function(d,e){var f,g,h=b.xhr();if(b.username?h.open(b.type,b.url,b.async,b.username,b.password):h.open(b.type,b.url,b.async),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(g in d)h.setRequestHeader(g,d[g])}catch(i){}h.send(b.hasContent&&b.data||null),c=function(a,d){var g,i,j,k,l;try{if(c&&(d||4===h.readyState))if(c=void 0,f&&(h.onreadystatechange=function(){},D&&delete C[f]),d)4!==h.readyState&&h.abort();else{g=h.status,j=h.getAllResponseHeaders(),k={},l=h.responseXML,l&&l.documentElement&&(k.xml=l);try{k.text=h.responseText}catch(m){}try{i=h.statusText}catch(m){i=""}g||!b.isLocal||b.crossDomain?1223===g&&(g=204):g=k.text?200:404}}catch(n){d||e(-1,n)}k&&e(g,i,k,j)},b.async?4===h.readyState?setTimeout(c,0):(f=++E,D&&(C||(C={},a(window).unload(D)),C[f]=c),h.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}}),a.jqx.filter=function(){this.operator="and";var b=1,c=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],d=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],e=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],f=["EQUAL","NOT_EQUAL"],g=new Array,h=new Array;this.evaluate=function(a){for(var c=!0,d=0;d<g.length;d++){var e=g[d].evaluate(a);c=0==d?e:h[d]==b||"or"==h[d]?c||e:c&&e}return c},this.getfilterscount=function(){return g.length},this.setoperatorsbyfiltertype=function(a,b){switch(a){case"numericfilter":d=b;break;case"stringfilter":c=b;break;case"datefilter":e=b;break;case"booleanfilter":f=b}},this.getoperatorsbyfiltertype=function(a){var b=new Array;switch(a){case"numericfilter":b=d.slice(0);break;case"stringfilter":b=c.slice(0);break;case"datefilter":b=e.slice(0);break;case"booleanfilter":b=f.slice(0)}return b};var i=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+"-"+a()+"-"+a()};this.createfilter=function(a,b,c,d,e,f){if(null==a||void 0==a)return null;switch(a){case"numericfilter":return new l(b,c.toUpperCase());case"stringfilter":return new j(b,c.toUpperCase());case"datefilter":return new m(b,c.toUpperCase(),e,f);case"booleanfilter":return new k(b,c.toUpperCase());case"custom":return new n(b,c.toUpperCase(),d)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var a=new Array,b=0;b<g.length;b++){var c={value:g[b].filtervalue,condition:g[b].comparisonoperator,operator:h[b],type:g[b].type};g[b].data&&(c.id=g[b].data),a[b]=c}return a},this.addfilter=function(a,b){g[g.length]=b,b.key=i(),h[h.length]=a},this.removefilter=function(a){for(var b=0;b<g.length;b++)if(g[b].key==a.key){g.splice(b,1),h.splice(b,1);break}},this.getoperatorat=function(a){return void 0==a||null==a?null:a<0||a>g.length?null:h[a]},this.setoperatorat=function(a,b){return void 0==a||null==a?null:a<0||a>g.length?null:void(h[b]=b)},this.getfilterat=function(a){return void 0==a||null==a?null:a<0||a>g.length?null:g[a]},this.setfilterat=function(a,b){return void 0==a||null==a?null:a<0||a>g.length?null:(b.key=i(),void(g[a]=b))},this.clear=function(){g=new Array,h=new Array};var j=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="stringfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;if(null==b||void 0==b||""==b){if("NULL"==d)return!0;if("EQUAL"==d&&b==c)return!0;if("NOT_EQUAL"==d&&b!=c)return!0;if("EMPTY"!=d)return!1;if(""==b)return!0}var e="";try{e=b.toString()}catch(f){return!0}var g=function(b,c){switch(d){case"EQUAL":return a.jqx.string.equalsIgnoreCase(b,c);case"EQUAL_CASE_SENSITIVE":return a.jqx.string.equals(b,c);case"NOT_EQUAL":return!a.jqx.string.equalsIgnoreCase(b,c);case"NOT_EQUAL_CASE_SENSITIVE":return!a.jqx.string.equals(b,c);case"CONTAINS":return a.jqx.string.containsIgnoreCase(b,c);case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b,c);case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b,c);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b,c);case"EMPTY":return""==b;case"NOT_EMPTY":return""!=b;case"NOT_NULL":return null!=b;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b,c);case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b,c);case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b,c);case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b,c);default:return!1}},h=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var i=g(e,c);if(i)return i;var j=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,k=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,l=c.indexOf(" and ")>=0?c.split(" and "):new Array,m=c.indexOf(" or ")>=0?c.split(" or "):new Array,n=c.indexOf("|")>=0?c.split("|"):new Array;if(n.length>0)for(var o=0;o<n.length;o++)n[o]=a.trim(n[o]);var p=c.indexOf(" ")>=0?c.split(" "):new Array;if(p.length>0)for(var o=0;o<p.length;o++)p[o]=a.trim(p[o]);if(j=j.concat(p),j=j.concat(l),k=k.concat(n),k=k.concat(m),j.length>0)for(var o=0;o<j.length;o++)!j[o].indexOf(" OR ")>=0&&h.push(j[o]);if(k.length>0)for(var o=0;o<k.length;o++)!k[o].indexOf(" AND ")>=0&&h.push(k[o]);for(var q=void 0,r=0;r<h.length;r++){var b=h[r],i=g(e,b),s=r<j.length?"and":"or";q=void 0==q?i:"or"==s?q||i:q&&i}return q}return g(e,c)}},k=function(a,b){this.filtervalue=a,this.comparisonoperator=b,this.type="booleanfilter",this.evaluate=function(a){var b=this.filtervalue,c=this.comparisonoperator;if(null==a||void 0==a)return"NULL"==c;var d=a;switch(c){case"EQUAL":return d==b||d.toString()==b.toString();case"NOT_EQUAL":return d!=b&&d.toString()!=b.toString();default:return!1}}},l=function(b,c){this.filtervalue=b,this.comparisonoperator=c,this.type="numericfilter",this.evaluate=function(b){var c=this.filtervalue,d=this.comparisonoperator;if(null===b||void 0===b||""===b){if("NOT_NULL"==d)return!1;if("NULL"==d)return!0;switch(d){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c}return!1}if("NULL"==d)return!1;if("NOT_NULL"==d)return!0;var e=b;try{e=parseFloat(e)}catch(f){if(""!=b.toString())return!1}var g=function(b,c){switch(d){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c;case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return b<c;case"LESS_THAN_OR_EQUAL":return b<=c;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},h=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var i=g(e,c);if(i)return i;c=c.toString();var j=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,k=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,l=c.indexOf(" and ")>=0?c.split(" and "):new Array,m=c.indexOf(" or ")>=0?c.split(" or "):new Array;j=j.concat(l),k=k.concat(m);var n=c.indexOf("|")>=0?c.split("|"):new Array;if(n.length>0)for(var o=0;o<n.length;o++)n[o]=a.trim(n[o]);if(k=k.concat(n),j.length>0)for(var o=0;o<j.length;o++)!j[o].indexOf(" OR ")>=0&&h.push(j[o]);if(k.length>0)for(var o=0;o<k.length;o++)!k[o].indexOf(" AND ")>=0&&h.push(k[o]);for(var p=void 0,q=0;q<h.length;q++){var b=h[q];if(b&&b.indexOf&&b.indexOf("..")>=0){var r=b.toString().split("..");2==r.length&&(i=e>=r[0]&&e<=r[1])}else var i=g(e,b);var s=q<j.length?"and":"or";p=void 0==p?i:"or"==s?p||i:p&&i}return p}return c&&c.indexOf&&c.indexOf("..")>=0&&(h=c.toString().split(".."),2==h.length)?e>=h[0]&&e<=h[1]:g(e,c)}},m=function(b,c,d,e){this.filtervalue=b,this.type="datefilter";var f=this;if(void 0!=d&&void 0!=e){var g=a.jqx.dataFormat.parsedate(b,d,e);if(null!=g)this.filterdate=g;else{var h=a.jqx.dataFormat.tryparsedate(b,e);null!=h&&(this.filterdate=h)}}else{var i=new Date(b);"NaN"==i.toString()||"Invalid Date"==i.toString()?this.filterdate=a.jqx.dataFormat.tryparsedate(b):this.filterdate=i}if(!this.filterdate){var i=new Date(b);"NaN"==i.toString()||"Invalid Date"==i.toString()?this.filterdate=a.jqx.dataFormat.tryparsedate(b):this.filterdate=i}this.comparisonoperator=c,this.evaluate=function(b){var c=this.filtervalue,g=this.comparisonoperator;if(null==b||void 0==b||""==b){if("NOT_NULL"==g)return!1;if("NULL"==g)return!0;switch(g){case"EQUAL":return b==c;case"NOT_EQUAL":return b!=c}return!1}if("NULL"==g)return!1;if("NOT_NULL"==g)return!0;var h=new Date;h.setFullYear(1900,0,1),h.setHours(12,0,0,0);try{var i=new Date(b);b="NaN"==i.toString()||"Invalid Date"==i.toString()?a.jqx.dataFormat.tryparsedate(b):i,h=b;var j=!1;if(void 0!=d&&void 0!=e&&(d.indexOf("t")>=0||d.indexOf("T")>=0||d.indexOf(":")>=0||d.indexOf("f")>=0)&&(j=!0,c&&c.toString().indexOf(":")==-1)){var k=a.jqx.dataFormat.tryparsedate(c.toString()+":00",e);null!=k&&(f.filterdate=k)}j||(h.setHours(0),h.setMinutes(0),h.setSeconds(0))}catch(l){if(""!=b.toString())return!1}if(null!=f.filterdate)c=f.filterdate;else if(c&&c.indexOf&&(c.indexOf(":")!=-1||!isNaN(parseInt(c)))){var m=new Date(h);m.setHours(12,0,0,0);for(var n=c.split(":"),o=0;o<n.length;o++)0==o&&m.setHours(n[o]),1==o&&m.setMinutes(n[o]),2==o&&m.setSeconds(n[o]);c=m}j&&c&&c.setFullYear&&h&&h.getFullYear&&d.indexOf("d")==-1&&d.indexOf("M")==-1&&d.indexOf("y")==-1&&c.setFullYear(h.getFullYear(),h.getMonth(),h.getDate());var p=function(b,c){switch(null==b&&(b=""),g){case"EQUAL":return b.toString()==c.toString();case"NOT_EQUAL":return b.toString()!=c.toString();case"GREATER_THAN":return b>c;case"GREATER_THAN_OR_EQUAL":return b>=c;case"LESS_THAN":return b<c;case"LESS_THAN_OR_EQUAL":return b<=c;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(b.toString(),c.toString());case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(b.toString(),c.toString());case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(b.toString(),c.toString());case"CONTAINS":return a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(b.toString(),c.toString());case"DOES_NOT_CONTAIN":return!a.jqx.string.containsIgnoreCase(b.toString(),c.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!a.jqx.string.contains(b.toString(),c.toString());default:return!0}},q=new Array;if(c&&c.indexOf&&(c.indexOf("|")>=0||c.indexOf(" AND ")>=0||c.indexOf(" OR ")>=0||c.indexOf(" and ")>=0||c.indexOf(" or ")>=0)){var k=p(h,c);if(k)return k;var r=c.indexOf(" AND ")>=0?c.split(" AND "):new Array,s=c.indexOf(" OR ")>=0?c.split(" OR "):new Array,t=c.indexOf(" and ")>=0?c.split(" and "):new Array,u=c.indexOf(" or ")>=0?c.split(" or "):new Array;r=r.concat(t),s=s.concat(u);var v=c.indexOf("|")>=0?c.split("|"):new Array;if(v.length>0)for(var o=0;o<v.length;o++)v[o]=a.trim(v[o]);if(s=s.concat(v),r.length>0)for(var o=0;o<r.length;o++)!r[o].indexOf(" OR ")>=0&&q.push(r[o]);if(s.length>0)for(var o=0;o<s.length;o++)!s[o].indexOf(" AND ")>=0&&q.push(s[o]);for(var w=void 0,x=0;x<q.length;x++){var b=q[x];if(b&&b.indexOf&&b.indexOf("..")>=0){var y=b.toString().split("..");2==y.length&&(k=h>=y[0]&&h<=y[1])}else var k=p(h,b);var z=x<r.length?"and":"or";w=void 0==w?k:"or"==z?w||k:w&&k}return w}return c&&c.indexOf&&c.indexOf("..")>=0&&(q=c.toString().split(".."),2==q.length)?h>=q[0]&&h<=q[1]:p(h,c)}},n=function(a,b,c){this.filtervalue=a,this.comparisonoperator=b,this.evaluate=function(a,b){return c(this.filtervalue,a,this.comparisonoperator)}}}}(jqxBaseFramework,A),function(a){var b=function(){function c(a,b,c,f,g,h,i){return this.hierarchy=g,this.exportFormat=h,this.filename=i,a.beginFile(i),d(a),e(a),a.endFile(i),a.getFile()}function d(b){var c=!0;a.each(n,function(){if(this.hidden)return c=!1,!1}),b.beginHeader(c);var d=0;for(var e in n){n[e].columnsDataFields&&(e=n[e].columnsDataFields[d].displayfield);var f=g(e,n[e]);b.appendHeaderCell(n[e],e,f,c,d),d++}b.endHeader(c)}function e(a){if(a.beginBody(),this.hierarchy){var b=function(c){for(var d=0;d<c.length;d+=1)void 0!==c[d]&&(a.beginRow(c[d].level),f(a,c[d],d,!0),c[d].records&&(a.beginRows(c[d].level),b(c[d].records),a.endRows(c[d].level)),a.endRow(c[d].level))};return b(m),void a.endBody()}for(var c=0;c<m.length;c+=1)void 0!==m[c]&&f(a,m[c],c);a.endBody()}function f(b,c,d,e){var f;1!=e&&b.beginRow();var g=0;for(var h in n){if(n[h].columnsDataFields&&(h=n[h].columnsDataFields[g].displayfield),f=i(d,h)){if(void 0!=f.level&&f.index-1>c.level&&f.index-1<f.maxLevel){g++;continue}void 0!=f.maxLevel&&f.index-1==f.maxLevel&&(f=a.extend({},f),f.merge=f.maxLevel-c.level-1)}if(void 0!=c.level&&void 0!=c.label&&("xml"===this.exportFormat||"json"===this.exportFormat)){var j={};j.text="group",b.appendBodyCell(c.label,j,f,c,g,"group");break}c.hasOwnProperty(h)?b.appendBodyCell(c[h],n[h],f,c,g):b.appendBodyCell("",n[h],f,c,g),g++}1!=e&&b.endRow()}function g(a,b){if(b.style)return o[b.style];var c=h();return c.length>0?c[0].style:null}function h(){return q||(q=new Array,a.each(o,function(a,b){q[q.length]={name:a,style:b}})),q}function i(a,b){var c=n[b];if(c){if(c.customCellStyles){var d=c.customCellStyles[a];if(d)return o[d]}if(c.cellStyle){if(c.cellAltStyle){var e=a%2;return 0==e?o[c.cellStyle]:o[c.cellAltStyle]}return o[c.cellStyle]}var f=h();if(f.length>0){var e=a%(f.length-1),g=f[e+1].style;return g}}return null}function j(a,b,c){var d=document.createElement("input");return d.name=b,d.value=a,d.type="hidden",c.appendChild(d),d}function k(a,b,c){var d=document.createElement("textarea");return d.name=b,d.value=a,c.appendChild(d),d}function l(a,b,c,d,e){var f=document.createElement("form");return j(a,"filename",f),j(b,"format",f),k(c,"content",f),void 0!=d&&""!=d||(d=window&&window.location.toString().indexOf("jqwidgets.com")>=0?"http://jqwidgets.com/export_server/dataexport.php":"http://jquerygrid.net/export_server/dataexport.php"),f.action=d,f.method="post",e&&(f.acceptCharset=e),document.body.appendChild(f),f}var m,n,o,p,q,r={};return p=function(d,e,f,g,h,i){return this instanceof b?(m=d,n=e,o=f,this.exportTo=function(b,d,e,f){b=b.toString().toLowerCase();var g=r[b];if("undefined"==typeof g)throw"You can't export to "+b+" format.";if("pdf"===b&&void 0==f){var h=this.exportTo(b,d,b,"pdf");a.jqx.pdfExport||(a.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var i=new pdfDataExport(a.jqx.pdfExport.orientation,"pt",a.jqx.pdfExport.paperSize);i.cellInitialize();var j=a(h).find("th"),k=a(h).find("tr"),l=0;i.setFontSize(9.75);var p=595;switch(a.jqx.pdfExport.paperSize){case"legal":var p=612;"portrait"!==a.jqx.pdfExport.orientation&&(p=1008);break;case"letter":var p=612;"portrait"!==a.jqx.pdfExport.orientation&&(p=792);break;case"a3":var p=841;"portrait"!==a.jqx.pdfExport.orientation&&(p=1190);break;case"a4":var p=595;"portrait"!==a.jqx.pdfExport.orientation&&(p=842);break;case"a5":var p=420;"portrait"!==a.jqx.pdfExport.orientation&&(p=595)}p-=20;var q=0,s=[];if(a.each(j,function(a){var b=parseInt(this.style.width);isNaN(b)&&(b=25);var c=72*b/96;s[a]=c,q+=c}),q>p&&a.each(s,function(a){s[a]=s[a]/q*100,s[a]=s[a]*p/100}),a.each(j,function(b){var c=s[b],d=18.75,e=i.getTextDimensions(a(this).html()),f=a(this).html();if(e.w+3>c){var g=i.splitTextToSize(f,c-3),h=g[0];f=h.length>3?h.substring(0,h.length-3)+"...":h.substring(0,1)+"...";var g=i.splitTextToSize(f,c-3),h=g[0];h!=f&&(f=h)}i.cell(10,10,c,d,f,l)}),l++,a.each(k,function(b){if(0===b)return!0;var c=a(this).children(),d=c.length>j.length;if(d){for(var e=c.length-j.length,f="",g=s[0],h=18.75,k=0;k<=e;k++){var m=c[k].innerHTML;"+"!==m&&"-"!==m||(m+=" "),"&nbsp;"===m&&(m="   "),f+=m}var n=i.getTextDimensions(f);if(n.w+3>g){var o=i.splitTextToSize(f,g-3),p=o[0];f=p.length>3?p.substring(0,p.length-3)+"...":p.substring(0,1)+"...";var o=i.splitTextToSize(f,g-3),p=o[0];p!=f&&(f=p)}i.cell(10,10,g,h,f,l);for(var k=e+1;k<c.length;k++){var b=k-e,g=s[b],h=18.75,f=a(c[k]).html(),n=i.getTextDimensions(a(c[k]).html());if(n.w+3>g){var o=i.splitTextToSize(f,g-3),p=o[0];f=p.length>3?p.substring(0,p.length-3)+"...":p.substring(0,1)+"...";var o=i.splitTextToSize(f,g-3),p=o[0];p!=f&&(f=p)}i.cell(10,10,g,h,f,l)}return l++,!0}a.each(c,function(b){var c=s[b],d=18.75,e=a(this).html(),f=i.getTextDimensions(a(this).html());if(f.w+3>c){var g=i.splitTextToSize(e,c-3),h=g[0];e=h.length>3?h.substring(0,h.length-3)+"...":h.substring(0,1)+"...";var g=i.splitTextToSize(e,c-3),h=g[0];h!=e&&(e=h)}i.cell(10,10,c,d,e,l)}),l++}),a.jqx.browser.msie&&a.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return i}return c(g,m,n,o,d,e,f)},this.exportToFile=function(b,c,d,e,f){if("pdf"===b){var g=this.exportTo(b,f,b,c);a.jqx.pdfExport||(a.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var h=new pdfDataExport(a.jqx.pdfExport.orientation,"pt",a.jqx.pdfExport.paperSize);"utf-8"!=e&&"UTF-8"!=e||h.setFont("courier","normal"),h.cellInitialize();var i=a(g).find("th"),j=a(g).find("tr"),k=0;h.setFontSize(9.75);var m=595;switch(a.jqx.pdfExport.paperSize){case"legal":var m=612;"portrait"!==a.jqx.pdfExport.orientation&&(m=1008);break;case"letter":var m=612;"portrait"!==a.jqx.pdfExport.orientation&&(m=792);break;case"a3":var m=841;"portrait"!==a.jqx.pdfExport.orientation&&(m=1190);break;case"a4":var m=595;"portrait"!==a.jqx.pdfExport.orientation&&(m=842);break;case"a5":var m=420;"portrait"!==a.jqx.pdfExport.orientation&&(m=595)}m-=20;var n=0,o=[];if(a.each(i,function(a){var b=parseInt(this.style.width);isNaN(b)&&(b=25);var c=72*b/96;o[a]=c,n+=c}),n>m&&a.each(o,function(a){o[a]=o[a]/n*100,o[a]=o[a]*m/100}),a.each(i,function(b){var c=o[b],d=18.75,e=h.getTextDimensions(a(this).html()),f=a(this).html();if(e.w+3>c){var g=h.splitTextToSize(f,c-3),i=g[0];f=i.length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...";var g=h.splitTextToSize(f,c-3),i=g[0];i!=f&&(f=i)}h.cell(10,10,c,d,f,k)}),k++,a.each(j,function(b){if(0===b)return!0;var c=a(this).children(),d=c.length>i.length;if(d){for(var e=c.length-i.length,f="",g=o[0],j=18.75,l=0;l<=e;l++){var m=c[l].innerHTML;"+"!==m&&"-"!==m||(m+=" "),"&nbsp;"===m&&(m="   "),f+=m}var n=h.getTextDimensions(f);if(n.w+3>g){var p=h.splitTextToSize(f,g-3),q=p[0];f=q.length>3?q.substring(0,q.length-3)+"...":q.substring(0,1)+"...";var p=h.splitTextToSize(f,g-3),q=p[0];q!=f&&(f=q)}h.cell(10,10,g,j,f,k);for(var l=e+1;l<c.length;l++){var b=l-e,g=o[b],j=18.75,f=a(c[l]).html();"&nbsp;"===f&&(f="   ");var n=h.getTextDimensions(a(c[l]).html());if(n.w+3>g){var p=h.splitTextToSize(f,g-3),q=p[0];f=q.length>3?q.substring(0,q.length-3)+"...":q.substring(0,1)+"...";var p=h.splitTextToSize(f,g-3),q=p[0];q!=f&&(f=q)}h.cell(10,10,g,j,f,k)}return k++,!0}a.each(c,function(b){var c=o[b],d=18.75,e=a(this).html();"&nbsp;"===e&&(e="   ");var f=h.getTextDimensions(a(this).html());if(f.w+3>c){var g=h.splitTextToSize(e,c-3),i=g[0];e=i.length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...";var g=h.splitTextToSize(e,c-3),i=g[0];i!=e&&(e=i)}h.cell(10,10,c,d,e,k)}),k++}),a.jqx.browser.msie&&a.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return void h.save(c+".pdf")}var p=this.exportTo(b,f,b,c),q=l(c,b,p,d,e);q.submit(),document.body.removeChild(q)},void(this.exportToLocalFile=function(a,b,c,d){var e=this.exportTo(a,c,d);document.location.href="data:application/octet-stream;filename="+b+","+encodeURIComponent(e)})):new b(d,e,f,h,i)},p.extend=function(b,c){if(!(c instanceof a.jqx.dataAdapter.DataExportModuleBase))throw"The module "+b+" is not instance of DataExportModuleBase.";r[b]=c},p}();a.jqx.dataAdapter.ArrayExporter=b}(jqxBaseFramework),function(a){var b=function(){this.formatData=function(b,c,d,e){if("date"===c){var f="";if("string"==typeof b&&(f=a.jqx.dataFormat.tryparsedate(b),b=f),""===b||null===b)return"";if(f=a.jqx.dataFormat.formatdate(b,d,e),"NaN"==f.toString()||null==f)return"";b=f}else if("number"===c||"float"===c||"int"===c||"integer"==c){if(""===b||null===b)return"";if(!isNaN(new Number(b))){var g=a.jqx.dataFormat.formatnumber(b,d,e);if("NaN"==g.toString())return"";b=g}}else b=b;return null===b?"":b},this.getFormat=function(a){var b=a?a.formatString:"",c=a?a.localization:"",d="string";return d=a?a.type:"string","number"!=d&&"float"!=d||b||(b="f2"),"int"!=d&&"integer"!=d||b||(b="n0"),"date"==d&&(b||(b="d")),{type:d,formatString:b,localization:c}},this.beginFile=function(){throw"Not implemented!"},this.beginHeader=function(){throw"Not implemented!"},this.appendHeaderCell=function(){throw"Not implemented!"},this.endHeader=function(){throw"Not implemented!"},this.beginBody=function(){throw"Not implemented!"},this.beginRow=function(){throw"Not implemented!"},this.beginRows=function(){throw"Not implemented!"},this.endRows=function(){throw"Not implemented!"},this.appendBodyCell=function(){throw"Not implemented!"},this.endRow=function(){throw"Not implemented!"},this.endBody=function(){throw"Not implemented!"},this.endFile=function(){throw"Not implemented!"},this.getFile=function(){throw"Not implemented!"}};a.jqx.dataAdapter.DataExportModuleBase=b}(jqxBaseFramework),function(a){var b=function(a){function b(a,b){if(b){var c=g.getFormat(b);a=g.formatData(a,c.type,c.formatString,c.localization)}return a='"'+a+'"'}function c(c,e){c=b(c,e),d+=c+a}var d,e,f=0,g=this;this.beginFile=function(){d=""},this.beginHeader=function(){},this.appendHeaderCell=function(a,b,d,f,g){if(d&&void 0!=d.level){if(g<d.maxLevel)return;if(g===d.maxLevel){f&&c(a.text);for(var h=0;h<d.maxLevel;h++)c("");return}}e=f,f&&c(a.text)},this.endHeader=function(){this.endRow()},this.beginBody=function(){f=0},this.beginRow=function(){(f>0||0==f&&e)&&(d+="\n"),f++},this.appendBodyCell=function(a,b,d,e,f){if(d&&void 0!=d.maxLevel&&f===d.maxLevel){c(a,b);for(var g=0;g<d.maxLevel-e.level-1;g++)c("",b)}else c(a,b)},this.endRow=function(){d=d.substring(0,d.length-1)},this.endBody=function(){},this.endFile=function(){},this.getFile=function(){return d}};b.prototype=new a.jqx.dataAdapter.DataExportModuleBase;var c=function(){};c.prototype=new b(",");var d=function(){};d.prototype=new b("\t"),a.jqx.dataAdapter.ArrayExporter.extend("csv",new c),a.jqx.dataAdapter.ArrayExporter.extend("tsv",new d)}(jqxBaseFramework),function(a){var b=function(){function a(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(d&&"font-size"==c&&(a[c]="100%"),b+=c+":"+a[c]+";");return b}var b,c,d=!1,e=0;this.setPDF=function(){d=!0},this.beginFile=function(a){b=d||void 0==a?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'},this.beginHeader=function(){b+=d?"\n\t<thead><tr>":"\n\t\t\t<thead>"},this.appendHeaderCell=function(e,f,g,h){if(c=h,h)if(d)b+='\n\t\t\t\t<th style="'+a(g)+'">'+e.text+"</th>";else{if(g.disabled)return;b+=g.merge?e.width?"\n\t\t\t\t<th colspan="+(1+g.merge)+' style="width: '+e.width+"px; "+a(g)+'">'+e.text+"</th>":"\n\t\t\t\t<th colspan="+(1+g.merge)+' style="'+a(g)+'">'+e.text+"</th>":e.width?'\n\t\t\t\t<th style="width: '+e.width+"px; "+a(g)+'">'+e.text+"</th>":'\n\t\t\t\t<th style="'+a(g)+'">'+e.text+"</th>"}},this.endHeader=function(){b+=d?"\n\t</tr></thead>":"\n\t\t\t</thead>"},this.beginBody=function(){b+=d?"\n\t<tbody>":"\n\t\t\t<tbody>",e=0},this.beginRow=function(){b+=d?"\n\t<tr>":"\n\t\t\t\t<tr>",e++},this.appendBodyCell=function(f,g,h){var i=this.getFormat(g);""===f&&(f="&nbsp;"),b+=d?1!=e||c?'\n\t\t\t\t\t<td style="'+a(h)+'">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":'\n\t\t\t\t\t<td style="'+a(h)+' border-top-width: 1px;">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":h.merge?1!=e||c?"\n\t\t\t\t\t<td colspan="+(1+h.merge)+' style="'+a(h)+'">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":"\n\t\t\t\t\t<td colspan="+(1+h.merge)+' style="'+a(h)+' border-top-width: 1px;">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":1!=e||c?'\n\t\t\t\t\t<td style="'+a(h)+'">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>":'\n\t\t\t\t\t<td style="'+a(h)+' border-top-width: 1px;">'+this.formatData(f,i.type,i.formatString,i.localization)+"</td>";
},this.endRow=function(){b+=d?"\n\t</tr>":"\n\t\t\t\t</tr>"},this.endBody=function(){b+=d?"\n\t</tbody>":"\n\t\t\t</tbody>"},this.endFile=function(a){b+=d||void 0==a?"\n</table>":"\n\t\t</table>\n\t</body>\n</html>\n"},this.getFile=function(){return b}};b.prototype=new a.jqx.dataAdapter.DataExportModuleBase;var c=function(){};c.prototype=new b;var d=function(){};d.prototype=new b;var e=new d;a.jqx.dataAdapter.ArrayExporter.extend("html",new c),a.jqx.dataAdapter.ArrayExporter.extend("pdf",e)}(jqxBaseFramework),function(a){var b=function(){function a(a,b,c,d){var e="String",g=this.getFormat(b);null!=a&&"_AG"==a.toString().substring(0,3)?(a=a.toString().substring(3),e="String"):("date"==g.type&&(a=this.formatData(a,g.type,g.formatString,g.localization),null!==a&&""!==a||(a="",e="String")),"string"==g.type&&(null===a||void 0===a?a="":(a.toString().indexOf("&")>=0&&(a=a.toString().replace(/&/g,"&amp;")),a.toString().indexOf(">")>=0&&(a=a.toString().replace(/>/g,"&gt;")),a.toString().indexOf("<")>=0&&(a=a.toString().replace(/</g,"&lt;")),a.toString().indexOf('"')>=0&&(a=a.toString().replace(/"/g,"&quot;")),a.toString().indexOf("'")>=0&&(a=a.toString().replace(/'/g,"&apos;")))),"number"!=c.dataType&&"float"!=c.dataType&&"int"!=c.dataType&&"integer"!=c.dataType||(e="Number",a=parseFloat(a),(null===a||isNaN(a)||""===a)&&(a="",e="String"),a&&"String"!=e&&""!=a&&b&&b.formatString&&b.formatString.indexOf("p")>=0&&(a/=100),c.currencysymbol=b.localization.currencysymbol));var i=f(c);h+=c.merge?'\n\t\t\t\t<Cell ss:MergeAcross="'+c.merge+'" ss:StyleID="'+i+'"><Data ss:Type="'+e+'">'+a+"</Data></Cell>":'\n\t\t\t\t<Cell ss:StyleID="'+i+'"><Data ss:Type="'+e+'">'+a+"</Data></Cell>"}function b(){return l+=1,"xls-style-"+l}function c(a){for(var b in k)if(d(a,k[b])&&d(k[b],a))return b}function d(a,b){var c=!0;for(var d in a)a[d]!==b[d]&&(c=!1);return c}function e(a,b){m.startStyle(a),m.buildAlignment(b),m.buildBorder(b),m.buildFont(b),m.buildInterior(b),m.buildFormat(b),m.closeStyle(),g+=m.toString()}function f(a){if(!a)return"";var d=c(a);return"undefined"==typeof d&&(d=b(),k[d]=a,e(d,a)),d}var g,h,i,j,k,l,m={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(a){this.style+='\n\t\t<Style ss:ID="'+a+'" ss:Name="'+a+'">'},buildAlignment:function(a){if(a["text-align"]){var b=this.stylesMap.alignment[a["text-align"]];b||(b="Left");var c='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+b+'"/>';this.style+=c}},buildBorder:function(a){if(a["border-color"]){var b="\n\t\t\t<Borders>",c='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+a["border-color"]+'"/>',d='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+a["border-color"]+'"/>',e='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+a["border-color"]+'"/>',f='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+a["border-color"]+'"/>';b+=c,b+=d,b+=e,b+=f,b+="\n\t\t\t</Borders>",this.style+=b}},buildFont:function(a){var b=this.stylesMap.font,c="\n\t\t\t<Font ";for(var d in b)"undefined"!=typeof a[d]&&("font-style"===d&&"italic"===a[d].toString().toLowerCase()?c+='ss:Italic="1" ':"font-weight"===d&&"bold"===a[d].toString().toLowerCase()?c+='ss:Bold="1" ':"color"===d&&(c+="ss:"+b[d]+'="'+a[d]+'" '));c+="/>",this.style+=c},buildInterior:function(a){var b=this.stylesMap.interior,c="\n\t\t\t<Interior ",d=!1;for(var e in b)"undefined"!=typeof a[e]&&(c+="ss:"+b[e]+'="'+a[e]+'" ',d=!0);d&&(c+='ss:Pattern="Solid"'),c+="/>",this.style+=c},buildFormat:function(a){if("number"==a.dataType||"float"==a.dataType||"int"==a.dataType||"integer"==a.dataType){var b=a.formatString;""==b||b.indexOf("n")!=-1||b.indexOf("N")!=-1?this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>':"f"==b||"F"==b||"D"==b||b.indexOf("d")!=-1?this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':b.indexOf("p")!=-1||b.indexOf("P")!=-1?this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>':b.indexOf("c")==-1&&b.indexOf("C")==-1||(8364==parseInt(a.currencysymbol.charCodeAt(0))?this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>':this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>')}else"date"==a.dataType&&(this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var a=this.style;return this.style="",a}};this.beginFile=function(){k={},l=0,g='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'},this.beginHeader=function(){h='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>',i=[],j=[]},this.appendHeaderCell=function(a,b,c){var d=void 0!=a.width?a.width:10*a.text.length;h+='\n\t\t\t<Column ss:Width="'+d+'"/>',i.push(a),j.push(c)},this.endHeader=function(b){if(b){this.beginRow();for(var c=0;c<i.length;c+=1)j[c].disabled||a.call(this,i[c].text,null,j[c]);this.endRow()}},this.beginBody=function(){},this.beginRow=function(a){if(void 0!=a){h+="\n\t\t\t";for(var b=0;b<a;b++)h+="\t";return void(h+="<Row>")}h+="\n\t\t\t<Row>"},this.beginRows=function(a){h+="\n\t\t\t\t<Rows>"},this.appendBodyCell=function(b,c,d,e){a.call(this,b,c,d,e)},this.endRow=function(a){if(void 0!=a){h+="\n\t\t\t";for(var b=0;b<a;b++)h+="\t";return void(h+="</Row>")}h+="\n\t\t\t</Row>"},this.endRows=function(a){if(void 0!=a){h+="\n\t\t\t";for(var b=0;b<a;b++)h+="\t";return void(h+="</Rows>")}},this.endBody=function(){h+="\n\t\t</Table>"},this.endFile=function(){h+="\n\t</Worksheet>\n</Workbook>",g+="\n\t</Styles>"},this.getFile=function(){return g+h}};b.prototype=new a.jqx.dataAdapter.DataExportModuleBase,a.jqx.dataAdapter.ArrayExporter.extend("xls",new b)}(jqxBaseFramework),function(a){var b=function(){var a,b,c;this.beginFile=function(){a='<?xml version="1.0" encoding="UTF-8" ?>',a+="\n<table>"},this.beginHeader=function(){b=[]},this.appendHeaderCell=function(a,c){b.push(c)},this.endHeader=function(){},this.beginBody=function(a,b){},this.beginRow=function(b){if(void 0!=b&&this.hierarchy){a+="\n\t";for(var d=0;d<b;d++)a+="\t\t";return a+="<row>",void(c=0)}a+="\n\t<row>",c=0},this.beginRows=function(b){if(void 0!=b){a+="\n\t\t";for(var d=0;d<b;d++)a+="\t\t";return a+="<rows>",void(c=0)}a+="\n\t\t<rows>"},this.appendBodyCell=function(d,e,f,g,h,i){var j=this.getFormat(e);if(d=this.formatData(d,j.type,j.formatString,j.localization),"string"==j.type&&(d.toString().indexOf("&")>=0&&(d=d.toString().replace(/&/g,"&amp;")),d.toString().indexOf(">")>=0&&(d=d.toString().replace(/>/g,"&gt;")),d.toString().indexOf("<")>=0&&(d=d.toString().replace(/</g,"&lt;")),d.toString().indexOf('"')>=0&&(d=d.toString().replace(/"/g,"&quot;")),d.toString().indexOf("'")>=0&&(d=d.toString().replace(/'/g,"&apos;"))),void 0!=g.level)if(this.hierarchy){a+="\n\t\t";for(var k=0;k<g.level;k++)a+="\t\t";a+=void 0===i?"<"+b[c]+">"+d+"</"+b[c]+">":"<"+i+">"+d+"</"+i+">"}else a+=void 0!=i?"\n\t\t<"+i+">"+d+"</"+i+">":"\n\t\t<"+b[c]+">"+d+"</"+b[c]+">";else a+="\n\t\t<"+b[c]+">"+d+"</"+b[c]+">";c++},this.endRow=function(b){if(void 0!=b&&this.hierarchy){a+="\n\t";for(var d=0;d<b;d++)a+="\t\t";return a+="</row>",void(c=0)}a+="\n\t</row>",c=0},this.endRows=function(b){if(void 0!=b){a+="\n\t\t";for(var d=0;d<b;d++)a+="\t\t";return a+="</rows>",void(c=0)}a+="\n\t\t</rows>"},this.endBody=function(){},this.endFile=function(){a+="\n</table>"},this.getFile=function(){return a}};b.prototype=new a.jqx.dataAdapter.DataExportModuleBase,a.jqx.dataAdapter.ArrayExporter.extend("xml",new b)}(jqxBaseFramework),function(a){function b(a){return'"'+a.replace(k,function(a){var b=l[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'}function c(a){return a<10?"0"+a:a}function d(a){var b;return b=isFinite(a.valueOf())?a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+'Z"':"null"}function e(a){var b,c=a.length,d=[];for(b=0;b<c;b++)d.push(i(b,a)||"null");return"["+d.join(",")+"]"}function f(a){var c,d,e=[];for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d=i(c,a),d&&e.push(b(c)+":"+d));return"{"+e.join(",")+"}"}function g(a){switch(Object.prototype.toString.call(a)){case"[object Date]":return d(a);case"[object Array]":return e(a)}return f(a)}function h(a,c){switch(c){case"string":return b(a);case"number":case"float":case"integer":case"int":return isFinite(a)?a:"null";case"boolean":return a}return"null"}function i(a,b){var c=b[a],d=typeof c;return c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(a),d=typeof c),/(number|float|int|integer|string|boolean)/.test(d)||!c&&"object"===d?h(c,d):g(c)}function j(a){return window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(a):i("",{"":a})}var k=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m=function(){var a=this;this.prepareData=function(b,c){if(c){var d=a.getFormat(c);b=a.formatData(b,d.type,d.formatString,d.localization)}return b};var b,c,d,e=[],f=0;this.beginFile=function(){c=[]},this.beginHeader=function(){},this.appendHeaderCell=function(a){},this.endHeader=function(){},this.beginBody=function(a,b){},this.beginRow=function(){hierarchy?e[f]={}:d={}},this.beginRows=function(){e[f].rows=[],f++,e[f]={}},this.endRows=function(){f--},this.appendBodyCell=function(a,b){var c=this.prepareData(a,b);hierarchy?e[f][b.text]=c:d[b.text]=c},this.endRow=function(){hierarchy?0==f?c.push(e[f]):e[f-1].rows.push(e[f]):c.push(d)},this.endBody=function(){},this.endFile=function(){b=j(c)},this.getFile=function(){return b}};m.prototype=new a.jqx.dataAdapter.DataExportModuleBase,a.jqx.dataAdapter.ArrayExporter.extend("json",new m)}(jqxBaseFramework);var pdfDataExport=function(){"use strict";function a(d,e,f,g){d="undefined"==typeof d?"p":d.toString().toLowerCase(),"undefined"==typeof e&&(e="mm"),"undefined"==typeof f&&(f="a4"),"undefined"==typeof g&&"undefined"==typeof zpipe&&(g=!1);var h,i,j,k,l,m,n,o,p,q=f.toString().toLowerCase(),r="0.9.0rc2",s=[],t=0,u=g,v="1.3",w={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},x="0 g",y="0 G",z=0,A=[],B=2,C=!1,D=[],E={},F={},G=16,H=.200025,I={title:"",subject:"",author:"",keywords:"",creator:""},J=0,K=0,L={},M=new c(L),N=function(a){return a.toFixed(2)},O=function(a){return a.toFixed(3)},P=function(a){var b=a.toFixed(0);return a<10?"0"+b:b},Q=function(a){var b=a.toFixed(0);return b.length<10?new Array(11-b.length).join("0")+b:b},R=function(a){C?A[z].push(a):(s.push(a),t+=a.length+1)},S=function(){return B++,D[B]=t,R(B+" 0 obj"),B},T=function(a){R("stream"),R(a),R("endstream")},U=function(){n=j*k,o=i*k;var a,b,c,d,e,f;for(a=1;a<=z;a++){if(S(),R("<</Type /Page"),R("/Parent 1 0 R"),R("/Resources 2 0 R"),R("/Contents "+(B+1)+" 0 R>>"),R("endobj"),b=A[a].join("\n"),S(),u){for(c=[],d=0;d<b.length;++d)c[d]=b.charCodeAt(d);f=adler32cs.from(b),e=new Deflater(6),e.append(new Uint8Array(c)),b=e.flush(),c=[new Uint8Array([120,156]),new Uint8Array(b),new Uint8Array([255&f,f>>8&255,f>>16&255,f>>24&255])],b="";for(d in c)c.hasOwnProperty(d)&&(b+=String.fromCharCode.apply(null,c[d]));R("<</Length "+b.length+" /Filter [/FlateDecode]>>")}else R("<</Length "+b.length+">>");T(b),R("endobj")}for(D[1]=t,R("1 0 obj"),R("<</Type /Pages"),p="/Kids [",d=0;d<z;d++)p+=3+2*d+" 0 R ";R(p+"]"),R("/Count "+z),R("/MediaBox [0 0 "+N(n)+" "+N(o)+"]"),R(">>"),R("endobj")},V=function(a){a.objectNumber=S(),R("<</BaseFont/"+a.PostScriptName+"/Type/Font"),"string"==typeof a.encoding&&R("/Encoding/"+a.encoding),R("/Subtype/Type1>>"),R("endobj")},W=function(){var a;for(a in E)E.hasOwnProperty(a)&&V(E[a])},X=function(){M.publish("putXobjectDict")},Y=function(){R("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),R("/Font <<");var a;for(a in E)E.hasOwnProperty(a)&&R("/"+a+" "+E[a].objectNumber+" 0 R");R(">>"),R("/XObject <<"),X(),R(">>")},Z=function(){W(),M.publish("putResources"),D[2]=t,R("2 0 obj"),R("<<"),Y(),R(">>"),R("endobj"),M.publish("postPutResources")},$=function(a,b,c){var d;F[b]===d&&(F[b]={}),F[b][c]=a},_=function(a,c,d,e){var f="F"+(b(E)+1).toString(10),g=E[f]={id:f,PostScriptName:a,fontName:c,fontStyle:d,encoding:e,metadata:{}};return $(f,c,d),M.publish("addFont",g),f},aa=function(){var a,b,c,d,e="helvetica",f="times",g="courier",h="normal",i="bold",j="italic",k="bolditalic",l="StandardEncoding",m=[["Helvetica",e,h],["Helvetica-Bold",e,i],["Helvetica-Oblique",e,j],["Helvetica-BoldOblique",e,k],["Courier",g,h],["Courier-Bold",g,i],["Courier-Oblique",g,j],["Courier-BoldOblique",g,k],["Times-Roman",f,h],["Times-Bold",f,i],["Times-Italic",f,j],["Times-BoldItalic",f,k]];for(a=0,b=m.length;a<b;a++){var n=l;c=_(m[a][0],m[a][1],m[a][2],n),d=m[a][0].split("-"),$(c,d[0],d[1]||"")}M.publish("addFonts",{fonts:E,dictionary:F})},ba=function(a,b){var c,d,e,f,g,i,j,k,l,m;if(b===e&&(b={}),f=b.sourceEncoding?f:"Unicode",i=b.outputEncoding,(b.autoencode||i)&&E[h].metadata&&E[h].metadata[f]&&E[h].metadata[f].encoding&&(g=E[h].metadata[f].encoding,!i&&E[h].encoding&&(i=E[h].encoding),!i&&g.codePages&&(i=g.codePages[0]),"string"==typeof i&&(i=g[i]),i)){for(k=!1,j=[],c=0,d=a.length;c<d;c++)l=i[a.charCodeAt(c)],l?j.push(String.fromCharCode(l)):j.push(a[c]),j[c].charCodeAt(0)>>8&&(k=!0);a=j.join("")}for(c=a.length;k===e&&0!==c;)a.charCodeAt(c-1)>>8&&(k=!0),c--;if(k){for(j=b.noBOM?[]:[254,255],c=0,d=a.length;c<d;c++){if(l=a.charCodeAt(c),m=l>>8,m>>8)throw new Error("Character at position "+c.toString(10)+" of string '"+a+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");j.push(m),j.push(l-(m<<8))}return String.fromCharCode.apply(e,j)}return a},ca=function(a,b){return ba(a,b).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},da=function(){R("/Producer (pdfDataExport "+r+")"),I.title&&R("/Title ("+ca(I.title)+")"),I.subject&&R("/Subject ("+ca(I.subject)+")"),I.author&&R("/Author ("+ca(I.author)+")"),I.keywords&&R("/Keywords ("+ca(I.keywords)+")"),I.creator&&R("/Creator ("+ca(I.creator)+")");var a=new Date;R("/CreationDate (D:"+[a.getFullYear(),P(a.getMonth()+1),P(a.getDate()),P(a.getHours()),P(a.getMinutes()),P(a.getSeconds())].join("")+")")},ea=function(){R("/Type /Catalog"),R("/Pages 1 0 R"),R("/OpenAction [3 0 R /FitH null]"),R("/PageLayout /OneColumn"),M.publish("putCatalog")},fa=function(){R("/Size "+(B+1)),R("/Root "+B+" 0 R"),R("/Info "+(B-1)+" 0 R")},ga=function(){z++,C=!0,A[z]=[]},ha=function(){ga(),R(N(H*k)+" w"),R(y),0!==J&&R(J.toString(10)+" J"),0!==K&&R(K.toString(10)+" j"),M.publish("addPage",{pageNumber:z})},ia=function(a,b){var c,d;a===d&&(a=E[h].fontName),b===d&&(b=E[h].fontStyle);try{c=F[a][b]}catch(e){c=d}if(!c)throw new Error("Unable to look up font label for font '"+a+"', '"+b+"'. Refer to getFontList() for available fonts.");return c},ja=function(){C=!1,s=[],D=[],R("%PDF-"+v),U(),Z(),S(),R("<<"),da(),R(">>"),R("endobj"),S(),R("<<"),ea(),R(">>"),R("endobj");var a,b=t;for(R("xref"),R("0 "+(B+1)),R("0000000000 65535 f "),a=1;a<=B;a++)R(Q(D[a])+" 00000 n ");return R("trailer"),R("<<"),fa(),R(">>"),R("startxref"),R(b),R("%%EOF"),C=!0,s.join("\n")},ka=function(a){var b="S";return"F"===a?b="f":"FD"!==a&&"DF"!==a||(b="B"),b},la=function(a,b){var c,d,e,f,g,h;switch(a){case c:return ja();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return L.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return L.output("dataurlnewwindow")}for(d=ja(),e=d.length,f=new Uint8Array(new ArrayBuffer(e)),g=0;g<e;g++)f[g]=d.charCodeAt(g);h=new Blob([f],{type:"application/pdf"}),saveAs(h,b);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(ja());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(ja());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(ja()));break;default:throw new Error('Output type "'+a+'" is not supported.')}};if("pt"===e)k=1;else if("mm"===e)k=72/25.4;else if("cm"===e)k=72/2.54;else{if("in"!==e)throw"Invalid unit: "+e;k=72}if(w.hasOwnProperty(q))i=w[q][1]/k,j=w[q][0]/k;else try{i=f[1],j=f[0]}catch(ma){throw"Invalid format: "+f}if("p"===d||"portrait"===d)d="p",j>i&&(l=j,j=i,i=l);else{if("l"!==d&&"landscape"!==d)throw"Invalid orientation: "+d;d="l",i>j&&(l=j,j=i,i=l)}L.internal={pdfEscape:ca,getStyle:ka,getFont:function(){return E[ia.apply(L,arguments)]},getFontSize:function(){return G},btoa:btoa,write:function(a,b,c,d){R(1===arguments.length?a:Array.prototype.join.call(arguments," "))},getCoordinateString:function(a){return N(a*k)},getVerticalCoordinateString:function(a){return N((i-a)*k)},collections:{},newObject:S,putStream:T,events:M,scaleFactor:k,pageSize:{width:j,height:i},output:function(a,b){return la(a,b)}},L.addPage=function(){return ha(),this};var na=["","0","00","000","0000"],oa=function(a,b){for(var c,d=["FEFF"],e=0,f=a.length;e<f;++e)c=a.charCodeAt(e).toString(16).toUpperCase(),d.push(na[4-c.length],c);return d.join("")};L.text16=function(a,b,c,d){var e,f,g,j,l,m,n;if("number"==typeof a&&(f=c,g=a,j=b,a=f,b=g,c=j),"string"==typeof a&&a.match(/[\n\r]/)&&(a=a.split(/\r\n|\r|\n/g)),"undefined"==typeof d?d={noBOM:!0,autoencode:!0}:(d.noBOM===e&&(d.noBOM=!0),d.autoencode===e&&(d.autoencode=!0)),d.autoencode=!1,"string"==typeof a)m=oa(a,d);else{if(!(a instanceof Array))throw new Error('Type of text must be string or Array. "'+a+'" is not recognized.');for(l=a.concat(),n=l.length-1;n!==-1;n--)l[n]=oa(l[n],d);m=l.join("> Tj\nT* <")}return R("BT\n/"+h+" "+G+" Tf\n"+G+" TL\n"+x+"\n"+N(b*k)+" "+N((i-c)*k)+" Td\n<"+m+"> Tj\nET"),this},L.text=function(a,b,c,d){var e,f,g,j,l,m,n;if("number"==typeof a&&(f=c,g=a,j=b,a=f,b=g,c=j),"string"==typeof a&&a.match(/[\n\r]/)&&(a=a.split(/\r\n|\r|\n/g)),"undefined"==typeof d?d={noBOM:!0,autoencode:!0}:(d.noBOM===e&&(d.noBOM=!0),d.autoencode===e&&(d.autoencode=!0)),"string"==typeof a)m=ca(a,d);else{if(!(a instanceof Array))throw new Error('Type of text must be string or Array. "'+a+'" is not recognized.');for(l=a.concat(),n=l.length-1;n!==-1;n--)l[n]=ca(l[n],d);m=l.join(") Tj\nT* (")}return R("BT\n/"+h+" "+G+" Tf\n"+G+" TL\n"+x+"\n"+N(b*k)+" "+N((i-c)*k)+" Td\n("+m+") Tj\nET"),this},L.line=function(a,b,c,d){return R(N(a*k)+" "+N((i-b)*k)+" m "+N(c*k)+" "+N((i-d)*k)+" l S"),this},L.lines=function(a,b,c,d,e){var f,g,h,j,l,m,n,o,p,q,r,s,t,u,v;for("number"==typeof a&&(g=c,h=a,j=b,a=g,b=h,c=j),e=ka(e),d=d===f?[1,1]:d,R(O(b*k)+" "+O((i-c)*k)+" m "),l=d[0],m=d[1],o=a.length,u=b,v=c,n=0;n<o;n++)p=a[n],2===p.length?(u=p[0]*l+u,v=p[1]*m+v,R(O(u*k)+" "+O((i-v)*k)+" l")):(q=p[0]*l+u,r=p[1]*m+v,s=p[2]*l+u,t=p[3]*m+v,u=p[4]*l+u,v=p[5]*m+v,R(O(q*k)+" "+O((i-r)*k)+" "+O(s*k)+" "+O((i-t)*k)+" "+O(u*k)+" "+O((i-v)*k)+" c"));return R(e),this},L.rect=function(a,b,c,d,e){var f=ka(e);return R([N(a*k),N((i-b)*k),N(c*k),N(-d*k),"re",f].join(" ")),this},L.triangle=function(a,b,c,d,e,f,g){return this.lines([[c-a,d-b],[e-c,f-d],[a-e,b-f]],a,b,[1,1],g),this},L.roundedRect=function(a,b,c,d,e,f,g){var h=4/3*(Math.SQRT2-1);return this.lines([[c-2*e,0],[e*h,0,e,f-f*h,e,f],[0,d-2*f],[0,f*h,-(e*h),f,-e,f],[-c+2*e,0],[-(e*h),0,-e,-(f*h),-e,-f],[0,-d+2*f],[0,-(f*h),e*h,-f,e,-f]],a+e,b,[1,1],g),this},L.ellipse=function(a,b,c,d,e){var f=ka(e),g=4/3*(Math.SQRT2-1)*c,h=4/3*(Math.SQRT2-1)*d;return R([N((a+c)*k),N((i-b)*k),"m",N((a+c)*k),N((i-(b-h))*k),N((a+g)*k),N((i-(b-d))*k),N(a*k),N((i-(b-d))*k),"c"].join(" ")),R([N((a-g)*k),N((i-(b-d))*k),N((a-c)*k),N((i-(b-h))*k),N((a-c)*k),N((i-b)*k),"c"].join(" ")),R([N((a-c)*k),N((i-(b+h))*k),N((a-g)*k),N((i-(b+d))*k),N(a*k),N((i-(b+d))*k),"c"].join(" ")),R([N((a+g)*k),N((i-(b+d))*k),N((a+c)*k),N((i-(b+h))*k),N((a+c)*k),N((i-b)*k),"c",f].join(" ")),this},L.circle=function(a,b,c,d){return this.ellipse(a,b,c,c,d)},L.setProperties=function(a){var b;for(b in I)I.hasOwnProperty(b)&&a[b]&&(I[b]=a[b]);return this},L.setFontSize=function(a){return G=a,this},L.setFont=function(a,b){return h=ia(a,b),this},L.setFontStyle=L.setFontType=function(a){var b;return h=ia(b,a),this},L.getFontList=function(){var a,b,c,d={};for(a in F)if(F.hasOwnProperty(a)){d[a]=c=[];for(b in F[a])F[a].hasOwnProperty(b)&&c.push(b)}return d},L.setLineWidth=function(a){return R((a*k).toFixed(2)+" w"),this},L.setDrawColor=function(a,b,c,d){var e;return e=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" G":N(a/255)+" G":void 0===d?"string"==typeof a?[a,b,c,"RG"].join(" "):[N(a/255),N(b/255),N(c/255),"RG"].join(" "):"string"==typeof a?[a,b,c,d,"K"].join(" "):[N(a),N(b),N(c),N(d),"K"].join(" "),R(e),this},L.setFillColor=function(a,b,c,d){var e;return e=void 0===b||void 0===d&&a===b===c?"string"==typeof a?a+" g":N(a/255)+" g":void 0===d?"string"==typeof a?[a,b,c,"rg"].join(" "):[N(a/255),N(b/255),N(c/255),"rg"].join(" "):"string"==typeof a?[a,b,c,d,"k"].join(" "):[N(a),N(b),N(c),N(d),"k"].join(" "),R(e),this},L.setTextColor=function(a,b,c){return x=0===a&&0===b&&0===c||"undefined"==typeof b?O(a/255)+" g":[O(a/255),O(b/255),O(c/255),"rg"].join(" "),this},L.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},L.setLineCap=function(a){var b=this.CapJoinStyles[a];if(void 0===b)throw new Error("Line cap style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return J=b,R(b.toString(10)+" J"),this},L.setLineJoin=function(a){var b=this.CapJoinStyles[a];if(void 0===b)throw new Error("Line join style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return K=b,R(b.toString(10)+" j"),this},L.output=la,L.save=function(a){L.output("save",a)};for(m in a.API)a.API.hasOwnProperty(m)&&("events"===m&&a.API.events.length?!function(a,b){var c,d,e;for(e=b.length-1;e!==-1;e--)c=b[e][0],d=b[e][1],a.subscribe.apply(a,[c].concat("function"==typeof d?[d]:d))}(M,a.API.events):L[m]=a.API[m]);return aa(),h="F1",ha(),M.publish("initialized"),L}"undefined"==typeof btoa&&(window.btoa=function(a){var b,c,d,e,f,g,h,i,j,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=k.split(""),m=0,n=0,o="",p=[];do b=a.charCodeAt(m++),c=a.charCodeAt(m++),d=a.charCodeAt(m++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,p[n++]=l[e]+l[f]+l[g]+l[h];while(m<a.length);return o=p.join(""),j=a.length%3,(j?o.slice(0,j-3):o)+"===".slice(j||3)}),"undefined"==typeof atob&&(window.atob=function(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;a+="";do e=j.indexOf(a.charAt(k++)),f=j.indexOf(a.charAt(k++)),g=j.indexOf(a.charAt(k++)),h=j.indexOf(a.charAt(k++)),i=e<<18|f<<12|g<<6|h,b=i>>16&255,c=i>>8&255,d=255&i,64===g?n[l++]=String.fromCharCode(b):64===h?n[l++]=String.fromCharCode(b,c):n[l++]=String.fromCharCode(b,c,d);while(k<a.length);return m=n.join("")});var b="function"==typeof Object.keys?function(a){return Object.keys(a).length}:function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},c=function(a){this.topics={},this.context=a,this.publish=function(a,b){if(this.topics[a]){var c,d,e,f,g=this.topics[a],h=[],i=function(){};for(b=Array.prototype.slice.call(arguments,1),d=0,e=g.length;d<e;d++)f=g[d],c=f[0],f[1]&&(f[0]=i,h.push(d)),c.apply(this.context,b);for(d=0,e=h.length;d<e;d++)g.splice(h[d],1)}},this.subscribe=function(a,b,c){return this.topics[a]?this.topics[a].push([b,c]):this.topics[a]=[[b,c]],{topic:a,callback:b}},this.unsubscribe=function(a){if(this.topics[a.topic]){var b,c,d=this.topics[a.topic];for(b=0,c=d.length;b<c;b++)d[b][0]===a.callback&&d.splice(b,1)}}};return a.API={events:[]},a}();!function(a){"use strict";var b,c,d,e=0,f=0,g={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},h=1,i=!1,j=function(a,b,c,d,e){g={x:a,y:b,w:c,h:d,ln:e}},k=function(){return g},l=function(a){e=a},m=function(){return e},n=function(a){f=a},o=function(a){return f};a.getTextDimensions=function(a){b=this.internal.getFont().fontName,c=this.internal.getFontSize(),d=this.internal.getFont().fontStyle;var e,f,g=19.049976/25.4;return f=document.createElement("font"),f.id="pdfDataExportCell",f.style.fontStyle=d,f.style.fontName=b,f.style.fontSize=c+"pt",f.innerHTML=a,document.body.appendChild(f),e={w:(f.offsetWidth+1)*g,h:(f.offsetHeight+1)*g},document.body.removeChild(f),e},a.cellAddPage=function(){this.addPage(),j(void 0,void 0,void 0,void 0,void 0),i=!0,h+=1,n(1)},a.cellInitialize=function(){e=0,g={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},h=1,i=!1,n(0)},a.cell=function(a,b,c,d,e,f){this.lnMod=void 0===this.lnMod?0:this.lnMod,this.printingHeaderRow!==!0&&0!==this.lnMod&&(f+=this.lnMod),(f*d+b+2*d)/h>=this.internal.pageSize.height&&1===h&&!i?(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(f),this.lnMod+=1,f+=1),0===m()&&l(Math.round((this.internal.pageSize.height-2*d)/d))):i&&k().ln!==f&&o()===m()&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(f),this.lnMod+=1,f+=1));var g=k(),p=(this.getTextDimensions(e),1);void 0!==g.x&&g.ln===f&&(a=g.x+g.w),void 0!==g.y&&g.y===b&&(b=g.y),void 0!==g.h&&g.h===d&&(d=g.h),void 0!==g.ln&&g.ln===f&&(f=g.ln,p=0),i?b=d*(o()+p):b+=d*Math.abs(m()*h-f-m()),this.rect(a,b,c,d);var q=/[а-яА-ЯЁё]/.test(e);return q?this.text16(e,a+3,b+d-3):this.text(e,a+3,b+d-3),n(o()+p),j(a,b,c,d,f),this},a.getKeys="function"==typeof Object.keys?function(a){return a?Object.keys(a):[]}:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},a.arrayMax=function(a,b){var c,d,e,f=a[0];for(c=0,d=a.length;c<d;c+=1)e=a[c],b?b(f,e)===-1&&(f=e):e>f&&(f=e);return f},a.table=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=[],r=[],s={},t={},u=[],v=[];if(this.lnMod=0,d&&(f=d.autoSize||!1,g=this.printHeaders=d.printHeaders||!0,h=d.autoStretch||!0),!b)throw"No data for PDF table";if(void 0===c||null===c)q=this.getKeys(b[0]);else if(c[0]&&"string"!=typeof c[0])for(i=0,j=c.length;i<j;i+=1)e=c[i],q.push(e.name),r.push(e.prompt);else q=c;if(d.autoSize)for(p=function(a){return a[e]},i=0,j=q.length;i<j;i+=1){for(e=q[i],s[e]=b.map(p),u.push(this.getTextDimensions(r[i]||e).w),l=s[e],m=0,j=l.length;m<j;m+=1)k=l[m],u.push(this.getTextDimensions(k).w);t[e]=a.arrayMax(u)}if(d.printHeaders){for(i=0,j=q.length;i<j;i+=1)e=q[i],v.push([10,10,t[e],25,String(r.length?r[i]:e)]);this.setTableHeaderRow(v),this.printHeaderRow(1)}for(i=0,j=b.length;i<j;i+=1)for(n=b[i],m=0,o=q.length;m<o;m+=1)e=q[m],this.cell(10,10,t[e],25,String(n[e]),i+2);return this},a.setTableHeaderRow=function(a){this.tableHeaderRow=a},a.printHeaderRow=function(a){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var b,c,d,e;for(this.printingHeaderRow=!0,d=0,e=this.tableHeaderRow.length;d<e;d+=1)b=this.tableHeaderRow[d],c=[].concat(b),this.cell.apply(this,c.concat(a));this.printingHeaderRow=!1}}(pdfDataExport.API),function(a){"use strict";var b=a.getCharWidthsArray=function(a,b){b||(b={});var c,d,e,f=b.widths?b.widths:this.internal.getFont().metadata.Unicode.widths,g=f.fof?f.fof:1,h=b.kerning?b.kerning:this.internal.getFont().metadata.Unicode.kerning,i=h.fof?h.fof:1,j=0,k=f[0]||g,l=[];for(c=0,d=a.length;c<d;c++)e=a.charCodeAt(c),l.push((f[e]||k)/g+(h[e]&&h[e][j]||0)/i),j=e;return l},c=function(a){for(var b=a.length,c=0;b;)b--,c+=a[b];return c},d=(a.getStringUnitWidth=function(a,d){return c(b.call(this,a,d))},function(a,b,c,d){for(var e=[],f=0,g=a.length,h=0;f!==g&&h+b[f]<c;)h+=b[f],f++;e.push(a.slice(0,f));var i=f;for(h=0;f!==g;)h+b[f]>d&&(e.push(a.slice(i,f)),h=0,i=f),h+=b[f],f++;return i!==f&&e.push(a.slice(i,f)),e}),e=function(a,e,f){f||(f={});var g,h,i,j,k,l=b(" ",f)[0],m=a.split(" "),n=[],o=[n],p=f.textIndent||0,q=0,r=0;for(i=0,j=m.length;i<j;i++)if(g=m[i],h=b(g,f),r=c(h),p+q+r>e){if(r>e){for(k=d(g,h,e-(p+q),e),n.push(k.shift()),n=[k.pop()];k.length;)o.push([k.shift()]);r=c(h.slice(g.length-n[0].length))}else n=[g];o.push(n),p=r,q=l}else n.push(g),p+=q+r,q=l;var s=[];for(i=0,j=o.length;i<j;i++)s.push(o[i].join(" "));return s};a.splitTextToSize=function(a,b,c){c||(c={});var d,f=c.fontSize||this.internal.getFontSize(),g=function(a){var b={0:1},c={};if(a.widths&&a.kerning)return{widths:a.widths,kerning:a.kerning};var d=this.internal.getFont(a.fontName,a.fontStyle),e="Unicode";return d.metadata[e]?{widths:d.metadata[e].widths||b,kerning:d.metadata[e].kerning||c}:{widths:b,kerning:c}}.call(this,c);d=a.match(/[\n\r]/)?a.split(/\r\n|\r|\n/g):[a];var h=1*this.internal.scaleFactor*b/f;g.textIndent=c.textIndent?1*c.textIndent*this.internal.scaleFactor/f:0;var i,j,k=[];for(i=0,j=d.length;i<j;i++)k=k.concat(e(d[i],h,g));return k}}(pdfDataExport.API),function(a){"use strict";var b="addImage_",c=function(a){var b,c;if(255===!a.charCodeAt(0)||216===!a.charCodeAt(1)||255===!a.charCodeAt(2)||224===!a.charCodeAt(3)||!a.charCodeAt(6)==="J".charCodeAt(0)||!a.charCodeAt(7)==="F".charCodeAt(0)||!a.charCodeAt(8)==="I".charCodeAt(0)||!a.charCodeAt(9)==="F".charCodeAt(0)||0===!a.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var d=256*a.charCodeAt(4)+a.charCodeAt(5),e=4,f=a.length;e<f;){if(e+=d,255!==a.charCodeAt(e))throw new Error("getJpegSize could not find the size of the image");if(192===a.charCodeAt(e+1))return c=256*a.charCodeAt(e+5)+a.charCodeAt(e+6),b=256*a.charCodeAt(e+7)+a.charCodeAt(e+8),[b,c];e+=2,d=256*a.charCodeAt(e)+a.charCodeAt(e+1)}},d=function(a){var b=this.internal.newObject(),c=this.internal.write,d=this.internal.putStream;if(a.n=b,c("<</Type /XObject"),c("/Subtype /Image"),c("/Width "+a.w),c("/Height "+a.h),"Indexed"===a.cs?c("/ColorSpace [/Indexed /DeviceRGB "+(a.pal.length/3-1)+" "+(b+1)+" 0 R]"):(c("/ColorSpace /"+a.cs),"DeviceCMYK"===a.cs&&c("/Decode [1 0 1 0 1 0 1 0]")),c("/BitsPerComponent "+a.bpc),"f"in a&&c("/Filter /"+a.f),"dp"in a&&c("/DecodeParms <<"+a.dp+">>"),"trns"in a&&a.trns.constructor==Array)for(var e="",f=0;f<a.trns.length;f++)e+=a[e][f]+" "+a.trns[f]+" ",c("/Mask ["+e+"]");"smask"in a&&c("/SMask "+(b+1)+" 0 R"),c("/Length "+a.data.length+">>"),d(a.data),c("endobj")},e=function(){var a=this.internal.collections[b+"images"];for(var c in a)d.call(this,a[c])},f=function(){var a,c=this.internal.collections[b+"images"],d=this.internal.write;for(var e in c)a=c[e],d("/I"+a.i,a.n,"0","R")};a.addImage=function(a,d,g,h,i,j){if("object"==typeof a&&1===a.nodeType){var k=document.createElement("canvas");k.width=a.clientWidth,k.height=a.clientHeight;var l=k.getContext("2d");if(!l)throw"addImage requires canvas to be supported by browser.";l.drawImage(a,0,0,k.width,k.height),a=k.toDataURL("image/jpeg"),d="JPEG"}if("JPEG"!==d.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+d+"'");var m,n=this.internal.collections[b+"images"],o=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===a.substring(0,23)&&(a=atob(a.replace("data:image/jpeg;base64,",""))),n?m=Object.keys?Object.keys(n).length:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b}(n):(m=0,this.internal.collections[b+"images"]=n={},this.internal.events.subscribe("putResources",e),
this.internal.events.subscribe("putXobjectDict",f));var q=c(a),r={w:q[0],h:q[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:m,data:a};return n[m]=r,i||j||(i=-96,j=-96),i<0&&(i=-1*r.w*72/i/this.internal.scaleFactor),j<0&&(j=-1*r.h*72/j/this.internal.scaleFactor),0===i&&(i=j*r.w/r.h),0===j&&(j=i*r.h/r.w),this.internal.write("q",o(i),"0 0",o(j),o(g),p(h+j),"cm /I"+r.i,"Do Q"),this}}(pdfDataExport.API),function(a){"use strict";var b=function(a){for(var b="0123456789abcdef",c="klmnopqrstuvwxyz",d={},e=0;e<c.length;e++)d[c[e]]=b[e];var f,g,h,i,j,k={},l=1,m=k,n=[],o="",p="",q=a.length-1;for(e=1;e!=q;)j=a[e],e+=1,"'"==j?g?(i=g.join(""),g=f):g=[]:g?g.push(j):"{"==j?(n.push([m,i]),m={},i=f):"}"==j?(h=n.pop(),h[0][h[1]]=m,i=f,m=h[0]):"-"==j?l=-1:i===f?d.hasOwnProperty(j)?(o+=d[j],i=parseInt(o,16)*l,l=1,o=""):o+=j:d.hasOwnProperty(j)?(p+=d[j],m[i]=parseInt(p,16)*l,l=1,i=f,p=""):p+=j;return k},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:b("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},e={Unicode:{"Courier-Oblique":b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":b("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":b("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":b("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:b("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":b("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":b("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":b("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":b("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":b("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFonts",function(a){var b,c,f,g,h,i="Unicode";for(c in a.fonts)a.fonts.hasOwnProperty(c)&&(b=a.fonts[c],f=e[i][b.PostScriptName],f&&(g=b.metadata[i]?b.metadata[i]:b.metadata[i]={},g.widths=f.widths,g.kerning=f.kerning),h=d[i][b.PostScriptName],h&&(g=b.metadata[i]?b.metadata[i]:b.metadata[i]={},g.encoding=h,h.codePages&&h.codePages.length&&(b.encoding=h.codePages[0])))}])}(pdfDataExport.API);var saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(a){"use strict";var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=a.URL||a.webkitURL||a,e=$("<a></a>")[0],f="download"in e,g=function(c){var d=b.createEvent("MouseEvents");return d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},h=a.webkitRequestFileSystem,i=a.requestFileSystem||h||a.mozRequestFileSystem,j=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},k="application/octet-stream",l=0,m=[],n=function(){for(var a=m.length;a--;){var b=m[a];"string"==typeof b?d.revokeObjectURL(b):b.remove()}m.length=0},o=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){j(f)}}},p=function(b,d){var j,n,p,q=this,r=b.type,s=!1,t=function(){var a=c().createObjectURL(b);return m.push(a),a},u=function(){o(q,"writestart progress write writeend".split(" "))},v=function(){!s&&j||(j=t(b)),n&&(n.location.href=j),q.readyState=q.DONE,u()},w=function(a){return function(){if(q.readyState!==q.DONE)return a.apply(this,arguments)}},x={create:!0,exclusive:!1};return q.readyState=q.INIT,d||(d="download"),f&&(j=t(b),e.href=j,e.download=d,g(e))?(q.readyState=q.DONE,void u()):(a.chrome&&r&&r!==k&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,k),s=!0),h&&"download"!==d&&(d+=".download"),n=r===k||h?a:a.open(),i?(l+=b.size,void i(a.TEMPORARY,l,w(function(a){a.root.getDirectory("saved",x,w(function(a){var c=function(){a.getFile(d,x,w(function(a){a.createWriter(w(function(c){c.onwriteend=function(b){n.location.href=a.toURL(),m.push(a),q.readyState=q.DONE,o(q,"writeend",b)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&v()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),v)}),v)};a.getFile(d,{create:!1},w(function(a){a.remove(),c()}),w(function(a){a.code===a.NOT_FOUND_ERR?c():v()}))}),v)}),v)):void v())},q=p.prototype,r=function(a,b){return new p(a,b)};return q.abort=function(){var a=this;a.readyState=a.DONE,o(a,"abort")},q.readyState=q.INIT=0,q.WRITING=1,q.DONE=2,q.error=q.onwritestart=q.onprogress=q.onwrite=q.onabort=q.onerror=q.onwriteend=null,a.addEventListener&&a.addEventListener("unload",n,!1),r}(self);if(function(a){"use strict";a.output=function(a,b){return this.internal.output(a,b)}}(pdfDataExport.API),function(a){"use strict";a.jqx.timeSpan=function(){var b={ticksPerMillisecond:1e4,millisecondsPerTick:1e-4,ticksPerSecond:1e7,secondsPerTick:1e-7,ticksPerMinute:6e8,minutesPerTick:1/6e8,ticksPerHour:36e9,hoursPerTick:1/36e9,ticksPerDay:864e9,daysPerTick:1/864e9,millisPerSecond:1e3,millisPerMinute:6e4,millisPerHour:36e5,millisPerDay:864e5,_ticks:0};a.extend(!0,this,b);var c=this;if(c.ticks=function(){return c._ticks},c.days=function(){return parseInt(c._ticks/c.ticksPerDay)},c.timeToMS=function(a,b,d,e){var f=3600*a+60*b+d+e/1e3;return parseInt(f*c.ticksPerSecond)},c.hours=function(){return parseInt(c._ticks/c.ticksPerHour)%24},c.milliseconds=function(){return parseInt(c._ticks/c.ticksPerMillisecond)%1e3},c.minutes=function(){return parseInt(c._ticks/c.ticksPerMinute)%60},c.seconds=function(){return parseInt(c._ticks/c.ticksPerSecond)%60},c.totalDays=function(){return parseInt(c._ticks*c.daysPerTick)},c.totalHours=function(){return parseInt(c._ticks*c.hoursPerTick)},c.totalMilliseconds=function(){var a=c._ticks*c.millisecondsPerTick;return parseInt(a)},c.totalMinutes=function(){return parseInt(c._ticks*c.minutesPerTick)},c.totalSeconds=function(){return parseInt(c._ticks*c.secondsPerTick)},1===arguments.length)c._ticks=arguments[0];else if(3===arguments.length)c._ticks=c.timeToMS(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3],h=0,i=1e3*(3600*d*24+3600*e+60*f+g)+h;c._ticks=i*c.ticksPerMillisecond}else if(5===arguments.length){var d=arguments[0],e=arguments[1],f=arguments[2],g=arguments[3],h=arguments[4],i=1e3*(3600*d*24+3600*e+60*f+g)+h;c._ticks=i*c.ticksPerMillisecond}return c.add=function(b){var d=c._ticks+b._ticks,e=new a.jqx.timeSpan(d);return e},c.substract=function(b){var c=_ticks-b._ticks;return new a.jqx.timeSpan(c)},c.duration=function(){return c._ticks>=0?new a.jqx.timeSpan(c._ticks):new a.jqx.timeSpan((-c._ticks))},c.equals=function(a){return c._ticks==a._ticks},c.valueOf=function(){return c._ticks},c.compare=function(a,b){return a._ticks>b._ticks?1:a._ticks<b._ticks?-1:0},c.interval=function(b,d){var e=b*d,f=e+(b>=0?.5:-.5);return new a.jqx.timeSpan(f*c.ticksPerMillisecond)},c.fromDays=function(a){return c.interval(a,c.millisPerDay)},c.fromHours=function(a){return c.interval(a,c.millisPerHour)},c.fromMilliseconds=function(a){return c.interval(a,1)},c.fromMinutes=function(a){return c.interval(a,c.millisPerMinute)},c.fromSeconds=function(a){return c.interval(a,c.millisPerSecond)},c.fromTicks=function(b){return new a.jqx.timeSpan(b)},c};var b=[{id:"Local",offset:0,offsetHours:0,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",
supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],c=[0,31,59,90,120,151,181,212,243,273,304,334,365],d=[0,31,60,91,121,152,182,213,244,274,305,335,366],e=1461,f=36524,g=146097,h=584388,i=693593,j=3652059,k=3155378976e9,l=3155378976e5;a.jqx.date=function(){var m=this;if(m.ticksPerMillisecond=1e4,m.millisecondsPerTick=1e-4,m.ticksPerSecond=1e7,m.secondsPerTick=1e-7,m.ticksPerMinute=6e8,m.minutesPerTick=1/6e8,m.ticksPerHour=36e9,m.hoursPerTick=1/36e9,m.ticksPerDay=864e9,m.daysPerTick=1/864e9,m.millisPerSecond=1e3,m.millisPerMinute=6e4,m.millisPerHour=36e5,m.millisPerDay=864e5,m.daysPerYear=365,m.daysPer4Years=e,m.daysPer100Years=f,m.daysPer400Years=g,m.daysTo1601=h,m.daysTo1899=i,m.daysTo10000=j,m.minTicks=0,m.maxTicks=k,m.maxMillis=l,m.datePartYear=0,m.datePartDayOfYear=1,m.datePartMonth=2,m.datePartDay=3,m.daysToMonth365=c,m.daysToMonth366=d,m.minValue=new Date(0),m.maxValue=new Date(3155378976e9),m.ticksMask=0x4000000000000000,m.flagsMask=0xc000000000000000,m.localMask=0x8000000000000000,m.ticksCeiling=0x4000000000000000,m.kindUnspecified=0,m.kindUtc=0x4000000000000000,m.kindLocal=0x8000000000000000,m.kindLocalAmbiguousDst=0xc000000000000000,m.kindShift=62,m.regexTrim=/^\s+|\s+$/g,m.regexInfinity=/^[+-]?infinity$/i,m.regexHex=/^0x[a-f0-9]+$/i,m.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,m.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},m.dateData=0,m.timeZone=null,m.timeZones=b,m.internalMS=function(){return m.dateData},m.getDatePart=function(a){var b=m.internalMS(),c=parseInt(b/m.millisPerDay),d=parseInt(c/m.daysPer400Years);c-=d*m.daysPer400Years;var e=parseInt(c/m.daysPer100Years);4==e&&(e=3),c-=e*m.daysPer100Years;var f=parseInt(c/m.daysPer4Years);c-=f*m.daysPer4Years;var g=parseInt(c/m.daysPerYear);if(4==g&&(g=3),a==m.datePartYear)return parseInt(400*d+100*e+4*f+g+1);if(c-=g*m.daysPerYear,a==m.datePartDayOfYear)return parseInt(c+1);for(var h=3==g&&(24!=f||3==e),i=h?m.daysToMonth366:m.daysToMonth365,j=c>>6;c>=i[j];)j++;return a==m.datePartMonth?parseInt(j):parseInt(c-i[j-1]+1)},m.dayOfWeek=function(){var a=m.dateData,b=parseInt(a/m.millisPerDay+1)%7;return b},m.dayOfYear=function(){return m.getDatePart(m.datePartDayOfYear)},m.weekOfYear=function(a){var b=m.toDate(),c=a||m.calendar.firstDay,d=new Date(b.getFullYear(),0,1),e=d.getDay()-c;e=e>=0?e:e+7;var f,g=Math.floor((b.getTime()-d.getTime()-6e4*(b.getTimezoneOffset()-d.getTimezoneOffset()))/864e5)+1;return e<4?(f=Math.floor((g+e-1)/7)+1,f>52&&(nYear=new Date(b.getFullYear()+1,0,1),nday=nYear.getDay()-c,nday=nday>=0?nday:nday+7,f=nday<4?1:53)):f=Math.floor((g+e-1)/7),f},m.subtract=function(b){return new a.jqx.timeSpan(m.dateData*m.ticksPerMillisecond-b.dateData*m.ticksPerMillisecond)},m.dateToMS=function(a,b,c){if(a>=1&&a<=9999&&b>=1&&b<=12){a=parseInt(a);var d=m.isLeapYear(a)?m.daysToMonth366:m.daysToMonth365;if(c>=1&&c<=d[b]-d[b-1]){var e=a-1,f=365*e+parseInt(e/4)-parseInt(e/100)+parseInt(e/400)+d[b-1]+c-1;return f*m.millisPerDay}}},m.isLeapYear=function(a){if(a<1||a>9999)throw new Error("Year out of Range");return a%4==0&&(a%100!=0||a%400==0)},m.timeToMS=function(a,b,c,d){if(a>=0&&a<24&&b>=0&&b<60&&c>=0&&c<60){var e=parseInt(3600*a+60*b+c);return d>0&&d<1e3?e*m.millisPerSecond+d:e*m.millisPerSecond}},m.daysInMonth=function(a,b){if(b<1||b>12)throw new Error("Month out of Range");var c=m.isLeapYear(a)?m.daysToMonth366:m.daysToMonth365;return c[b]-c[b-1]},m.arrayIndexOf=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},m.startsWith=function(a,b){return 0===a.indexOf(b)},m.endsWith=function(a,b){return a.substr(a.length-b.length)===b},m.trim=function(a){return(a+"").replace(m.regexTrim,"")},m.expandFormat=function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},m.getEra=function(a,b){if(!b)return 0;if("string"==typeof a)return 0;for(var c,d=a.getTime(),e=0,f=b.length;e<f;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},m.toUpper=function(a){return a.split(" ").join(" ").toUpperCase()},m.toUpperArray=function(a){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=m.toUpper(a[c]);return b},m.getEraYear=function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},m.getDayIndex=function(a,b,c){var d,e=a.days,f=a._upperDays;return f||(a._upperDays=f=[m.toUpperArray(e.names),m.toUpperArray(e.namesAbbr),m.toUpperArray(e.namesShort)]),b=b.toUpperCase(),c?(d=m.arrayIndexOf(f[1],b),d===-1&&(d=m.arrayIndexOf(f[2],b))):d=m.arrayIndexOf(f[0],b),d},m.getMonthIndex=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,f=a._upperMonths,g=a._upperMonthsGen;f||(a._upperMonths=f=[m.toUpperArray(d.names),m.toUpperArray(d.namesAbbr)],a._upperMonthsGen=g=[m.toUpperArray(e.names),m.toUpperArray(e.namesAbbr)]),b=m.toUpper(b);var h=m.arrayIndexOf(c?f[1]:f[0],b);return h<0&&(h=m.arrayIndexOf(c?g[1]:g[0],b)),h},m.appendPreOrPostMatch=function(a,b){for(var c=0,d=!1,e=0,f=a.length;e<f;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},m.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},m.tryparseDate=function(b,c,d){if(void 0==c||null==c)c=m.calendar;else if(null!=c&&c&&"string"===a.type(c)&&Globalize){var e=Globalize.cultures[c];e&&(c=e.calendar)}if(void 0!=d){if("array"===a.type(d))for(var f=0;f<d.length;f++){var g=m.parseDate(b,d[f],c);if(g)return g}var g=m.parseDate(b,d,c);if(g)return g}if(""==b)return null;if(null==b||b.substring||(b=b.toString()),null!=b&&"/Date("==b.substring(0,6)){var h=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,i=new Date((+b.replace(/\/Date\((\d+)\)\//,"$1")));if("Invalid Date"==i){var j=b.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),i=null;j&&(i=new Date(1*j[1]+36e5*j[2]+6e4*j[3]))}if(null==i||"Invalid Date"==i||isNaN(i)){var k=h.exec(b);if(k){var l=new Date(parseInt(k[1]));if(k[2]){var n=parseInt(k[3]);"-"===k[2]&&(n=-n);var o=l.getUTCMinutes();l.setUTCMinutes(o-n)}if(!isNaN(l.valueOf()))return l}}return i}var p={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(var q in p)if(i=m.parseDate(b,p[q],c))return i;var r=c.patterns;for(q in r)if(i=m.parseDate(b,r[q],c)){if("ISO"==q){var s=m.parseDate(b,r.ISO2,c);if(s)return s}return i}if("string"===a.type(b)){b=m.trim(b);var t=[":","/","-"," ",","],u=function(a,b,c){return c.replace(new RegExp(a,"g"),b)};b=u(", ",",",b);var v="",w=b;b.indexOf(":")>=0?(v=b.substring(b.indexOf(":")-2),v=m.trim(v),w=b.substring(0,b.indexOf(":")-2)):b.toUpperCase().indexOf("AM")>=0?(v=b.substring(b.toUpperCase().indexOf("AM")-2),v=m.trim(v),w=b.substring(0,b.toUpperCase().indexOf("AM")-2)):b.toUpperCase().indexOf("PM")>=0&&(v=b.substring(b.toUpperCase().indexOf("PM")-2),v=m.trim(v),w=b.substring(0,b.toUpperCase().indexOf("PM")-2));var x=new Date,y=!1;if(w){for(var f=0;f<t.length;f++)if(w.indexOf(t[f])>=0){R=w.split(t[f]);break}for(var z=new Array,A=new Array,B=new Array,C=null,D=null,f=0;f<R.length;f++){var E=R[f],F=m.parseDate(E,"d",c)||m.parseDate(E,"dd",c)||m.parseDate(E,"ddd",c)||m.parseDate(E,"dddd",c);if(F&&(z.push(F.getDate()),E.length>2)){C=f;break}}for(var f=0;f<R.length;f++){var E=R[f],G=m.parseDate(E,"M",c)||m.parseDate(E,"MM",c)||m.parseDate(E,"MMM",c)||m.parseDate(E,"MMMM",c);if(G){if(void 0!=C&&C==f)continue;if(A.push(G.getMonth()),E.length>2){D=f;break}}}for(var f=0;f<R.length;f++){var E=R[f],H=m.parseDate(E,"yyyy",c);if(H){if(void 0!=C&&C==f)continue;if(void 0!=D&&D==f)continue;B.push(H.getFullYear())}}for(var I=new Array,J=0;J<z.length;J++)for(var j=0;j<A.length;j++)for(var K=0;K<B.length;K++){var l=new Date(B[K],A[j],z[J]);B[K]<1970&&l.setFullYear(B[K]),NaN!=l.getTime()&&I.push(l)}I.length>0&&(x=I[0],y=!0)}if(v){var L=v.indexOf(":")>=0?v.split(":"):v,M=m.parseDate(v,"h:mm tt",c)||m.parseDate(v,"HH:mm:ss.fff",c)||m.parseDate(v,"HH:mm:ss.ff",c)||m.parseDate(v,"h:mm:ss tt",c)||m.parseDate(v,"HH:mm:ss.tttt",c)||m.parseDate(v,"HH:mm:ss",c)||m.parseDate(v,"HH:mm",c)||m.parseDate(v,"HH",c),N=0,O=0,P=0,Q=0;M&&NaN!=M.getTime()?(N=M.getHours(),O=M.getMinutes(),P=M.getSeconds(),Q=M.getMilliseconds()):(1==L.length&&(N=parseInt(L[0])),2==L.length&&(N=parseInt(L[0]),O=parseInt(L[1])),3==L.length&&(N=parseInt(L[0]),O=parseInt(L[1]),L[2].indexOf(".")>=0?(P=parseInt(L[2].toString().split(".")[0]),Q=parseInt(L[2].toString().split(".")[1])):P=parseInt(L[2])),4==L.length&&(N=parseInt(L[0]),O=parseInt(L[1]),P=parseInt(L[2]),Q=parseInt(L[3]))),!x||isNaN(N)||isNaN(O)||isNaN(P)||isNaN(Q)||(x.setHours(N,O,P,Q),y=!0)}if(y)return x}if(null!=b){for(var s=null,R=[":","/","-"],S=!0,E=0;E<R.length;E++)b.indexOf(R[E])!=-1&&(S=!1);if(S){var T=new Number(b);if(!isNaN(T))return new Date(T)}}return null},m.getParseRegExp=function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=m.expandFormat(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=m.getTokenRegExp();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=m.appendPreOrPostMatch(l,g),j%2)g.push(e[0]);else{var n,o=e[0],p=o.length;switch(o){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":n="(\\D+)";break;case"tt":case"t":n="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":n="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":n="(\\d\\d?)";break;case"zzz":n="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":n="([+-]?\\d\\d?)";break;case"/":n="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+o+"'."}n&&g.push(n),h.push(e[0])}}m.appendPreOrPostMatch(f.slice(i),g),g.push("$");var q=g.join("").replace(/\s+/g,"\\s+"),r={regExp:q,groups:h};return c[b]=r},m.outOfRange=function(a,b,c){return a<b||a>c},m.expandYear=function(a,b){var c=new Date,d=m.getEra(c);if(b<100){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=m.getEraYear(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},m.parseDate=function(a,b,c){void 0!=c&&null!=c||(c=m.calendar),a=m.trim(a);var d=c,e=m.getParseRegExp(d,b),f=new RegExp(e.regExp).exec(a);if(null===f)return null;for(var g,h=e.groups,i=null,j=null,k=null,l=null,n=null,o=0,p=0,q=0,r=0,s=null,t=!1,u=0,v=h.length;u<v;u++){var w=f[u+1];if(w){var x=h[u],y=x.length,z=parseInt(w,10);switch(x){case"dd":case"d":if(l=z,m.outOfRange(l,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(k=m.getMonthIndex(d,w,3===y),m.outOfRange(k,0,11))return null;break;case"M":case"MM":if(k=z-1,m.outOfRange(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(j=y<4?m.expandYear(d,z):z,m.outOfRange(j,0,9999))return null;break;case"h":case"hh":if(o=z,12===o&&(o=0),m.outOfRange(o,0,11))return null;break;case"H":case"HH":if(o=z,m.outOfRange(o,0,23))return null;break;case"m":case"mm":if(p=z,m.outOfRange(p,0,59))return null;break;case"s":case"ss":if(q=z,m.outOfRange(q,0,59))return null;break;case"tt":case"t":if(t=d.PM&&(w===d.PM[0]||w===d.PM[1]||w===d.PM[2]),!t&&(!d.AM||w!==d.AM[0]&&w!==d.AM[1]&&w!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(r=z*Math.pow(10,3-y),m.outOfRange(r,0,999))return null;break;case"ddd":case"dddd":if(n=m.getDayIndex(d,w,3===y),m.outOfRange(n,0,6))return null;break;case"zzz":var A=w.split(/:/);if(2!==A.length)return null;if(g=parseInt(A[0],10),m.outOfRange(g,-12,13))return null;var B=parseInt(A[1],10);if(m.outOfRange(B,0,59))return null;s=60*g+(m.startsWith(w,"-")?-B:B);break;case"z":case"zz":if(g=z,m.outOfRange(g,-12,13))return null;s=60*g;break;case"g":case"gg":var C=w;if(!C||!d.eras)return null;C=trim(eraNathat.toLowerCase());for(var D=0,E=d.eras.length;D<E;D++)if(C===d.eras[D].nathat.toLowerCase()){i=D;break}if(null===i)return null}}}var F,G=new Date,H=d.convert;if(F=G.getFullYear(),null===j?j=F:d.eras&&(j+=d.eras[i||0].offset),null===k&&(k=0),null===l&&(l=1),H){if(G=H.toGregorian(j,k,l),null===G)return null}else{if(G.setFullYear(j,k,l),G.getDate()!==l)return null;if(null!==n&&G.getDay()!==n)return null}if(t&&o<12&&(o+=12),G.setHours(o,p,q,r),null!==s){var I=G.getMinutes()-(s+G.getTimezoneOffset());G.setHours(G.getHours()+parseInt(I/60,10),I%60)}return G},m.toString=function(b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=o[b-2]+d,c.substr(c.length-b,b)):c=d}function e(a,b){if(n)return n[b];if(void 0!=a.getMonth)switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if(void 0===b&&(b="yyyy-MM-dd HH:mm:ss"),a.jqx.date.cache&&a.jqx.date.cache[m.dateData+b])return a.jqx.date.cache[m.dateData+b];if(c&&"string"===a.type(c)&&Globalize){var f=Globalize.cultures[c];f&&(c=f.calendar)}var g=m.toDate();if(void 0!=c&&null!=c||(c=m.calendar),"string"==typeof g)return g;g.toString()+"_"+b;if(!b||!b.length||"i"===b){var h;return h=m.formatDate(g,c.patterns.F,c)}var i=c.eras,j="s"===b;b=m.expandFormat(c,b),h=[];for(var k,l,n,o=["0","00","000"],p=0,q=m.getTokenRegExp();;){var r=q.lastIndex,s=q.exec(b),t=b.slice(r,s?s.index:b.length);if(p+=m.appendPreOrPostMatch(t,h),!s)break;if(p%2)h.push(s[0]);else{var u=s[0],v=u.length;switch(u){case"ddd":case"dddd":var w=3===v?c.days.namesAbbr:c.days.names;h.push(w[g.getDay()]);break;case"d":case"dd":l=!0,h.push(d(e(g,2),v));break;case"MMM":case"MMMM":var x=e(g,1);h.push(c.months[3===v?"namesAbbr":"names"][x]);break;case"M":case"MM":h.push(d(e(g,1)+1,v));break;case"y":case"yy":case"yyyy":x=m.getEraYear(g,c,m.getEra(g,i),j),v<4&&(x%=100),h.push(d(x,v));break;case"h":case"hh":k=g.getHours()%12,0===k&&(k=12),h.push(d(k,v));break;case"H":case"HH":h.push(d(g.getHours(),v));break;case"m":case"mm":h.push(d(g.getMinutes(),v));break;case"s":case"ss":h.push(d(g.getSeconds(),v));break;case"t":case"tt":x=g.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",h.push(1===v?x.charAt(0):x);break;case"f":case"ff":case"fff":h.push(d(g.getMilliseconds(),3).substr(0,v));break;case"z":case"zz":k=g.getTimezoneOffset()/60,h.push((k<=0?"+":"-")+d(Math.floor(Math.abs(k)),v));break;case"zzz":k=g.getTimezoneOffset()/60,h.push((k<=0?"+":"-")+d(Math.floor(Math.abs(k)),2)+":"+d(Math.abs(g.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&h.push(c.eras[m.getEra(g,i)].name);break;case"/":h.push(c["/"]);break;default:throw"Invalid date format pattern '"+u+"'."}}}var y=h.join("");return a.jqx.date.cache||(a.jqx.date.cache=new Array),a.jqx.date.cache[m.dateData+b]=y,y},m.add=function(b,c,d){var e=m.internalMS();if(void 0===c){if(d===!1)return m.dateData=e+parseInt(b._ticks/m.ticksPerMillisecond),m;var f=new a.jqx.date(e+parseInt(b._ticks/m.ticksPerMillisecond));return f.timeZone=m.timeZone,f}var g=b*c;if(g<=-m.maxMillis||g>=m.maxMillis)throw new Error("Out of Range");if(d===!1)return m.dateData=e+g,m;var f=new a.jqx.date(e+g);return f.timeZone=m.timeZone,f},m.addDays=function(a,b){return m.add(a,m.millisPerDay,b)},m.clone=function(){var b=new a.jqx.date(m.dateData);return b.timeZone=m.timeZone,b},m.clearTime=function(){var b=m.month(),c=m.year(),d=m.day(),e=new a.jqx.date(c,b,d,0,0,0,0);return e.timeZone=m.timeZone,e},m.addHours=function(a,b){return m.add(a,m.millisPerHour,b)},m.addMilliseconds=function(a,b){return m.add(a,1,b)},m.addMinutes=function(a,b){return m.add(a,m.millisPerMinute,b)},m.addMonths=function(b,c){if(b<-12e4||b>12e4)throw new Error("Invalid Months Value");var d=parseInt(m.getDatePart(m.datePartYear)),e=parseInt(m.getDatePart(m.datePartMonth)),f=parseInt(m.getDatePart(m.datePartDay)),g=e-1+b;if(g>=0?(e=g%12+1,d+=g/12):(e=12+(g+1)%12,d+=(g-11)/12),d=parseInt(d),d<1||d>9999)throw new Error("Year out of range");var h=m.daysInMonth(d,e);if(f>h&&(f=h),c===!1)return m.dateData=m.dateToMS(d,e,f)+m.internalMS()%m.millisPerDay,m;var i=new a.jqx.date(m.dateToMS(d,e,f)+m.internalMS()%m.millisPerDay);return i.timeZone=m.timeZone,i},m.addSeconds=function(a,b){return m.add(a,m.millisPerSecond,b)},m.addYears=function(a,b){return m.addMonths(12*a,b)},m.getTimeZoneOffset=function(){var a=new Date,b=new Date(a.getFullYear(),0,1),c=new Date(a.getFullYear(),6,1),d=a.getTimezoneOffset()<Math.max(b.getTimezoneOffset(),c.getTimezoneOffset());return{offset:-(a.getTimezoneOffset()/60),dst:+d}},m.isInDaylightSavingTime=function(){var a=new Date,b=new Date(a.getFullYear(),0,1),c=new Date(a.getFullYear(),6,1);return m.date().getTimezoneOffset()<Math.max(b.getTimezoneOffset(),c.getTimezoneOffset())},m.supportsDaylightSavingTime=function(){var a=new Date,b=new Date(a.getFullYear(),0,1),c=new Date(a.getFullYear(),6,1);return b.getTimezoneOffset()!=c.getTimezoneOffset()},m.date=function(){var b=m.month(),c=m.year(),d=m.day(),e=new a.jqx.date(c,b,d);return e.timeZone=m.timeZone,e},m.isWeekend=function(){return 0==m.dayOfWeek()||6==m.dayOfWeek()},m.toDate=function(a){var b=m.month(),c=m.year(),d=m.day(),e=m.hour(),f=m.minute(),g=m.second(),h=m.millisecond(),i=new Date(c,b-1,d);if(c<1970&&i.setFullYear(c),i.setHours(e,f,g,h),a){var j=m.timeZones.filter(function(b){return b.id==a});if(j.length){var k=j[0].offset;"Local"==a&&(k=-i.getTimezoneOffset());var l=i.getTime(),n=60*i.getTimezoneOffset()*1e3;if(m.timeZone){var o=m.timeZones.filter(function(a){return a.id==m.timeZone});if(o.length)var n=60*-o[0].offset*1e3}var p=l+n;i=new Date(p+6e4*k)}}return i},m.toTimeZone=function(b){var c=b;null==c&&(c="Local");var d=m.toDate(c),e=new a.jqx.date(d);return e.timeZone=b,e},m.day=function(){return m.getDatePart(m.datePartDay)},m.month=function(){return m.getDatePart(m.datePartMonth)},m.year=function(){return m.getDatePart(m.datePartYear)},m.millisecond=function(){return parseInt(m.internalMS()%1e3)},m.hour=function(){return parseInt(m.internalMS()/m.millisPerHour%24)},m.minute=function(){return parseInt(m.internalMS()/m.millisPerMinute%60)},m.second=function(){return parseInt(m.internalMS()/m.millisPerSecond%60)},m.valueOf=function(){return m.dateData},m.equals=function(a){return m.dateData===a.dateData},0===arguments.length){var n=new Date;m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else if(1===arguments.length){void 0==arguments[0]&&(arguments[0]="todayDate");var o="number"==typeof arguments[0]&&isFinite(arguments[0]);if(o||"string"!==a.type(arguments[0]))if("number"==typeof arguments[0])m.dateData=arguments[0];else if("date"==a.type(arguments[0])){var n=arguments[0];m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else m.dateData=arguments[0];else if("today"===arguments[0]){var n=new Date;m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else if("todayDate"===arguments[0]){var n=new Date;n.setHours(0,0,0,0),m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else{var n=m.tryparseDate(arguments[0]);m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}}else if(2===arguments.length){void 0==arguments[0]&&(arguments[0]="todayDate");var o="number"==typeof arguments[0]&&isFinite(arguments[0]);if(o||"string"!==a.type(arguments[0]))if("number"==typeof arguments[0])m.dateData=arguments[0];else if("date"==a.type(arguments[0])){var n=arguments[0];m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else m.dateData=arguments[0];else if("today"===arguments[0]){var n=new Date;m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else if("todayDate"===arguments[0]){var n=new Date;n.setHours(0,0,0,0),m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else{var n=m.tryparseDate(arguments[0]);m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}m.timeZone=arguments[1]}else if(arguments.length>2)if("string"===a.type(arguments[0])){var n=m.tryparseDate(arguments[0],arguments[2],arguments[1]);m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}else{var p=arguments[0],q=arguments[1],r=arguments[2],s=arguments[3],t=arguments[4],u=arguments[5],v=arguments[6];void 0===s&&(s=0),void 0===t&&(t=0),void 0===u&&(u=0),void 0===v&&(v=0),q--;var n=new Date(p,q,r,s,t,u,v);p<1970&&n.setFullYear(p),m.dateData=m.dateToMS(n.getFullYear(),n.getMonth()+1,n.getDate())+m.timeToMS(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())}return m}}(jqxBaseFramework),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments[1],f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),function(a){a.jqx.response=function(){this.defineInstance()},a.jqx.response.prototype={defineInstance:function(){this._handlers=new Array,this.refresh();var b=this;this.layouts=[],this.addHandler(a(document),"scroll.jqxresponse",function(){b.scroll=b.getScroll()})},refresh:function(){this.os=this.getOS(),this.browser=this.getBrowser(),this.device=this.getDevice(),this.viewPort=this.getViewPort(),this.document=this.getDocument(),this.scroll=this.getScroll(),this.media=window.matchMedia||window.msMatchMedia||function(){return{}}},refreshSize:function(){this.viewPort=this.getViewPort(),this.document=this.getDocument()},addHandler:function(a,b,c,d){switch(b){case"mousemove":if(window.addEventListener&&!d)return a[0].addEventListener("mousemove",c,!1),!1}a.on?a.on(b,c):a.bind(b,c)},removeHandler:function(a,b,c){return void 0==b?void(a.off?a.off():a.unbind()):void(void 0==c?a.off?a.off(b):a.unbind(b):a.off?a.off(b,c):a.unbind(b,c))},responsive:function(b){this._counter||(this._counter=0);for(var c=this.getDevice().type,d=a(b.container),e=0;e<d.length;e++){var f=d[e];f.style.position="relative",f.style.clear="both";for(var g=(a(f).width(),a(f).children()),h=0;h<g.length;h++){var i=g[h];i.className;i.style.position="relative",i.style.top="0px",a(i).css("float","left"),i._className=i.className,b.colClass&&a(i).addClass(b.colClass)}}var j=function(){for(var e=0;e<d.length;e++){var f=d[e],h=a(f).width(),i=function(d){for(var e=a(f).children(),g=b.margin,h=b.padding,i=b.colOffsets,j=0,k=0;k<e.length;k++){var l=e[k];l.className=l._className;var m=l._className;b.colClass&&(""!=m?m+=" "+b.colClass:m=b.colClass);var n=d/e.length;if(n=b.colWidths[k]?d*b.colWidths[k]:d/e.length,!b.deviceTypes||b.deviceTypes&&b.deviceTypes.indexOf(c)>=0)for(var o=0;o<b.breakpoints.length;o++){var p=b.breakpoints[o-1],q=b.breakpoints[o];o>0&&p.width>=d&&q.width<d?p.colWidths[k]&&(n=d*p.colWidths[k],p.colClass&&(m=""!=l._className?l._className+" "+p.colClass:p.colClass,l.className=m),p.margin?g=p.margin:(p.margin={left:0,right:0,top:0,bottom:0},g=p.margin),p.padding?h=p.padding:(p.padding={left:0,right:0,top:0,bottom:0},h=p.padding),p.colOffsets?i=p.colOffsets:(p.colOffsets=new Array(e.length),i=p.colOffsets)):d<=q.width&&q.colWidths[k]&&(n=d*q.colWidths[k],q.colClass&&(m=""!=l._className?l._className+" "+q.colClass:q.colClass,l.className=m),q.margin?g=q.margin:(q.margin={left:0,right:0,top:0,bottom:0},g=q.margin),q.padding?h=q.padding:(q.padding={left:0,right:0,top:0,bottom:0},h=q.padding),q.colOffsets?i=q.colOffsets:(q.colOffsets=new Array(e.length),i=q.colOffsets))}l.className=m;var r=n;h&&(void 0==h.left&&(h.left=0),void 0==h.top&&(h.top=0),void 0==h.bottom&&(h.bottom=0),void 0==h.right&&(h.right=0),r-=h.left,r-=h.right,l.style.paddingLeft=h.left+"px",l.style.paddingRight=h.right+"px",l.style.paddingTop=h.top+"px",l.style.paddingBottom=h.bottom+"px"),l.style.marginLeft="0px",l.style.marginRight="0px",l.style.marginTop="0px",l.style.marginBottom="0px",g&&(void 0==g.left&&(g.left=0),void 0==g.top&&(g.top=0),void 0==g.bottom&&(g.bottom=0),void 0==g.right&&(g.right=0),r-=g.left,r-=g.right,l.style.marginRight=g.right+"px",l.style.marginLeft=g.left+"px",l.style.marginTop=g.top+"px",l.style.marginBottom=g.bottom+"px"),j+=r,j>=d-1&&j-d<=5&&(r--,j=0),i&&void 0!=i[k]&&(l.style.marginLeft=parseInt(l.style.marginLeft)+i[k]*d+"px"),l.style.width=r+"px"}},j=g.css("visibility");g.css("visibility","hidden"),i(h);var k=a(f).width();h!=k&&(i(k),a(window).trigger("resize")),g.css("visibility",j)}};if(this.layouts.push({object:b,resize:j}),1==this.layouts.length){var k=this;a(window).on("resize.response"+this._counter,function(){for(var a=0;a<k.layouts.length;a++)k.layouts[a].resize()}),a(window).on("orientationchange.response"+this._counter,function(){for(var a=0;a<k.layouts.length;a++)k.layouts[a].resize()}),a(window).on("orientationchanged.response"+this._counter,function(){for(var a=0;a<k.layouts.length;a++)k.layouts[a].resize()})}for(var e=0;e<this.layouts.length;e++)this.layouts[e].resize()},destroy:function(){if(this.removeHandler(a(window),"resize.jqxresponse"),this.removeHandler(a(document),"scroll.jqxresponse"),this._counter>0)for(var b=0;b<this._counter;b++)a(window).off("resize.response"+b),a(window).off("orientationchange.response"+b),a(window).off("orientationchanged.response"+b);for(var b=0;b<this._handlers.length;b++){var c=this._handlers[b];this.removeHandler(a(c),"mousedown.response"+c[0].id),this.removeHandler(a(c),"touchstart.response"+c[0].id),this.removeHandler(a(c),"mousemove.response"+c[0].id),this.removeHandler(a(c),"touchmove.response"+c[0].id),this.removeHandler(a(c),"mouseup.response"+c[0].id),this.removeHandler(a(c),"touchend.response"+c[0].id)}},resize:function(b){var c=this;this.removeHandler(a(window),"resize.jqxresponse"),this.addHandler(a(window),"resize.jqxresponse",function(d){if(b)if(a.isArray(b))for(var e=0;e<b.length;e++)b[e]();else b();c.refreshSize()}),null==b&&this.removeHandler(a(window),"resize.jqxresponse")},pointerDown:function(b,c){if(b&&c){var d=a.jqx.mobile.isTouchDevice(),e=!0;if(d){var f=a.jqx.mobile.getTouchEventName("touchstart")+".response"+b[0].id;null!=c?this.addHandler(a(b),f,function(b){var d=a.jqx.position(b),f=c(b,d,"touch");return e=!1,setTimeout(function(){e=!0},500),f}):this.removeHandler(a(b),f)}null!=c?this.addHandler(a(b),"mousedown.response"+b[0].id,function(b){var d=a.jqx.position(b);if(e)return c(b,d,"mouse")}):this.removeHandler(a(b),"mousedown.response"+b[0].id),this._handlers.push(b)}},pointerUp:function(b,c){if(b){var d=a.jqx.mobile.isTouchDevice(),e=!0;if(d){var f=a.jqx.mobile.getTouchEventName("touchend")+".response"+b[0].id;null!=c?this.addHandler(a(b),f,function(b){var d=a.jqx.position(b),f=c(b,d,"touch");return e=!1,setTimeout(function(){e=!0},500),f}):this.removeHandler(a(b),f)}null!=c?this.addHandler(a(b),"mouseup.response"+b[0].id,function(b){var d=a.jqx.position(b);if(e)return c(b,d,"mouse")}):this.removeHandler(a(b),"mouseup.response"+b[0].id),this._handlers.push(b)}},pointerMove:function(b,c){if(b){var d=a.jqx.mobile.isTouchDevice();if(d){var e=a.jqx.mobile.getTouchEventName("touchmove")+".response"+b[0].id;null!=c?this.addHandler(a(b),e,function(b){var d=a.jqx.mobile.getTouches(b);if(1==d.length){var e=a.jqx.position(b);return c(b,e,"touch")}}):this.removeHandler(a(b),e)}else null!=c?this.addHandler(a(b),"mousemove.response"+b[0].id,function(b){var d=a.jqx.position(b);return c(b,d,"mouse")}):this.removeHandler(a(b),"mousemove.response"+b[0].id);this._handlers.push(b);
}},isHidden:function(b){return a.jqx.isHidden(a(b))},inViewPort:function(a){var b=this.viewPort;if(a.getBoundingClientRect){var c=a.getBoundingClientRect?a.getBoundingClientRect():{};return c&&c.bottom>=0&&c.top<=b.height&&c.right>=0&&c.left<=b.width}return!1},getScroll:function(){var a={left:window.pageXOffset||document.scrollLeft,top:window.pageYOffset||document.scrollTop};return void 0==a.left&&(a.left=0),void 0==a.top&&(a.top=0),a},getDocument:function(){return{width:a(document).width(),height:a(document).height()}},getViewPort:function(){return{width:a(window).width(),height:a(window).height()}},getTouch:function(){var b="ontouchstart",c=b in window;if(c)return!0;var b="MSPointerDown",c=b in window;return!!c||!!a.jqx.mobile.isWindowsPhone()},getDevice:function(){var a=this.os.name,b=window.location.search.match(/deviceType=(Tablet|Phone)/),c=window.deviceType,d="";return b&&b[1]?d=b[1]:"iPhone"===c?d="Phone":"iPad"===c?d="Tablet":"Android"!=a&&"iOS"!=a&&/Windows|Linux|MacOS|Mac OS|Mac OS X/.test(a)?d="Desktop":"iOS"==a&&navigator.userAgent.toLowerCase().indexOf("ipad")>=0?d="Tablet":"RIMTablet"==a?d="Tablet":"Android"==a?(d=this.os.version&&this.os.version.substring(0,1).indexOf("3")>=0?"Tablet":this.os.version&&this.os.version.substring(0,1).indexOf("4")>=0&&navigator.userAgent.search(/mobile/i)==-1?"Tablet":"Phone",navigator.userAgent.toLowerCase().indexOf("kindle fire")>=0&&(d="Tablet")):d="Phone",/Windows/.test(a)&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?d="Phone":navigator.userAgent.indexOf("Touch")>=0&&(d="Tablet",this.getTouch()||(d="Desktop"))),{type:d,touch:this.getTouch(),width:window.screen.width,height:window.screen.height,availWidth:window.screen.availWidth,availHeight:window.screen.availHeight}},canvas:function(){var a=!1,b=document.createElement("canvas");return b&&b.getContext&&b.getContext("2d")&&(a=!0),a},vml:function(){if(void 0==this._vmlSupport){var a=document.body.appendChild(document.createElement("div"));a.innerHTML='<v:shape id="vml_flag1" adj="1" />';var b=a.firstChild;b.style.behavior="url(#default#VML)",this._vmlSupport=!b||"object"==typeof b.adj,a.parentNode.removeChild(a)}return this._vmlSupport},svg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},getBrowser:function(){var b=navigator.userAgent.toLowerCase(),c="",d=null;if(browserNames={msie:{name:"Internet Explorer",eval:/(msie) ([\w.]+)/.exec(b)},webkit:{name:"Webkit",eval:/(webkit)[ \/]([\w.]+)/.exec(b)},chrome:{name:"Chrome",eval:/(chrome)[ \/]([\w.]+)/.exec(b)},safari:{name:"Safari",eval:/(safari)[ \/]([\w.]+)/.exec(b)},edge:{name:"Edge",eval:/Edge/i.exec(b)},opera:{name:"Opera",eval:/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)},operamobile:{name:"Opera Mobile",eval:/(opera mobi)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(opera tablet)(?:.*version|)[ \/]([\w.]+)/.exec(b)},dolphin:{name:"Dolphin",eval:/(dolphin)[ \/]([\w.]+)/.exec(b)},webosbrowser:{name:"webOSBrowser",eval:/(wosbrowser)(?:.*version|)[ \/]([\w.]+)/.exec(b)},chromemobile:{name:"Chrome Mobile",eval:/(crmo)[ \/]([\w.]+)/.exec(b)},silk:{name:"Silk",eval:/(silk)[ \/]([\w.]+)/.exec(b)},firefox:{name:"Firefox",eval:/(firefox)[ \/]([\w.]+)/.exec(b)},msie11:{name:"Internet Explorer 11",eval:b.indexOf("rv:11.0")>=0&&b.indexOf(".net4.0c")>=0},winphone:{name:"Internet Explorer Mobile",eval:b.indexOf("windows phone 8.1")>=0},other:{name:"Other",eval:b.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)}},a.each(browserNames,function(a,e){if(this.eval)if("Other"==this.name)d||(d=this.eval,c=this.name);else if("Internet Explorer 11"==this.name)d||(d=["","msie",11],c="Internet Explorer");else if("Edge"==this.name)d=["","edge",b.substring(b.indexOf("edge")+5)],c=this.name;else if("Internet Explorer Mobile"==this.name)d||(d=["","msie",11],c="Internet Explorer");else{if("Chrome"==c&&"Safari"==this.name)return!0;d=this.eval,c=this.name}}),d){var e={name:c,accessName:d[1]||"",version:d[2]||"0",canvas:this.canvas(),svg:this.svg(),vml:this.vml()};e[d[1]]=d[1]}else e={name:"Other",browser:"other",version:""};return e},getOS:function(){var b=null,c="",d=navigator.userAgent,e="Other",f={ios:{name:"iOS",regex:new RegExp("(?:i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS )([^\\s;]+)")},android:{name:"Android",regex:new RegExp("(?:(Android |HTC_|Silk/))([^\\s;]+)")},webos:{name:"webOS",regex:new RegExp("(?:(?:webOS|hpwOS)/)([^\\s;]+)")},blackberry:{name:"BlackBerry",regex:new RegExp("(?:BlackBerry(?:.*)Version/)([^\\s;]+)")},rimTablet:{name:"RIMTablet",regex:new RegExp("(?:RIM Tablet OS )([^\\s;]+)")},chrome:{name:"Chrome OS",regex:new RegExp("CrOS")},mac:{name:"MacOS",regex:new RegExp("mac")},win:{name:"Windows",regex:new RegExp("win")},linux:{name:"Linux",regex:new RegExp("linux")},bada:{name:"Bada",regex:new RegExp("(?:Bada/)([^\\s;]+)")},other:{name:"Other"}},g="",h=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows 10|Windows NT 10)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"BB10",r:/BB10/},{s:"MeeGo",r:/MeeGo/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var i in h){var j=h[i];if(j.r.test(d)){g=j.s;break}}var k="";switch(/Windows/.test(g)&&(k=/Windows (.*)/.exec(g)[1],g="Windows"),/BB10/.test(g)&&(k="10",g="BlackBerry"),e){case"Mac OS X":k=/Mac OS X (10[\.\_\d]+)/.exec(d)[1];break;case"Android":k=/Android ([\.\_\d]+)/.exec(d)[1];break;case"iOS":k=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer),k=k[1]+"."+k[2]+"."+(0|k[3])}return""!=k&&(c=k),a.each(f,function(a,f){if(b=d.match(this.regex)||d.toLowerCase().match(this.regex))return this.name.match(/Windows|Linux|MacOS/)||(c=!b[1]||"HTC_"!=b[1]&&"Silk/"!=b[1]?b[b.length-1]:"2.3"),e={name:this.name,version:c,platform:navigator.platform},!1}),e&&"Other"==e.name&&(e.name=g),e&&""!=e.name&&""!=g&&(e.name=g),e&&""==e.version&&""!=k&&(e.version=k),e}}}(jqxBaseFramework),function(a,b){a.jqx.jqxWidget("jqxDoubleCalendar","",{}),a.extend(a.jqx._jqxDoubleCalendar.prototype,{defineInstance:function(){this.enableTimeBasedRange=!0,this.enableFooter=!0,this.footerRenderer=null,this.popupZIndex=9999999999998,this.enableValidation=!0,this.dayNameFormat="firstTwoLetters",this.enableViews=!0,this.enableOtherMonthDays=!0,this.enableFastNavigation=!0,this.enableAutoNavigation=!0,this.enableTooltips=!0,this.navigationDelay=1,this.restrictedDates=[],this.stepMonths=1,this.titleFormat=["MMMM yyyy","yyyy","yyyy","yyyy"],this.enableWeekend=!1,this.firstDayOfWeek=1,this.dayOfNewWeek=4,this.rtl=!1,this.showWeekNumbers=!1,this.calendarWidth=220,this.calendarHeight=220,this.min=new Date(1900,0,1),this.max=new Date(2100,0,1),this.formatWeek=void 0,this.specialDatesRawData=null,this.fromInputId=null,this.toInputId=null,this.inputWidth=127,this.inputHeight=25,this.inputClass=null,this.fromValue=new Date,this.toValue=new Date,this.textAlign="left",this.readonly=!1,this.disabled=!1,this.allowKeyboardDelete=!1,this.allowNullDate=!0,this.dashTemplate="-",this.formatString="dd/MM/yyyy",this.culture="default",this.localization={todayString:"Today",week1String:"1Week",month1String:"1Month",month3String:"3Month",clearString:"clear"},this.rangeValidator=function(a,b,c){return!0},this._beforeFromDateSelect=null,this._beforeToDateSelect=null,this._$calendarArea=null,this._$fromCalendar=null,this._$toCalendar=null,this._$fromInput=null,this._$toInput=null,this._$footer=null,this._footerButtonEnabled=!1,this._$inputs=null,this._calendarRendered=!1,this._dateChangePropagationRequired=!0,this._events=["change","valuechanged","textchanged","popupopen","popupclose","validationError","validationSuccess","open","close"]},createInstance:function(){var b=this;if(this.min.setHours(0,0,0,0),this.max.setHours(23,59,59,999),this._beforeFromDateSelect=function(a){return b.rangeValidator(a,b.getToDate(),"from")},this._beforeToDateSelect=function(a){return b.rangeValidator(b.getFromDate(),a,"to")},""!=this.fromInputId&&void 0!=this.fromInputId&&null!=this.fromInputId||(this.fromInputId="fromInput_"+this.host.attr("id")),""!=this.toInputId&&void 0!=this.toInputId&&null!=this.toInputId||(this.toInputId="toInput_"+this.host.attr("id")),a.global&&a.global.preferCulture(this.culture),"default"!=this.culture)if(a.global)a.global.preferCulture(this.culture),this.localization=a.global.culture.doubleCalendar;else if(Globalize){var c=Globalize.culture(this.culture);this.localization=c.doubleCalendar}},refresh:function(a){a&&(this._render(),this._addEventHandlers()),this.setFromDate(this.fromValue),this.setToDate(this.toValue)},destroy:function(){this._destroyDateTimeInput(),this._destroyCalendar(),this.removeHandler(a(document),"mousedown."+this.element.id),this.host.remove()},_destroyDateTimeInput:function(){this._$fromInput&&this._$fromInput.off().jqxDateTimeInput("destroy"),this._$toInput&&this._$toInput.off().jqxDateTimeInput("destroy")},_destroyCalendar:function(){this._$fromCalendar&&this._$fromCalendar.off().jqxCalendar("destroy"),this._$toCalendar&&this._$toCalendar.off().jqxCalendar("destroy"),this._$footer&&a.each(this._$footer.buttons,function(a,b){b.jqxButton("destroy")}),this._$calendarArea&&(this.removeHandler(this._$calendarArea.find("div.aui-double-calendar-footer > button"),"click"),this._$calendarArea.remove())},hideDoubleCalendar:function(){this._calendarRendered&&(this._$calendarArea.hide(),this._raiseEvent(4),this._raiseEvent(8)),this._removeHitEventHandler()},close:function(){this._calendarRendered&&(this._$calendarArea.hide(),this._raiseEvent(8)),this._removeHitEventHandler()},_getPopupPosition:function(b,c,d){var e=a(window).width(),f=a(window).height(),g=b.outerWidth(),h=b.outerHeight(),i={};return c.top+c.height+h>f?(i.top=c.top-h+1,i.top<0&&(i.top=c.top+c.height-1)):i.top=c.top+c.height-1,c.left+g>e?i.left=c.left-(g-c.width):i.left=c.left,i},showDoubleCalendar:function(a){var b=this,c={};0==this._calendarRendered&&this._renderDoubleCalendar(),c.top=b._$fromInput.offset().top,c.left=b._$fromInput.offset().left,c.width=b._$fromInput.parent().outerWidth(),c.height=b._$fromInput.outerHeight(),this._$calendarArea.css(this._getPopupPosition(b._$calendarArea,c,a)),this._$calendarArea.show(),this._addHitEventHandler(),this._raiseEvent(3),this._raiseEvent(7)},open:function(a){var b=this,c={};0==this._calendarRendered&&this._renderDoubleCalendar(),c.left=b._$fromInput.offset().left,c.width=b._$fromInput.parent().outerWidth(),c.height=b._$fromInput.outerHeight(),this._$calendarArea.css(this._getPopupPosition(b._$calendarArea,c,a)),this._$calendarArea.show(),this._addHitEventHandler(),this._raiseEvent(7)},_render:function(){this._renderDateTimeInput()},_updateDoubleCalendarSize:function(){this._$calendarArea.css("width",2*this.calendarWidth+10)},_renderDateTimeInput:function(){function b(a){c.disabled||(c._calendarRendered||c._renderDoubleCalendar(),c._$calendarArea.is(":visible")?c.hideDoubleCalendar():c.showDoubleCalendar())}var c=this;if(this._$inputs=a('<div><div id="'+this.fromInputId+'" style="display:inline-block"></div><div class="aui-double-calendar-dash" style="display:inline-block">'+c.dashTemplate+'</div><div id="'+this.toInputId+'" style="display:inline-block"></div></div>'),this.host.append(this._$inputs),this._$fromInput=this._$inputs.find("#"+this.fromInputId),this._$toInput=this._$inputs.find("#"+this.toInputId),null!=this.inputClass&&void 0!=this.inputClass&&(this._$fromInput.addClass(this.inputClass),this._$toInput.addClass(this.inputClass)),!this._$fromInput.jqxDateTimeInput)throw"jqxDateTimeInput.aui.js is not loaded.";this._$fromInput.jqxDateTimeInput({formatString:this.formatString,value:this.fromValue,showCalendarButton:!1,width:this.inputWidth,height:this.inputHeight,allowKeyboardDelete:this.allowKeyboardDelete,allowNullDate:this.allowNullDate,rtl:this.rtl,textAlign:this.textAlign,readonly:this.readonly,culture:this.culture,min:this.min,max:this.max,restrictedDates:this.restrictedDates}),this._$toInput.jqxDateTimeInput({formatString:this.formatString,value:this.toValue,showCalendarButton:!0,width:this.inputWidth,height:this.inputHeight,allowKeyboardDelete:this.allowKeyboardDelete,allowNullDate:this.allowNullDate,rtl:this.rtl,textAlign:this.textAlign,readonly:this.readonly,culture:this.culture,min:this.min,max:this.max,restrictedDates:this.restrictedDates}),this._$toInput.jqxDateTimeInput("replaceEventHandler",this._$toInput.jqxDateTimeInput("calendarButton"),"mousedown",b)},_isDateTimeInputInstantiated:function(b){return void 0!=a.data(b,"jqxDateTimeInput")},_renderDoubleCalendar:function(){var b=this,c=a('<div class="aui-double-calendar" style="text-align:center;position:absolute;background:white;display:none;"><div id="'+this.element.id+'_from" style="display:inline-block;margin-right:3px"></div><div id="'+this.element.id+'_to" style="display:inline-block"></div></div>');c.css("z-index",this.popupZIndex),c.attr("id",this.element.id+"_doubleCalendarArea"),this._$calendarArea=c,this._updateDoubleCalendarSize(),a("html").append(c),this._$fromCalendar=c.find("#"+this.element.id+"_from"),this._$toCalendar=c.find("#"+this.element.id+"_to"),this._$fromCalendar.jqxCalendar({dayOfNewWeek:this.dayOfNewWeek,formatWeek:this.formatWeek,specialDatesRawData:this.specialDatesRawData,culture:this.culture,firstDayOfWeek:this.firstDayOfWeek,showWeekNumbers:this.showWeekNumbers,width:this.calendarWidth,height:this.calendarHeight,_beforeDateSelect:this._beforeFromDateSelect,_doubleCalendarMode:!0,enableWeekend:this.enableWeekend,dayNameFormat:this.dayNameFormat,enableViews:this.enableViews,enableOtherMonthDays:this.enableOtherMonthDays,enableFastNavigation:this.enableFastNavigation,enableAutoNavigation:this.enableAutoNavigation,enableTooltips:this.enableTooltips,navigationDelay:this.navigationDelay,restrictedDates:this.restrictedDates,stepMonths:this.stepMonths,titleFormat:this.titleFormat,rtl:this.rtl,min:this.min}),this._$toCalendar.jqxCalendar({dayOfNewWeek:this.dayOfNewWeek,formatWeek:this.formatWeek,specialDatesRawData:this.specialDatesRawData,culture:this.culture,firstDayOfWeek:this.firstDayOfWeek,showWeekNumbers:this.showWeekNumbers,width:this.calendarWidth,height:this.calendarHeight,_beforeDateSelect:this._beforeToDateSelect,_doubleCalendarMode:!0,enableWeekend:this.enableWeekend,dayNameFormat:this.dayNameFormat,enableViews:this.enableViews,enableOtherMonthDays:this.enableOtherMonthDays,enableFastNavigation:this.enableFastNavigation,enableAutoNavigation:this.enableAutoNavigation,enableTooltips:this.enableTooltips,navigationDelay:this.navigationDelay,restrictedDates:this.restrictedDates,stepMonths:this.stepMonths,titleFormat:this.titleFormat,rtl:this.rtl,max:this.max}),this.enableFooter&&(this._renderDoubleCalendarFooter(),"Function"!=typeof this.footerRenderer&&this._addButtonEventHandler()),this._$fromCalendar.on("validationError",function(a){b._raiseEvent(5,a.args)}),this._$toCalendar.on("validationError",function(a){b._raiseEvent(5,a.args)}),this._$fromCalendar.on("validationSuccess",function(a){b._raiseEvent(6)}),this._$toCalendar.on("validationSuccess",function(a){b._raiseEvent(6)}),this._$fromCalendar.on("change",function(a){var c=a.args.selectedDate;b._dateChangePropagationRequired?(b._dateChangePropagationRequired=!1,b.fromValue=c,b._$fromInput.jqxDateTimeInput("setDate",c)):b._raiseEvent(0,{changed:"from"}),a.stopPropagation()}),this._$toCalendar.on("change",function(a){if("month"===a.owner.view){var c=a.args.selectedDate;b._dateChangePropagationRequired?(b._dateChangePropagationRequired=!1,b.toValue=c,b._$toInput.jqxDateTimeInput("setDate",c)):b._$calendarArea&&b._$calendarArea.is(":visible")?b._raiseEvent(0,{changed:"to"}):b._raiseEvent(0)}a.stopPropagation()}),b._calendarRendered=!0,this._$fromCalendar.jqxCalendar("setDate",this.getFromDate()),this._$toCalendar.jqxCalendar("setDate",this.getToDate())},_renderDoubleCalendarFooter:function(){var b=this.element.id,c=null,d=this._$calendarArea.find("div.aui-double-calendar-footer");d.length>0&&d.remove(),this._$footer=a('<div class="aui-double-calendar-footer"></div>'),this._$footer.buttons=[],this.footerRenderer?(c=this.footerRenderer(),c&&this._$footer.append(c)):(this._$footer.buttons.push(a('<button type="button" class="aui-double-calendar-footer-today" id="'+b+'_btn_today">'+this.localization.todayString+"</button>").jqxButton().appendTo(this._$footer)),this._$footer.buttons.push(a('<button type="button" class="aui-double-calendar-footer-1week" id="'+b+'_btn_1week">'+this.localization.week1String+"</button>").jqxButton().appendTo(this._$footer)),this._$footer.buttons.push(a('<button type="button" class="aui-double-calendar-footer-1month" id="'+b+'_btn_1month">'+this.localization.month1String+"</button>").jqxButton().appendTo(this._$footer)),this._$footer.buttons.push(a('<button type="button" class="aui-double-calendar-footer-3month" id="'+b+'_btn_3month">'+this.localization.month3String+"</button>").jqxButton().appendTo(this._$footer)),this._$footer.buttons.push(a('<button type="button" class="aui-double-calendar-footer-clear" id="'+b+'_btn_clear" style="display:none">'+this.localization.clearString+"</button>").jqxButton().appendTo(this._$footer))),this._footerButtonEnabled=!0,this._$calendarArea.append(this._$footer)},_addEventHandlers:function(){var a=this;this._$fromInput.on("textchanged",function(b){a._raiseEvent(2,{changed:"from",fromDate:b.args.date}),b.stopPropagation()}),this._$toInput.on("textchanged",function(b){a._raiseEvent(2,{changed:"to",toDate:b.args.date}),b.stopPropagation()}),this._$fromInput.on("valueChanged",function(b){a._raiseEvent(1,{changed:"from",fromDate:b.args.date}),b.stopPropagation()}),this._$toInput.on("valueChanged",function(b){a._raiseEvent(1,{changed:"to",toDate:b.args.date}),b.stopPropagation()}),this._$fromInput.on("change",function(b){var c=b.args.date;if(a._dateChangePropagationRequired){if(a._dateChangePropagationRequired=!1,a.rangeValidator(c,a.getToDate(),"from")!==!0)return a.setFromDate(a.fromValue),a._raiseEvent(5,{date:c}),b.stopPropagation(),!1;a._raiseEvent(6),a.fromValue=c,a._calendarRendered?a._$fromCalendar.jqxCalendar("setDate",c):a._raiseEvent(0,{changed:"from"})}else a._raiseEvent(0,{changed:"from"});b.stopPropagation()}),this._$toInput.on("change",function(b){var c=b.args.date;if(a._dateChangePropagationRequired){if(a._dateChangePropagationRequired=!1,a.rangeValidator(a.getFromDate(),c,"to")!==!0)return a.setToDate(a.toValue),a._raiseEvent(5,{date:c}),b.stopPropagation(),!1;a._raiseEvent(6),a.toValue=c,a._calendarRendered?a._$toCalendar.jqxCalendar("setDate",c):a._$calendarArea&&a._$calendarArea.is(":visible")?a._raiseEvent(0,{changed:"to"}):a._raiseEvent(0)}else a._raiseEvent(0,{changed:"to"});b.stopPropagation()})},_addButtonEventHandler:function(){function a(a){var b="";if(a.classList)b=a.classList[0];else{var c=a.className.split(" ");b=c[0]}return b}var b=this;this.addHandler(this._$calendarArea.find("div.aui-double-calendar-footer > button"),"click",function(c){switch(a(c.currentTarget)){case"aui-double-calendar-footer-today":b.setRangeToday();break;case"aui-double-calendar-footer-1week":b.setRangeWeek(1);break;case"aui-double-calendar-footer-1month":b.setRangeMonth(1);break;case"aui-double-calendar-footer-3month":b.setRangeMonth(3);break;case"aui-double-calendar-footer-clear":b.clear()}})},_addHitEventHandler:function(){var b=this,c=this.element.id;this.addHandler(a(document),"mousedown."+c,function(c){if(!b._$calendarArea.is(":visible"))return!0;var d,e,f=a(c.target);if(1===f.closest(b._$fromInput).length||1===f.closest(b._$toInput).length)return!0;var g=b._$calendarArea.offset(),h=g.top,i=h+b._$calendarArea.outerHeight(),j=g.left,k=j+b._$calendarArea.outerWidth();return d=c.pageX,e=c.pageY,d<j||d>k?(b.hideDoubleCalendar(),!0):!(e<h||e>i)||(b.hideDoubleCalendar(),!0)})},_removeHitEventHandler:function(){this.removeHandler(a(document),"mousedown."+this.element.id)},_raiseEvent:function(b,c){var d=this,e=this._events[b],f=new jQuery.Event(e),g=c?c:{};g.owner=this,f.owner=this,f.args=g,f.args.fromDate=void 0!==f.args.fromDate?f.args.fromDate:this.getFromDate(),f.args.toDate=void 0!==f.args.toDate?f.args.toDate:this.getToDate(),0==b&&(d._changeRangeSelection(f.args.fromDate,f.args.toDate),f.args.fromDate?0==this._footerButtonEnabled&&(d._$footer&&a.each(d._$footer.buttons,function(a,b){b.jqxButton({disabled:!1})}),this._footerButtonEnabled=!0):(d._$footer&&a.each(this._$footer.buttons,function(a,b){b.jqxButton({disabled:!0})}),this._footerButtonEnabled=!1),"to"==f.args.changed&&this.hideDoubleCalendar(),this._dateChangePropagationRequired=!0);var h=this.host.trigger(f);return h},propertyChangedHandler:function(a,b,c,d){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("calendarWidth"==b&&(a._$fromCalendar.jqxCalendar({width:d}),a._$toCalendar.jqxCalendar({width:d}),a._updateDoubleCalendarSize()),"calendarHeight"==b&&(a._$fromCalendar.jqxCalendar({height:d}),a._$toCalendar.jqxCalendar({height:d}),a._updateDoubleCalendarSize()),"dayNameFormat"==b&&(a._$fromCalendar.jqxCalendar({dayNameFormat:d}),a._$toCalendar.jqxCalendar({dayNameFormat:d})),"enableOtherMonthDays"==b&&(a._$fromCalendar.jqxCalendar({enableOtherMonthDays:d}),a._$toCalendar.jqxCalendar({enableOtherMonthDays:d})),"enableFastNavigation"==b&&(a._$fromCalendar.jqxCalendar({enableFastNavigation:d}),a._$toCalendar.jqxCalendar({enableFastNavigation:d})),"enableAutoNavigation"==b&&(a._$fromCalendar.jqxCalendar({enableAutoNavigation:d}),a._$toCalendar.jqxCalendar({enableAutoNavigation:d})),"enableTooltips"==b&&(a._$fromCalendar.jqxCalendar({enableTooltips:d}),a._$toCalendar.jqxCalendar({enableTooltips:d})),"navigationDelay"==b&&(a._$fromCalendar.jqxCalendar({navigationDelay:d}),a._$toCalendar.jqxCalendar({navigationDelay:d})),"restrictedDates"==b&&(a._$fromCalendar.jqxCalendar({restrictedDates:d}),a._$toCalendar.jqxCalendar({restrictedDates:d})),"stepMonths"==b&&(a._$fromCalendar.jqxCalendar({stepMonths:d}),a._$toCalendar.jqxCalendar({stepMonths:d})),"titleFormat"==b&&(a._$fromCalendar.jqxCalendar({titleFormat:d}),a._$toCalendar.jqxCalendar({titleFormat:d})),"enableWeekend"==b&&(a._$fromCalendar.jqxCalendar({enableWeekend:d}),a._$toCalendar.jqxCalendar({enableWeekend:d})),"dayOfNewWeek"==b&&(a._$fromCalendar.jqxCalendar({dayOfNewWeek:d}),a._$toCalendar.jqxCalendar({dayOfNewWeek:d})),"rtl"==b&&(a._$fromCalendar.jqxCalendar({rtl:d}),a._$toCalendar.jqxCalendar({rtl:d}),a._$fromInput.jqxDateTimeInput({rtl:d}),a._$toInput.jqxDateTimeInput({rtl:d})),"firstDayOfWeek"==b&&(a._$fromCalendar.jqxCalendar({firstDayOfWeek:d}),a._$toCalendar.jqxCalendar({firstDayOfWeek:d})),"showWeekNumbers"==b&&(a._$fromCalendar.jqxCalendar({showWeekNumbers:d}),a._$toCalendar.jqxCalendar({showWeekNumbers:d})),"formatWeek"==b&&(a._$fromCalendar.jqxCalendar({formatWeek:d}),a._$toCalendar.jqxCalendar({formatWeek:d})),"specialDatesRawData"==b&&(a._$fromCalendar.jqxCalendar({specialDatesRawData:d}),a._$toCalendar.jqxCalendar({specialDatesRawData:d})),"formatString"==b&&(a._$fromInput.jqxDateTimeInput({formatString:d}),a._$toInput.jqxDateTimeInput({formatString:d})),"min"==b&&(a._$fromInput.jqxDateTimeInput({min:d}),a._$toInput.jqxDateTimeInput({min:d})),"max"==b&&(a._$fromInput.jqxDateTimeInput({max:d}),a._$toInput.jqxDateTimeInput({max:d})),"fromInputId"==b||"toInputId"==b)throw Error("jqxDateTImeInput ID Cannot be changed");if("inputWidth"==b&&(a._$fromInput.jqxDateTimeInput({width:d}),a._$toInput.jqxDateTimeInput({width:d})),"inputHeight"==b&&(a._$toInput.jqxDateTimeInput({height:d}),a._$fromInput.jqxDateTimeInput({height:d})),"allowKeyboardDelete"==b&&(a._$fromInput.jqxDateTimeInput({allowKeyboardDelete:d}),a._$toInput.jqxDateTimeInput({allowKeyboardDelete:d})),"textAlign"==b&&(a._$fromInput.jqxDateTimeInput({textAlign:d}),a._$toInput.jqxDateTimeInput({textAlign:d})),"readonly"==b&&(a._$fromInput.jqxDateTimeInput({readonly:d}),a._$toInput.jqxDateTimeInput({readonly:d})),"fromValue"==b&&a._$fromInput.jqxDateTimeInput("setDate",d),"toValue"==b&&a._$toInput.jqxDateTimeInput("setDate",d),"disabled"==b&&(a._$toInput.jqxDateTimeInput("disabled",d),a._$fromInput.jqxDateTimeInput("disabled",d)),"allowNullDate"==b&&(a._$toInput.jqxDateTimeInput("allowNullDate",d),a._$fromInput.jqxDateTimeInput("allowNullDate",d)),"enableValidation"==b){var e,f;d?(e=this.getFromDate(),f=this.getToDate(),this.setMinDate(e),this.setMaxDate(f)):(e=new Date(1900,0,1),f=new Date(2100,0,1),this._calendarRendered&&(this._$toCalendar.jqxCalendar("setMinDate",e),this._$fromCalendar.jqxCalendar("setMaxDate",f)),this._$toInput.jqxDateTimeInput("setMinDate",e),this._$fromInput.jqxDateTimeInput("setMaxDate",f))}"enableFooter"==b&&(1==d?(this._renderDoubleCalendarFooter(),this.enableFooter&&"Function"!=typeof this.footerRenderer&&this._addButtonEventHandler()):this._$footer.remove()),"footerRenderer"==b&&1==this.enableFooter&&(this._renderDoubleCalendarFooter(),"Function"!=typeof this.footerRenderer&&this._addButtonEventHandler())}},setRangeToday:function(){var a=new Date;this.getToDate()<a?(this.setToDate(new Date),this.setFromDate(new Date)):(this.setFromDate(new Date),this.setToDate(new Date))},clear:function(){this._calendarRendered&&(this._$fromCalendar.jqxCalendar("clear"),this._$toCalendar.jqxCalendar("clear"))},setRangeWeek:function(a){var b=this.getFromDate(),c=new Date(b),d=7*a-1;c.setDate(c.getDate()+d),this.setToDate(c)},setRangeMonth:function(a){var b=this.getFromDate(),c=new Date(b);c.setMonth(c.getMonth()+a),c.setDate(c.getDate()-1),this.setToDate(c)},setFromDate:function(a){var b=null;null!=a&&(b=new Date(a),b.setHours(0,0,0,0)),this._$fromInput.jqxDateTimeInput("setDate",b)},getFromDateText:function(){return this._$fromInput.val()},getFromDate:function(){var a=this.fromValue;return null!=a&&a.setHours(0,0,0,0),a},setToDate:function(a){var b=null;null!=a&&(b=new Date(a),b.setHours(0,0,0,0)),this._$toInput.jqxDateTimeInput("setDate",b)},getToDate:function(){var a=this.toValue;return null!=a&&a.setHours(23,59,59,999),a},getToDateText:function(){return this._$toInput.val()},setMinDate:function(a){var b;return!!this.enableValidation&&(b=null==a||void 0==a?new Date(1900,0,1):new Date(a.getFullYear(),a.getMonth(),a.getDate()),b.setHours(0,0,0,0),this.min=b,this._calendarRendered&&this._$toCalendar.jqxCalendar("setMinDate",b),void this._$toInput.jqxDateTimeInput("setMinDate",b))},setMaxDate:function(a){var b;return!!this.enableValidation&&(b=null==a||void 0==a?new Date(2100,11,31):new Date(a.getFullYear(),a.getMonth(),a.getDate()),b.setHours(23,59,59,999),this.max=b,this._calendarRendered&&this._$fromCalendar.jqxCalendar("setMaxDate",b),void this._$fromInput.jqxDateTimeInput("setMaxDate",b))},getMaxDate:function(){return this.max},getMinDate:function(){return this.min},_changeRangeSelection:function(a,b){var c=this.min,d=this.max;a&&(c=new Date(a),c.setHours(0,0,0,0)),b&&(d=new Date(b),d.setHours(23,59,59,999)),this._calendarRendered&&this._$toCalendar.jqxCalendar("setMinDate",c),this._$toInput.jqxDateTimeInput("setMinDate",c),this._calendarRendered&&this._$fromCalendar.jqxCalendar("setMaxDate",d),this._$fromInput.jqxDateTimeInput("setMaxDate",d)}})}(jQuery,A),function(a,b){var c=a.jqx.browser,d="msie"==c.browser&&parseInt(c.version)<10,e={ADD_FILE_STATE:"ADD",REMOVE_FILE_STATE:"REMOVE",READY:"READY",UPLOADING:"UPLOADING",COMPLETED:"COMPLETED",CANCELED:"CANCELED"},f={UPLOAD:2,PROGRESS:3,COMPLETE:4,ABORT:5,ERROR:6,ADD:7,REMOVE:8},g={CONTROL_BUTTON_AREA_ICON_WIDTH:20,CONTROL_BUTTON_AREA_ICON_HEIGHT:16,LIST_ITEM_AREA_HEIGHT:28,LIST_ITEM_AREA_LINE_HEIGHT:"28px",LIST_ITEM_AREA_EXT_ICON_WIDTH:20,LIST_ITEM_AREA_EXT_ICON_HEIGHT:20,LIST_ITEM_AREA_PROGRESSBAR_HEIGHT:10,LIST_ITEM_BUTTON_AREA_BUTTON_IMG_WIDTH:16,LIST_ITEM_BUTTON_AREA_BUTTON_IMG_HEIGHT:16,LIST_ITEM_STATUS_AREA_ICON_WIDTH:16,LIST_ITEM_STATUS_AREA_ICON_HEIGHT:16},h={baseArea:"aui-fileuploader-area",titleArea:"aui-fileuploader-title-area",controlArea:"aui-fileuploader-control-area",progressInfo:"aui-fileuploader-progressinfo",progressInfoTotalSizeText:"aui-fileuploader-progressinfo-totalsize-text",progressInfoText:"aui-fileuploader-progressinfo-text",progressInfoTotalSize:"aui-fileuploader-progressinfo-totalsize",progressInfoBorder:"aui-fileuploader-progressinfo-border",uploadedFileCount:"aui-fileuploader-progressinfo-uploadedfilecount",progressInfoTotalCount:"aui-fileuploader-progressinfo-totalcount",totalCountText:"aui-fileuploader-progressinfo-totalcount-text",progressArea:"aui-fileuploader-progress-area",progressBar:"aui-fileuploader-progressbar",buttonArea:"aui-fileuploader-button-area",addBtn:"aui-fileuploader-control-addbtn",uploadBtn:"aui-fileuploader-control-uploadbtn",resetBtn:"aui-fileuploader-control-resetbtn",cancelBtn:"aui-fileuploader-control-cancelbtn",jqxBtn:" jqx-group-button-normal jqx-button jqx-fill-state-normal",jqxBtnHover:"jqx-fill-state-hover",jqxBtnDisabled:"jqx-fill-state-disabled",controlImg:"aui-fileuploader-control-img-16",controlBtnTxt:"aui-fileuploader-control-button-text",addBtnImg:"aui-fileuploader-control-addimg",addBtnTxt:"aui-fileuploader-control-addtxt",uploadBtnImg:"aui-fileuploader-control-uploadimg",uploadBtnTxt:"aui-fileuploader-control-uploadtxtt",resetBtnImg:"aui-fileuploader-control-resetimg",resetBtnTxt:"aui-fileuploader-control-resettxt",cancelBtnImg:"aui-fileuploader-control-cancelimg",cancelBtnTxt:"aui-fileuploader-control-canceltxt",listArea:"aui-fileuploader-list-area",inputArea:"aui-fileuploader-input-area",loadingIcon:"aui-fileuploader-loading-icon",inputFormArea:"aui-fileuploader-input-form-area",dragArea:"aui-fileuploader-drag-area",dragAllow:"aui-fileuploader-drag-allow",dragDeny:"aui-fileuploader-drag-deny",fileItemArea:"aui-fileuploader-item-area",fileexticon:"aui-fileuploader-item-area-fileexticon-20",fileName:"aui-fileuploader-item-area-filename",fileProgress:"aui-fileuploader-item-area-fileprogress",fileSize:"aui-fileuploader-item-area-filesize",fileButtonArea:"aui-fileuploader-item-area-filebuttonarea",fileStatusArea:"aui-fileuploader-item-area-filestatusarea",fileStatusIcon:"aui-fileuploader-item-area-filestatusarea-icon",fileStatusTxt:"aui-fileuploader-item-area-filestatusarea-text",fileUploadSize:"aui-fileuploader-item-area-filesize-uploadedsize",fileOriginalSize:"aui-fileuploader-item-area-filesize-originalsize",itemStartBtn:"aui-fileuploader-item-startbtn",itemBtn:"aui-fileuploader-item-btn",itemStartBtnImg:"aui-fileuploader-item-startimg-16",itemImg:"aui-fileuploader-item-img-16",itemStartBtnTxt:"aui-fileuploader-item-starttxt",itemBtnTxt:"aui-fileuploader-item-button-text",itemCancelBtn:"aui-fileuploader-item-cancelbtn",itemCancelBtnImg:"aui-fileuploader-item-cancelimg-16",itemCancelBtnTxt:"aui-fileuploader-item-canceltxt",statusAreaIcon:"aui-fileuploader-item-area-filestatusarea-icon",statusAreaText:"aui-fileuploader-item-area-filestatusarea-text",statusAreaUploadingIcon:"aui-fileuploader-item-area-filestatusarea-uplodingicon",statusAreaUploadingText:"aui-fileuploader-item-area-filestatusarea-uplodingtext",statusAreaCompleteIcon:"aui-fileuploader-item-area-filestatusarea-completedicon",statusAreaCompleteText:"aui-fileuploader-item-area-filestatusarea-completedtext",
statusAreaCanceledIcon:"aui-fileuploader-item-area-filestatusarea-canceledicon",statusAreaCanceledText:"aui-fileuploader-item-area-filestatusarea-canceledtext",statusAreaReadyIcon:"aui-fileuploader-item-area-filestatusarea-readyicon",statusAreaReadyText:"aui-fileuploader-item-area-filestatusarea-readytext",draglineTop:"aui-fileuploader-item-area-dragline-top",draglineBottom:"aui-fileuploader-item-area-dragline-bottom",fileIconExcel:"aui-fileuploader-item-area-fileexticon-20-excel",fileIconHtml:"aui-fileuploader-item-area-fileexticon-20-html",fileIconMov:"aui-fileuploader-item-area-fileexticon-20-mov",fileIconPic:"aui-fileuploader-item-area-fileexticon-20-pic",fileIconPPT:"aui-fileuploader-item-area-fileexticon-20-ppt",fileIconWord:"aui-fileuploader-item-area-fileexticon-20-word",fileIconZip:"aui-fileuploader-item-area-fileexticon-20-zip",fileIcon:"aui-fileuploader-item-area-fileexticon-20-file"},i=function(){var c=null,f=null,g=0,h=0,i=0,j=0,k=0,l=0,m={},n={},o={},p=null,q={};return{init:function(a){a.noUI||this.registerListener(a),this.registerEventCaller(a)},destroy:function(){f&&this.removeEventCaller(),c&&this.removeListener(),m={},n={},o={},p=null,q={}},addFile:function(a,b){if(a instanceof FileList)for(var c=0,d=a.length;c<d;c++)this._addEachFile(a[c],b);else this._addEachFile(a,b);this.notifyChange(1,{file:a,status:e.ADD_FILE_STATE}),this.notifyChange(7,{file:a,status:e.ADD_FILE_STATE})},_addEachFile:function(a,b){a.id=g,a.status=e.READY,m[g]=a,d?n[g]=b:(a.uploadedSize=0,i+=a.size),g++,h++},cancelUpload:function(a){q&&(q[a].abort(),delete q[a]),this.notifyChange(5,{fid:a}),this.notifyChange(6,{fid:a})},cancelUploads:function(){p&&p.abort(),this.notifyChange(5),this.notifyChange(6)},removeFile:function(a){var c=b.copyObject(m[a]);delete m[a],d?delete n[a]:i-=c.size,h--,this.notifyChange(1,{file:c,status:e.REMOVE_FILE_STATE}),this.notifyChange(8,{file:c,status:e.REMOVE_FILE_STATE})},removeAllFiles:function(){for(var a in m)this.removeFile(a);g=0},getFile:function(a){return m[a]},getLastFileID:function(){return g},getFileList:function(){var a=[];for(var b in m)a.push(m[b]);return a},getFileMap:function(){return m},getFormList:function(){var a=[];for(var b in n)a.push(n[b]);return a},getFileListInOrder:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(m[a[c]]);return b},getFormListInOrder:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(n[a[c]]);return b},getValidFileList:function(){var a=[];for(var b in m)m[b].status==e.READY&&a.push(m[b]);return a},getAllFormData:function(a){for(var b=new FormData,c=this.getFileListInOrder(a),d=0,e=c.length;d<e;d++)b.append("file",c[d]);return b},getFormData:function(a){var b=new FormData;return b.append("file",this.getFile(a)),b},getTotalCount:function(){return h},getTotalSize:function(){return i},getUploadCompletedIndex:function(){return k},getUploadCompletedSize:function(){return j},getUploadCompletedCnt:function(){return l},setUploadCompletedIndex:function(a){k=a},setUploadCompletedSize:function(a){j=a},setUploadCompletedCnt:function(a){l=a},uploadFile:function(b,c,d){var e=this,f=this.getTotalSize(),g=this.getFormData(b);g=this._appendRequestParam(g,c),this.notifyChange(2,{fid:b}),a.ajax({type:"POST",url:d,processData:!1,contentType:!1,data:g,xhr:function(){return q[b]=new XMLHttpRequest,q[b].upload.onprogress=function(a){if(a.lengthComputable){o[b]=a.loaded;var c=0;for(var d in o)c+=o[d];e.setUploadCompletedSize(o[b]),e.notifyChange(3,{loaded:a.loaded,size:a.total,total:f,uploadedSize:a.loaded,fid:b,uploadedTotalSize:c,lengthComputable:a.lengthComputable})}},q[b]},success:function(a){e.notifyChange(4,{fid:b,data:a})},error:function(a,c,d){e.notifyChange(5,{fid:b,data:a});var f={reasontype:"ajax",jqXHR:a};e.notifyChange(6,f)}})},uploadAllFiles:function(a,b){var c=this;this.notifyChange(2,{fid:""});for(var d=0,e=c.getValidFileList(),f=e.length;d<f;d++)c.uploadFile(e[d].id,a,b)},uploadFilesInSequential:function(b,c,f){var g=this;if(d){var h=this.getFormListInOrder(b),i=h[this.getUploadCompletedIndex()],j=i[0].id.split("_")[1];this.getFile(j);i=this._appendRequestParamForNonHTML5(i,c),this.notifyChange(2,{fid:""}),i.submit()}else{var k=this.getAllFormData(b);k=this._appendRequestParam(k,c),a.ajax({type:"POST",url:f,data:k,processData:!1,contentType:!1,xhr:function(){return p=new XMLHttpRequest,p.upload.onprogress=function(a){if(a.lengthComputable)for(var b=g.getFileList(),c=a.loaded,d=0;d<b.length;d++)if(b[d].status!=e.COMPLETED){if(!(c>=b[d].size)){b[d].status=e.UPLOADING,b[d].uploadedSize=c,g.notifyChange(3,{fid:b[d].id,size:b[d].size,uploadedSize:b[d].uploadedSize,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable});break}b[d].status=e.COMPLETED,b[d].uploadedSize=b[d].size,c-=b[d].size,g.notifyChange(3,{fid:b[d].id,size:b[d].size,uploadedSize:b[d].uploadedSize,total:a.total,loaded:a.loaded,lengthComputable:a.lengthComputable})}},p},success:function(a){g.notifyChange(4,{data:a})},error:function(a,b,c){g.notifyChange(5,{data:a});var d={reasontype:"ajax",jqXHR:a};g.notifyChange(6,d)}})}},registerListener:function(a){c=a},removeListener:function(){c=void 0},registerEventCaller:function(a){f=a},removeEventCaller:function(){f=void 0},notifyChange:function(a,b){this.updateView(a,b),this.raiseEvent(a,b)},updateView:function(a,b){c&&c._updateView(a,b)},raiseEvent:function(a,b){f&&f._raiseEvent(a,b)},_appendRequestParam:function(a,b){for(var c in b)a.append(c,b[c]);return a},_appendRequestParamForNonHTML5:function(b,c){return a.each(c,function(c,d){a("<input />").attr("name",c).attr("value",d).appendTo(b[0])}),b}}};a.jqx.jqxWidget("jqxFileUploader","",{}),a.extend(a.jqx._jqxFileUploader.prototype,{defineInstance:function(){this.title="Anyframe UI Uploader",this.width=0,this.showControlArea=!0,this.showListFileButton="cancel",this.buttonIconOnly=!1,this.url=null,this.data={},this.uploadSuccess=void 0,this.uploadCancel=void 0,this.noUI=!1,this.enableDragDrop=!1,this.culture="default",this.localization={CONTROL_TOTAL_LABEL:"Total Size",CONTROL_FILECOUNT_LABEL:"file(s) uploaded",CONTROL_ADD_BTN:"ADD",CONTROL_UPLOADALL_BTN:"UPLOAD ALL",CONTROL_CLEARALL_BTN:"CLEAR ALL",CONTROL_CANCELALL_BTN:"CANCEL ALL",LIST_START_BTN:"START",LIST_CANCEL_BTN:"CANCEL",LIST_READY_STATUS:"READY",LIST_UPLOADING_STATUS:"UPLOADING",LIST_COMPLETED_STATUS:"COMPLETED",LIST_CANCELED_STATUS:"CANCELED"},this.allowFileDuplication=!1,this.uploadAtOnce=!1,this.sizeType="mb",this.maxUploadSize=10737418240,this.maxEachFileSize=104857600,this.allowFileTypes=[],this.fileCountLimit=99999,this._useMultiple=!0,this._uploadedSize={},this._fileItemSizeMaxWidth=0,this._fileItemStatusMaxWidth=0,this._fileDataModel=null,this._showEachProgressArea=!0,this._showEachFileSizeArea=!0,this.events=["addfile","removefile","onupload","onprogress","oncompleted","onabort","onerror","onfileadded","onfileremoved"],this._$controlArea=null,this._$buttonArea=null,this._$listArea=null,this._$progressInfo=null,this._$progressArea=null,this._$progressBar=null,this._$addBtn=null,this._$uploadBtn=null,this._$resetBtn=null,this._$cancelBtn=null,this._$dropArea=null,this._$totalSize=null,this._$totalCout=null,this._$uploadedFileCount=null,this._$fileInputArea=null,this._$fileInputFormArea=null,this._$fileInput=null,this._$uploadIframe=null,this._iframeInitialized=!0,this._$sel=null},createInstance:function(){if(this._fileDataModel=i(),this._fileDataModel.init(this),a.global&&a.global.preferCulture(this.culture),"default"!=this.culture)if(a.global)a.global.preferCulture(this.culture),this.localization=a.global.culture.fileupload;else if(Globalize){var c=Globalize.culture(this.culture);this.localization=c.fileupload}d&&(this.showControlArea=!0,this._showEachProgressArea=!1,this._showEachFileSizeArea=!1,this.showListFileButton="cancel",this.uploadAtOnce=!1,b.assert(0==this.enableDragDrop,"enableDragDrop property is not supported in IE9 and below.")),this.noUI||this.render(),this._addHandlers()},refresh:function(a){},destroy:function(){if(!this.noUI&&this.getTotalCount()>0){var b=this._$listArea.find("."+h.fileProgress);b.length>0&&b.jqxProgressBar("destroy");for(var c=this._$listArea.find("div.aui-fileuploader-item-area-filebuttonarea > button"),d=0,e=c.length;d<e;d++){var f=a(c[d]);this.removeHandler(f,"mouseenter"),this.removeHandler(f,"mouseleave")}this._$listArea.find("."+h.fileItemArea);this._$listArea&&this._$listArea.remove()}this._removeHandlers(),this._$dropArea&&(this._removeDragDropHandlers(),this._$dropArea.remove(),this._$dropArea=null),this._fileDataModel&&this._fileDataModel.destroy(),this.host.remove()},renderForHTML5:function(){var b="<div class='"+h.progressInfo+"'><span class='"+h.progressInfoTotalSizeText+" "+h.progressInfoText+"'>"+this.localization.CONTROL_TOTAL_LABEL+": </span><span class='"+h.progressInfoTotalSize+"'> 0 "+this.sizeType.toUpperCase()+"</span><span class='"+h.progressInfoBorder+"'> | </span><span class='"+h.uploadedFileCount+"'> 0 </span><span class='"+h.progressInfoTotalCount+"'>of 0 </span><span class='"+h.totalCountText+" "+h.progressInfoText+"'>"+this.localization.CONTROL_FILECOUNT_LABEL+"</span></div><div class="+h.progressArea+"><div class="+h.progressBar+"></div></div>";this._$controlArea.prepend(b),this._$progressInfo=this._$controlArea.find("."+h.progressInfo),this._$progressArea=this._$controlArea.find("."+h.progressArea),this._$progressBar=this._$progressArea.find("."+h.progressBar),this._$totalSize=this._$progressInfo.find("."+h.progressInfoTotalSize),this._$totalCount=this._$progressInfo.find("."+h.progressInfoTotalCount),this._$uploadedFileCount=this._$progressInfo.find("."+h.uploadedFileCount),this._$progressBar.jqxProgressBar({animationDuration:0,showText:!0}),this.showControlArea||this._$controlArea.hide();var c;c=this._useMultiple?"<div class="+h.inputArea+"><input type='file' name='files_nm' multiple></div>":"<div class="+h.inputArea+"><input type='file' name='files_nm'></div>",a(c).insertAfter(this._$listArea),this._$fileInput=this.host.find("div.aui-fileuploader-input-area input[type=file]"),this._$fileInput.css({position:"absolute",left:"-500px",top:"-500px",opacity:.001,filter:"alpha(opacity=0.1)"}),this.enableDragDrop&&this._$dropArea.css({display:"block"})},renderForNonHTML5:function(){this._$uploadIframe=a('<iframe name="auiIframe" class="jqx-file-upload-iframe" src=""></iframe>'),this.host.append(this._$uploadIframe),this._iframeInitialized=!1,a("<div class="+h.inputFormArea+"></div>").insertAfter(this._$listArea),this._$fileInputFormArea=this.host.find("."+h.inputFormArea),this._addInputForm()},render:function(){this.title&&this.host.append("<div class='"+h.titleArea+"'>"+this.title+"</div>");var a="<div class='"+h.controlArea+"'><div class='"+h.buttonArea+"'><button type='button' class='"+h.addBtn+h.jqxBtn+"' title="+this.localization.CONTROL_ADD_BTN+"><span class='"+h.addBtnImg+" "+h.controlImg+"'></span><span class='"+h.addBtnTxt+" "+h.controlBtnTxt+"'>"+this.localization.CONTROL_ADD_BTN+"</span></button><button type='button' class='"+h.uploadBtn+h.jqxBtn+"' title="+this.localization.CONTROL_UPLOADALL_BTN+"><span class='"+h.uploadBtnImg+" "+h.controlImg+"'></span><span class='"+h.uploadBtnTxt+" "+h.controlBtnTxt+"'>"+this.localization.CONTROL_UPLOADALL_BTN+"</span></button><button type='button' class='"+h.resetBtn+h.jqxBtn+"' title="+this.localization.CONTROL_CLEARALL_BTN+"><span class='"+h.resetBtnImg+" "+h.controlImg+"'></span><span class='"+h.resetBtnTxt+" "+h.controlBtnTxt+"'>"+this.localization.CONTROL_CLEARALL_BTN+"</span></button><button type='button' class='"+h.cancelBtn+h.jqxBtn+"' title="+this.localization.CONTROL_CANCELALL_BTN+"><span class='"+h.cancelBtnImg+" "+h.controlImg+"'></span><span class='"+h.cancelBtnTxt+" "+h.controlBtnTxt+"'>"+this.localization.CONTROL_CANCELALL_BTN+"</span></button></div></div><div class="+h.listArea+"></div><div class="+h.loadingIcon+" style='display:none'></div>";this.host.addClass(h.baseArea),this.host.append(a),this._$controlArea=this.host.find("."+h.controlArea),this._$buttonArea=this.host.find("."+h.buttonArea),this._$listArea=this.host.find("."+h.listArea),this._$dropArea=this.host,this._$addBtn=this._$buttonArea.find("."+h.addBtn),this._$uploadBtn=this._$buttonArea.find("."+h.uploadBtn),this._$resetBtn=this._$buttonArea.find("."+h.resetBtn),this._$cancelBtn=this._$buttonArea.find("."+h.cancelBtn),this._buttonDisabler(this._$uploadBtn,!0),this._buttonDisabler(this._$resetBtn,!0),this._buttonDisabler(this._$cancelBtn,!0),this.buttonIconOnly&&this._$controlArea.find("."+h.controlBtnTxt).css({display:"none"}),this._fileControlButtonAreaMaxWidth=this._$buttonArea.outerWidth(!0),this._$buttonArea.find("."+h.controlImg).css({"float":"left",width:g.CONTROL_BUTTON_AREA_ICON_WIDTH,height:g.CONTROL_BUTTON_AREA_ICON_HEIGHT}),this._setMainSize(),d?this.renderForNonHTML5():this.renderForHTML5(),this.noUI||this._uiResize()},_convertedFileSize:function(a,b,c){var d=0,e="",f={};switch(b){case"kb":d=(a/1024).toFixed(c),e="KB";break;case"mb":d=(a/1024/1024).toFixed(c),e="MB";break;case"gb":d=(a/1024/1024/1024).toFixed(c),e="GB";break;default:d=a.toFixed(c),e="B"}return f={convertedSize:d,convertedUnit:e}},_setUploadedFileCount:function(a){this._$uploadedFileCount.html(a)},_setUplaodedFileSize:function(a,b){if(!d){var c=this._convertedFileSize(b,this.sizeType,2),e=c.convertedSize,f=c.convertedUnit;a.find("."+h.fileUploadSize).html(e+f+"/")}},_setTotalProgressBar:function(a){var b=this.getTotalSize(),c=0;0!=b&&(c=a/b*100),this._$progressBar.jqxProgressBar("val",c)},_changeFileItemStatus:function(b,c,d,f){var i=c.find("."+h.statusAreaText).is(":hidden"),j=c.find("."+h.fileStatusArea),k=c.find("."+h.fileButtonArea),l=c.find("."+h.fileProgress),m="",n=f/b.size*100,o=f;switch(j.empty(),b.status=d,this._uploadedSize[b.id]=f,d){case e.UPLOADING:m+="<span class='"+h.statusAreaUploadingIcon+" "+h.statusAreaIcon+"' title='"+this.localization.LIST_UPLOADING_STATUS+"'></span><span class='"+h.statusAreaUploadingText+" "+h.statusAreaText+"'>"+this.localization.LIST_UPLOADING_STATUS+"</span>",j.append(m),o=f;break;case e.COMPLETED:m+="<span class='"+h.statusAreaCompleteIcon+" "+h.statusAreaIcon+"' title='"+this.localization.LIST_COMPLETED_STATUS+"'></span><span class='"+h.statusAreaCompleteText+" "+h.statusAreaText+"'>"+this.localization.LIST_COMPLETED_STATUS+"</span>",j.append(m),o=b.size;for(var p=k.find(" > button"),q=0,r=p.length;q<r;q++)this._buttonDisabler(a(p[q]),!0);break;case e.CANCELED:m+="<span class='"+h.statusAreaCanceledIcon+" "+h.statusAreaIcon+"' title='"+this.localization.LIST_CANCELED_STATUS+"'></span><span class='"+h.statusAreaCanceledText+" "+h.statusAreaText+"'>"+this.localization.LIST_CANCELED_STATUS+"</span>",j.append(m),o=0;break;case e.READY:default:b.status=e.READY,m+="<span class='"+h.statusAreaReadyIcon+" "+h.statusAreaIcon+"' title='"+this.localization.LIST_READY_STATUS+"'></span><span class='"+h.statusAreaReadyText+" "+h.statusAreaText+"'>"+this.localization.LIST_READY_STATUS+"</span>",j.append(m)}j.find("."+h.statusAreaIcon).css({"float":"left",width:g.LIST_ITEM_STATUS_AREA_ICON_WIDTH,height:g.LIST_ITEM_STATUS_AREA_ICON_HEIGHT}),i&&j.find("."+h.statusAreaText).hide(),this._setUplaodedFileSize(c,o),l&&l.jqxProgressBar("val",n)},_controlAreaButtonEnabler:function(a,b,c,d){this._buttonDisabler(this._$addBtn,!a),this._buttonDisabler(this._$uploadBtn,!b),this._buttonDisabler(this._$resetBtn,!c),this._buttonDisabler(this._$cancelBtn,!d)},_buttonDisabler:function(a,b){b&&a.hasClass(h.jqxBtnHover)&&a.removeClass(h.jqxBtnHover),a.prop("disabled",b),b?a.addClass(h.jqxBtnDisabled):a.removeClass(h.jqxBtnDisabled)},_updateControlArea:function(){var a=this.getTotalSize(),b=this._convertedFileSize(a,this.sizeType,2),c=this.getTotalCount();d||(this._$totalSize&&this._$totalSize.html(b.convertedSize+b.convertedUnit),this._$totalCount&&this._$totalCount.html("of "+c),this._$uploadedFileCount&&this._setUploadedFileCount(this._fileDataModel.getUploadCompletedCnt())),c>0?this._controlAreaButtonEnabler(!0,!0,!0,!1):this._controlAreaButtonEnabler(!0,!1,!1,!1)},_renderFileItemArea:function(a){var b=this._convertedFileSize(a.size,this.sizeType,2),c="<div class='"+h.fileItemArea+"' data-fid='"+a.id+"'><div class='"+h.fileexticon+"'></div><div class='"+h.fileName+"'><span title='"+a.name+"'>"+a.name+"</span></div><div class='"+h.fileProgress+"'></div><div class='"+h.fileSize+"'><span class='"+h.fileUploadSize+"'>0/</span><span class='"+h.fileOriginalSize+"'>"+b.convertedSize+b.convertedUnit+"</span></div><div class='"+h.fileButtonArea+"'><button type='button' class='"+h.itemStartBtn+" "+h.itemBtn+h.jqxBtn+"' title='"+this.localization.LIST_START_BTN+"'><span class='"+h.itemStartBtnImg+" "+h.itemImg+"'></span><span class='"+h.itemStartBtnTxt+" "+h.itemBtnTxt+"'>"+this.localization.LIST_START_BTN+"</span></button><button type='button' class='"+h.itemCancelBtn+" "+h.itemBtn+h.jqxBtn+"' title='"+this.localization.LIST_CANCEL_BTN+"'><span class='"+h.itemCancelBtnImg+" "+h.itemImg+"'></span><span class='"+h.itemCancelBtnTxt+" "+h.itemBtnTxt+"'>"+this.localization.LIST_CANCEL_BTN+"</span></button></div><div class='"+h.fileStatusArea+"'></div></div>";this._$listArea.append(c);var f=this._$listArea.find("div[data-fid="+a.id+"]"),i=f.find("."+h.fileexticon),j=f.find("."+h.fileProgress),k=f.find("."+h.fileSize),l=f.find("."+h.fileStatusArea),m=f.find("."+h.fileButtonArea);i.addClass(this._setFileIconTo(a.name)),j.jqxProgressBar({animationDuration:0,renderText:function(){return b.convertedSize+b.convertedUnit}}),this._setFileBtn(m),this._changeFileItemStatus(a,f,e.READY,0),f.css({height:g.LIST_ITEM_AREA_HEIGHT,"line-height":g.LIST_ITEM_AREA_LINE_HEIGHT}),j.css({height:g.LIST_ITEM_AREA_PROGRESSBAR_HEIGHT}),i.css({width:g.LIST_ITEM_AREA_EXT_ICON_WIDTH,height:g.LIST_ITEM_AREA_EXT_ICON_HEIGHT}),m.find("."+h.itemImg).css({width:g.LIST_ITEM_BUTTON_AREA_BUTTON_IMG_WIDTH,height:g.LIST_ITEM_BUTTON_AREA_BUTTON_IMG_HEIGHT}),l.find("."+h.fileStatusIcon).css({width:g.LIST_ITEM_STATUS_AREA_ICON_WIDTH,height:g.LIST_ITEM_STATUS_AREA_ICON_HEIGHT}),this._fileItemSizeMaxWidth=f.find("."+h.fileSize).outerWidth(!0),this._showEachProgressArea||j.hide(),this._showEachFileSizeArea||k.hide(),d&&this._addInputForm(),this.noUI||this._uiResize(a.id)},_updateView:function(b,c){var g=this;switch(b){case f.ADD:if(g._updateControlArea(),c.file instanceof FileList)for(var i=0,j=c.file.length;i<j;i++)g._renderFileItemArea(c.file[i]);else g._renderFileItemArea(c.file);break;case f.REMOVE:var k=c.file,l=0;if(g._updateControlArea(),this._$listArea.find("div[data-fid="+k.id+"]").remove(),!d){delete this._uploadedSize[k.id];for(var m in this._uploadedSize)l+=this._uploadedSize[m];this._setTotalProgressBar(l)}break;case f.UPLOAD:var n=c.fid;if(this._controlAreaButtonEnabler(!1,!1,!1,!0),null!==n&&""!==n){var o=g._$listArea.find("div[data-fid="+n+"]");this._buttonDisabler(a(o.find("."+h.itemStartBtn)),!0),this._buttonDisabler(a(o.find("."+h.itemCancelBtn)),!1)}else for(var p=this._$listArea.find("."+h.fileButtonArea+" > button"),i=0,q=p.length;i<q;i++)this._buttonDisabler(a(p[i]),!0);break;case f.PROGRESS:var r=(c.total,c.uploadedSize),k=g._fileDataModel.getFile(c.fid),o=g._$listArea.find("div[data-fid="+k.id+"]");this._changeFileItemStatus(k,o,e.UPLOADING,r);var l=0;for(var m in this._uploadedSize)l+=this._uploadedSize[m];this._setTotalProgressBar(l);break;case f.COMPLETE:var s=[];if(void 0!=c.fid?s.push(this._fileDataModel.getFile(c.fid)):s=this._fileDataModel.getFileListInOrder(this._getFileOrderList()),d)for(var i=0;i<s.length;i++){var t=this._$listArea.find("div[data-fid="+s[i].id+"]");this._fileDataModel.setUploadCompletedCnt(this._fileDataModel.getUploadCompletedCnt()+1),this._changeFileItemStatus(s[i],t,e.COMPLETED,s[i].size),this._buttonDisabler(a(t.find("div.aui-fileuploader-item-area-filebuttonarea > *")),!0)}else{for(var i=0;i<s.length;i++){var t=this._$listArea.find("div[data-fid="+s[i].id+"]");this._fileDataModel.setUploadCompletedCnt(this._fileDataModel.getUploadCompletedCnt()+1),this._changeFileItemStatus(s[i],t,e.COMPLETED,s[i].size),g._setUploadedFileCount(this._fileDataModel.getUploadCompletedCnt())}g._fileDataModel.setUploadCompletedIndex(s.length)}g._controlAreaButtonEnabler(!1,!1,!0,!1),void 0!=g.uploadSuccess&&g.uploadSuccess(c.data);break;case f.ABORT:var s=g._fileDataModel.getFileListInOrder(g._getFileOrderList()),u=g._fileDataModel.getUploadCompletedIndex();if(void 0!==c&&void 0!=c.fid){var k=this._fileDataModel.getFile(c.fid),o=g._$listArea.find("div[data-fid="+c.fid+"]");g._changeFileItemStatus(k,o,e.CANCELED,0)}else for(var v=u,w=s.length;v<w;v++){var k=s[v],o=g._$listArea.find("div[data-fid="+k.id+"]");g._changeFileItemStatus(k,o,e.CANCELED,0)}g._setTotalProgressBar(0),g._fileDataModel.setUploadCompletedIndex(u),g._controlAreaButtonEnabler(!1,!1,!0,!1)}},_setFileBtn:function(b){var c=b.find("."+h.itemStartBtn),d=b.find("."+h.itemCancelBtn);switch(this.addHandler(c,"mouseenter",function(a){c.addClass(h.jqxBtnHover)}),this.addHandler(d,"mouseenter",function(a){d.addClass(h.jqxBtnHover)}),this.addHandler(c,"mouseleave",function(b){a(b.target);c.removeClass(h.jqxBtnHover)}),this.addHandler(d,"mouseleave",function(a){d.removeClass(h.jqxBtnHover)}),this.showListFileButton){case"both":c.show(),d.show();break;case"start":c.show(),d.hide();break;case"cancel":c.hide(),d.show();break;case"none":c.hide(),d.hide()}this.buttonIconOnly&&this._$listArea.find("."+h.itemBtnTxt).hide()},_setFileIconTo:function(a){var b=h.fileIcon,c=a.substr(a.lastIndexOf(".")+1).toLowerCase();switch(c){case"xls":case"xlsx":b=h.fileIconExcel;break;case"html":case"htm":b=h.fileIconHtml;break;case"avi":case"mov":case"mp4":case"wmv":b=h.fileIconMov;break;case"jpg":case"png":case"gif":case"raw":b=h.fileIconPic;break;case"ppt":case"pptx":b=h.fileIconPPT;break;case"doc":case"docx":b=h.fileIconWord;break;case"zip":case"jar":case"war":case"rar":b=h.fileIconZip;break;default:b=h.fileIcon}return b},_uiResize:function(a){d||(this._updateMainMinWidth(),this._setTotalProgressBarWidth());var b=this._$listArea.find("."+h.fileItemArea);if(!(this.getTotalCount()<=0)){b=void 0!=a?this._$listArea.find("div[data-fid="+a+"]"):this._$listArea.find("."+h.fileItemArea);var c=b.find("."+h.fileexticon),e=b.find("."+h.fileName),f=b.find("."+h.fileSize),g=b.find("."+h.fileButtonArea),i=b.find("."+h.fileStatusArea),j=i.find("."+h.fileStatusIcon),k=i.find("."+h.fileStatusTxt),l=function(){var a=c.outerWidth(!0)+g.outerWidth(!0)+i.outerWidth(!0);if(d)return a+parseInt(e.css("min-width"))+e.outerWidth(!0)-e.width();var j=b.find("."+h.fileProgress),k=j.outerWidth(!0)-j.width();return a+parseInt(j.css("min-width"))+(k+e.outerWidth(!0)+f.outerWidth(!0))};if(d){for(;this._$listArea.width()<=l();){if(!k.is(":visible")){var m=l()+(this.host.width()-this._$listArea.width());this.host.css({"min-width":m});break}this._fileItemStatusMaxWidth=i.outerWidth(!0),i.width(j.outerWidth(!0)),k.hide()}for(;this._$listArea.width()>l()&&k.is(":hidden")&&this._$listArea.width()>l()-i.outerWidth(!0)+this._fileItemStatusMaxWidth;)i.width(this._fileItemStatusMaxWidth),k.show();e.width(e.width()+b.width()-(l()+e.outerWidth(!0)))}else{for(var n=b.find("."+h.fileProgress),o=b.width()-(c.outerWidth(!0)+g.outerWidth(!0)+i.outerWidth(!0)+e.outerWidth(!0)+n.outerWidth(!0)+f.outerWidth(!0)),p=n.width()+o;this._$listArea.width()<=l();)if(f.is(":visible"))n.jqxProgressBar({showText:!0}),this._fileItemSizeMaxWidth=f.outerWidth(!0),f.width(0),f.hide();else{if(!f.is(":hidden")||!k.is(":visible")){var q=l()+(this.host.width()-this._$listArea.width());this.host.css({"min-width":q});break}this._fileItemStatusMaxWidth=i.outerWidth(!0),i.width(j.outerWidth(!0)),k.hide()}for(;this._$listArea.width()>l();)if(!k.is(":hidden")||this._$listArea.width()<=l()-i.outerWidth(!0)+this._fileItemStatusMaxWidth){if(!k.is(":visible")||!f.is(":hidden")||this._$listArea.width()<=l()-f.outerWidth(!0)+this._fileItemSizeMaxWidth)break;n.jqxProgressBar({showText:!1}),f.width(this._fileItemSizeMaxWidth),f.show()}else i.width(this._fileItemStatusMaxWidth),k.show();n.outerWidth(p),n.jqxProgressBar("refresh")}}},_updateMainMinWidth:function(){function a(){return progressBarOuterMinWidth+c._$buttonArea.outerWidth(!0)+c._fileControlButtonAreaMaxWidth}function b(){return c._$controlArea.width()<=a()}var c=this;if(progressbarOuterGap=c._$progressArea.outerWidth(!0)-c._$progressBar.width(),progressBarMinWidth=parseInt(c._$progressBar.css("min-width")),progressBarOuterMinWidth=progressBarMinWidth+progressbarOuterGap,b()){var d=a()+(c.host.width()-c._$controlArea.width());c.host.css({"min-width":d})}},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this;var d=new jQuery.Event(c);if(d.owner=this,d.args=args,null!=this.host)var e=this.host.trigger(d);return e},_clearFileInputValue:function(a){""!=a.val()&&(/MSIE/.test(navigator.userAgent)?a.wrap("<form>").closest("form").trigger("reset").unwrap():a.val(""))},_addHandlers:function(){var b=this;d&&this.addHandler(b._$uploadIframe,"load.jqxFileUpload",function(){if(b._iframeInitialized===!1)b._iframeInitialized=!0;else{var a=b._$uploadIframe.contents().find("body").html(),c=b._fileDataModel.getUploadCompletedIndex();if(a.indexOf('{"succ":true}')>-1)b._fileDataModel.notifyChange(4,{fid:c}),b._fileDataModel.setUploadCompletedIndex(c+1),b._fileDataModel.getUploadCompletedIndex()<b.getTotalCount()&&b.uploadFilesInSequential();else{b._fileDataModel.notifyChange(5);var d={reasontype:"ajax"};b._fileDataModel.notifyChange(6,d)}}}),this.host.on("change","input[type=file]",function(c){if(d){if(void 0!==this.value){var e={},f=this.value.substr(this.value.lastIndexOf("\\")+1),g=f.substr(f.lastIndexOf(".")+1);if(e.name=f,e.ext=g,!b._addFile(e))return;b._uiResize()}}else{var h=c.target.files;h.length>0&&b._addFile(h),b._clearFileInputValue(a(this))}}),d||!this.enableDragDrop||this.noUI||this._addDragDropHandlers(this._$dropArea),b.noUI||(b.addHandler(b._$addBtn,"mouseenter",function(){b._$addBtn.hasClass("jqx-fill-state-disabled")||b._$addBtn.addClass(h.jqxBtnHover)}),b.addHandler(b._$addBtn,"mouseleave",function(){b._$addBtn.removeClass(h.jqxBtnHover)}),b.addHandler(b._$uploadBtn,"mouseenter",function(){b._$uploadBtn.hasClass("jqx-fill-state-disabled")||b._$uploadBtn.addClass(h.jqxBtnHover)}),b.addHandler(b._$uploadBtn,"mouseleave",function(){b._$uploadBtn.removeClass(h.jqxBtnHover)}),b.addHandler(b._$resetBtn,"mouseenter",function(){b._$resetBtn.hasClass("jqx-fill-state-disabled")||b._$resetBtn.addClass(h.jqxBtnHover)}),b.addHandler(b._$resetBtn,"mouseleave",function(){b._$resetBtn.removeClass(h.jqxBtnHover)}),b.addHandler(b._$cancelBtn,"mouseenter",function(){b._$cancelBtn.hasClass("jqx-fill-state-disabled")||b._$cancelBtn.addClass(h.jqxBtnHover)}),b.addHandler(b._$cancelBtn,"mouseleave",function(){b._$cancelBtn.removeClass(h.jqxBtnHover)}),b.addHandler(b._$buttonArea.find("button"),"click",function(c){var e=a(this);e.hasClass(h.addBtn)?d||b._$fileInput.click():e.hasClass(h.uploadBtn)?b.uploadAtOnce?b.uploadAllFiles():b.uploadFilesInSequential():e.hasClass(h.resetBtn)?b.removeAllFiles():e.hasClass(h.controlArea)&&b.cancelUploads()}),b.addHandler(b._$listArea,"click.aui-fileuploader-item-area > div.aui-fileuploader-item-area-filebuttonarea > button",function(c){var e=a(c.target).closest("button"),f=a(c.target).closest("."+h.fileItemArea).data("fid");e.hasClass(h.jqxBtnDisabled)||(e.hasClass(h.itemStartBtn)?(b._controlAreaButtonEnabler(!1,!1,!1,!0),b.uploadFile(f)):e.hasClass(h.itemCancelBtn)&&(d?(b._controlAreaButtonEnabler(!0,!0,!0,!1),b.removeFile(f)):(b._controlAreaButtonEnabler(!0,!0,!0,!0),b._fileDataModel._xhrSet&&b._fileDataModel._xhrSet[f]?b.cancelUpload(f):b.removeFile(f))))}))},_removeHandlers:function(){if(this.removeHandler(this.host.find("input[type=file]"),"change"),!this.noUI){var a=".aui-fileuploader-item-area > div.aui-fileuploader-item-area-filebuttonarea > button";this.removeHandler(this._$addBtn,"mouseenter"),this.removeHandler(this._$addBtn,"mouseleave"),this.removeHandler(this._$uploadBtn,"mouseenter"),this.removeHandler(this._$uploadBtn,"mouseleave"),this.removeHandler(this._$resetBtn,"mouseenter"),this.removeHandler(this._$resetBtn,"mouseleave"),this.removeHandler(this._$cancelBtn,"mouseenter"),this.removeHandler(this._$cancelBtn,"mouseleave"),this.removeHandler(this._$buttonArea.find("button"),"click"),this.removeHandler(this._$listArea,"click"+a),this.removeHandler(this.host,"change"),this.removeHandler(this.host,"onerror")}},_setMainSize:function(){0!=this.width&&this.host.css("width",this.width)},_setTotalProgressBarWidth:function(){var a=this._$controlArea.width()-(this._$progressArea.outerWidth(!0)+this._$buttonArea.outerWidth(!0));this._$progressBar.outerWidth(this._$progressBar.width()+a),this._$progressBar.jqxProgressBar("refresh")},_getNewFileID:function(){return this._fileDataModel.getLastFileID()},_getFormID:function(a){return"fileForm_"+a},_getInputID:function(a){return"inputFile_"+this.element.id+"_"+a},_getFileOrderList:function(){var b,c=[];if(this.noUI){b=this.getFileInfoList();for(var d=0,e=b.length;d<e;d++)c.push(b[d].id)}else{b=this._$listArea.find("."+h.fileItemArea);for(var d=0,e=b.length;d<e;d++)c.push(a(b[d]).attr("data-fid"))}return c},_appendRequestParam:function(a,b){for(var c in b)a.append(c,b[c]);return a},_appendRequestParamForNonHTML5:function(b,c){return a.each(c,function(c,d){a("<input />").attr("name",c).attr("value",d).appendTo(b[0])}),b},_addFile:function(b){if(d){if(!this._validFile(b,this._fileDataModel.getTotalCount()))return;var c=this._getNewFileID();this._fileDataModel.addFile(b,a("#"+this._getFormID(c)))}else{if(b instanceof File){if(!this._validFile(b,this._fileDataModel.getTotalCount(),this._fileDataModel.getTotalSize()))return}else if(b instanceof FileList)for(var e=0,f=0,g=b.length;f<g;f++)if(e+=b[f].size,!this._validFile(b[f],this._fileDataModel.getTotalCount()+f,this._fileDataModel.getTotalSize()+e))return;this._fileDataModel.addFile(b)}if(void 0!=this._$listArea&&this._$listArea.children().length>0){this._$listArea.find("."+h.fileItemArea+":not(.jqx-draggable)")}return!0},_validFile:function(a,c,e){var f=a.name.substr(a.name.lastIndexOf(".")+1).toLowerCase(),g={fileName:null,fileExtension:null,fileSize:null,maxUploadSize:null,reasontype:null},h=null;if(d){if(b.assert(void 0!==a.name,"Invalid File Type Error"),0!=this.allowFileTypes.length&&this.allowFileTypes.indexOf(f.toLowerCase())==-1)return h={fileName:a.name,fileExtension:f,reasontype:"unsupportedextension"},b.extendif(g,h,"OEMC"),this._raiseEvent(6,g),!1;if(c+1>this.fileCountLimit)return h={reasontype:"filecountlimit"},b.extendif(g,h,"OEMC"),this._raiseEvent(6,g),!1;if(!this.allowFileDuplication){var i=this._fileDataModel.getFileMap();for(var j in i)if(i[j].name==a.name)return h={fileName:a.name,fileExtension:f,reasontype:"fileduplication"},b.extendif(g,h,"OEMC"),this._raiseEvent(6,g),!1}}else{if(b.assert(File&&a instanceof File||FileList&&a instanceof FileList,"Invalid File Type Error"),0!=this.allowFileTypes.length&&this.allowFileTypes.indexOf(f.toLowerCase())==-1)return h={fileName:a.name,fileExtension:f,fileSize:a.size,maxUploadSize:this.maxEachFileSize,reasontype:"unsupportedextension"},b.extendif(g,h,"OEMC"),this._raiseEvent(6,g),!1;if(c+1>this.fileCountLimit)return h={reasontype:"filecountlimit"},b.extendif(g,h,"OEMC"),this._raiseEvent(6,g),!1;if(a.size>this.maxEachFileSize)return h={fileName:a.name,fileExtension:f,fileSize:a.size,maxUploadSize:this.maxEachFileSize,reasontype:"sizelimit"},b.extendif(g,h,"OEMC"),this._raiseEvent(6,g),!1;if(e>this.maxUploadSize)return h={fileSize:e,maxUploadSize:this.maxUploadSize,reasontype:"totalsizelimit"},b.extendif(g,h,"OEMC"),this._raiseEvent(6,g),!1;if(!this.allowFileDuplication){var i=this._fileDataModel.getFileMap();for(var j in i)if(i[j].name==a.name)return h={fileName:a.name,fileExtension:f,fileSize:a.size,maxUploadSize:this.maxEachFileSize,reasontype:"fileduplication"},b.extendif(g,h,"OEMC"),this._raiseEvent(6,g),!1;
}}return!0},_addInputForm:function(){var a=this._$addBtn.offset(),b=this._$addBtn.outerWidth(!0),c=this._$addBtn.outerHeight(!0),d=this._getNewFileID(),e=this._getFormID(d),f=this._getInputID(d),g="<label for='"+f+"' style='z-index:9999999' title='"+this.localization.CONTROL_ADD_BTN+"'></label>",h="<form id='"+e+"' method='post' enctype='multipart/form-data' target='auiIframe' action='"+this.url+"'><input type='file' id='"+f+"' name='file_nm'/></form>";this._$fileInputFormArea.append(g),this._$fileInputFormArea.append(h),this._$fileInputFormArea.find("label").css({left:a.left,top:a.top,width:b,height:c})},_removeDragDropHandlers:function(){this.noUI?(this.removeHandler(this._$dropArea,"dragover"),this.removeHandler(this._$dropArea,"drop")):(this.removeHandler(this._$dropArea,"dragover"),this.removeHandler(this._$dropArea,"dragleave"),this.removeHandler(this._$dropArea,"drop"))},_addDragDropHandlers:function(a){var b=this;b.noUI?(a.on("dragover",function(a){a.preventDefault()}),a.on("drop",function(a){a.preventDefault();var c=a.originalEvent.dataTransfer,d=c.types[0],e="Files"==d?c.files:[];"Files"==d&&(void 0!==c.items&&c.items[0].webkitGetAsEntry().isDirectory||b._addFile(e))})):(a.on("dragover",function(b){b.preventDefault();var c=b.originalEvent.dataTransfer.types;"Files"==c[0]?a.hasClass(h.dragAllow)||a.addClass(h.dragAllow):a.hasClass(h.dragDeny)||a.addClass(h.dragDeny)}),a.on("dragleave",function(b){b.preventDefault(),a.hasClass(h.dragAllow)&&a.removeClass(h.dragAllow),a.hasClass(h.dragDeny)&&a.removeClass(h.dragDeny)}),a.on("drop",function(c){c.preventDefault();var d=c.originalEvent.dataTransfer,e=d.types[0],f="Files"==e?d.files:[];a.hasClass(h.dragAllow)&&a.removeClass(h.dragAllow),a.hasClass(h.dragDeny)&&a.removeClass(h.dragDeny),"Files"==e&&(void 0!==d.items&&d.items[0].webkitGetAsEntry().isDirectory||b._addFile(f))}))},addFile:function(a){this._addFile(a)},browseFile:function(){this._$fileInput.click()},removeFile:function(a){b.assert(void 0!=this._fileDataModel.getFile(a),"File not found!"),this._fileDataModel.removeFile(a)},removeAllFiles:function(){this._fileDataModel.setUploadCompletedCnt(0),this._fileDataModel.removeAllFiles(),this._fileDataModel.setUploadCompletedIndex(0),this._fileDataModel.setUploadCompletedSize(0)},uploadFile:function(a){void 0!=this._fileDataModel.getFile(a)&&this._fileDataModel.uploadFile(a,this.data,this.url)},uploadAllFiles:function(){0!==this._fileDataModel.getFileList().length&&this._fileDataModel.uploadAllFiles(this.data,this.url)},uploadFilesInSequential:function(){0!==this._fileDataModel.getFileList().length&&this._fileDataModel.uploadFilesInSequential(this._getFileOrderList(),this.data,this.url)},cancelUpload:function(a){b.assert(void 0!=this._fileDataModel.getFile(a),"File not found!"),this._fileDataModel.cancelUpload(a)},cancelUploads:function(){if(this.uploadAtOnce){if(!a.isEmptyObject(this._fileDataModel._xhrSet))for(var b in this._fileDataModel._xhrSet)this.cancelUpload(b)}else this._fileDataModel.cancelUploads()},getFileMap:function(){return this._fileDataModel.getFileMap()},getFileList:function(){return this._fileDataModel.getFileListInOrder(this._getFileOrderList())},getFileInfoList:function(){return this._fileDataModel.getFileList()},getTotalSize:function(){return this._fileDataModel.getTotalSize()},getTotalCount:function(){return this._fileDataModel.getTotalCount()},initDropArea:function(c){b.assert(0==d,"initDropArea method is not supported in IE9 and below."),b.assert(1==this.enableDragDrop,"enableDragDrop property should be enabled for initDropArea.");var e=null;e=c instanceof jQuery?c:a(c),b.assert(e.length>0,"Invalid dropArea Selector - "+c+". Please, if it is exist."),this._$dropArea&&this._removeDragDropHandlers(),this._$dropArea=e,this._addDragDropHandlers(e)}})}(jQuery,A),$.jqx.jqxWidget("jqxPager","",{}),$.extend($.jqx._jqxPager.prototype,{defineInstance:function(){this.totalPages=0,this.visiblePages=10,this.pageSize=10,this.prevTemplate=null,this.nextTemplate=null,this.firstTemplate=null,this.lastTemplate=null,this.autoHideControlButton=!1,this.navigationStyle="default",this.controlRenderer=function(){},this._controlRenderers=[],this.rendered=null,this._prev='<span class="aui-pager-icon"></span>',this._next='<span class="aui-pager-icon"></span>',this._first='<span class="aui-pager-icon"></span>',this._last='<span class="aui-pager-icon"></span>',this.firstPage=1,this.pagingStep=1,this.enable=!0,this.events=["pageChanged"],this._pageCaches=[],this._selectedPage=-1,this._$selectedPage=null,this._visibleFirstPage=-1,this._visibleLastPage=-1,this._$pagerContainer=null,this._$btnNext=null,this._$btnPrev=null,this._$btnFirst=null,this._$btnLast=null,this._$ellipsis=null,this._$lastPage=null,this._$customControlArea=null},createInstance:function(){if(this.host.addClass("aui-pager"),this._validateTotalPages(),this._validateVisiblePages(),this.prevTemplate&&(this._prev=this.prevTemplate),this.nextTemplate&&(this._next=this.nextTemplate),this.firstTemplate&&(this._first=this.firstTemplate),this.lastTemplate&&(this._last=this.lastTemplate),this.pagingStep<=0)throw new Error("[pager] pagingStep property must be a positive value");if("function"!=typeof this.controlRenderer)throw new Error("[pager] controlRender property must be a function")},refresh:function(a){this._renderPageNavigation(),this._renderCustomControls(),this._addEventHandler(),0!=this.totalPages&&this.movePage(0)},destroy:function(){this.host.remove()},_renderCustomControls:function(){if(this.controlRenderer){this._$customControlArea=$('<ul class="aui-pager-container aui-pager-custom"></ul>');var a=$("<li>"),b=this.controlRenderer();b&&(a.append(b),this._$customControlArea.append(a)),this.host.append(this._$customControlArea)}},_renderPageNavigation:function(){var a,b=this;this._$pagerContainer&&this._$pagerContainer.remove(),b.totalPages=parseInt(b.totalPages),b.visiblePages=parseInt(b.visiblePages),b._pageCaches=[],b._visibleFirstPage=-1,b._visibleLastPage=-1,b._selectedPage=-1,b._$selectedPage=null,a='<ul class="aui-pager-container">',a+=b._genFrontControl(),a+=b._genPagesHtml(),"fixed"!=b.navigationStyle&&(a+=b._genLastPageHtml()),a+=b._genRearControl(),this._$pagerContainer=$(a),b.host.prepend(this._$pagerContainer);var c=this.host.find("a[role=page]");$.each(c,function(a,c){var d=$(c);b._pageCaches.push(d)}),b._$btnFirst=b.host.find("a[role=first]"),b._$btnPrev=b.host.find("a[role=prev]"),b._$btnLast=b.host.find("a[role=last]"),b._$btnNext=b.host.find("a[role=next]"),this.autoHideControlButton&&this.totalPages<=this.visiblePages&&(this._$btnFirst.hide(),this._$btnPrev.hide(),this._$btnLast.hide(),this._$btnNext.hide()),b._$lastPage=b.host.find("a[role=lastpage]"),b._$ellipsis=b.host.find("a[role=ellipsis]"),this.totalPages<=0?(b._$lastPage.hide(),b._$ellipsis.hide()):(b._$lastPage.show(),b._$ellipsis.show()),this._initVisibleRange(),this._renderVisualPages(),this.rendered&&this.rendered(this._$pagerContainer)},_initVisibleRange:function(){var a,b;0==this.totalPages?(a=-1,b=-1):(a=this.firstPage,b=this.totalPages>=this.visiblePages?this.visiblePages:this.totalPages),this._visibleFirstPage=a,this._visibleLastPage=b},_genFrontControl:function(){var a="";return a+='<li><a role="first" class="aui-pager-control aui-pager-first aui-pager-disabled" onmousedown="return false">'+this._first+"</a></li>",a+='<li><a role="prev" class="aui-pager-control aui-pager-prev aui-pager-disabled" onmousedown="return false">'+this._prev+"</a></li>"},_genRearControl:function(){var a="";return a+='<li><a role="next" class="aui-pager-control aui-pager-next aui-pager-disabled" onmousedown="return false">'+this._next+"</a></li>",a+='<li><a role="last" class="aui-pager-control aui-pager-last aui-pager-disabled" onmousedown="return false">'+this._last+"</a></li>"},_genPagesHtml:function(){for(var a="",b=0;b<this.visiblePages;b++)a+='<li><a role="page" data-pager-page="-1" class="aui-pager-page" style="display:none" onmousedown="return false"></a></li>';return a},_genLastPageHtml:function(){var a="";return a+='<li><a role="ellipsis" class="aui-pager-page" onmousedown="return false">...</a></li>',a+='<li><a role="lastpage" data-pager-page="-1" class="aui-pager-page" onmousedown="return false">'+this.totalPages+"</a></li>"},_addEventHandler:function(){var a=this;a.host.on("click","a.aui-pager-page",function(b){if(a.enable){var c=$(b.target).data("pager-page");a.movePage(c-a.firstPage)}}),a.host.on("click","a.aui-pager-control",function(b){if(a.enable){var c=$(b.currentTarget);switch(c.attr("role")){case"first":a.moveFirstPage();break;case"last":a.moveLastPage();break;case"next":a.moveNextPage();break;case"prev":a.movePrevPage()}}})},_renderVisualPages:function(){var a,b,c,d=0;if(this._visibleLastPage<0&&this._visibleFirstPage<0)return $.each(this._pageCaches,function(a,b){b.hide()}),this._$btnFirst.addClass("aui-pager-disabled"),this._$btnPrev.addClass("aui-pager-disabled"),this._$btnLast.addClass("aui-pager-disabled"),this._$btnNext.addClass("aui-pager-disabled"),this._$ellipsis.hide(),void this._$lastPage.hide();for(c=this._visibleLastPage-this._visibleFirstPage,a=this._visibleFirstPage,len=this._visibleFirstPage+this.visiblePages-this.firstPage;a<=len;a++)b=this._getPageObject(a),d>c?b.hide():(b.show(),b.data("pager-page",a).text(a)),d++;this.totalPages<=this._visibleLastPage?(this._$ellipsis.hide(),this._$lastPage.hide()):(this._$ellipsis.show(),this._$lastPage.show(),this.totalPages!=this._$lastPage.data("pager-page")&&this._$lastPage.data("pager-page",this.totalPages).text(this.totalPages)),this._applyControlStyle()},_getPageObject:function(a){var b=a-this._visibleFirstPage;return this._pageCaches[b]},_applySelection:function(a){this._$selectedPage&&this._selectedPage>=this.firstPage&&this._$selectedPage.removeClass("aui-pager-selected"),this._selectedPage=parseInt(a),this._$selectedPage=this._getPageObject(this._selectedPage),this._$selectedPage.addClass("aui-pager-selected")},_applyControlStyle:function(){this._selectedPage==this.firstPage?(this._$btnFirst.addClass("aui-pager-disabled"),this._$btnPrev.addClass("aui-pager-disabled")):(this._$btnFirst.removeClass("aui-pager-disabled"),this._$btnPrev.removeClass("aui-pager-disabled")),this._selectedPage==this.totalPages?(this._$btnLast.addClass("aui-pager-disabled"),this._$btnNext.addClass("aui-pager-disabled")):(this._$btnLast.removeClass("aui-pager-disabled"),this._$btnNext.removeClass("aui-pager-disabled"))},_updateVisiblePages:function(a,b){a!=b&&(this._renderPageNavigation(),this.moveFirstPage())},updateTotalPagesByRowCount:function(a){var b,c;return a=parseInt(a),!(isNaN(a)||a<0)&&(b=this.totalPages,c=Math.ceil(a/this.pageSize),void this._updateTotalPages(c,b))},updateTotalPages:function(a){this._updateTotalPages(a,this.totalPages)},_updateTotalPages:function(a,b){a!=b&&(this.totalPages=a,this._$lastPage.text(a),this._initVisibleRange(),this._renderVisualPages(),this.autoHideControlButton&&(this.totalPages<=this.visiblePages?(this._$btnFirst.hide(),this._$btnPrev.hide(),this._$btnLast.hide(),this._$btnNext.hide()):(this._$btnFirst.show(),this._$btnPrev.show(),this._$btnLast.show(),this._$btnNext.show())),this.movePage(this.getSelectedPageIndex(),!1))},movePage:function(a,b){var c,d=parseInt(a)+parseInt(this.firstPage);if(0==this.totalPages)return!1;if(isNaN(d))return!1;if(d=parseInt(a)+this.firstPage,d<this.firstPage&&(d=this.firstPage),d>this.totalPages&&(d=this.totalPages),d==this._selectedPage)return!1;if("fixed"==this.navigationStyle){var e=this.totalPages>=this.visiblePages?this.visiblePages:this.totalPages,f=Math.floor(this.visiblePages/2)+1;d<=f?this._visibleFirstPage=this.firstPage:d+f-1>this.totalPages?this._visibleFirstPage=this.totalPages-e+1:this._visibleFirstPage=d-f+1,this._visibleLastPage=this._visibleFirstPage+e-1,this._renderVisualPages()}else d>this._visibleLastPage?(c=d-this._visibleLastPage,this._visibleFirstPage+=c,this._visibleLastPage+=c,this._renderVisualPages()):d<this._visibleFirstPage&&(c=this._visibleFirstPage-d,this._visibleFirstPage-=c,this._visibleLastPage-=c,this._renderVisualPages());return this._applySelection(d),this._applyControlStyle(),0!=b&&this.raiseEvent(0),!0},moveFirstPage:function(){return this.movePage(0)},moveLastPage:function(){return this.movePage(this.totalPages-1)},movePrevPage:function(){return this.movePage(this._selectedPage-this.pagingStep-this.firstPage)},moveNextPage:function(){return this.movePage(parseInt(this._selectedPage)+parseInt(this.pagingStep)-this.firstPage)},getSelectedPage:function(){return this._selectedPage},getSelectedPageIndex:function(){return this._selectedPage-this.firstPage},raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a],d=b?b:{};d.owner=this;var e=new $.Event(c);e.owner=this,e.args=d,0==a&&(e.args.pageIndex=this._selectedPage-this.firstPage,e.args.page=this._selectedPage);var f=this.host.trigger(e);return f},_validateTotalPages:function(){if(this.totalPages<0)throw new Error("jqxPager: totalPages cannot be a negative value")},_validateVisiblePages:function(){if(this.visiblePages<=0)throw new Error("jqxPager: visiblePages should be bigger than zero.")},propertyChangedHandler:function(a,b,c,d){switch(b){case"totalPages":this._validateTotalPages(),this.totalPages=parseInt(d),this._updateTotalPages(d,c);break;case"visiblePages":this._validateVisiblePages(),this.visiblePages=parseInt(d),this._updateVisiblePages(d,c);break;case"autoHideControlButton":d&&this.totalPages<=this.visiblePages?(this._$btnFirst.hide(),this._$btnPrev.hide(),this._$btnLast.hide(),this._$btnNext.hide()):(this._$btnFirst.show(),this._$btnPrev.show(),this._$btnLast.show(),this._$btnNext.show());break;case"controlRenderer":this._$customControlArea&&this._$customControlArea.off().remove(),this._renderCustomControls()}}}),function(a,b){function c(){this._dataMap={}}function d(a){this.repeater=a,this.template=null,this._$repeatTemplate=null,this._bindCache=[],this._tagKeyNameArray=["text","value","link"],this._valueTagArray=["input","select","textarea"],this._eventRepeatIdFormat="[data-repeatId={*}]",this.init()}function e(a,b){this.eventBindAttrArray=[],this.dataBindAttrArray=[],this.$self=null,this.tagName=null,this.repeatId=b,this.init(a)}var f=Object.prototype.hasOwnProperty;a.jqx.jqxWidget("jqxRepeater","",{}),a.extend(a.jqx._jqxRepeater.prototype,{defineInstance:function(){this.template=null,this.templateUrl=null,this.data=null,this.r$fm=null,this._forceRepeatCount=0,this.afterRepeat=null,this.complete=null,this._dataModel=null,this._repeatModel=null,this._dataCount=0},createInstance:function(){var b=this;b._dataModel=new c,b.templateUrl?a.ajax({url:b.templateUrl,async:!1,success:function(a){b.template=a,b._dataBind()}}):(b.template||(b.template=b.host.html()),b._dataBind())},refresh:function(a){a||this._render()},propertyChangedHandler:function(a,b,c,d){switch(b=b.toLowerCase()){case"template":case"templateUrl":break;case"data":case"r$fm":c!=d&&a._dataBind()}},destroy:function(){this._dataModel&&this._dataModel.destroy(),this._repeatModel&&this._repeatModel.destroy(),this.host.remove()},dataBind:function(a){this.data=a,this._dataBind()},getRepeatElement:function(a){return this.host.find("> [role=repeat]").eq(a)},getItem:function(a){return this._dataModel.getRow(a)},_dataBind:function(){var a=this;a._repeatModel=new d(a),b.isModule(a.data,"dataset")?a.data.on(b.DS_EVENT.TRANSACTION_END,function(){a.data=this.getRowAllObject(),a._recombineData(),a._render()}):(a.data?a._recombineData():a._dataCount=a._forceRepeatCount,a._render())},_render:function(){this.host.empty();for(var c=null,d=null,e=0,f=this._dataCount;e<f;e++)c=b.copyObject(this._dataModel.getRow(e)),d=a(this._repeatModel.getRepeatedHtml(e,c)),this.host.append(d),this.afterRepeat&&(c=c?c:null,this.afterRepeat(e,d,c));this.complete&&this.complete()},_recombineData:function(){var a=b.copyObject(this.data),c=null;b.isArray(a)?c=a:b.isObject(a)?(c=[],c[0]=a):b.isString(a)&&(c=a.split(",")),this._dataCount=c.length,this._dataModel.set(c)},_getData:function(a,b){return this._dataModel.get(a,b)}}),c.prototype={init:function(){},destroy:function(){this._dataMap={}},set:function(b){var c=this;a.each(b,function(a,b){c._dataMap[a]=b})},get:function(a,c){var d,e=b.copyObject(c);if(b.isObject(c)&&a.indexOf(".")>-1){for(var g=a.split("."),h=0;h<g.length;h++){var i=g[h];e=e[i]}d=e}else d=f.call(c,a)?c[a]:c;return d},getRow:function(a){return this._dataMap[a]}},d.prototype={init:function(){var c=this;c.template=b.copyObject(c.repeater.template),c._$repeatTemplate=a("<div>").append(c.template),a.each(c._$repeatTemplate.children(),function(){a(this).attr("role","repeat")}),c._compile()},destroy:function(){this.repeater=null,this.template=null,this._$repeatTemplate=null},_compile:function(){var b=this,c=b._$repeatTemplate.find("[data-bind], [data-event]");a.each(c,function(c){b._bindCache.push(new e(a(this),c))})},getRepeatedHtml:function(a,b){for(var c=0,d=this._bindCache.length;c<d;c++){var e=this._bindCache[c];e.$self.attr("data-repeatId",e.repeatId+"-"+a),b&&this._bindData(e,b),this._bindEvents(e,b,a)}return this._$repeatTemplate.html()},_bindData:function(b,c){for(var d=0;d<b.dataBindAttrArray.length;d++){var e=b.dataBindAttrArray[d],f=e.key,g=e.value,h=this.repeater._getData(g,c);if(a.inArray(f,this._tagKeyNameArray)==-1)throw f+" is not a supported keyword.";if(!h)throw g+" does not exist";switch("value"!=f&&a.inArray(b.tagName,this._valueTagArray)>-1&&(f="value"),"value"==f&&a.inArray(b.tagName,this._valueTagArray)==-1&&(f="text"),f){case"value":b.$self.attr("value",h);break;case"text":b.$self.text(h);break;case"link":"img"==b.tagName?b.$self.attr("src",h):"a"==b.tagName&&b.$self.attr("href",h)}}},_bindEvents:function(a,b,c){for(var d=b?b:{},e=0;e<a.eventBindAttrArray.length;e++){var f=a.eventBindAttrArray[e],g=f.key,h=f.value;this._addEventHandler(a,h,g,d,c)}},_addEventHandler:function(a,b,c,d,e){var f=this.repeater.r$fm[b],g=this._eventRepeatIdFormat.replace("{*}",a.$self.attr("data-repeatId")),h=a.tagName+g;if("function"!=typeof f)throw b+" function does not exist";var i=new jQuery.Event(c),j={};j.data=d?d:{},j.index=e,i.args=j,this.repeater.host.off(c,h),this.repeater.host.on(c,h,function(){f.apply(this,[i])})},_removeEventHandler:function(){}};var g={KEY_REG_EXP:/:\s*\w+.?\w*\s*/g,VALUE_REG_EXP:/\s*\w+\s*:/g};e.prototype={init:function(a){this.$self=a,this.tagName=a[0].tagName.toLowerCase(),a.data("bind")&&this._parseAttribute(a,"bind",this.dataBindAttrArray),a.data("event")&&this._parseAttribute(a,"event",this.eventBindAttrArray)},destroy:function(){this.eventBindAttrArray=null,this.dataBindAttrArray=null,this.$self=null},_parseAttribute:function(a,b,c){for(var d=a.data(b),e=d?d.split(","):[],f=0,h=e.length;f<h;f++){var i=e[f],j={};j.key=i.replace(g.KEY_REG_EXP,"").trim(),j.value=i.replace(g.VALUE_REG_EXP,"").trim(),c.push(j)}}}}(jQuery,A),function(a,b){function c(){return{name:"",title:"",length:"",order:"",isDefault:!0,isEssential:!1,$option:null}}function d(a){this.mapKeys=[],this.map={},this.parent=a,this.add=function(a,b){this.mapKeys.push(a),this.map[a]=b},this.get=function(a){return this.map[a]},this.keys=function(){return this.mapKeys},this.getLength=function(){return this.mapKeys.length},this.getOrderedList=function(){for(var a=[],b=0,c=this.mapKeys.length;b<c;b++)a.push(this.get(this.mapKeys[b]));return a.sort(function(a,b){return a.order-b.order}),a},this.getListToSave=function(){for(var a=this.getOrderedList(),b=[],c=0,d=a.length;c<d;c++){var e=a[c],f={name:e.name,title:e.title,order:e.order,length:e.length,isDefault:e.isDefault,isEssential:e.isEssential};b.push(f)}return b},this.updateFromSetting=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b].name,e=this.get(d);e.isDefault=a[b].isDefault,e.order=a[b].order}this.notifyChanges(i.COLLECTION_CHANGED)},this.updateFromLocalStorage=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=this.get(c.name);d.order=c.order,d.isDefault=c.isDefault,d.isEssential=c.isEssential}this.notifyChanges(i.COLLECTION_CHANGED)},this.notifyChanges=function(a){this.parent._updateChanges(a)}}function e(c){var d=c;this.settingDisableText=a("div."+g.btnArea+" > span."+g.warningText,d.$settingPopup),this.jqxListBoxSourceDefault=[],this.jqxListBoxSourceDetail=[],this.defaultOptionCount=0,this.detailOptionCount=0,this.enableSettings=!0,this.maxDefaultOptionCount=d.maxDefaultOptionCount,this.minDefaultOptionCount=d.minDefaultOptionCount,this.renderSettingPopup=function(){var b,c,e,f,h,i;b=a('<div class="'+g.$settingPopup+'"><div class="'+g.settingTitle+'">'+d.localization.settingTitle+'</div><div class="'+g.settingArea+'" style="position:relative;"><div style="position:absolute; width:'+(1*d.settingPopupOption.popup.width-20)+'"px/></div></div>'),b.appendTo(this.host),c=b.find("div."+g.settingArea+" div:first-child"),e=a('<div style="display:inline-block"/>'),e.appendTo(c),h=a('<div style="display:inline-block;vertical-align: top; margin: 65px 10px 0 10px"class="'+g.leftRightBtnArea+'"></div>'),h.append(a('<button type="button" class="'+g.btnLeft+'" style="display:block">'+d.localization.moveLeft+"</button>").jqxButton()),h.append(a('<button type="button" class="'+g.btnRight+'" >'+d.localization.moveRight+"</button>").jqxButton()),h.appendTo(c),f=a('<div style="display:inline-block"/>'),f.appendTo(c),i=a('<div class="'+g.btnArea+'" style="text-align:right"></div>'),i.append('<span class="'+g.warningText+'" style="display:none;width:200px;text-align:left">'+d.localization.settingDisabled+"</span>"),i.append(a('<button type="button" class="'+g.btnClear+'">'+d.localization.clear+"</button>").jqxButton()),i.append(a('<button type="button" class="'+g.btnSave+'">'+d.localization.save+"</button>").jqxButton()),i.append(a('<button type="button" class="'+g.btnCancel+'">'+d.localization.cancel+"</button>").jqxButton()),i.appendTo(c),d._domCache.$settingAreaListBoxDefault=e,d._domCache.$settingAreaListBoxDetail=f,d._domCache.$settingAreaLRBtnsArea=h,d._domCache.$settingPopup=b,this.createListBoxInstance(),this.addEventHandler()},this.createListBoxInstance=function(){var a=d._domCache,b=d.settingPopupOption.popup.width,c=d.settingPopupOption.popup.height,e=d.settingPopupOption.listbox.width,f=d.settingPopupOption.listbox.height;a.$settingAreaListBoxDefault.jqxListBox({allowDrag:!0,allowDrop:!1,source:this.jqxListBoxSourceDefault,width:e,height:f,dragStart:function(){a.$settingAreaListBoxDefault.jqxListBox({allowDrop:!0}),a.$settingAreaListBoxDetail.jqxListBox({allowDrop:!1})}}).on("select",function(){a.$settingAreaListBoxDetail.jqxListBox("clearSelection")}),a.$settingAreaListBoxDetail.jqxListBox({allowDrag:!0,allowDrop:!1,source:this.jqxListBoxSourceDetail,width:e,height:f,dragStart:function(){a.$settingAreaListBoxDefault.jqxListBox({allowDrop:!1}),a.$settingAreaListBoxDetail.jqxListBox({allowDrop:!0})}}).on("select",function(){a.$settingAreaListBoxDefault.jqxListBox("clearSelection")}),a.$settingPopup.jqxWindow({width:b,height:c,resizable:!1,autoOpen:!1})},this.addEventHandler=function(){function b(){d._domCache.$settingPopup.jqxWindow("close"),d._needToSyncModelAndSettings=!0}function c(){d._save(),d._domCache.$settingPopup.jqxWindow("close")}var e=this;a("button",d._domCache.$settingPopup).on("click",function(a){switch(f(a.currentTarget)){case g.btnLeft:e.moveLeft();break;case g.btnRight:e.moveRight();break;case g.btnSave:c();break;case g.btnCancel:b();break;case g.btnClear:d.clearPersonalize()}})},this.disable=function(){this.enableSettings=!1,this.settingDisableText.show()},this.enable=function(){this.enableSettings=!0,this.settingDisableText.hide()},this.setData=function(a){b.clearArray(this.jqxListBoxSourceDefault),b.clearArray(this.jqxListBoxSourceDetail),this.detailOptionCount=0,this.defaultOptionCount=0;for(var c=0,d=a.length;c<d;c++){var e=a[c],f={value:{name:e.name,order:e.order,length:e.length,isEssential:e.isEssential,isDefault:e.isDefault}};1==e.isEssential?(f.html='<div class="'+g.settingItem+" "+g.settingItemEssential+'">'+e.title+"</div>",this.jqxListBoxSourceDefault.push(f),this.defaultOptionCount++):(f.html='<div class="'+g.settingItem+'">'+e.title+"</div>",1==e.isDefault?(this.jqxListBoxSourceDefault.push(f),this.defaultOptionCount++):(this.jqxListBoxSourceDetail.push(f),this.detailOptionCount++))}},this.reload=function(a){this.setData(a),d._domCache.$settingAreaListBoxDefault.jqxListBox({source:this.jqxListBoxSourceDefault}).jqxListBox("refresh"),d._domCache.$settingAreaListBoxDetail.jqxListBox({source:this.jqxListBoxSourceDetail}).jqxListBox("refresh")},this.moveLeft=function(){var a=d._domCache.$settingAreaListBoxDefault,b=d._domCache.$settingAreaListBoxDetail,c=b.jqxListBox("getSelectedItem");if(c){if(this.defaultOptionCount>=this.maxDefaultOptionCount)return d._raiseEvent(1),void d._raiseEvent(2,{option:c.value,reason:{moveEssential:!1,hitMinCount:!1,hitMaxCount:!0}});c.value.isDefault=!0,a.jqxListBox("addItem",c),b.jqxListBox("removeItem",c),this.defaultOptionCount++,this.detailOptionCount--}},this.moveRight=function(){var a=d._domCache.$settingAreaListBoxDefault,b=d._domCache.$settingAreaListBoxDetail,c=a.jqxListBox("getSelectedItem");if(c){if(1==this.defaultOptionCount)return d._raiseEvent(1),void d._raiseEvent(2,{option:c.value,reason:{moveEssential:!1,hitMinCount:!0,hitMaxCount:!1}});if(c.value.isEssential)return void d._raiseEvent(2,{option:c.value,reason:{moveEssential:!0,hitMinCount:!1,hitMaxCount:!1}});c.value.isDefault=!1,b.jqxListBox("addItem",c),a.jqxListBox("removeItem",c),this.defaultOptionCount--,this.detailOptionCount++}},this.getDefaultItemsSize=function(){return d._domCache.$settingAreaListBoxDefault.jqxListBox("getItems").length},this.getDetailItemsSize=function(){return d._domCache.$settingAreaListBoxDetail.jqxListBox("getItems").length},this.getAllItems=function(){var a,b=[],c=d._domCache.$settingAreaListBoxDefault.jqxListBox("getItems"),e=d._domCache.$settingAreaListBoxDetail.jqxListBox("getItems"),f=0;for(f=0;f<c.length;f++)a=c[f].value,a.order=b.length,b.push(a);for(f=0;f<e.length;f++)a=e[f].value,a.order=b.length,b.push(a);return b}}function f(a){var b="";if(a.classList)b=a.classList[0];else{var c=a.className.split(" ");b=c[0]}return b}a.jqx.jqxWidget("jqxSearchBox","",{});var g={base:"aui-searchbox",options:"aui-searchbox-options",searchArea:"aui-searchbox-searcharea",option:"aui-searchbox-option",btnArea:"aui-searchbox-btnarea",$settingPopup:"aui-searchbox-settingpopup",settingArea:"aui-searchbox-settingarea",settingItem:"aui-searchbox-setting-item",settingItemEssential:"aui-searchbox-setting-essential",leftRightBtnArea:"aui-searchbox-btnarea-lr",settingTitle:"aui-searchbox-setting-title",warningText:"aui-searchbox-txt-warning",btnSearch:"aui-searchbox-btn-search",btnReset:"aui-searchbox-btn-reset",btnSetting:"aui-searchbox-btn-setting",btnSave:"aui-searchbox-btn-save",btnCancel:"aui-searchbox-btn-cancel",btnHide:"aui-searchbox-btn-hide",btnShow:"aui-searchbox-btn-show",btnLeft:"aui-searchbox-btn-left",btnRight:"aui-searchbox-btn-right",btnClear:"aui-searchbox-btn-clear"},h="SEARCHBOX",i={COLLECTION_CHANGED:1,PERSONALIZE_ENABLED:2,PERSONALIZE_DISABLED:3};a.extend(a.jqx._jqxSearchBox.prototype,{defineInstance:function(){this.lswKey="",this.maxDefaultOptionCount=7,this.minDefaultOptionCount=1,this.maxRowLength=4,this.onSearchClick=function(){},this.onResetClick=function(){},this.onClearClick=function(){window.location.reload()},this.enablePersonalize=!1,this.enableRemotePersonalize=!0,void 0==this.culture&&(this.culture="default"),this.lswRequestParam={},this.showResetButton=!0,this.localization={search:"Search",setting:"Setting",hideDetail:"",showDetail:"",save:"Save",cancel:"Cancel",clear:"Clear",moveLeft:"<<",moveRight:">>",reset:"Reset",settingTitle:"Search Option Setting",settingDisabled:"Preventing to save personalized search options. Incorrect search options are loaded."},this.settingPopupOption={popup:{width:"345",height:"245"},listbox:{width:"140",height:"170"}},this.events=["change","personalizelimit","optionMoveFail"],this._domCache={},this._$renderPointDefaultOption=null,this._$renderPointDetailOption=null,this._searchOptionCollection=new d(this),this._settingActions=null,this._settingPopupRendered=!1,this._needToSyncModelAndSettings=!0},createInstance:function(b){function c(b){for(var c=null,d=0,e=b.length;d<e;d++){var f=a(b[d]),g=f[0].tagName.toLowerCase();if(void 0!==f.data("name")||"ul"===g.toLowerCase())break;c=f}return c}var d=this.host.children("div");if(2==d.length){if(this._settingActions=new e(this),""==this.lswKey&&(this.lswKey+=h+"_"+window.location.pathname+"_"+this.host.attr("id")),window._lsw&&(this.$storage$=window._lsw,this.$storageKey$=this.lswKey),this._validateCanUseLSW(),a.global&&a.global.preferCulture(this.culture),"default"!=this.culture)if(a.global)a.global.preferCulture(this.culture),this.localization=a.global.culture.searchbox;else if(Globalize){var f=Globalize.culture(this.culture);this.localization=f.searchbox}this._domCache={$defaultArea:d.first(),$detailArea:d.last(),$defaultAreaButtons:void 0,$detailAreaButtons:void 0,$settingPopup:void 0,$settingAreaListBoxDefault:void 0,$settingAreaListBoxDetail:void 0,$settingAreaLRBtnsArea:void 0},this._$renderPointDefaultOption=c(this._domCache.$defaultArea.children()),this._$renderPointDetailOption=c(this._domCache.$detailArea.children()),this._initSearchOptionCollection()}},refresh:function(a){a?(this._render(),this._addEventHandler()):this._render(),this.enablePersonalize&&this._loadPersonalizedData()},destroy:function(){this._domCache&&(this._domCache.$defaultAreaButtons&&(a.each(this._domCache.$defaultAreaButtons.find("button"),function(b,c){a.data(c,"jqxWidget").destroy()}),this._domCache.$defaultAreaButtons.remove()),void 0!=this._domCache.$detailAreaButtons&&(a.each(this._domCache.$detailAreaButtons.find("button"),function(b,c){a.data(c,"jqxWidget").destroy()}),this._domCache.$detailAreaButtons.remove()),this._domCache.$settingPopup&&(this._domCache.$settingAreaListBoxDefault&&(this._domCache.$settingAreaListBoxDefault.jqxListBox("destroy"),this._domCache.$settingAreaListBoxDefault.remove()),this._domCache.$settingAreaListBoxDetail&&(this._domCache.$settingAreaListBoxDetail.jqxListBox("destroy"),this._domCache.$settingAreaListBoxDetail.remove()),a.each(this._domCache.$settingPopup.find("button"),function(b,c){a.data(c,"jqxWidget").destroy()}),this._domCache.$settingPopup.jqxWindow("destroy"),a("button",this._domCache.$settingPopup).off(),this._domCache.$settingPopup.remove())),a("button",this.host).off(),delete this._domCache,this.host.off().remove()},getOptionList:function(){},getOptionListBy2d:function(){function a(a){var c=[],e=0,f=0,g=0,h=0;for(h=0;h<d.maxRowLength;h++)c[h]=[];for(h=0;h<a.length;h++){var i=a[h];i=b.copyObject(i),g+i.length>d.maxRowLength&&(f++,g=0),e=g,c[e][f]=i,g+=i.length}return c}function c(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a[d],f=0,g=0;g<e.length;g++){var h=e[g];h&&(b[c]instanceof Array||(b[c]=[]),b[c][f]=h,f++)}b[c]instanceof Array&&c++}return b}var d=this,e=null,f=null;return e=a(this._searchOptionCollection.getOrderedList()),f=c(e)},_initSearchOptionCollection:function(){function b(b,c){a.each(b,function(b,e){var f=a(e);f.addClass(g.option),d(f,c)})}function d(b,d){var f=b.data("name"),g=f,h=b.data("length"),i=!!b.data("essential"),j=a("span:first-child",b);1==j.length&&(g=j.text());var k=c();k.name=f,k.title=g,k.length=h,k.order=e._searchOptionCollection.getLength(),k.isDefault=d,k.isEssential=i,k.$option=b,e._searchOptionCollection.add(k.name,k)}var e=this;b(this._domCache.$defaultArea.find("div[data-name]"),!0),b(this._domCache.$detailArea.find("div[data-name]"),!1)},_updateChanges:function(a){switch(a){case i.COLLECTION_CHANGED:this._arrangeOptions();break;case i.PERSONALIZE_ENABLED:this._loadPersonalizedData();break;case i.PERSONALIZE_DISABLED:}},_reloadSettingPopupOptions:function(){this._settingActions.reload(b.copyObject(this._searchOptionCollection.getOrderedList()))},_loadPersonalizedData:function(){
var a=this;if(this.enablePersonalize){var b=function(b){null!=b&&void 0!=b&&""!=b&&b!=-1&&(a._needToSyncModelAndSettings=!0,a._searchOptionCollection.updateFromLocalStorage(b))},c=this._makeWidgetStorageArguments();c.loadResultCallback=b,this.$storage$.load(c)}},_save:function(){if(this.enablePersonalize){this._searchOptionCollection.updateFromSetting(this._settingActions.getAllItems());var a=this._makeWidgetStorageArguments();a.storageData=this._searchOptionCollection.getListToSave(),this.$storage$.save(a)}},_render:function(){this._renderBase(),this._renderSearchAreaBtns()},_renderBase:function(){this.host.addClass(g.base)},_renderSearchAreaBtns:function(){var b,c,d=this._domCache.$defaultArea,e=this._domCache.$detailArea;c=a('<div style="text-align:right;" class="'+g.btnArea+'"></div>'),this.showResetButton&&c.append(a('<button type="button" class="'+g.btnReset+'">'+this.localization.reset+"</button>").jqxButton()),c.append(a('<button type="button" class="'+g.btnSearch+'">'+this.localization.search+"</button>").jqxButton()),c.append(a('<button type="button" class="'+g.btnShow+'">'+this.localization.showDetail+"</button>").jqxButton()),d.addClass(g.searchArea).append(c),b=a('<div style="text-align:right;" class="'+g.btnArea+'"></div>'),b.append(a('<button type="button" class="'+g.btnSetting+'">'+this.localization.setting+" </button>").jqxButton({disabled:!this.enablePersonalize})),this.showResetButton&&b.append(a('<button type="button" class="'+g.btnReset+'">'+this.localization.reset+" </button>").jqxButton()),b.append(a('<button type="button" class="'+g.btnSearch+'">'+this.localization.search+"</button>").jqxButton()),b.append(a('<button type="button" class="'+g.btnHide+'">'+this.localization.hideDetail+"</button>").jqxButton()),e.addClass(g.searchArea).append(b).hide(),this._domCache.$defaultAreaButtons=c,this._domCache.$detailAreaButtons=b},_addEventHandler:function(){function b(){i.show(),j.hide()}function c(){h._settingPopupRendered&&(h._domCache.$settingPopup.jqxWindow("close"),h._needToSyncModelAndSettings=!0),i.hide(),j.show()}function d(a){if(h._settingPopupRendered||(h._settingActions.renderSettingPopup(),h._settingPopupRendered=!0),h._domCache.$settingPopup.is(":visible"))h._domCache.$settingPopup.jqxWindow("close"),h._needToSyncModelAndSettings=!0;else{var b=a.left-h.settingPopupOption.popup.width+30,c=a.top+20;b<0&&(b=0),h._needToSyncModelAndSettings&&(h._reloadSettingPopupOptions(),h._needToSyncModelAndSettings=!1),h._domCache.$settingPopup.jqxWindow({position:{x:b,y:c}}).jqxWindow("open")}}function e(){h._settingPopupRendered&&h._domCache.$settingPopup.jqxWindow("close"),k()}var h=this,i=this._domCache.$detailArea,j=this._domCache.$defaultAreaButtons,k=this.onSearchClick;this._settingActions;a("button",this.host).on("click",function(i){switch(f(i.currentTarget)){case g.btnSearch:e();break;case g.btnSetting:d(a(i.target).offset());break;case g.btnHide:c();break;case g.btnShow:b();break;case g.btnReset:h.onResetClick()}})},_arrangeOptions:function(){function a(a,b,d){var e='<ul class="'+g.options+'"></ul>';d?c._$renderPointDefaultOption?c._$renderPointDefaultOption.after(e):a.prepend(e):c._$renderPointDetailOption?c._$renderPointDetailOption.after(e):a.prepend(e);for(var f=a.find("ul:eq(0)"),h=f.append("<li></li>").children().last(),i=0,j=0;j<b.length;j++){var k=b[j],l=k.length;l+i<=c.maxRowLength?(h.append(k.$option),i+=l):(i=l,h=f.append("<li></li>").children().last(),h.append(k.$option))}}function b(a){2==a.find("ul").length&&a.find("ul:eq(1)").remove()}for(var c=this,d=[],e=[],f=this._searchOptionCollection.getOrderedList(),h=0,i=f.length;h<i;h++){var j=f[h];1==j.isDefault?d.push(j):e.push(j)}a(this._domCache.$defaultArea,d,!0),a(this._domCache.$detailArea,e,!1),b(this._domCache.$defaultArea),b(this._domCache.$detailArea),this._raiseEvent(0)},clearPersonalize:function(){this.enablePersonalize&&(this.$storage$.remove(this._makeWidgetStorageArguments()),this.onClearClick())},_makeWidgetStorageArguments:function(){var a=this,b={key:a.$storageKey$,widgetName:"jqxSearchBox",loadResultCallback:null,storageData:null};return window._lsw&&(b.requestParam=this.lswRequestParam),b},_validateCanUseLSW:function(){if(!this.$storage$)throw new Error("jqxSearchBox: Personalization of grid's columns can be applied only if WidgetStorage instance is set via '$storage$' property.");if(null===this.$storageKey$||void 0===this.$storageKey$)throw new Error("jqxSearchBox: Personalization of grid's columns can be applied only if Local Storage Key is set via '$storageKey$' property.")},propertyChangedHandler:function(a,b,c,d){switch(b){case"enablePersonalize":this._domCache.$detailAreaButtons.find("button."+g.btnSetting).jqxButton({disabled:!d}),d&&(this._validateCanUseLSW(),this._updateChanges(i.PERSONALIZE_ENABLED))}},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a],d=b?b:{};d.owner=this;var e=new jQuery.Event(c);e.owner=this,e.args=d,0==a||(1==a?(e.args.currentDefaultOptionCount=this._settingActions.getDefaultItemsSize(),e.args.maxDefaultOptionCount=this.maxDefaultOptionCount,e.args.minDefaultOptionCount=this.minDefaultOptionCount):2==a&&(e.args.currentDefaultOptionCount=this._settingActions.getDefaultItemsSize(),e.args.maxDefaultOptionCount=this.maxDefaultOptionCount,e.args.minDefaultOptionCount=this.minDefaultOptionCount));var f=this.host.trigger(e);return f}})}(jQuery,A),function($){"use strict";$.jqx.jqxWidget("jqxBarGauge","",{}),$.extend($.jqx._jqxBarGauge.prototype,{defineInstance:function(){var a={animationDuration:300,backgroundColor:"#e0e0e0",barSpacing:4,baseValue:null,colorScheme:"scheme01",customColorScheme:null,endAngle:-45,disabled:!1,formatFunction:null,geometry:{startAngle:225,endAngle:-45},height:400,labels:null,min:0,max:100,rendered:null,relativeInnerRadius:.3,startAngle:225,title:null,tooltip:null,values:[],width:400,useGradient:!0,_intervalArray:[],_drawnValues:[],_drawnSlices:[],_titleTemplate:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:28,weight:100},horizontalAlignment:"center",verticalAlignment:"top",placeholderSize:null,margin:{bottom:0,left:0,right:0,top:0},subtitle:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:16,weight:100}}},_labelTemplate:{connectorColor:null,connectorWidth:1,formatFunction:function(a){return a},font:{color:null,family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",size:16,weight:400},indent:20,precision:2,visible:!0},_tooltipTemplate:{classname:"",formatFunction:function(a){return a},visible:!1,precision:0},_colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"],_colorNames:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_dimensions:{},_ie:$.jqx.browser.msie,_oldIEbrowser:$.jqx.browser.msie&&$.jqx.browser.version<=8,_ie8:$.jqx.browser.msie&&8==$.jqx.browser.version,_ie7:$.jqx.browser.msie&&$.jqx.browser.version<8,_centerX:null,_centerY:null,_coordinatePlane:null,_geometry:{startAngle:-45,baseAngle:-45,fix:0,endAngle:225},_userValues:[],_valuesToDegrees:[],_oldValues:[],_oldValuesToDegrees:[],_temporaryValuesToDegrees:[],_temporaryValues:[],_temporaryOldAngle:[],_valuesLength:0,_oldValuesLength:0,_alignmentIE:null,_title:{},_backgroundColor:"#e0e0e0",_label:{},_tooltip:{},_renderedValues:0,_barWidth:35,_barStartAt:30,_barGaugeSlices:[],_barGaugeBackgroundSlices:[],_barGaugeSlicesStrokeWidth:0,_barGaugeLabelLines:[],_barGaugeLabelText:[],_barGaugeTitle:null,_barGaugeSubTitle:null,_barGaugeTooltip:$("<div></div>"),_measuredText:$("<div class='jqx-bar-gauge-measure-text'></div>"),_measuredTextId:"",renderer:null,_barGaugeRadius:null,_barGaugeFigureRadius:null,_labelPositioningRadius:null,_placeholderSize:50,_rendering:!1,_titleLines:0,_subTitleLines:0,_initialized:!1,_events:["initialized","valueChanged","tooltipOpen","tooltipClose","drawStart","drawEnd"]};return this===$.jqx._jqxBarGauge.prototype?a:($.extend(!0,this,a),a)},createInstance:function(){var a=this;a._createBarGauge()},_createBarGauge:function(){var a=this;a._getLiquidDimensions(),a._addIEPolyfills(),a._barGaugeTooltip.css({display:"none"}),$(a.host).empty(),a._attachCustomColors(),a.geometry.startAngle=a.startAngle,a.geometry.endAngle=a.endAngle,a._validateGeometry(),a._validateTitle(),a._validateLabel(),a._validateValues(),a._validateTooltip(),a._validateAnimationDuration(),a._transformValuesToAngles(),a._getColorScheme(),0===a.animationDuration||a._ie8||a._ie7?a._drawStaticBarGauge():a._drawDynamicBarGauge(),a._raiseEvent("4"),a._createTooltip(),a._addCSS(),a._ie&&(a._removeBarGaugeTitle(),a._removeBarGaugeSubTitle(),a._drawBarGaugeTitle()),a._addEventHandlers()},_initRenderer:function(a){if(!$.jqx.createRenderer)throw"jqxBarGauge: Please include a reference to jqxdraw.js";return $.jqx.createRenderer(this,a)},_validateValues:function(){var a,b,c=this;0===c._userValues.length&&(c._userValues=c.values.slice()),0===c._oldValues.length&&(c._oldValues=c.values.slice()),c._valuesLength=c.values.length;for(var d=0;d<c._valuesLength;d++)c.values[d]=parseFloat(c.values[d]),c.values[d]<c.startValue||isNaN(c.values[d])?c.values[d]=c.startValue:c.values[d]>c.max&&(c.values[d]=c.max),c._drawnValues[d]=!1,c._drawnSlices[d]=!1;c.baseValue<=c.startValue||null===c.baseValue?c.baseValue=c.min:c.baseValue>c.max&&(c.baseValue=c.max),c.relativeInnerRadius>=1?c.relativeInnerRadius=.99:c.relativeInnerRadius<0&&(c.relativeInnerRadius=0),c._calculateBarGaugeRadius(),a=c._valuesLength||1,b=c._barGaugeRadius*(1-c.relativeInnerRadius)/a-.01,c.barSpacing>b&&(c.barSpacing=b),c._backgroundColor=c._validateColor(c.backgroundColor,c._backgroundColor)},_attachCustomColors:function(){var a=this,b=a._colorSchemes.length,c=!1;if(null!==a.customColorScheme&&null!==a.customColorScheme.colors&&null!==a.customColorScheme.name){for(var d=0;d<b;d++)a.customColorScheme.name===a._colorSchemes[d].name&&(a._colorSchemes[d].colors=a.customColorScheme.colors.slice(),c=!0);c||a._colorSchemes.push(a.customColorScheme)}},_getLiquidDimensions:function(){var a=this;$.isEmptyObject(a._dimensions)&&(a._dimensions.width=a.width,a._dimensions.height=a.height),"string"==typeof a._dimensions.width&&a._dimensions.width.indexOf("%")!==-1&&(a.width=parseInt(a._dimensions.width,10)/100*$("#"+a.element.id).parent().width()),"string"==typeof a._dimensions.height&&a._dimensions.height.indexOf("%")!==-1&&(a.height=parseInt(a._dimensions.height,10)/100*$("#"+a.element.id).parent().height())},_getLongestValue:function(){for(var a=this,b=a.values.length,c="",d=0,e=0;e<b;e++)a.values[e].toString().length>d&&(c=a.values[e],d=c.toString().length);return c=a._calculatePrecision(a._label.precision,c),void 0!==a._label.formatFunction&&null!==a._label.formatFunction&&"function"==typeof a._label.formatFunction&&(c=a._label.formatFunction(c)),c=c.toUpperCase()},_validateGeometry:function(){var a=this,b=parseFloat(a.geometry.startAngle),c=parseFloat(a.geometry.endAngle);Math.abs(b)>=360&&(b%=360),b<0&&(b=360+b),Math.abs(c)>=360&&(c%=360),c<0&&(c=360+c),a.geometry.startAngle=b,a.geometry.endAngle=c},_validateColor:function(a,b){var c,d=this;return c=void 0===a||null===a?b:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)?a:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(a)?"#"+a:"undefined"!=typeof d._colorNames[a.toLowerCase()]?d._colorNames[a.toLowerCase()]:"transparent"},_validateTooltip:function(){var a=this;void 0===a.tooltip||null===a.tooltip||"object"!=typeof a.tooltip?a._tooltip=a._tooltipTemplate:(a._tooltip.visible=a.tooltip.visible!==!1&&(a.tooltip.visible||a._tooltipTemplate.visible),a._tooltip.classname=a.tooltip.classname||a._tooltipTemplate.classname,"function"==typeof a.tooltip.formatFunction?a._tooltip.formatFunction=a.tooltip.formatFunction:a._tooltip.formatFunction=a._tooltipTemplate.formatFunction,null===a.tooltip.precision||void 0===a.tooltip.precision?a._tooltip.precision=a._tooltipTemplate.precision:parseInt(a.tooltip.precision,10)<=0?a._tooltip.precision=0:a._tooltip.precision=parseInt(a.tooltip.precision,10))},_validateTitle:function(){var a=this;if(a._title=a._titleTemplate,a._measuredTextId=a.element.id+"measuredText","string"==typeof a.title?a._title.text=a.title:"number"==typeof a.title?a._title.text=String(a.title):"object"==typeof a.title&&void 0!==a.title&&null!==a.title&&(a._title.text=a.title.text||a._titleTemplate.text,a._title.horizontalAlignment=a.title.horizontalAlignment||a._titleTemplate.horizontalAlignment,a._title.verticalAlignment=a.title.verticalAlignment||a._titleTemplate.verticalAlignment),void 0===a.title||null===a.title||void 0===a.title.font||null===a.title.font?a._title.font=a._titleTemplate.font:(a._title.font.family=a.title.font.family||a._titleTemplate.font.family,a._title.font.opacity=a.title.font.opacity||a._titleTemplate.font.opacity,a._title.font.size=a.title.font.size||a._titleTemplate.font.size,a._title.font.weight=a.title.font.weight||a._titleTemplate.font.weight,(a._ie7||a._ie8)&&a._title.font.weight>100&&(a._title.font.weight="bold"),a._title.font.color=a._validateColor(a.title.font.color,a._titleTemplate.font.color)),void 0===a.title||null===a.title||void 0===a.title.margin||null===a.title.margin)a._title.margin=a._titleTemplate.margin;else if("object"!=typeof a.title.margin){var b=parseInt(a.title.margin,10);a._title.margin.top=b,a._title.margin.right=b,a._title.margin.bottom=b,a._title.margin.left=b}else a._title.margin.top=0===a.title.margin.top?0:a.title.margin.top||a._titleTemplate.margin.top,a._title.margin.right=0===a.title.margin.right?0:a.title.margin.right||a._titleTemplate.margin.right,a._title.margin.bottom=0===a.title.margin.bottom?0:a.title.margin.bottom||a._titleTemplate.margin.bottom,a._title.margin.left=0===a.title.margin.left?0:a.title.margin.left||a._titleTemplate.margin.left;void 0===a.title||null===a.title||void 0===a.title.subtitle||null===a.title.subtitle?(a._title.subtitle.text=a._titleTemplate.subtitle.text,a._title.subtitle.font=a._titleTemplate.subtitle.font):"object"!=typeof a.title.subtitle?(a._title.subtitle.text=String(a.title.subtitle),a._title.subtitle.font=a._titleTemplate.subtitle.font):"undefined"==typeof a.title.subtitle.font||null===a.title.subtitle.font?(a._title.subtitle.text=String(a.title.subtitle.text),a._title.subtitle.font=a._titleTemplate.subtitle.font):(a._title.subtitle.text=String(a.title.subtitle.text),a._title.subtitle.font.color=a.title.subtitle.font.color||a._titleTemplate.subtitle.font.color,a._title.subtitle.font.family=a.title.subtitle.font.family||a._titleTemplate.subtitle.font.family,a._title.subtitle.font.opacity=a.title.subtitle.font.opacity||a._titleTemplate.subtitle.font.opacity,a._title.subtitle.font.size=a.title.subtitle.font.size||a._titleTemplate.subtitle.font.size,a._title.subtitle.font.weight=a.title.subtitle.font.weight||a._titleTemplate.subtitle.font.weight,(a._ie7||a._ie8)&&a._title.subtitle.font.weight>100&&(a._title.subtitle.font.weight="bold"));var c;""===a._title.text?c=0:""===a._title.subtitle.text||void 0===a._title.subtitle.text||null===a._title.subtitle.text?(a._titleLines=null!==a._title.text.match(/<br>/g)?a._title.text.match(/<br>/g).length+1:1,c=a._title.font.size*a._titleLines+a._title.margin.top+a._title.margin.bottom):(a._titleLines=null!==a._title.text.match(/<br>/g)?a._title.text.match(/<br>/g).length+1:1,a._subTitleLines=null!==a._title.subtitle.text.match(/<br>/g)?a._title.text.match(/<br>/g).length+1:1,c=a._title.font.size*a._titleLines+a._title.subtitle.font.size*a._subTitleLines+a._title.margin.top+a._title.margin.bottom),void 0===a.title||null===a.title||null===a.title.placeholderSize||void 0===a.title.placeholderSize?a._title.placeholderSize=c||.05*a.height:a._title.placeholderSize=a.title.placeholderSize},_validateLabel:function(){var a=this;null===a.labels||void 0===a.labels||"object"!=typeof a.labels?a._label=a._labelTemplate:(a._label.connectorColor=a._validateColor(a.labels.connectorColor,a._labelTemplate.connectorColor),a._label.connectorWidth=a.labels.connectorWidth||a._labelTemplate.connectorWidth,a._label.formatFunction=a.labels.formatFunction||a._labelTemplate.formatFunction,void 0===a.labels.precision||null===a.labels.precision||"number"!=typeof a.labels.precision?a._label.precision=a._labelTemplate.precision:a._label.precision=a.labels.precision,a._label.precision>15?a._label.precision=15:a._label.precision<0&&(a._label.precision=0),void 0===a.labels.visible||null===a.labels.visible?a._label.visible=a._labelTemplate.visible:a.labels.visible===!1?a._label.visible=!1:a._label.visible=!0,"number"!=typeof a.labels.indent&&"string"!=typeof a.labels.indent||a.labels.indent<=0?a._label.indent=0:"number"!=typeof a.labels.indent&&"string"!=typeof a.labels.indent||a.labels.indent<=0?a._label.indent=0:a._label.indent=a.labels.indent,null===a.labels.font||void 0===a.labels.font||"object"!=typeof a.labels.font?a._label.font=a._labelTemplate.font:(a._label.font={},a._label.font.color=a._validateColor(a.labels.font.color,a._labelTemplate.font.color),a._label.font.family=a.labels.font.family||a._labelTemplate.font.family,a._label.font.size=a.labels.font.size||a._labelTemplate.font.size,a._label.font.weight=a.labels.font.weight||a._labelTemplate.font.weight,(a._ie7||a._ie8)&&a._label.font.weight>100&&(a._label.font.weight="bold")))},_validateAnimationDuration:function(){var a=this,b=parseInt(a.animationDuration,10),c=b>0?b:0;a._oldIEbrowser?a.animationDuration=0:a.animationDuration=c},_transformValuesToAngles:function(){var a,b,c,d,e=this;e._placeholderSize=e._title.placeholderSize||e._placeholderSize,e.geometry.endAngle<e.geometry.startAngle?(e._geometry.startAngle=parseFloat(e.geometry.endAngle)%360,e._geometry.endAngle=parseFloat(e.geometry.startAngle)%360):(e._geometry.startAngle=parseFloat(e.geometry.endAngle)%360-360,e._geometry.endAngle=parseFloat(e.geometry.startAngle)%360),a=e._geometry.endAngle-e._geometry.startAngle,a>360&&(e._geometry.startAngle=e._geometry.startAngle+(a-360)),void 0!==e.baseValue&&null!==e.baseValue&&e.baseValue>=e.min&&e.baseValue<=e.max&&(e._geometry.baseAngle=(e.baseValue-e.min)*(e._geometry.endAngle-e._geometry.startAngle)/(e.max-e.min)+e._geometry.startAngle,e._geometry.fix=e.geometry.startAngle+e.geometry.endAngle-180),b=e._getLongestValue(),c=e._measureText(b,e._label.font.size,e._label.font.family,e._label.font.weight),d=e._barGaugeRadius-1.2*e._label.indent-1.2*c.height,d+c.width+1.2*e._label.indent>e.width/2&&(d=e._barGaugeRadius-1.2*e._label.indent-c.width),e._label.visible===!1&&(d=e._barGaugeRadius),d=.98*d,d<0&&(d=0),e._barGaugeFigureRadius=d,e._barWidth=d*(1-e.relativeInnerRadius)/e._valuesLength-e.barSpacing,e._barStartAt=d*e.relativeInnerRadius,e._labelPositioningRadius=e._barStartAt+e._valuesLength*(e._barWidth+e.barSpacing)-e.barSpacing+e._label.indent;for(var f=0;f<e._valuesLength;f++)e._valuesToDegrees[f]=(e.values[f]-e.min)/(e.max-e.min)*(e._geometry.endAngle-e._geometry.startAngle)+e._geometry.startAngle;$(e.host).width(e.width),$(e.host).height(e.height),e._initialized||(e._initRenderer(e.host),e._initialized=!0)},_measureRadius:function(){var a=this,b=a._getLongestValue(),c=a._measureText(b,a._label.font.size,a._label.font.family,a._label.font.weight),d=a._barGaugeRadius-1.2*a._label.indent-1.2*c.height;d+c.width+1.2*a._label.indent>a.width/2&&(d=a._barGaugeRadius-1.2*a._label.indent-c.width),a._label.visible===!1&&(d=a._barGaugeRadius),d=.98*d,d<0&&(d=0),a._barWidth=d*(1-a.relativeInnerRadius)/a._valuesLength-a.barSpacing,a._barStartAt=d*a.relativeInnerRadius,a._labelPositioningRadius=a._barStartAt+a._valuesLength*(a._barWidth+a.barSpacing)-a.barSpacing+a._label.indent},_drawEmptyBarGauge:function(){var a,b,c=this,d=c._barStartAt,e=d+c._barWidth;a=""===c._title.text?c._barGaugeRadius:c._barGaugeFigureRadius,d=c.relativeInnerRadius*a,e=a,c._barGaugeBackgroundSlices[0]=c.renderer.pieslice(c._centerX,c._centerY,d,e,c._geometry.startAngle,c._geometry.endAngle,0,{fill:c._backgroundColor,stroke:c._backgroundColor,"stroke-width":c._barGaugeSlicesStrokeWidth}),b=c.element.id+"BackgroundSlice0",c.renderer.attr(c._barGaugeBackgroundSlices[0],{id:b}),c.renderer.attr(c._barGaugeBackgroundSlices[0],{"class":"jqx-bar-gauge-background-slice"}),c._rendered(),c._oldValuesLength=0,c._oldValues.length=0},_drawBarGaugeLayout:function(){var a,b=this,c=b._barStartAt,d=c+b._barWidth;if(b._barGaugeSlicesStrokeWidth=0,b._centerX=b.width/2,""===b._title.text?b._centerY=b.height/2:"top"===b._title.verticalAlignment?b._centerY=(b.height+b._title.placeholderSize)/2:b._centerY=(b.height-b._title.placeholderSize)/2,b._valuesLength>0)for(var e=0;e<b._valuesLength;e++)b._barGaugeBackgroundSlices[e]=b.renderer.pieslice(b._centerX,b._centerY,c,d,b._geometry.startAngle,b._geometry.endAngle,0,{fill:b._backgroundColor,stroke:b._backgroundColor,"stroke-width":b._barGaugeSlicesStrokeWidth}),a=b.element.id+"BackgroundSlice"+e,b.renderer.attr(b._barGaugeBackgroundSlices[e],{id:a}),b.renderer.attr(b._barGaugeBackgroundSlices[e],{"class":"jqx-bar-gauge-background-slice"}),c=d+b.barSpacing,d=c+b._barWidth;else b._drawEmptyBarGauge()},_drawBarGaugeElementsWithBase:function(){var a,b,c,d=this,e=180-d._geometry.baseAngle+d._geometry.fix;d._renderedValues=0,b=d._barStartAt,c=b+d._barWidth;for(var f=[],g=0;g<d._valuesLength;g++){f[g]=d.baseValue;var h=d._colors[g];if(d.formatFunction&&(h=d.formatFunction(d.values[g],g,h)),d._ie7||d._ie8){var i=d._valuesToDegrees[g];e=180-i+d._geometry.fix,d._valuesToDegrees[g]>d._geometry.baseAngle?d._barGaugeSlices[g]=d.renderer.pieslice(d._centerX,d._centerY,b,c,180-d._geometry.baseAngle+d._geometry.fix,e,0,{fill:h,stroke:h,"stroke-width":d._barGaugeSlicesStrokeWidth}):d._barGaugeSlices[g]=d.renderer.pieslice(d._centerX,d._centerY,b,c,e,180-d._geometry.baseAngle+d._geometry.fix,0,{fill:h,stroke:h,"stroke-width":d._barGaugeSlicesStrokeWidth}),a=d.element.id+"Slice"+g,d.renderer.attr(d._barGaugeSlices[g],{id:a}),d.renderer.attr(d._barGaugeSlices[g],{"class":"jqx-bar-gauge-slice"}),d._drawnSlices[g]=!0,d._label.visible===!0&&(d._drawLabelsLine(b,e,g),d._drawLabelsText(e,g)),d._rendered()}else{if(d.useGradient){var j=[[0,1.4],[100,1]];h=d.renderer._toLinearGradient(h,!0,j)}d._barGaugeSlices[g]=d.renderer.pieslice(d._centerX,d._centerY,b,c,e+.01,e,0,{fill:h,stroke:h,"stroke-width":d._barGaugeSlicesStrokeWidth}),a=d.element.id+"Slice"+g,d.renderer.attr(d._barGaugeSlices[g],{id:a}),d.renderer.attr(d._barGaugeSlices[g],{"class":"jqx-bar-gauge-slice"}),d._drawnSlices[g]=!0}d.renderer.attr(d._barGaugeSlices[g],{id:d.element.id+"Slice"+g}),d.renderer.attr(d._barGaugeSlices[g],{"class":"jqx-bar-gauge-slice"}),b=c+d.barSpacing,c=b+d._barWidth}d._oldValues=f,d._temporaryValues=f.slice(0),d._oldValuesToDegrees.length=0;for(var g=0;g<d.values.length;g++)d._oldValuesToDegrees[g]=d._geometry.baseAngle,d._temporaryValuesToDegrees[g]=d._geometry.baseAngle;d._rendering=!0,d._redrawWithNewValuesArray(d.values,d._oldValues)},_drawBarGaugeElementWithBase:function(gaugeLayerStart,change,amount,changeContition,valueIndex){function calculateNewPieSlicePath(){newPieSlicePath=amount===-1?$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,change,180-that._geometry.baseAngle+that._geometry.fix,0):$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,180-that._geometry.baseAngle+that._geometry.fix,change,0)}var that=this,newPieSlicePath,angleStepPercent,angleDiff,valueStep,animation=that._calculateAnimationInterval(valueIndex,!1),gaugeLayerEnd=gaugeLayerStart+that._barWidth,updatedItem=that._barGaugeSlices[valueIndex],updatedAngle=that._valuesToDegrees[valueIndex];0===that.animationDuration&&(change=180-updatedAngle+that._geometry.fix),angleDiff=Math.abs(that._geometry.baseAngle-updatedAngle),0===angleDiff&&(angleDiff=.01),angleStepPercent=Math.abs(amount/animation.smoothCoef/angleDiff),valueStep=angleStepPercent*Math.abs(that.baseValue-that.values[valueIndex]),isNaN(that._temporaryValues[valueIndex])&&(that._temporaryValues[valueIndex]=that.values[valueIndex]),isNaN(that._temporaryValuesToDegrees[valueIndex])&&(that._temporaryValuesToDegrees[valueIndex]=that._valuesToDegrees[valueIndex]),that._intervalArray[valueIndex]=setInterval(function(){calculateNewPieSlicePath(),eval(changeContition)&&!that.disabled?(that.renderer.attr(updatedItem,{d:newPieSlicePath}),change+=amount/animation.smoothCoef,that._temporaryValuesToDegrees[valueIndex]=(180-change+that._geometry.fix)%360,that._temporaryValues[valueIndex]=that._temporaryValues[valueIndex]+amount*valueStep):(change=180-updatedAngle+that._geometry.fix,that._temporaryValuesToDegrees[valueIndex]=updatedAngle%360,that._temporaryValues[valueIndex]=that.values[valueIndex],calculateNewPieSlicePath(),that.renderer.attr(updatedItem,{d:newPieSlicePath}),clearInterval(that._intervalArray[valueIndex]),that._renderedValues++,that._renderedValues===that.values.length&&that._rendered())},animation.interval/animation.smoothCoef)},_drawStaticBarGaugeElementsWithBase:function(){var a,b,c,d,e,f=this;a=f._barStartAt,b=a+f._barWidth;for(var g=0;g<f._valuesLength;g++){d=f._valuesToDegrees[g]||f._geometry.baseAngle,f._oldValues[g]=f.values[g]||f.baseValue,c=180-d+f._geometry.fix;var h=f._colors[g];if(f.useGradient){var i=[[0,1.4],[100,1]];h=f.renderer._toLinearGradient(h,!0,i)}f._valuesToDegrees[g]<f._geometry.baseAngle?f._barGaugeSlices[g]=f.renderer.pieslice(f._centerX,f._centerY,a,b,180-f._geometry.baseAngle+f._geometry.fix,c,0,{fill:h,stroke:h,"stroke-width":f._barGaugeSlicesStrokeWidth}):f._barGaugeSlices[g]=f.renderer.pieslice(f._centerX,f._centerY,a,b,c,180-f._geometry.baseAngle+f._geometry.fix,0,{fill:h,stroke:h,"stroke-width":f._barGaugeSlicesStrokeWidth}),e=f.element.id+"Slice"+g,f.renderer.attr(f._barGaugeSlices[g],{id:e}),f.renderer.attr(f._barGaugeSlices[g],{"class":"jqx-bar-gauge-slice"}),f._drawnSlices[g]=!0,a=b+f.barSpacing,b=a+f._barWidth}f._removeLabels(),f._addLabels()},_addLabels:function(a,b,c){var d,e,f,g=this,h=g._barStartAt,i=h+g._barWidth;for(a||(a=g._valuesToDegrees),f=0;f<g._valuesLength;f++)e=f,void 0==c||f===c?(d=180-a[e]+g._geometry.fix,g._label.visible===!0&&g.disabled===!1&&(g._drawLabelsLine(h,d,e),b&&void 0!==b[e]?g._drawLabelsText(d,e,b[e]):g._drawLabelsText(d,e)),h=i+g.barSpacing,i=h+g._barWidth):(h=i+g.barSpacing,i=h+g._barWidth)},_removeLabels:function(a){for(var b=this,c=0;c<b._barGaugeLabelText.length;c++)void 0!=a&&c!=a||($(b._barGaugeLabelLines[c]).remove(),$(b._barGaugeLabelText[c]).remove(),b._barGaugeLabelLines[c]=null,b._barGaugeLabelText[c]=null)},_removeBarGaugeSlices:function(){var a=this;a._removeBarGaugeBackgroundSlices(),a._removeBarGaugeForegroundSlices()},_removeBarGaugeBackgroundSlices:function(){for(var a=this,b=Math.max(a._valuesLength,a._oldValuesLength),c=0;c<b;c++)a._oldIEbrowser&&$(a._barGaugeBackgroundSlices[c]).remove(),a._barGaugeBackgroundSlices[c]=null,a._drawnSlices[c]=!1;$("#"+a.element.id+" .jqx-bar-gauge-background-slice").remove()},_removeBarGaugeForegroundSlices:function(){for(var a=this,b=Math.max(a._valuesLength,a._oldValuesLength),c=0;c<b;c++)a._drawnSlices[c]===!0&&(a._oldIEbrowser&&$(a._barGaugeSlices[c]).remove(),a._barGaugeSlices[c]=null,
a._drawnSlices[c]=!1);$("#"+a.element.id+" .jqx-bar-gauge-slice").remove()},_removeBarGaugeTitle:function(){var a=this;a._oldIEbrowser&&a._barGaugeTitle&&$(a._barGaugeTitle).remove(),$("#"+a.element.id+" .jqx-bar-gauge-title").remove()},_removeBarGaugeSubTitle:function(){var a=this;a._oldIEbrowser&&a._barGaugeSubTitle&&$(a._barGaugeSubTitle).remove(),$("#"+a.element.id+" .jqx-bar-gauge-subtitle").remove()},_renderElements:function(){var a,b,c,d,e=this;180-e._geometry.baseAngle+e._geometry.fix;a=e._barStartAt,b=a+e._barWidth,e._rendering=!0,e._renderedValues=0,e._renderingValues=0;var f=!1;if(!e.disabled)for(a=e._barStartAt,b=a+e._barWidth,d=0;d<e._valuesLength;d++)e.values[d]>=e.baseValue?e.values[d]>e._oldValues[d]?(c="(oldAngle < newAngle)",e._renderElement(a,b,1,c,d,!0),f=!0):e.values[d]<e._oldValues[d]&&(c="(oldAngle > newAngle)",e._renderElement(a,b,-1,c,d,!1),f=!0):e.values[d]>e._oldValues[d]?(c="(oldAngle < newAngle)",e._renderElement(a,b,1,c,d,!0),f=!0):e.values[d]<e._oldValues[d]&&(c="(oldAngle > newAngle)",e._renderElement(a,b,-1,c,d,!1),f=!0),a=b+e.barSpacing,b=a+e._barWidth;f||e._rendered()},clearIntervals:function(){for(var a=this,b=a._intervalArray.length,c=0;c<b;c++)clearInterval(a._intervalArray[c]);a._intervalArray.length=0},_renderElement:function(a,b,c,d,e,f){function g(){var d=k,e=180-i._geometry.baseAngle+i._geometry.fix;1===c?f&&(j=i._geometry.baseAngle<o?$.jqx.commonRenderer.pieSlicePath(i._centerX,i._centerY,a,b,d,e,0):$.jqx.commonRenderer.pieSlicePath(i._centerX,i._centerY,a,b,e,d,0)):f||(j=i._geometry.baseAngle<o?$.jqx.commonRenderer.pieSlicePath(i._centerX,i._centerY,a,b,d,e,0):$.jqx.commonRenderer.pieSlicePath(i._centerX,i._centerY,a,b,e,d,0))}function h(c,d){j=c<=d?$.jqx.commonRenderer.pieSlicePath(i._centerX,i._centerY,a,b,c-1e-4,d,0):$.jqx.commonRenderer.pieSlicePath(i._centerX,i._centerY,a,b,d,c,0)}var i=this;i._renderingValues++;var j,k,l=i._oldValues[e],m=i.values[e],n=i._valuesToDegrees[e],o=i._oldValuesToDegrees[e],p=i._barGaugeSlices[e],q=i._calculateAnimationInterval(e,!0),r=Math.abs(n-o),s=Math.abs(c/q.smoothCoef/r),t=s*Math.abs(m-l),u=q.interval/q.smoothCoef;isNaN(i._temporaryValues[e])&&(i._temporaryValues[e]=l),isNaN(i._temporaryValuesToDegrees[e])&&(i._temporaryValuesToDegrees[e]=(180-o+i._geometry.fix)%360),isNaN(i._temporaryOldAngle[e])&&(i._temporaryOldAngle[e]=o);var v=function(){var a=(i.values[e],i._valuesToDegrees[e]);k=180-o+i._geometry.fix,g();var b=!1;f&&o<a&&(b=!0),!f&&o>a&&(b=!0);var d=function(){i._removeLabels(e);for(var a=[],b=0;b<i._valuesToDegrees.length;b++)void 0!=i._temporaryOldAngle[b]?a[b]=i._temporaryOldAngle[b]:a[b]=i._valuesToDegrees[b];i._addLabels(a,i._temporaryValues,e)};if(b&&i.disabled===!1&&0!=i.animationDuration){if(d(),i.renderer.attr(p,{d:j}),i.formatFunction){var l=i._colors[e];l=i.formatFunction(i.values[e],e,l),i.renderer.attr(p,{fill:l,stroke:l})}return o+=c/q.smoothCoef,i._temporaryOldAngle[e]=o,i._temporaryValuesToDegrees[e]=(180-o+i._geometry.fix)%360,i._temporaryValues[e]=i._temporaryValues[e]+c*t,!1}if(o=a,k=180-a+i._geometry.fix,i._temporaryOldAngle[e]=a,i._temporaryValuesToDegrees[e]=a%360,i._temporaryValues[e]=i.values[e],d(),h(k,180-i._geometry.baseAngle+i._geometry.fix),i.renderer.attr(p,{d:j}),i.formatFunction){var l=i._colors[e];l=i.formatFunction(i.values[e],e,l),i.renderer.attr(p,{fill:l,stroke:l})}return clearInterval(i._intervalArray[e]),i._renderedValues++,i._renderedValues===i._renderingValues&&i._rendered(),!0};if(0==i.animationDuration)v();else{var w=function(){clearInterval(i._intervalArray[e]);var a=v();if(i._rendering&&!a){var b=i._oldValues[e],d=i.values[e],f=i._valuesToDegrees[e],g=i._oldValuesToDegrees[e],h=(i._barGaugeSlices[e],i._calculateAnimationInterval(e,!0)),j=Math.abs(f-g),k=Math.abs(c/h.smoothCoef/j),l=(k*Math.abs(d-b),h.interval/h.smoothCoef);i._intervalArray[e]=setInterval(w,l)}};i._intervalArray[e]||(i._intervalArray[e]=setInterval(w,u))}},_calculateAnimationInterval:function(a,b){var c=this,d={},e=c.animationDuration,f=e/1e3,g=0;return b?c._oldValues[a]-c.values[a]!==0&&(g=1e3/Math.abs((c._oldValues[a]-c.values[a])/(c.max-c.min)*(c._geometry.endAngle-c._geometry.startAngle))):c.baseValue-c.values[a]!==0&&(g=1e3/Math.abs((c.baseValue-c.values[a])/(c.max-c.min)*(c._geometry.endAngle-c._geometry.startAngle))),d.smoothCoef=f||1,d.interval=g*f,d},_calculateLabelOffset:function(a,b,c){var d,e,f={};return e=a>=270?-(270-a)/180:a<=90?(90+a)/180:(270-a)/180,d=a<=180?a/180:(360-a)/180,f.y=e*b,f.x=d*c,f},_drawCoordinatePlane:function(){var a,b,c=this;"top"===c._title.verticalAlignment?(a=c._title.placeholderSize,b=c.height):(a=0,b=c.height-c._title.placeholderSize),null!==c._coordinatePlane&&$("#"+c.element.id+" .jqx-bar-gauge-coordinate-plane").remove(),c._coordinatePlane={},c._coordinatePlane.x=c.renderer.line(0,c._centerY,c.width,c._centerY,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),c._coordinatePlane.y=c.renderer.line(c._centerX,a,c._centerX,b,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),c.renderer.attr(c._coordinatePlane.x,{"class":"jqx-bar-gauge-coordinate-plane"}),c.renderer.attr(c._coordinatePlane.y,{"class":"jqx-bar-gauge-coordinate-plane"})},_getColorScheme:function(){var a,b,c=this,d=c._colorSchemes.length,e=c.values.length||1,f=Math.floor(e/c._colorSchemes[0].colors.length),g=0;for(b=0;b<d;b++)c.colorScheme===c._colorSchemes[b].name&&(g=b);if(c._colors=c._colorSchemes[g].colors,f>0)for(b=0;b<f;b++)a=(g+b+1)%d,c._colors=c._colors.concat(c._colorSchemes[a].colors)},_drawLabelsLine:function(a,b,c){var d,e,f,g,h,i,j,k,l=this;b<0?b=360+b:b>360&&(b%=360),h=(360-b)*Math.PI/180,i=a+l._barWidth+(l._valuesLength-c-1)*(l._barWidth+l.barSpacing)+l._label.indent,d=l._centerX+a*Math.cos(h),e=l._centerY+a*Math.sin(h),f=l._centerX+i*Math.cos(h),g=l._centerY+i*Math.sin(h),j=l._label.connectorColor||l._colors[c],l.formatFunction&&(j=l.formatFunction(l.values[c],c,j)),(l._ie7||l._ie8)&&(d=parseInt(d,10),e=parseInt(e,10),f=parseInt(f,10),g=parseInt(g,10)),l._label.visible===!0&&l.disabled===!1&&(l._barGaugeLabelLines[c]=l.renderer.line(d,e,f,g,{fill:j,stroke:j,"stroke-width":l._label.connectorWidth})),k=l.element.id+"LabelLine"+c,l.renderer.attr(l._barGaugeLabelLines[c],{id:k}),l.renderer.attr(l._barGaugeLabelLines[c],{"class":"jqx-bar-gauge-label-line"})},_drawLabelsText:function(a,b,c){var d,e,f,g,h,i,j=this,k=j._label.font.color||j._colors[b];j.formatFunction&&(k=j.formatFunction(j.values[b],b,k));var l=j._calculatePrecision(j._label.precision,j.values[b]);void 0!==c&&(l=new Number(c).toFixed(j._label.precision),l=j._calculatePrecision(j._label.precision,l)),void 0!==j._label.formatFunction&&null!==j._label.formatFunction&&"function"==typeof j._label.formatFunction&&(l=j._label.formatFunction(l,b)),j._cachedMeasurements||(j._cachedMeasurements=[]),j._cachedMeasurements[l.length]?d=j._cachedMeasurements[l.length]:(d=j._measureText(l,j._label.font.size,j._label.font.family,j._label.font.weight),j._cachedMeasurements[l.length]=d),a<0?a=360+a:a>360&&(a%=360),e=(360-a)*Math.PI/180,f=j._centerX+(j._labelPositioningRadius+.3*d.height)*Math.cos(e),g=j._centerY+(j._labelPositioningRadius+.3*d.height)*Math.sin(e),h=j._calculateLabelOffset(a,d.height,d.width),j._label.visible===!0&&j.disabled===!1&&(j._barGaugeLabelText[b]=j.renderer.text(l,f-h.x,g-h.y,void 0,void 0,0,{"class":"jqx-bargauge-label",fill:k,"font-size":j._label.font.size+"px","font-family":j._label.font.family,"font-weight":j._label.font.weight},!1,"left","top","lefttop")),i=j.element.id+"Label"+b,j.renderer.attr(j._barGaugeLabelText[b],{id:i}),j.renderer.attr(j._barGaugeLabelText[b],{"class":"jqx-bar-gauge-label-text"}),(j._ie7||j._ie8)&&$("#"+i+" .jqx-bargauge-label").css({color:k,"white-space":"nowrap","font-size":j._label.font.size+"px","font-family":j._label.font.family,"font-weight":j._label.font.weight})},_calculatePrecision:function(a,b){var c;return c=a+Math.abs(b).toString().split(".")[0].length,c=c>15?15:c,b=parseFloat(b).toPrecision(c)},_createTooltip:function(){var a=this,b=a.element.id+"tooltip";a._barGaugeTooltip.attr("id",b),$(a._barGaugeTooltip).addClass(a.toThemeProperty("jqx-bar-gauge-tooltip")),a._tooltip.classname.length>0&&$(a._barGaugeTooltip).addClass(a.toThemeProperty(a._tooltip.classname)),$(document.body).append(a._barGaugeTooltip),a._tooltip.visible===!0&&a.disabled===!1&&a._valuesLength>0&&a._addTooltipHandlers()},_refreshTooltipHandlers:function(){var a=this;a._tooltip.visible===!0&&a.disabled===!1&&(a._removeTooltipHandlers(),a._addTooltipHandlers())},_addTooltipHandlers:function(){var a,b,c=this;c.addHandler($("#"+c.element.id+" .jqx-bar-gauge-slice"),"mouseenter",function(){c._tooltip.visible===!0&&c._valuesLength>0&&(a=c.renderer.getAttr(this,"id").substr(c.element.id.length+5),b=c._calculatePrecision(c._tooltip.precision,c.values[a]),c._barGaugeTooltip.css({display:"block",color:c._colors[a],"border-color":c._colors[a]}),void 0!==c._tooltip.formatFunction&&null!==c._tooltip.formatFunction&&"function"==typeof c._tooltip.formatFunction&&(b=c._tooltip.formatFunction(b,parseInt(a))),c._barGaugeTooltip.html(b),c._raiseEvent("2",{layer:a}))}),c.addHandler($("#"+c.element.id+" .jqx-bar-gauge-slice"),"mouseleave",function(){c._barGaugeTooltip.css({display:"none"}),c._raiseEvent("3",{layer:a})}),c.addHandler($("#"+c.element.id+" .jqx-bar-gauge-slice"),"mouseup",function(){c._barGaugeTooltip.css({display:"none"})}),$("#"+c.element.id+" .jqx-bar-gauge-slice").length>0&&c.addHandler($("#"+c.element.id+" .jqx-bar-gauge-slice"),"mousemove",function(){c._tooltip.visible===!0&&c._valuesLength>0&&(a=c.renderer.getAttr(this,"id").substr(c.element.id.length+5),b=c._calculatePrecision(c._tooltip.precision,c.values[a]),c._barGaugeTooltip.css({display:"block",color:c._colors[a],"border-color":c._colors[a]}),void 0!==c._tooltip.formatFunction&&null!==c._tooltip.formatFunction&&"function"==typeof c._tooltip.formatFunction&&(b=c._tooltip.formatFunction(b,parseInt(a))),c._barGaugeTooltip.html(b))}),c.addHandler($(c.host),"mousemove",function(a){c._barGaugeTooltip.css({top:a.pageY-10+"px",left:a.pageX+15+"px"})})},_removeTooltipHandlers:function(){var a=this;a._barGaugeSlices.length>0&&(a.removeHandler($(a._barGaugeSlices),"mouseenter"),a.removeHandler($(a._barGaugeSlices),"mouseleave"),a.removeHandler($(a._barGaugeSlices),"mouseup"),a.removeHandler($(a._barGaugeSlices),"mousemove"),a.removeHandler($("#"+a.element.id+" .jqx-bar-gauge-slice"),"mouseenter mouseleave mouseup mousemove")),a.removeHandler($(a.host),"mousemove")},_drawBarGaugeTitle:function(){var a=this;a._alignmentIE=a._alignmentIE||a._title.horizontalAlignment;var b,c,d,e,f,g,h,i,j,k=0,l=0;if((a._ie7||a._ie8)&&(a._title.horizontalAlignment="left"),a._titleLines>1){for(b=a._title.text.split("<br>"),j=0;j<a._titleLines;j++)for(d=a._measureText(b[j]+"_",a._title.font.size,a._title.font.family,a._title.font.weight),g=b[j];d.width>a.width;)g=g.slice(0,-1),b[j]=g+"...",d=a._measureText(b[j]+"_",a._title.font.size,a._title.font.family,a._title.font.weight);a._title.text=b.join("<br>")}else for(d=a._measureText(a._title.text+"_",a._title.font.size,a._title.font.family,a._title.font.weight),g=a._title.text;d.width>a.width;)g=g.slice(0,-1),a._title.text=g+"...",d=a._measureText(a._title.text+"_",a._title.font.size,a._title.font.family,a._title.font.weight);if("bottom"===a._title.verticalAlignment&&(l=a.height-a._title.placeholderSize),null!==a.title&&void 0!==a.title&&""!==a._title.text){if(a._barGaugeTitle=a.renderer.text(a._title.text,a._title.margin.left,l+a._title.margin.top,a.width-a._title.margin.right,0,void 0,{fill:a._title.font.color,"fill-opacity":a._title.font.opacity,"font-size":a._title.font.size,"font-family":a._title.font.family,"font-weight":a._title.font.weight},!1,a._title.horizontalAlignment,a._title.verticalAlignment,"centertop"),i=a.element.id+"Title",a.renderer.attr(a._barGaugeTitle,{id:i}),a.renderer.attr(a._barGaugeTitle,{"class":"jqx-bar-gauge-title"}),a._ie7||a._ie8){$("#"+i+" textbox").css({width:a.width+"px !important","padding-left":"10px",position:"relative"});var m=0;d.width<a.width&&("center"===a._alignmentIE?m=(a.width-d.width)/2:"right"===a._alignmentIE&&(m=a.width-d.width)),$("#"+i+" span").css({color:a._title.font.color,"margin-left":m+"px","white-space":"nowrap","text-align":"center","font-size":a._title.font.size+"px","font-family":a._title.font.family,"font-weight":a._title.font.weight}),k++}if(""!==a._title.subtitle.text&&void 0!==a._title.subtitle.text){if(a._subTitleLines>1){for(c=a._title.subtitle.text.split("<br>"),j=0;j<a._subTitleLines;j++)for(e=a._measureText(c[j]+"_",a._title.subtitle.font.size,a._title.subtitle.font.family,a._title.subtitle.font.weight),f=c[j];e.width>a.width;)f=f.slice(0,-1),c[j]=f+"...",e=a._measureText(c[j]+"_",a._title.subtitle.font.size,a._title.subtitle.font.family,a._title.subtitle.font.weight);a._title.subtitle.text=c.join("<br>")}else for(e=a._measureText(a._title.subtitle.text+"_",a._title.subtitle.font.size,a._title.subtitle.font.family,a._title.subtitle.font.weight),f=a._title.subtitle.text;e.width>a.width;)f=f.slice(0,-1),a._title.subtitle.text=f+"...",e=a._measureText(a._title.subtitle.text+"_",a._title.subtitle.font.size,a._title.subtitle.font.family,a._title.subtitle.font.weight);if(a._barGaugeSubTitle=a.renderer.text(a._title.subtitle.text,a._title.margin.left,l+a._title.font.size*a._titleLines+a._title.margin.top,a.width-a._title.margin.right,0,void 0,{fill:a._title.subtitle.font.color,"fill-opacity":a._title.subtitle.font.opacity,"font-size":a._title.subtitle.font.size,"font-family":a._title.subtitle.font.family,"font-weight":a._title.subtitle.font.weight,"margin-top":a._title.margin.top},!1,a._title.horizontalAlignment,a._title.verticalAlignment,"centertop"),h=a.element.id+"SubTitle",a.renderer.attr(a._barGaugeSubTitle,{id:h}),a.renderer.attr(a._barGaugeSubTitle,{"class":"jqx-bar-gauge-subtitle"}),a._ie7||a._ie8){var n=0;e.width<a.width&&("center"===a._alignmentIE?n=(a.width-e.width)/2:"right"===a._alignmentIE&&(n=a.width-e.width)),$("#"+h+" textbox").css({width:a.width+"px !important",left:n+"px !important",position:"relative"}),$("#"+h+" span").css({width:"100%",color:a._title.subtitle.font.color,"margin-left":n+"px","white-space":"nowrap","text-align":"center","font-size":a._title.subtitle.font.size+"px","font-family":a._title.subtitle.font.family,"font-weight":a._title.subtitle.font.weight})}}}},_measureText:function(a,b,c,d){var e=this,f={};return $("#"+e._measuredTextId).length||(e._measuredText.attr("id",e._measuredTextId),$(e.host).append(e._measuredText),e._measuredText.css({"z-index":-999999,"white-space":"nowrap","font-size":b+"px","font-family":c,"font-weight":d})),e._measuredText[0].style.fontSize!=b+"px"&&(e._measuredText[0].style.fontSize=b+"px"),e._measuredText[0].style.fontFamily!=c+"px"&&(e._measuredText[0].style.fontFamily=c),e._measuredText[0].style.fontWeight!=d&&(e._measuredText[0].style.fontWeight=d+"px"),e._measuredText.text(a),f.width=e._measuredText[0].offsetWidth,f.height=e._measuredText[0].offsetHeight,f},_calculateBarGaugeRadius:function(){var a=this;a.width>a.height-a._title.placeholderSize?a._barGaugeRadius=(a.height-a._title.placeholderSize)/2:a._barGaugeRadius=a.width/2},_addCSS:function(){var a=this;$(a.host).addClass(a.toThemeProperty("jqx-widget")),$(a.host).addClass(a.toThemeProperty("jqx-bar-gauge")),$(a.host).addClass(a.toThemeProperty("jqx-widget-content")),a.disabled&&$(a.host).addClass(a.toThemeProperty("jqx-fill-state-disabled"))},_rendered:function(){var a=this;a._rendering===!0&&(null!==a.rendered&&"function"==typeof a.rendered&&a.rendered(),a._rendering=!1,a.clearIntervals(),a._temporaryOldAngle.length=0,a._temporaryValuesToDegrees.length=0,a._temporaryValues.length=0,a._raiseEvent("0"),a._raiseEvent("5"))},_render:function(){var a=this;a._removeAllGraphicElements(),a.values.length>0?0===a.animationDuration||a._ie8||a._ie7?a._drawStaticBarGauge():a._drawDynamicBarGauge():(a._getLiquidDimensions(),a.host.width(a.width),a.host.height(a.height),a._validateValues(),a._transformValuesToAngles(),a._drawStaticBarGauge())},render:function(){var a=this;a.clearIntervals(),a._getLiquidDimensions(),a.host.width(a.width),a.host.height(a.height),a._validateValues(),a._transformValuesToAngles(),a._getColorScheme(),a._rendering!==!0?a._render():(a._staticRefresh(),a._render())},refresh:function(a){var b=this;a!==!0&&b.render()},_removeAllGraphicElements:function(){var a=this;a._removeLabels(),a._removeBarGaugeSlices(),a._removeBarGaugeTitle(),a._removeBarGaugeSubTitle()},_drawStaticBarGauge:function(){var a=this;a._rendering=!0,a._drawBarGaugeTitle(),a._drawBarGaugeLayout(),a.disabled?a._rendered():(a._getLiquidDimensions(),a.host.width(a.width),a.host.height(a.height),a._validateValues(),a._measureRadius(),a._drawStaticBarGaugeElementsWithBase(),a._rendered())},_drawDynamicBarGauge:function(){var a=this;a._drawBarGaugeTitle(),a._drawBarGaugeLayout(),a.disabled?a._rendered():a._drawBarGaugeElementsWithBase()},val:function(a){var b=this;return null!==a&&void 0!==a&&"object"==typeof a&&Object.keys(a).length>0?(b._raiseEvent("4","api"),a.length!=b.values.length?(b.values=a,b.render()):b._redrawWithNewValuesArray(a,b.values)):null!==a&&void 0!==a&&"object"==typeof a&&0===a.length&&(b._raiseEvent("4"),b._removeLabels(),b._removeBarGaugeSlices(),b._transformValuesToAngles(),b._drawEmptyBarGauge(),b._removeLabels(),b.values.length=0,b._refreshTooltipHandlers()),b.values},_redrawWithNewValuesArray:function(a,b){var c,d,e=this;if(e._rendering===!1)e._userValues=a.slice(),b?e._oldValues=b.slice():e._oldValues=e.values.slice(),e._oldValuesToDegrees=e._valuesToDegrees.slice(),e._oldValuesLength=e._valuesLength,Object.keys(a).length>1?e.values=a.slice():null===a[0]||void 0===a[0]?e.values=[]:(e.values=[],e.values[0]=parseFloat(a)),e._lastChange=new Date;else if(e._rendering===!0){for(e._userValues=a.slice(),e._oldValues.length=0,e._oldValuesToDegrees.length=0,d=0;d<e.values.length;d++)e._oldValues[d]=void 0!=e._temporaryValues[d]?e._temporaryValues[d]:e.values[d],e._oldValuesToDegrees[d]=void 0!=e._temporaryValuesToDegrees[d]?e._temporaryValuesToDegrees[d]:e._valuesToDegrees[d];e._oldValuesLength=e.values.length,a.length>1?e.values=a.slice():null===a[0]||void 0===a[0]?e.values=[]:(e.values=[],e.values[0]=parseFloat(a))}else if(null===a||void 0===a)e.values=[];else{if("string"!=typeof a&&"number"!=typeof a)return e.values;e.values=[],e.values[0]=parseFloat(a)}if(e._valuesLength=e.values.length,e._getColorScheme(),e._valuesLength>e._oldValuesLength)for(var f=e._oldValuesLength;f<e._valuesLength;f++)e._oldValuesToDegrees[f]=e._geometry.baseAngle,e._oldValues[f]=e.baseValue;for(d=0;d<e._valuesLength;d++){e.values[d]<e.min?e.values[d]=e.min:e.values[d]>e.max&&(e.values[d]=e.max);var g=e.values[d];0==g&&(g=.03),c=(g-e.min)/(e.max-e.min)*(e._geometry.endAngle-e._geometry.startAngle)+e._geometry.startAngle,e._valuesToDegrees[d]=c%360}e._renderElements(),e._refreshTooltipHandlers(),e._raiseEvent("1")},_staticRefresh:function(){var a=this,b=a.animationDuration;"string"==typeof a.width&&a.width.indexOf("%")!==-1&&(a._dimensions.width=a.width),"string"==typeof a.height&&a.height.indexOf("%")!==-1&&(a._dimensions.height=a.height),a._getLiquidDimensions(),a.host.width(a.width),a.host.height(a.height),$("#"+a.element.id+" .chartContainer").width(a.width),$("#"+a.element.id+" .chartContainer").height(a.height),a._removeBarGaugeTitle(),a._removeBarGaugeSubTitle(),a._validateGeometry(),a._validateTitle(),a._validateLabel(),a._validateValues(),a._validateTooltip(),a._measureRadius(),a.animationDuration=0,a._render(),a.animationDuration=b},propertyChangedHandler:function(a,b,c,d){var e,f,g=a;if(g._cachedMeasurements=[],void 0!==a.isInitialized&&null!==a.isInitialized&&a.isInitialized!==!1&&(g.ie7||!a.batchUpdate||!a.batchUpdate.width||!a.batchUpdate.height||2!==Object.keys(a.batchUpdate).length)&&(d!==c||"colorScheme"===b||"tooltip"===b))switch(e=g.animationDuration,g._titleTemplate=g._title,g._labelTemplate=g._label,g._tooltipTemplate=g._tooltip,b){case"width":case"height":g._staticRefresh();break;case"values":g.values=c,g.val(d);break;case"animationDuration":break;case"disabled":g.disabled?$(g.host).addClass(g.toThemeProperty("jqx-fill-state-disabled")):$(g.host).removeClass(g.toThemeProperty("jqx-fill-state-disabled")),g._render();break;case"geometry":case"min":case"baseValue":case"max":case"barSpacing":case"startAngle":case"endAngle":case"relativeInnerRadius":g.geometry.startAngle=g.startAngle,g.geometry.endAngle=g.endAngle,g.values=g._userValues.slice(),g._validateValues(),g._transformValuesToAngles(),g._render();break;case"tooltip":g._validateTooltip();break;case"rendered":break;case"backgroundColor":if(g._backgroundColor=g._validateColor(g.backgroundColor,g._backgroundColor),g._ie7||g._ie8)for(f=0;f<g._valuesLength;f++)g.renderer.attr(g._barGaugeBackgroundSlices[f],{fillcolor:g._backgroundColor,strokecolor:g._backgroundColor,"stroke-width":g._barGaugeSlicesStrokeWidth});else $("#"+g.element.id+" .jqx-bar-gauge-background-slice").attr({fill:g._backgroundColor,stroke:g._backgroundColor,"stroke-width":g._barGaugeSlicesStrokeWidth});break;case"customColorScheme":g._attachCustomColors();break;case"colorScheme":var h,i;for(g._getColorScheme(),f=0;f<g._valuesLength;f++){h=g._label.connectorColor||g._colors[f],i=g._label.font.color||g._colors[f];var j=g._colors[f];if(g.useGradient){var k=[[0,1.4],[100,1]];j=g.renderer._toLinearGradient(j,!0,k)}if(g.renderer.attr(g._barGaugeSlices[f],{fill:j}),g.renderer.attr(g._barGaugeLabelLines[f],{fill:h,stroke:h}),g.renderer.attr(g._barGaugeLabelText[f],{fill:i}),g._ie7||g._ie8){g.renderer.attr(g._barGaugeSlices[f],{fillcolor:g._colors[f],strokecolor:g._colors[f],"stroke-width":g._barGaugeSlicesStrokeWidth}),g.renderer.attr(g._barGaugeLabelLines[f],{fillcolor:h,strokecolor:h});var l=g.element.id+"Label"+f;$("#"+l+" .jqx-bargauge-label").css({color:i})}}break;default:g._staticRefresh()}},_compareArrays:function(a,b){var c=a.length,d=b.length;if(c!==d)return!1;for(var e=0;e<c;e++)if(a[e]!==b[e])return!1;return!0},_addIEPolyfills:function(){Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;g<d;g++)a.call(e,c[g])&&h.push(c[g]);return h}}())},destroy:function(){var a=this;$("#"+a._measuredTextId).remove(),a.renderer.clear(),a.renderer=null,a._removeEventHandlers(),a._removeTooltipHandlers(),a.host.children().remove(),a.host.removeData(),a.host.removeClass(),a.host.remove(),a.host=null,a.element=null,delete a.element,delete a.host},_addEventHandlers:function(){var a=this;a.addHandler($(a.host),"drawStart",function(){}),a.addHandler($(a.host),"drawEnd",function(){a._refreshTooltipHandlers()}),a.addHandler($(window),"resize.jqxBarGauge"+a.host[0].id,function(){var b=!1;a._dimensions.width&&a._dimensions.width.toString().indexOf("%")>=0&&(b=!0),a._dimensions.height&&a._dimensions.height.toString().indexOf("%")>=0&&(b=!0),b&&a._staticRefresh()})},_removeEventHandlers:function(){var a=this;a.removeHandler($(a.host),"drawStart"),a.removeHandler($(a.host),"drawEnd"),a.removeHandler($(window),"resize.jqxBarGauge"+a.host[0].id)},_refreshEventHandlers:function(){var a=this;a._removeEventHandlers(),a._addEventHandlers()},_raiseEvent:function(a,b){var c=this,d=$.Event(c._events[a]);return d.args=b,c.host.trigger(d)},_getEvent:function(a){var b=this;return b._isTouchDevice?b._touchEvents[a]:a}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxBulletChart","",{}),a.extend(a.jqx._jqxBulletChart.prototype,{defineInstance:function(){var b={width:500,height:100,barSize:"50%",ranges:[{startValue:0,endValue:50,color:"#000000",opacity:.7},{startValue:50,endValue:80,color:"#000000",opacity:.5},{startValue:80,endValue:100,color:"#000000",opacity:.3}],pointer:{value:65,label:"Value",size:"25%",color:""},target:{value:85,label:"Target",size:4,color:""},ticks:{position:"far",interval:20,size:10},title:"Title",description:"Description",orientation:"horizontal",labelsFormat:null,labelsFormatFunction:null,animationDuration:400,showTooltip:!0,tooltipFormatFunction:null,disabled:!1,rtl:!1,events:["change"]};return this===a.jqx._jqxBulletChart.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){if(!a.jqx.dataAdapter)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxdata.js'.");this._setDefaultValues(),this.render();var c=this;a.jqx.utilities.resize(this.host,function(){c._timer&&clearTimeout(c._timer),c._timer=setTimeout(function(){var a=c.animationDuration;c.animationDuration=0,c.render(),setTimeout(function(){c.animationDuration=a},0)},10)},!1,!0)},render:function(){this.host.children().length>0&&(this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.empty()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-bulletchart")),this.host.width(this.width),this.host.height(this.height);var b,c=this.host.width(),d=this.host.height(),e=this.rtl?"rtl":"ltr";"horizontal"==this.orientation?b=a("<div style='position: absolute; visibility: hidden; padding: 5px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='direction: "+e+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+e+";'>"+this.description+"</div></div>"):"vertical"==this.orientation&&(b=a("<div style='position: absolute; visibility: hidden; padding-bottom: 15px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='width: "+c+"px; direction: "+e+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+e+";'>"+this.description+"</div></div>")),this.host.append(b);var f=b.outerWidth(),g=b.outerHeight();b.remove();var h,i,j,k,l,m,n,o;if("horizontal"==this.orientation){if(h="jqx-bulletchart-title-container-horizontal",i="jqx-bulletchart-chart-container-horizontal",j=this._checkPercentage(this.barSize,this.host),k=f,l=this.barSize,m=0,n=c-k,o=l,this.width&&this.width.toString().indexOf("%")>=0){var n=parseFloat(parseFloat(100*n)/c).toString()+"%",k=parseFloat(parseFloat(100*k)/c).toString()+"%";this._percentageWidth=!0}}else"vertical"==this.orientation&&(h="jqx-bulletchart-title-container-vertical",i="jqx-bulletchart-chart-container-vertical",j=0,k="100%",l=g,m=this._checkPercentage(this.barSize,this.host),n=this.barSize,o=d-l);if((0==this.rtl||1==this.rtl&&"vertical"==this.orientation)&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+h+"' style='top: "+j+";'></div>"),this.host.append("<div id='"+this.element.id+"ChartContainer' class='"+i+"' style='top: "+j+"; left: "+m+";'></div>"),1==this.rtl&&"horizontal"==this.orientation&&this.host.append("<div id='"+this.element.id+"titleContainer' class='"+h+"' style='top: "+j+";'></div>"),this._titleContainer=a("#"+this.element.id+"titleContainer"),this._chartContainer=a("#"+this.element.id+"ChartContainer"),this._titleContainer.css({width:k,height:l}),this._chartContainer.css({width:n,height:o}),this._min=this.ranges[0].startValue,this._max=this.ranges[this.ranges.length-1].endValue,this._interval=this._max-this._min,this._valueToPixelsHorizontal=this._chartContainer.width()/this._interval,this._valueToPixelsVertical=this._chartContainer.height()/this._interval,this._checkValues(),this._appendRanges(),this._appendPointerAndTarget(),this._appendTitleAndDescription(),"none"!=this.ticks.position&&this._appendTicksAndLabels(),1==this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.showTooltip){if(void 0==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip(),this.host.data().jqxWidget=this}this._updateValue(this.pointer.value,0,!0)},refresh:function(a){a||this.render()},val:function(a){return 0==arguments.length||null!=a&&"object"==typeof a?this.pointer.value:(a>this._max?a=this._max:a<this._min&&(a=this._min),void(a!=this.pointer.value&&(this._updateValue(a,this.pointer.value),this.pointer.value=a,1==this.showTooltip&&this._updateTooltip())))},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),1==this.showTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},propertyChangedHandler:function(b,c,d,e){if(d!=e||e instanceof Object){var f=!0,g=function(){a.each(d,function(a,d){void 0==e[a]&&(b[c][a]=d)})};switch(c){case"barSize":break;case"ranges":a.each(d,function(d,f){a.each(f,function(a,f){void 0!==e[d]&&void 0==e[d][a]&&(b[c][d][a]=f)})}),this._setDefaultValues();break;case"pointer":return g(),void this._updatePointer(e,d);case"target":return g(),void this._updateTarget(e,d);case"ticks":f=!1,g(),a.each(d,function(a,e){d[a]!=b[c][a]&&(f=!0)});break;case"showTooltip":if(1==e){if(void 0==this.host.jqxTooltip)throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.");this._initializeTooltip()}else this._removeHandlers(),this.host.jqxTooltip("destroy");break;case"animationDuration":return;case"tooltipFormatFunction":return void this._updateTooltip();case"disabled":return void(1==e?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}1==f&&this.render()}},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f},_removeHandlers:function(){var b=a("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.removeHandler(b,"mouseenter.bulletchart"+this.element.id),this.removeHandler(b,"mouseleave.bulletchart"+this.element.id)},_setDefaultValues:function(){for(var a=this.ranges,b=this.ranges.length,c=0;c<b;c++){if(void 0==a[c].startValue||void 0==a[c].endValue)throw new Error("jqxBulletChart: Each range must have its startValue and endValue set.");void 0==a[c].color&&(this.ranges[c].color="#000000"),void 0==a[c].opacity&&(this.ranges[c].opacity=1-1/b*c)}var d=this.pointer;void 0==d.value&&(this.pointer.value=65),void 0==d.label&&(this.pointer.label="Value"),void 0==d.size&&(this.pointer.size="25%"),void 0==d.color&&(this.pointer.color="");var e=this.target;void 0==e.value&&(this.target.value=85),void 0==e.label&&(this.target.label="Target"),void 0==e.size&&(this.target.size=5),void 0==e.color&&(this.target.color="");var f=this.ticks;void 0==f.position&&(this.ticks.position="near"),void 0==f.interval&&(this.ticks.interval=20),void 0==f.size&&(this.ticks.size=10)},_checkValues:function(){this.pointer.value>this._max?this.pointer.value=this._max:this.pointer.value<this._min&&(this.pointer.value=this._min),this.target.value>this._max?this.target.value=this._max:this.target.value<this._min&&(this.target.value=this._min)},_appendRanges:function(){for(var a="",b=this.ranges.length,c=0;c<b;c++){var d,e=this.ranges[c];if("horizontal"==this.orientation){var f=this.rtl?"right":"left",g=(e.startValue-this._min)*this._valueToPixelsHorizontal,h=(e.endValue-e.startValue)*this._valueToPixelsHorizontal;d="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-horizontal")+"' style='"+f+": "+g+"px; width: "+h+"px; background-color: "+e.color+"; opacity: "+e.opacity+"'></div>"}else if("vertical"==this.orientation){var i=(e.startValue-this._min)*this._valueToPixelsVertical,j=(e.endValue-e.startValue)*this._valueToPixelsVertical;d="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-vertical")+"' style='bottom: "+i+"px; height: "+j+"px; background-color: "+e.color+"; opacity: "+e.opacity+"'></div>";
}a+=d}this._chartContainer.append(a)},_appendPointerAndTarget:function(){var a="",b=this.element.id+"Pointer",c=this.element.id+"Target",d=this.pointer.size,e=this.target.value,f=this.target.size,g=e>0?0:parseInt(f),h=this.pointer.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed"),i=this.target.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed");if("horizontal"==this.orientation){var j=this._normaliseValue(d),k=this._checkPercentage(d,this._chartContainer),l=this.rtl?"right":"left",m=(e-this._min)*this._valueToPixelsHorizontal-g,n=m+parseInt(f)-this._chartContainer.width();m<0?m=0:n>0&&(m-=n);var o=this._normaliseValue(f);a+="<div class='"+i+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-horizontal")+"' id='"+c+"' style='"+l+": "+m+"px; width: "+o+"; background-color: "+this.target.color+"'></div>",a+="<div class='"+h+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+b+"' style='top: "+k+"; height: "+j+"; background-color: "+this.pointer.color+"'></div>"}else if("vertical"==this.orientation){var p=(this._chartContainer.width(),this._normaliseValue(d)),q=this._checkPercentage(d,this._chartContainer),r=(e-this._min)*this._valueToPixelsVertical-g,n=r+parseInt(f)-this._chartContainer.height();r<0?r=0:n>0&&(r-=n);var s=this._normaliseValue(f);a+="<div class='"+i+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-vertical")+"' id='"+c+"' style='bottom: "+r+"px; height: "+s+"; background-color: "+this.target.color+"'></div>",a+="<div class='"+h+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+b+"' style='left: "+q+"; width: "+p+"; background-color: "+this.pointer.color+"'></div>"}this._chartContainer.append(a)},_updatePointer:function(b,c){var d=a("#"+this.element.id+"Pointer");if(b.value>this._max?this.pointer.value=this._max:b.value<this._min&&(this.pointer.value=this._min),b.value!=c.value&&(this._updateValue(b.value,c.value),1==this.showTooltip&&this._updateTooltip()),b.label!=c.label&&1==this.showTooltip&&this._updateTooltip(),b.size!=c.size){var e=b.size;if("horizontal"==this.orientation){var f=this._checkPercentage(e,this._chartContainer),g=this._normaliseValue(e);d.css({top:f,height:g})}else if("vertical"==this.orientation){var h=this._checkPercentage(e,this._chartContainer),i=this._normaliseValue(e);d.css({left:h,width:i})}}b.color!=c.color&&(""==b.color?(d.css("background-color",""),d.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(d.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),d.css("background-color",b.color)))},_updateTarget:function(b,c){var d=a("#"+this.element.id+"Target");if(b.value>this._max?this.target.value=this._max:b.value<this._min&&(this.target.value=this._min),b.value!=c.value||b.size!=c.size){var e=b.value,f=parseInt(b.size),g=e>0?0:f;if("horizontal"==this.orientation){var h=(this.rtl?"right":"left",(e-this._min)*this._valueToPixelsHorizontal-g),i=h+f-this._chartContainer.width();h<0?h=0:i>0&&(h-=i),0==this.rtl?d.css("left",h):d.css("right",h),d.width(f)}else if("vertical"==this.orientation){var j=(e-this._min)*this._valueToPixelsVertical-g,i=j+f-this._chartContainer.height();j<0?j=0:i>0&&(j-=i),d.css({bottom:j,height:f})}1==this.showTooltip&&this._updateTooltip()}b.label!=c.label&&1==this.showTooltip&&this._updateTooltip(),b.color!=c.color&&(""==b.color?(d.css("background-color",""),d.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(d.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),d.css("background-color",b.color)))},_appendTitleAndDescription:function(){var b;b="horizontal"==this.orientation?1==this.rtl?this.toThemeProperty("jqx-bulletchart-title-description-rtl"):this.toThemeProperty("jqx-bulletchart-title-description-ltr"):this.toThemeProperty("jqx-bulletchart-title-description-vertical");var c=this.rtl?"rtl":"ltr",d="<div id='"+this.element.id+"Title' class='"+this.toThemeProperty("jqx-bulletchart-title")+" "+b+"' style='direction: "+c+";'>"+this.title+"</div><div id='"+this.element.id+"Description' class='"+this.toThemeProperty("jqx-bulletchart-description")+" "+b+"' style='direction: "+c+";'>"+this.description+"</div>",e=a("<div style='position: absolute; visibility: hidden;'>"+d+"</div>");this._titleContainer.append(e);var f=e.children(),g=a(f[0]).height()+a(f[1]).height();e.remove();var h;h="horizontal"==this.orientation?0==this.rtl?this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-ltr"):this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-rtl"):"",this._titleContainer.append("<div class='"+h+"' style='height: "+g+"px;'>"+d+"</div>")},_appendTicksAndLabels:function(){var b=a("<div style='position: absolute; visibility: hidden;'></div>");this._chartContainer.append(b);var c="",d=this._min<0,e=this.ticks.size;if("horizontal"==this.orientation){var f=this._titleContainer.width(),g=this._chartContainer.offset().top-this.host.offset().top;if("both"==this.ticks.position||"far"==this.ticks.position)var h=this._chartContainer.height()+g;for(var i=0;i<=this._interval;i+=this.ticks.interval){var j=i*this._valueToPixelsHorizontal+f;if(i+this.ticks.interval>this._interval&&(j-=1),d){var k=i+this._min==0;k&&(c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='top: "+g+"px; "+n+": "+j+"px; height: "+this._chartContainer.height()+"px;'></div>",d=!1)}var l=this._labelValue(i);b.html(l);var m=j-b.width()/2,n=this.rtl?"right":"left";"both"!=this.ticks.position&&"far"!=this.ticks.position||(c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+h+"px; "+n+": "+j+"px; height: "+e+"px;'></div>",c+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(h+e+2)+"px; "+n+": "+m+"px;'>"+l+"</div>"),"both"!=this.ticks.position&&"near"!=this.ticks.position||(c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+(g-e)+"px; "+n+": "+j+"px; height: "+e+"px;'></div>",c+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(g-(e+b.height()+2))+"px; "+n+": "+m+"px;'>"+l+"</div>")}}else if("vertical"==this.orientation){var o=this._chartContainer.offset().left-this.host.offset().left;if("both"==this.ticks.position||"far"==this.ticks.position)var p=this._chartContainer.width();for(var i=0;i<=this._interval;i+=this.ticks.interval){var q=i*this._valueToPixelsVertical;if(i+this.ticks.interval>this._interval&&(q-=1),d){var k=i+this._min==0;k&&(c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='left: "+o+"px; bottom: "+q+"px; width: "+p+"px;'></div>",d=!1)}if("both"==this.ticks.position||"near"==this.ticks.position){c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(o-e)+"px; bottom: "+q+"px; width: "+e+"px;'></div>";var l=this._labelValue(i,"near");b.html(l);var m=b.height()/2-1;c+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(o-(e+b.width()+2))+"px; bottom: "+(q-m)+"px;'>"+l+"</div>"}if("both"==this.ticks.position||"far"==this.ticks.position){c+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(p+o)+"px; bottom: "+q+"px; width: "+e+"px;'></div>";var l=this._labelValue(i,"far");b.html(l);var m=b.height()/2-1;c+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(p+o+e+2)+"px; bottom: "+(q-m)+"px;'>"+l+"</div>"}}}this.host.append(c),b.remove()},_labelValue:function(b,c){var d,e=b+this._min;return d=this.labelsFormatFunction?this.labelsFormatFunction(e,c):a.jqx.dataFormat.formatnumber(e,this.labelsFormat)},_initializeTooltip:function(){var b=this,c=this._tooltipContent();this.host.jqxTooltip({theme:this.theme,position:"mouse",content:c,trigger:"none",autoHide:!1,rtl:this.rtl}),this.host.jqxTooltip("getInstance").val=a.proxy(this.val,this);var d=a("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.addHandler(d,"mouseenter.bulletchart"+this.element.id,function(c){0==b.disabled&&(b.host.jqxTooltip("open",c.pageX,c.pageY),(c.target.id==b.element.id+"Pointer"&&""==b.pointer.color||c.target.id==b.element.id+"Target"&&""==b.target.color)&&(a(c.target).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.target).addClass(b.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(d,"mouseleave.bulletchart"+this.element.id,function(c){0==b.disabled&&(b.host.jqxTooltip("close"),(c.target.id==b.element.id+"Pointer"&&""==b.pointer.color||c.target.id==b.element.id+"Target"&&""==b.target.color)&&(a(c.target).removeClass(b.toThemeProperty("jqx-fill-state-hover")),a(c.target).addClass(b.toThemeProperty("jqx-fill-state-pressed"))))})},_updateTooltip:function(){this.host.jqxTooltip({content:this._tooltipContent()})},_tooltipContent:function(){var b;if(this.tooltipFormatFunction)b=this.tooltipFormatFunction(this.pointer.value,this.target.value);else{var c=a.jqx.dataFormat.formatnumber(this.pointer.value,this.labelsFormat),d=a.jqx.dataFormat.formatnumber(this.target.value,this.labelsFormat);b="<div>"+this.pointer.label+": "+c+"</div><div>"+this.target.label+": "+d+"</div>"}return b},_updateValue:function(b,c,d){var e,f,g,h=this,i=a("#"+this.element.id+"Pointer"),j=function(a,d,j){if(h._min>=0)"vertical"==a?i.css("bottom",0):1==h.rtl&&"horizontal"==a&&i.css("right",0),e=(b-h._min)*d;else{if(b>=0){"horizontal"==a?1==h.rtl?(f="right",g="left"):f="left":"vertical"==a&&(f="bottom",g="top");var k=-h._min*d}else{"horizontal"==a?1==h.rtl?f="left":(f="right",g="left"):"vertical"==a&&(f="top");var k=j+h._min*d}i.css(f,k),g&&i.css(g,""),b*c<0&&("horizontal"==a?i.width(0):"vertical"==a&&i.height(0)),e=Math.abs(b*d)}return e},k=function(){d||h._raiseEvent("0")};if("horizontal"==this.orientation){var l=j("horizontal",this._valueToPixelsHorizontal,this._chartContainer.width());setTimeout(function(){i.animate({width:l},h.animationDuration,k)},0)}else if("vertical"==this.orientation){var m=j("vertical",this._valueToPixelsVertical,this._chartContainer.height());setTimeout(function(){i.animate({height:m},h.animationDuration,k)},0)}},_checkPercentage:function(a,b){var c=-1;a.indexOf&&(c=a.indexOf("%"));var d=function(b){return a.indexOf&&a.indexOf("px")!=-1?parseFloat(b.slice(0,a.indexOf("px"))):b},e=function(a){return parseFloat(a.slice(0,c))};if(c==-1){var f;return"horizontal"==this.orientation?f=b.height():"vertical"==this.orientation&&(f=b.width()),(f-d(a))/2+"px"}return(100-e(a))/2+"%"},_normaliseValue:function(a){return!a.indexOf||a.indexOf("px")==-1&&a.indexOf("%")==-1?a+"px":a}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxButtonGroup","",{}),a.extend(a.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var b={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===a.jqx._jqxButtonGroup.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){var c=this;c._isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(c),c._baseId=c._baseId+c.element.id,c.addHandler(c.host,"selectstart",function(a){c.disabled||a.preventDefault()})},refresh:function(){var a=this;a.width&&(a.width.toString()&&a.width.indexOf("%")>=0?a.element.style.width=a.width:a.host.width(a.width)),a.height&&a.host.height(a.height),a._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(a){var b=this;if(b._isTouchDevice){var c=b._eventsMap[a]||a;return c+="."+b.element.id}return a+="."+b.element.id},_refreshButtons:function(){var b=this;b.lastElement&&b.lastElement.remove(),b.lastElement=a("<div style='clear: both;'></div>");var c,d=b.host.children(),e=d.length;switch(b.mode){case"radio":b.host.attr("role","radiogroup");break;case"checkbox":case"default":b.host.attr("role","group")}for(var f=new Number(100/e).toFixed(2),g=0;g<e;g+=1)c=a(d[g]),b.width&&("horizontal"===b.orientation?(c.css("width",f+"%"),c.css("box-sizing","border-box"),c.css("-moz-box-sizing","border-box"),c.css("white-space","nowrap"),c.css("text-overflow","ellipsis"),c.css("overflow","hidden")):(c.css("box-sizing","border-box"),c.css("-moz-box-sizing","border-box"),c.css("width","100%"))),b._refreshButton(c,g,e);b.lastElement.appendTo(b.host)},_refreshButton:function(a,b,c){(function(a){var d=this;a=d._render(a),d._removeStyles(a),d._addStyles(a,b,c),d._performLayout(a),d._removeButtonListeners(a),d._addButtonListeners(a),d._handleButtonId(a,b),"radio"===d.mode?a.attr("role","radio"):a.attr("role","button"),a.attr("disabled",d.disabled),d.disabled?a.addClass(d.toThemeProperty("jqx-fill-state-disabled")):a.removeClass(d.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[a])},destroy:function(b){for(var c,d=this,e=d.host.children(),f=e.length,g=0;g<f;g+=1)c=a(e[g]),d._removeStyles(c),d._removeButtonListeners(c);b!==!1&&d.host.remove()},_render:function(a){var b=this;return"button"===a[0].tagName.toLowerCase()?b._renderFromButton(a):b._renderButton(a)},_renderButton:function(a){return a.wrapInner("<div/>"),a},_removeStyles:function(a){var b=this,c=b.toThemeProperty;b.host.removeClass("jqx-widget"),b.host.removeClass("jqx-rc-all"),a.removeClass(c.call(this,"jqx-fill-state-normal")),a.removeClass(c.call(this,"jqx-group-button-normal")),a.removeClass(c.call(this,"jqx-rc-tl")),a.removeClass(c.call(this,"jqx-rc-bl")),a.removeClass(c.call(this,"jqx-rc-tr")),a.removeClass(c.call(this,"jqx-rc-br")),a.css("margin-left",0)},_addStyles:function(a,b,c){var d=this,e=this.toThemeProperty;d.host.addClass(e.call(this,"jqx-widget")),d.host.addClass(e.call(this,"jqx-rc-all")),d.host.addClass(e.call(this,"jqx-buttongroup")),a.addClass(e.call(this,"jqx-button")),a.addClass(e.call(this,"jqx-group-button-normal")),a.addClass(e.call(this,"jqx-fill-state-normal")),d.template&&a.addClass(e.call(this,"jqx-"+d.template)),d.roundedCorners&&(0===b?d._addRoundedCorners(a,!0):b===c-1&&d._addRoundedCorners(a,!1)),"horizontal"===d.orientation?a.css("margin-left",-parseInt(a.css("border-left-width"),10)):a.css("margin-top",-parseInt(a.css("border-left-width"),10))},_addRoundedCorners:function(a,b){var c=this,d=c.toThemeProperty;"horizontal"===c.orientation?b?(a.addClass(d.call(this,"jqx-rc-tl")),a.addClass(d.call(this,"jqx-rc-bl"))):(a.addClass(d.call(this,"jqx-rc-tr")),a.addClass(d.call(this,"jqx-rc-br"))):b?(a.addClass(d.call(this,"jqx-rc-tl")),a.addClass(d.call(this,"jqx-rc-tr"))):(a.addClass(d.call(this,"jqx-rc-bl")),a.addClass(d.call(this,"jqx-rc-br")))},_centerContent:function(a,b){return a.css({"margin-top":(b.height()-a.height())/2,"margin-left":(b.width()-a.width())/2}),a},_renderFromButton:function(b){var c=b.val();""===c&&(c=b.html());var d,e=b[0].id;return b.wrap("<div/>"),d=b.parent(),d.attr("style",b.attr("style")),b.remove(),a.jqx.utilities.html(d,c),d[0].id=e,d},_performLayout:function(b){"horizontal"===this.orientation?this.rtl?b.css("float","right"):b.css("float","left"):b.css("float","none"),this._centerContent(a(b.children()),b)},_mouseEnterHandler:function(b){var c=b.data.self,d=a(b.currentTarget);if(!c._isDisabled(d)&&c.enableHover){var e=c.toThemeProperty;d.addClass(e.call(c,"jqx-group-button-hover")),d.addClass(e.call(c,"jqx-fill-state-hover"))}},_mouseLeaveHandler:function(b){var c=b.data.self,d=a(b.currentTarget);if(!c._isDisabled(d)&&c.enableHover){var e=c.toThemeProperty;d.removeClass(e.call(c,"jqx-group-button-hover")),d.removeClass(e.call(c,"jqx-fill-state-hover"))}},_mouseDownHandler:function(b){var c=b.data.self,d=a(b.currentTarget);if(!c._isDisabled(d)){c._pressed=d;var e=c.toThemeProperty;d.addClass(e.call(c,"jqx-group-button-pressed")),d.addClass(e.call(c,"jqx-fill-state-pressed"))}},_mouseUpHandler:function(b){var c=b.data.self,d=a(b.currentTarget);c._isDisabled(d)||(c._handleSelection(d),c._pressed=null,d=c._buttonId[d[0].id],c._raiseEvent(2,{index:d.num,button:d.btn}))},_isDisabled:function(a){return!(!a||!a[0])&&this._buttonId[a[0].id].disabled},_documentUpHandler:function(a){var b=a.data.self,c=b._pressed;c&&!b._buttonId[c[0].id].selected&&(c.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._pressed=null)},_addButtonListeners:function(b){var c=this,d=c.addHandler,e=c._getEvent;d(b,e.call(c,"mouseenter"),c._mouseEnterHandler,{self:c}),d(b,e.call(c,"mouseleave"),c._mouseLeaveHandler,{self:c}),d(b,e.call(c,"mousedown"),c._mouseDownHandler,{self:c}),d(b,e.call(c,"mouseup"),c._mouseUpHandler,{self:c}),d(a(document),e.call(c,"mouseup"),c._documentUpHandler,{self:c})},_removeButtonListeners:function(b){var c=this,d=c.removeHandler,e=c._getEvent;d(b,e.call(c,"mouseenter"),c._mouseEnterHandler),d(b,e.call(c,"mouseleave"),c._mouseLeaveHandler),d(b,e.call(c,"mousedown"),c._mouseDownHandler),d(b,e.call(c,"mouseup"),c._mouseUpHandler),d(a(document),e.call(c,"mouseup"),c._documentUpHandler)},_handleSelection:function(a){var b=this;"radio"===b.mode?b._handleRadio(a):"checkbox"===b.mode?b._handleCheckbox(a):b._handleDefault(a)},_handleRadio:function(a){var b=this,c=b._getSelectedButton();c&&c.btn[0].id!==a[0].id&&b._unselectButton(c.btn,!0);for(var d in b._buttonId)b._buttonId[d].selected=!0,b._unselectButton(b._buttonId[d].btn,!1);b._selectButton(a,!0)},_handleCheckbox:function(a){var b=this,c=b._buttonId[a[0].id];c.selected?b._unselectButton(c.btn,!0):b._selectButton(a,!0)},_handleDefault:function(a){var b=this;b._selectButton(a,!1);for(var c in b._buttonId)b._buttonId[c].selected=!0,b._unselectButton(b._buttonId[c].btn,!1)},_getSelectedButton:function(){var a=this;for(var b in a._buttonId)if(a._buttonId[b].selected)return a._buttonId[b];return null},_getSelectedButtons:function(){var a=this,b=[];for(var c in a._buttonId)a._buttonId[c].selected&&b.push(a._buttonId[c].num);return b},_getButtonByIndex:function(a){var b=this;for(var c in b._buttonId)if(b._buttonId[c].num===a)return b._buttonId[c];return null},_selectButton:function(b,c){var d=this,e=d._buttonId[b[0].id];if(!e.selected){var f=d.toThemeProperty;e.btn.addClass(f.call(this,"jqx-group-button-pressed")),e.btn.addClass(f.call(this,"jqx-fill-state-pressed")),e.selected=!0,c&&d._raiseEvent(0,{index:e.num,button:e.btn}),a.jqx.aria(e.btn,"aria-checked",!0)}},_unselectButton:function(b,c){var d=this,e=d._buttonId[b[0].id];if(e.selected){var f=d.toThemeProperty;e.btn.removeClass(f.call(this,"jqx-group-button-pressed")),e.btn.removeClass(f.call(this,"jqx-fill-state-pressed")),e.selected=!1,c&&d._raiseEvent(1,{index:e.num,button:e.btn}),a.jqx.aria(e.btn,"aria-checked",!1)}},setSelection:function(a){var b=this;if(a===-1)return void b.clearSelection();if("checkbox"===b.mode)if("number"==typeof a)b._setSelection(a);else for(var c=0;c<a.length;c+=1)b._setSelection(a[c]);else"number"==typeof a&&"radio"===b.mode&&b._setSelection(a)},_setSelection:function(a){var b=this,c=b._getButtonByIndex(a);c&&b._handleSelection(c.btn)},getSelection:function(){var a=this;if("radio"===a.mode){if(a._getSelectedButton())return a._getSelectedButton().num}else if("checkbox"===a.mode)return a._getSelectedButtons()},disable:function(){var b=this;b.disabled=!0;var c;for(var d in b._buttonId)c=b._buttonId[d],b.disableAt(c.num);a.jqx.aria(b,"aria-disabled",!0)},enable:function(){var b=this;b.disabled=!1;var c;for(var d in b._buttonId)c=b._buttonId[d],b.enableAt(c.num);a.jqx.aria(b,"aria-disabled",!1)},disableAt:function(a){var b=this,c=b._getButtonByIndex(a);c.disabled||(c.disabled=!0,c.btn.addClass(b.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(a){var b=this,c=b._getButtonByIndex(a);c.disabled&&(c.disabled=!1,c.btn.removeClass(b.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(a,b){var c=a[0].id,d={btn:a,num:b,selected:!1,disabled:this.disabled};return c||(c=this._baseId+a.index()),a[0].id=c,this._buttonId[c]=d,c},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},_unselectAll:function(){for(var a in this._buttonId)this._unselectButton(this._buttonId[a].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(b,c,d,e){return"theme"===c&&null!==e&&a.jqx.utilities.setTheme(d,e,b.host),"template"===c&&b.refresh(),"mode"===c?(b._unselectAll(),void b.refresh()):void("disabled"===c?e?b.disable():b.enable():b.refresh())}})}(jqxBaseFramework),function(a){a.jqx.cssroundedcorners=function(a){var b={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(var c in b)if(b.hasOwnProperty(c)&&a==c)return b[c]},a.jqx.jqxWidget("jqxButton","",{}),a.extend(a.jqx._jqxButton.prototype,{defineInstance:function(){var b={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===a.jqx._jqxButton.prototype?b:(a.extend(!0,this,b),b)},_addImage:function(b){var c=this;if("input"==c.element.nodeName.toLowerCase()||"button"==c.element.nodeName.toLowerCase()||"div"==c.element.nodeName.toLowerCase()){if(c._img)c._img.setAttribute("src",c.imgSrc),c._img.setAttribute("width",c.imgWidth),c._img.setAttribute("height",c.imgHeight),c._text.innerHTML=c.value;else{c.field=c.element,c.field.className&&(c._className=c.field.className);var d={title:c.field.title},e=null;if(c.field.getAttribute("value"))var e=c.field.getAttribute("value");else if("input"!=c.element.nodeName.toLowerCase())var e=c.element.innerHTML;c.value&&(e=c.value),c.field.id.length?d.id=c.field.id.replace(/[^\w]/g,"_")+"_"+b:d.id=a.jqx.utilities.createId()+"_"+b;var f=document.createElement("div");f.id=d.id,f.title=d.title,f.style.cssText=c.field.style.cssText,f.style.boxSizing="border-box";var g=document.createElement("img");g.setAttribute("src",c.imgSrc),g.setAttribute("width",c.imgWidth),g.setAttribute("height",c.imgHeight),f.appendChild(g),c._img=g;var h=document.createElement("span");e&&(h.innerHTML=e,c.value=e),f.appendChild(h),c._text=h,c.field.style.display="none",c.field.parentNode&&c.field.parentNode.insertBefore(f,c.field.nextSibling);var i=c.host.data();c.host=a(f),c.host.data(i),c.element=f,c.element.id=c.field.id,c.field.id=d.id;var j=new jqxHelper(c.element),k=new jqxHelper(c.field);if(c._className&&(j.addClass(c._className),k.removeClass(c._className)),c.field.tabIndex){var l=c.field.tabIndex;c.field.tabIndex=-1,c.element.tabIndex=l}}c.imgSrc?c._img.style.display="inline":c._img.style.display="none",c.value?c._text.style.display="inline":c._text.style.display="none",c._positionTextAndImage()}},_positionTextAndImage:function(){var a=this,b=a.element.offsetWidth,c=a.element.offsetHeight,d=a.imgWidth,e=a.imgHeight;""==a.imgSrc&&(d=0,e=0);var f=a._text.offsetWidth,g=a._text.offsetHeight,h=4,i=4,j=4,k=0,l=0;switch(a.textImageRelation){case"imageBeforeText":case"textBeforeImage":k=d+f+2*j+h+2*i,l=Math.max(e,g)+2*j+h+2*i;break;case"imageAboveText":case"textAboveImage":k=Math.max(d,f)+2*j,l=e+g+h+2*j+2*i;break;case"overlay":k=Math.max(d,f)+2*j,l=Math.max(e,g)+2*j}a.width||(a.element.style.width=k+"px",b=k),a.height||(a.element.style.height=l+"px",c=l),a._img.style.position="absolute",a._text.style.position="absolute",a.element.style.position="relative",a.element.style.overflow="hidden";var m={},n={},o=function(a,b,c,d,e){switch(b.width<d&&(b.width=d),b.height<e&&(b.height=e),c){case"left":a.style.left=b.left+"px",a.style.top=b.top+b.height/2-e/2+"px";break;case"topLeft":a.style.left=b.left+"px",a.style.top=b.top+"px";break;case"bottomLeft":a.style.left=b.left+"px",a.style.top=b.top+b.height-e+"px";break;default:case"center":a.style.left=b.left+b.width/2-d/2+"px",a.style.top=b.top+b.height/2-e/2+"px";break;case"top":a.style.left=b.left+b.width/2-d/2+"px",a.style.top=b.top+"px";break;case"bottom":a.style.left=b.left+b.width/2-d/2+"px",a.style.top=b.top+b.height-e+"px";break;case"right":a.style.left=b.left+b.width-d+"px",a.style.top=b.top+b.height/2-e/2+"px";break;case"topRight":a.style.left=b.left+b.width-d+"px",a.style.top=b.top+"px";break;case"bottomRight":a.style.left=b.left+b.width-d+"px",a.style.top=b.top+b.height-e+"px"}},p=0,q=0,r=b,s=c,t=(r-p)/2,u=(s-q)/2,v=a._img,w=a._text,x=s-q,y=r-p;switch(p+=i,q+=i,r=r-i-2,y=y-2*i-2,x=x-2*i-2,a.textImageRelation){case"imageBeforeText":switch(a.imgPosition){case"left":case"topLeft":case"bottomLeft":n={left:p,top:q,width:p+d,height:x},m={left:p+d+h,top:q,width:y-d-h,height:x};break;case"center":case"top":case"bottom":n={left:t-f/2-d/2-h/2,top:q,width:d,height:x},m={left:n.left+d+h,top:q,width:r-n.left-d-h,height:x};break;case"right":case"topRight":case"bottomRight":n={left:r-f-d-h,top:q,width:d,height:x},m={left:n.left+d+h,top:q,width:r-n.left-d-h,height:x}}o(v,n,a.imgPosition,d,e),o(w,m,a.textPosition,f,g);break;case"textBeforeImage":switch(a.textPosition){case"left":case"topLeft":case"bottomLeft":m={left:p,top:q,width:p+f,height:x},n={left:p+f+h,top:q,width:y-f-h,height:x};break;case"center":case"top":case"bottom":m={left:t-f/2-d/2-h/2,top:q,width:f,height:x},n={left:m.left+f+h,top:q,width:r-m.left-f-h,height:x};break;case"right":case"topRight":case"bottomRight":m={left:r-f-d-h,top:q,width:f,height:x},n={left:m.left+f+h,top:q,width:r-m.left-f-h,height:x}}o(v,n,a.imgPosition,d,e),o(w,m,a.textPosition,f,g);break;case"imageAboveText":switch(a.imgPosition){case"topRight":case"top":case"topLeft":n={left:p,top:q,width:y,height:e},m={left:p,top:q+e+h,width:y,height:x-e-h};break;case"left":case"center":case"right":n={left:p,top:u-e/2-g/2-h/2,width:y,height:e},m={left:p,top:n.top+h+e,width:y,height:x-n.top-h-e};break;case"bottomLeft":case"bottom":case"bottomRight":n={left:p,top:s-e-g-h,width:y,height:e},m={left:p,top:n.top+h+e,width:y,height:g}}o(v,n,a.imgPosition,d,e),o(w,m,a.textPosition,f,g);break;case"textAboveImage":switch(a.textPosition){case"topRight":case"top":case"topLeft":m={left:p,top:q,width:y,height:g},n={left:p,top:q+g+h,width:y,height:x-g-h};break;case"left":case"center":case"right":m={left:p,top:u-e/2-g/2-h/2,width:y,height:g},n={left:p,top:m.top+h+g,width:y,height:x-m.top-h-g};break;case"bottomLeft":case"bottom":case"bottomRight":m={left:p,top:s-e-g-h,width:y,height:g},n={left:p,top:m.top+h+g,width:y,height:e}}o(v,n,a.imgPosition,d,e),o(w,m,a.textPosition,f,g);break;case"overlay":default:m={left:p,top:q,width:y,height:x},n={left:p,top:q,width:y,height:x},o(v,n,a.imgPosition,d,e),o(w,m,a.textPosition,f,g)}},createInstance:function(b){var c=this;c._setSize(),c.buttonObj=new jqxHelper(c.element),(""!=c.imgSrc||""!=c.textPosition||c.element.value&&c.element.value.indexOf("<")>=0||null!=c.value)&&(c.refresh(),c._addImage("jqxButton"),c.buttonObj=new jqxHelper(c.element)),c._ariaDisabled||c.element.setAttribute("role","button"),""!==c.type&&c.element.setAttribute("type",c.type),c.overrideTheme||(c.buttonObj.addClass(c.toThemeProperty(a.jqx.cssroundedcorners(c.roundedCorners))),c.enableDefault&&c.buttonObj.addClass(c.toThemeProperty("jqx-button")),c.buttonObj.addClass(c.toThemeProperty("jqx-widget"))),c.isTouchDevice=a.jqx.mobile.isTouchDevice(),c._ariaDisabled||a.jqx.aria(this),"arrow"!=c.cursor&&(c.disabled?c.element.style.cursor="arrow":c.element.style.cursor=c.cursor);var d="mouseenter mouseleave mousedown focus blur";if(c._scrollAreaButton)var d="mousedown";c.isTouchDevice&&(c.addHandler(c.host,a.jqx.mobile.getTouchEventName("touchstart"),function(a){c.isPressed=!0,c.refresh()}),c.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchend")+"."+c.element.id,function(a){c.isPressed=!1,c.refresh()})),c.addHandler(c.host,d,function(a){switch(a.type){case"mouseenter":c.isTouchDevice||!c.disabled&&c.enableHover&&(c.isMouseOver=!0,c.refresh());break;case"mouseleave":c.isTouchDevice||!c.disabled&&c.enableHover&&(c.isMouseOver=!1,c.refresh());break;case"mousedown":c.disabled||(c.isPressed=!0,c.refresh());break;case"focus":c.disabled||(c.isFocused=!0,c.refresh());break;case"blur":c.disabled||(c.isFocused=!1,c.refresh())}}),c.mouseupfunc=function(a){c.disabled||(c.isPressed||c.isMouseOver)&&(c.isPressed=!1,c.refresh())},c.addHandler(document,"mouseup.button"+c.element.id,c.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var e="";window.parent&&document.referrer&&(e=document.referrer),e.indexOf(document.location.host)!=-1&&window.top.document&&(c.mouseupFuncForTop=function(a){c.isPressed=!1,c.refresh()},c.addHandler(a(window.top.document),"mouseup",c.mouseupFuncForTop))}}catch(f){}c.propertyChangeMap.roundedCorners=function(b,c,d,e){b.buttonObj.removeClass(b.toThemeProperty(a.jqx.cssroundedcorners(d))),b.buttonObj.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(e)))},c.propertyChangeMap.disabled=function(b,c,d,e){d!=e&&(b.refresh(),b.element.setAttribute("disabled",e),b.element.disabled=e,e?b.element.style.cursor="default":b.element.style.cursor=b.cursor,a.jqx.aria(b,"aria-disabled",b.disabled))},c.propertyChangeMap.rtl=function(a,b,c,d){c!=d&&a.refresh()},c.propertyChangeMap.template=function(a,b,c,d){c!=d&&(a.buttonObj.removeClass(a.toThemeProperty("jqx-"+c)),a.refresh())},c.propertyChangeMap.theme=function(b,c,d,e){b.buttonObj.removeClass(b.element),b.enableDefault&&b.buttonObj.addClass(b.toThemeProperty("jqx-button")),b.buttonObj.addClass(b.toThemeProperty("jqx-widget")),b.overrideTheme||b.buttonObj.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(b.roundedCorners))),b._oldCSSCurrent=null,b.refresh()},c.disabled&&(c.element.disabled=!0,c.element.setAttribute("disabled","true"))},resize:function(a,b){this.width=a,this.height=b,this._setSize()},val:function(){var b=this,c=b.host.find("input");return c.length>0?0==arguments.length||"object"==typeof value?c.val():(c.val(value),b.refresh(),c.val()):0==arguments.length||"object"==typeof value?"button"==b.element.nodeName.toLowerCase()?a(b.element).text():b.element.value:(b.element.value=arguments[0],"button"==b.element.nodeName.toLowerCase()&&a(b.element).text(arguments[0]),void b.refresh())},_setSize:function(){var a=this,b=a.height,c=a.width;b&&(isNaN(b)||(b+="px"),a.element.style.height=b),c&&(isNaN(c)||(c+="px"),a.element.style.width=c)},_removeHandlers:function(){var b=this;b.removeHandler(b.host,"selectstart"),b.removeHandler(b.host,"click"),b.removeHandler(b.host,"focus"),b.removeHandler(b.host,"blur"),b.removeHandler(b.host,"mouseenter"),b.removeHandler(b.host,"mouseleave"),b.removeHandler(b.host,"mousedown"),b.removeHandler(a(document),"mouseup.button"+b.element.id,b.mouseupfunc),b.isTouchDevice&&(b.removeHandler(b.host,a.jqx.mobile.getTouchEventName("touchstart")),b.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchend")+"."+b.element.id)),b.mouseupfunc=null,delete b.mouseupfunc,b.mouseupFuncForTop&&(b.removeHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop),b.mouseupFuncForTop=null,delete b.mouseupFuncForTop)},focus:function(){this.host.focus()},destroy:function(){var b=this;b._removeHandlers();var c=a.data(b.element,"jqxButton");c&&delete c.instance,
b.host.removeClass(),b.host.removeData(),b.host.remove(),delete b.set,delete b.get,delete b.call,delete b.element,delete b.host},render:function(){this.refresh()},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2==Object.keys(c).length&&(a._setSize(),a.refresh())},propertyChangedHandler:function(a,b,c,d){void 0!=this.isInitialized&&0!=this.isInitialized&&d!=c&&(a.batchUpdate&&a.batchUpdate.width&&a.batchUpdate.height&&2==Object.keys(a.batchUpdate).length||("type"===b&&a.element.setAttribute("type",d),"textImageRelation"!=b&&"textPosition"!=b&&"imgPosition"!=b||(a._img?a._positionTextAndImage():a._addImage("jqxButton")),"imgSrc"!=b&&"imgWidth"!=b&&"imgHeight"!=b&&"value"!=b||a._addImage("jqxButton"),"width"!=b&&"height"!=b||(a._setSize(),a.refresh())))},refresh:function(){var a=this;if(!a.overrideTheme){var b=a.toThemeProperty("jqx-fill-state-focus"),c=a.toThemeProperty("jqx-fill-state-disabled"),d=a.toThemeProperty("jqx-fill-state-normal");a.enableDefault||(d="");var e=a.toThemeProperty("jqx-fill-state-hover"),f=a.toThemeProperty("jqx-fill-state-pressed"),g=a.toThemeProperty("jqx-fill-state-pressed");a.enablePressed||(f="");var h="";if(a.host){if(a.element.disabled=a.disabled,a.disabled)return a._oldCSSCurrent&&a.buttonObj.removeClass(a._oldCSSCurrent),h=d+" "+c,"default"!==a.template&&""!==a.template&&(h+=" jqx-"+a.template,""!=a.theme&&(h+=" jqx-"+a.template+"-"+a.theme)),a.buttonObj.addClass(h),void(a._oldCSSCurrent=h);h=a.isMouseOver&&!a.isTouchDevice?a.isPressed?g:e:a.isPressed?f:d,a.isFocused&&(h+=" "+b),"default"!==a.template&&""!==a.template&&(h+=" jqx-"+a.template,""!=a.theme&&(h+=" jqx-"+a.template+"-"+a.theme)),h!=a._oldCSSCurrent&&(a._oldCSSCurrent&&a.buttonObj.removeClass(a._oldCSSCurrent),a.buttonObj.addClass(h),a._oldCSSCurrent=h),a.rtl&&(a.buttonObj.addClass(a.toThemeProperty("jqx-rtl")),a.element.style.direction="rtl")}}}}),a.jqx.jqxWidget("jqxLinkButton","",{}),a.extend(a.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(b){var c=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var d=this.height||this.element.offsetHeight,e=this.width||this.element.offsetWidth;this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="";var f=document.createElement("input");f.type="button",f.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(f,e,d),f.value=this.content;var g=new jqxHelper(this.element);g.addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(f),this._setSize(f,e,d);var h=void 0==b?{}:b[0]||{};a(f).jqxButton(h),this.wrapElement=f,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(a,b,c,d){a.element.disabled=d,a.wrapElement.jqxButton({disabled:d})},this.addHandler(a(f),"click",function(a){return this.disabled||c.onclick(a),!1})},_setSize:function(a,b,c){c&&(isNaN(c)||(c+="px"),a.style.height=c),b&&(isNaN(b)||(b+="px"),a.style.width=b)},destroy:function(){var a=this.host.find("input");this.removeHandler(a,"click"),a.jqxButton("destroy"),this.host.remove()},onclick:function(a){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),a.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),a.extend(a.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(b){var c=this,d=a.jqx.mobile.isTouchDevice(),e=d?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,f=d?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(a(document),e,function(a){null!=c.timeout&&(clearTimeout(c.timeout),c.timeout=null,c.refresh()),void 0!=c.timer&&(clearInterval(c.timer),c.timer=null,c.refresh())}),this.addHandler(this.base.host,f,function(a){null!=c.timer&&clearInterval(c.timer),c.timeout=setTimeout(function(){clearInterval(c.timer),c.timer=setInterval(function(a){c.ontimer(a)},c.delay)},150)}),this.mousemovefunc=function(a){d||0==a.which&&null!=c.timer&&(clearInterval(c.timer),c.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var b=a.jqx.mobile.isTouchDevice(),c=b?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,d=b?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,d),this.removeHandler(a(document),c),this.timer=null,delete this.mousemovefunc,delete this.timer;var e=a.data(this.base.element,"jqxRepeatButton");e&&delete e.instance,a(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(b){var b=new a.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(b)}}),a.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),a.extend(a.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(b){var c=this;c.base.overrideTheme=!0,c.isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(this),c.propertyChangeMap.roundedCorners=function(b,c,d,e){b.base.buttonObj.removeClass(b.toThemeProperty(a.jqx.cssroundedcorners(d))),b.base.buttonObj.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(e)))},c.propertyChangeMap.toggled=function(a,b,c,d){a.refresh()},c.propertyChangeMap.disabled=function(a,b,c,d){a.base.disabled=d,a.refresh()},c.addHandler(c.base.host,"click",function(a){!c.base.disabled&&c.uiToggle&&c.toggle()}),c.isTouchDevice||(c.addHandler(c.base.host,"mouseenter",function(a){c.base.disabled||c.refresh()}),c.addHandler(c.base.host,"mouseleave",function(a){c.base.disabled||c.refresh()})),c.addHandler(c.base.host,"mousedown",function(a){c.base.disabled||c.refresh()}),c.addHandler(a(document),"mouseup.togglebutton"+c.base.element.id,function(a){c.base.disabled||c.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(a(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),a.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var a=this,b=a.base.toThemeProperty("jqx-fill-state-disabled"),c=a.base.toThemeProperty("jqx-fill-state-normal");a.base.enableDefault||(c="");var d=a.base.toThemeProperty("jqx-fill-state-hover"),e=a.base.toThemeProperty("jqx-fill-state-pressed"),f=a.base.toThemeProperty("jqx-fill-state-pressed"),g="";return a.base.element.disabled=a.base.disabled,a.base.disabled?(g=c+" "+b,void a.base.buttonObj.addClass(g)):(g=a.base.isMouseOver&&!a.isTouchDevice?a.base.isPressed||a.toggled?f:d:a.base.isPressed||a.toggled?e:c,"default"!==a.base.template&&""!==a.base.template&&(g+=" jqx-"+a.base.template,""!=a.base.theme&&(g+=" jqx-"+a.template+"-"+a.base.theme)),a.base.buttonObj.hasClass(b)&&b!=g&&a.base.buttonObj.removeClass(b),a.base.buttonObj.hasClass(c)&&c!=g&&a.base.buttonObj.removeClass(c),a.base.buttonObj.hasClass(d)&&d!=g&&a.base.buttonObj.removeClass(d),a.base.buttonObj.hasClass(e)&&e!=g&&a.base.buttonObj.removeClass(e),a.base.buttonObj.hasClass(f)&&f!=g&&a.base.buttonObj.removeClass(f),void(a.base.buttonObj.hasClass(g)||a.base.buttonObj.addClass(g)))}})}(jqxBaseFramework),function(a,b){var c=12,d=null,e=function(){var a={},c=!1,e={holiday:"jqx-calendar-cell-specialDate-holiday",event:"jqx-calendar-cell-specialDate-event",nothing:"jqx-calendar-cell-specialDate-nothing"};return void 0!=d||null!=d?d:{getSpecialDateByDate:function(c){return b.copyObject(a[c])},getSpecialDates:function(){return b.copyObject(a)},addSpecialDate:function(b){if(void 0!=b){var c=a[b.Date];void 0!=c&&delete c,this.specialDates[b.Date]=b}},addSpecialDates:function(a){},setSpecialDatesRawData:function(b){if(void 0!==b&&""!==b&&null!==b&&!c){a={};for(var d=0;d<b.length;d++){var e=b[d],f=null,g={Date:null,Tooltip:null,Type:null};f=new Date(e.year,e.month-1,e.day),g.Date=f,g.Tooltip=e.name,e.isHoliday?g.Type="holiday":e.isEvent?g.Type="event":g.Type="nothing",a[f]=g}c=!0}},setSpecialDateCss:function(a){var b=a.holiday,c=a.event,d=a.nothing;void 0!=b&&(e.holiday=b),void 0!=c&&(e.event=c),void 0!=d&&(e.nothing=d)},getSpecialDateCssList:function(){return b.copyObject(e)},getSpecialDateCss:function(a){return e[a]},clear:function(){a={},c=!1}}},f=function(a,b,d,e){return 1==e&&b==c&&(a+=1),e<10?a+"0"+e:a+""+e};a.jqx.jqxWidget("jqxCalendar","",{}),a.extend(a.jqx._jqxCalendar.prototype,{defineInstance:function(){var b={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:a.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:a.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:1,stepMonths:1,width:null,height:null,value:a.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!1,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{weekHeaderString:"Week",name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange","validationError","validationSuccess"],_multiSelectedDates:[],_beforeDateSelect:null,_doubleCalendarMode:!1};return this===a.jqx._jqxCalendar.prototype?b:(a.extend(!0,this,b),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.dayOfNewWeek=4,this.formatWeek=f,this.specialDatesRawData=null,this._isMobileTouchDevice=!1,this._mobileMinHeight=180,b)},_createFromInput:function(b){var c=this;if("input"==c.element.nodeName.toLowerCase()){c.field=c.element,c.field.className&&(c._className=c.field.className);var d={title:c.field.title};if(c.field.value&&(d.value=c.field.value),c.field.checked&&(d.checked=!0),c.field.id.length?d.id=c.field.id.replace(/[^\w]/g,"_")+"_"+b:d.id=a.jqx.utilities.createId()+"_"+b,c.field.getAttribute("min")){var e=new Date(c.field.getAttribute("min"));"Invalid Date"!=e&&(c.min=e)}if(c.field.getAttribute("max")){var f=new Date(c.field.getAttribute("max"));"Invalid Date"!=f&&(c.max=f)}var g=a("<div></div>",d);g[0].style.cssText=c.field.style.cssText,c.width||(c.width=a(c.field).width()),c.height||(c.height=a(c.field).outerHeight()),a(c.field).hide().after(g);var h=c.host.data();if(c.host=g,c.host.data(h),c.element=g[0],c.element.id=c.field.id,c.field.id=d.id,c._className&&(c.host.addClass(c._className),a(c.field).removeClass(c._className)),c.field.tabIndex){var i=c.field.tabIndex;c.field.tabIndex=-1,c.element.tabIndex=i}}},createInstance:function(b){var c=this;c._createFromInput("jqxCalendar"),this._isMobileTouchDevice=a.jqx.mobile.isTouchDevice(),d=e(),7==parseInt(this.dayOfNewWeek)&&(this.dayOfNewWeek=0),void 0===this.specialDatesRawData&&null===this.specialDatesRawData||this._setSpecialDatesRawData(this.specialDatesRawData),this.setCalendarSize(),""===this.element.id&&(this.element.id=a.jqx.utilities.createId()),"date"==a.type(this.value)&&(this.value=a.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");var f=(this.element.id,this);if(this.propertyChangeMap.width=function(a,b,c,d){f.setCalendarSize()},this.propertyChangeMap.height=function(a,b,c,d){f.setCalendarSize()},a.global&&a.global.preferCulture(this.culture),"default"!=this.culture){if(a.global)a.global.preferCulture(this.culture),this.localization.calendar=a.global.culture.calendar;else if(Globalize){var g=Globalize.culture(this.culture);this.localization.calendar=g.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&void 0!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),this.views.indexOf("month")==-1&&(this.view="year"),this.views.indexOf("year")==-1&&this.views.indexOf("month")==-1&&(this.view="decade"),this.addHandler(this.host,"keydown",function(a){var b=!0;return f.keyboardNavigation&&void 0!=f._handleKey&&(b=f._handleKey(a),b||(a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault())),b});var h=!1,i=this,j=!1;null!=f.width&&f.width.toString().indexOf("%")!=-1&&(j=!0),null!=f.height&&f.height.toString().indexOf("%")!=-1&&(j=!0),a.jqx.utilities.resize(this.host,function(){var a=i.host.find("#View"+f.element.id);!h||i._isMobileTouchDevice?(h=!0,i.render()):i.refreshTitle(a),j&&(f.refreshTimer&&clearTimeout(f.refreshTimer),f.refreshTimer=setTimeout(function(){f.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(a,b,c,d){d?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.refreshControl()}},_isSameDate:function(a,b){if(a&&b)return a.getDate()==b.getDate()&&a.getMonth()==b.getMonth()&&a.getFullYear()==b.getFullYear()},_isExistsDateInMultiSelectedList:function(a){var b=this;if(a&&b._multiSelectedDates)for(var c=0;c<b._multiSelectedDates.length;c++)if(b._isSameDate(a,b._multiSelectedDates[c]))return!0;return!1},setMultiple:function(a){var c=this,d=function(){return"multiple"==c.selectionMode&&!!a};d()&&(b.isArray(a)?c._multiSelectedDates=a:b.isDate(a)&&(c._multiSelectedDates=[a]),c.render())},getMultiple:function(){return b.copyObject(this._multiSelectedDates)},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b),this.input.val(this.getDate().toString())},setCalendarSize:function(){if(null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&this.width.toString().indexOf("%")!=-1&&this.host.css("width",this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&this.height.toString().indexOf("%")!=-1&&this.host.css("height",this.height),this._isMobileTouchDevice&&(null!=this.height&&void 0!=this.height||this.host.height(this._mobileMinHeight),null!=this.height&&void 0!=this.height&&this.height.toString().indexOf("%")!=-1)){var a=this.height.split("%")[0],b=this.host.parent().height()*a*.01;b<this._mobileMinHeight&&(b=this._mobileMinHeight),this.host.height(b)}},_getYearAndMonthPart:function(a){if(!a)return new Date(1900,0,1);var b=new Date(a.getFullYear(),a.getMonth(),1);return b},_handleKey:function(b){if(this.readOnly)return!0;var c=b.keyCode,d=this._getSelectedDate();if(void 0==d){if("month"!=this.view||37!=c&&38!=c&&39!=c&&40!=c)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),d=this.selectedDate}if(b.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==c){var e=this._getSelectedCell();this._setDateAndSwitchViews(e,b,"keyboard")}if("year"==this.view){var f=null;f=this._doubleCalendarMode?this.value.month-1:d.getMonth();var g=this._getYearAndMonthPart(this.getMinDate()),h=this._getYearAndMonthPart(this.getMaxDate());switch(c){case 37:if(0==f){var i=null;i=this._doubleCalendarMode?new Date(this.value.year-1,11,1):new Date(d.getFullYear()-1,11,1),i>=g?(this._doubleCalendarMode||(this.selectedDate=i),this.navigateBackward()):this.selectedDate!=g&&(this._doubleCalendarMode||(this.selectedDate=g),this.navigateBackward())}else{var i=null;i=this._doubleCalendarMode?new Date(this.value.year,f-1,1):new Date(d.getFullYear(),f-1,1),i>=g&&(this._doubleCalendarMode?this._selectDate(i,"key.noselect"):this._selectDate(i,"key"))}return!1;case 38:var i=null;return i=this._doubleCalendarMode?new Date(this.value.year,f-4,1):new Date(d.getFullYear(),f-4,1),i<g&&(i=g),f-4<0?(this._doubleCalendarMode||(this.selectedDate=i),this.navigateBackward()):this._doubleCalendarMode?this._selectDate(i,"key.noselect"):this._selectDate(i,"key"),!1;case 40:var i=null;return i=this._doubleCalendarMode?new Date(this.value.year,f+4,1):new Date(d.getFullYear(),f+4,1),i>h&&(i=h),f+4>11?(this._doubleCalendarMode||(this.selectedDate=i),this.navigateForward()):this._doubleCalendarMode?this._selectDate(i,"key.noselect"):this._selectDate(i,"key"),!1;case 39:if(11==f){var i=null;i=this._doubleCalendarMode?new Date(this.value.year+1,0,1):new Date(d.getFullYear()+1,0,1),i<=h?(this._doubleCalendarMode||(this.selectedDate=i),this.navigateForward()):this.selectedDate!=h&&(this._doubleCalendarMode||(this.selectedDate=h),this.navigateForward())}else{var i=null;i=this._doubleCalendarMode?new Date(this.value.year,f+1,1):new Date(d.getFullYear(),f+1,1),i<=h&&(this._doubleCalendarMode?this._selectDate(i,"key.noselect"):this._selectDate(i,"key"))}return!1}return!0}if("decade"==this.view){var j=this._renderStartDate.getFullYear(),k=this._renderEndDate.getFullYear(),l=null;l=this._doubleCalendarMode?this.value.year:d.getFullYear();var m=this.getMinDate().getFullYear(),n=this.getMaxDate().getFullYear();switch(c){case 37:return l-1>=m&&(l<=j?(this._doubleCalendarMode||(this.selectedDate=new Date(l-1,d.getMonth(),1)),this.navigateBackward()):this._doubleCalendarMode?this._selectDate(new Date(l-1,d.getMonth(),1),"key.noselect"):this._selectDate(new Date(l-1,d.getMonth(),1),"key")),!1;case 38:var o=l-4;return l-4<m&&(o=m),o<j?(this._doubleCalendarMode||(this.selectedDate=new Date(o,d.getMonth(),1)),this.navigateBackward()):this._doubleCalendarMode?this._selectDate(new Date(o,d.getMonth(),1),"key"):this._selectDate(new Date(o,d.getMonth(),1),"key"),!1;case 40:var o=l+4;return o>n&&(o=n),o>k?(this._doubleCalendarMode||(this.selectedDate=new Date(o,d.getMonth(),1)),this.navigateForward()):this._doubleCalendarMode?this._selectDate(new Date(o,d.getMonth(),1),"key.noselect"):this._selectDate(new Date(o,d.getMonth(),1),"key"),!1;case 39:return l+1<=n&&(l==k?(this._doubleCalendarMode||(this.selectedDate=new Date(l+1,d.getMonth(),1)),this.navigateForward()):this._doubleCalendarMode?this._selectDate(new Date(l+1,d.getMonth(),1),"key.noselect"):this._selectDate(new Date(l+1,d.getMonth(),1),"key")),!1}return!0}var p=new a.jqx._jqxDateTimeInput.getDateTime(d),q=this.getViewStart(),r=this.getViewEnd(),s=a.data(this.element,"View"+this.element.id);if(void 0==s||null==s)return!0;if(36==c)return p._setDay(1),!this._isDisabled(p.dateTime)&&(this._selectDate(p.dateTime,"key"),!1);if(35==c){var t=this.value._daysInMonth(this.value.year,this.value.month);return p._setDay(t),!this._isDisabled(p.dateTime)&&(this._selectDate(p.dateTime,"key"),!1)}var u=1;if(b.ctrlKey&&(u=12),34==c){var v=this.navigateForward(u);if(v){if(p._addMonths(u),this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key")}return!1}if(33==c){var v=this.navigateBackward(u);if(v){if(p._addMonths(-u),this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key")}return!1}if(38==c){if(p._addDays(-7),p.dateTime<this.getMinDate())return!1;if(p.dateTime<q){var v=this.navigateBackward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x<=p.dateTime){this.value.day=x.getDate(),this.navigateBackward(),this._selectDate(p.dateTime,"key");break}}return!1}if(40==c){if(p._addDays(7),p.dateTime>this.getMaxDate())return!1;if(p.dateTime>r){var v=this.navigateForward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x>=p.dateTime){this.value.day=x.getDate(),this.navigateForward(),this._selectDate(p.dateTime,"key");break}}return!1}if(37==c){if(p._addDays(-1),p.dateTime<this.getMinDate())return!1;if(p.dateTime<q){var v=this.navigateBackward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x<=p.dateTime){if(p.dateTime<this.getMinDate()||p.dateTime>this.getMaxDate())return!1;if(this._isDisabled(p.dateTime))return!1;this.navigateBackward(),this._selectDate(p.dateTime,"key");break}}return!1}if(39==c){if(p._addDays(1),p.dateTime>this.getMaxDate())return!1;if(p.dateTime>r){var v=this.navigateForward();if(!v)return!1}if(this._isDisabled(p.dateTime))return!1;this._selectDate(p.dateTime,"key");for(var w=0;w<s.cells.length;w++){var e=s.cells[w],x=e.getDate();if(e.isOtherMonth&&e.isSelected&&x>=p.dateTime){if(p.dateTime<this.getMinDate()||p.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(p.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var a=this._renderSingleCalendar("View"+this.element.id),c=this;if(this.host.append(a),this._isMobileTouchDevice){var d=this;this._calendarBodyWrapper.on("touchstart",function(a){d._touchstartPosX=a.originalEvent.changedTouches[0].clientX;var b=new Date;d._touchStartTime=b.getTime()}),this._calendarBodyWrapper.on("touchmove",function(a){var b=a.originalEvent.changedTouches[0].clientX;if(!d._touchstartPosX)return!1;var c=b-d._touchstartPosX;if(d._touchstartPosX=b,d._touchStartTime){var e=new Date;if(e.getTime()-d._touchStartTime<150&&Math.abs(c)<d._viewNotChangeDistance)return d._hasScrolled=!1,a.preventDefault(),!0;d._touchStartTime=null}var f=d._calendarBodyWrapper.css("margin-left");f=parseInt(f.replace("px","")),f+=c,d._calendarBodyWrapper.css("margin-left",f+"px"),d._hasScrolled=!0,a.preventDefault()}),this._calendarBodyWrapper.on("touchend",function(a){if(!d._hasScrolled)return!0;var b=d._calendarBodyWrapper.css("margin-left").replace("px",""),c=0,e=!0,f=!1;b<0?b<-d._viewChangeDistance?(c=1*b+d._viewWidth,f=!0):c=b:b>0&&(b<d._viewChangeDistance?c=b:(c=b-d._viewWidth,f=!0),e=!1),d._calendarBodyWrapper.animate({"margin-left":"-="+c+"px"},"fast",function(){setTimeout(function(){f&&(d._calendarBodyWrapper.css("margin-left","0px"),e?d.navigateForwardMobile():d.navigateBackwardMobile())},5)})})}if(this.$dataBinders$){this._setDateWithoutBinding=this._cloneFunction(this.setDate),this._afterFunction(this,"setDate",function(a,c){a&&this.$dataBinders$&&this.$dataBinders$.value&&!b.isNil(c)&&("default"!=this.selectionMode&&"none"!=this.selectionMode||this.$dataBinders$.value.updateItem(c.getTime()))});var e=function(){var a=c.getDate();!b.isNil(a)&&c.$dataBinders$&&c.$dataBinders$.value&&("default"!=c.selectionMode&&"none"!=c.selectionMode||c.$dataBinders$.value.updateItem(a.getTime()))};this.addHandler(this.host,"change",e),this.addHandler(this.host,"nextButtonClick",e),this.addHandler(this.host,"backButtonClick",e);for(var f in this.$dataBinders$){var g=this.$dataBinders$[f];if(g){var h=this.bindDataBinder(f);g.unbindCallbackFunc(this.element.id),g.bindCallbackFunc(this.element.id,h),g.dataBind()}}}}},bindDataBinder:function(a){var b=this;b.baseHost?b.baseHost.id:b.element.id;if("value"==a)return function(a){if("default"==b.selectionMode||"none"==b.selectionMode){var c,d=arguments[1];"update"==a?(c=void 0==d.value?"":d.value,b.setDate(new Date(c))):"load"==a&&(c=void 0==d.records?"":d.records,b._setDateWithoutBinding(new Date(c)))}}},_cloneFunction:function(a){var b=function(){return a.apply(this,arguments)};b.prototype=a.prototype;for(property in a)a.hasOwnProperty(property)&&"prototype"!==property&&(b[property]=a[property]);return b},_afterFunction:function(a,b,c){var d=function(){var a=e.apply(this,arguments);return c.apply(this,[].concat(a,Array.prototype.slice.call(arguments)))},e=a[b];return a[b]=d,{remove:function(){a[b]=e}}},addSpecialDate:function(a,b,c){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var d=this.specialDates.length;this.specialDates[d]={Date:a,Class:b,Tooltip:c},this.refreshControl()}},refresh:function(a){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var a=this.getVisibleDate(),b=this.getFirstDayOfWeek(a);return b.dateTime},getViewEnd:function(){var b=this.getViewStart(),c=new a.jqx._jqxDateTimeInput.getDateTime(b);return c._addDays(41),c.dateTime},refreshSingleCalendar:function(a,b){if(this.canRender){var c=this.host.find("#"+a),d=this.getVisibleDate(),e=this.getFirstDayOfWeek(d);this.refreshCalendarCells(c,e,a),this.refreshTitle(c),this.refreshRowHeader(c,a),this._doubleCalendarMode?void 0!=this.selectedDate&&this.value.year==this.selectedDate.getFullYear()&&this.value.month-1==this.selectedDate.getMonth()&&this._selectDate(this.selectedDate,"noselect"):void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var f=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(f=this.host.height()-this.titleHeight),this.showFooter&&(f-=20);var g=c.find("#cellsTable"+a),h=c.find("#calendarRowHeader"+a);g.height(f),h.height(f),this._isMobileTouchDevice&&this._replicateCalendarBackwardForward(d,a)}},refreshRowHeader:function(b,c){if(this.showWeekNumbers){var d=this.getVisibleDate(),e=this.getFirstDayOfWeek(d),f=(e.dayOfWeek,this.getWeekOfYear(e)),g=new a.jqx._jqxDateTimeInput.getDateTime(new Date(e.dateTime));g._addDays(5),g.dayOfWeek=g.dateTime.getDay();var h=(this.getWeekOfYear(g),this.rowHeader.find("table"));h.width(this.rowHeaderWidth);for(var i=e,j=new Array,k=0;k<6;k++){var l=(f.toString(),new a.jqx._jqxCalendar.cell(i.dateTime)),m=k+1+this.element.id,n=a(h[0].rows[k].cells[0]);l.element=n,l.row=k,l.column=0;var o=n.find("#headerCellContent"+m);o.addClass(this.toThemeProperty("jqx-calendar-row-cell")),o[0].innerHTML=f,j[k]=l,i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addWeeks(1))),f=this.getWeekOfYear(i)}var p=a.data(this.element,b[0].id);p.rowCells=j,this._refreshOtherMonthRows(p.cells,c)}},_refreshOtherMonthRows:function(a,b,c){if(!this.showOtherMonthDays){var d=this.host.find("#"+b),e=null;if(e="backward"==c?this._calendarBodyBackward:"forward"==c?this._calendarBodyForward:this._calendarBody,null==e)return!1;this._displayLastRow(!0,b,d,e),this._displayFirstRow(!0,b,d,e);for(var f=!1,g=!1,h=0;h<a.length;h++){var i=a[h];i.isVisible&&h<7?f=!0:i.isVisible&&h>=a.length-7&&(g=!0)}f||this._displayFirstRow(!1,b,d,e),g||this._displayLastRow(!1,b,d,e)}},_displayLastRow:function(b,c,d,e){var f=e.find("#calendarRowHeader"+d[0].id).find("table"),g=null;if(this.showWeekNumbers&&f[0].cells)var g=a(f[0].rows[5]);var h=a(e.find("#cellTable"+d[0].id)[0].rows[5]);b?(this.showWeekNumbers&&g&&g.css("display","table-row"),h.css("display","table-row")):(this.showWeekNumbers&&g&&g.css("display","none"),h.css("display","none"))},_displayFirstRow:function(b,c,d,e){var f=e.find("#calendarRowHeader"+d[0].id).find("table"),g=null;if(this.showWeekNumbers&&f[0].cells)var g=a(f[0].rows[0]);var h=a(e.find("#cellTable"+d[0].id)[0].rows[0]);b?(this.showWeekNumbers&&g&&g.css("display","table-row"),h.css("display","table-row")):(this.showWeekNumbers&&g&&g.css("display","none"),h.css("display","none"))},_replicateCalendarBackwardForward:function(b,c){function d(b,c,d,f,g){for(var h=b.find("#cellTable"+d.toString()),i=c,j=new Array,k=0,l=0;l<6;l++)for(var m=0;m<7;m++){var n=m;e.rtl&&(n=6-n);var o=n+1,p=new Date(i.dateTime.getFullYear(),i.dateTime.getMonth(),i.dateTime.getDate()),q=new a.jqx._jqxCalendar.cell(p),r=a(h[0].rows[l].cells[o-1]);q.element=r,q.row=l,q.column=m,q.isVisible=!0,q.isOtherMonth=!1,q.isToday=!1,q.isWeekend=!1,q.isHighlighted=!1,q.isSelected=!1,i.month!=f&&(q.isOtherMonth=!0,q.isVisible=e.showOtherMonthDays),(p<e.getMinDate()||p>e.getMaxDate()||e._isDisabled(p))&&(q.isDisabled=!0),i.isWeekend()&&(q.isWeekend=!0),j[k]=q,k++;var s=i.day;1==s&&(s=i.month+"/"+i.day),e._applyCellStyle(q,r,r),i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addDays(1)))}e._refreshOtherMonthRows(j,d,g)}var e=this,f=this._calendarBodyWrapper;this._calendarBodyBackward||(this._calendarBodyBackward=this._calendarBody.clone(),this._calendarBodyBackward.attr("id","calendarBodyBackward"),f.prepend(this._calendarBodyBackward)),this._calendarBodyForward||(this._calendarBodyForward=this._calendarBody.clone(),this._calendarBodyForward.attr("id","calendarBodyForward"),f.append(this._calendarBodyForward));var g=new Date(b.year,b.month-2,1);g=new a.jqx._jqxDateTimeInput.getDateTime(g),d(this._calendarBodyBackward,e.getFirstDayOfWeek(g),c,g.month,"backward");var h=new Date(b.year,b.month,1);h=a.jqx._jqxDateTimeInput.getDateTime(h),d(this._calendarBodyForward,e.getFirstDayOfWeek(h),c,h.month,"forward")},_renderSingleCalendar:function(b,c){if(this.canRender){var d=this.host.find("#"+b.toString());
null!=d&&d.remove();var e=a("<div id='"+b.toString()+"'></div>"),f=this.host.width(),g=f,h=0;this._isMobileTouchDevice&&(e.css("position","relative"),g=3*f,h=f*-1,this._viewChangeDistance=.15*f,this._viewNotChangeDistance=.2*this._viewChangeDistance,this._viewWidth=f);var i=this.getVisibleDate(),j=this.getFirstDayOfWeek(i),k=new a.jqx._jqxDateTimeInput.getDateTime(j.dateTime);k._addMonths(1);var l=a.jqx._jqxCalendar.monthView(j,k,null,null,null,e);void 0==c||null==c?(this.host.append(e),void 0==this.height||isNaN(this.height)?null!=this.height&&this.height.toString().indexOf("px")!=-1&&e.height(this.height):e.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&this.width.toString().indexOf("px")!=-1&&e.width(this.width):e.width(this.width),null!=this.width&&this.width.toString().indexOf("%")!=-1&&e.width("100%"),null!=this.height&&this.height.toString().indexOf("%")!=-1&&e.height("100%")):c.append(e),a.data(this.element,b,l);var m=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(m=this.host.height()-this.titleHeight),this.showFooter&&(m-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var n=this.rowHeaderWidth,o=this.columnHeaderHeight;this.showWeekNumbers||(n=0),this.showDayNames||(o=0);var p="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>";this._isMobileTouchDevice&&(p="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td></tr></table></div>");var q="<table role='grid' id='calendarBody' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px; width: "+f+"px' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+o+"'><td role='gridcell' id='selectCell' width='"+n+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+m+"' width='"+n+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+m+"' class='"+this.toThemeProperty("aui-calendar-date-container")+"'></td></tr></table>",r="<div id='footer' class='aui-calendar-footer' style='margin: 0px; display: none; height:"+s+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";this._isMobileTouchDevice?(e[0].innerHTML=p+'<div id="calendarBodyWrapper" style="position:absolute;width:'+g+"px;left:"+h+'px">'+q+"</div>"+r,this._calendarBodyWrapper=e.find("#calendarBodyWrapper"),this._calendarBody=e.find("#calendarBody").css("display","inline-block"),this._calendarBodyBackward=null,this._calendarBodyForward=null):e[0].innerHTML=p+q+r,this.header=e.find("#calendarHeader"),this.header[0].id="calendarHeader"+b,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=e.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+b,this.table=e.find("#cellsTable"),this.table[0].id="cellsTable"+b,this.rowHeader=e.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+b,this.selectCell=e.find("#selectCell"),this.selectCell[0].id="selectCell"+b,this.title=e.find("#calendarTitle"),this.title[0].id="calendarTitle"+b,this._isMobileTouchDevice||(this.leftButton=e.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+b,this.rightButton=e.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+b),this.titleHeader=e.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+b,this.footer=e.find("#calendarFooter"),this._footer=e.find("#footer"),this._footer[0].id="footer"+b,this.footer[0].id="calendarFooter"+b,this.todayButton=e.find("#todayButton"),this.todayButton[0].id="todayButton"+b,this.doneButton=e.find("#doneButton"),this.doneButton[0].id="doneButton"+b,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var s=20;if(this.showFooter&&this._footer.css("display","block"),e.find("tr").addClass(this.toThemeProperty("jqx-reset")),e.addClass(this.toThemeProperty("jqx-widget-content")),e.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=e,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?(this._renderWeekHeader(e),this._renderRowHeader(e)):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var t=a("<a href='javascript:;'>"+this.todayString+"</a>");t.appendTo(this.todayButton);var u=a("<a href='javascript:;'>"+this.clearString+"</a>");u.appendTo(this.doneButton),u.addClass(this.toThemeProperty("jqx-calendar-footer")),t.addClass(this.toThemeProperty("jqx-calendar-footer"));var v=this,w="mousedown";a.jqx.mobile.isTouchDevice()&&(w=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(t,w,function(){return v.today?v.today():v.setDate(new Date,"mouse"),!1}),this.addHandler(u,w,function(){return v.clear?v.clear():v.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&this.renderColumnHeader(e),this.oldView=this.view,this.renderCalendarCells(e,j,b),void 0!=c&&null!=c||this.renderTitle(e),this._refreshOtherMonthRows(l.cells,b),e.find("tbody").css({border:"none",background:"transparent"}),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var x=this;return this.addHandler(this.host,"focus",function(){x.focus()}),this._isMobileTouchDevice&&this._replicateCalendarBackwardForward(new a.jqx._jqxDateTimeInput.getDateTime(i.dateTime),b),e}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(b){var c=null,d=null,e=null,f=null;this._isMobileTouchDevice||(c=a("<div role='button' style='float: left;'></div>"),d=a("<div role='button' style='float: right;'></div>"));var g=this.title;g.addClass(this.toThemeProperty("jqx-reset")),g.addClass(this.toThemeProperty("jqx-widget-header")),g.addClass(this.toThemeProperty("jqx-calendar-title-header"));var h=g.find("td");if(a.jqx.browser.msie&&a.jqx.browser.version<8){if("transparent"!=h.css("background-color")){var i=g.css("background-color");h.css("background-color",i)}if("transparent"!=h.css("background-image")){var j=g.css("background-image"),k=g.css("background-repeat");g.css("background-position");h.css("background-image",j),h.css("background-repeat",k),h.css("background-position","left center scroll")}}else h.css("background-color","transparent");this.disabled&&g.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),this._isMobileTouchDevice||(c.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),c.addClass(this.toThemeProperty("jqx-icon-arrow-left")),c.appendTo(this.leftButton),e=this.leftButton,d.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),d.appendTo(this.rightButton),f=this.rightButton,this.enableTooltips&&a(e).jqxTooltip&&(a(e).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),a(f).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText})));var l=this.titleHeader,m=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var n=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),o=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);m=n+" - "+o}else if("centuries"==this.view){var n=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),o=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);m=n+" - "+o}var p=a("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+m+"</div>");l.append(p),p.addClass(this.toThemeProperty("jqx-calendar-title-content"));var q=0;this._isMobileTouchDevice||(q=parseInt(c.width()),a.data(c,"navigateLeft",this),a.data(d,"navigateRight",this));var r=b.width()-2*q,s=(l.find(".jqx-calendar-title-content").width(r),a.jqx.mobile.isTouchDevice());if(!this.disabled){var t=this;this._isMobileTouchDevice||(this.addHandler(l,"mousedown",function(a){if(t.enableViews){if(!t._viewAnimating&&!t._animating){var b=t.view;switch(t.oldView=b,t.view){case"month":t.view="year";break;case"year":t.view="decade"}if(t.views.indexOf("year")==-1&&"year"==t.view&&(t.view="decade"),t.views.indexOf("decade")==-1&&"decade"==t.view&&(t.view=b),b!=t.view){var c="View"+t.element.id,d=t.host.find("#"+c),e=t.getVisibleDate(),f=t.getFirstDayOfWeek(e);t.renderCalendarCells(d,f,c,!0),t.refreshTitle(d),t._raiseEvent("8")}}return!1}}),this.addHandler(c,"mousedown",function(b){if(t._animating)return!1;a.data(c,"navigateLeftRepeat",!0);var d=a.data(c,"navigateLeft");return d.enableFastNavigation&&!s&&d.startRepeat(d,c,!0,t.navigationDelay+200),d.navigateBackward(t.stepMonths,"arrow"),b.stopPropagation(),b.preventDefault(),d._raiseEvent(0,b)}),this.addHandler(c,"mouseup",function(b){a.data(c,"navigateLeftRepeat",!1)}),this.addHandler(c,"mouseleave",function(b){a.data(c,"navigateLeftRepeat",!1)}),this.addHandler(d,"mousedown",function(b){if(t._animating)return!1;a.data(d,"navigateRightRepeat",!0);var c=a.data(d,"navigateRight");return c.enableFastNavigation&&!s&&c.startRepeat(c,d,!1,t.navigationDelay+200),c.navigateForward(t.stepMonths,"arrow"),b.stopPropagation(),b.preventDefault(),c._raiseEvent(1,b)}),this.addHandler(d,"mouseup",function(b){a.data(d,"navigateRightRepeat",!1)}),this.addHandler(d,"mouseleave",function(b){a.data(d,"navigateRightRepeat",!1)}))}},refreshTitle:function(b){var c=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var d=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),e=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);c=d+" - "+e}else if("centuries"==this.view){var d=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),e=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);c=d+" - "+e}var f=this.titleHeader;if(this.titleHeader){var g=f.find(".jqx-calendar-title-content"),h=a("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+c+"</div>");f.append(h),h.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=g&&g.remove()}},startRepeat:function(b,c,d,e){var f=window.setTimeout(function(){var g=a.data(c,"navigateLeftRepeat");return d||(g=a.data(c,"navigateRightRepeat")),g?(e<25&&(e=25),void(d?(b.navigateBackward(1,"arrow"),b.startRepeat(b,c,!0,e)):(b.navigateForward(1,"arrow"),f=b.startRepeat(b,c,!1,e)))):void window.clearTimeout(f)},e)},navigateToMobile:function(a){this.value._setYear(a.getFullYear()),this.value._setDay(a.getDate()),this.value._setMonth(a.getMonth()+1),this.refreshControl()},navigateBackwardMobile:function(a){var b=this;if("month"!=this.view)return!1;var c=(b.value.year,b.value.day),d=b.value.month;if(d-1>=1){var e=b.value._daysInMonth(b.value.year,b.value.month-1);c>e&&(c=e)}var f=new Date(b.value.year,b.value.month-2,c);a?b._calendarBodyWrapper.animate({"margin-left":"+="+b.host.width()+"px"},"fast",function(){setTimeout(function(){b._calendarBodyWrapper.css("margin-left","0px"),b.navigateToMobile(f)},5)}):b.navigateToMobile(f)},navigateForwardMobile:function(a){var b=this;if("month"!=this.view)return!1;var c=(this.value.year,this.value.day),d=this.value.month;if(d+1<=12){var e=this.value._daysInMonth(this.value.year,this.value.month+1);c>e&&(c=e)}var f=new Date(this.value.year,this.value.month,c);a?b._calendarBodyWrapper.animate({"margin-left":"-="+b.host.width()+"px"},"fast",function(){setTimeout(function(){b._calendarBodyWrapper.css("margin-left","0px"),b.navigateToMobile(f)},5)}):b.navigateToMobile(f)},navigateForward:function(a,b){void 0!=a&&null!=a||(a=this.stepMonths);var c=this.value.year;if("decade"==this.view){if(c=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?c=this.value.year+1:"centuries"==this.view&&(c=this.value.year+100);if("month"!=this.view){var d=this.getMaxDate().getFullYear();if((d<c||c>d)&&(c=d),this.value.year==c){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=c,this.value.month=1,this.value.day=1}this.value.year=c,this.value.month=1,this.value.day=1}var e=this.value.day,f=this.value.month;if(f+a<=12){var g=this.value._daysInMonth(this.value.year,this.value.month+a);e>g&&(e=g)}if("month"==this.view){var h=new Date(this.value.year,this.value.month-1+a,e);this._doubleCalendarMode||"arrow"==b&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+a,1))}else var h=new Date(this.value.year,this.value.month-1,e);return this.navigateTo(h)},navigateBackward:function(a,b){void 0!=a&&null!=a||(a=this.stepMonths);var c=this.value.year;if("decade"==this.view?c=this._renderStartDate.getFullYear()-12:"year"==this.view?c=this.value.year-1:"centuries"==this.view&&(c=this.value.year-100),"month"!=this.view){var d=this.getMinDate().getFullYear();if(c<d&&(c=d),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==c)return;this.value.year=c,this.value.month=1,this.value.day=1}var e=this.value.day,f=this.value.month;if(f-a>=1){var g=this.value._daysInMonth(this.value.year,this.value.month-a);e>g&&(e=g)}if("month"==this.view){var h=new Date(this.value.year,this.value.month-1-a,e);this._doubleCalendarMode||"arrow"==b&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-a,1))}else var h=new Date(this.value.year,this.value.month-1,e);return this.navigateTo(h)},_isRestrictedRange:function(a,b){if(a>b)return!0;for(var c=a;c.valueOf()<=b.valueOf();){if(this._isRestrictedDate(c))return!0;c.setDate(c.getDate()+1)}return!1},_hasUnrestrictedRanges:function(a,b){if(a>b)return!1;for(var c=a;c.valueOf()<=b.valueOf();){if(!this._isRestrictedDate(c))return!0;c.setDate(c.getDate()+1)}return!1},_getNextUnrestrictedDay:function(a,b){if(a>b)return null;for(var c=a;c.valueOf()<=b.valueOf();){if(!this._isRestrictedDate(c))return c;c.setDate(c.getDate()+1)}return null},_isRestrictedDate:function(b){var c=this;if(!a.isArray(c.restrictedDates))return!1;for(var d=0;d<c.restrictedDates.length;d++){var e=c.restrictedDates[d];if("object"==typeof e&&void 0!=e.from&&void 0!=e.to){var f=e.from,g=e.to;if(b.valueOf()>=f.valueOf()&&b.valueOf()<=g.valueOf())return!0}else if(e.getMonth()==b.getMonth()&&e.getDate()==b.getDate()&&e.getFullYear()==b.getFullYear())return!0}return!1},_isDisabled:function(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=a.getDay(),d=b[c];return this.selectableDays.indexOf(d)==-1||!!this._isRestrictedDate(a)},refreshCalendarCells:function(b,c,d){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.refreshViews(b,c,d);for(var e=this.table,f=e.find("#cellTable"+d.toString()),g=c,h=new Array,i=0,j=new a.jqx._jqxDateTimeInput.getDateTime(new Date),k=0;k<6;k++)for(var l=0;l<7;l++){var m=k+1,n=l;this.rtl&&(n=6-n);var o=n+1,p="#cell"+m+o+this.element.id,q=new Date(g.dateTime.getFullYear(),g.dateTime.getMonth(),g.dateTime.getDate()),r=new a.jqx._jqxCalendar.cell(q),s=a(f[0].rows[k].cells[o-1]);if(s[0].id=p.substring(1),r.element=s,r.row=k,r.column=l,r.isVisible=!0,r.isOtherMonth=!1,r.isToday=!1,r.isWeekend=!1,r.isHighlighted=!1,r.isSelected=!1,g.month!=this.value.month&&(r.isOtherMonth=!0,r.isVisible=this.showOtherMonthDays),this._isRestrictedDate(q)&&(r.isRestricted=!0,r.isDisabled=!0),r.isDisabled||(q<this.getMinDate()||q>this.getMaxDate()||this._isDisabled(q))&&(r.isDisabled=!0),g.month==j.month&&g.day==j.day&&g.year==j.year&&(r.isToday=!0),g.isWeekend()&&(r.isWeekend=!0),a.data(this.element,"cellContent"+p.substring(1),r),a.data(this.element,p.substring(1),r),h[i]=r,i++,this._isMobileTouchDevice){var t=g.day;1==t&&(t=g.month+"/"+g.day),a.jqx.utilities.html(s,t)}else a.jqx.utilities.html(s,g.day);this._applyCellStyle(r,s,s),g=new a.jqx._jqxDateTimeInput.getDateTime(new Date(g._addDays(1)))}var u=a.data(this.element,b[0].id);void 0!=u&&null!=u&&(u.cells=h),this.renderedCells=h,this._refreshOtherMonthRows(u.cells,d)},_getDecadeAndCenturiesData:function(){var a=new Array,b=new Array,c=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();c<12&&(c=12);var d=this.getMinDate(),e=this.getMaxDate(),f=this.value.dateTime.getFullYear();if("decade"==this.view){f+12>e.getFullYear()&&(f=e.getFullYear()-11),f<d.getFullYear()&&(f=d.getFullYear());for(var g=0;g<c;g++){var h=new Date(d.getFullYear()+g,0,1);if(d.getFullYear()<=f&&f<=h.getFullYear()){for(var i=new Date(h.getFullYear(),h.getMonth(),1),j=0;j<12;j++){var k=new Date(i.getFullYear()+j,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),l=k.getFullYear();d.getFullYear()<=l&&l<=e.getFullYear()?(a.push(l),b.push(k),0==j&&(this._renderStartDate=k),this._renderEndDate=k):(a.push(l),b.push(k))}break}}}else if("centuries"==this.view)for(var g=0;g<c;g+=120){var h=new Date(d.getFullYear()+g+120,0,1);if(d.getFullYear()<=f&&f<=h.getFullYear()){var i=new Date(h.getFullYear()-130,h.getMonth(),1);i<d&&(i=d);for(var j=0;j<12;j++){var m=new Date(i.getFullYear()+10*j,i.getMonth(),1);i.getFullYear()>=d.getFullYear()&&m.getFullYear()<=e.getFullYear()&&(a.push("<span style='visibility: hidden;'>-</span>"+m.getFullYear()+"-"+(m.getFullYear()+9)),b.push(m),0==j&&(this._renderCenturyStartDate=m),this._renderCenturyEndDate=new Date(m.getFullYear()+9,0,1))}break}}return{years:a,dates:b}},refreshViews:function(b,c,d){for(var e=new Array,f=b.find("#cellTable"+d.toString()),g=this._getDecadeAndCenturiesData(),h=g.years,i=g.dates,j=0,k=this.getMinDate(),l=this.getMaxDate(),m=0;m<3;m++)for(var n=0;n<4;n++){var o=n;this.rtl&&(o=3-o);var p=new Date(this.value.dateTime);p.setDate(1),p.setMonth(4*m+o);var q=new a.jqx._jqxCalendar.cell(p),r=f[0].rows["row"+(1+m)+this.element.id],s=a(r.cells[n]);q.isSelected=!1,q.isVisible=!0,q.element=s,q.row=m,q.column=n,q.index=e.length;var t="";if("year"==this.view){var u=this.localization.calendar.months.names,v=u[4*m+o];switch(this.monthNameFormat){case"default":v=this.localization.calendar.months.namesAbbr[4*m+o];break;case"shortest":v=this.localization.calendar.months.namesShort[4*m+o];break;case"firstTwoLetters":v=v.substring(0,2);break;case"firstLetter":v=v.substring(0,1)}t=v}else"decade"!=this.view&&"centuries"!=this.view||(t=h[4*m+o],void 0==t&&(t="<span style='cursor: default; visibility: hidden;'>2013</span>"),q.setDate(i[4*m+o]));var p=q.getDate();"year"==this.view?p.getMonth()==this.getDate().getMonth()&&p.getFullYear()==this.getDate().getFullYear()&&(q.isSelected=!0):p.getFullYear()==this.getDate().getFullYear()&&(q.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(p)<this._getYearAndMonthPart(k)&&(q.isDisabled=!0),this._getYearAndMonthPart(p)>this._getYearAndMonthPart(l)&&(q.isDisabled=!0)):(p.getFullYear()<k.getFullYear()&&(q.isDisabled=!0),p.getFullYear()>l.getFullYear()&&(q.isDisabled=!0)),a.jqx.utilities.html(s,t),e[j]=q,j++}var w=a.data(this.element,b[0].id);void 0!=w&&null!=w&&(w.cells=e),this.renderedCells=e,this._applyCellStyles()},_createViewClone:function(){var a=this.host.find(".jqx-calendar-month"),b=a.clone();return b.css("position","absolute"),b.css("top",a.position().top),b},_addCellsTable:function(a,b){var c=this,d=this.showFooter?20:0;"month"!=this.view?b.height(this.host.height()-this.titleHeight):b.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-d),this._viewAnimating=!0;var e=this.host.find(".jqx-calendar-month-container");e.css("position","relative");var f=(this.host.find(".jqx-calendar-month"),this._createViewClone());e.append(f),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),a.children().remove(),a.append(b),this._animateViews(f,b,function(){c.selectedDate||"range"==c.selectionMode||(c.selectedDate=c.renderedCells[0].getDate());try{c.renderedCells[0].element.focus(),setTimeout(function(){c.renderedCells[0].element.focus()},10)}catch(a){}c._viewAnimating=!1}),b.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(a,b,c){var d=this;return d._viewAnimating=!0,d.oldView==d.view?(a.remove(),b.fadeOut(0),b.fadeIn(0),void c()):(a.fadeOut(this.navigationDelay+100,function(){a.remove()}),b.fadeOut(0),void b.fadeIn(this.navigationDelay+200,function(){c()}))},focus:function(){if(!this.disabled)try{if(this.renderedCells&&this.renderedCells.length>0){var a=this;a.selectedDate||"range"==a.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(b){}},renderViews:function(b,c,d){var e=this,f=new Array,g=a("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='0' cellpadding='0' id=cellTable"+d.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),h=this.host.find(".jqx-calendar-month-container");h.css("position","relative");var i=b.find("#cellsTable"+b[0].id);i[0].style.borderColor="transparent";var j=this._getDecadeAndCenturiesData(),k=j.years,l=j.dates,m=0,n=this.getMinDate(),o=this.getMaxDate(),p=new Date(this.value.dateTime);p.setDate(1);for(var q=0;q<3;q++)for(var r=0;r<4;r++){var s=r;this.rtl&&(s=3-s);var t=g[0].rows["row"+(1+q)+this.element.id],u=new Date(p);u.setMonth(4*q+s);var v=new a.jqx._jqxCalendar.cell(u),w=a(t.cells[r]);v.isVisible=!0,v.element=w,v.row=q,v.column=r,v.index=f.length,v.isSelected=!1;var x="";if("year"==this.view){u.getMonth()==this.getDate().getMonth()&&u.getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0);var y=this.localization.calendar.months.names,z=y[4*q+s];switch(this.monthNameFormat){case"default":z=this.localization.calendar.months.namesAbbr[4*q+s];break;case"shortest":z=this.localization.calendar.months.namesShort[4*q+s];break;case"firstTwoLetters":z=z.substring(0,2);break;case"firstLetter":z=z.substring(0,1)}x=z}else"decade"!=this.view&&"centuries"!=this.view||(x=k[4*q+s],v.setDate(l[4*q+s]),v.getDate().getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0),void 0==x&&(x="<span style='cursor: default; visibility: hidden;'>2013</span>"));var u=v.getDate();if("year"==this.view){var A=new Date(u);A.setDate(1),A.setHours(0,0,0,0),A.setMonth(u.getMonth()+1),A=new Date(A.valueOf()-1),(this._getYearAndMonthPart(u)<this._getYearAndMonthPart(n)||this._getYearAndMonthPart(u)>this._getYearAndMonthPart(o)||!this._hasUnrestrictedRanges(u,A))&&(v.isDisabled=!0)}else{var B=new Date(u);B.setMonth(0),B.setDate(1),B.setHours(0,0,0,0),B.setFullYear(u.getFullYear()+1),B=new Date(B.valueOf()-1),(u.getFullYear()<n.getFullYear()||u.getFullYear()>o.getFullYear()||!this._hasUnrestrictedRanges(u,B))&&(v.isDisabled=!0)}a.jqx.utilities.html(w,x),f[m]=v,m++}a.each(f,function(){var a=this.element,b=this;e.disabled||(e.addHandler(a,"mousedown",function(a){e._setDateAndSwitchViews(b,a,"mouse"),a.stopPropagation()}),e.addHandler(a,"mouseover",function(a){var c=e.renderedCells[b.index];"centuries"!=e.view&&c.element.html().toLowerCase().indexOf("span")!=-1||(c.isHighlighted=!0,e._applyCellStyle(c,c.element,c.element))}),e.addHandler(a,"mouseout",function(a){var c=e.renderedCells[b.index];"centuries"!=e.view&&c.element.html().toLowerCase().indexOf("span")!=-1||(c.isHighlighted=!1,e._applyCellStyle(c,c.element,c.element))}))});var C=a.data(this.element,b[0].id);void 0!=C&&null!=C&&(C.cells=f),this.renderedCells=f,this._addCellsTable(i,g),this._applyCellStyles()},_setDateAndSwitchViews:function(b,c,d){if(!this._viewAnimating&&!this._animating){var e=(this.getDate(),this.renderedCells[b.index].getDate()),f=this.value.dateTime.getDate(),g=new Date(e);this.views.indexOf("month")!=-1?g.setDate(f):(g.setDate(1),e.setDate(1)),g.getMonth()==e.getMonth()&&(e=g);var h=this.getMinDate(),i=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(e)<this._getYearAndMonthPart(h))return;if(this._getYearAndMonthPart(e)>this._getYearAndMonthPart(i))return}else{if(e.getFullYear()<h.getFullYear())return;if(e.getFullYear()>i.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(e,d),this._doubleCalendarMode||this._selectDate(e),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}this.views.indexOf("month")==-1&&(this.view="year"),this.views.indexOf("year")==-1&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(e)<this._getYearAndMonthPart(h)&&(e=h),this._getYearAndMonthPart(e)>this._getYearAndMonthPart(i)&&(e=i)):(e.getFullYear()<h.getFullYear()&&(e=h),e.getFullYear()>i.getFullYear()&&(e=i)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=e.getFullYear()||this.selectedDate.getMonth()!=e.getMonth()||this.selectedDate.getDate()!=e.getDate())&&(e=this.selectedDate),this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1),this.value._setDay(e.getDate());var j=this.getVisibleDate(),k=this.getFirstDayOfWeek(j),l="View"+this.element.id;if(this.renderCalendarCells(this.month,k,l,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,l),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var m=this;a.each(this.renderedCells,function(b){var c=this,d=c.getDate(),f=a(c.element);if(0==f.length)return!1;var g=function(a){if(null==a)return new Date;var b=new Date;return b.setHours(0,0,0,0),b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b};c.isOtherMonth||g(d).toString()!=g(e).toString()||(m.value._setMonth(e.getMonth()+1),m.value._setDay(e.getDate()),m.value._setYear(e.getFullYear())),c.isSelected=!1,c.isDisabled=!1,g(d)<g(m.selection.from)&&1==m._clicks&&(c.isDisabled=!0),m.getMaxDate()<d&&(c.isDisabled=!0),m.getMinDate()>d&&(c.isDisabled=!0),m._isDisabled(d)&&(c.isDisabled=!0),c.isDisabled||g(d)>=g(m.selection.from)&&g(d)<=g(m.selection.to)&&(c.isSelected=!0)}),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||this.views.indexOf("year")==-1&&"decade"==this.view)&&("keyboard"!=d&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(b,c,d,e){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.renderViews(b,c,d);var f=a("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='0' cellpadding='1' id=cellTable"+d.toString()+"><colgroup><col width='14.285%'><col width='14.285%'><col width='14.285%'><col width='14.285%'><col width='14.285%'><col width='14.285%'><col width='14.285%'></colgroup><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),g=this.table;if(g[0].style.borderColor="transparent",void 0==e){var h=g.find("#cellTable"+d.toString());null!=h&&h.remove(),g.append(f)}var i=c,j=this.showDayNames?1:0,k=this.showWeekNumbers?1:0,l=new Array,m=0,n=(b.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(n=(b.width()-2)/7),n=parseInt(n);for(var o=new a.jqx._jqxDateTimeInput.getDateTime(new Date),p=0;p<6;p++){for(var q=0;q<7;q++){var r=p+1,s=q;this.rtl&&(s=6-s);var t=s+1,u="#cell"+r+t+this.element.id,v=new Date(i.dateTime.getFullYear(),i.dateTime.getMonth(),i.dateTime.getDate()),w=new a.jqx._jqxCalendar.cell(v),x=a(f[0].rows[p].cells[t-1]);if(x[0].id=u.substring(1),w.isVisible=!0,w.isDisabled=!1,i.month!=this.value.month&&(w.isOtherMonth=!0,w.isVisible=this.showOtherMonthDays),this._isRestrictedDate(v)&&(w.isRestricted=!0,w.isDisabled=!0),w.isDisabled||(v<this.getMinDate()||v>this.getMaxDate()||this._isDisabled(v))&&(w.isDisabled=!0),i.month==o.month&&i.day==o.day&&i.year==o.year&&(w.isToday=!0),i.isWeekend()&&(w.isWeekend=!0),w.element=x,w.row=j,w.column=k,this._isMobileTouchDevice){var y=i.day;1==y&&(y=i.month+"/"+i.day),a.jqx.utilities.html(x,y)}else a.jqx.utilities.html(x,i.day);i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addDays(1))),a.data(this.element,"cellContent"+u.substring(1),w),a.data(this.element,""+u.substring(1),w);var z=this;if(this.addHandler(x,"mousedown",function(b){if(!z.readOnly&&!z.disabled){var c=a(b.target),d=a.data(z.element,c[0].id);z._raiseEvent(3,b);if(null!=d&&void 0!=d){var e=d.getDate();if(z.getMinDate()<=e&&e<=z.getMaxDate()&&!d.isDisabled)if(d.isOtherMonth&&z.enableAutoNavigation)d.row<2?z._isMobileTouchDevice?z.navigateBackwardMobile(!0):z.navigateBackward():z._isMobileTouchDevice?z.navigateForwardMobile(!0):z.navigateForward(),z._selectDate(d.getDate(),"mouse",b.shiftKey);else{new Date(z.getDate());z._selectDate(d.getDate(),"mouse",b.shiftKey),z.value._setYear(e.getFullYear()),z.value._setDay(1),z.value._setMonth(e.getMonth()+1),z.value._setDay(e.getDate());var f=z.host.find(".jqx-calendar-month");f.stop(),f.css("margin-left","0px");z.getDate();z._raiseEvent("2"),d.isOtherMonth&&z._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!z.disabled){var A=function(b,c){if(!z.readOnly){var d=a(b.target),e=a.data(z.element,d[0].id);
if(null!=e&&void 0!=e){var f=e.getDate();z.getMinDate()<=f&&f<=z.getMaxDate()&&(e.isHighlighted=c,z._applyCellStyle(e,e.element,d))}}};this.addHandler(x,"mouseenter",function(a){return A(a,!0),!1}),this.addHandler(x,"mouseleave",function(a){return A(a,!1),!1})}k++,l[m]=w,m++}k=0,j++}var B=a.data(this.element,b[0].id);void 0!=B&&null!=B&&(B.cells=l),this.renderedCells=l,void 0!=e&&this._addCellsTable(g,f),this._applyCellStyles(),this._refreshOtherMonthRows(B.cells,d)},setMaxDate:function(b,c){null!=b&&"string"==typeof b&&(b=new Date(b),"Invalid Date"==b)||(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b),c!==!1&&this.render())},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(b,c){null!=b&&"string"==typeof b&&(b=new Date(b),"Invalid Date"==b)||(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b),c!==!1&&this.render())},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},navigateTo:function(b,c){if("month"==this.view){var d=this.getMinDate(),e=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(b<this._getYearAndMonthPart(d)||b>this._getYearAndMonthPart(e))return!1}else if(b&&(b.getFullYear()<this.getMinDate().getFullYear()||b.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==b)return!1;if(void 0==c){var f=this;if(this._animating)return;this._animating=!0;var g=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());var h=this.host.find(".jqx-calendar-month");h.stop(),h.css("margin-left","0px");var i=h.clone();this._viewClone=i;var j=new Date(this.value.dateTime);this.value._setYear(b.getFullYear()),this.value._setDay(b.getDate()),this.value._setMonth(b.getMonth()+1),f.refreshControl(),g.css("position","relative"),i.css("position","absolute"),i.css("top",h.position().top),g.append(i),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var k=-this.host.width();b<j&&("month"==this.view&&b.getMonth()!=j.getMonth()?k=this.host.width():b.getFullYear()!=j.getFullYear()&&(k=this.host.width())),i.animate({marginLeft:parseInt(k)+"px"},this.navigationDelay,function(){i.remove()});var l=h.clone();this._newViewClone=l,l.css("position","absolute"),l.css("top",h.position().top),g.append(l),l.css("margin-left",-k),h.css("visibility","hidden"),l.animate({marginLeft:"0px"},this.navigationDelay,function(){l.remove(),h.css("visibility","inherit"),f._animating=!1})}else{this.value._setYear(b.getFullYear()),this.value._setDay(b.getDate()),this.value._setMonth(b.getMonth()+1);var h=this.host.find(".jqx-calendar-month");h.stop(),h.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(a){return null!=a&&"string"==typeof a&&(a=new Date(a)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(a,"api"),this._selectDate(a),"range"==this.selectionMode&&this._selectDate(a,"mouse"),!0},val:function(a){return 0!=arguments.length&&(null==a&&this.setDate(null),a instanceof Date&&this.setDate(a),"string"==typeof a&&this.setDate(a)),this.getDate()},getDate:function(){return void 0==this.selectedDate?new Date:this.selectedDate},getValue:function(){return void 0==this.value?new Date:this.value.dateTime},setRange:function(a,b){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(a,"api"),this._selectDate(a,"mouse"),this._selectDate(b,"mouse")},getRange:function(){return this.selection},_selectDate:function(b,c,d){if("none"!=this.selectionMode){null!=c&&void 0!=c||(c="none"),null!=d&&void 0!=d||(d=!1);var e=a.data(this.element,"View"+this.element.id);if(void 0!=e&&null!=e){if(this.changing&&b&&this.selectedDate){if(this.selectedDate.getFullYear()!=b.getFullYear()||this.selectedDate.getDate()!=b.getDate()||this.selectedDate.getMonth()!=b.getMonth())var f=this.changing(this.selectedDate,b);f&&(b=f)}var g=this;this.input&&(null!=b?this.input.val(b.toString()):this.input.val(""));var h=this.selectedDate;if(this._doubleCalendarMode){if(null!=b&&(this.value._setYear(b.getFullYear()),this.value._setMonth(b.getMonth()+1),this.value._setDay(b.getDate())),c&&c.indexOf("noselect")<0&&"arrow"!==c){var i=!0;if(this._beforeDateSelect&&0==this._beforeDateSelect(b)&&(i=!1),"month"===this.view){if(!i)return this.selectedDate=h,void this._raiseEvent("9",{date:b});this.selectedDate=b,this._raiseEvent("10")}}}else this.selectedDate=b;if("month"!=this.view)return h!=b&&this._raiseEvent(7,{selectionType:c}),a.each(this.renderedCells,function(d){var e=this,f=e.getDate(),h=a(e.element);h.find("#cellContent"+h[0].id);if(null==b)e.isSelected=!1,e.isDisabled=!1;else if(e.isSelected=!1,f&&(f.getMonth()==b.getMonth()&&"year"==g.view&&f.getFullYear()==b.getFullYear()||"decade"==g.view&&f.getFullYear()==b.getFullYear())){e.isSelected=!0;try{"none"!=c&&e.element.focus()}catch(i){}}g._applyCellStyle(e,h,h)}),void(this.change&&this.change(b));if("month"==this.view&&"range"==this.selectionMode&&"key"==c){var j=this.getVisibleDate(),k=this.getFirstDayOfWeek(j);this.refreshCalendarCells(this.month,k,"View"+this.element.id)}var l=!1;return a.each(this.renderedCells,function(e){var f=this,h=f.getDate(),i=a(f.element),j=i;if(0==i.length)return!1;if(null==b)f.isSelected=!1,f.isDisabled=!1,0==e&&(g.selection={from:null,to:null},g._raiseEvent("2"),g._raiseEvent("5",{selectionType:c}));else if("range"!=g.selectionMode&&"multiple"!=g.selectionMode||"key"==c){if(h.getDate()==b.getDate()&&h.getMonth()==b.getMonth()&&h.getFullYear()==b.getFullYear()&&f.isSelected)return g._applyCellStyle(f,i,j),void g._raiseEvent("5",{selectionType:c});if(f.isSelected&&g._raiseEvent("6",{selectionType:c}),f.isSelected=!1,h.getDate()==b.getDate()&&h.getMonth()==b.getMonth()&&h.getFullYear()==b.getFullYear()){f.isSelected=!0,0==e&&(g.selection={date:b});try{"none"!=c&&(f.element.focus(),g.host.focus())}catch(k){}f.isOtherMonth||(g.value._setMonth(b.getMonth()+1),g.value._setDay(b.getDate()),g.value._setYear(b.getFullYear()),g._raiseEvent("2"),g._raiseEvent("5",{selectionType:c}))}"range"==g.selectionMode&&(g._clicks=0,g.selection={from:b,to:b})}else if("range"==g.selectionMode){if("view"==c)return f.isSelected=!1,f.isDisabled=!1,g.getMaxDate()<h&&(f.isDisabled=!0),g.getMinDate()>h&&(f.isDisabled=!0),g._isRestrictedDate(h)&&(f.isDisabled=!0,f.isRestricted=!0),!f.isDisabled&&g._isDisabled(h)&&(f.isDisabled=!0),g._applyCellStyle(f,i,j),!0;if(0==e)if("none"!=c)if(void 0==g._clicks&&(g._clicks=0),g._clicks++,d&&g._clicks++,1==g._clicks)g.selection={from:b,to:b};else{var m=g.selection.from,n=m<=b?m:b,o=m<=b?b:m;if(n)var p=new Date(n.getFullYear(),n.getMonth(),n.getDate());if(o)var q=new Date(o.getFullYear(),o.getMonth(),o.getDate(),23,59,59);g.selection={from:p,to:q},g._clicks=0}else null!=g.selection&&null!=g.selection.from||(g.selection={from:b,to:b},void 0==g._clicks&&(g._clicks=0),g._clicks++,2==g._clicks&&(g._clicks=0));var r=function(a){if(null==a)return new Date;var b=new Date;return b.setHours(0,0,0,0),b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b};f.isOtherMonth||r(h).toString()!=r(b).toString()||(g.value._setMonth(b.getMonth()+1),g.value._setDay(b.getDate()),g.value._setYear(b.getFullYear()),g._raiseEvent("2"),g._raiseEvent("5",{selectionType:c})),f.isSelected=!1,f.isDisabled=l,r(h)<r(g.selection.from)&&1==g._clicks&&(f.isDisabled=!0),g.getMaxDate()<h&&(f.isDisabled=!0),g.getMinDate()>h&&(f.isDisabled=!0),g._isRestrictedDate(h)&&(f.isRestricted=!0,f.isDisabled=!0),!f.isDisabled&&g._isDisabled(h)&&(f.isDisabled=!0),f.isDisabled?!g.allowRestrictedDaysInRange&&r(h)>=r(g.selection.from)&&g.selection.to==g.selection.from&&(l=!0):r(h)>=r(g.selection.from)&&r(h)<=r(g.selection.to)&&(f.isSelected=!0)}else if("multiple"==g.selectionMode){var s=function(a){return!!(a&&b&&g._isSameDate(a,b))},t=function(a){if(a&&g._multiSelectedDates)for(var b=0;b<g._multiSelectedDates.length;b++)if(g._isSameDate(a,g._multiSelectedDates[b]))return g._multiSelectedDates.splice(b,1),!0;return!1};s(h)&&"mouse"==c&&(g._isExistsDateInMultiSelectedList(h)?t(h):g._multiSelectedDates.push(h))}g._applyCellStyle(f,i,j)}),"range"==g.selectionMode&&0==g._clicks?void g._raiseEvent(7,{selectionType:c}):void("range"!=g.selectionMode&&"multi"!=g.selectionMode&&h!=b&&(g._raiseEvent(7,{selectionType:c}),this.change&&this.change(b)))}}},_getSelectedDate:function(){var b=a.data(this.element,"View"+this.element.id);if(void 0!=b&&null!=b){if("month"!=this.view)return this.selectedDate;for(var c=0;c<b.cells.length;c++){var d=b.cells[c],e=d.getDate();if(d.isSelected)return e}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var b=a.data(this.element,"View"+this.element.id);if(void 0!=b&&null!=b)for(var c=0;c<b.cells.length;c++){var d=b.cells[c];d.getDate();if(d.isSelected)return d}},_applyCellStyle:function(b,c,d){var e=this;(null==d||null!=d&&0==d.length)&&(d=c);var f="";if(f=this.toThemeProperty("jqx-rc-all"),f+=" "+this.toThemeProperty("jqx-item"),(this.disabled||b.isDisabled&&!b.isRestricted)&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),f+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&b.isRestricted&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),b.isOtherMonth&&this.enableOtherMonthDays&&b.isVisible&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),b.isWeekend&&this.enableWeekend&&b.isVisible&&b.isVisible&&(0==b.getDate().getDay()?f+=" "+this.toThemeProperty("jqx-calendar-cell-weekend-sun"):6==b.getDate().getDay()&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-weekend-sat"))),b.isVisible?(f+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&d.length>0&&d.html().toLowerCase().indexOf("span")!=-1&&d.css("cursor","default")):f+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),a.jqx.aria(d,"aria-selected",!1),b.isSelected&&b.isVisible){f+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),f+=" "+this.toThemeProperty("jqx-fill-state-pressed"),a.jqx.aria(d,"aria-selected",!0),a.jqx.aria(e,"aria-activedescendant",d[0].id);var g=b.getDate();this._isDisabled(g)&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(b.isHighlighted&&b.isVisible&&this.enableHover&&(b.isDisabled||(f+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),f+=" "+this.toThemeProperty("jqx-fill-state-hover"))),f+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),b.isToday&&b.isVisible&&(f+=" "+this.toThemeProperty("jqx-calendar-cell-today")),d[0].className=f,"month"===this.view){if(this.specialDates.length>0){var h=this;a.each(this.specialDates,function(){void 0!=this.Class&&null!=this.Class&&""!=this.Class?d.removeClass(this.Class):d.removeClass(e.toThemeProperty("jqx-calendar-cell-specialDate"));var c=b.getDate();if(c.getFullYear()==this.Date.getFullYear()&&c.getMonth()==this.Date.getMonth()&&c.getDate()==this.Date.getDate()){if(null==b.tooltip&&null!=this.Tooltip&&(b.tooltip=this.Tooltip,a(d).jqxTooltip)){var f=this.Class;a(d).jqxTooltip({value:{cell:b,specialDate:this.Date},name:h.element.id,content:this.Tooltip,position:"mouse",theme:h.theme,opening:function(a){return!!d.hasClass(e.toThemeProperty("jqx-calendar-cell-specialDate"))||!!d.hasClass(f)}})}return d.removeClass(e.toThemeProperty("jqx-calendar-cell-othermonth")),d.removeClass(e.toThemeProperty("jqx-calendar-cell-weekend")),void 0==this.Class||""==this.Class?(d.addClass(e.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(d.addClass(this.Class),!1)}})}else{var i=b.getDate(),j=this.getSpecialDateByDate(i);if(void 0!=j){var h=this;return d.removeClass(e.toThemeProperty(this.getSpecialDateCss("holiday"))),d.removeClass(e.toThemeProperty(this.getSpecialDateCss("event"))),null==b.tooltip&&null!=j.Tooltip&&""!=j.Tooltip?(b.tooltip=j.Tooltip,a(d).jqxTooltip&&a(d).jqxTooltip({value:{cell:b,specialDate:j},name:h.element.id,content:j.Tooltip,position:"mouse",theme:h.theme,opening:function(a){return!(!d.hasClass(e.toThemeProperty(h.getSpecialDateCss("holiday")))&&!d.hasClass(e.toThemeProperty(h.getSpecialDateCss("event"))))}})):null!=j.Tooltip&&""!=j.Tooltip||a(d).jqxTooltip("destroy"),d.removeClass(e.toThemeProperty("jqx-calendar-cell-weekend-sun")),d.removeClass(e.toThemeProperty("jqx-calendar-cell-weekend-sat")),"holiday"===j.Type?d.addClass(this.getSpecialDateCss("holiday")):"event"===j.Type&&d.addClass(e.toThemeProperty(this.getSpecialDateCss("event"))),!1}}"multiple"==e.selectionMode&&(e._isExistsDateInMultiSelectedList(b.getDate())?(a(d).addClass("jqx-fill-state-pressed"),a(d).addClass("jqx-calendar-cell-selected")):(a(d).removeClass("jqx-fill-state-pressed"),a(d).removeClass("jqx-calendar-cell-selected")))}},_applyCellStyles:function(){var b=a.data(this.element,"View"+this.element.id);if(void 0!=b&&null!=b)for(var c=0;c<b.cells.length;c++){var d=b.cells[c],e=a(d.element),f=e.find("#cellContent"+e[0].id);0==f.length&&(f=e),this._applyCellStyle(d,e,f)}},getWeekOfYear:function(a){var b=new Date(a.dateTime);dowOffset=this.firstDayOfWeek;var c=new Date(b.getFullYear(),0,1),d=c.getDay()-dowOffset;d=d>=0?d:d+7;var e,f=Math.floor((b.getTime()-c.getTime()-6e4*(b.getTimezoneOffset()-c.getTimezoneOffset()))/864e5)+1;return d<4?(e=Math.floor((f+d-1)/7)+1,e>52&&(nYear=new Date(b.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=nday>=0?nday:nday+7,e=nday<4?1:53)):e=Math.floor((f+d-1)/7),e},renderColumnHeader:function(b){if(this.showDayNames){var c=a("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='0'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");c.find("table").addClass(this.toThemeProperty("jqx-reset")),c.find("tr").addClass(this.toThemeProperty("jqx-reset")),c.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),c.addClass(this.toThemeProperty("jqx-reset")),c.addClass(this.toThemeProperty("jqx-widget-content")),c.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(c);var d=this.getVisibleDate(),e=this.getFirstDayOfWeek(d),f=(e.dayOfWeek,this.getWeekOfYear(e),this.firstDayOfWeek),g=this.localization.calendar.days.names,h=new Array,i=e,j=(b.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(j=(b.width()-2)/7);for(var k=0;k<7;k++){var l=g[f];switch(this.rtl&&(l=g[6-f]),this.dayNameFormat){case"default":l=this.localization.calendar.days.namesAbbr[f],this.rtl&&(l=this.localization.calendar.days.namesAbbr[6-f]);break;case"shortest":l=this.localization.calendar.days.namesShort[f],this.rtl&&(l=this.localization.calendar.days.namesShort[6-f]);break;case"firstTwoLetters":l=l.substring(0,2);break;case"firstLetter":l=l.substring(0,1)}var m=new a.jqx._jqxCalendar.cell(i.dateTime),n=k+1,o=n+this.element.id,p=a(c[0].rows[0].cells[k]),q=k;this.enableTooltips&&a(p).jqxTooltip&&a(p).jqxTooltip({name:this.element.id,content:g[f],theme:this.theme,position:"mouse"}),k=q,m.element=p,m.row=0,m.column=k+1;var r=this._textwidth(l),s="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+o+"'>"+l+"</div>";if(p.append(s),p.find("#columnCell"+o).addClass(this.toThemeProperty("jqx-calendar-column-cell")),0==f?p.find("#columnCell"+o).addClass(this.toThemeProperty("jqx-calendar-column-cell-sun")):6==f&&p.find("#columnCell"+o).addClass(this.toThemeProperty("jqx-calendar-column-cell-sat")),p.width(j),this.disabled&&p.find("#columnCell"+o).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),r>0&&j>0)for(;r>p.width()&&0!=l.length;)l=l.substring(0,l.length-1),a.jqx.utilities.html(p.find("#columnCell"+o),l),r=this._textwidth(l);h[k]=m,i=new a.jqx._jqxDateTimeInput.getDateTime(new Date(i._addDays(1))),f>=6?f=0:f++}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width());var t=a.data(this.element,b[0].id);t.columnCells=h}},_format:function(b,c,d){var e=!1;try{void 0!=Globalize&&(e=!0)}catch(f){}if(a.global)return a.global.culture.calendar=this.localization.calendar,a.global.format(b,c,this.culture);if(e)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(b,c,this.culture)):Globalize.format(b,c,this.culture)}catch(f){return Globalize.format(b,c)}else if(a.jqx.dataFormat)return a.jqx.dataFormat.formatdate(b,c,this.localization.calendar)},_textwidth:function(b){var c=a("<span>"+b+"</span>");c.addClass(this.toThemeProperty("jqx-calendar-column-cell")),a(this.host).append(c);var d=c.width();return c.remove(),d},_textheight:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.height();return c.remove(),d},_renderRowHeader:function(b){var c=this.getVisibleDate(),d=this.getFirstDayOfWeek(c),e=(d.dayOfWeek,this.getWeekOfYear(d)),f=new a.jqx._jqxDateTimeInput.getDateTime(new Date(d.dateTime));f._addDays(5),f.dayOfWeek=f.dateTime.getDay();this.getWeekOfYear(f);53==e&&0==f.dateTime.getMonth()&&(e=1);var g=a("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='0'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");g.find("table").addClass(this.toThemeProperty("jqx-reset")),g.find("td").addClass(this.toThemeProperty("jqx-reset")),g.find("tr").addClass(this.toThemeProperty("jqx-reset")),g.addClass(this.toThemeProperty("jqx-calendar-row-header")),g.width(this.rowHeaderWidth),this.rowHeader.append(g);for(var h=d,i=new Array,j=0;j<6;j++){var k=e.toString(),l=new a.jqx._jqxCalendar.cell(h.dateTime),m=j+1+this.element.id,n=a(g[0].rows[j].cells[0]);l.element=n,l.row=j,l.column=0;var o="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+m+"'>"+k+"</div>";n.append(o),n.find("#headerCellContent"+m).addClass(this.toThemeProperty("jqx-calendar-row-cell")),i[j]=l,h=new a.jqx._jqxDateTimeInput.getDateTime(new Date(h._addWeeks(1))),e=this.getWeekOfYear(h)}var p=a.data(this.element,b[0].id);p.rowCells=i},getFirstDayOfWeek:function(b){var c=new a.jqx._jqxDateTimeInput.getDateTime(b.dateTime);(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var d=c.dayOfWeek-this.firstDayOfWeek;d<=0&&(d+=7);var e=a.jqx._jqxDateTimeInput.getDateTime(c._addDays(-d));return e},getVisibleDate:function(){var b=new a.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));b<this.minDate&&(b=this.minDate),b>this.maxDate&&(this.visibleDate=this.maxDate),b.dateTime.setHours(0);var c=b.day,d=a.jqx._jqxDateTimeInput.getDateTime(b._addDays(-c+1));return b=d},destroy:function(b){a.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.host,"change"),this.removeHandler(this.host,"nextButtonClick"),this.removeHandler(this.host,"backButtonClick"),this.host.removeClass(),0!=b&&this.host.remove()},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b],e=c?c:{};e.owner=this;var f=new a.Event(d);if(f.owner=this,f.args=e,0==b||1==b||2==b||3==b||4==b||5==b||6==b||7==b||8==b){f.args.date=f.args.selectedDate=this.getDate(),f.args.range=this.getRange();var g=this.getViewStart(),h=this.getViewEnd();f.args.view={from:g,to:h}}if(7==b){var i=e.selectionType;i||(i=null),"key"==i&&(i="keyboard"),"none"==i&&(i=null),e.type=i}var j=this.host.trigger(f);return 0!=b&&1!=b||(j=!1),j},propertyMap:function(a){return"value"==a?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var a=this.host.find("#View"+this.element.id);if(a.length>0){this.setCalendarSize(),void 0==this.height||isNaN(this.height)?null!=this.height&&this.height.toString().indexOf("px")!=-1&&a.height(this.height):a.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&this.width.toString().indexOf("px")!=-1&&a.width(this.width):a.width(this.width);var b=this.host.height()-this.titleHeight-this.columnHeaderHeight,c="View"+this.element.id;a.find("#cellsTable"+c).height(b),a.find("#calendarRowHeader"+c).height(b),this.refreshControl()}},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null},this.setMultiple([])},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&a._setSize()},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)&&("formatWeek"!=c&&"dayOfNewWeek"!=c||b.render(),"specialDatesRawData"==c&&(this.clearSpecialDates(e),this._setSpecialDatesRawData(e),b.render()),"enableHover"!=c&&"keyboardNavigation"!=c)){if("localization"==c&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==c)try{if(a.global)a.global.preferCulture(b.culture),b.localization.calendar=a.global.culture.calendar;else if(Globalize){var f=Globalize.culture(b.culture);b.localization.calendar=f.calendar}b.localization.calendar&&void 0!=b.localization.calendar.firstDay&&"default"!=b.culture&&(b.firstDayOfWeek=b.localization.calendar.firstDay)}catch(g){}return"views"==c?(b.views.indexOf("month")==-1&&(b.view="year"),b.views.indexOf("year")==-1&&b.views.indexOf("month")==-1&&(b.view="decade"),void b.render()):("showFooter"==c&&b.render(),"width"==c||"height"==c?void b._setSize():void("theme"==c?a.jqx.utilities.setTheme(d,e,b.host):"rowHeaderWidth"==c||"showWeekNumbers"==c?b.render():(b.view="month",b.render())))}},_renderWeekHeader:function(b){var c=a("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='0'><tr role='row'><td role='gridcell'><div style='padding: 0; margin: 0; border: none; background: transparent;'>"+this.localization.calendar.weekHeaderString+"</div></td></tr></table>");c.find("table").addClass(this.toThemeProperty("jqx-reset")),c.find("tr").addClass(this.toThemeProperty("jqx-reset")),c.find("td").css({textAlign:"center",background:"transparent",padding:1,margin:0,border:"none"}).addClass(this.toThemeProperty("jqx-calendar-week-header")),c.addClass(this.toThemeProperty("jqx-reset")),c.addClass(this.toThemeProperty("jqx-widget-content")),c.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.selectCell.append(c)},getWeekOfYear:function(a){var b=this._isoCalculateWeek(a);return void 0!=this.formatWeek?this.formatWeek(a.year,a.month,a.day,b):b},_isoCalculateWeek:function(a){var b=new Date(a.dateTime.getTime()),c=this.dayOfNewWeek-b.getDay();b.setDate(b.getDate()+c);var d=new Date(b.getFullYear(),0,1),e=(b.getTime()-d.getTime())/864e5/7;return 1===e&&e--,Math.floor(e)+1},_getDateTimeOfFirstDayOfWeek:function(b){b=new Date(b);var c=b.getDay()-this.firstDayOfWeek;return b.setDate(b.getDate()-c),new a.jqx._jqxDateTimeInput.getDateTime(b)},getWeekOfSelected:function(a){var b=this._getDateTimeOfFirstDayOfWeek(this.getDate()),c=this._isoCalculateWeek(b);return a?this.formatWeek(b.year,b.month,b.day,c):c},getWeekOfToday:function(a){var b=this._getDateTimeOfFirstDayOfWeek(new Date),c=this._isoCalculateWeek(b);return a?this.formatWeek(b.year,b.month,b.day,c):c},_setSpecialDatesRawData:function(a){d.setSpecialDatesRawData(a)},clearSpecialDates:function(){d.clear()},getSpecialDateByDate:function(a){return d.getSpecialDateByDate(a)},getSpecialDates:function(){return d.getSpecialDates()},setSpecialDateCss:function(a){void 0!=a&&d.setSpecialDateCss(a)},getSpecialDateCssList:function(){return d.getSpecialDateCssList()},getSpecialDateCss:function(a){return d.getSpecialDateCss(a)}})}(jqxBaseFramework,A),function(a){a.jqx._jqxCalendar.cell=function(b){var c={dateTime:new a.jqx._jqxDateTimeInput.getDateTime(b),_date:b,getDate:function(){return this._date},setDate:function(b){this.dateTime=new a.jqx._jqxDateTimeInput.getDateTime(b),this._date=b},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null};return c},a.jqx._jqxCalendar.monthView=function(a,b,c,d,e,f){var g={start:a,end:b,cells:c,rowCells:d,columnCells:e,element:f};return g}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxChart","",{}),a.extend(a.jqx._jqxChart.prototype,{defineInstance:function(){return a.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},destroy:function(){null!=this._ttEl&&void 0!=this._ttEl&&a(this._ttEl.box).remove(),a.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_jqxPlot:null,createInstance:function(b){if(!a.jqx.dataAdapter)throw"jqxdata.js is not loaded";var c=this;c._refreshOnDownloadComlete(),c._isTouchDevice=a.jqx.mobile.isTouchDevice(),c._jqxPlot||(c._jqxPlot=new jqxPlot),c.addHandler(c.host,c._getEvent("mousemove"),function(b){if(0!=c.enabled){c._isRangeSelectorInstance||c.host.css("cursor","default");var d=b.pageX||b.clientX||b.screenX,e=b.pageY||b.clientY||b.screenY,f=c.host.offset();if(c._isTouchDevice){var g=a.jqx.position(b);d=g.left,e=g.top}d-=f.left,e-=f.top,c.onmousemove(d,e)}}),c.addHandler(c.host,c._getEvent("mouseleave"),function(a){if(0!=c.enabled){var b=c._mouseX,d=c._mouseY,e=c._plotRect;e&&b>=e.x&&b<=e.x+e.width&&d>=e.y&&d<=e.y+e.height||(c._cancelTooltipTimer(),c._hideToolTip(0),c._unselect())}}),c.addHandler(c.host,"click",function(b){if(0!=c.enabled){var d=b.pageX||b.clientX||b.screenX,e=b.pageY||b.clientY||b.screenY,f=c.host.offset();if(c._isTouchDevice){var g=a.jqx.position(b);d=g.left,e=g.top}d-=f.left,e-=f.top,c._mouseX=d,c._mouseY=e,!isNaN(c._lastClickTs)&&(new Date).valueOf()-c._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(c._isTouchDevice||(c._cancelTooltipTimer(),c._hideToolTip(),c._unselect()),c._pointMarker&&c._pointMarker.element){var a=c.seriesGroups[c._pointMarker.gidx],d=a.series[c._pointMarker.sidx];b.stopImmediatePropagation(),c._raiseItemEvent("click",a,d,c._pointMarker.iidx)}},100))}});var d=c.element.style;if(d){var e=!1;null!=d.width&&(e|=d.width.toString().indexOf("%")!=-1),null!=d.height&&(e|=d.height.toString().indexOf("%")!=-1),e&&a.jqx.utilities.resize(this.host,function(){c.timer&&clearTimeout(c.timer);var a=1;c.timer=setTimeout(function(){var a=c.enableAnimations;c.enableAnimations=!1,c.refresh(),c.enableAnimations=a},a)},!1,!0)}},_refreshOnDownloadComlete:function(){var b=this,c=this.source;if(c instanceof a.jqx.dataAdapter){var d=c._options;(void 0==d||void 0!=d&&!d.autoBind)&&(c.autoSync=!1,c.dataBind());var e=this.element.id;if(0==c.records.length){var f=function(){b.ready&&b.ready(),b.refresh()};c.unbindDownloadComplete(e),c.bindDownloadComplete(e,f)}else b.ready&&b.ready();c.unbindBindingUpdate(e),c.bindBindingUpdate(e,function(){b._supressBindingRefresh||b.refresh()})}},propertyChangedHandler:function(a,b,c,d){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==b&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include jqxdraw.js";return a.jqx.createRenderer(this,b)},_internalRefresh:function(){var b=this;if(!a.jqx.isHidden(b.host)){b._stopAnimations(),b.renderer&&(b._isToggleRefresh||b._isUpdate)||(b._hideToolTip(0),b._isVML=!1,b.host.empty(),b._measureDiv=void 0,b._initRenderer(b.host));var c=b.renderer;if(c){var d=c.getRect();b._render({x:1,y:1,width:d.width,height:d.height}),this._raiseEvent("refreshBegin",{instance:this}),c instanceof a.jqx.HTML5Renderer&&c.refresh(),b._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})}}},saveAsPNG:function(a,b,c){return this._saveAsImage("png",a,b,c)},saveAsJPEG:function(a,b,c){return this._saveAsImage("jpeg",a,b,c)},saveAsPDF:function(a,b,c){return this._saveAsImage("pdf",a,b,c)},_saveAsImage:function(b,c,d,e){for(var f=!1,g=0;g<this.seriesGroups.length&&!f;g++){var h=this._getXAxis(g);h&&h.rangeSelector&&(f=!0)}return a.jqx._widgetToImage(this,b,c,d,e,f?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(b,c){for(var d=b,e=0;e<d.seriesGroups.length;e++){var f=d._getXAxis(e);if(f&&f.rangeSelector&&!f.rangeSelector.renderTo){var g=d._rangeSelectorInstances[e];if(g){var h=g.jqxChart("getInstance"),i=(h.renderEngine,h.renderer.getRect()),j=h.renderer.getContainer().find("canvas")[0],k=j.getContext("2d"),l=d._sliders[e],m="horizontal"==d.seriesGroups[e].orientation,n=m?"height":"width",o=m?"width":"height",p=m?"y":"x",q=m?"x":"y",r={};r[p]=l.startOffset+l.rect[p],r[q]=l.rect[q],r[n]=l.endOffset-l.startOffset,r[o]=l.rect[o];var s=f.rangeSelector.colorSelectedRange||"blue",t=(f.rangeSelector.colorUnselectedRange||"white",f.rangeSelector.colorRangeLine||"grey"),u=[];u.push(h.renderer.rect(r.x,r.y,r.width,r.height,{fill:s,opacity:.1})),m?(u.push(h.renderer.line(a.jqx._ptrnd(l.rect.x+l.rect.width),a.jqx._ptrnd(l.rect.y),a.jqx._ptrnd(l.rect.x+l.rect.width),a.jqx._ptrnd(r.y),{stroke:t,opacity:.5})),u.push(h.renderer.line(a.jqx._ptrnd(l.rect.x+l.rect.width),a.jqx._ptrnd(r.y+r.height),a.jqx._ptrnd(l.rect.x+l.rect.width),a.jqx._ptrnd(l.rect.y+l.rect.height),{stroke:t,opacity:.5})),u.push(h.renderer.line(a.jqx._ptrnd(l.rect.x),a.jqx._ptrnd(r.y),a.jqx._ptrnd(l.rect.x+l.rect.width),a.jqx._ptrnd(r.y),{stroke:t,opacity:.5})),u.push(h.renderer.line(a.jqx._ptrnd(l.rect.x),a.jqx._ptrnd(r.y+r.height),a.jqx._ptrnd(l.rect.x+l.rect.width),a.jqx._ptrnd(r.y+r.height),{stroke:t,opacity:.5}))):(u.push(h.renderer.line(a.jqx._ptrnd(l.rect.x),a.jqx._ptrnd(l.rect.y),a.jqx._ptrnd(r.x),a.jqx._ptrnd(l.rect.y),{stroke:t,opacity:.5})),u.push(h.renderer.line(a.jqx._ptrnd(r.x+r.width),a.jqx._ptrnd(l.rect.y),a.jqx._ptrnd(l.rect.x+l.rect.width),a.jqx._ptrnd(l.rect.y),{stroke:t,opacity:.5})),u.push(h.renderer.line(a.jqx._ptrnd(r.x),a.jqx._ptrnd(l.rect.y),a.jqx._ptrnd(r.x),a.jqx._ptrnd(l.rect.y+l.rect.height),{
stroke:t,opacity:.5})),u.push(h.renderer.line(a.jqx._ptrnd(r.x+r.width),a.jqx._ptrnd(l.rect.y),a.jqx._ptrnd(r.x+r.width),a.jqx._ptrnd(l.rect.y+l.rect.height),{stroke:t,opacity:.5}))),h.renderer.refresh();var v=k.getImageData(i.x,i.y,i.width,i.height),w=c.getContext("2d");w.putImageData(v,parseInt(g.css("left")),parseInt(g.css("top")),1,1,i.width,i.height);for(var x=0;x<u.length;x++)h.renderer.removeElement(u[x]);h.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var a=this;for(var b in a._defaultSettings)a[b]=a._defaultSettings[b];a.title="",a.description="",a.refresh()},_validateSeriesGroups:function(){if(!a.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var b=0;b<this.seriesGroups.length;b++){var c=this.seriesGroups[b];if(!c.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!a.isArray(c.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(b){var c=this,d=c.renderer;c._validateSeriesGroups(),c._colorsCache.clear(),!c._isToggleRefresh&&c._isUpdate&&c._renderData&&c._renderDataClone(),c._renderData=[],d.clear(),c._unselect(),c._hideToolTip(0);var e=c.backgroundImage;void 0==e||""==e?c.host.css({"background-image":""}):c.host.css({"background-image":e.indexOf("(")!=-1?e:"url('"+e+"')"}),c._rect=b;var f=c.padding||{left:5,top:5,right:5,bottom:5},g=d.createClipRect(b),h=d.beginGroup();d.setClip(h,g);var i=d.rect(b.x,b.y,b.width-2,b.height-2);if(void 0==e||""==e?d.attr(i,{fill:c.backgroundColor||c.background||"white"}):d.attr(i,{fill:"transparent"}),0!=c.showBorderLine){var j=void 0==c.borderLineColor?c.borderColor:c.borderLineColor;void 0==j&&(j=c._defaultLineColor);var k=this.borderLineWidth;(isNaN(k)||k<0||k>10)&&(k=1),d.attr(i,{"stroke-width":k,stroke:j})}else a.jqx.browser.msie&&a.jqx.browser.version<9&&d.attr(i,{"stroke-width":1,stroke:c.backgroundColor||"white"});a.isFunction(c.drawBefore)&&c.drawBefore(d,b);var l={x:f.left,y:f.top,width:b.width-f.left-f.right,height:b.height-f.top-f.bottom};c._paddedRect=l;var m,n=c.titlePadding||{left:2,top:2,right:2,bottom:2};if(c.title&&c.title.length>0){var o=c.toThemeProperty("jqx-chart-title-text",null);m=d.measureText(c.title,0,{"class":o}),d.text(c.title,l.x+n.left,l.y+n.top,l.width-(n.left+n.right),m.height,0,{"class":o},!0,"center","center"),l.y+=m.height,l.height-=m.height}if(c.description&&c.description.length>0){var p=c.toThemeProperty("jqx-chart-title-description",null);m=d.measureText(c.description,0,{"class":p}),d.text(c.description,l.x+n.left,l.y+n.top,l.width-(n.left+n.right),m.height,0,{"class":p},!0,"center","center"),l.y+=m.height,l.height-=m.height}(c.title||c.description)&&(l.y+=n.bottom+n.top,l.height-=n.bottom+n.top);var q={x:l.x,y:l.y,width:l.width,height:l.height};c._plotRect=q,c._buildStats(q);for(var r,s=c._isPieOnlySeries(),t=c.seriesGroups,u={xAxis:{},valueAxis:{}},v=0;v<t.length&&!s;v++)if("pie"!=t[v].type&&"donut"!=t[v].type){var w=c._getXAxis(v);if(!w)throw"seriesGroup["+v+"] is missing xAxis definition";var x=w==c._getXAxis()?-1:v;u.xAxis[x]=0}var y=c.axisPadding;isNaN(y)&&(y=5);var z={left:0,right:0,leftCount:0,rightCount:0},A=[];for(v=0;v<t.length;v++){var B=t[v];if("pie"!=B.type&&"donut"!=B.type&&1!=B.spider&&1!=B.polar){r="horizontal"==B.orientation;var w=c._getXAxis(v),x=w==c._getXAxis()?-1:v,C=c._getValueAxis(v),D=C==c._getValueAxis()?-1:v,E=r?w.axisSize:C.axisSize,F={x:0,y:q.y,width:q.width,height:q.height},G=r?c._getXAxis(v).position:C.position;E&&"auto"!=E||(r?(E=this._renderXAxis(v,F,!0,q).width,1==(1&u.xAxis[x])?E=0:E>0&&(u.xAxis[x]|=1)):(E=c._renderValueAxis(v,F,!0,q).width,1==(1&u.valueAxis[D])?E=0:E>0&&(u.valueAxis[D]|=1))),"left"!=G&&1==c.rtl&&(G="right"),"right"!=G&&(G="left"),z[G+"Count"]>0&&z[G]>0&&E>0&&(z[G]+=y),A.push({width:E,position:G,xRel:z[G]}),z[G]+=E,z[G+"Count"]++}else A.push({width:0,position:0,xRel:0})}var H=Math.max(1,Math.max(b.width,b.height)),I={top:0,bottom:0,topCount:0,bottomCount:0},J=[];for(v=0;v<t.length;v++){var B=t[v];if("pie"!=B.type&&"donut"!=B.type&&1!=B.spider&&1!=B.polar){r="horizontal"==B.orientation;var C=this._getValueAxis(v),D=C==c._getValueAxis()?-1:v,w=c._getXAxis(v),x=w==c._getXAxis()?-1:v,K=r?C.axisSize:w.axisSize,G=r?C.position:w.position;K&&"auto"!=K||(r?(K=c._renderValueAxis(v,{x:0,y:0,width:H,height:0},!0,q).height,2==(2&u.valueAxis[D])?K=0:K>0&&(u.valueAxis[D]|=2)):(K=c._renderXAxis(v,{x:0,y:0,width:H,height:0},!0).height,2==(2&u.xAxis[x])?K=0:K>0&&(u.xAxis[x]|=2))),"top"!=G&&(G="bottom"),I[G+"Count"]>0&&I[G]>0&&K>0&&(I[G]+=y),J.push({height:K,position:G,yRel:I[G]}),I[G]+=K,I[G+"Count"]++}else J.push({height:0,position:0,yRel:0})}c._createAnimationGroup("series");var L=0!=c.showLegend,M=L?c._renderLegend(c.legendLayout?c._rect:l,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(M={width:0,height:0}),l.height<I.top+I.bottom+M.height||l.width<z.left+z.right)return void d.endGroup();q.height-=I.top+I.bottom+M.height,q.x+=z.left,q.width-=z.left+z.right,q.y+=I.top;var N=[];if(!s){c._getXAxis().tickMarksColor||c._defaultLineColor;for(v=0;v<t.length;v++){var B=t[v];if(1!=B.polar&&1!=B.spider&&"pie"!=B.type&&"donut"!=B.type){r="horizontal"==B.orientation;var x=c._getXAxis(v)==c._getXAxis()?-1:v,D=c._getValueAxis(v)==c._getValueAxis()?-1:v,F={x:q.x,y:0,width:q.width,height:J[v].height};if("top"!=J[v].position?F.y=q.y+q.height+J[v].yRel:F.y=q.y-J[v].yRel-J[v].height,r){if(4==(4&u.valueAxis[D]))continue;if(!c._isGroupVisible(v))continue;c._renderValueAxis(v,F,!1,q),u.valueAxis[D]|=4}else{if(N.push(F),4==(4&u.xAxis[x]))continue;if(!c._isGroupVisible(v))continue;c._renderXAxis(v,F,!1,q),u.xAxis[x]|=4}}}}if(L){var O=c.legendLayout?c._rect:l,P=l.x+a.jqx._ptrnd((l.width-M.width)/2),Q=q.y+q.height+I.bottom,E=l.width,K=M.height;c.legendLayout&&(isNaN(c.legendLayout.left)||(P=c.legendLayout.left),isNaN(c.legendLayout.top)||(Q=c.legendLayout.top),isNaN(c.legendLayout.width)||(E=c.legendLayout.width),isNaN(c.legendLayout.height)||(K=c.legendLayout.height)),P+E>O.x+O.width&&(E=O.x+O.width-P),Q+K>O.y+O.height&&(K=O.y+O.height-Q),c._renderLegend({x:P,y:Q,width:E,height:K})}if(c._hasHorizontalLines=!1,!s)for(v=0;v<t.length;v++){var B=t[v];if(1!=B.polar&&1!=B.spider&&"pie"!=B.type&&"donut"!=B.type){r="horizontal"==t[v].orientation;var F={x:q.x-A[v].xRel-A[v].width,y:q.y,width:A[v].width,height:q.height};"left"!=A[v].position&&(F.x=q.x+q.width+A[v].xRel);var x=c._getXAxis(v)==c._getXAxis()?-1:v,D=c._getValueAxis(v)==c._getValueAxis()?-1:v;if(r){if(N.push(F),8==(8&u.xAxis[x]))continue;if(!c._isGroupVisible(v))continue;c._renderXAxis(v,F,!1,q),u.xAxis[x]|=8}else{if(8==(8&u.valueAxis[D]))continue;if(!c._isGroupVisible(v))continue;c._renderValueAxis(v,F,!1,q),u.valueAxis[D]|=8}}}if(!(q.width<=0||q.height<=0)){for(c._plotRect={x:q.x,y:q.y,width:q.width,height:q.height},v=0;v<t.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(v,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(v=0;v<t.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(v,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var R=!1;for(v=0;v<t.length&&!R;v++){var B=t[v];if(void 0!==B.annotations||a.isFunction(B.draw)||a.isFunction(B.drawBefore)){R=!0;break}}var S=d.beginGroup();if(!R){var T=d.createClipRect({x:q.x-2,y:q.y,width:q.width+4,height:q.height});d.setClip(S,T)}for(v=0;v<t.length;v++){var B=t[v],U=!1;for(var V in c._seriesTypes)if(c._seriesTypes[V]==B.type){U=!0;break}if(!U)throw'Invalid serie type "'+B.type+'"';a.isFunction(B.drawBefore)&&B.drawBefore(d,b,v,this),1!=B.polar&&1!=B.spider||B.type.indexOf("pie")==-1&&B.type.indexOf("donut")==-1&&c._renderSpiderAxis(v,q),c._renderAxisBands(v,q,!0),c._renderAxisBands(v,q,!1)}for(v=0;v<t.length;v++){var B=t[v];if(c._isColumnType(B.type)?c._renderColumnSeries(v,q):B.type.indexOf("pie")!=-1||B.type.indexOf("donut")!=-1?c._renderPieSeries(v,q):B.type.indexOf("line")!=-1||B.type.indexOf("area")!=-1?c._renderLineSeries(v,q):B.type.indexOf("scatter")!=-1||B.type.indexOf("bubble")!=-1?c._renderScatterSeries(v,q):B.type.indexOf("candlestick")==-1&&B.type.indexOf("ohlc")==-1||c._renderCandleStickSeries(v,q,B.type.indexOf("ohlc")!=-1),B.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var W=0;W<B.annotations.length;W++)c._renderAnnotation(v,B.annotations[W],q)}a.isFunction(B.draw)&&c.draw(d,b,v,this)}if(d.endGroup(),0==c.enabled){var X=d.rect(b.x,b.y,b.width,b.height);d.attr(X,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}a.isFunction(c.draw)&&c.draw(d,b),d.endGroup(),c._startAnimation("series"),c._credits&&c._credits();for(var Y=!1,v=0;v<c.seriesGroups.length&&!Y;v++){var w=c._getXAxis(v);w&&w.rangeSelector&&(Y=!0)}if(Y){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var Z=[];for(this._isSelectorRefresh||(c.removeHandler(a(document),c._getEvent("mousemove"),c._onSliderMouseMove),c.removeHandler(a(document),c._getEvent("mousedown"),c._onSliderMouseDown),c.removeHandler(a(document),c._getEvent("mouseup"),c._onSliderMouseUp)),c._isSelectorRefresh||(c._rangeSelectorInstances={}),v=0;v<c.seriesGroups.length;v++){var $=this._getXAxis(v);Z.indexOf($)==-1&&this._renderXAxisRangeSelector(v,N[v])&&Z.push($)}}}},_credits:function(){},_isPieOnlySeries:function(){var a=this.seriesGroups;if(0==a.length)return!1;for(var b=0;b<a.length;b++)if("pie"!=a[b].type&&"donut"!=a[b].type)return!1;return!0},_renderChartLegend:function(b,c,d,e){var f=this,g=f.renderer,h={x:c.x,y:c.y,width:c.width,height:c.height},i=3;h.width>=2*i&&(h.x+=i,h.width-=2*i),h.height>=2*i&&(h.y+=i,h.height-=2*i);for(var j={width:h.width,height:0},k=0,l=0,m=20,n=0,o=10,p=10,q=0,r=0;r<b.length;r++){var s=b[r].css;s||(s=f.toThemeProperty("jqx-chart-legend-text",null)),m=20;var t=b[r].text,u=g.measureText(t,0,{"class":s});u.height>m&&(m=u.height),u.width>q&&(q=u.width),e?(0!=r&&(l+=m),l>h.height&&(l=0,k+=q+2*p+o,q=u.width,j.width=k+q)):(0!=k&&(k+=p),k+2*o+u.width>h.width&&u.width<h.width&&(k=0,l+=m,m=20,n=h.width,j.height=l+m));var v=!1;if(u.width>h.width){v=!0;for(var w=h.width,x=t,y=x.split(/\s+/),z=[],A="",B=0;B<y.length;B++){var C=A+(A.length>0?" ":"")+y[B],D=f.renderer.measureText(C,0,{"class":s});D.width>w&&C.length>0&&A.length>0?(z.push({text:A}),A=y[B]):A=C,B+1==y.length&&z.push({text:A})}u.width=0;for(var E=0,F=0;F<z.length;F++){var G=z[F].text,D=f.renderer.measureText(G,0,{"class":s});u.width=Math.max(u.width,D.width),E+=u.height}u.height=E}var H=k+u.width<h.width&&l+u.height<c.height;if(f.legendLayout)var H=h.x+k+u.width<f._rect.x+f._rect.width&&h.y+l+u.height<f._rect.y+f._rect.height;if(!d&&H){var I=b[r].seriesIndex,J=b[r].groupIndex,K=b[r].itemIndex,L=b[r].fillColor,M=b[r].lineColor,N=f._isSerieVisible(J,I,K),O=g.beginGroup(),P=N?b[r].opacity:.1;if(v){for(var x=t,w=h.width,y=x.split(/\s+/),Q=0,z=[],A="",B=0;B<y.length;B++){var C=A+(A.length>0?" ":"")+y[B],D=f.renderer.measureText(C,0,{"class":s});D.width>w&&C.length>0&&A.length>0?(z.push({text:A,dy:Q}),Q+=D.height,A=y[B]):A=C,B+1==y.length&&z.push({text:A,dy:Q})}for(var F=0;F<z.length;F++){var G=z[F].text;Q=z[F].dy;var D=f.renderer.measureText(G,0,{"class":s});e?f.renderer.text(G,h.x+k+1.5*o,h.y+l+Q,u.width,m,0,{"class":s},!1,"left","center"):f.renderer.text(G,h.x+k+1.5*o,h.y+l+Q,u.width,m,0,{"class":s},!1,"center","center")}var R=g.rect(h.x+k,h.y+l+o/2+Q/2,o,o);e&&(l+=Q),f.renderer.attr(R,{fill:L,"fill-opacity":P,stroke:M,"stroke-width":1,"stroke-opacity":b[r].opacity})}else{var R=g.rect(h.x+k,h.y+l+o/2,o,o);f.renderer.attr(R,{fill:L,"fill-opacity":P,stroke:M,"stroke-width":1,"stroke-opacity":b[r].opacity}),e?f.renderer.text(t,h.x+k+1.5*o,h.y+l,u.width,u.height+o/2,0,{"class":s},!1,"left","center"):f.renderer.text(t,h.x+k+1.5*o,h.y+l,u.width,m,0,{"class":s},!1,"center","center")}f.renderer.endGroup(),f._setLegendToggleHandler(J,I,K,O)}e||(k+=u.width+2*o,n<k&&(n=k))}if(d)return j.height=a.jqx._ptrnd(l+m+5),j.width=a.jqx._ptrnd(n),j},isSerieVisible:function(a,b,c){return this._isSerieVisible(a,b,c)},_isSerieVisible:function(b,c,d){for(;this._itemsToggleState.length<b+1;)this._itemsToggleState.push([]);for(var e=this._itemsToggleState[b];e.length<c+1;)e.push(!!isNaN(d)||[]);var f=e[c];if(isNaN(d))return f;for(a.isArray(f)||(e[c]=f=[]);f.length<d+1;)f.push(!0);return f[d]},isGroupVisible:function(a){return this._isGroupVisible(a)},_isGroupVisible:function(a){var b=!1,c=this.seriesGroups[a].series;if(!c)return b;for(var d=0;d<c.length;d++)if(this._isSerieVisible(a,d)){b=!0;break}return b},_toggleSerie:function(b,c,d,e){var f=!this._isSerieVisible(b,c,d);void 0!=e&&(f=e);var g=this.seriesGroups[b],h=g.series[c];if(this._raiseEvent("toggle",{state:f,seriesGroup:g,serie:h,elementIndex:d}),isNaN(d))this._itemsToggleState[b][c]=f;else{var i=this._itemsToggleState[b][c];for(a.isArray(i)||(i=[]);i.length<d;)i.push(!0);i[d]=f}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(a,b,c){this._toggleSerie(a,b,c,!0)},hideSerie:function(a,b,c){this._toggleSerie(a,b,c,!1)},_setLegendToggleHandler:function(a,b,c,d){var e=this.seriesGroups[a],f=e.series[b],g=f.enableSeriesToggle;if(void 0==g&&(g=0!=e.enableSeriesToggle),g){var h=this;this.renderer.addHandler(d,"click",function(d){h._toggleSerie(a,b,c)})}},_renderLegend:function(a,b){for(var c=this,d=[],e=0;e<c.seriesGroups.length;e++){var f=c.seriesGroups[e];if(0!=f.showLegend)for(var g=0;g<f.series.length;g++){var h=f.series[g];if(0!=h.showLegend){var i,j=c._getSerieSettings(e,g);if("pie"!=f.type&&"donut"!=f.type){var k=h.legendFormatSettings||f.legendFormatSettings,l=h.legendFormatFunction||f.legendFormatFunction;i=c._formatValue(h.displayText||h.dataField||"",k,l,e,g,NaN);var m=c._getSeriesColors(e,g),n=this._get([h.legendFillColor,h.legendColor,m.fillColor]),o=this._get([h.legendLineColor,h.legendColor,m.lineColor]);d.push({groupIndex:e,seriesIndex:g,text:i,css:h.displayTextClass,fillColor:n,lineColor:o,opacity:j.opacity})}else for(var p=c._getXAxis(e),k=h.legendFormatSettings||f.legendFormatSettings||p.formatSettings||h.formatSettings||f.formatSettings,l=h.legendFormatFunction||f.legendFormatFunction||p.formatFunction||h.formatFunction||f.formatFunction,q=c._getDataLen(e),r=0;r<q;r++){i=c._getDataValue(r,h.displayText,e),i=c._formatValue(i,k,l,e,g,r);var m=c._getColors(e,g,r);d.push({groupIndex:e,seriesIndex:g,itemIndex:r,text:i,css:h.displayTextClass,fillColor:m.fillColor,lineColor:m.lineColor,opacity:j.opacity})}}}}return c._renderChartLegend(d,a,b,c.legendLayout&&"vertical"==c.legendLayout.flow)},_getInterval:function(a,b){if(!a)return b;var c=this._get([a.unitInterval,b]);return isNaN(a.step)||(c=a.step*b),c},_getOffsets:function(a,b,c,d,e,f,g,h,i){var j=this._getInterval(e[a],h),k=[];(""==a||e[a].visible&&"custom"!=e[a].visible)&&(k=this._generateIntervalValues(d,j,h,g,i));var l;if("labels"!=a){var m=g?f.left:0;if(!g&&h>1&&(m=f.left*(h+1)),1==k.length&&(m*=2),l=this._valuesToOffsets(k,b,d,c,f,!1,m),!g){var n=(f.left+f.right)*j/h;b.flip?l.unshift(l[0]+n):l.push(l[l.length-1]+n)}}else{var m=f.left;1==k.length&&(m*=2),l=this._valuesToOffsets(k,b,d,c,f,g,m)}var o=this._arraysToObjectsArray([k,l],["value","offset"]);if(b[a]&&b[a].custom)for(var p=this._objectsArraysToArray(b[a].custom,"value"),q=this._objectsArraysToArray(b[a].custom,"offset"),r=this._valuesToOffsets(p,b,d,c,f,g,f.left),s=0;s<b[a].custom.length;s++)o.push({value:p[s],offset:isNaN(q[s])?r[s]:q[s]});return o},_renderXAxis:function(b,c,d,e){var f=this,g=f._getXAxis(b),h=f.seriesGroups[b],i="horizontal"==h.orientation,j={width:0,height:0},k=f._getAxisSettings(g);if(!g||!k.visible||"spider"==h.type)return j;if(!f._isGroupVisible(b)||this._isPieGroup(b))return j;for(var l=f._alignValuesWithTicks(b);f._renderData.length<b+1;)f._renderData.push({});f.rtl&&(g.flip=!0);var m=i?c.height:c.width,n=g.text,o=f._calculateXOffsets(b,m),p=o.axisStats,q=g.rangeSelector,r=0;if(q){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";r=this._selectorGetSize(g)}var s=i&&"right"==g.position||!i&&"top"==g.position;!d&&q&&(i?(c.width-=r,"right"!=g.position&&(c.x+=r)):(c.height-=r,"top"==g.position&&(c.y+=r)));var t={rangeLength:o.rangeLength,itemWidth:o.itemWidth,intervalWidth:o.intervalWidth,data:o,settings:k,isMirror:s,rect:c};f._renderData[b].xAxis=t;var u=p.interval;if(isNaN(u))return j;i&&(k.title.angle-=90,k.labels.angle-=90);var v,w=this._getInterval(k.gridLines,u),x=this._getInterval(k.tickMarks,u),y=this._getInterval(k.labels,u),z=p.min,A=p.max,B=o.padding,C=1==g.flip||f.rtl,D={min:z,max:A};p.logAxis.enabled&&(D.min=p.logAxis.minPow,D.max=p.logAxis.maxPow),"date"==g.type?(k.gridLines.offsets=this._generateDTOffsets(z,A,m,B,w,u,p.dateTimeUnit,l,NaN,!1,C),k.tickMarks.offsets=this._generateDTOffsets(z,A,m,B,x,u,p.dateTimeUnit,l,NaN,!1,C),v=this._generateDTOffsets(z,A,m,B,y,u,p.dateTimeUnit,l,NaN,!0,C)):(k.gridLines.offsets=this._getOffsets("gridLines",g,m,p,k,B,l,u),k.tickMarks.offsets=this._getOffsets("tickMarks",g,m,p,k,B,l,u),v=this._getOffsets("labels",g,m,p,k,B,l,u));var E,F=f.renderer.getRect();F.width-c.x-c.width,f._getDataLen(b);f._elementRenderInfo&&f._elementRenderInfo.length>b&&(E=f._elementRenderInfo[b].xAxis);var G,H=[];k.labels.formatFunction&&(G=k.labels.formatFunction);var I;k.labels.formatSettings&&(I=a.extend({},k.labels.formatSettings)),"date"==g.type&&(g.dateFormat&&!G?I?I.dateFormat=I.dateFormat||g.dateFormat:I={dateFormat:g.dateFormat}:G||I&&(!I||I.dateFormat)||(G=this._getDefaultDTFormatFn(g.baseUnit||"day")));for(var J=0;J<v.length;J++){var K=v[J].value,L=v[J].offset;if(!isNaN(L)){var M=void 0;"date"!=g.type&&p.useIndeces&&g.dataField&&(M=Math.round(K),K=f._getDataValue(M,g.dataField),void 0==K&&(K=""));var n=f._formatValue(K,I,G,b,void 0,M);void 0!=n&&""!=n.toString()||(isNaN(M)&&(M=J),M>=p.filterRange.min&&M<=p.filterRange.max&&(n=p.useIndeces?(p.min+M).toString():void 0==K?"":K.toString()));var N={key:K,text:n,targetX:L,x:L};E&&E.itemOffsets[K]&&(N.x=E.itemOffsets[K].x,N.y=E.itemOffsets[K].y),H.push(N)}}var O=f._getAnimProps(b),P=O.enabled&&H.length<500?O.duration:0;0==f.enableAxisTextAnimation&&(P=0);var Q={items:H,renderData:t},R=f._renderAxis(i,s,k,{x:c.x,y:c.y,width:c.width,height:c.height},e,u,!1,!0,Q,d,P);return i?R.width+=r:R.height+=r,R},_animateAxisText:function(a,b){for(var c=a.items,d=a.textSettings,e=0;e<c.length;e++){var f=c[e];if(f&&f.visible){var g=f.targetX,h=f.targetY;isNaN(f.x)||isNaN(f.y)||(g=f.x+(g-f.x)*b,h=f.y+(h-f.y)*b),f.element&&(this.renderer.removeElement(f.element),f.element=void 0),f.element=this.renderer.text(f.text,g,h,f.width,f.height,d.angle,{"class":d.style},!1,d.halign,d.valign,d.textRotationPoint)}}},_getPolarAxisCoords:function(b,c){var d=this.seriesGroups[b],e=c.x+a.jqx.getNum([d.offsetX,c.width/2]),f=c.y+a.jqx.getNum([d.offsetY,c.height/2]),g=Math.min(c.width,c.height),h=d.radius;this._isPercent(h)&&(h=parseFloat(h)/100*g/2),isNaN(h)&&(h=g/2*.6);var i=this._alignValuesWithTicks(b),j=this._get([d.startAngle,d.minAngle,0])-90;j=isNaN(j)?0:2*Math.PI*j/360;var k=this._get([d.endAngle,d.maxAngle,360])-90;if(k=isNaN(k)?2*Math.PI:2*Math.PI*k/360,j>k){var l=j;j=k,k=l}var m=a.jqx._rnd(Math.abs(j-k)/(2*Math.PI),.001,!0),n=2*Math.PI*h*m,o=this._calcGroupOffsets(b,c).xoffsets;if(o){var p=!(Math.abs(Math.abs(k-j)-2*Math.PI)>1e-5);if(d.spider){axisStats=this._getXAxisStats(b,this._getXAxis(b),n);var q=axisStats.interval;(isNaN(q)||0==q)&&(q=1);var r=(axisStats.max-axisStats.min)/q+(p?1:0);if(r=Math.round(r),r>2){var s=Math.cos(Math.abs(k-j)/2/r);s=a.jqx._rnd(s,.01),0==s&&(s=1);var t=h/s;t>h&&i&&(h=t)}}return h=a.jqx._ptrnd(h),{x:e,y:f,r:h,adjR:this._get([t,h]),itemWidth:o.itemWidth,rangeLength:o.rangeLength,valuesOnTicks:i,startAngle:j,endAngle:k,isClosedCircle:p,axisSize:n}}},_toPolarCoord:function(b,c,d,e){var f=Math.abs(b.startAngle-b.endAngle)/(2*Math.PI),g=2*(d-c.x)*Math.PI*f/Math.max(1,c.width)+b.startAngle,h=(c.height+c.y-e)*b.r/Math.max(1,c.height),i=b.x+h*Math.cos(g),j=b.y+h*Math.sin(g);return{x:a.jqx._ptrnd(i),y:a.jqx._ptrnd(j)}},_renderSpiderAxis:function(b,c){var d=this,e=d._getXAxis(b),f=this._getAxisSettings(e);if(e&&f.visible){var g=d.seriesGroups[b],h=d._getPolarAxisCoords(b,c);if(h){var i=a.jqx._ptrnd(h.x),j=a.jqx._ptrnd(h.y),k=h.adjR,l=h.startAngle,m=h.endAngle;if(!(k<1)){var n=a.jqx._rnd(Math.abs(l-m)/(2*Math.PI),.001,!0),o=2*Math.PI*k*n,p=h.isClosedCircle,q=this._renderData[b].xoffsets;if(q.rangeLength){var r=q.axisStats.interval;(isNaN(r)||r<1)&&(r=1);var s="horizontal"==g.orientation;for(s&&"right"==e.position||!s&&"top"==e.position;d._renderData.length<b+1;)d._renderData.push({});var t={rangeLength:q.rangeLength,itemWidth:q.itemWidth,data:q,rect:c,settings:f};d._renderData[b].xAxis=t,d._renderData[b].polarCoords=h;for(var u=!0,v=0;v<b;v++){var w=(d._renderData[v].xAxis,d._renderData[v].polarCoords),x=d._getXAxis(v),y=!1;for(var z in h)if(h[z]!=w[z]){y=!0;break}y&&x==e||(u=!1)}var A,B=f.gridLines,C=f.tickMarks,D=f.labels,E=this._getInterval(B,r),F=this._getInterval(C,r),G=this._getInterval(D,r),H=d._alignValuesWithTicks(b),I=d.renderer,J=q.axisStats,K=J.min,L=J.max,M=this._getPaddingSize(q.axisStats,e,H,o,!0,p,!1),N=1==e.flip||d.rtl;"date"==e.type?(B.offsets=this._generateDTOffsets(K,L,o,M,E,r,e.baseUnit,!0,0,!1,N),C.offsets=this._generateDTOffsets(K,L,o,M,F,r,e.baseUnit,!0,0,!1,N),A=this._generateDTOffsets(K,L,o,M,G,r,e.baseUnit,!0,0,!0,N)):(f.gridLines.offsets=this._getOffsets("gridLines",e,o,J,f,M,!0,r),f.tickMarks.offsets=this._getOffsets("tickMarks",e,o,J,f,M,!0,r),A=this._getOffsets("labels",e,o,J,f,M,!0,r));var O,P=d.renderer.getRect();P.width-c.x-c.width,d._getDataLen(b);d._elementRenderInfo&&d._elementRenderInfo.length>b&&(O=d._elementRenderInfo[b].xAxis);for(var Q=[],R=this._getDataLen(b),v=0;v<A.length;v++){var S=A[v].offset,T=A[v].value;if("date"!=e.type&&J.useIndeces&&e.dataField){var U=Math.round(T);if(U>=R)continue;T=d._getDataValue(U,e.dataField),void 0==T&&(T="")}var V=d._formatValue(T,D.formatSettings,D.formatFunction,b,void 0,U);void 0!=V&&""!=V.toString()||(V=J.useIndeces?(J.min+v).toString():void 0==T?"":T.toString());var W={key:T,text:V,targetX:S,x:S};O&&O.itemOffsets[T]&&(W.x=O.itemOffsets[T].x,W.y=O.itemOffsets[T].y),Q.push(W)}var X={stroke:B.color,fill:"none","stroke-width":B.width,"stroke-dasharray":B.dashStyle||""};if(!g.spider)if(1==n)I.circle(i,j,k,X);else{var Y=-l/Math.PI*180,Z=-m/Math.PI*180;this.renderer.pieslice(i,j,0,k,Math.min(Y,Z),Math.max(Y,Z),void 0,X)}var $=Q.length,_=(2*Math.PI/$,l);if(B.visible&&u){H||p||B.offsets.unshift({offset:-M.right});for(var v=0;v<B.offsets.length;v++){var aa=B.offsets[v].offset;H||(aa+=p?M.right/2:M.right);var ba=_+2*aa*Math.PI*n/Math.max(1,o);if(!(ba-m>.01)){var ca=a.jqx._ptrnd(i+k*Math.cos(ba)),da=a.jqx._ptrnd(j+k*Math.sin(ba));I.line(i,j,ca,da,X)}}}if(C.visible&&u){var ea=5,fa={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};H||p||C.offsets.unshift({offset:-M.right});for(var v=0;v<C.offsets.length;v++){var aa=C.offsets[v].offset;H||(aa+=p?M.right/2:M.right);var ba=_+2*aa*Math.PI*n/Math.max(1,o);if(!(ba-m>.01)){var ga={x:i+k*Math.cos(ba),y:j+k*Math.sin(ba)},ha={x:i+(k+ea)*Math.cos(ba),y:j+(k+ea)*Math.sin(ba)};I.line(a.jqx._ptrnd(ga.x),a.jqx._ptrnd(ga.y),a.jqx._ptrnd(ha.x),a.jqx._ptrnd(ha.y),fa)}}}var ia=[];if(g.spider){var ja=[];ja="date"==e.type?this._generateDTOffsets(K,L,o,M,r,r,e.baseUnit,!0,0,!1,N):this._getOffsets("",e,o,J,f,M,!0,r),H||p||ja.unshift({offset:-M.right});for(var v=0;v<ja.length;v++){var aa=ja[v].offset;H||(aa+=p?M.right/2:M.right);var ba=_+2*aa*Math.PI*n/Math.max(1,o);ba-m>.01||ia.push(ba)}t.offsetAngles=ia}var ka=d._renderSpiderValueAxis(b,c,H?h.adjR:h.r,ia);if(ka||(ka=[]),g.spider){if(!H)for(var v=0;v<ka.length;v++)ka[v]=ka[v]*h.adjR/h.r;ka.push(k),this._renderSpiderLines(i,j,ka,h,ia,X)}if(u&&D.visible){t.polarLabels=[];for(var v=0;v<Q.length;v++){var aa=Q[v].x,ba=_+2*aa*Math.PI*n/Math.max(1,o);ba=(360-ba/(2*Math.PI)*360)%360,ba<0&&(ba=360+ba);var la,ma=I.measureText(Q[v].text,0,{"class":f.labels.style}),na=(H?h.adjR:h.r)+(C.visible?7:2),oa=f.labels;if(oa.autoRotate){var pa=a.jqx._ptRotate(i-ma.width/2,j-na-ma.height,i,j,-ba/180*Math.PI),qa=a.jqx._ptRotate(i+ma.width/2,j-na,i,j,-ba/180*Math.PI);ma.width=Math.abs(pa.x-qa.x),ma.height=Math.abs(pa.y-qa.y),la={x:Math.min(pa.x,qa.x),y:Math.min(pa.y,qa.y)}}else la=this._adjustTextBoxPosition(i,j,ma,na,ba,!1,!1,!1);t.polarLabels.push({x:la.x,y:la.y,value:Q[v].text}),I.text(Q[v].text,la.x,la.y,ma.width,ma.height,oa.autoRotate?90-ba:oa.angle,{"class":oa.style},!1,oa.halign,oa.valign)}}}}}}},_renderSpiderLines:function(b,c,d,e,f,g){for(var h=this.renderer,i=(e.startAngle,e.endAngle,e.isClosedCircle),j=0;j<d.length;j++){for(var k=d[j],l=void 0,m=void 0,n=0;n<f.length;n++){var o=f[n],p=a.jqx._ptrnd(b+k*Math.cos(o)),q=a.jqx._ptrnd(c+k*Math.sin(o));l&&h.line(l.x,l.y,p,q,g),l={x:p,y:q},m||(m={x:p,y:q})}m&&i&&h.line(l.x,l.y,m.x,m.y,g)}},_renderSpiderValueAxis:function(b,c,d,e){var f=this.seriesGroups[b],g=this._getPolarAxisCoords(b,c);if(g){var h=a.jqx._ptrnd(g.x),i=a.jqx._ptrnd(g.y);d=d||g.r;var j=g.startAngle,k=g.endAngle,l=a.jqx._rnd(Math.abs(j-k)/(2*Math.PI),.001,!0);if(!(d<1)){d=a.jqx._ptrnd(d);var m=this._getValueAxis(b);if(settings=this._getAxisSettings(m),m&&0!=settings.visible){var n=this._stats.seriesGroups[b].mu,o=settings.labels,p=o.formatSettings,q=f.type.indexOf("stacked")!=-1&&f.type.indexOf("100")!=-1;q&&!p&&(p={sufix:"%"});var r=this._get([o.step,o.unitInterval/n]);isNaN(r)&&(r=1),r=Math.max(1,Math.round(r)),this._calcValueAxisItems(b,d,r);var s=settings.gridLines,t=settings.tickMarks,u=(this._getInterval(s,n),this._getInterval(t,n),settings.labels),v={stroke:s.color,fill:"none","stroke-width":1,"stroke-dasharray":s.dashStyle||""},w=this._renderData[b].valueAxis,x=w.items,y=j;if(x.length&&settings.line.visible){isNaN(settings.line.angle)||(y=2*Math.PI*settings.line.angle/360);var z=h+Math.cos(y)*d,A=i+Math.sin(y)*d;if(e.indexOf(y)==-1){var B=a.extend({},v);B["stroke-width"]=settings.line.lineWidth,B.stroke=settings.line.color,B["stroke-dasharray"]=settings.line.dashStyle,this.renderer.line(h,i,z,A,B)}}x=x.reverse();var C=this.renderer;w.polarLabels=[];for(var D=0;D<x.length-1;D++){var E=x[D];if(!isNaN(E)){var F=u.formatFunction?u.formatFunction(E):this._formatNumber(E,p),G=C.measureText(F,0,{"class":u.style}),H=h+(0!=m.showTickMarks?3:2),I=i-w.itemWidth*D-G.height/2,J=a.jqx._ptRotate(H,I,h,i,y),K=a.jqx._ptRotate(H+G.width,I+G.height,h,i,y);H=Math.min(J.x,K.x),I=Math.min(J.y,K.y),G.width=Math.abs(J.x-K.x),G.height=Math.abs(J.y-K.y),H+=settings.labels.textOffset.x,I+=settings.labels.textOffset.y,w.polarLabels.push({x:H,y:I,value:F}),C.text(F,H,I,G.width,G.height,u.autoRotate?90+180*j/Math.PI:u.angle,{"class":u.style},!1,u.halign,u.valign)}}var L=1==m.logarithmicScale,M=L?x.length:w.rangeLength;aIncrement=2*Math.PI/M;var N=0!=m.valuesOnTicks,O=this._stats.seriesGroups[b],P=O.mu,Q=1==m.logarithmicScale;m.logarithmicScaleBase||10;Q&&(P=1);var R={min:O.min,max:O.max,logAxis:{enabled:1==Q,base:m.logarithmicScaleBase,minPow:O.minPow,maxPow:O.maxPow}};(s.visible||f.spider||m.alternatingBackgroundColor||m.alternatingBackgroundColor2)&&(s.offsets=this._getOffsets("gridLines",m,d,R,settings,{left:0,right:0},N,P));var S=[];if(s.visible||f.spider)for(var v={stroke:s.color,fill:"none","stroke-width":1,"stroke-dasharray":s.dashStyle||""},D=0;D<s.offsets.length;D++){var I=a.jqx._ptrnd(s.offsets[D].offset);if(I!=d)if(f.spider)S.push(I);else if(1!=l){var T=-j/Math.PI*180,U=-k/Math.PI*180;this.renderer.pieslice(h,i,0,I,Math.min(T,U),Math.max(T,U),void 0,v)}else C.circle(h,i,I,v)}if(m.tickMarks&&(m.tickMarks.visible||m.showTickMarks)||(t.visible=!1),t.visible){t.offsets=this._getOffsets("tickMarks",m,d,R,settings,{left:0,right:0},N,P),tickMarkSize=2*t.size;for(var v={stroke:t.color,fill:"none","stroke-width":1,"stroke-dasharray":t.dashStyle||""},D=0;D<t.offsets.length;D++){var V=t.offsets[D].offset,J={x:h+V*Math.cos(y)-tickMarkSize/2*Math.sin(y+Math.PI/2),y:i+V*Math.sin(y)-tickMarkSize/2*Math.cos(y+Math.PI/2)},K={x:h+V*Math.cos(y)+tickMarkSize/2*Math.sin(y+Math.PI/2),y:i+V*Math.sin(y)+tickMarkSize/2*Math.cos(y+Math.PI/2)};C.line(a.jqx._ptrnd(J.x),a.jqx._ptrnd(J.y),a.jqx._ptrnd(K.x),a.jqx._ptrnd(K.y),v)}}return S}}}},_renderAxis:function(b,c,d,e,f,g,h,i,j,k,l){if(d.customDraw&&!k)return{width:NaN,height:NaN};var m=d.title,n=d.labels,o=(d.gridLines,d.tickMarks),p=d.padding,q=o.visible?o.size:0,r=2,s={width:0,height:0},t={width:0,height:0};b?s.height=t.height=e.height:s.width=t.width=e.width,!k&&c&&b&&(e.x-=e.width);var u=j.renderData,v=u.itemWidth;if(m.visible&&void 0!=m.text&&""!=m){var w=m.angle,x=this.renderer.measureText(m.text,w,{"class":m.style});t.width=x.width,t.height=x.height,k||this.renderer.text(m.text,e.x+m.offset.x+(b?c?-p.right-r+2*e.width-t.width:r+p.left:0),e.y+m.offset.y+(b?0:c?p.top+r:e.height-r-t.height-p.bottom),b?t.width:e.width,b?e.height:t.height,w,{"class":m.style},!0,m.halign,m.valign,m.rotationPoint)}var y=0,z=i?-v/2:0;i&&!b&&(n.halign="center");var A=e.x,B=e.y,C=n.textOffset;C&&(isNaN(C.x)||(A+=C.x),isNaN(C.y)||(B+=C.y)),b?(A+=p.left+r+(t.width>0?t.width+r:0)+(c?e.width-t.width:0),B+=z):(A+=z,c?(B+=t.height>0?t.height+3*r:2*r,B+=q-(i?q:q/4)):B+=i?q:q/4,B+=p.top);var D=0,E=0,F=j.items;u.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(l=0);for(var G=!1,H=0,I=0;I<F.length&&n.visible;I++,y+=v)if(F[I]&&!isNaN(v)){var J=F[I].text;isNaN(F[I].targetX)||(y=F[I].targetX);var x=this.renderer.measureText(J,n.angle,{"class":n.style});if(x.width>E&&(E=x.width),x.height>D&&(D=x.height),H+=b?D:E,!k){if(b&&y>e.height+2||!b&&y>e.width+2)continue;var K=b?A+(c?0==t.width?q:q-r:0):A+y,L=b?B+y:B;u.itemOffsets[F[I].key]={x:K,y:L},G||(!isNaN(F[I].x)||!isNaN(F[I].y)&&l)&&(G=!0),F[I].targetX=K,F[I].targetY=L,F[I].width=b?e.width-p.left-p.right-2*r-q-(t.width>0?t.width+r:0):v,F[I].height=b?v:e.height-p.top-p.bottom-2*r-q-(t.height>0?t.height+r:0),F[I].visible=!0}}if(u.avgWidth=0==F.length?0:H/F.length,!k){var M={items:F,textSettings:n};if(!isNaN(l)&&G||(l=0),this._animateAxisText(M,0==l?1:0),0!=l){var N=this;this._enqueueAnimation("series",void 0,void 0,l,function(a,b,c){N._animateAxisText(b,c)},M)}}s.width+=2*r+q+t.width+E+(b&&t.width>0?r:0),s.height+=2*r+q+t.height+D+(!b&&t.height>0?r:0),b?s.width+=p.left+p.right:s.height+=p.top+p.bottom;if(!k&&d.line.visible){var O={stroke:d.line.color,"stroke-width":d.line.width,"stroke-dasharray":d.line.dashStyle||""};if(b){var K=e.x+e.width+(c?p.left:-p.right);K=a.jqx._ptrnd(K),this.renderer.line(K,e.y,K,e.y+e.height,O)}else{var L=a.jqx._ptrnd(e.y+(c?e.height-p.bottom:p.top));this.renderer.line(a.jqx._ptrnd(e.x),L,a.jqx._ptrnd(e.x+e.width+1),L,O)}}return s.width=a.jqx._rup(s.width),s.height=a.jqx._rup(s.height),s},_drawPlotAreaLines:function(b,c,d){var e=this.seriesGroups[b],f="horizontal"!=e.orientation;if(this._renderData&&!(this._renderData.length<=b)){var g=c?"valueAxis":"xAxis",h=this._renderData[b][g];if(h){var i=this._renderData.axisDrawState;i||(i=this._renderData.axisDrawState={});var j,k="";c?(k="valueAxis_"+(e.valueAxis?b:"")+(f?"swap":""),j=this._getValueAxis(b)):(k="xAxis_"+(e.xAxis||e.categoryAxis?b:"")+(f?"swap":""),j=this._getXAxis(b)),
i=i[k]?i[k]:i[k]={},c||(f=!f);var l=h.settings;if(l&&!l.customDraw){var m=l.gridLines,n=l.tickMarks,o=l.padding,p=h.rect,q=this._plotRect;if(m&&n){var r=.5,s={},t={stroke:m.color,"stroke-width":m.width,"stroke-dasharray":m.dashStyle||""},u=c?p.y+p.height:p.x,v=m.offsets;if(c&&!j.flip&&(v=a.extend([],v),v=v.reverse()),v&&v.length>0)for(var w=NaN,x=(v.length,0);x<v.length;x++)if(f?(lineOffset=a.jqx._ptrnd(p.y+v[x].offset),lineOffset<p.y-r&&(lineOffset=a.jqx._ptrnd(p.y)),lineOffset>p.y+p.height&&(lineOffset=p.y+p.height)):(lineOffset=a.jqx._ptrnd(p.x+v[x].offset),lineOffset>p.x+p.width+r&&(lineOffset=a.jqx._ptrnd(p.x+p.width))),!isNaN(lineOffset)&&(isNaN(w)||!(Math.abs(lineOffset-w)<2))){if(w=lineOffset,d.gridLines&&0!=m.visible&&1!=i.gridLines&&(f?this.renderer.line(a.jqx._ptrnd(q.x),lineOffset,a.jqx._ptrnd(q.x+q.width),lineOffset,t):this.renderer.line(lineOffset,a.jqx._ptrnd(q.y),lineOffset,a.jqx._ptrnd(q.y+q.height),t)),s[lineOffset]=!0,d.alternatingBackground&&(m.alternatingBackgroundColor||m.alternatingBackgroundColor2)&&1!=i.alternatingBackground){var y=x%2==0?m.alternatingBackgroundColor2:m.alternatingBackgroundColor;if(x>0&&y){var z;z=f?this.renderer.rect(a.jqx._ptrnd(q.x),u,a.jqx._ptrnd(q.width-1),lineOffset-u,t):this.renderer.rect(u,a.jqx._ptrnd(q.y),lineOffset-u,a.jqx._ptrnd(q.height),t),this.renderer.attr(z,{"stroke-width":0,fill:y,opacity:m.alternatingBackgroundOpacity||1})}}u=lineOffset}var t={stroke:n.color,"stroke-width":n.width,"stroke-dasharray":n.dashStyle||""};if(d.tickMarks&&n.visible&&1!=i.tickMarks)for(var A=n.size,v=n.offsets,w=NaN,x=0;x<v.length;x++)if(f?(lineOffset=a.jqx._ptrnd(p.y+v[x].offset),lineOffset<p.y-r&&(lineOffset=a.jqx._ptrnd(p.y)),lineOffset>p.y+p.height&&(lineOffset=p.y+p.height)):(lineOffset=a.jqx._ptrnd(p.x+v[x].offset),lineOffset>p.x+p.width+r&&(lineOffset=a.jqx._ptrnd(p.x+p.width))),!isNaN(lineOffset)&&(isNaN(w)||!(Math.abs(lineOffset-w)<2))){if(s[lineOffset-1]?lineOffset--:s[lineOffset+1]&&lineOffset++,f){if(lineOffset>p.y+p.height+r)break}else if(lineOffset>p.x+p.width+r)break;w=lineOffset;var B=h.isMirror?A:-A;if(f){var C=p.x+p.width+("right"==j.position?o.left:-o.right);c||(C=p.x+(h.isMirror?o.left:-o.right+p.width)),this.renderer.line(C,lineOffset,C+B,lineOffset,t)}else{var D=p.y+(h.isMirror?p.height:0);D+=h.isMirror?-o.bottom:o.top,D=a.jqx._ptrnd(D),this.renderer.line(lineOffset,D,lineOffset,D-B,t)}}i.tickMarks=i.tickMarks||d.tickMarks,i.gridLines=i.gridLines||d.gridLines,i.alternatingBackground=i.alternatingBackground||d.alternatingBackground}}}}},_calcValueAxisItems:function(a,b,c){var d=this._stats.seriesGroups[a];if(!d||!d.isValid)return!1;var e=this.seriesGroups[a],f=("horizontal"==e.orientation,this._getValueAxis(a)),g=0!=f.valuesOnTicks,h=(f.dataField,d.intervals),i=b/h,j=d.min,k=d.mu,l=1==f.logarithmicScale,m=f.logarithmicScaleBase||10,n=e.type.indexOf("stacked")!=-1&&e.type.indexOf("100")!=-1;for(l&&(k=isNaN(f.unitInterval)?1:f.unitInterval),g||(h=Math.max(h-1,1));this._renderData.length<a+1;)this._renderData.push({});this._renderData[a].valueAxis={};var o=this._renderData[a].valueAxis;o.itemWidth=o.intervalWidth=i,o.items=[];for(var p=o.items,q=0;q<=h;q++){var r=0;r=l?n?d.max/Math.pow(m,h-q):j*Math.pow(m,q):g?j+q*k:j+(q+.5)*k,q%c==0?p.push(r):p.push(NaN)}return o.rangeLength=l&&!n?d.intervals:d.intervals*k,1!=f.flip&&(p=p.reverse()),!0},_getDecimalPlaces:function(a,b,c){var d=0;isNaN(c)&&(c=10);for(var e=0;e<a.length;e++){var f=void 0===b?a[e]:a[e][b];if(!isNaN(f)){for(var g=f.toString(),h=0;h<g.length;h++)if((g[h]<"0"||g[h]>"9")&&(d=g.length-(h+1),d>=0))return Math.min(d,c);for(d>0&&(f*=Math.pow(10,d));Math.round(f)!=f&&d<c;)d++,f*=10}}return d},_renderValueAxis:function(a,b,c,d){var e=this.seriesGroups[a],f="horizontal"==e.orientation,g=this._getValueAxis(a);if(!g)throw"SeriesGroup "+a+" is missing valueAxis definition";var h={width:0,height:0};if(!this._isGroupVisible(a)||this._isPieOnlySeries()||"spider"==e.type)return h;var i=0!=g.valuesOnTicks,j=this._stats.seriesGroups[a],k=j.mu,l=1==g.logarithmicScale;g.logarithmicScaleBase||10;if(l&&(k=isNaN(g.unitInterval)?1:g.unitInterval),0==k&&(k=1),isNaN(k))return h;var m=this._getAxisSettings(g),n=m.title,o=m.labels,p=g.labels||{},q=this._get([g.horizontalTextAlignment,p.horizontalAlignment]);q||0!=o.angle||(o.halign=f?"center":"right"==g.position?"left":"right");var r=this._get([o.step,o.unitInterval/k]);if(isNaN(r)&&(r=1),r=Math.max(1,Math.round(r)),!this._calcValueAxisItems(a,f?b.width:b.height,r)||!m.visible)return h;f||(n.angle=this.rtl?90:-90,"centercenter"==n.rotationPoint&&("top"==n.valign?n.rotationPoint="rightcenter":"bottom"==n.valign&&(n.rotationPoint="leftcenter")));var s=this._renderData[a].valueAxis,t=o.formatSettings,u=e.type.indexOf("stacked")!=-1&&e.type.indexOf("100")!=-1;u&&!t&&(t={sufix:"%"}),o.formatFunction||t&&t.decimalPlaces||(t=t||{},t.decimalPlaces=this._getDecimalPlaces([j.min,j.max,k],void 0,3));var v=m.gridLines,w=(l?k:this._getInterval(v,k),f?b.width:b.height),x=1==g.flip;g.flip=!x;var y={min:j.min,max:j.max,logAxis:{enabled:1==l,base:g.logarithmicScaleBase,minPow:j.minPow,maxPow:j.maxPow}};(v.visible||g.alternatingBackgroundColor||g.alternatingBackgroundColor2)&&(v.offsets=this._getOffsets("gridLines",g,w,y,m,{left:0,right:0},i,k));var z=m.tickMarks;z.visible&&(z.offsets=this._getOffsets("tickMarks",g,w,y,m,{left:0,right:0},i,k)),labelOffsets=this._getOffsets("labels",g,w,y,m,{left:0,right:0},i,k,!i),g.flip=x;var A,B=[];this._elementRenderInfo&&this._elementRenderInfo.length>a&&(A=this._elementRenderInfo[a].valueAxis);for(var C=0;C<labelOffsets.length;C++){var D=labelOffsets[C].value;if(isNaN(labelOffsets[C].offset))B.push(void 0);else{var E=o.formatFunction?o.formatFunction(D):isNaN(D)?D:this._formatNumber(D,t),F={key:D,text:E};A&&A.itemOffsets[D]&&(F.x=A.itemOffsets[D].x,F.y=A.itemOffsets[D].y),F.targetX=labelOffsets[C].offset,isNaN(F.targetX)||B.push(F)}}var G=f&&"top"==g.position||!f&&"right"==g.position||!f&&this.rtl&&"left"!=g.position,H={items:B,renderData:s},I=this._getAnimProps(a),J=I.enabled&&B.length<500?I.duration:0;return 0==this.enableAxisTextAnimation&&(J=0),s.settings=m,s.isMirror=G,s.rect=b,this._renderAxis(!f,G,m,b,d,k,l,!0,H,c,J)},_objectsArraysToArray:function(b,c){var d=[];if(!a.isArray(b))return d;for(var e=0;e<b.length;e++)d.push(b[e][c]);return d},_arraysToObjectsArray:function(a,b){var c=[];if(a.length!=b.length)return c;for(var d=0;d<a.length;d++)for(var e=0;e<a[d].length;e++)c.length<=e&&c.push({}),c[e][b[d]]=a[d][e];return c},_valuesToOffsets:function(b,c,d,e,f,g,h){var i=[];if(!c||!a.isArray(b))return i;var j=d.logAxis.base,k=d.logAxis.enabled?"logarithmic":"linear",l=c.flip,m=e,n=0,o=0;f&&!isNaN(f.left)&&(n=f.left),f&&!isNaN(f.right)&&(o=f.right),m=e-n-o,e=m;for(var p=0;p<b.length;p++)x=this._jqxPlot.scale(b[p],{min:d.min.valueOf(),max:d.max.valueOf(),type:k,base:j},{min:0,max:g?e:m,flip:l},{}),isNaN(x)?i.push(NaN):(isNaN(h)||(x+=h),x<=e+n+o+1?i.push(a.jqx._ptrnd(x)):i.push(NaN));return i},_generateIntervalValues:function(a,b,c,d,e){var f=[],g=a.min,h=a.max;if(a.logAxis&&a.logAxis.enabled&&(g=a.logAxis.minPow,h=a.logAxis.maxPow),void 0==g||void 0==h)return f;if(g==h)return a.logAxis&&a.logAxis.enabled?[Math.pow(a.logAxis.base,g)]:[g];var i=1;c<1&&(i=1e6,g*=i,h*=i,c*=i);for(var j=g;j<=h;j+=c)f.push(j/i+(e?c/2:0));if(b>c){for(var k=[],l=Math.round(b/c),j=0;j<f.length;j++)j%l==0&&k.push(f[j]);f=k}if(a.logAxis&&a.logAxis.enabled)for(var j=0;j<f.length;j++)f[j]=Math.pow(a.logAxis.base,f[j]);return f},_generateDTOffsets:function(b,c,d,e,f,g,h,i,j,k,l){h||(h="day");var m=[];if(b>c)return m;if(b==c)return k?m.push({offset:i?d/2:e.left,value:b}):i&&m.push({offset:d/2,value:b}),m;var n=d-e.left-e.right,o=b,p=e.left,q=p;g=Math.max(g,1);var r=g,s=Math.min(1,g);for(g>1&&"millisecond"!=h&&(g=1);a.jqx._ptrnd(q)<=a.jqx._ptrnd(e.left+n+(i?0:e.right));){m.push({offset:q,value:o});var t=new Date(o.valueOf());if("millisecond"==h)t.setMilliseconds(o.getMilliseconds()+g);else if("second"==h)t.setSeconds(o.getSeconds()+g);else if("minute"==h)t.setMinutes(o.getMinutes()+g);else if("hour"==h){var u=t.valueOf();t.setHours(o.getHours()+g),u==t.valueOf()&&t.setHours(o.getHours()+g+1)}else"day"==h?t.setDate(o.getDate()+g):"month"==h?t.setMonth(o.getMonth()+g):"year"==h&&t.setFullYear(o.getFullYear()+g);o=t,q=p+(o.valueOf()-b.valueOf())*s/(c.valueOf()-b.valueOf())*n}if(l)for(var v=0;v<m.length;v++)m[v].offset=d-m[v].offset;if(r>1&&"millisecond"!=h){for(var w=[],v=0;v<m.length;v+=r)w.push({offset:m[v].offset,value:m[v].value});m=w}if(!i&&!k&&m.length>1){var w=[];w.push({offset:0,value:void 0});for(var v=1;v<m.length;v++)w.push({offset:m[v-1].offset+(m[v].offset-m[v-1].offset)/2,value:void 0});var x=w.length;x>1?w.push({offset:w[x-1].offset+(w[x-1].offset-w[x-2].offset)}):w.push({offset:d,value:void 0}),m=w}if(f>g){for(var w=[],y=Math.round(f/r),v=0;v<m.length;v++)v%y==0&&w.push({offset:m[v].offset,value:m[v].value});m=w}return m},_hasStackValueReversal:function(a,b){var c=this.seriesGroups[a],d=-1!=c.type.indexOf("stacked");if(!d)return!1;for(var e=-1!=c.type.indexOf("waterfall"),f=this._getDataLen(a),g=0,h=!1,i=[],j=0;j<c.series.length;j++)i[j]=this._isSerieVisible(a,j);for(var k=0;k<f;k++){var l=void 0;e||(h=!1);for(var m=0;m<c.series.length;m++)if(i[m]&&(val=this._getDataValueAsNumber(k,c.series[m].dataField,a),!isNaN(val))){if(c.series[m].summary){var n=this._getDataValue(k,c.series[m].summary,a);if(void 0!==n)continue}var o=h?val<0:val<b;if(h=!0,void 0==l&&(l=o),o!=l)return!0;l=o,g+=val}}return!1},_getValueAxis:function(a){var b=void 0==a?this.valueAxis:this.seriesGroups[a].valueAxis||this.valueAxis;return b||(b=this.valueAxis={}),b},_buildStats:function(a){var b={seriesGroups:[]};this._stats=b;for(var c=0;c<this.seriesGroups.length;c++){var d=this.seriesGroups[c];b.seriesGroups[c]={};var e=this._getXAxis(c),f=this._getValueAxis(c),g=this._getXAxisStats(c,e,"horizontal"!=d.orientation?a.width:a.height),h=b.seriesGroups[c];h.isValid=!0;var i="horizontal"==d.orientation?a.width:a.height,j=1==f.logarithmicScale,k=f.logarithmicScaleBase;isNaN(k)&&(k=10);var l=-1!=d.type.indexOf("stacked"),m=l&&-1!=d.type.indexOf("100"),n=-1!=d.type.indexOf("range"),o=d.type.indexOf("waterfall")!=-1;if(o&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";m&&(h.psums=[],h.nsums=[]);var p=NaN,q=NaN,r=NaN,s=NaN,t=f?f.baselineValue:NaN;isNaN(t)&&(t=j&&!m?1:0);var u=!1;0!=t&&l&&(u=this._hasStackValueReversal(c,t),u&&(t=0)),l&&o&&(u=this._hasStackValueReversal(c,t));var v=this._getDataLen(c),w=0,x=NaN,y=[];if(o)for(var z=0;z<d.series.length;z++)y.push(NaN);for(var A=NaN,B=0;B<v&&h.isValid;B++){if(e.rangeSelector){var C=e.dataField?this._getDataValue(B,e.dataField,c):B;if(C&&g.isDateTime&&(C=this._castAsDate(C,e.dateFormat)),g.useIndeces&&(C=B),C&&(C.valueOf()<g.min.valueOf()||C.valueOf()>g.max.valueOf()))continue}var D=f.minValue,E=f.maxValue;f.baselineValue&&(D=isNaN(D)?t:Math.min(t,D),E=isNaN(E)?t:Math.max(t,E));for(var F=0,G=0,z=0;d.series&&z<d.series.length;z++)if(this._isSerieVisible(c,z)){var H=NaN,I=NaN,J=NaN;if(d.type.indexOf("candle")!=-1||d.type.indexOf("ohlc")!=-1){var K=["Open","Low","Close","High"];for(var L in K){var M=this._getDataValueAsNumber(B,d.series[z]["dataField"+K[L]],c);isNaN(M)||(J=isNaN(I)?M:Math.min(J,M),I=isNaN(I)?M:Math.max(I,M))}}else if(n){var N=this._getDataValueAsNumber(B,d.series[z].dataFieldFrom,c),O=this._getDataValueAsNumber(B,d.series[z].dataFieldTo,c);I=Math.max(N,O),J=Math.min(N,O)}else{if(H=this._getDataValueAsNumber(B,d.series[z].dataField,c),o){if(this._isSummary(c,B)){var P=this._getDataValue(B,d.series[z].summary,c);if(void 0!==P)continue}l?(isNaN(A)||(H+=A),A=H):(isNaN(y[z])?y[z]=H:H+=y[z],y[z]=H)}if(isNaN(H)||j&&H<=0)continue;J=I=H}(isNaN(E)||I>E)&&(!!isNaN(f.maxValue)||I<=f.maxValue)&&(E=I),(isNaN(D)||J<D)&&(!!isNaN(f.minValue)||J>=f.minValue)&&(D=J),isNaN(H)||!l||o||(H>t?F+=H:H<t&&(G+=H))}if(m||(isNaN(f.maxValue)||(F=Math.min(f.maxValue,F)),isNaN(f.minValue)||(G=Math.max(f.minValue,G))),j&&m)for(var z=0;z<d.series.length;z++)if(this._isSerieVisible(c,z)){var H=this._getDataValueAsNumber(B,d.series[z].dataField,c);if(isNaN(H)||H<=0)x=.01;else{var Q=0==F?0:H/F;(isNaN(x)||Q<x)&&(x=Q)}}else x=.01;var R=F-G;w<R&&(w=R),m&&(h.psums[B]=F,h.nsums[B]=G),(E>q||isNaN(q))&&(q=E),(D<p||isNaN(p))&&(p=D),(F>r||isNaN(r))&&(r=F),(G<s||isNaN(s))&&(s=G)}m&&(r=0==r?0:Math.max(r,-s),s=0==s?0:Math.min(s,-r)),p==q&&(!isNaN(f.minValue)&&isNaN(f.maxValue)?(p=f.minValue,q=j?p*k:p+1):isNaN(f.minValue)&&!isNaN(f.maxValue)&&(q=f.maxValue,p=j?q/k:q-1)),p==q&&(0==p?(p=-1,q=1):p<0?q=0:j?1==p&&(p/=k,q*=k):p=0);var S={gmin:p,gmax:q,gsumP:r,gsumN:s,gbase:t,isLogAxis:j,logBase:k,minPercent:x,gMaxRange:w,isStacked:l,isStacked100:m,isWaterfall:o,hasStackValueReversal:u,valueAxis:f,valueAxisSize:i};S.isStacked&&(S.gsumN<0&&(S.gmin=Math.min(S.gmin,S.gbase+S.gsumN)),S.gsumP>0&&(S.gmax=Math.max(S.gmax,S.gbase+S.gsumP))),h.context=S}this._mergeCommonValueAxisStats();for(var B=0;B<b.seriesGroups.length;B++){var h=b.seriesGroups[B];if(h.isValid){var T=this._calcOutputGroupStats(h.context);for(var L in T)h[L]=T[L];delete h.context}}},_mergeCommonValueAxisStats:function(){for(var a={},b=0;b<this.seriesGroups.length;b++)if(this._isGroupVisible(b)&&!this.seriesGroups[b].valueAxis){var c=this._stats.seriesGroups[b].context;a.gbase=c.gbase,(isNaN(a.gmin)||c.gmin<a.gmin)&&(a.gmin=c.gmin),(isNaN(a.gmax)||c.gmax>a.gmax)&&(a.gmax=c.gmax),(isNaN(a.gsumP)||c.gsumP>a.gsumP)&&(a.gsumP=c.gsumP),(isNaN(a.gsumN)||c.gsumN<a.gsumN)&&(a.gsumN=c.gsumN),(isNaN(a.logBase)||c.logBase<a.logBase)&&(a.logBase=c.logBase),(isNaN(a.minPercent)||c.minPercent<a.minPercent)&&(a.minPercent=c.minPercent),a.gsumN>0&&(a.gmin=Math.min(a.gmin,a.gbase+a.gsumN)),a.gsumP>0&&(a.gmax=Math.max(a.gmax,a.gbase+a.gsumP))}for(var b=0;b<this.seriesGroups.length;b++)if(!this.seriesGroups[b].valueAxis){var d=this._stats.seriesGroups[b].context;for(var e in a)d[e]=a[e]}},_calcOutputGroupStats:function(b){var c=b.gmin,d=b.gmax,e=b.gsumP,f=b.gsumN,g=b.gbase,h=b.isLogAxis,i=b.logBase,j=b.minPercent,k=b.gMaxRange,l=b.isStacked,m=b.isStacked100,n=b.isWaterfall,o=b.hasStackValueReversal,p=b.valueAxis,q=b.valueAxisSize,r=b.valueAxis.unitInterval;r||(r=this._calcInterval(c,d,Math.max(q/80,2))),c==d&&(c=g,d=2*d);var s=NaN,t=0,u=0;if(h){if(m){s=0;var v=1;for(t=u=a.jqx.log(100,i);v>j;)v/=i,t--,s++;c=Math.pow(i,t)}else l&&!n&&(d=Math.max(d,e)),u=a.jqx._rnd(a.jqx.log(d,i),1,!0),d=Math.pow(i,u),t=a.jqx._rnd(a.jqx.log(c,i),1,!1),c=Math.pow(i,t);r=i}c<f&&(f=c),d>e&&(e=d);var w=h?c:a.jqx._rnd(c,r,!1),x=h?d:a.jqx._rnd(d,r,!0);if(m&&x>100&&(x=100),m&&!h&&(x=x>0?100:0,w=w<0?-100:0,r=p.unitInterval,(isNaN(r)||r<=0||r>=100)&&(r=10),100%r!=0))for(;r>=1&&100%r!=0;r--);if(isNaN(x)||isNaN(w)||isNaN(r))return{};if(isNaN(s)&&(s=parseInt(((x-w)/(0==r?1:r)).toFixed())),h&&!m&&(s=u-t,k=Math.pow(i,s)),s<1)return{};var y={min:w,max:x,logarithmic:h,logBase:i,base:h?w:g,minPow:t,maxPow:u,sumP:e,sumN:f,mu:r,maxRange:k,intervals:s,hasStackValueReversal:o};return y},_getDataLen:function(b){var c=this.source;return void 0!=b&&b!=-1&&this.seriesGroups[b].source&&(c=this.seriesGroups[b].source),c instanceof a.jqx.dataAdapter&&(c=c.records),c?c.length:0},_getDataValue:function(b,c,d){var e=this.source;if(void 0!=d&&d!=-1&&(e=this.seriesGroups[d].source||e),e instanceof a.jqx.dataAdapter&&(e=e.records),!(!e||b<0||b>e.length-1))return a.isFunction(c)?c(b,e):c&&""!=c?e[b][c]:e[b]},_getDataValueAsNumber:function(a,b,c){var d=this._getDataValue(a,b,c);return this._isDate(d)?d.valueOf():("number"!=typeof d&&(d=parseFloat(d)),"number"!=typeof d&&(d=void 0),d)},_isPieGroup:function(a){var b=this.seriesGroups[a];return!(!b||!b.type)&&(b.type.indexOf("pie")!=-1||b.type.indexOf("donut")!=-1)},_renderPieSeries:function(b,c){for(var d=this._getDataLen(b),e=this.seriesGroups[b],f=this._calcGroupOffsets(b,c).offsets,g=0;g<e.series.length;g++){var h=e.series[g];if(!h.customDraw){var i=this._getSerieSettings(b,g),j=(h.colorScheme||e.colorScheme||this.colorScheme,this._getAnimProps(b,g)),k=j.enabled&&d<5e3&&!this._isToggleRefresh&&1!=this._isVML?j.duration:0;a.jqx.mobile.isMobileBrowser()&&this.renderer instanceof a.jqx.HTML5Renderer&&(k=0);var l=this._get([h.minAngle,h.startAngle]);(isNaN(l)||l<0||l>360)&&(l=0);var m=this._get([h.maxAngle,h.endAngle]);(isNaN(m)||m<0||m>360)&&(m=360);for(var n={rect:c,minAngle:l,maxAngle:m,groupIndex:b,serieIndex:g,settings:i,items:[]},o=0;o<d;o++){var p=f[g][o];if(p.visible){var q=p.fromAngle,r=p.toAngle,s=this.renderer.pieslice(p.x,p.y,p.innerRadius,p.outerRadius,q,0==k?r:q,p.centerOffset);this._setRenderInfo(b,g,o,{element:s});var t={displayValue:p.displayValue,itemIndex:o,visible:p.visible,x:p.x,y:p.y,innerRadius:p.innerRadius,outerRadius:p.outerRadius,fromAngle:q,toAngle:r,centerOffset:p.centerOffset};n.items.push(t)}}this._animatePieSlices(n,0);var u=this;this._enqueueAnimation("series",void 0,void 0,k,function(a,b,c){u._animatePieSlices(b,c)},n)}}},_sliceSortFunction:function(a,b){return a.fromAngle-b.fromAngle},_animatePieSlices:function(a,b){var c;this._elementRenderInfo&&this._elementRenderInfo.length>a.groupIndex&&this._elementRenderInfo[a.groupIndex].series&&this._elementRenderInfo[a.groupIndex].series.length>a.serieIndex&&(c=this._elementRenderInfo[a.groupIndex].series[a.serieIndex]);for(var d=this.seriesGroups[a.groupIndex],e=this._getLabelsSettings(a.groupIndex,a.serieIndex,NaN),f=e.visible,g=[],h=0;h<a.items.length;h++){var i=a.items[h];if(i.visible){var j=i.fromAngle,k=i.fromAngle+b*(i.toAngle-i.fromAngle);if(c&&c[i.displayValue]){var l=c[i.displayValue].fromAngle,m=c[i.displayValue].toAngle;j=l+(j-l)*b,k=m+(k-m)*b}g.push({index:h,from:j,to:k})}}c&&g.sort(this._sliceSortFunction);for(var n=NaN,h=0;h<g.length;h++){var i=a.items[g[h].index],o=this._getRenderInfo(a.groupIndex,a.serieIndex,i.itemIndex),j=g[h].from,k=g[h].to;c&&(!isNaN(n)&&j>n&&(j=n),n=k,h==g.length-1&&k!=g[0].from&&(k=a.maxAngle+g[0].from));var p=this.renderer.pieSlicePath(i.x,i.y,i.innerRadius,i.outerRadius,j,k,i.centerOffset);this.renderer.attr(o.element,{d:p});var q=this._getColors(a.groupIndex,a.serieIndex,i.itemIndex,"radialGradient",i.outerRadius),r=a.settings;o.colors=q,o.settings=r,this.renderer.attr(o.element,{fill:q.fillColor,stroke:q.lineColor,"stroke-width":r.stroke,"fill-opacity":r.opacity,"stroke-opacity":r.opacity,"stroke-dasharray":"none"});d.series[a.serieIndex];f&&this._showPieLabel(a.groupIndex,a.serieIndex,i.itemIndex,e),1==b&&this._installHandlers(o.element,"pieslice",a.groupIndex,a.serieIndex,i.itemIndex)}},_showPieLabel:function(b,c,d,e,f){var g=this._renderData[b].offsets[c][d];if(g.elementInfo.labelElement&&this.renderer.removeElement(g.elementInfo.labelElement),e||(e=this._getLabelsSettings(b,c,NaN)),e.visible){var h=g.fromAngle,i=g.toAngle,j=Math.abs(h-i);j>360&&(h=0,i=360);var k=(h*Math.PI*2/360,i*Math.PI*2/360,j/2+h);k%=360;var l,m=k*Math.PI*2/360;1==e.autoRotate&&(l=k<90||k>270?360-k:180-k);var n=e.linesEnabled,o=this._showLabel(b,c,d,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,l),p=e.radius||g.outerRadius+Math.max(o.width,o.height);this._isPercent(p)&&(p=parseFloat(p)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),p+=g.centerOffset,isNaN(f)&&(f=0),p+=f;var q=this.seriesGroups[b],r=q.series[c],s=a.jqx.getNum([r.offsetX,q.offsetX,this._plotRect.width/2]),t=a.jqx.getNum([r.offsetY,q.offsetY,this._plotRect.height/2]),u=this._plotRect.x+s,v=this._plotRect.y+t,w=this._adjustTextBoxPosition(u,v,o,p,k,g.outerRadius>p,0!=e.linesAngles,1==e.autoRotate),x={};if(g.elementInfo.labelElement=this._showLabel(b,c,d,{x:w.x,y:w.y,width:o.width,height:o.height},"left","top",!1,!1,!1,l,x),p>g.outerRadius+5&&0!=n){var y={lineColor:g.elementInfo.colors.lineColor,stroke:g.elementInfo.settings.stroke,opacity:g.elementInfo.settings.opacity,dashStyle:g.elementInfo.settings.dashStyle};g.elementInfo.labelArrowPath=this._updateLebelArrowPath(g.elementInfo.labelArrowPath,u,v,p,g.outerRadius+f,m,0!=e.linesAngles,y,x)}}},_updateLebelArrowPath:function(b,c,d,e,f,g,h,i,j){var k=a.jqx._ptrnd(c+(e-0)*Math.cos(g)),l=a.jqx._ptrnd(d-(e-0)*Math.sin(g)),m=a.jqx._ptrnd(c+(f+2)*Math.cos(g)),n=a.jqx._ptrnd(d-(f+2)*Math.sin(g)),o=[];o.push({x:j.x+j.width/2,y:j.y}),o.push({x:j.x+j.width/2,y:j.y+j.height}),o.push({x:j.x,y:j.y+j.height/2}),o.push({x:j.x+j.width,y:j.y+j.height/2}),h||(o.push({x:j.x,y:j.y}),o.push({x:j.x+j.width,y:j.y}),o.push({x:j.x+j.width,y:j.y+j.height}),o.push({x:j.x,y:j.y+j.height})),o=o.sort(function(b,e){return a.jqx._ptdist(b.x,b.y,c,d)-a.jqx._ptdist(e.x,e.y,c,d)}),o=o.sort(function(a,b){return Math.abs(a.x-c)+Math.abs(a.y-d)-(Math.abs(b.x-c)+Math.abs(b.y-d))});for(var p=0;p<o.length;p++)o[p].x=a.jqx._ptrnd(o[p].x),o[p].y=a.jqx._ptrnd(o[p].y);k=o[0].x,l=o[0].y;var q="M "+k+","+l+" L"+m+","+n;return h&&(q="M "+k+","+l+" L"+m+","+l+" L"+m+","+n),b?this.renderer.attr(b,{d:q}):b=this.renderer.path(q,{}),this.renderer.attr(b,{fill:"none",stroke:i.lineColor,"stroke-width":i.stroke,"stroke-opacity":i.opacity,"stroke-dasharray":"none"}),b},_adjustTextBoxPosition:function(b,c,d,e,f,g,h,i){var j=f*Math.PI*2/360,k=a.jqx._ptrnd(b+e*Math.cos(j)),l=a.jqx._ptrnd(c-e*Math.sin(j));if(i){var m=d.width,n=d.height,o=Math.atan(n/m)%(2*Math.PI),p=j%(2*Math.PI),q=0;p<=o?q=m/2*Math.cos(j):p>=o&&p<Math.PI-o?q=n/2*Math.sin(j):p>=Math.PI-o&&p<Math.PI+o?q=m/2*Math.cos(j):p>=Math.PI+o&&p<2*Math.PI-o?q=n/2*Math.sin(j):p>=2*Math.PI-o&&p<2*Math.PI&&(q=m/2*Math.cos(j)),e+=Math.abs(q)+3;var k=a.jqx._ptrnd(b+e*Math.cos(j)),l=a.jqx._ptrnd(c-e*Math.sin(j));return k-=d.width/2,l-=d.height/2,{x:k,y:l}}return g?(k-=d.width/2,l-=d.height/2):h?f>=90&&f<270?(l-=d.height/2,k-=d.width):l-=d.height/2:f>=0&&f<45||f>=315&&f<360?l-=d.height/2:f>=45&&f<135?(l-=d.height,k-=d.width/2):f>=135&&f<225?(l-=d.height/2,k-=d.width):f>=225&&f<315&&(k-=d.width/2),{x:k,y:l}},_isColumnType:function(a){return a.indexOf("column")!=-1||a.indexOf("waterfall")!=-1},_getColumnGroupsCount:function(a){var b=0;a=a||"vertical";for(var c=this.seriesGroups,d=0;d<c.length;d++){var e=c[d].orientation||"vertical";this._isColumnType(c[d].type)&&e==a&&b++}return this.columnSeriesOverlap&&(b=1),b},_getColumnGroupIndex:function(a){for(var b=0,c=this.seriesGroups[a].orientation||"vertical",d=0;d<a;d++){var e=this.seriesGroups[d],f=e.orientation||"vertical";this._isColumnType(e.type)&&f==c&&b++}return b},_renderAxisBands:function(b,c,d){var e=d?this._getXAxis(b):this._getValueAxis(b),f=this.seriesGroups[b],g=d?void 0:f.bands;if(!g){for(var h=0;h<b;h++){var i=d?this._getXAxis(h):this._getValueAxis(h);if(i==e)return}g=e.bands}if(a.isArray(g)){var j=c,k="horizontal"==f.orientation;k&&(j={x:c.y,y:c.x,width:c.height,height:c.width}),this._calcGroupOffsets(b,j);for(var h=0;h<g.length;h++){var l,m=g[h],n=this._get([m.minValue,m.from]),o=this._get([m.maxValue,m.to]),p=d?this.getXAxisDataPointOffset(n,b):this.getValueAxisDataPointOffset(n,b),q=d?this.getXAxisDataPointOffset(o,b):this.getValueAxisDataPointOffset(o,b),r=Math.abs(p-q);if(f.polar||f.spider){var s=this._renderData[b],t=s.polarCoords;if(d)if(f.spider){p1=this.getPolarDataPointOffset(n,this._stats.seriesGroups[b].max,b),p2=this.getPolarDataPointOffset(o,this._stats.seriesGroups[b].max,b);var u="M "+t.x+","+t.y;u+=" L "+p1.x+","+p1.y,u+=" L "+p2.x+","+p2.y,l=this.renderer.path(u)}else{var v={},w={x:Math.min(p,q),y:c.y,width:r,height:c.height};this._columnAsPieSlice(v,c,t,w),l=v.element}else{var x=this._toPolarCoord(t,c,c.x,s.baseOffset),y=this._toPolarCoord(t,c,c.x,p),z=this._toPolarCoord(t,c,c.x,q),A=a.jqx._ptdist(x.x,x.y,y.x,y.y),B=a.jqx._ptdist(x.x,x.y,z.x,z.y),C=Math.round(360*-t.startAngle/(2*Math.PI)),D=Math.round(360*-t.endAngle/(2*Math.PI));if(C>D){var E=C;C=D,D=E}if(f.spider){var F=s.xAxis.offsetAngles,u="",G=[B,A],H=F;t.isClosedCircle&&(H=a.extend([],F),H.push(H[0]));for(var I in G){for(var J=0;J<H.length;J++){var K=0==I?J:F.length-J-1,L=t.x+G[I]*Math.cos(H[K]),M=t.y+G[I]*Math.sin(H[K]);u+=""==u?"M ":" L",u+=a.jqx._ptrnd(L)+","+a.jqx._ptrnd(M)}if(0==I){var L=t.x+G[1]*Math.cos(H[K]),M=t.y+G[1]*Math.sin(H[K]);u+=" L"+a.jqx._ptrnd(L)+","+a.jqx._ptrnd(M)}}u+=" Z",l=this.renderer.path(u)}else l=this.renderer.pieslice(t.x,t.y,A,B,C,D)}}else{var N={x:Math.min(p,q),y:j.y,width:r,height:j.height};if(d||(N={x:j.x,y:Math.min(p,q),width:j.width,height:r}),k){var E=N.x;N.x=N.y,N.y=E,E=N.width,N.width=N.height,N.height=E}l=0==r||1==r?this.renderer.line(a.jqx._ptrnd(N.x),a.jqx._ptrnd(N.y),a.jqx._ptrnd(N.x+(k?0:N.width)),a.jqx._ptrnd(N.y+(k?N.height:0))):this.renderer.rect(N.x,N.y,N.width,N.height)}var O=m.fillColor||m.color||"#AAAAAA",P=m.lineColor||O,Q=m.lineWidth;isNaN(Q)&&(Q=1);var R=m.opacity;(isNaN(R)||R<0||R>1)&&(R=1),this.renderer.attr(l,{fill:O,"fill-opacity":R,stroke:P,"stroke-opacity":R,"stroke-width":Q,"stroke-dasharray":m.dashStyle})}}},_getColumnGroupWidth:function(a,b,c){var d=this.seriesGroups[a],e=d.type.indexOf("stacked")!=-1,f=(e?1:d.series.length,this._getColumnGroupsCount(d.orientation));(isNaN(f)||0==f)&&(f=1);var g=b.rangeLength>=1?b.itemWidth:.9*c,h=d.columnsMinWidth;isNaN(h)&&(h=1),isNaN(d.columnsMaxWidth)||(h=Math.min(d.columnsMaxWidth,h)),h>g&&b.length>0&&(g=Math.max(g,.9*c/b.length));var i=h;if(!e){var j=d.seriesGapPercent;(isNaN(j)||j<0)&&(j=10),j/=100;var k=h;k*=1+j,i+=d.series.length*k}var l=Math.max(g/f,i);return{requiredWidth:i,availableWidth:g,targetWidth:l}},_getColumnSerieWidthAndOffset:function(a,b){var c=this.seriesGroups[a],d=(c.series[b],"horizontal"==c.orientation),e=this._plotRect;d&&(e={x:e.y,y:e.x,width:e.height,height:e.width});var f=this._calcGroupOffsets(a,e);if(f&&0!=f.xoffsets.length){var g=!0,h=this._getColumnGroupsCount(c.orientation);"candlestick"!=c.type&&"ohlc"!=c.type||(h=1);var i=this._getColumnGroupIndex(a),j=this._getColumnGroupWidth(a,f.xoffsets,d?e.height:e.width),k=0,l=j.targetWidth;(1==this.columnSeriesOverlap||Math.round(l)>Math.round(j.availableWidth/h))&&(h=1,i=0),g&&(k-=l*h/2),k+=l*i;var m=c.columnsGapPercent;m<=0&&(m=0),(isNaN(m)||m>=100)&&(m=25),m/=100;var n=l*m;n+j.requiredWidth>j.targetWidth&&(n=Math.max(0,j.targetWidth-j.requiredWidth)),Math.round(l)>Math.round(j.availableWidth)&&(n=0),l-=n,k+=n/2;var o=c.seriesGapPercent;(isNaN(o)||o<0)&&(o=10);var p=c.type.indexOf("stacked")!=-1,q=l;p||(q/=c.series.length);var r=this._get([c.seriesGap,l*o/100/(c.series.length-1)]);(1==c.polar||1==c.spider||p||c.series.length<=1)&&(r=0);var s=r*(c.series.length-1);c.series.length>1&&s>l-1*c.series.length&&(s=l-1*c.series.length,r=s/Math.max(1,c.series.length-1));var t=q-s/c.series.length,u=0,v=c.columnsMaxWidth;isNaN(v)||t>v&&(u=t-v,t=v);var w=0;if(p)w=u/2;else{var x=(l-t*c.series.length-s)/2,y=Math.max(0,b);w=x+t*b+y*r}return{width:t,offset:k+w}}},_renderColumnSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=(this._getDataLen(b),"horizontal"==d.orientation),f=c;e&&(f={x:c.y,y:c.x,width:c.height,height:c.width});var g=this._calcGroupOffsets(b,f);if(g&&0!=g.xoffsets.length){var h;1!=d.polar&&1!=d.spider||(h=this._getPolarAxisCoords(b,f));var i={groupIndex:b,rect:c,vertical:!e,seriesCtx:[],renderData:g,polarAxisCoords:h};i.columnGroupWidth=this._getColumnGroupWidth(b,g.xoffsets,e?f.height:f.width);for(var j=this._getGroupGradientType(b),k=0;k<d.series.length;k++){var l=d.series[k];if(!l.customDraw){var m=(l.dataField,this._getAnimProps(b,k)),n=m.enabled&&!this._isToggleRefresh&&g.xoffsets.length<100?m.duration:0,o=this._getColumnSerieWidthAndOffset(b,k),p=this._isSerieVisible(b,k),q=this._getSerieSettings(b,k),r=this._getColors(b,k,NaN,this._getGroupGradientType(b),4),s=[];if(a.isFunction(l.colorFunction)&&!h)for(var t=g.xoffsets.first;t<=g.xoffsets.last;t++)s.push(this._getColors(b,k,t,j,4));var u={seriesIndex:k,serieColors:r,itemsColors:s,settings:q,columnWidth:o.width,xAdjust:o.offset,isVisible:p};i.seriesCtx.push(u)}}this._animColumns(i,0==n?1:0);var v=this;this._enqueueAnimation("series",void 0,void 0,n,function(a,b,c){v._animColumns(b,c)},i)}}},_getPercent:function(a,b,c,d){return isNaN(a)&&(a=b),!isNaN(c)&&!isNaN(a)&&a<c&&(a=c),!isNaN(d)&&!isNaN(a)&&a>d&&(a=d),isNaN(a)?NaN:a},_getColumnVOffsets:function(a,b,c,d,e,f){var g=this.seriesGroups[b],h=this._getPercent(g.columnsTopWidthPercent,100,0,100),i=this._getPercent(g.columnsBottomWidthPercent,100,0,100);0==h&&0==i&&(i=100);for(var j=this._getPercent(g.columnsNeckHeightPercent,NaN,0,100)/100,k=this._getPercent(g.columnsNeckWidthPercent,100,0,100)/100,l=[],m=NaN,n=0;n<c.length;n++){var o,p=c[n],q=p.seriesIndex,r=(g.series[q],a.offsets[q][d].from),s=a.offsets[q][d].to,t=a.xoffsets.data[d],u=p.isVisible;u||(s=r);var v=this._elementRenderInfo;if(u&&v&&v.length>b&&v[b].series.length>q){var w=a.xoffsets.xvalues[d];o=v[b].series[q][w],!o||isNaN(o.from)||isNaN(o.to)||(r=o.from+(r-o.from)*f,s=o.to+(s-o.to)*f,t=o.xoffset+(t-o.xoffset)*f)}o||(s=r+(s-r)*(e?1:f)),isNaN(r)&&(r=isNaN(m)?a.baseOffset:m),m=!isNaN(s)&&e?s:r,isNaN(s)&&(s=r);var x={from:r,to:s,xOffset:t};100==h&&100==i||(x.funnel=!0,x.toWidthPercent=h,x.fromWidthPercent=i),l.push(x)}if(e&&l.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>b)){for(var y=0,z=0,A=-(1/0),B=1/0,C=1/0,D=-(1/0),E=0;E<l.length;E++){var p=c[E];p.isVisible&&(l[E].to>=l[E].from?(z+=l[E].to-l[E].from,C=Math.min(C,l[E].from),D=Math.max(D,l[E].to)):(y+=l[E].from-l[E].to,A=Math.max(A,l[E].from),B=Math.min(B,l[E].to)))}var F=y,G=z;y*=f,z*=f;for(var H=0,I=0,E=0;E<l.length;E++)if(l[E].to>=l[E].from){var J=l[E].to-l[E].from;J+I>z&&(J=Math.max(0,z-I),l[E].to=l[E].from+J),100==h&&100==i||(l[E].funnel=!0,!isNaN(j)&&G*j>=I?l[E].fromWidthPercent=100*k:l[E].fromWidthPercent=Math.abs(l[E].from-C)/G*(h-i)+i,!isNaN(j)&&G*j>=0+(I+J)?l[E].toWidthPercent=100*k:l[E].toWidthPercent=Math.abs(l[E].to-C)/G*(h-i)+i),I+=J}else{var J=l[E].from-l[E].to;J+H>y&&(J=Math.max(0,y-H),l[E].to=l[E].from-J),100==h&&100==i||(l[E].funnel=!0,!isNaN(j)&&F*j>=H?l[E].fromWidthPercent=100*k:l[E].fromWidthPercent=Math.abs(l[E].from-A)/F*(h-i)+i,!isNaN(j)&&F*j>=0+(H+J)?l[E].toWidthPercent=100*k:l[E].toWidthPercent=Math.abs(l[E].to-A)/F*(h-i)+i),H+=J}}return l},_columnAsPieSlice:function(b,c,d,e){var f=this._toPolarCoord(d,c,e.x,e.y),g=this._toPolarCoord(d,c,e.x,e.y+e.height),h=a.jqx._ptdist(d.x,d.y,g.x,g.y),i=a.jqx._ptdist(d.x,d.y,f.x,f.y),j=c.width,k=180*Math.abs(d.startAngle-d.endAngle)/Math.PI,l=-((e.x-c.x)*k)/j,m=-((e.x+e.width-c.x)*k)/j,n=d.startAngle;if(n=360*n/(2*Math.PI),l-=n,m-=n,b)if(void 0!=b.element){var o=this.renderer.pieSlicePath(d.x,d.y,h,i,m,l,0);o+=" Z",this.renderer.attr(b.element,{d:o})}else b.element=this.renderer.pieslice(d.x,d.y,h,i,m,l,0);return{fromAngle:m,toAngle:l,innerRadius:h,outerRadius:i}},_setRenderInfo:function(a,b,c,d){this._renderData[a].offsets[b][c].elementInfo=d},_getRenderInfo:function(a,b,c){return this._renderData[a].offsets[b][c].elementInfo||{}},_animColumns:function(b,c){for(var d=this,e=b.groupIndex,f=this.seriesGroups[e],g=b.renderData,h=f.type.indexOf("waterfall")!=-1,i=this._getXAxis(e),j=f.type.indexOf("stacked")!=-1,k=b.polarAxisCoords,l=(this._getGroupGradientType(e),b.columnGroupWidth.targetWidth,-1),m=0;m<f.series.length;m++)if(this._isSerieVisible(e,m)){l=m;break}for(var n=NaN,o=NaN,m=0;m<b.seriesCtx.length;m++){var p=b.seriesCtx[m];(isNaN(n)||n>p.xAdjust)&&(n=p.xAdjust),(isNaN(o)||o<p.xAdjust+p.columnWidth)&&(o=p.xAdjust+p.columnWidth)}var q=Math.abs(o-n),r=this._get([f.columnsGapPercent,25])/100;(isNaN(r)<0||r>=1)&&(r=.25);for(var s=r*q,t=b.renderData.xoffsets,u=-1,v={},w=1==f.skipOverlappingPoints,x=t.first;x<=t.last;x++){var y=t.data[x];if(!(isNaN(y)||u!=-1&&Math.abs(y-u)<q-1+s&&w)){u=y;var z=this._getColumnVOffsets(g,e,b.seriesCtx,x,j,c),A=!1;if(h)for(var B=0;B<f.series.length;B++)f.series[B].summary&&t.xvalues[x][f.series[B].summary]&&(A=!0);for(var B=0;B<b.seriesCtx.length;B++){var p=b.seriesCtx[B],C=p.seriesIndex,D=f.series[C],E=z[B].from,F=z[B].to,G=z[B].xOffset,H=(b.vertical?b.rect.x:b.rect.y)+p.xAdjust,I=p.settings,J=0!=p.itemsColors.length?p.itemsColors[x-g.xoffsets.first]:p.serieColors,K=this._isSerieVisible(e,C);if(K){var y=a.jqx._ptrnd(H+G),L={x:y,width:p.columnWidth
};z[B].funnel&&(L.fromWidthPercent=z[B].fromWidthPercent,L.toWidthPercent=z[B].toWidthPercent);var M=!0;b.vertical?(L.y=E,L.height=F-E,L.height<0&&(L.y+=L.height,L.height=-L.height,M=!1)):(L.x=E<F?E:F,L.width=Math.abs(E-F),M=E-F<0,L.y=y,L.height=p.columnWidth);var N=E-F;if(!isNaN(N)){N=Math.abs(N);var O=void 0,P=d._getRenderInfo(e,C,x),Q=P.element,R=P.labelElement,S=void 0==Q;if(R&&(d.renderer.removeElement(R),R=void 0),k){var T={element:Q};O=this._columnAsPieSlice(T,b.rect,k,L),Q=T.element;var J=this._getColors(e,C,void 0,"radialGradient",O.outerRadius)}else if(z[B].funnel){var U=this._getTrapezoidPath(a.extend({},L),b.vertical,M);S?Q=this.renderer.path(U,{}):this.renderer.attr(Q,{d:U})}else S?Q=this.renderer.rect(L.x,L.y,b.vertical?L.width:0,b.vertical?0:L.height):1==b.vertical?this.renderer.attr(Q,{x:L.x,y:L.y,height:N}):this.renderer.attr(Q,{x:L.x,y:L.y,width:N});if(N<1&&(1!=c||k)?this.renderer.attr(Q,{display:"none"}):this.renderer.attr(Q,{display:"block"}),S&&this.renderer.attr(Q,{fill:J.fillColor,"fill-opacity":I.opacity,"stroke-opacity":I.opacity,stroke:J.lineColor,"stroke-width":I.stroke,"stroke-dasharray":I.dashStyle}),R&&this.renderer.removeElement(R),!K||0==N&&c<1)P={element:Q,labelElement:R},d._setRenderInfo(e,C,x,P);else{if(h&&0!=this._get([D.showWaterfallLines,f.showWaterfallLines])){if(!j||j&&B==l){var V=j?-1:B;if(1==c&&!isNaN(g.offsets[B][x].from)&&!isNaN(g.offsets[B][x].to)){var W=v[V];if(void 0!=W){var X={x:W.x,y:a.jqx._ptrnd(W.y)},Y={x:y,y:X.y},Z=f.columnsTopWidthPercent/100;isNaN(Z)?Z=1:(Z>1||Z<0)&&(Z=1);var $=f.columnsBottomWidthPercent/100;isNaN($)?$=1:($>1||$<0)&&($=1);var _=b.vertical?L.width:L.height;if(X.x=X.x-_/2+_/2*Z,A){var aa=_*Z/2;Y.x=Y.x+_/2-(i.flip?-aa:aa)}else{var aa=_*$/2;Y.x=Y.x+_/2-(i.flip?-aa:aa)}b.vertical||(this._swapXY([X]),this._swapXY([Y])),this.renderer.line(X.x,X.y,Y.x,Y.y,{stroke:W.color,"stroke-width":I.stroke,"stroke-opacity":I.opacity,"fill-opacity":I.opacity,"stroke-dasharray":I.dashStyle})}}}1==c&&0!=N&&(v[j?-1:B]={y:F,x:b.vertical?L.x+L.width:L.y+L.height,color:J.lineColor})}if(k){var _=(this._toPolarCoord(k,b.rect,L.x+L.width/2,L.y),this._showLabel(e,C,x,L,void 0,void 0,!0)),ba=O.outerRadius+10;labelOffset=this._adjustTextBoxPosition(k.x,k.y,_,ba,(O.fromAngle+O.toAngle)/2,!0,!1,!1),R=this._showLabel(e,C,x,{x:labelOffset.x,y:labelOffset.y},void 0,void 0,!1,!1,!1)}else R=this._showLabel(e,C,x,L,void 0,void 0,!1,!1,M);P={element:Q,labelElement:R},d._setRenderInfo(e,C,x,P),1==c&&this._installHandlers(Q,"column",e,C,x)}}}}}}},_getTrapezoidPath:function(b,c,d){var e="",f=b.fromWidthPercent/100,g=b.toWidthPercent/100;if(!c){var h=b.width;b.width=b.height,b.height=h,h=b.x,b.x=b.y,b.y=h}var i=b.x+b.width/2,j=[{x:i-b.width*(d?g:f)/2,y:b.y+b.height},{x:i-b.width*(d?f:g)/2,y:b.y},{x:i+b.width*(d?f:g)/2,y:b.y},{x:i+b.width*(d?g:f)/2,y:b.y+b.height}];c||this._swapXY(j),e+="M "+a.jqx._ptrnd(j[0].x)+","+a.jqx._ptrnd(j[0].y);for(var k=1;k<j.length;k++)e+=" L "+a.jqx._ptrnd(j[k].x)+","+a.jqx._ptrnd(j[k].y);return e+=" Z"},_swapXY:function(a){for(var b=0;b<a.length;b++){var c=a[b].x;a[b].x=a[b].y,a[b].y=c}},_renderCandleStickSeries:function(b,c,d){var e=this,f=e.seriesGroups[b];if(f.series&&0!=f.series.length){var g="horizontal"==f.orientation,h=c;g&&(h={x:c.y,y:c.x,width:c.height,height:c.width});var i=e._calcGroupOffsets(b,h);if(i&&0!=i.xoffsets.length){var j,k=h.width;(f.polar||f.spider)&&(j=e._getPolarAxisCoords(b,h),k=2*j.r);for(var l=(e._alignValuesWithTicks(b),e._getGroupGradientType(b)),m=[],n=0;n<f.series.length;n++)m[n]=e._getColumnSerieWidthAndOffset(b,n);for(var n=0;n<f.series.length;n++)if(this._isSerieVisible(b,n)){var o=e._getSerieSettings(b,n),p=f.series[n];if(!p.customDraw){var q=a.isFunction(p.colorFunction)?void 0:e._getColors(b,n,NaN,l),r={rect:c,inverse:g,groupIndex:b,seriesIndex:n,symbolType:p.symbolType,symbolSize:p.symbolSize,"fill-opacity":o.opacity,"stroke-opacity":o.opacity,"stroke-width":o.stroke,"stroke-dasharray":o.dashStyle,gradientType:l,colors:q,renderData:i,polarAxisCoords:j,columnsInfo:m,isOHLC:d,items:[],self:e},s=e._getAnimProps(b,n),t=s.enabled&&!e._isToggleRefresh&&i.xoffsets.length<5e3?s.duration:0;e._animCandleStick(r,0);e._enqueueAnimation("series",void 0,void 0,t,function(a,b,c){e._animCandleStick(b,c)},r)}}}}},_animCandleStick:function(b,c){var d=["Open","Low","Close","High"],e=b.columnsInfo[b.seriesIndex].width,f=b.self.seriesGroups[b.groupIndex],g=b.renderData.xoffsets,h=-1,i=Math.abs(g.data[g.last]-g.data[g.first]);i*=c;for(var j=NaN,k=NaN,l=0;l<b.columnsInfo.length;l++){var m=b.columnsInfo[l];(isNaN(j)||j>m.offset)&&(j=m.offset),(isNaN(k)||k<m.offset+m.width)&&(k=m.offset+m.width)}for(var n=Math.abs(k-j),o=0!=f.skipOverlappingPoints,p=g.first;p<=g.last;p++){var q=g.data[p];if(!(isNaN(q)||h!=-1&&Math.abs(q-h)<n&&o)){var r=Math.abs(g.data[p]-g.data[g.first]);if(r>i)break;h=q;var s=b.items[p]=b.items[p]||{};for(var l in d){var t=b.self._getDataValueAsNumber(p,f.series[b.seriesIndex]["dataField"+d[l]],b.groupIndex);if(isNaN(t))break;var u=b.renderData.offsets[b.seriesIndex][p][d[l]];if(isNaN(u))break;s[d[l]]=u}if(q+=b.inverse?b.rect.y:b.rect.x,b.polarAxisCoords){var v=this._toPolarCoord(b.polarAxisCoords,this._plotRect,q,u);q=v.x,u=v.y}q=a.jqx._ptrnd(q);for(var w in d)s[w]=a.jqx._ptrnd(s[w]);var x=b.colors;if(x||(x=b.self._getColors(b.groupIndex,b.seriesIndex,p,b.gradientType)),b.isOHLC){var y="M"+q+","+s.Low+" L"+q+","+s.High+" M"+(q-e/2)+","+s.Open+" L"+q+","+s.Open+" M"+(q+e/2)+","+s.Close+" L"+q+","+s.Close;b.inverse&&(y="M"+s.Low+","+q+" L"+s.High+","+q+" M"+s.Open+","+(q-e/2)+" L"+s.Open+","+q+" M"+s.Close+","+q+" L"+s.Close+","+(q+e/2));var z=s.lineElement;z||(z=this.renderer.path(y,{}),this.renderer.attr(z,{fill:x.fillColor,"fill-opacity":b["fill-opacity"],"stroke-opacity":b["fill-opacity"],stroke:x.lineColor,"stroke-width":b["stroke-width"],"stroke-dasharray":b["stroke-dasharray"]}),s.lineElement=z),1==c&&this._installHandlers(z,"column",b.groupIndex,b.seriesIndex,p)}else{var z=s.lineElement;z||(z=b.inverse?this.renderer.line(s.Low,q,s.High,q):this.renderer.line(q,s.Low,q,s.High),this.renderer.attr(z,{fill:x.fillColor,"fill-opacity":b["fill-opacity"],"stroke-opacity":b["fill-opacity"],stroke:x.lineColor,"stroke-width":b["stroke-width"],"stroke-dasharray":b["stroke-dasharray"]}),s.lineElement=z);var A=s.stickElement;if(q-=e/2,!A){var B=x.fillColor;s.Close<=s.Open&&x.fillColorAlt&&(B=x.fillColorAlt),A=b.inverse?this.renderer.rect(Math.min(s.Open,s.Close),q,Math.abs(s.Close-s.Open),e):this.renderer.rect(q,Math.min(s.Open,s.Close),e,Math.abs(s.Close-s.Open)),this.renderer.attr(A,{fill:B,"fill-opacity":b["fill-opacity"],"stroke-opacity":b["fill-opacity"],stroke:x.lineColor,"stroke-width":b["stroke-width"],"stroke-dasharray":b["stroke-dasharray"]}),s.stickElement=A}1==c&&this._installHandlers(A,"column",b.groupIndex,b.seriesIndex,p)}}}},_renderScatterSeries:function(b,c,d){var e=this.seriesGroups[b];if(e.series&&0!=e.series.length){var f=e.type.indexOf("bubble")!=-1,g="horizontal"==e.orientation,h=c;g&&(h={x:c.y,y:c.x,width:c.height,height:c.width});var i=this._calcGroupOffsets(b,h);if(i&&0!=i.xoffsets.length){var j,k=h.width;(e.polar||e.spider)&&(j=this._getPolarAxisCoords(b,h),k=2*j.r);var l=(this._alignValuesWithTicks(b),this._getGroupGradientType(b));d||(d="to");for(var m=0;m<e.series.length;m++){var n=this._getSerieSettings(b,m),o=e.series[m];if(!o.customDraw){var p=o.dataField,q=a.isFunction(o.colorFunction),r=this._getColors(b,m,NaN,l),s=NaN,t=NaN;if(f)for(var u=i.xoffsets.first;u<=i.xoffsets.last;u++){var v=this._getDataValueAsNumber(u,o.radiusDataField||o.sizeDataField,b);if("number"!=typeof v)throw"Invalid radiusDataField value at ["+u+"]";isNaN(v)||((isNaN(s)||v<s)&&(s=v),(isNaN(t)||v>t)&&(t=v))}var w=o.minRadius||o.minSymbolSize;isNaN(w)&&(w=k/50);var x=o.maxRadius||o.maxSymbolSize;isNaN(x)&&(x=k/25),w>x&&(x=w);var y=o.radius;y=isNaN(y)&&!isNaN(o.symbolSize)?"circle"==o.symbolType?o.symbolSize/2:o.symbolSize:5;for(var z=this._getAnimProps(b,m),A=z.enabled&&!this._isToggleRefresh&&i.xoffsets.length<5e3?z.duration:0,B={groupIndex:b,seriesIndex:m,symbolType:o.symbolType,symbolSize:o.symbolSize,"fill-opacity":n.opacity,"stroke-opacity":n.opacity,"stroke-width":n.stroke,"stroke-width-symbol":n.strokeSymbol,"stroke-dasharray":n.dashStyle,items:[],polarAxisCoords:j},C=void 0,u=i.xoffsets.first;u<=i.xoffsets.last;u++){var v=this._getDataValueAsNumber(u,p,b);if("number"==typeof v){var D=i.xoffsets.data[u],E=i.xoffsets.xvalues[u],F=i.offsets[m][u][d];if(!(F<h.y||F>h.y+h.height||isNaN(D)||isNaN(F))){if(g){var G=D;D=F,F=G+c.y}else D+=c.x;if(!(!q&&C&&this.enableSampling&&a.jqx._ptdist(C.x,C.y,D,F)<1)){C={x:D,y:F};var H=y;if(f){var I=this._getDataValueAsNumber(u,o.radiusDataField||o.sizeDataField,b);if("number"!=typeof I)continue;H=w+(x-w)*(I-s)/Math.max(1,t-s),isNaN(H)&&(H=w)}i.offsets[m][u].radius=H;var J=NaN,K=NaN,L=0,M=this._elementRenderInfo;if(void 0!=E&&M&&M.length>b&&M[b].series.length>m){var N=M[b].series[m][E];if(N&&!isNaN(N.to)){if(J=N.to,K=N.xoffset,L=y,g){var G=K;K=J,J=G+c.y}else K+=c.x;f&&(L=w+(x-w)*(N.valueRadius-s)/Math.max(1,t-s),isNaN(L)&&(L=w))}}q&&(r=this._getColors(b,m,u,l)),B.items.push({from:L,to:H,itemIndex:u,fill:r.fillColor,stroke:r.lineColor,x:D,y:F,xFrom:K,yFrom:J})}}}}this._animR(B,0);var O=this;this._enqueueAnimation("series",void 0,void 0,A,function(a,b,c){O._animR(b,c)},B)}}}}},_animR:function(b,c){for(var d=b.items,e=b.symbolType||"circle",f=b.symbolSize,g=0;g<d.length;g++){var h=d[g],i=h.x,j=h.y,k=Math.round((h.to-h.from)*c+h.from);if(isNaN(h.yFrom)||(j=h.yFrom+(j-h.yFrom)*c),isNaN(h.xFrom)||(i=h.xFrom+(i-h.xFrom)*c),b.polarAxisCoords){var l=this._toPolarCoord(b.polarAxisCoords,this._plotRect,i,j);i=l.x,j=l.y}i=a.jqx._ptrnd(i),j=a.jqx._ptrnd(j),k=a.jqx._ptrnd(k);var m=this._getRenderInfo(b.groupIndex,b.seriesIndex,d[g].itemIndex),n=m.element,o=m.labelElement;"circle"==e?(n||(n=this.renderer.circle(i,j,k),this.renderer.attr(n,{fill:h.fill,"fill-opacity":b["fill-opacity"],"stroke-opacity":b["fill-opacity"],stroke:h.stroke,"stroke-width":b["stroke-width"],"stroke-dasharray":b["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(n,void 0,void 0,k):this.renderer.attr(n,{r:k,cy:j,cx:i})):(n&&this.renderer.removeElement(n),n=this._drawSymbol(e,i,j,h.fill,b["fill-opacity"],h.stroke,b["stroke-opacity"]||b["fill-opacity"],b["stroke-width-symbol"],b["stroke-dasharray"],f||k)),o&&this.renderer.removeElement(o),o=this._showLabel(b.groupIndex,b.seriesIndex,h.itemIndex,{x:i-k,y:j-k,width:2*k,height:2*k}),c>=1&&this._installHandlers(n,"circle",b.groupIndex,b.seriesIndex,h.itemIndex),this._setRenderInfo(b.groupIndex,b.seriesIndex,d[g].itemIndex,{element:n,labelElement:o})}},_showToolTip:function(b,c,d,e,f){var g=this,h=g._getXAxis(d),i=g._getValueAxis(d);if(!g._ttEl||d!=g._ttEl.gidx||e!=g._ttEl.sidx||f!=g._ttEl.iidx){var j=g.seriesGroups[d],k=j.series[e],l=g.enableCrosshairs;g._pointMarker?(b=parseInt(g._pointMarker.x+5),c=parseInt(g._pointMarker.y-5)):l=!1;var m=l&&0==g.showToolTips;b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c);void 0==g._ttEl;if(0!=j.showToolTips&&0!=k.showToolTips){var n=g._get([k.toolTipFormatSettings,j.toolTipFormatSettings,i.toolTipFormatSettings,g.toolTipFormatSettings]),o=g._get([k.toolTipFormatFunction,j.toolTipFormatFunction,i.toolTipFormatFunction,g.toolTipFormatFunction]),p=g._getColors(d,e,f),q=g._getDataValue(f,h.dataField,d);void 0!=h.dataField&&""!=h.dataField||(q=f),"date"==h.type&&(q=g._castAsDate(q,(n?n.dateFormat:void 0)||h.dateFormat));var r="";if(a.isFunction(o)){var s={},t=0;for(var u in k)0==u.indexOf("dataField")&&(s[u.substring(9,u.length).toLowerCase()]=g._getDataValue(f,k[u],d),t++);0==t?s=g._getDataValue(f,void 0,d):1==t&&(s=s[""]),r=o(s,f,k,j,q,h)}else{r=g._getFormattedValue(d,e,f,n,o);var v=this._getAxisSettings(h),w=v.toolTipFormatSettings,x=v.toolTipFormatFunction;x||w||"date"!=h.type||(x=this._getDefaultDTFormatFn(h.baseUnit||"day"));var y=g._formatValue(q,w,x,d,e,f);if(g._isPieGroup(d))q=g._getDataValue(f,k.displayText||k.dataField,d),y=g._formatValue(q,w,x,d,e,f),r=y+": "+r;else{var z=h.displayText||h.dataField||"";r=z.length>0?z+": "+y+"<br>"+r:y+"<br>"+r}}if(g._ttEl||(g._ttEl={}),g._ttEl.sidx=e,g._ttEl.gidx=d,g._ttEl.iidx=f,rect=g.renderer.getRect(),l){var A=a.jqx._ptrnd(g._pointMarker.x),B=a.jqx._ptrnd(g._pointMarker.y),C=g.crosshairsColor||g._defaultLineColor;if(j.polar||j.spider){var D=this._getPolarAxisCoords(d,this._plotRect),E=a.jqx._ptdist(A,B,D.x,D.y);if(E>D.r)return;var F=Math.atan2(B-D.y,A-D.x),G=Math.cos(F)*D.r+D.x,H=Math.sin(F)*D.r+D.y;g._ttEl.vLine?g.renderer.attr(g._ttEl.vLine,{x1:D.x,y1:D.y,x2:G,y2:H}):g._ttEl.vLine=g.renderer.line(D.x,D.y,G,H,{stroke:C,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""})}else g._ttEl.vLine&&g._ttEl.hLine?(g.renderer.attr(g._ttEl.vLine,{x1:A,x2:A}),g.renderer.attr(g._ttEl.hLine,{y1:B,y2:B})):(g._ttEl.vLine=g.renderer.line(A,g._plotRect.y,A,g._plotRect.y+g._plotRect.height,{stroke:C,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""}),g._ttEl.hLine=g.renderer.line(g._plotRect.x,B,g._plotRect.x+g._plotRect.width,B,{stroke:C,"stroke-width":g.crosshairsLineWidth||1,"stroke-dasharray":g.crosshairsDashStyle||""}))}if(!m&&0!=g.showToolTips){var I=k.toolTipClass||j.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),J=k.toolTipBackground||j.toolTipBackground||"#FFFFFF",K=k.toolTipLineColor||j.toolTipLineColor||p.lineColor,L=this._get([k.toolTipOpacity,j.toolTipOpacity,1]),M=this.getItemCoord(d,e,f),N=0;g._pointMarker&&g._pointMarker.element&&(N=k.symbolSizeSelected,isNaN(N)&&(N=k.symbolSize),(isNaN(N)||N>50||N<0)&&(N=j.symbolSize),(isNaN(N)||N>50||N<0)&&(N=8)),g._createTooltip(M,j,r,{css:I,fill:J,stroke:K,fillOpacity:L,symbolSize:N})}}}},_fitTooltip:function(a,b,c,d,e){var f={},g=2+e/2,h=7;if(b.x-c.width-h-g>a.x&&b.y+b.height/2-c.height/2>a.y&&b.y+b.height/2+c.height/2<a.y+a.height&&(f.left={arrowLocation:"right",x:b.x-c.width-h-g,y:b.y+b.height/2-c.height/2,width:c.width+h,height:c.height}),b.x+b.width+c.width+h+g<a.x+a.width&&b.y+b.height/2-c.height/2>a.y&&b.y+b.height/2+c.height/2<a.y+a.height&&(f.right={arrowLocation:"left",x:b.x+b.width+g,y:b.y+b.height/2-c.height/2,width:c.width+h,height:c.height}),b.y-c.height-g-h>a.y&&b.x+b.width/2-c.width/2>a.x&&b.x+b.width/2+c.width/2<a.x+a.width&&(f.top={arrowLocation:"bottom",x:b.x+b.width/2-c.width/2,y:b.y-c.height-g-h,width:c.width,height:c.height+h}),b.y+b.height+c.height+h+g<a.y+a.height&&b.x+b.width/2-c.width/2>a.x&&b.x+b.width/2+c.width/2<a.x+a.width&&(f.bottom={arrowLocation:"top",x:b.x+b.width/2-c.width/2,y:b.y+b.height+g,width:c.width,height:c.height+h}),b.width>b.height||(d.type.indexOf("stackedcolumn")!=-1||d.type.indexOf("stackedwaterfall")!=-1)&&"horizontal"!=d.orientation){if(f.left)return f.left;if(f.right)return f.right}else{if(f.top)return f.top;if(f.bottom)return f.bottom}for(var i in f)if(f[i])return f[i];return{arrowLocation:""}},_createTooltip:function(b,c,d,e){var f=this,g=c.type,h=!1,i=f._ttEl.box;if(!i){h=!0,i=f._ttEl.box=document.createElement("div");var j=1e7;i.style.position="absolute",i.style.cursor="default",a(k).css({"z-index":j,"box-sizing":"content-box"}),a(i).css({"z-index":j}),a(document.body).append(i);var k=document.createElement("div");k.id="arrowOuterDiv",k.style.width="0px",k.style.height="0px",k.style.position="absolute",a(k).css({"z-index":j+1,"box-sizing":"content-box"});var l=document.createElement("div");l.id="arrowInnerDiv",l.style.width="0px",l.style.height="0px",l.style.position="absolute";var m=document.createElement("div");m.id="contentDiv",m.style.position="absolute",a(m).css({"box-sizing":"content-box"}),a(m).addClass("jqx-rc-all jqx-button"),a(m).appendTo(a(i)),a(k).appendTo(a(i)),a(l).appendTo(a(i)),a(l).css({"z-index":j+2,"box-sizing":"content-box"})}if(!d||0==d.length)return void a(i).fadeTo(0,0);m=a(i).find("#contentDiv")[0],k=a(i).find("#arrowOuterDiv")[0],l=a(i).find("#arrowInnerDiv")[0],l.style.opacity=k.style.opacity=e.fillOpacity,m.style.backgroundColor=e.fill,m.style.borderColor=e.stroke,m.style.opacity=e.fillOpacity;var n="<span class='"+e.css+"'>"+d+"</span>";a(m).html(n);var o=this._measureHtml(n,"jqx-rc-all jqx-button");if(rect=f._plotRect,!(o.width>rect.width||o.height>rect.height)){var p={width:o.width,height:o.height};arrowLocation="";var q=7,r=f._isColumnType(g);if(x=Math.max(b.x,rect.x),y=Math.max(b.y,rect.y),"dataPoint"==f.toolTipAlignment){if(g.indexOf("pie")!=-1||g.indexOf("donut")!=-1){var s=(b.fromAngle+b.toAngle)/2;s*=Math.PI/180;var t=!isNaN(b.innerRadius)&&b.innerRadius>0?(b.innerRadius+b.outerRadius)/2:.75*b.outerRadius;x=b.x=b.center.x+Math.cos(s)*t,y=b.y=b.center.y-Math.sin(s)*t,b.width=b.height=1}else r&&(c.polar||c.spider)&&(b.width=b.height=1);var u=this._fitTooltip(this._plotRect,b,p,c,e.symbolSize);""!=u.arrowLocation&&(arrowLocation=u.arrowLocation,x=u.x,y=u.y,p.width=u.width,p.height=u.height)}else arrowLocation="";"top"==arrowLocation||"bottom"==arrowLocation?(p.height+=q,x-=q/2,"bottom"==arrowLocation&&(y-=q)):"left"!=arrowLocation&&"right"!=arrowLocation||(p.width+=q,y-=q/2,"right"==arrowLocation&&(x-=q)),x+p.width>rect.x+rect.width&&(arrowLocation="",x=rect.x+rect.width-p.width),y+p.height>rect.y+rect.height&&(arrowLocation="",y=rect.y+rect.height-p.height);var v={x:0,y:0};a(m).css({width:o.width,height:o.height,left:0,top:0}),k.style["margin-top"]=k.style["margin-left"]=0,l.style["margin-top"]=l.style["margin-left"]=0,m.style["margin-top"]=m.style["margin-left"]=0;var w=q+"px solid",z=q+"px solid transparent";switch(arrowLocation){case"left":v={x:0,y:(o.height-q)/2},contentPostion={x:q,y:0},m.style["margin-left"]=q+"px",k.style["margin-left"]="0px",k.style["margin-top"]=v.y+"px",k.style["border-left"]="",k.style["border-right"]=w+" "+e.stroke,k.style["border-top"]=z,k.style["border-bottom"]=z,l.style["margin-left"]="1px",l.style["margin-top"]=v.y+"px",l.style["border-left"]="",l.style["border-right"]=w+" "+e.fill,l.style["border-top"]=z,l.style["border-bottom"]=z;break;case"right":v={x:p.width-q,y:(o.height-q)/2},contentPostion={x:0,y:0},k.style["margin-left"]=v.x+"px",k.style["margin-top"]=v.y+"px",k.style["border-left"]=w+" "+e.stroke,k.style["border-right"]="",k.style["border-top"]=z,k.style["border-bottom"]=z,l.style["margin-left"]=v.x-1+"px",l.style["margin-top"]=v.y+"px",l.style["border-left"]=w+" "+e.fill,l.style["border-right"]="",l.style["border-top"]=z,l.style["border-bottom"]=z;break;case"top":v={x:p.width/2-q/2,y:0},contentPostion={x:0,y:q},m.style["margin-top"]=contentPostion.y+"px",k.style["margin-left"]=v.x+"px",k.style["border-top"]="",k.style["border-bottom"]=w+" "+e.stroke,k.style["border-left"]=z,k.style["border-right"]=z,l.style["margin-left"]=v.x+"px",l.style["margin-top"]="1px",l.style["border-top"]="",l.style["border-bottom"]=w+" "+e.fill,l.style["border-left"]=z,l.style["border-right"]=z;break;case"bottom":v={x:p.width/2-q/2,y:p.height-q},contentPostion={x:0,y:0},k.style["margin-left"]=v.x+"px",k.style["margin-top"]=v.y+"px",k.style["border-top"]=w+" "+e.stroke,k.style["border-bottom"]="",k.style["border-left"]=z,k.style["border-right"]=z,l.style["margin-left"]=v.x+"px",l.style["margin-top"]=v.y-1+"px",l.style["border-top"]=w+" "+e.fill,l.style["border-bottom"]="",l.style["border-left"]=z,l.style["border-right"]=z}""==arrowLocation?(a(k).hide(),a(l).hide()):(a(k).show(),a(l).show()),a(i).css({width:p.width+"px",height:p.height+"px"});var A=f.host.coord();h&&(a(i).fadeOut(0,0),i.style.left=x+A.left+"px",i.style.top=y+A.top+"px"),a(i).clearQueue(),a(i).animate({left:x+A.left,top:y+A.top,opacity:1},f.toolTipMoveDuration,"easeInOutCirc"),a(i).fadeTo(400,1)}},_measureHtml:function(b,c){var d=this._measureDiv;d||(this._measureDiv=d=document.createElement("div"),d.style.position="absolute",d.style.cursor="default",d.style.overflow="hidden",d.style.display="none",a(d).addClass(c),this.host.append(d)),a(d).html(b);var e={width:a(d).width()+2,height:a(d).height()+2};return a.jqx.browser&&a.jqx.browser.mozilla&&(e.height+=3),e},_hideToolTip:function(b){this._ttEl&&(this._ttEl.box&&(0==b?a(this._ttEl.box).hide():a(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(b){return a.jqx.getByPriority(b)},_getAxisSettings:function(a){if(!a)return{};var b=this,c=a.gridLines||{},d={visible:this._get([c.visible,a.showGridLines,!0]),color:b._get([c.color,a.gridLinesColor,b._defaultLineColor]),unitInterval:b._get([c.unitInterval,c.interval,a.gridLinesInterval]),step:b._get([c.step,a.gridLinesStep]),dashStyle:b._get([c.dashStyle,a.gridLinesDashStyle]),width:b._get([c.lineWidth,1]),offsets:[],alternatingBackgroundColor:a.alternatingBackgroundColor,alternatingBackgroundColor2:a.alternatingBackgroundColor2,alternatingBackgroundOpacity:a.alternatingBackgroundOpacity},e=a.tickMarks||{},f={visible:this._get([e.visible,a.showTickMarks,!0]),color:b._get([e.color,a.tickMarksColor,b._defaultLineColor]),unitInterval:b._get([e.unitInterval,e.interval,a.tickMarksInterval]),step:b._get([e.step,a.tickMarksStep]),dashStyle:b._get([e.dashStyle,a.tickMarksDashStyle]),width:b._get([e.lineWidth,1]),size:b._get([e.size,4]),offsets:[]},g=a.title||{},h={visible:b._get([g.visible,!0]),text:b._get([a.description,g.text]),style:b._get([a.descriptionClass,g["class"],b.toThemeProperty("jqx-chart-axis-description",null)]),halign:b._get([a.horizontalDescriptionAlignment,g.horizontalAlignment,"center"]),valign:b._get([a.verticalDescriptionAlignment,g.verticalAlignment,"center"]),angle:0,rotationPoint:b._get([g.rotationPoint,"centercenter"]),offset:b._get([g.offset,{x:0,y:0}])},i=a.line||{},j={visible:b._get([i.visible,!0]),color:b._get([i.color,d.color,b._defaultLineColor]),dashStyle:b._get([i.dashStyle,d.dashStyle,""]),width:b._get([i.lineWidth,1]),angle:b._get([i.angle,NaN])},k=a.padding||{};k={left:k.left||0,right:k.right||0,top:k.top||0,bottom:k.bottom||0};var l=this._getAxisLabelsSettings(a),m={visible:this._get([a.visible,a.showValueAxis,a.showXAxis,a.showCategoryAxis,!0]),customDraw:this._get([a.customDraw,!1]),gridLines:d,tickMarks:f,line:j,title:h,labels:l,padding:k,toolTipFormatFunction:this._get([a.toolTipFormatFunction,a.formatFunction,l.formatFunction]),toolTipFormatSettings:this._get([a.toolTipFormatSettings,a.formatSettings,l.formatSettings])};return m},_getAxisLabelsSettings:function(a){var b=this,c=a.labels||{},d={visible:b._get([a.showLabels,c.visible,!0]),unitInterval:b._get([c.unitInterval,c.interval,a.labelsInterval]),step:b._get([c.step,a.labelsStep]),angle:b._get([a.textRotationAngle,c.angle,0]),style:b._get([a["class"],c["class"],b.toThemeProperty("jqx-chart-axis-text",null)]),halign:b._get([a.horizontalTextAlignment,c.horizontalAlignment,"center"]),valign:b._get([a.verticalTextAlignment,c.verticalAlignment,"center"]),textRotationPoint:b._get([a.textRotationPoint,c.rotationPoint,"auto"]),textOffset:b._get([a.textOffset,c.offset,{x:0,y:0}]),autoRotate:b._get([a.labelsAutoRotate,c.autoRotate,!1]),formatSettings:b._get([a.formatSettings,c.formatSettings,void 0]),formatFunction:b._get([a.formatFunction,c.formatFunction,void 0])};return d},_getLabelsSettings:function(b,c,d,e){for(var f=this.seriesGroups[b],g=f.series[c],h=isNaN(d)?void 0:this._getDataValue(d,g.dataField,b),i=e||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],j={},k=0;k<i.length;k++){var l=i[k],m="labels"+l,n="label"+l,o=l.substring(0,1).toLowerCase()+l.substring(1),p=void 0;f.labels&&"object"==typeof f.labels&&(p=f.labels[o]),g.labels&&"object"==typeof g.labels&&void 0!=g.labels[o]&&(p=g.labels[o]),p=this._get([g[m],g[n],p,f[m],f[n]]),a.isFunction(p)?j[o]=p(h,d,g,f):j[o]=p}j["class"]=j["class"]||this.toThemeProperty("jqx-chart-label-text",null),j.visible=this._get([j.visible,g.showLabels,f.showLabels,void 0!=g.labels||void 0,void 0!=f.labels||void 0]);var q=j.padding||1;return j.padding={left:this._get([q.left,isNaN(q)?1:q]),right:this._get([q.right,isNaN(q)?1:q]),top:this._get([q.top,isNaN(q)?1:q]),bottom:this._get([q.bottom,isNaN(q)?1:q])},j},_showLabel:function(a,b,c,d,e,f,g,h,i,j,k){var l,m=this.seriesGroups[a],n=(m.series[b],{width:0,height:0});if(!isNaN(c)){var o=this._getLabelsSettings(a,b,c);if(!o.visible)return g?n:void 0;if(d.width<0||d.height<0)return g?n:void 0;var p=o.angle;isNaN(j)||(p=j);var q=o.offset||{},r={x:q.x,y:q.y};isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),e=e||o.horizontalAlignment||"center",f=f||o.verticalAlignment||"center";var s=this._getFormattedValue(a,b,c,void 0,void 0,!0),t=d.width,u=d.height;if(1==h&&"center"!=e&&(e="right"==e?"left":"right"),1==i&&"center"!=f&&"middle"!=f&&(f="top"==f?"bottom":"top",r.y*=-1),n=this.renderer.measureText(s,p,{"class":o["class"]}),g)return n;var v=0,w=0;t>0&&(""==e||"center"==e?v+=(t-n.width)/2:"right"==e&&(v+=t-n.width)),u>0&&(""==f||"center"==f?w+=(u-n.height)/2:"bottom"==f&&(w+=u-n.height)),v+=d.x+r.x,w+=d.y+r.y;var x=this._plotRect;v<=x.x&&(v=x.x+2),w<=x.y&&(w=x.y+2);var y={width:Math.max(n.width,1),height:Math.max(n.height,1)};w+y.height>=x.y+x.height&&(w=x.y+x.height-(l?(y.height+l.height)/2:y.height)-2),v+y.width>=x.x+x.width&&(v=x.x+x.width-y.width-2);var z,A=o.backgroundColor,B=o.borderColor,C=o.padding;if(A||B){z=this.renderer.beginGroup();var d=this.renderer.rect(v-C.left,w-C.top,n.width+C.left+C.right,n.height+C.bottom+C.bottom,{fill:A||"transparent","fill-opacity":o.backgroundOpacity||1,stroke:B||"transparent","stroke-opacity":o.borderOpacity,"stroke-width":1})}var D=this.renderer.text(s,v,w,n.width,n.height,p,{"class":o["class"],opacity:o.opacity||1},!1,"center","center");return k&&(k.x=v-C.left,k.y=w-C.top,k.width=n.width+C.left+C.right,k.height=n.height+C.bottom+C.bottom),this._isVML&&(this.renderer.removeElement(D),this.renderer.getContainer()[0].appendChild(D)),z&&this.renderer.endGroup(),z||D}},_getAnimProps:function(a,b){var c=this.seriesGroups[a],d=isNaN(b)?void 0:c.series[b],e=1==this.enableAnimations;c.enableAnimations&&(e=1==c.enableAnimations),d&&d.enableAnimations&&(e=1==d.enableAnimations);var f=this.animationDuration;isNaN(f)&&(f=1e3);var g=c.animationDuration;if(isNaN(g)||(f=g),d){var h=d.animationDuration;isNaN(h)||(f=h)}return f>5e3&&(f=1e3),{enabled:e,duration:f}},_isColorTransition:function(a,b,c,d){if(d-1<c.xoffsets.first)return!1;var e=this._getColors(a,b,d,this._getGroupGradientType(a)),f=this._getColors(a,b,d-1,this._getGroupGradientType(a));return e.fillColor!=f.fillColor},_renderLineSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=d.type.indexOf("area")!=-1,f=d.type.indexOf("stacked")!=-1,g=f&&d.type.indexOf("100")!=-1,h=d.type.indexOf("spline")!=-1,i=d.type.indexOf("step")!=-1,j=d.type.indexOf("range")!=-1,k=1==d.polar||1==d.spider;if(k&&(i=!1),!i||!h){var l=this._getDataLen(b),m=(c.width/l,"horizontal"==d.orientation),n=1==this._getXAxis(b).flip,o=c;m&&(o={x:c.y,y:c.x,width:c.height,height:c.width});var p=this._calcGroupOffsets(b,o);if(p&&0!=p.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[b]={};for(var q=d.series.length-1;q>=0;q--){var r=this._getSerieSettings(b,q),s={groupIndex:b,rect:o,serieIndex:q,swapXY:m,isArea:e,isSpline:h,isRange:j,isPolar:k,settings:r,segments:[],pointsLength:0},t=this._isSerieVisible(b,q);if(t){var u=d.series[q];if(!u.customDraw){var v,w=a.isFunction(u.colorFunction),x=p.xoffsets.first,y=x,z=this._getColors(b,q,NaN,this._getGroupGradientType(b));do{var A=[],B=[],C=[],D=0,E=0,F=NaN,G=NaN,H=NaN;if(!(p.xoffsets.length<1)){var I=this._getAnimProps(b,q),J=I.enabled&&!this._isToggleRefresh&&p.xoffsets.length<1e4&&1!=this._isVML?I.duration:0,K=x;v=!1;for(var L=(this._getColors(b,q,x,this._getGroupGradientType(b)),void 0),M=x;M<=p.xoffsets.last;M++){x=M;var N=p.xoffsets.data[M],O=p.xoffsets.xvalues[M];if(!(isNaN(N)||(N=Math.max(N,1),D=N,E=p.offsets[q][M].to,!w&&L&&this.enableSampling&&a.jqx._ptdist(L.x,L.y,D,E)<1))){L={x:D,y:E};var P=p.offsets[q][M].from;if(isNaN(E)||isNaN(P)){if("connect"==u.emptyPointsDisplay)continue;if("zero"!=u.emptyPointsDisplay){v=!0;break}isNaN(E)&&(E=p.baseOffset),isNaN(P)&&(P=p.baseOffset)}if(w&&this._isColorTransition(b,q,p,x)&&A.length>1){x--;break}var Q=this._elementRenderInfo;if(Q&&Q.length>b&&Q[b].series.length>q){var R=Q[b].series[q][O],H=a.jqx._ptrnd(R?R.to:void 0),S=a.jqx._ptrnd(o.x+(R?R.xoffset:void 0));C.push(m?{y:S,x:H,index:M}:{x:S,y:H,index:M})}y=M,r.stroke<2&&(E-o.y<=1&&(E=o.y+1),P-o.y<=1&&(P=o.y+1),o.y+o.height-E<=1&&(E=o.y+o.height-1),o.y+o.height-P<=1&&(P=o.y+o.height-1)),!e&&g&&(E<=o.y&&(E=o.y+1),E>=o.y+o.height&&(E=o.y+o.height-1),P<=o.y&&(P=o.y+1),P>=o.y+o.height&&(P=o.y+o.height-1)),N=Math.max(N,1),D=N+o.x,1==d.skipOverlappingPoints&&!isNaN(F)&&Math.abs(F-D)<=1||(!i||isNaN(F)||isNaN(G)||G!=E&&A.push(m?{y:D,x:a.jqx._ptrnd(G)}:{x:D,y:a.jqx._ptrnd(G)}),A.push(m?{y:D,x:a.jqx._ptrnd(E),index:M}:{x:D,y:a.jqx._ptrnd(E),index:M}),B.push(m?{y:D,x:a.jqx._ptrnd(P),index:M}:{x:D,y:a.jqx._ptrnd(P),index:M}),F=D,G=E,isNaN(H)&&(H=E))}}if(0!=A.length){var T=A[A.length-1].index;w&&(z=this._getColors(b,q,T,this._getGroupGradientType(b)));var U=o.x+p.xoffsets.data[K],V=o.x+p.xoffsets.data[y];if(e&&1==d.alignEndPointsWithIntervals){if(U>o.x&&(U=o.x),V<o.x+o.width&&(V=o.x+o.width),n){var W=U;U=V,V=W}}V=a.jqx._ptrnd(V),U=a.jqx._ptrnd(U);var X=p.baseOffset;H=a.jqx._ptrnd(H);var Y=a.jqx._ptrnd(E)||X;j&&(A=A.concat(B.reverse())),s.pointsLength+=A.length;var Z={lastItemIndex:T,colorSettings:z,pointsArray:A,pointsStart:C,left:U,right:V,pyStart:H,pyEnd:Y,yBase:X,labelElements:[],symbolElements:[]};s.segments.push(Z)}else x++}}while(x<p.xoffsets.first+p.xoffsets.length-1||v);this._linesRenderInfo[b][q]=s}}else this._linesRenderInfo[b][q]=s}var $=this._linesRenderInfo[b],_=[];for(var M in $)_.push($[M]);_=_.sort(function(a,b){return a.serieIndex-b.serieIndex}),e&&f&&_.reverse();for(var M=0;M<_.length;M++){var s=_[M];this._animateLine(s,0==J?1:0);var aa=this;this._enqueueAnimation("series",void 0,void 0,J,function(a,b,c){aa._animateLine(b,c)},s)}}}}},_animateLine:function(a,b){var c=a.settings,d=a.groupIndex,e=a.serieIndex,f=this.seriesGroups[d],g=f.series[e],h=this._getSymbol(d,e),i=this._getLabelsSettings(d,e,NaN,["Visible"]).visible,j=!0;a.isPolar&&(isNaN(f.endAngle)||360==Math.round(Math.abs((isNaN(f.startAngle)?0:f.startAngle)-f.endAngle))||(j=!1));for(var k=0,l=0;l<a.segments.length;l++){var m=a.segments[l],n=this._calculateLine(d,a.pointsLength,k,m.pointsArray,m.pointsStart,m.yBase,b,a.isArea,a.swapXY);if(k+=m.pointsArray.length,""!=n){var o=n.split(" "),p=(o.length,n);p=""!=p?this._buildLineCmd(n,a.isRange,m.left,m.right,m.pyStart,m.pyEnd,m.yBase,a.isArea,a.isPolar,j,a.isSpline,a.swapXY):"M 0 0";var q=m.colorSettings;if(m.pathElement?this.renderer.attr(m.pathElement,{d:p}):(m.pathElement=this.renderer.path(p,{"stroke-width":c.stroke,stroke:q.lineColor,"stroke-opacity":c.opacity,"fill-opacity":c.opacity,"stroke-dasharray":c.dashStyle,fill:a.isArea?q.fillColor:"none"}),this._installHandlers(m.pathElement,"path",d,e,m.lastItemIndex)),m.labelElements){for(var r=0;r<m.labelElements.length;r++)this.renderer.removeElement(m.labelElements[r]);m.labelElements=[]}if(m.symbolElements){for(var r=0;r<m.symbolElements.length;r++)this.renderer.removeElement(m.symbolElements[r]);m.symbolElements=[]}if(m.pointsArray.length==o.length&&("none"!=h||i))for(var s=g.symbolSize,t=this._plotRect,r=0;r<o.length;r++){var u=o[r].split(",");if(u={x:parseFloat(u[0]),y:parseFloat(u[1])},!(u.x<t.x||u.x>t.x+t.width||u.y<t.y||u.y>t.y+t.height)){if("none"!=h){var v=this._getColors(d,e,m.pointsArray[r].index,this._getGroupGradientType(d)),w=this._drawSymbol(h,u.x,u.y,v.fillColorSymbol,c.opacity,v.lineColorSymbol,c.opacity,c.strokeSymbol,void 0,s);
m.symbolElements.push(w)}if(i){var x=(r>0?o[r-1]:o[r]).split(",");x={x:parseFloat(x[0]),y:parseFloat(x[1])};var y=(r<o.length-1?o[r+1]:o[r]).split(",");if(y={x:parseFloat(y[0]),y:parseFloat(y[1])},u=this._adjustLineLabelPosition(d,e,m.pointsArray[r].index,u,x,y)){var z=this._showLabel(d,e,m.pointsArray[r].index,{x:u.x,y:u.y,width:0,height:0});m.labelElements.push(z)}}}}if(1==b&&"none"!=h)for(var r=0;r<m.symbolElements.length;r++)isNaN(m.pointsArray[r].index)||this._installHandlers(m.symbolElements[r],"symbol",d,e,m.pointsArray[r].index)}}},_adjustLineLabelPosition:function(a,b,c,d,e,f){var g=this._showLabel(a,b,c,{width:0,height:0},"","",!0);if(g){var h={x:d.x-g.width/2,y:0};return h.y=d.y-1.5*g.height,h}},_calculateLine:function(b,c,d,e,f,g,h,i,j){var k,l=this.seriesGroups[b];1!=l.polar&&1!=l.spider||(k=this._getPolarAxisCoords(b,this._plotRect));var m="",n=e.length;if(!i&&0==f.length){var o=c*h;n=o-d}for(var p=NaN,q=0;q<n+1&&q<e.length;q++){q>0&&(m+=" ");var r=e[q].y,s=e[q].x,t=i?g:r,u=s;if(f&&f.length>q&&(t=f[q].y,u=f[q].x,(isNaN(t)||isNaN(u))&&(t=r,u=s)),p=u,n<=e.length&&q>0&&q==n&&(u=e[q-1].x,t=e[q-1].y),j?(s=a.jqx._ptrnd((s-t)*(i?h:1)+t),r=a.jqx._ptrnd(r)):(s=a.jqx._ptrnd((s-u)*h+u),r=a.jqx._ptrnd((r-t)*h+t)),k){var v=this._toPolarCoord(k,this._plotRect,s,r);s=v.x,r=v.y}m+=s+","+r}return m},_buildLineCmd:function(a,b,c,d,e,f,g,h,i,j,k,l){var m=a,n=l?g+","+c:c+","+g,o=l?g+","+d:d+","+g;!h||i||b||(m=n+" "+a+" "+o),k&&(m=this._getBezierPoints(m));var p=m.split(" ");if(0==p.length)return"";if(1==p.length){var q=p[0].split(",");return"M "+p[0]+" L"+(parseFloat(q[0])+1)+","+(parseFloat(q[1])+1)}var r=p[0].replace("M","");return h&&!i?m=b?"M "+r+" L "+r+(k?"":" L "+r+" ")+m:"M "+n+" L "+r+" "+m:k||(m="M "+r+" L "+r+" "+m),(i&&j||b)&&(m+=" Z"),m},_getSerieSettings:function(a,b){var c=this.seriesGroups[a],d=c.type.indexOf("area")!=-1,e=c.type.indexOf("line")!=-1,f=c.series[b],g=f.dashStyle||c.dashStyle||"",h=f.opacity||c.opacity;(isNaN(h)||h<0||h>1)&&(h=1);var i=f.lineWidth;isNaN(i)&&"auto"!=i&&(i=c.lineWidth),("auto"==i||isNaN(i)||i<0||i>15)&&(i=d?2:e?3:1);var j=f.lineWidthSymbol;return isNaN(j)&&(j=1),{stroke:i,strokeSymbol:j,opacity:h,dashStyle:g}},_getColors:function(b,c,d,e,f){var g=this.seriesGroups[b],h=g.series[c],i=this._get([h.useGradientColors,g.useGradientColors,g.useGradient,!0]),j=this._getSeriesColors(b,c,d);j.fillColor||(j.fillColor=t,j.fillColorSelected=a.jqx.adjustColor(t,1.1),j.fillColorAlt=a.jqx.adjustColor(t,4),j.fillColorAltSelected=a.jqx.adjustColor(t,3),j.lineColor=j.symbolColor=a.jqx.adjustColor(t,.9),j.lineColorSelected=j.symbolColorSelected=a.jqx.adjustColor(t,.9));var k=[[0,1.4],[100,1]],l=[[0,1],[25,1.1],[50,1.4],[100,1]],m=[[0,1.3],[90,1.2],[100,1]],n=NaN;if(isNaN(f)||(n=2==f?k:l),i){var o={};for(var p in j)o[p]=j[p];if(j=o,"verticalLinearGradient"==e||"horizontalLinearGradient"==e){var q="verticalLinearGradient"==e?n||k:n||l,r=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var s in r){var t=j[r[s]];t&&(j[r[s]]=this.renderer._toLinearGradient(t,"verticalLinearGradient"==e,q))}}else if("radialGradient"==e){var u,n=k;("pie"==g.type||"donut"==g.type||g.polar)&&void 0!=d&&this._renderData[b]&&this._renderData[b].offsets[c]&&(u=this._renderData[b].offsets[c][d],n=m),j.fillColor=this.renderer._toRadialGradient(j.fillColor,n,u),j.fillColorSelected=this.renderer._toRadialGradient(j.fillColorSelected,n,u)}}return j},_installHandlers:function(a,b,c,d,e){if(!this.enableEvents)return!1;var f=this,g=this.seriesGroups[c],h=this.seriesGroups[c].series[d],i=g.type.indexOf("line")!=-1||g.type.indexOf("area")!=-1;i||0==g.enableSelection||0==h.enableSelection||(this.renderer.addHandler(a,"mousemove",function(a){var b=f._selected;if(!b||!b.isLineType||"click"!=b.linesUnselectMode||b.group==c&&b.series==d){var g=a.pageX||a.clientX||a.screenX,h=a.pageY||a.clientY||a.screenY,i=f.host.offset();g-=i.left,h-=i.top,f._mouseX==g&&f._mouseY==h||f._ttEl&&f._ttEl.gidx==c&&f._ttEl.sidx==d&&f._ttEl.iidx==e||f._startTooltipTimer(c,d,e)}}),this.renderer.addHandler(a,"mouseout",function(a){return})),0!=g.enableSelection&&0!=h.enableSelection&&this.renderer.addHandler(a,"mouseover",function(g){var h=f._selected;h&&h.isLineType&&"click"==h.linesUnselectMode&&(h.group!=c||h.series!=d)||f._select(a,b,c,d,e,e)}),this.renderer.addHandler(a,"click",function(a){clearTimeout(f._hostClickTimer),f._lastClickTs=(new Date).valueOf(),i&&"symbol"!=b&&"pointMarker"!=b||(f._isColumnType(g.type)&&f._unselect(),isNaN(e)||(a.stopImmediatePropagation(),f._raiseItemEvent("click",g,h,e)))})},_getHorizontalOffset:function(b,c,d,e){var f=this._plotRect,g=this._getDataLen(b);if(0==g)return{index:void 0,value:d};var h=this._calcGroupOffsets(b,this._plotRect);if(0==h.xoffsets.length)return{index:void 0,value:void 0};var i,j=d,k=e,l=this.seriesGroups[b];(l.polar||l.spider)&&(i=this._getPolarAxisCoords(b,f));for(var m,n,o,p,q=(1==this._getXAxis(b).flip,h.xoffsets.first);q<=h.xoffsets.last;q++){var r=h.xoffsets.data[q],s=h.offsets[c][q].to,t=0;if(i){var u=this._toPolarCoord(i,f,r+f.x,s);r=u.x,s=u.y,t=a.jqx._ptdist(j,k,r,s)}else if("horizontal"==l.orientation){r+=f.y;var v=s;s=r,r=v,t=a.jqx._ptdist(j,k,r,s)}else r+=f.x,t=Math.abs(j-r);(isNaN(m)||m>t)&&(m=t,n=q,o=r,p=s)}return{index:n,value:h.xoffsets.data[n],polarAxisCoords:i,x:o,y:p}},onmousemove:function(b,c){if((this._mouseX!=b||this._mouseY!=c)&&(this._mouseX=b,this._mouseY=c,this._selected)){var d=this._selected.group,e=this._selected.series,f=this.seriesGroups[d],g=f.series[e],h=this._plotRect;if(this.renderer&&(h=this.renderer.getRect(),h.x+=5,h.y+=5,h.width-=10,h.height-=10),b<h.x||b>h.x+h.width||c<h.y||c>h.y+h.height)return this._hideToolTip(),void this._unselect();var i="horizontal"==f.orientation,h=this._plotRect;if(f.type.indexOf("line")!=-1||f.type.indexOf("area")!=-1){var j=this._getHorizontalOffset(d,this._selected.series,b,c),k=j.index;if(void 0==k)return;if(this._selected.item!=k){for(var l=this._linesRenderInfo[d][e].segments,m=0;k>l[m].lastItemIndex;)if(m++,m>=l.length)return;var n=l[m].pathElement,o=l[m].lastItemIndex;this._unselect(!1),this._select(n,"path",d,e,k,o)}var p=this._getSymbol(this._selected.group,this._selected.series);"none"==p&&(p="circle");var q=this._calcGroupOffsets(d,h),r=q.offsets[this._selected.series][k].to,s=r;f.type.indexOf("range")!=-1&&(s=q.offsets[this._selected.series][k].from);var t=i?b:c;if(c=!isNaN(s)&&Math.abs(t-s)<Math.abs(t-r)?s:r,isNaN(c))return;if(b=j.value,i){var u=b;b=c,c=u+h.y}else b+=h.x;if(j.polarAxisCoords&&(b=j.x,c=j.y),c=a.jqx._ptrnd(c),b=a.jqx._ptrnd(b),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(b)||isNaN(c))return;var v=this._getSeriesColors(d,e,k),w=this._getSerieSettings(d,e),x=g.symbolSizeSelected;isNaN(x)&&(x=g.symbolSize),(isNaN(x)||x>50||x<0)&&(x=f.symbolSize),(isNaN(x)||x>50||x<0)&&(x=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:p,x:b,y:c,gidx:d,sidx:e,iidx:k},this._pointMarker.element=this._drawSymbol(p,b,c,v.fillColorSymbolSelected,w.opacity,v.lineColorSymbolSelected,w.opacity,w.strokeSymbol,w.dashStyle,x),this._installHandlers(this._pointMarker.element,"pointMarker",d,e,k)),this._startTooltipTimer(d,this._selected.series,k)}}},_drawSymbol:function(a,b,c,d,e,f,g,h,i,j){var k,l=j||6,m=l/2;switch(a){case"none":return;case"circle":k=this.renderer.circle(b,c,l/2);break;case"square":l-=1,m=l/2,k=this.renderer.rect(b-m,c-m,l,l);break;case"diamond":var n="M "+(b-m)+","+c+" L"+b+","+(c-m)+" L"+(b+m)+","+c+" L"+b+","+(c+m)+" Z";k=this.renderer.path(n);break;case"triangle_up":case"triangle":var n="M "+(b-m)+","+(c+m)+" L "+(b+m)+","+(c+m)+" L "+b+","+(c-m)+" Z";k=this.renderer.path(n);break;case"triangle_down":var n="M "+(b-m)+","+(c-m)+" L "+b+","+(c+m)+" L "+(b+m)+","+(c-m)+" Z";k=this.renderer.path(n);break;case"triangle_left":var n="M "+(b-m)+","+c+" L "+(b+m)+","+(c+m)+" L "+(b+m)+","+(c-m)+" Z";k=this.renderer.path(n);break;case"triangle_right":var n="M "+(b-m)+","+(c-m)+" L "+(b-m)+","+(c+m)+" L "+(b+m)+","+c+" Z";k=this.renderer.path(n);break;default:k=this.renderer.circle(b,c,l)}return this.renderer.attr(k,{fill:d,"fill-opacity":e,stroke:f,"stroke-width":h,"stroke-opacity":g,"stroke-dasharray":i||""}),"circle"!=a&&(this.renderer.attr(k,{r:l/2}),"square"!=a&&this.renderer.attr(k,{x:b,y:c})),k},_getSymbol:function(a,b){var c,d=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],e=this.seriesGroups[a],f=e.series[b];return void 0!=f.symbolType&&(c=f.symbolType),void 0==c&&(c=e.symbolType),"default"==c?d[b%d.length]:void 0!=c?c:"none"},_startTooltipTimer:function(a,b,c,d,e,f,g){this._cancelTooltipTimer();var h=this,i=(h.seriesGroups[a],this.toolTipShowDelay||this.toolTipDelay);(isNaN(i)||i>1e4||i<0)&&(i=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(i=0),isNaN(f)||(i=f),clearTimeout(this._tttimerHide),isNaN(d)&&(d=h._mouseX),isNaN(e)&&(e=h._mouseY-3),0==i&&h._showToolTip(d,e,a,b,c),this._tttimer=setTimeout(function(){0!=i&&h._showToolTip(d,e,a,b,c);var f=h.toolTipHideDelay;isNaN(g)||(f=g),isNaN(f)&&(f=4e3),h._tttimerHide=setTimeout(function(){h._hideToolTip(),h._unselect()},f)},i)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(a){var b=this.seriesGroups[a];return b.type.indexOf("area")!=-1?"horizontal"==b.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(b.type)||b.type.indexOf("candle")!=-1?b.polar?"radialGradient":"horizontal"==b.orientation?"verticalLinearGradient":"horizontalLinearGradient":b.type.indexOf("scatter")!=-1||b.type.indexOf("bubble")!=-1||this._isPieGroup(a)?"radialGradient":void 0},_select:function(a,b,c,d,e,f){if(this._selected){if(this._selected.item==e&&this._selected.series==d&&this._selected.group==c)return;this._unselect()}var g=this.seriesGroups[c],h=g.series[d];if(0!=g.enableSelection&&0!=h.enableSelection){var i=g.type.indexOf("line")!=-1&&g.type.indexOf("area")==-1;this._selected={element:a,type:b,group:c,series:d,item:e,iidxBase:f,isLineType:i,linesUnselectMode:h.linesUnselectMode||g.linesUnselectMode};var j=this._getColors(c,d,f||e,this._getGroupGradientType(c)),k=j.fillColorSelected;i&&(k="none");var l=this._getSerieSettings(c,d),m="symbol"==b?j.lineColorSymbolSelected:j.lineColorSelected;k="symbol"==b?j.fillColorSymbolSelected:k;var n="symbol"==b?1:l.stroke;this.renderer.getAttr(a,"fill")==j.fillColorAlt&&(k=j.fillColorAltSelected),this.renderer.attr(a,{stroke:m,fill:k,"stroke-width":n}),g.type.indexOf("pie")==-1&&g.type.indexOf("donut")==-1||this._applyPieSelect(),this._raiseItemEvent("mouseover",g,h,e)}},_applyPieSelect:function(){var a=this;a._createAnimationGroup("animPieSlice");var b=this._selected;if(b){var c=this.getItemCoord(b.group,b.series,b.item);if(c){var d=this._getRenderInfo(b.group,b.series,b.item),e={element:d,coord:c};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(c,d,e){var f=d.coord,g=f.selectedRadiusChange*e,h=a.renderer.pieSlicePath(f.center.x,f.center.y,0==f.innerRadius?0:f.innerRadius+g,f.outerRadius+g,f.fromAngle,f.toAngle,f.centerOffset);a.renderer.attr(d.element.element,{d:h}),a._showPieLabel(b.group,b.series,b.item,void 0,g)},e),a._startAnimation("animPieSlice")}}},_applyPieUnselect:function(){this._stopAnimations();var a=this._selected;if(a){var b=this.getItemCoord(a.group,a.series,a.item);if(b&&b.center){var c=this.renderer.pieSlicePath(b.center.x,b.center.y,b.innerRadius,b.outerRadius,b.fromAngle,b.toAngle,b.centerOffset);this.renderer.attr(a.element,{d:c}),this._showPieLabel(a.group,a.series,a.item,void 0,0)}}},_unselect:function(){var a=this;if(a._selected){var b=a._selected.group,c=a._selected.series,d=a._selected.item,e=a._selected.iidxBase,f=a._selected.type,g=a.seriesGroups[b],h=g.series[c],i=g.type.indexOf("line")!=-1&&g.type.indexOf("area")==-1,j=a._getColors(b,c,e||d,a._getGroupGradientType(b)),k=j.fillColor;i&&(k="none");var l=a._getSerieSettings(b,c),m="symbol"==f?j.lineColorSymbol:j.lineColor;k="symbol"==f?j.fillColorSymbol:k,this.renderer.getAttr(a._selected.element,"fill")==j.fillColorAltSelected&&(k=j.fillColorAlt);var n="symbol"==f?1:l.stroke;a.renderer.attr(a._selected.element,{stroke:m,fill:k,"stroke-width":n}),g.type.indexOf("pie")==-1&&g.type.indexOf("donut")==-1||this._applyPieUnselect(),a._selected=void 0,isNaN(d)||a._raiseItemEvent("mouseout",g,h,d)}a._pointMarker&&(a._pointMarker.element&&(a.renderer.removeElement(a._pointMarker.element),a._pointMarker.element=void 0),a._pointMarker=void 0,a._hideCrosshairs())},_raiseItemEvent:function(b,c,d,e){for(var f=d[b]||c[b],g=0;g<this.seriesGroups.length&&this.seriesGroups[g]!=c;g++);if(g!=this.seriesGroups.length){var h={event:b,seriesGroup:c,serie:d,elementIndex:e,elementValue:this._getDataValue(e,d.dataField,g)};f&&a.isFunction(f)&&f(h),this._raiseEvent(b,h)}},_raiseEvent:function(b,c){var d=new a.Event(b);d.owner=this,c.event=b,d.args=c;var e=this.host.trigger(d);return e},_calcInterval:function(a,b,c){var d=Math.abs(b-a),e=d/c,f=[1,2,3,4,5,10,15,20,25,50,100],g=[.5,.25,.125,.1],h=.1,i=f;e<1&&(i=g,h=10);var j=0;do{j=0,e>=1?h*=10:h/=10;for(var k=1;k<i.length&&Math.abs(i[j]*h-e)>Math.abs(i[k]*h-e);k++)j=k}while(j==i.length-1);return i[j]*h},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var a=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var b=0;b<this._renderData.length;b++){for(this._getXAxis(b).dataField;a.length<=b;)a.push({});var c=a[b],d=this._renderData[b];if(d.offsets){if(d.valueAxis){c.valueAxis={itemOffsets:{}};for(var e in d.valueAxis.itemOffsets)c.valueAxis.itemOffsets[e]=d.valueAxis.itemOffsets[e]}if(d.xAxis){c.xAxis={itemOffsets:{}};for(var e in d.xAxis.itemOffsets)c.xAxis.itemOffsets[e]=d.xAxis.itemOffsets[e]}c.series=[];for(var f=c.series,g=this._isPieGroup(b),h=0;h<d.offsets.length;h++){f.push({});for(var i=0;i<d.offsets[h].length;i++)if(g){var j=d.offsets[h][i];f[h][j.displayValue]={value:j.value,x:j.x,y:j.y,fromAngle:j.fromAngle,toAngle:j.toAngle}}else f[h][d.xoffsets.xvalues[i]]={value:d.offsets[h][i].value,valueRadius:d.offsets[h][i].valueRadius,xoffset:d.xoffsets.data[i],from:d.offsets[h][i].from,to:d.offsets[h][i].to}}}}}},getPolarDataPointOffset:function(a,b,c){var d=this._renderData[c];if(!d)return{x:NaN,y:NaN};var e=this.getValueAxisDataPointOffset(b,c),f=this.getXAxisDataPointOffset(a,c),g=this._toPolarCoord(d.polarCoords,d.xAxis.rect,f,e);return{x:g.x,y:g.y}},_getDataPointOffsetDiff:function(a,b,c,d,e,f,g){var h=this._getDataPointOffset(a,c,d,e,f,g),i=this._getDataPointOffset(b,c,d,e,f,g);return Math.abs(h-i)},_getXAxisRenderData:function(a){if(!(a>=this._renderData.length)){var b=this.seriesGroups[a],c=this._renderData[a].xAxis;if(c){if(void 0==b.xAxis){for(var d=0;d<=a&&void 0!=this.seriesGroups[d].xAxis;d++);c=this._renderData[d].xAxis}return c}}},getXAxisDataPointOffset:function(a,b){var c=this.seriesGroups[b];if(isNaN(a))return NaN;if(renderData=this._getXAxisRenderData(b),!renderData)return NaN;var d=renderData.data.axisStats,e=d.min.valueOf(),f=d.max.valueOf(),g=f-e;if(0==g&&(g=1),a.valueOf()>f||a.valueOf()<e)return NaN;var h=this._getXAxis(b),i="horizontal"==c.orientation?"height":"width",j="horizontal"==c.orientation?"y":"x",k=(a.valueOf()-e)/g,l=renderData.rect[i]-renderData.data.padding.left-renderData.data.padding.right;if(c.polar||c.spider){var m=this._renderData[b].polarCoords;m.isClosedCircle&&(l=renderData.data.axisSize)}return this._plotRect[j]+renderData.data.padding.left+l*(h.flip?1-k:k)},getValueAxisDataPointOffset:function(a,b){var c=this._getValueAxis(b);if(!c)return NaN;var d=this._renderData[b];if(!d)return NaN;var e=1==c.flip,f=d.logBase,g=d.scale,h=d.gbase,i=d.baseOffset;return this._getDataPointOffset(a,h,f,g,i,e)},_getDataPointOffset:function(b,c,d,e,f,g){var h;return isNaN(b)&&(b=c),h=isNaN(d)?(b-c)*e:(a.jqx.log(b,d)-a.jqx.log(c,d))*e,this._isVML&&(h=Math.round(h)),h=g?f+h:f-h},_calcGroupOffsets:function(b,c){for(var d=this.seriesGroups[b];this._renderData.length<b+1;)this._renderData.push({});if(null!=this._renderData[b]&&void 0!=this._renderData[b].offsets)return this._renderData[b];if(this._isPieGroup(b))return this._calcPieSeriesGroupOffsets(b,c);var e=this._getValueAxis(b);if(!e||!d.series||0==d.series.length)return this._renderData[b];var f=1==e.flip,g=1==e.logarithmicScale,h=e.logarithmicScaleBase||10,i=[],j=d.type.indexOf("stacked")!=-1,k=j&&d.type.indexOf("100")!=-1,l=d.type.indexOf("range")!=-1,m=this._isColumnType(d.type),n=d.type.indexOf("waterfall")!=-1,o=this._getDataLen(b),p=d.baselineValue||e.baselineValue||0;k&&(p=0);var q=this._stats.seriesGroups[b];if(q&&q.isValid){var r=q.hasStackValueReversal;if(r&&(p=0),n&&j){if(r)return;p=q.base}p>q.max&&(p=q.max),p<q.min&&(p=q.min);var s=k||g?q.maxRange:q.max-q.min,t=q.min,u=q.max,v=c.height/(g?q.intervals:s),w=0;k?t*u<0?(s/=2,w=-(s+p)*v):w=-p*v:w=-(p-t)*v,f?w=c.y-w:w+=c.y+c.height;var x,y,z=[],A=[],B=[];g&&(x=a.jqx.log(u,h)-a.jqx.log(p,h),j&&(x=q.intervals,p=k?0:t),y=q.intervals-x,f||(w=c.y+x/q.intervals*c.height)),w=a.jqx._ptrnd(w);var C=t*u<0?c.height/2:c.height,D=[],E=[],F=j&&(m||g),G=[];i=new Array(d.series.length);for(var H=0;H<d.series.length;H++)i[H]=new Array(o);for(var I=0;I<o;I++){!n&&j&&(E=[]);for(var H=0;H<d.series.length;H++){!j&&g&&(D=[]);var J=d.series[H],K=J.dataField,L=J.dataFieldFrom,M=J.dataFieldTo,N=J.radiusDataField||J.sizeDataField;i[H][I]={};var O=this._isSerieVisible(b,H);if(d.type.indexOf("candle")==-1&&d.type.indexOf("ohlc")==-1){if(j)for(;E.length<=I;)E.push(0);var P=NaN;l&&(P=this._getDataValueAsNumber(I,L,b),isNaN(P)&&(P=p));var Q=NaN;Q=l?this._getDataValueAsNumber(I,M,b):this._getDataValueAsNumber(I,K,b);var R=this._getDataValueAsNumber(I,N,b);if(j&&(E[I]+=O?Q:0),O||(Q=NaN),isNaN(Q)||g&&Q<=0)i[H][I]={from:void 0,to:void 0};else{var S;j&&(F?S=Q>=p?z:A:Q=E[I]);var T=v*(Q-p);if(l&&(T=v*(Q-P)),j&&F&&(G[I]?T=v*Q:(G[I]=!0,T=v*(Q-p))),g){for(;D.length<=I;)D.push({p:{value:0,height:0},n:{value:0,height:0}});var U=l||l?P:p,V=Q>U?D[I].p:D[I].n;V.value+=Q,k?(Q=V.value/(q.psums[I]+q.nsums[I])*100,T=(a.jqx.log(Q,h)-q.minPow)*v):(T=a.jqx.log(V.value,h)-a.jqx.log(U,h),T*=v),T-=V.height,V.height+=T}var W=w;if(l){var X=0;X=g?(a.jqx.log(P,h)-a.jqx.log(p,h))*v:(P-p)*v,W+=f?X:-X}if(j){if(k&&!g){var Y=q.psums[I]-q.nsums[I];Q>p?(T=q.psums[I]/Y*C,0!=q.psums[I]&&(T*=Q/q.psums[I])):(T=q.nsums[I]/Y*C,0!=q.nsums[I]&&(T*=Q/q.nsums[I]))}F&&(isNaN(S[I])&&(S[I]=W),W=S[I])}isNaN(B[I])&&(B[I]=0);var Z=B[I];T=Math.abs(T);var $=T;if(T>=1&&(h_new=this._isVML?Math.round(T):a.jqx._ptrnd(T)-1,T=Math.abs(T-h_new)>.5?Math.round(T):h_new),Z+=T-$,j||(Z=0),Math.abs(Z)>.5&&(Z>0?(T-=1,Z-=1):(T+=1,Z+=1)),B[I]=Z,H==d.series.length-1&&k){for(var _=0,aa=0;aa<H;aa++)_+=Math.abs(i[aa][I].to-i[aa][I].from);if(_+=T,_<C)if(T>.5)T=a.jqx._ptrnd(T+C-_);else for(var aa=H-1;aa>=0;){var ba=Math.abs(i[aa][I].to-i[aa][I].from);if(ba>1){i[aa][I].from>i[aa][I].to&&(i[aa][I].from+=C-_);break}aa--}}f&&(T*=-1);var ca=Q<p;l&&(ca=P>Q);var da=isNaN(P)?Q:{from:P,to:Q};ca?(F&&(S[I]+=T),i[H][I]={from:W,to:W+T,value:da,valueRadius:R}):(F&&(S[I]-=T),i[H][I]={from:W,to:W-T,value:da,valueRadius:R})}}else{var ea=["Open","Close","High","Low"];for(var fa in ea){var ga="dataField"+ea[fa];J[ga]&&(i[H][I][ea[fa]]=this._getDataPointOffset(this._getDataValueAsNumber(I,J[ga],b),p,g?h:NaN,v,w,f))}}}}var ha=this._renderData[b];return ha.baseOffset=w,ha.gbase=p,ha.logBase=g?h:NaN,ha.scale=v,ha.offsets=n?this._applyWaterfall(i,o,b,w,p,g?h:NaN,v,f,j):i,ha.xoffsets=this._calculateXOffsets(b,c.width),this._renderData[b]}},_isPercent:function(a){return"string"==typeof a&&a.length>0&&a.indexOf("%")==a.length-1},_calcPieSeriesGroupOffsets:function(b,c){for(var d=this,e=this._getDataLen(b),f=this.seriesGroups[b],g=this._renderData[b]={},h=g.offsets=[],i=0;i<f.series.length;i++){var j=f.series[i],k=this._get([j.minAngle,j.startAngle]);(isNaN(k)||k<0||k>360)&&(k=0);var l=this._get([j.maxAngle,j.endAngle]);(isNaN(l)||l<0||l>360)&&(l=360);var m=l-k,n=j.initialAngle||0;n<k&&(n=k),n>l&&(n=l);var o=j.centerOffset||0,p=a.jqx.getNum([j.offsetX,f.offsetX,c.width/2]),q=a.jqx.getNum([j.offsetY,f.offsetY,c.height/2]),r=Math.min(c.width,c.height)/2,s=n,t=j.radius;d._isPercent(t)&&(t=parseFloat(t)/100*r),isNaN(t)&&(t=.4*r);var u=j.innerRadius;d._isPercent(u)&&(u=parseFloat(u)/100*r),(isNaN(u)||u>=t)&&(u=0);var v=j.selectedRadiusChange;d._isPercent(v)&&(v=parseFloat(v)/100*(t-u)),isNaN(v)&&(v=.1*(t-u)),h.push([]);for(var w=0,x=0,y=0;y<e;y++){var z=this._getDataValueAsNumber(y,j.dataField,b);isNaN(z)||(this._isSerieVisible(b,i,y)||1==j.hiddenPointsDisplay)&&(z>0?w+=z:x+=z)}var A=w-x;0==A&&(A=1);for(var y=0;y<e;y++){var z=this._getDataValueAsNumber(y,j.dataField,b);if(isNaN(z))h[i].push({});else{var B=j.displayText||j.displayField,C=this._getDataValue(y,B,b);void 0==C&&(C=y);var D=0,E=this._isSerieVisible(b,i,y);(E||1==j.hiddenPointsDisplay)&&(D=Math.abs(z)/A*m);var F=c.x+p,G=c.y+q,H=o;a.isFunction(o)&&(H=o({seriesIndex:i,seriesGroupIndex:b,itemIndex:y})),isNaN(H)&&(H=0);var I={key:b+"_"+i+"_"+y,value:z,displayValue:C,x:F,y:G,fromAngle:s,toAngle:s+D,centerOffset:H,innerRadius:u,outerRadius:t,selectedRadiusChange:v,visible:E};h[i].push(I),s+=D}}}return g},_isPointSeriesOnly:function(){for(var a=0;a<this.seriesGroups.length;a++){var b=this.seriesGroups[a];if(b.type.indexOf("line")==-1&&b.type.indexOf("area")==-1&&b.type.indexOf("scatter")==-1&&b.type.indexOf("bubble")==-1)return!1}return!0},_hasColumnSeries:function(){for(var a=["column","ohlc","candlestick","waterfall"],b=0;b<this.seriesGroups.length;b++){var c=this.seriesGroups[b];for(var d in a)if(c.type.indexOf(a[d])!=-1)return!0}return!1},_alignValuesWithTicks:function(a){var b=this._isPointSeriesOnly(),c=this.seriesGroups[a],d=this._getXAxis(a),e=void 0==d.valuesOnTicks?b:0!=d.valuesOnTicks;return d.logarithmicScale&&(e=!0),void 0==a?e:void 0==c.valuesOnTicks?e:c.valuesOnTicks},_getYearsDiff:function(a,b){return b.getFullYear()-a.getFullYear()},_getMonthsDiff:function(a,b){return 12*(b.getFullYear()-a.getFullYear())+b.getMonth()-a.getMonth()},_getDateDiff:function(b,c,d,e){var f=0;switch("year"!=d&&"month"!=d&&(f=c.valueOf()-b.valueOf()),d){case"year":f=this._getYearsDiff(b,c);break;case"month":f=this._getMonthsDiff(b,c);break;case"day":f/=864e5;break;case"hour":f/=36e5;break;case"minute":f/=6e4;break;case"second":f/=1e3;break;case"millisecond":}return"year"!=d&&"month"!=d&&0!=e&&(f=a.jqx._rnd(f,1,!0)),f},_getBestDTUnit:function(a,b,c,d,e){var f="day",g=b.valueOf()-a.valueOf();f=g<1e3?"second":g<36e5?"minute":g<864e5?"hour":g<2592e6?"day":g<31104e6?"month":"year";for(var h=[{key:"year",cnt:g/31536e6},{key:"month",cnt:g/2592e6},{key:"day",cnt:g/864e5},{key:"hour",cnt:g/36e5},{key:"minute",cnt:g/6e4},{key:"second",cnt:g/1e3},{key:"millisecond",cnt:g}],i=-1,j=0;j<h.length;j++)if(h[j].key==f){i=j;break}for(var k=-1,l=-1;i<h.length&&!(h[i].cnt/100>d);i++){var m=this._estAxisInterval(a,b,c,d,h[i].key,e),n=this._getDTIntCnt(a,b,m,h[i].key);(k==-1||k<n)&&(k=n,l=i)}return f=h[l].key},_getXAxisStats:function(b,c,d){var e=this._getDataLen(b),f="date"==c.type||"time"==c.type;if(f&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);var g=this._testXAxisDateFormat();g&&this._autoDateFormats.push(g)}var h=f?this._castAsDate(c.minValue,c.dateFormat):this._castAsNumber(c.minValue),i=f?this._castAsDate(c.maxValue,c.dateFormat):this._castAsNumber(c.maxValue);if(this._selectorRange&&this._selectorRange[b]){var j=this._selectorRange[b].min;isNaN(j)||(h=f?this._castAsDate(j,c.dateFormat):this._castAsNumber(j));var k=this._selectorRange[b].max;isNaN(k)||(i=f?this._castAsDate(k,c.dateFormat):this._castAsNumber(k))}for(var l,m,n=h,o=i,p=void 0==c.type||"auto"==c.type,q=p||"basic"==c.type,r=0,s=0,t=0;t<e&&c.dataField;t++){var u=this._getDataValue(t,c.dataField,b);u=f?this._castAsDate(u,c.dateFormat):this._castAsNumber(u),isNaN(u)||(f?r++:s++,(isNaN(l)||u<l)&&(l=u),(isNaN(m)||u>=m)&&(m=u))}p&&(!f&&s==e||f&&r==e)&&(q=!1),q&&(l=0,m=Math.max(0,e-1)),isNaN(n)&&(n=l),isNaN(o)&&(o=m),f?(this._isDate(n)||(n=this._isDate(o)?o:new Date),this._isDate(o)||(o=this._isDate(n)?n:new Date)):(isNaN(n)&&(n=0),isNaN(o)&&(o=q?Math.max(0,e-1):n)),void 0==l&&(l=n),void 0==m&&(m=o);var v=c.rangeSelector;if(v){var w=v.minValue||n;w&&f&&(w=this._castAsDate(w,v.dateFormat||c.dateFormat));var x=v.maxValue||o;x&&f&&(x=this._castAsDate(x,v.dateFormat||c.rangeSelector)),n<w&&(n=w),o<w&&(o=x),n>x&&(n=w),o>x&&(o=x)}var y,z,A=c.unitInterval;f&&(y=c.baseUnit,y||(y=this._getBestDTUnit(n,o,b,d)),z="hour"==y||"minute"==y||"second"==y||"millisecond"==y);var B=1==c.logarithmicScale,C=c.logarithmicScaleBase;(isNaN(C)||C<=1)&&(C=10);var A=c.unitInterval;B?A=1:(isNaN(A)||A<=0)&&(A=this._estAxisInterval(n,o,b,d,y));var D={min:n,max:o},E=this.seriesGroups[b];if(B){n||(n=1,o&&n>o&&(n=o)),o||(o=n),D={min:n,max:o};var F=a.jqx._rnd(a.jqx.log(n,C),1,!1),G=a.jqx._rnd(a.jqx.log(o,C),1,!0);o=Math.pow(C,G),n=Math.pow(C,F)}else f||!E.polar&&!E.spider||(n=a.jqx._rnd(n,A,!1),o=a.jqx._rnd(o,A,!0));return{min:n,max:o,logAxis:{enabled:B,base:C,minPow:F,maxPow:G},dsRange:{min:l,max:m},filterRange:D,useIndeces:q,isDateTime:f,isTimeUnit:z,dateTimeUnit:y,interval:A}},_getDefaultDTFormatFn:function(a){var b,c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return b="year"==a||"month"==a||"day"==a?function(a){return a.getDate()+"-"+c[a.getMonth()]+"-"+a.getFullYear()}:function(a){return a.getDate()+"-"+c[a.getMonth()]+"-"+a.getFullYear()+"<br>"+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}},_getDTIntCnt:function(a,b,c,d){var e=0,f=new Date(a),g=new Date(b);if(g=g.valueOf(),c<=0)return 1;for(;f.valueOf()<g;)"millisecond"==d?f=new Date(f.valueOf()+c):"second"==d?f=new Date(f.valueOf()+1e3*c):"minute"==d?f=new Date(f.valueOf()+6e4*c):"hour"==d?f=new Date(f.valueOf()+6e4*c*24):"day"==d?f.setDate(f.getDate()+c):"month"==d?f.setMonth(f.getMonth()+c):"year"==d&&f.setFullYear(f.getFullYear()+c),e++;return e},_estAxisInterval:function(a,b,c,d,e,f){if(isNaN(a)||isNaN(b))return NaN;var g=[1,2,5,10,15,20,50,100,200,500],h=0,i=d/(!isNaN(f)&&f>0?f:50);if(this._renderData&&this._renderData.length>c&&this._renderData[c].xAxis&&!isNaN(this._renderData[c].xAxis.avgWidth)){var j=Math.max(1,this._renderData[c].xAxis.avgWidth);0!=j&&isNaN(f)&&(i=.9*d/j)}if(i<=1)return Math.abs(b-a);for(var k=0;;){var l=h>=g.length?Math.pow(10,3+h-g.length):g[h];if(k=this._isDate(a)&&this._isDate(b)?this._getDTIntCnt(a,b,l,e):(b-a)/l,k<=i)break;h++}var m=this.seriesGroups[c];return(m.spider||m.polar)&&2*l>b-a&&(l=b-a),l},_getPaddingSize:function(a,b,c,d,e,f,g){var h=a.min,i=a.max;a.logAxis.enabled&&(h=a.logAxis.minPow,i=a.logAxis.maxPow);var j=a.interval,k=a.dateTimeUnit;if(e){var l=d/Math.max(1,i-h+j)*j;return f?{left:0,right:l}:c?{left:0,right:0}:{left:l/2,right:l/2}}if(c&&!g)return{left:0,right:0};if(this._isDate(h)&&this._isDate(i)){var m=this._getDTIntCnt(h,i,Math.min(j,i-h),k),n=d/Math.max(2,m);return{left:n/2,right:n/2}}var m=Math.max(1,i-h);if(1==m)return sz=d/4,{left:sz,right:sz};var n=d/(m+1);return{left:n/2,right:n/2}},_calculateXOffsets:function(b,c){var d=this.seriesGroups[b],e=this._getXAxis(b),f=[],g=[],h=this._getDataLen(b),i=this._getXAxisStats(b,e,c),j=i.min,k=i.max,l=i.isDateTime,m=i.isTimeUnit,n=this._hasColumnSeries(),o=d.polar||d.spider,p=this._get([d.startAngle,d.minAngle,0]),q=this._get([d.endAngle,d.maxAngle,360]),r=o&&!(Math.abs(Math.abs(q-p)-360)>1e-4),s=this._alignValuesWithTicks(b),t=this._getPaddingSize(i,e,s,c,o,r,n),u=k-j,v=i.filterRange;0==u&&(u=1);var w=c-t.left-t.right;o&&s&&!r&&(t.left=t.right=0);for(var x=-1,y=-1,z=0;z<h;z++){var A=void 0===e.dataField?z:this._getDataValue(z,e.dataField,b);if(i.useIndeces){if(z<v.min||z>v.max){f.push(NaN),g.push(void 0);continue}if(C=t.left+(z-j)/u*w,1==i.logAxis.enabled){var B=i.logAxis.base;C=this._jqxPlot.scale(A,{min:j.valueOf(),max:k.valueOf(),type:"logarithmic",base:B},{min:0,max:w,flip:!1})}f.push(a.jqx._ptrnd(C)),g.push(A),x==-1&&(x=z),(y==-1||y<z)&&(y=z)}else if(A=l?this._castAsDate(A,e.dateFormat):this._castAsNumber(A),isNaN(A)||A<v.min||A>v.max)f.push(NaN),g.push(void 0);else{var C=0;if(1==i.logAxis.enabled){var B=i.logAxis.base;C=this._jqxPlot.scale(A,{min:j.valueOf(),max:k.valueOf(),type:"logarithmic",base:B},{min:0,max:w,flip:!1})}else!l||l&&m?(diffFromMin=A-j,C=(A-j)*w/u):C=(A.valueOf()-j.valueOf())/(k.valueOf()-j.valueOf())*w;C=a.jqx._ptrnd(t.left+C),f.push(C),g.push(A),x==-1&&(x=z),(y==-1||y<z)&&(y=z)}}if(1==e.flip)for(var z=0;z<f.length;z++)isNaN(f[z])||(f[z]=c-f[z]);(m||l)&&(u=this._getDateDiff(j,k,e.baseUnit),u=a.jqx._rnd(u,1,!1));var D=Math.max(1,u),E=w/D;return x==y&&1==D&&(f[x]=t.left+w/2),{axisStats:i,data:f,xvalues:g,first:x,last:y,length:y==-1?0:y-x+1,itemWidth:E,intervalWidth:E*i.interval,rangeLength:u,useIndeces:i.useIndeces,padding:t,axisSize:w}},_getXAxis:function(a){return void 0==a||this.seriesGroups.length<=a?this.categoryAxis||this.xAxis:this.seriesGroups[a].categoryAxis||this.seriesGroups[a].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(a,b){var c=this.seriesGroups[a],d=c.series[b];return 1==d.greyScale||0!=d.greyScale&&(1==c.greyScale||0!=c.greyScale&&1==this.greyScale)},_getSeriesColors:function(b,c,d){var e=this._getSeriesColorsInternal(b,c,d);if(this._isGreyScale(b,c))for(var f in e)e[f]=a.jqx.toGreyScale(e[f]);return e},_getColorFromScheme:function(a,b,c){var d="#000000",e=this.seriesGroups[a],f=e.series[b];if(this._isPieGroup(a)){var g=this._getDataLen(a);d=this._getItemColorFromScheme(f.colorScheme||e.colorScheme||this.colorScheme,b*g+c,a,b)}else{for(var h=0,i=0;i<=a;i++)for(var j in this.seriesGroups[i].series){if(i==a&&j==b)break;h++}var k=this.colorScheme;if(e.colorScheme&&(k=e.colorScheme,sidex=seriesIndex),void 0!=k&&""!=k||(k=this.colorSchemes[0].name),!k)return d;for(var i=0;i<this.colorSchemes.length;i++){var l=this.colorSchemes[i];if(l.name==k){for(;h>l.colors.length;)h-=l.colors.length,++i>=this.colorSchemes.length&&(i=0),l=this.colorSchemes[i];d=l.colors[h%l.colors.length]}}}return d},_createColorsCache:function(){this._colorsCache={get:function(a){if(this._store[a])return this._store[a]},set:function(a,b){this._size<1e4&&(this._store[a]=b,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(b,c,d){var e=this.seriesGroups[b],f=e.series[c];a.isFunction(f.colorFunction)||"pie"==e.type||"donut"==e.type||(d=NaN);var g=b+"_"+c+"_"+(isNaN(d)?"NaN":d);if(this._colorsCache.get(g))return this._colorsCache.get(g);var h,i={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(a.isFunction(f.colorFunction)){var j=isNaN(d)?NaN:this._getDataValue(d,f.dataField,b);if(e.type.indexOf("range")!=-1&&!isNaN(d)){var k=this._getDataValue(d,f.dataFieldFrom,b),l=this._getDataValue(d,f.dataFieldTo,b);j={from:k,to:l}}if(h=f.colorFunction(j,d,f,e),"object"==typeof h)for(var m in h)i[m]=h[m];else i.fillColor=h}else{for(var m in i)f[m]&&(i[m]=f[m]);f.fillColor||f.color?f.fillColor=f.fillColor||f.color:i.fillColor=this._getColorFromScheme(b,c,d)}var n={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var m in i)"object"==typeof h&&h[m]||f[m]&&(i[m]=f[m]);for(var m in i)"object"==typeof h&&h[m]||f[m]||(i[m]=a.jqx.adjustColor(i[n[m].baseColor],n[m].adjust));return this._colorsCache.set(g,i),
i},_getItemColorFromScheme:function(b,c,d,e){void 0!=b&&""!=b||(b=this.colorSchemes[0].name);for(var f=0;f<this.colorSchemes.length&&b!=this.colorSchemes[f].name;f++);for(var g=0;g<=c;){f==this.colorSchemes.length&&(f=0);var h=this.colorSchemes[f].colors.length;if(!(g+h<=c)){var i=this.colorSchemes[f].colors[c-g];return this._isGreyScale(d,e)&&0==i.indexOf("#")&&(i=a.jqx.toGreyScale(i)),i}g+=h,f++}},getColorScheme:function(a){for(var b=0;b<this.colorSchemes.length;b++)if(this.colorSchemes[b].name==a)return this.colorSchemes[b].colors},addColorScheme:function(a,b){for(var c=0;c<this.colorSchemes.length;c++)if(this.colorSchemes[c].name==a)return void(this.colorSchemes[c].colors=b);this.colorSchemes.push({name:a,colors:b})},removeColorScheme:function(a){for(var b=0;b<this.colorSchemes.length;b++)if(this.colorSchemes[b].name==a){this.colorSchemes.splice(b,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(b,c,d,e,f,g){if(void 0==b)return"";if(this._isObject(b)&&!this._isDate(b)&&!d)return"";if(d){if(!a.isFunction(d))return b.toString();try{return d(b,g,f,e)}catch(h){return h.message}}return this._isNumber(b)?this._formatNumber(b,c):this._isDate(b)?this._formatDate(b,c):c?(c.prefix||"")+b.toString()+(c.sufix||""):b.toString()},_getFormattedValue:function(b,c,d,e,f,g){var h=this.seriesGroups[b],i=h.series[c],j="",k=e,l=f;l||(l=i.formatFunction||h.formatFunction),k||(k=i.formatSettings||h.formatSettings),!i.formatFunction&&i.formatSettings&&(l=void 0);var m={},n=0;for(var o in i)0==o.indexOf("dataField")&&(m[o.substring(9).toLowerCase()]=this._getDataValue(d,i[o],b),n++);if(0==n&&(m=this._getDataValue(d,void 0,b)),h.type.indexOf("waterfall")!=-1&&this._isSummary(b,d)&&(m=this._renderData[b].offsets[c][d].value,n=0),l&&a.isFunction(l))try{return l(1==n?m[""]:m,d,i,h)}catch(p){return p.message}if(1==n&&this._isPieGroup(b))return this._formatValue(m[""],k,l,b,c,d);if(n>0){var q=0;for(var o in m){q>0&&""!=j&&(j+="<br>");var r="dataField"+(o.length>0?o.substring(0,1).toUpperCase()+o.substring(1):""),s="displayText"+(o.length>0?o.substring(0,1).toUpperCase()+o.substring(1):""),t=i[s]||i[r],u=m[o];void 0!=u&&(u=this._formatValue(u,k,l,b,c,d),j+=g===!0?u:t+": "+u,q++)}}else void 0!=m&&(j=this._formatValue(m,k,l,b,c,d));return j||""},_isNumberAsString:function(b){if("string"!=typeof b)return!1;b=a.trim(b);for(var c=0;c<b.length;c++){var d=b.charAt(c);if(!(d>="0"&&d<="9"||","==d||"."==d||"-"==d&&0==c||"("==d&&0==c||")"==d&&c==b.length-1))return!1}return!0},_castAsDate:function(b,c){if(b instanceof Date&&!isNaN(b))return b;if("string"==typeof b){var d;if(c&&(d=a.jqx.dataFormat.parsedate(b,c),this._isDate(d)))return d;if(this._autoDateFormats)for(var e=0;e<this._autoDateFormats.length;e++)if(d=a.jqx.dataFormat.parsedate(b,this._autoDateFormats[e]),this._isDate(d))return d;var f=this._detectDateFormat(b);return f&&(d=a.jqx.dataFormat.parsedate(b,f),this._isDate(d))?(this._autoDateFormats.push(f),d):(d=new Date(b),this._isDate(d)&&b.indexOf(":")==-1&&d.setHours(0,0,0,0),d)}},_castAsNumber:function(a){if(a instanceof Date&&!isNaN(a))return a.valueOf();if("string"==typeof a)if(this._isNumber(a))a=parseFloat(a);else if(!/[a-zA-Z]/.test(a)){var b=new Date(a);void 0!=b&&(a=b.valueOf())}return a},_isNumber:function(a){return"string"==typeof a&&this._isNumberAsString(a)&&(a=parseFloat(a)),"number"==typeof a&&isFinite(a)},_isDate:function(a){return a instanceof Date&&!isNaN(a.getDate())},_isBoolean:function(a){return"boolean"==typeof a},_isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},_formatDate:function(b,c){var d=b.toString();return c&&(c.dateFormat&&(d=a.jqx.dataFormat.formatDate(b,c.dateFormat)),d=(c.prefix||"")+d+(c.sufix||"")),d},_formatNumber:function(a,b){if(!this._isNumber(a))return a;b=b||{};var c=".",d="",e=this;e.localization&&(c=e.localization.decimalSeparator||e.localization.decimalseparator||c,d=e.localization.thousandsSeparator||e.localization.thousandsseparator||d),b.decimalSeparator&&(c=b.decimalSeparator),b.thousandsSeparator&&(d=b.thousandsSeparator);var f=b.prefix||"",g=b.sufix||"",h=b.decimalPlaces;isNaN(h)&&(h=this._getDecimalPlaces([a],void 0,3));var i=b.negativeWithBrackets||!1,j=a<0;j&&i&&(a*=-1);var k,l=a.toString(),m=Math.pow(10,h);if(l=(Math.round(a*m)/m).toString(),isNaN(l)&&(l=""),k=l.lastIndexOf("."),h>0)for(k<0?(l+=c,k=l.length-1):"."!==c&&(l=l.replace(".",c));l.length-1-k<h;)l+="0";k=l.lastIndexOf(c),k=k>-1?k:l.length;for(var n=l.substring(k),o=0,p=k;p>0;p--,o++)o%3===0&&p!==k&&(!j||p>1||j&&i)&&(n=d+n),n=l.charAt(p-1)+n;return l=n,j&&i&&(l="("+l+")"),f+l+g},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(a,b){var c=a[b],d=a[b+1],e=a[b+2],f=a[b+3],g=a[b+4],h=a[b+5],i=.4,j=Math.sqrt(Math.pow(e-c,2)+Math.pow(f-d,2)),k=Math.sqrt(Math.pow(g-e,2)+Math.pow(h-f,2)),l=j+k;0==l&&(l=1);var m=i*j/l,n=i-m;return[e+m*(c-g),f+m*(d-h),e-n*(c-g),f-n*(d-h)]},_getBezierPoints:function(b){for(var c="",d=[],e=[],f=b.split(" "),g=0;g<f.length;g++){var h=f[g].split(",");d.push(parseFloat(h[0])),d.push(parseFloat(h[1])),!isNaN(d[d.length-1])&&!isNaN(d[d.length-2])}var i=d.length;if(i<=1)return"";if(2==i)return c="M"+a.jqx._ptrnd(d[0])+","+a.jqx._ptrnd(d[1])+" L"+a.jqx._ptrnd(d[0]+1)+","+a.jqx._ptrnd(d[1]+1)+" ";for(var g=0;g<i-4;g+=2)e=e.concat(this._calculateControlPoints(d,g));for(var g=2;g<i-5;g+=2)c+=" C"+a.jqx._ptrnd(e[2*g-2])+","+a.jqx._ptrnd(e[2*g-1])+" "+a.jqx._ptrnd(e[2*g])+","+a.jqx._ptrnd(e[2*g+1])+" "+a.jqx._ptrnd(d[g+2])+","+a.jqx._ptrnd(d[g+3])+" ";return c=i<=4||Math.abs(d[0]-d[2])<3||Math.abs(d[1]-d[3])<3||this._isVML?"M"+a.jqx._ptrnd(d[0])+","+a.jqx._ptrnd(d[1])+" L"+a.jqx._ptrnd(d[2])+","+a.jqx._ptrnd(d[3])+" "+c:"M"+a.jqx._ptrnd(d[0])+","+a.jqx._ptrnd(d[1])+" Q"+a.jqx._ptrnd(e[0])+","+a.jqx._ptrnd(e[1])+" "+a.jqx._ptrnd(d[2])+","+a.jqx._ptrnd(d[3])+" "+c,i>=4&&(Math.abs(d[i-2]-d[i-4])<3||Math.abs(d[i-1]-d[i-3])<3||this._isVML)?c+=" L"+a.jqx._ptrnd(d[i-2])+","+a.jqx._ptrnd(d[i-1])+" ":i>=5&&(c+=" Q"+a.jqx._ptrnd(e[2*i-10])+","+a.jqx._ptrnd(e[2*i-9])+" "+a.jqx._ptrnd(d[i-2])+","+a.jqx._ptrnd(d[i-1])+" "),c},_animTickInt:50,_createAnimationGroup:function(a){this._animGroups||(this._animGroups={}),this._animGroups[a]={animations:[],startTick:NaN}},_startAnimation:function(a){var b=new Date,c=b.getTime();this._animGroups[a].startTick=c,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(a,b,c,d,e,f,g){d<0&&(d=0),void 0==g&&(g="easeInOutSine"),this._animGroups[a].animations.push({key:b,properties:c,duration:d,fn:e,context:f,easing:g})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var a=this;this._animtimer=setTimeout(function(){a._runAnimation()},this._animTickInt)}},_runAnimation:function(b){if(this._animGroups){var c=new Date,d=c.getTime(),e={};for(var f in this._animGroups){for(var g=this._animGroups[f].animations,h=this._animGroups[f].startTick,i=0,j=0;j<g.length;j++){var k=g[j],l=d-h;k.duration>i&&(i=k.duration);var m=k.duration>0?l/k.duration:1,n=m;if(k.easing&&0!=k.duration&&(n=a.easing[k.easing](m,l,0,1,k.duration)),m>1&&(m=1,n=1),k.fn)k.fn(k.key,k.context,n);else{for(var o={},f=0;f<k.properties.length;f++){var p=k.properties[f],q=0;q=1==m?p.to:easeParecent*(p.to-p.from)+p.from,o[p.key]=q}this.renderer.attr(k.key,o)}}h+i>d&&(e[f]={startTick:h,animations:g})}this._animGroups=e,this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var f in this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(a,b){var c="horizontal"==this.seriesGroups[b].orientation;if(!c)return a;var d=a.x;a.x=a.y,a.y=d+this._plotRect.y-this._plotRect.x;var d=a.width;return a.width=a.height,a.height=d,a},getItemCoord:function(a,b,c){var d=this;if(d._isPieGroup(a)&&(!d._isSerieVisible(a,b,c)||!d._renderData||d._renderData.length<=a))return{x:NaN,y:NaN};if(!d._isSerieVisible(a,b)||!d._renderData||d._renderData.length<=a)return{x:NaN,y:NaN};var e=d.seriesGroups[a],f=e.series[b],g=d._getItemCoord(a,b,c);if(d._isPieGroup(a)){if(isNaN(g.x)||isNaN(g.y)||isNaN(g.fromAngle)||isNaN(g.toAngle))return{x:NaN,y:NaN};var h=this._plotRect,i=g.fromAngle*(Math.PI/180),j=g.toAngle*(Math.PI/180);x1=h.x+g.center.x+Math.cos(i)*g.outerRadius,x2=h.x+g.center.x+Math.cos(j)*g.outerRadius,y1=h.y+g.center.y-Math.sin(i)*g.outerRadius,y2=h.y+g.center.y-Math.sin(j)*g.outerRadius;var k=Math.min(x1,x2),l=Math.abs(x2-x1),m=Math.min(y1,y2),n=Math.abs(y2-y1);return g={x:k,y:m,width:l,height:n,center:g.center,centerOffset:g.centerOffset,innerRadius:g.innerRadius,outerRadius:g.outerRadius,selectedRadiusChange:g.selectedRadiusChange,fromAngle:g.fromAngle,toAngle:g.toAngle}}if(e.type.indexOf("column")!=-1||e.type.indexOf("waterfall")!=-1){var o=this._getColumnSerieWidthAndOffset(a,b);g.height=Math.abs(g.y.to-g.y.from),g.y=Math.min(g.y.to,g.y.from),g.x+=o.offset,g.width=o.width}else if(e.type.indexOf("ohlc")!=-1||e.type.indexOf("candlestick")!=-1){var o=this._getColumnSerieWidthAndOffset(a,b),m=g.y,p=Math.min(m.Open,m.Close,m.Low,m.High),q=Math.max(m.Open,m.Close,m.Low,m.High);g.height=Math.abs(q-p),g.y=p,g.x+=o.offset,g.width=o.width}else if(e.type.indexOf("line")!=-1||e.type.indexOf("area")!=-1)g.width=g.height=0,g.y=g.y.to;else if(e.type.indexOf("bubble")!=-1||e.type.indexOf("scatter")!=-1){g.center={x:g.x,y:g.y.to};var r=g.y.radius;"circle"!=f.symbolType&&void 0!=f.symbolType&&(r/=2),g.y=g.y.to,g.radius=r,g.width=2*r,g.height=2*r}if(g=this._fixCoords(g,a),e.polar||e.spider){var s=this._toPolarCoord(this._renderData[a].polarCoords,this._plotRect,g.x,g.y);g.x=s.x,g.y=s.y,g.center&&(g.center=this._toPolarCoord(this._renderData[a].polarCoords,this._plotRect,g.center.x,g.center.y))}return e.type.indexOf("bubble")==-1&&e.type.indexOf("scatter")==-1||(g.x-=r,g.y-=r),g},_getItemCoord:function(a,b,c){var d,e,f=this.seriesGroups[a];if(!f||!this._renderData)return{x:NaN,y:NaN};var g=f.series[b];if(!g)return{x:NaN,y:NaN};var h=this._plotRect;if(this._isPieGroup(a)){var i=this._renderData[a].offsets[b][c];if(!i)return{x:NaN,y:NaN};var j=(i.fromAngle+i.toAngle)/2*(Math.PI/180);return d=h.x+i.x+Math.cos(j)*i.outerRadius,e=h.y+i.y-Math.sin(j)*i.outerRadius,{x:d,y:e,center:{x:i.x,y:i.y},centerOffset:i.centerOffset,innerRadius:i.innerRadius,outerRadius:i.outerRadius,selectedRadiusChange:i.selectedRadiusChange,fromAngle:i.fromAngle,toAngle:i.toAngle}}if(d=h.x+this._renderData[a].xoffsets.data[c],e=this._renderData[a].offsets[b][c],isNaN(d)||!e)return{x:NaN,y:NaN};var k={};for(var l in e)k[l]=e[l];return{x:d,y:k}},getXAxisValue:function(b,c){var d=this.seriesGroups[c];if(d){var e=this._getXAxis(c),f=this._plotRect,g=0,h=NaN,i=this._renderData[0].xoffsets.axisStats,j=0,k=0;if(d.polar||d.spider){if(isNaN(b.x)||isNaN(b.y))return NaN;var l=this._getPolarAxisCoords(c,f),m=a.jqx._ptdist(b.x,b.y,l.x,l.y);if(m>l.r)return NaN;var n=Math.atan2(l.y-b.y,b.x-l.x);n=Math.PI/2-n,n<0&&(n=2*Math.PI+n),h=n*l.r;var o=l.startAngle+Math.PI/2,p=l.endAngle+Math.PI/2;j=o*l.r,k=p*l.r,g=(p-o)*l.r;var q=this._getPaddingSize(i,e,e.valuesOnTicks,g,!0,l.isClosedCircle,this._hasColumnSeries());l.isClosedCircle?(g-=q.left+q.right,k-=q.left+q.right):e.valuesOnTicks||(j+=q.left,k-=q.right)}else{if("horizontal"!=d.orientation){if(b<f.x||b>f.x+f.width)return NaN;h=b-f.x,g=f.width}else{if(b<f.y||b>f.y+f.height)return NaN;h=b-f.y,g=f.height}if(this._renderData[c]&&this._renderData[c].xoffsets){var q=this._renderData[c].xoffsets.padding;g-=q.left+q.right,h-=q.left}k=g}var r=this._jqxPlot.scale(h,{min:j,max:k},{min:i.min.valueOf(),max:i.max.valueOf(),type:i.logAxis.enabled?"logarithmic":"linear",base:i.logAxis.base,flip:e.flip});return r}},getValueAxisValue:function(b,c){var d=this.seriesGroups[c];if(d){var e=this._getValueAxis(c),f=this._plotRect,g=0,h=NaN;if(d.polar||d.spider){if(isNaN(b.x)||isNaN(b.y))return NaN;var i=this._getPolarAxisCoords(c,f);h=a.jqx._ptdist(b.x,b.y,i.x,i.y),g=i.r,h=g-h}else if("horizontal"==d.orientation){if(b<f.x||b>f.x+f.width)return NaN;h=b-f.x,g=f.width}else{if(b<f.y||b>f.y+f.height)return NaN;h=b-f.y,g=f.height}var j=this._stats.seriesGroups[c],k=this._jqxPlot.scale(h,{min:0,max:g},{min:j.min.valueOf(),max:j.max.valueOf(),type:j.logarithmic?"logarithmic":"linear",base:j.logBase,flip:!e.flip});return k}},_detectDateFormat:function(b,c){var d={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};c&&(d=a.extend({},d,c));var e=[];a.isArray(b)?e=b:e.push(b);for(var f in d)d[f]={format:d[f],count:0};for(var g=0;g<e.length;g++)if(value=e[g],null!=value&&void 0!=value)for(var f in d){var h=a.jqx.dataFormat.parsedate(value,d[f].format);null!=h&&d[f].count++}var i={key:void 0,count:0};for(var f in d)d[f].count>i.count&&(i.key=f,i.count=d[f].count);return i.key?d[i.key].format:""},_testXAxisDateFormat:function(a){var b=this,c=b._getXAxis(a),d=b._getDataLen(a),e={};if(b.localization&&b.localization.patterns)for(var f in b.localization.patterns)e["local_"+f]=b.localization.patterns[f];for(var g=[],h=0;h<d&&h<10;h++)value=b._getDataValue(h,c.dataField,a),null!=value&&void 0!=value&&g.push(value);var i=b._detectDateFormat(g,e);return i}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(a,b,c){var d=this.seriesGroups[a],e=this.renderer;if(!isNaN(a)){var f=this._get([this.getXAxisDataPointOffset(b.xValue,a),b.x]),g=this._get([this.getValueAxisDataPointOffset(b.yValue,a),b.y]),h=this._get([this.getXAxisDataPointOffset(b.xValue2,a),b.x2]),i=this._get([this.getValueAxisDataPointOffset(b.yValue2,a),b.y2]);if(d.polar||d.spider){var j=this.getPolarDataPointOffset(b.xValue,b.yValue,a);!j||isNaN(j.x)||isNaN(j.y)?(f=b.x,g=b.y):(f=j.x,g=j.y)}if(isNaN(g)||isNaN(f))return!1;if("horizontal"==d.orientation){var k=f;f=g,g=k,k=h,h=i,i=k}b.offset&&(isNaN(b.offset.x)||(f+=b.offset.x,h+=b.offset.x),isNaN(b.offset.y)||(g+=b.offset.y,i+=b.offset.y));var l,m=this._get([b.width,h-f]),n=this._get([b.height,i-g]);switch(b.type){case"rect":l=e.rect(f,g,m,n);break;case"circle":l=e.rect(f,g,b.radius);break;case"line":l=e.rect(f,g,h,i);break;case"path":l=e.path(b.path)}e.attr(l,{fill:b.fillColor,stroke:b.lineColor,opacity:this._get([b.fillOpacity,b.opacity]),"stroke-opacity":this._get([b.lineOpacity,b.opacity]),"stroke-width":b.lineWidth,"stroke-dasharray":b.dashStyle||"none"});var o;if(b.text){var p=b.text,q=0,r=0;p.offset&&(isNaN(p.offset.x)||(q+=p.offset.x),isNaN(p.offset.y)||(r+=p.offset.y)),o=e.text(p.value,f+q,g+r,NaN,NaN,p.angle,{},p.clip===!0,p.horizontalAlignment||"center",p.verticalAlignment||"center",p.rotationPoint||"centermiddle"),e.attr(o,{fill:p.fillColor,stroke:p.lineColor,"class":p["class"]})}for(var s=["click","mouseenter","mouseleave"],t=this,u=0;u<s.length;u++){var v=this._getEvent(s[u])||s[u];l&&this.renderer.addHandler(l,v,function(){t._raiseAnnotationEvent(b,v)}),o&&this.renderer.addHandler(o,v,function(){t._raiseAnnotationEvent(b,v)})}}},_raiseAnnotationEvent:function(a,b){this._raiseEvent("annotation_"+b,{annotation:a})}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(a,b){var c=this.seriesGroups[a];if(!this._isSerieVisible(a,b))return 0;var d=this._renderData;if(!c||!d||d.length<=a)return 0;var e=c.series[b];return e?d[a].offsets[b].length:0},getXAxisRect:function(a){var b=this._renderData;if(b&&!(b.length<=a)&&b[a].xAxis)return b[a].xAxis.rect},getXAxisLabels:function(a){var b=[],c=this._renderData;if(!c||c.length<=a)return b;if(c=c[a].xAxis,!c)return b;var d=this.seriesGroups[a];if(d.polar||d.spider){for(var e=0;e<c.polarLabels.length;e++){var f=c.polarLabels[e];b.push({offset:{x:f.x,y:f.y},value:f.value})}return b}for(var g=this._getXAxis(a),h=this.getXAxisRect(a),i="top"==g.position||"right"==g.position,j="horizontal"==d.orientation,e=0;e<c.data.length;e++)j?b.push({offset:{x:h.x+(i?0:h.width),y:h.y+c.data.data[e]},value:c.data.xvalues[e]}):b.push({offset:{x:h.x+c.data.data[e],y:h.y+(i?h.height:0)},value:c.data.xvalues[e]});return b},getValueAxisRect:function(a){var b=this._renderData;if(b&&!(b.length<=a)&&b[a].valueAxis)return b[a].valueAxis.rect},getValueAxisLabels:function(a){var b=[],c=this._renderData;if(!c||c.length<=a)return b;if(c=c[a].valueAxis,!c)return b;var d=this._getValueAxis(a),e="top"==d.position||"right"==d.position,f=this.seriesGroups[a],g="horizontal"==f.orientation;if(f.polar||f.spider){for(var h=0;h<c.polarLabels.length;h++){var i=c.polarLabels[h];b.push({offset:{x:i.x,y:i.y},value:i.value})}return b}for(var h=0;h<c.items.length;h++)g?b.push({offset:{x:c.itemOffsets[c.items[h]].x+c.itemWidth/2,y:c.rect.y+(e?c.rect.height:0)},value:c.items[h]}):b.push({offset:{x:c.rect.x+c.rect.width,y:c.itemOffsets[c.items[h]].y+c.itemWidth/2},value:c.items[h]});return b},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(a,b,c,d,e){var f=this.getItemCoord(a,b,c);isNaN(f.x)||isNaN(f.y)||this._startTooltipTimer(a,b,c,f.x,f.y,d,e)},hideToolTip:function(a){isNaN(a)&&(a=0);var b=this;b._cancelTooltipTimer(),setTimeout(function(){b._hideToolTip(0)},a)}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(b,c){var d=this;d._isTouchDevice=a.jqx.mobile.isTouchDevice();var e=d.seriesGroups[b],f=d._getXAxis(b),g=f?f.rangeSelector:void 0;if(!d._isSelectorRefresh){var h=g&&g.renderTo?g.renderTo:d.host;h.find(".rangeSelector").remove()}if(!f||0==f.visible||"spider"==e.type)return!1;if(!d._isGroupVisible(b))return!1;if(!g)return!1;var i="horizontal"==e.orientation;g.renderTo&&(i=!1),d.rtl&&(f.flip=!0);var j=i?this.host.height():this.host.width();j-=4;var k=this._getXAxisStats(b,f,j),l=f.position;if(g.renderTo&&g.position&&(l=g.position),!this._isSelectorRefresh){var m=g.renderTo,n="<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>",o=a(n).appendTo(m?m:this.renderer.getContainer());if(m)o.css({width:m.width(),height:m.height()}),c.width=m.width(),c.height=m.height();else{var p=this.host.coord();p.top=0,p.left=0,selectorSize=this._selectorGetSize(f),i?(o.css("left",p.left+1+c.x+("right"!=l?-selectorSize:c.width)),o.css("top",p.top),o.css("height",j),o.css("width",selectorSize),c.height=selectorSize):(o.css("left",p.left+1),o.css("top",p.top+c.y+("top"!=l?c.height:-selectorSize)),o.css("height",selectorSize),o.css("width",j))}this._refreshSelector(b,f,k,o,c,i)}return this._isSelectorRefresh=!1,!0},_refreshSelector:function(b,c,d,e,f,g){var h={},i=c.rangeSelector;this.seriesGroups[b];for(var j in i)h[j]=i[j];delete h.padding;var k=h.minValue,l=h.maxValue;void 0==k&&(k=Math.min(d.min.valueOf(),d.dsRange.min.valueOf())),void 0==l&&(l=Math.max(d.max.valueOf(),d.dsRange.max.valueOf())),this._isDate(d.min)&&(k=new Date(k)),this._isDate(d.max)&&(l=new Date(l));var m=c.position;i.renderTo&&i.position&&(m=i.position),h.dataField=c.dataField,delete h.rangeSelector,h.type=c.type,h.baseUnit=i.baseUnit||c.baseUnit,h.minValue=k,h.maxValue=l,h.flip=c.flip,h.position=m;var n=5,o=2,p=2,q=2,r=2;i.renderTo||(o=g?0:f.x,p=g?0:this._rect.width-f.x-f.width,q=g?f.y:n,r=g?this._paddedRect.height-this._plotRect.height:n);var s=i.padding;s=void 0!=s||i.renderTo?{left:s&&s.left?s.left:o,top:s&&s.top?s.top:q,right:s&&s.right?s.right:p,bottom:s&&s.bottom?s.bottom:r}:{left:o,top:q,right:p,bottom:r};for(var t=c.rangeSelector.dataField,j=0;void 0==t&&j<this.seriesGroups.length;j++)for(var u=0;void 0==t&&u<this.seriesGroups[j].series.length;u++)t=this.seriesGroups[j].series[u].dataField;var v={padding:s,_isRangeSelectorInstance:!0,title:i.title||"",description:i.description||"",titlePadding:i.titlePadding,colorScheme:i.colorScheme||this.colorScheme,backgroundColor:i.backgroundColor||this.backgroundColor||"transparent",backgroundImage:i.backgroundImage||"",showBorderLine:i.showBorderLine||!!i.renderTo,borderLineWidth:i.borderLineWidth||this.borderLineWidth,borderLineColor:i.borderLineColor||this.borderLineColor,rtl:i.rtl||this.rtl,greyScale:i.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:h,seriesGroups:[{orientation:g?"horizontal":"vertical",valueAxis:{visible:!1},type:c.rangeSelector.serieType||"area",skipOverlappingPoints:a.jqx.getByPriority([c.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:a.jqx.getByPriority([c.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:a.jqx.getByPriority([c.rangeSelector.columnsGapPercent,25]),seriesGapPercent:a.jqx.getByPriority([c.rangeSelector.seriesGapPercent,25]),series:[{dataField:t,opacity:.8,lineWidth:1}]}]};v.showBorderLine||(v.borderLineWidth=1,v.borderLineColor=a.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),v.showBorderLine=!0);var w=this;w._supressBindingRefresh=!0,e.empty(),e.jqxChart(v),w._rangeSelectorInstances[b]=e,w._supressBindingRefresh=!1,e.on(w._getEvent("mousemove"),function(){w._unselect(),w._hideToolTip()});var x=e.jqxChart("getInstance");if(x._plotRect){var y=x._paddedRect;if(y.height=x._plotRect.height,g||"top"!=m){if(g){var z=x._renderData[0].xAxis.rect.width;y.width-=z,"right"!=m&&(y.x+=z)}}else y.y+=x._renderData[0].xAxis.rect.height;w._createSliderElements(b,e,y,i),w.removeHandler(a(document),w._getEvent("mousemove")+"."+this.element.id,w._onSliderMouseMove),w.removeHandler(a(document),w._getEvent("mousedown"),w._onSliderMouseDown),w.removeHandler(a(document),w._getEvent("mouseup")+"."+this.element.id,w._onSliderMouseUp),w.addHandler(a(document),w._getEvent("mousemove")+"."+this.element.id,w._onSliderMouseMove,{self:this,groupIndex:b,renderTo:e,swapXY:g}),w.addHandler(a(e),w._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:b,renderTo:e,swapXY:g}),w.addHandler(a(document),w._getEvent("mouseup")+"."+this.element.id,w._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:b,renderTo:e,swapXY:g})}},_createSliderElements:function(b,c,d,e){c.find(".slider").remove();var f=e.selectedRangeColor||"blue",g=a.jqx.getByPriority([e.selectedRangeOpacity,.1]),h=a.jqx.getByPriority([e.unselectedRangeOpacity,.5]),i=e.unselectedRangeColor||"white",j=e.rangeLineColor||"grey",k=a("<div class='slider' style='position: absolute;'></div>");for(k.css({background:f,opacity:g,left:d.x,top:d.y,width:d.width,height:d.height}),k.appendTo(c);this._sliders.length<b+1;)this._sliders.push({});var l="<div class='slider' style='position: absolute;  background: "+i+"; opacity: "+h+";'></div>",m="<div class='slider' style='position: absolute; background:"+j+"; opacity: "+h+";'></div>",n="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+j+";'></div>";this._sliders[b]={element:k,host:c,_sliderInitialAbsoluteRect:{x:k.coord().left,y:k.coord().top,width:d.width,height:d.height},_hostInitialAbsolutePos:{x:c.coord().left,y:c.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:d,left:a(l),right:a(l),leftTop:a(m),rightTop:a(m),leftBorder:a(m),leftBar:a(n),rightBorder:a(m),rightBar:a(n)},this._sliders[b].left.appendTo(c),this._sliders[b].right.appendTo(c),this._sliders[b].leftTop.appendTo(c),this._sliders[b].rightTop.appendTo(c),this._sliders[b].leftBorder.appendTo(c),this._sliders[b].rightBorder.appendTo(c),this._sliders[b].leftBar.appendTo(c),this._sliders[b].rightBar.appendTo(c);var o=this._renderData[b].xAxis,p=o.data.axisStats,q=p.min.valueOf(),r=p.max.valueOf(),s=this._valueToOffset(b,q),t=this._valueToOffset(b,r);if(s>t){var u=t;t=s,s=u}"horizontal"!=this.seriesGroups[b].orientation?k.css({left:Math.round(d.x+s),top:d.y,width:Math.round(t-s),height:d.height}):k.css({top:Math.round(d.y+s),left:d.x,height:Math.round(t-s),width:d.width}),this._setSliderPositions(b,s,t)},_setSliderPositions:function(a,b,c){var d=this.seriesGroups[a],e=this._getXAxis(a),f=e.rangeSelector,g="horizontal"==d.orientation;e.rangeSelector.renderTo&&(g=!1);var h=e.position;f.renderTo&&f.position&&(h=f.position);var i=this._sliders[a],j=g?"top":"left",k=g?"left":"top",l=g?"height":"width",m=g?"width":"height",n=g?"y":"x",o=g?"x":"y",p=i.rect;i.startOffset=b,i.endOffset=c,i.left.css(j,p[n]),i.left.css(k,p[o]),i.left.css(l,b),i.left.css(m,p[m]),i.right.css(j,p[n]+c),i.right.css(k,p[o]),i.right.css(l,p[l]-c+1),i.right.css(m,p[m]),i.leftTop.css(j,p[n]),i.leftTop.css(k,p[o]+(g&&"right"==h||!g&&"top"!=h?0:p[m])),i.leftTop.css(l,b),i.leftTop.css(m,1),i.rightTop.css(j,p[n]+c),i.rightTop.css(k,p[o]+(g&&"right"==h||!g&&"top"!=h?0:p[m])),i.rightTop.css(l,p[l]-c+1),i.rightTop.css(m,1),i.leftBorder.css(j,p[n]+b),i.leftBorder.css(k,p[o]),i.leftBorder.css(l,1),i.leftBorder.css(m,p[m]);var q=p[m]/4;q>20&&(q=20),q<3&&(q=3),i.leftBar.css(j,p[n]+b-3),i.leftBar.css(k,p[o]+p[m]/2-q/2),i.leftBar.css(l,5),i.leftBar.css(m,q),i.rightBorder.css(j,p[n]+c),i.rightBorder.css(k,p[o]),i.rightBorder.css(l,1),i.rightBorder.css(m,p[m]),i.rightBar.css(j,p[n]+c-3),i.rightBar.css(k,p[o]+p[m]/2-q/2),i.rightBar.css(l,5),i.rightBar.css(m,q)},_resizeState:{},_onSliderMouseDown:function(b){b.stopImmediatePropagation(),b.stopPropagation();var c=b.data.self,d=c._sliders[b.data.groupIndex];d&&(void 0==c._resizeState.state&&c._testAndSetReadyResize(b),"ready"==c._resizeState.state&&(a.jqx._rangeSelectorTarget=c,c._resizeState.state="resizing"))},_valueToOffset:function(a,b){var c=this.seriesGroups[a],d=this._sliders[a],e=d.host.jqxChart("getInstance"),f=e._renderData[0].xAxis,g=f.data.axisStats,h=g.min.valueOf(),i=g.max.valueOf(),j=i-h;0==j&&(j=1);var k=this._getXAxis(a),l="horizontal"==c.orientation?"height":"width",m=(b.valueOf()-h)/j;return d.getRect()[l]*(k.flip?1-m:m)},_offsetToValue:function(a,b){var c=this._sliders[a],d=this.seriesGroups[a],e=this._getXAxis(a),f="horizontal"==d.orientation?"height":"width",g=c.getRect()[f];0==g&&(g=1);var h=c.host.jqxChart("getInstance"),i=h._renderData[0].xAxis,j=i.data.axisStats,k=j.min.valueOf(),l=j.max.valueOf(),m=b/g*(l-k)+k;return 1==e.flip&&(m=l-b/g*(l-k)),this._isDate(j.min)||this._isDate(j.max)?m=new Date(m):((void 0==e.dataField||j.useIndeces)&&(m=Math.round(m)),m<j.min&&(m=j.min),m>j.max&&(m=j.max)),m},_onSliderMouseUp:function(b){var c=a.jqx._rangeSelectorTarget;if(c){var d=b.data.groupIndex,e=b.data.swapXY,f=c._sliders[d];if(f&&"resizing"==c._resizeState.state){b.stopImmediatePropagation(),b.stopPropagation(),c._resizeState={},c.host.css("cursor","default");var g=e?"top":"left",h=e?"y":"x",i=f.element.coord()[g],j=i+(e?f.element.height():f.element.width()),k=f.getRect(),l=c._offsetToValue(d,i-k[h]),m=c._offsetToValue(d,j-k[h]),n=f.host.jqxChart("getInstance"),o=n._renderData[0].xAxis,p=o.data.axisStats;
!p.isTimeUnit&&m.valueOf()-l.valueOf()>864e5&&(l.setHours(0,0,0,0),m.setDate(m.getDate()+1),m.setHours(0,0,0,0));var q=c._getXAxis(d);if(q.flip){var r=l;l=m,m=r}for(var s=0;s<c.seriesGroups.length;s++){var t=c._getXAxis(s);t==q&&(c._selectorRange[s]={min:l,max:m})}c._isSelectorRefresh=!0;var u=c.enableAnimations;c._raiseEvent("rangeSelectionChanging",{instance:c,minValue:l,maxValue:m}),c.enableAnimations=!1,c.update(),c.enableAnimations=u,c._raiseEvent("rangeSelectionChanged",{instance:c,minValue:l,maxValue:m})}}},_onSliderMouseMove:function(b){var c=b.data.self,d=(b.data.renderTo,b.data.groupIndex),e=c._sliders[d],f=b.data.swapXY;if(e){var g=e.getRect(),h=e.element,i=a.jqx.position(b),j=h.coord(),k=f?"top":"left",l=f?"height":"width",m=f?"y":"x";if("resizing"==c._resizeState.state){if(b.stopImmediatePropagation(),b.stopPropagation(),"left"==c._resizeState.side){var n=Math.round(i[k]-j[k]),o=g[m];if(j[k]+n>=o&&j[k]+n<=o+g[l]){var p=parseInt(h.css(k)),q=Math.max(2,(f?h.height():h.width())-n);h.css(l,q),h.css(k,p+n)}}else if("right"==c._resizeState.side){var r=f?h.height():h.width(),n=Math.round(i[k]-j[k]-r),o=g[m];if(j[k]+r+n>=o&&j[k]+n+r<=o+g[l]){var q=Math.max(2,r+n);h.css(l,q)}}else if("move"==c._resizeState.side){var r=f?h.height():h.width(),p=parseInt(h.css(k)),n=Math.round(i[k]-c._resizeState.startPos);j[k]+n>=g[m]&&j[k]+n+r<=g[m]+g[l]&&(c._resizeState.startPos=i[k],h.css(k,p+n))}var s=parseInt(h.css(k))-e.rect[m],t=s+(f?h.height():h.width());c._setSliderPositions(d,s,t)}else c._testAndSetReadyResize(b)}},_testAndSetReadyResize:function(b){var c=b.data.self,d=b.data.renderTo,e=b.data.groupIndex,f=c._sliders[e],g=b.data.swapXY,h=f.getRect(),i=f.element,j=a.jqx.position(b),k=i.coord(),l=g?"left":"top",m=g?"top":"left",n=g?"width":"height",o=c._isTouchDevice?30:5;j[l]>=k[l]&&j[l]<=k[l]+h[n]?Math.abs(j[m]-k[m])<=o?(d.css("cursor",g?"row-resize":"col-resize"),c._resizeState={state:"ready",side:"left"}):Math.abs(j[m]-k[m]-(g?i.height():i.width()))<=o?(d.css("cursor",g?"row-resize":"col-resize"),c._resizeState={state:"ready",side:"right"}):j[m]+o>k[m]&&j[m]-o<k[m]+(g?i.height():i.width())?(d.css("cursor","pointer"),c._resizeState={state:"ready",side:"move",startPos:j[m]}):(d.css("cursor","default"),c._resizeState={}):(d.css("cursor","default"),c._resizeState={})},_selectorGetSize:function(a){return a.rangeSelector.renderTo?0:a.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(a,b){for(var c=this.seriesGroups[a],d=0;d<c.series.length;d++)if(void 0!==c.series[d].summary&&(summaryValue=this._getDataValue(b,c.series[d].summary,a),void 0!==summaryValue))return!0;return!1},_applyWaterfall:function(a,b,c,d,e,f,g,h,i){var j=this.seriesGroups[c];if(0==a.length)return a;for(var k=d,l={},m=[],n=void 0,o=[],p=0;p<j.series.length;p++)o.push(this._isSerieVisible(c,p));for(var q={},r=0;r<b;r++)for(var s=d,t=0,u=this._isSummary(c,r),p=0;p<a.length;p++)if(o[p]){var v=0;if(u){v=s==d?e:0,a[p][r].value=l[p],a[p][r].summary=!0,n=a[p][r].value<v,h&&(n=!n);var w=0;w=isNaN(f)?this._getDataPointOffsetDiff(a[p][r].value,v,v,NaN,g,d,h):this._getDataPointOffsetDiff(a[p][r].value+t,0==t?e:t,v||e,f,g,d,h),a[p][r].to=s+(n?w:-w),a[p][r].from=s,i&&(t+=a[p][r].value,s=a[p][r].to)}else{var x=i?-1:p;if(!isNaN(a[p][r].value)){void 0===q[x]&&(v=e,q[x]=!0),n=a[p][r].value<v,h&&(n=!n);var y=NaN,w=NaN;y=i?k:0==r?d:a[p][m[p]].to;var w=0;w=isNaN(f)?this._getDataPointOffsetDiff(a[p][r].value,v,v,NaN,g,d,h):this._getDataPointOffsetDiff(a[p][r].value+(isNaN(l[x])?0:l[x]),isNaN(l[x])?e:l[x],v||e,f,g,y,h),a[p][r].to=k=y+(n?w:-w),a[p][r].from=y,isNaN(l[x])?l[x]=a[p][r].value:l[x]+=a[p][r].value,x==-1&&(isNaN(l[p])?l[p]=a[p][r].value:l[p]+=a[p][r].value),i||(m[p]=r)}}}return a}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxCheckBox","",{}),a.extend(a.jqx._jqxCheckBox.prototype,{defineInstance:function(){var b={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"],enableValueExtension:!1,setExtensionValue:null,_exChecked:null,limitToggle:!1};return this===a.jqx._jqxCheckBox.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){var b=this;if(b._createFromInput("CheckBox"),this.enableValueExtension&&(this._exChecked=A.createModule("exboolean",this.checked,this.setExtensionValue)),b.render(),this.$dataBinders$)for(var c in this.$dataBinders$){var d=this.$dataBinders$[c];if(d){var e=this.bindDataBinder(c);d.unbindCallbackFunc(this.element.id),d.bindCallbackFunc(this.element.id,e),d.dataBind()}}},_createFromInput:function(b){var c=this;if("input"==c.element.nodeName.toLowerCase()){c.field=c.element,c.field.className&&(c._className=c.field.className);var d={title:c.field.title};c.field.value&&(d.value=c.field.value),c.field.checked&&(d.checked=!0),c.field.id.length?d.id=c.field.id.replace(/[^\w]/g,"_")+"_"+b:d.id=a.jqx.utilities.createId()+"_"+b;var e=c.element.nextSibling,f=!1;!e||"#text"!=e.nodeName&&"span"!=e.nodeName||(f=!0);var g=0,h=a("<div></div>",d);if(f){h.append(e);var i=a("<span>"+a(e).text()+"</span>");i.appendTo(a(document.body)),g+=i.width(),i.remove()}h[0].style.cssText=c.field.style.cssText,c.width||(c.width=a(c.field).width()+g+10),c.height||(c.height=a(c.field).outerHeight()+10),a(c.field).hide().after(h);var j=c.host.data();if(c.host=h,c.host.data(j),c.element=h[0],c.element.id=c.field.id,c.field.id=d.id,c._className&&(c.host.addClass(c._className),a(c.field).removeClass(c._className)),c.field.tabIndex){var k=c.field.tabIndex;c.field.tabIndex=-1,c.element.tabIndex=k}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b),this.input.val(this._getChecked()),this.host.attr("role","checkbox"),a.jqx.aria(this)}},_getChecked:function(){return this.enableValueExtension?this._exChecked.val():this.checked},_getCheckedBoolean:function(){return this.enableValueExtension?this._exChecked.getboolean():!(!this.hasThreeStates&&!this.checked)&&this.checked},_setChecked:function(a){return this.enableValueExtension?this._exChecked.val(a):"string"==typeof a?("true"==a&&(this.checked=!0),"false"==a&&(this.checked=!1),""==a&&(this.checked=null)):this.checked=a,this._getChecked()},_setCheckedBoolean:function(a){return this.enableValueExtension?this._exChecked.setboolean(a):this.checked=a,this._getCheckedBoolean()},render:function(){this.init=!0;this.setSize(),this.propertyChangeMap.width=function(a,b,c,d){a.setSize()},this.propertyChangeMap.height=function(a,b,c,d){a.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var b=parseInt(this.boxSize)+"px",c="13px",d=Math.floor((parseInt(this.boxSize)-13)/2),e=d;d+="px",e+="px","13px"!=this.boxSize?this.checkbox=a('<div><div style="width: '+b+"; height: "+b+';"><span style="position: relative; left: '+d+"; top: "+e+"; width: "+c+"; height: "+c+';"></span></div></div>'):this.checkbox=a('<div><div style="width: '+b+"; height: "+b+';"><span style="width: '+b+"; height: "+b+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=a('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=a(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var f=this.element.getAttribute("checked");"checked"!=f&&"true"!=f&&1!=f||this._setCheckedBoolean(!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox()},_centerBox:function(){if(this.height&&this.height.toString().indexOf("%")==-1&&this.box){var a=parseInt(this.height);this.host.css("line-height",a+"px");var b=a-parseInt(this.boxSize)-1;b/=2,this.box.css("margin-top",parseInt(b))}},refresh:function(a){a||(this.setSize(),this._render())},resize:function(a,b){this.width=a,this.height=b,this.refresh()},setSize:function(){null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)?null!=this.width&&this.width.toString().indexOf("%")!=-1&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)?null!=this.height&&this.height.toString().indexOf("%")!=-1&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var b=this,c=a.jqx.mobile.isTouchDevice(),d="mousedown";c&&(d=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,d,function(a){if(!b.disabled&&!b.enableContainerClick&&!b.locked)return b.changeType="mouse",b.toggle(),b.updated&&(a.owner=b,b.updated(a,b._getChecked(),b.oldChecked)),a.preventDefault&&a.preventDefault(),!1}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(a){if(!b.disabled&&!b.locked&&b.keyboardCheck&&32==a.keyCode)return!b._canFocus||(b.changeType="keyboard",b.toggle(),b.updated&&(a.owner=b,b.updated(a,b._getChecked(),b.oldChecked)),a.preventDefault&&a.preventDefault(),!1)}),this.addHandler(this.host,d,function(a){if(!b.disabled&&b.enableContainerClick&&!b.locked)return b.changeType="mouse",b.toggle(),a.preventDefault&&a.preventDefault(),b._canFocus&&b.focus(),!1}),this.addHandler(this.host,"selectstart",function(a){if(!b.disabled&&b.enableContainerClick)return a.preventDefault&&a.preventDefault(),!1}),this.addHandler(this.host,"mouseup",function(a){!b.disabled&&b.enableContainerClick&&a.preventDefault&&a.preventDefault()}),this.addHandler(this.host,"focus",function(a){if(!b.disabled&&!b.locked)return!b._canFocus||(b.enableHover&&b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-focus")),a.preventDefault&&a.preventDefault(),b.hovered=!0,!1)}),this.addHandler(this.host,"blur",function(a){if(!b.disabled&&!b.locked)return!b._canFocus||(b.enableHover&&b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-focus")),a.preventDefault&&a.preventDefault(),b.hovered=!1,!1)}),this.addHandler(this.host,"mouseenter",function(a){if(b.locked&&b.host.css("cursor","arrow"),b.enableHover&&!b.disabled&&b.enableContainerClick&&!b.locked)return b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-hover")),a.preventDefault&&a.preventDefault(),b.hovered=!0,!1}),this.addHandler(this.host,"mouseleave",function(a){if(b.enableHover&&!b.disabled&&b.enableContainerClick&&!b.locked)return b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover")),a.preventDefault&&a.preventDefault(),b.hovered=!1,!1}),this.addHandler(this.box,"mouseenter",function(){b.locked||b.disabled||b.enableContainerClick||(b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){b.disabled||b.enableContainerClick||(b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(a){}},_removeHandlers:function(){var b=a.jqx.mobile.isTouchDevice(),c="mousedown";b&&(c="touchend"),this.box&&(this.removeHandler(this.box,c),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,c),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates("load")},_setState:function(a,b){var c=this._getCheckedBoolean();c!=a&&(c=this._setCheckedBoolean(a),c?(this.host.removeClass("jqx-checkbox-indeterminate"),this.host.addClass("jqx-checkbox-checked"),this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked")):null==c?(this.host.removeClass("jqx-checkbox-checked"),this.host.addClass("jqx-checkbox-indeterminate"),this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.host.removeClass("jqx-checkbox-checked"),this.host.removeClass("jqx-checkbox-indeterminate"),this.checkMark[0].className="")),b!==!1&&b!==!0||(this.locked=b)},val:function(a){return 0==arguments.length||null!=a&&"object"==typeof a?this._getChecked():(this._setChecked(a),this.updateStates(),this._getChecked())},check:function(b){this._setCheckedBoolean(!0);var c=this;if(this.checkMark.removeClass(),this.host.removeClass("jqx-checkbox-indeterminate"),this.host.addClass("jqx-checkbox-checked"),"load"!=b&&this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(this._getChecked()),a.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var d=a.find(this.toThemeProperty(".jqx-checkbox",!0));a.each(d,function(){var d=a(this).jqxCheckBox("groupName");d==c.groupName&&this!=c.element&&a(this).jqxCheckBox("uncheck",b)})}this._raiseEvent("0",!0),this._raiseEvent("3",{checked:this._getChecked()}),void 0!=this.input&&(this.input.val(this._getChecked()),a.jqx.aria(this,"aria-checked",this._getCheckedBoolean()))},uncheck:function(b){this._setCheckedBoolean(!1);var c=this;this.host.removeClass("jqx-checkbox-checked"),this.host.removeClass("jqx-checkbox-indeterminate"),"load"!=b&&this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(this._getChecked()),a.jqx.browser.msie||0==this.animationHideDelay?""!=c.checkMark[0].className&&(c.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=c.checkMark[0].className&&(c.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:this._getChecked()}),void 0!=this.input&&(this.input.val(this._getChecked()),a.jqx.aria(this,"aria-checked",this._getCheckedBoolean()))},indeterminate:function(b){this._setCheckedBoolean(null),this.checkMark.removeClass(),this.host.removeClass("jqx-checkbox-checked"),this.host.addClass("jqx-checkbox-indeterminate"),"load"!=b&&this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(this._getChecked()),a.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:this._getChecked()}),void 0!=this.input&&(this.input.val(this._getChecked()),a.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){if(!this.disabled&&!this.locked){if(null!=this.groupName&&this.groupName.length>0)return void(1!=this._getCheckedBoolean()&&(this._setCheckedBoolean(!0),this.updateStates()));this.oldChecked=this._getChecked(),1==this._getCheckedBoolean()?this._setCheckedBoolean(!this.limitToggle&&(!!this.hasThreeStates&&null)):this._setCheckedBoolean(null!=this._getCheckedBoolean()),this.updateStates(),void 0!=this.input&&this.input.val(this._getChecked())}},updateStates:function(a){var b=this._getCheckedBoolean();b?this.check(a):0==b?this.uncheck(a):null==b&&this.indeterminate(a)},disable:function(){this.disabled=!0,1==this._getCheckedBoolean()?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this._getCheckedBoolean()&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),a.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this._getCheckedBoolean()?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this._getCheckedBoolean()&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,a.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(b,c){if(!this.init){var d=this.events[b],e=new a.Event(d);e.owner=this,c||(c={}),c.type=this.changeType,this.changeType=null,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f}},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&a.setSize()},propertyChangedHandler:function(b,c,d,e){void 0!=this.isInitialized&&0!=this.isInitialized&&(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length||("enableContainerClick"!=c||b.disabled||b.locked||(e?b.host.css("cursor","pointer"):b.host.css("cursor","auto")),"rtl"==c&&(e?(b.box.addClass(b.toThemeProperty("jqx-checkbox-rtl")),b.host.addClass(b.toThemeProperty("jqx-rtl"))):(b.box.removeClass(b.toThemeProperty("jqx-checkbox-rtl")),b.host.removeClass(b.toThemeProperty("jqx-rtl")))),"boxSize"==c&&b.render(),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"checked"==c&&e!=d&&(b._setChecked(e),b.updateStates()),"disabled"==c&&e!=d&&(e?b.disable():b.enable())))},bindDataBinder:function(a){var b=this;if("value"==a)return function(a){var c,d=arguments[1];"update"==a?(c=void 0!==d.value&&d.value,b.val(c)):"load"==a&&(c=d.records,void 0===c?b._setCheckedBoolean(!1):b._setChecked(c),b.updateStates("load"))}}})}(jqxBaseFramework,A),function(a){a.jqx.jqxWidget("jqxColorPicker","",{}),a.extend(a.jqx._jqxColorPicker.prototype,{defineInstance:function(){var b={disabled:!1,height:null,width:null,color:new a.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return this===a.jqx._jqxColorPicker.prototype?b:(a.extend(!0,this,b),b)},_createFromInput:function(b){var c=this;if("input"==c.element.nodeName.toLowerCase()){c.field=c.element,c.field.className&&(c._className=c.field.className);var d={title:c.field.title};if(c.field.getAttribute("value")){var e=c.field.getAttribute("value");c.color=new a.jqx.color({hex:e})}c.field.id.length?d.id=c.field.id.replace(/[^\w]/g,"_")+"_"+b:d.id=a.jqx.utilities.createId()+"_"+b;var f=a("<div></div>",d);f[0].style.cssText=c.field.style.cssText,c.width||(c.width=a(c.field).width()),c.height||(c.height=a(c.field).outerHeight()),a(c.field).hide().after(f);var g=c.host.data();if(c.host=f,c.host.data(g),c.element=f[0],c.element.id=c.field.id,c.field.id=d.id,c._className&&(c.host.addClass(c._className),a(c.field).removeClass(c._className)),c.field.tabIndex){var h=c.field.tabIndex;c.field.tabIndex=-1,c.element.tabIndex=h}}},createInstance:function(b){this._createFromInput("jqxColorPicker"),this.render();var c=this;a.jqx.utilities.resize(this.host,function(){c._setSize(),c.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=a.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new a.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=a("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=a("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=a("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=a("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=a("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=a("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=a("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=a("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=a("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=a("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=a("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=a("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=a("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=a("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(a){return 0==arguments.length?"#"+this.color.hex:(this.setColor(a),this.color.hex)},_setPositionFromValue:function(){var a=this,b=a.color.h,c=100-a.color.v,d=a.colorMap.height(),e=a.colorMap.width(),f=b*e/360,g=c*d/100;if("saturation"==this.colorMode){var h=100-a.color.s;h=h*d/100,a._saturation=100-a.color.s,a.colorMapPointer.css("margin-left",f-8),a.colorMapPointer.css("margin-top",g-8),a.colorBarPointer.css("margin-top",h-8),a.colorMapImageOverlay.css("opacity",(100-a.color.s)/100)}else{var b=a.color.s,f=b*e/100,g=c*d/100,h=360-a.color.h;h=h*d/360,a._hue=a.color.h,a.colorMapPointer.css("margin-left",f-8),a.colorMapPointer.css("margin-top",g-8),a.colorBarPointer.css("margin-top",h-8)}},updateRGB:function(){var a=this;a.color.setRgb(a.red.val(),a.green.val(),a.blue.val()),a._updateUI(),a._raiseEvent("0",{color:a.color}),a.color.transparent=!1},_setPosition:function(b,c,d){var e=parseInt(b.pageX),f=parseInt(c.offset().left),g=parseInt(b.pageY),h=parseInt(c.offset().top);if(this._isTouchDevice){var i=a.jqx.position(b);e=i.left,g=i.top}d[0].className.indexOf("jqx-color-picker-bar")==-1&&d.css("margin-left",e-8-f),g>=h&&g<=h+c.height()&&d.css("margin-top",g-8-h)},_handleKeyInput:function(a,b,c){if(!a.disabled){if(!a._validateKey(b))return b;c.val(a._setValueInRange(c.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var b=this;this.addHandler(this.colorMapPointer,"dragStart",function(a){return a.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(a){return a.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(a){b._raiseEvent("0",{color:"transparent"}),a.preventDefault(),b.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(a){return a.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(a){b._handleKeyInput(b,a,b.blue)}),this.addHandler(this.green,"keyup blur",function(a){b._handleKeyInput(b,a,b.green)}),this.addHandler(this.red,"keyup blur",function(a){b._handleKeyInput(b,a,b.red)}),this.addHandler(this.hex,"keyup blur",function(a){if(!b.disabled)return b._validateKey(a)?void(6==b.hex.val().toString().length&&(b.hex.val(b.color.validateHex(b.hex.val())),b.color.setHex(b.hex.val()),b._updateUI(),b._setPositionFromValue(),b._raiseEvent("0",{color:b.color}))):a}),this.addHandler(this.colorMap,"dragstart",function(a){return a.preventDefault(),!1});var c=function(a){if(b._setPosition(a,b.colorMap,b.colorMapPointer),"saturation"==b.colorMode){var c=b._valuesFromMouse(a,b.colorMap,360,100);c.x>360&&(c.x=360),b.color.setHsv(c.x,null!=b._saturation?100-b._saturation:100,100-c.y)}else{var c=b._valuesFromMouse(a,b.colorMap,100,100);c.x>100&&(c.x=100),b.color.setHsv(null!=b._hue?b._hue:360,c.x,100-c.y)}b._updateUI(),b._raiseEvent("0",{color:b.color}),b.color.transparent=!1},d="mousedown.picker"+this.element.id;this._isTouchDevice&&(d=a.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,d,function(a){b.disabled||(b.beginDrag=!0,c(a))});var e="mousemove.picker"+this.element.id;this._isTouchDevice&&(e=a.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(a(document),e,function(a){b.disabled||1==b.beginDrag&&(c(a),b._isTouchDevice&&a.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(a){return a.preventDefault(),!1});var f=function(a){if(b._setPosition(a,b.colorBar,b.colorBarPointer),"saturation"==b.colorMode){var c=b._valuesFromMouse(a,b.colorBar,100,100);b.color.s=c.y,b._saturation=c.y,b.colorMapImageOverlay.css("opacity",b.color.s/100),b.color.setHsv(b.color.h,100-b.color.s,b.color.v)}else{var c=b._valuesFromMouse(a,b.colorBar,100,360);b.color.h=360-c.y,b._hue=b.color.h,b.color.setHsv(b.color.h,b.color.s,b.color.v)}b._updateUI(),b._raiseEvent("0",{color:b.color}),b.color.transparent=!1},g="mousemove.colorBar"+this.element.id,h="mousedown.colorBar"+this.element.id,i="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(g=a.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,h=a.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,i=a.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,h,function(a){b.disabled||(b.beginDragBar=!0,f(a))}),this.addHandler(a(document),g,function(a){b.disabled||1==b.beginDragBar&&(f(a),b._isTouchDevice&&a.preventDefault())}),this.addHandler(a(document),i,function(a){b.disabled||(b.beginDrag=!1,b.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var b=this.element.id,c="mousemove.colorBar"+b,d="mousedown.colorBar"+b,e="mouseup.colorBar"+b,f="mousedown.picker"+b,g="mousemove.picker"+b;this._isTouchDevice&&(c=a.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+b,d=a.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+b,e=a.jqx.mobile.getTouchEventName("touchend")+".colorBar"+b,f=a.jqx.mobile.getTouchEventName("touchstart")+".picker"+b,g=a.jqx.mobile.getTouchEventName("touchmove")+".picker"+b),this.removeHandler(this.colorMap,f),this.removeHandler(this.colorMap,g),this.removeHandler(this.colorBar,d),this.removeHandler(this.colorBar,c),this.removeHandler(a(document),g),this.removeHandler(a(document),c),this.removeHandler(a(document),e)},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b],e=c?c:{};e.owner=this;var f=new a.Event(d);f.owner=this,f.args=e;var g=this.host.trigger(f);return g},setColor:function(b){b&&("transparent"==b?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):b.r?this.color=new a.jqx.color({rgb:b}):"#"==b.substring(0,1)?this.color=new a.jqx.color({hex:b.substring(1)}):this.color=new a.jqx.color({hex:b}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(a,b){this.width=a,this.height=b,this._setSize(),this.refresh()},propertyChangedHandler:function(a,b,c,d){void 0!=a.isInitialized&&0!=a.isInitialized&&("colorMode"==b&&a.refresh(),"color"==b&&(a._updateUI(),a._setPositionFromValue(),a._raiseEvent("0",{color:d})),"width"!=b&&"height"!=b||(a._setSize(),a.refresh()),"showTransparent"==b&&a.refresh(),"disabled"==b&&(this.element.disabled=d,d?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(b,c,d,e){var f=0,g=0,h=c.offset(),i=c.height(),j=c.width(),k=b.pageX,l=b.pageY;if(this._isTouchDevice){var m=a.jqx.position(b);k=m.left,l=m.top}f=k<h.left?0:k>h.left+j?j:k-h.left+1,g=l<h.top?0:l>h.top+i?i:l-h.top+1;var n=parseInt(f/j*d),o=parseInt(g/i*e);return{x:n,y:o}},_validateKey:function(a){return 9!=a.keyCode&&16!=a.keyCode&&38!=a.keyCode&&29!=a.keyCode&&40!=a.keyCode&&17!=a.keyCode&&37!=a.keyCode&&(!a.ctrlKey||a.keyCode!="c".charCodeAt()&&a.keyCode!="v".charCodeAt())&&(!a.ctrlKey||a.keyCode!="C".charCodeAt()&&a.keyCode!="V".charCodeAt())&&(!a.ctrlKey&&!a.shiftKey)},_setValueInRange:function(a,b,c){return""==a||isNaN(a)?b:(a=parseInt(a),a>c?c:a<b?b:a)},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove();
},setPointerStyle:function(a){this.colorMapPointer.removeClass(),"transparent"!=a&&""!=a.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));var b=105,c=.299*a.r+.587*a.g+.114*a.b,d=255-c<b?"Black":"White";"Black"==d?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){var b=this;b.red.val(b.color.r),b.green.val(b.color.g),b.blue.val(b.color.b),b.hex.val(b.color.hex);var c=new a.jqx.color({hex:"fff"});"saturation"==this.colorMode?(c.setHsv(this.color.h,100,this.color.v),b.colorBar.css("background","#"+c.hex)):(c.setHsv(this.color.h,100,100),b.colorMap.css("background-color","#"+c.hex)),b.preview.css("background","#"+this.color.hex),b.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&this.width.toString().indexOf("%")!=-1&&this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("%")!=-1&&this.host.height(this.height)},_arrange:function(){var a=this.host.height(),b=this.host.width(),c=a-44;if(this.showTransparent&&(c=a-64),!(c<=0)){this.colorMap.width(85*b/100),this.colorMap.height(c),this.colorBar.height(c),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*b/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(b),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",c+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var d=this.red.prev().outerWidth()-this.hex.prev().outerWidth();d<4&&(d=4),this.hex.css("margin-left",d+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var e=this.hex.width(),f=e-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return f>0?(this.blue.width(f/3),this.green.width(f/3),void this.red.width(f/3)):void 0}},_getColorPointer:function(){var b=a("<div></div>");return b.addClass(this.toThemeProperty("jqx-color-picker-pointer")),b},_getImageUrl:function(a){var b=a.css("backgroundImage");return b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=a("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=a("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=a("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=a("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),a.jqx.color=function(a){var b={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(a){a=this.validateHex(a);var b="00",c="00",d="00";return 6==a.length?(b=a.substring(0,2),c=a.substring(2,4),d=a.substring(4,6)):(a.length>4&&(b=a.substring(4,a.length),a=a.substring(0,4)),a.length>2&&(c=a.substring(2,a.length),a=a.substring(0,2)),a.length>0&&(d=a.substring(0,a.length))),{r:this.hexToInt(b),g:this.hexToInt(c),b:this.hexToInt(d)}},validateHex:function(a){return a=new String(a).toUpperCase(),a=a.replace(/[^A-F0-9]/g,"0"),a.length>6&&(a=a.substring(0,6)),a},webSafeDec:function(a){return a=Math.round(a/51),a*=51},hexToWebSafe:function(a){var b,c,d;return 3==a.length?(b=a.substring(0,1),c=a.substring(1,1),d=a.substring(2,1)):(b=a.substring(0,2),c=a.substring(2,4),d=a.substring(4,6)),intToHex(this.webSafeDec(this.hexToInt(b)))+this.intToHex(this.webSafeDec(this.hexToInt(c)))+this.intToHex(this.webSafeDec(this.hexToInt(d)))},rgbToWebSafe:function(a){return{r:this.webSafeDec(a.r),g:this.webSafeDec(a.g),b:this.webSafeDec(a.b)}},rgbToHex:function(a){return this.intToHex(a.r)+this.intToHex(a.g)+this.intToHex(a.b)},intToHex:function(a){var b=parseInt(a).toString(16);return 1==b.length&&(b="0"+b),b.toUpperCase()},hexToInt:function(a){return parseInt(a,16)},hslToRgb:function(a){var b=parseInt(a.h)/360,c=parseInt(a.s)/100,d=parseInt(a.l)/100;if(d<=.5)var e=d*(1+c);else var e=d+c-d*c;var f=2*d-e,g=b+1/3,h=b,i=b-1/3,j=Math.round(255*this.hueToRgb(f,e,g)),k=Math.round(255*this.hueToRgb(f,e,h)),l=Math.round(255*this.hueToRgb(f,e,i));return{r:j,g:k,b:l}},hueToRgb:function(a,b,c){return c<0?c+=1:c>1&&(c-=1),6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a},rgbToHsv:function(a){var b=a.r/255,c=a.g/255,d=a.b/255;hsv={h:0,s:0,v:0};var e=0,f=0;return b>=c&&b>=d?(f=b,e=c>d?d:c):c>=d&&c>=b?(f=c,e=b>d?d:b):(f=d,e=c>b?b:c),hsv.v=f,hsv.s=f?(f-e)/f:0,hsv.s?(delta=f-e,b==f?hsv.h=(c-d)/delta:c==f?hsv.h=2+(d-b)/delta:hsv.h=4+(b-c)/delta,hsv.h=parseInt(60*hsv.h),hsv.h<0&&(hsv.h+=360)):hsv.h=0,hsv.s=parseInt(100*hsv.s),hsv.v=parseInt(100*hsv.v),hsv},hsvToRgb:function(a){rgb={r:0,g:0,b:0};var b=a.h,c=a.s,d=a.v;if(0==c)0==d?rgb.r=rgb.g=rgb.b=0:rgb.r=rgb.g=rgb.b=parseInt(255*d/100);else{360==b&&(b=0),b/=60,c/=100,d/=100;var e=parseInt(b),f=b-e,g=d*(1-c),h=d*(1-c*f),i=d*(1-c*(1-f));switch(e){case 0:rgb.r=d,rgb.g=i,rgb.b=g;break;case 1:rgb.r=h,rgb.g=d,rgb.b=g;break;case 2:rgb.r=g,rgb.g=d,rgb.b=i;break;case 3:rgb.r=g,rgb.g=h,rgb.b=d;break;case 4:rgb.r=i,rgb.g=g,rgb.b=d;break;case 5:rgb.r=d,rgb.g=g,rgb.b=h}rgb.r=parseInt(255*rgb.r),rgb.g=parseInt(255*rgb.g),rgb.b=parseInt(255*rgb.b)}return rgb},setRgb:function(a,b,c){var d=function(a){return a<0||a>255?0:isNaN(parseInt(a))?0:a};this.r=d(a),this.g=d(b),this.b=d(c);var e=this.rgbToHsv(this);this.h=e.h,this.s=e.s,this.v=e.v,this.hex=this.rgbToHex(this)},setHsl:function(a,b,c){this.h=a,this.s=b,this.l=c;var d=this.hslToRgb(this);this.r=d.r,this.g=d.g,this.b=d.b,this.hex=this.rgbToHex(d)},setHsv:function(a,b,c){this.h=a,this.s=b,this.v=c;var d=this.hsvToRgb(this);this.r=d.r,this.g=d.g,this.b=d.b,this.hex=this.rgbToHex(d)},setHex:function(a){this.hex=a;var b=this.hexToRgb(this.hex);this.r=b.r,this.g=b.g,this.b=b.b;var c=this.rgbToHsv(b);this.h=c.h,this.s=c.s,this.v=c.v}};if(a)if(a.hex){var c=b.validateHex(a.hex);b.setHex(c)}else a.r?b.setRgb(a.r,a.g,a.b):a.h?b.setHsv(a.h,a.s,a.v):a.rgb&&b.setRgb(a.rgb.r,a.rgb.g,a.rgb.b);return b}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxComboBox","",{}),a.extend(a.jqx._jqxComboBox.prototype,{defineInstance:function(){var b={disabled:!1,width:200,height:25,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,autoItemsHeight:!1,scrollBarSize:a.jqx.utilities.scrollBarSize,arrowSize:18,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",emptyString:"",ready:null,openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",dropDownContainer:"default",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,template:"",checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:1e5,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===a.jqx._jqxComboBox.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){if(this.host.attr("role","combobox"),a.jqx.aria(this,"aria-autocomplete","both"),null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");a.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var b=this,c=b.element.nodeName.toLowerCase();if("select"==c||"ul"==c||"ol"==c){b.field=b.element,b.field.className&&(b._className=b.field.className);var d={title:b.field.title};b.field.id.length?d.id=b.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":d.id=a.jqx.utilities.createId()+"_jqxComboBox";var e=a("<div></div>",d);b.width||(b.width=a(b.field).width()),b.height||(b.height=a(b.field).outerHeight()),b.element.style.cssText=b.field.style.cssText,a(b.field).hide().after(e);var f=b.host.data();if(b.host=e,b.host.data(f),b.element=e[0],b.element.id=b.field.id,b.field.id=d.id,b._className&&(b.host.addClass(b._className),a(b.field).removeClass(b._className)),b.field.tabIndex){var g=b.field.tabIndex;b.field.tabIndex=-1,b.element.tabIndex=g}if(""!=b.field.innerHTML){var h=a.jqx.parseSourceTag(b.field);b.source=h.items,b.selectedIndex==-1&&(b.selectedIndex=h.index)}}else if(b.host.find("li").length>0||b.host.find("option").length>0){var h=a.jqx.parseSourceTag(b.element);b.source=h.items}b.removeHandlers(),b.isanimating=!1,b.id=a.jqx.utilities.createId(),b.element.innerHTML="";var i=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(b.comboStructure=i,null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";b.touch=a.jqx.mobile.isTouchDevice(),b.touchMode===!0&&(b.touch=!0),b.host.append(i),b.dropdownlistWrapper=b.host.find("#dropdownlistWrapper"),b.dropdownlistArrow=b.host.find("#dropdownlistArrow"),b.dropdownlistContent=b.host.find("#dropdownlistContent"),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-widget-content")),b.dropdownlistWrapper[0].id="dropdownlistWrapper"+b.element.id,b.dropdownlistArrow[0].id="dropdownlistArrow"+b.element.id,b.dropdownlistContent[0].id="dropdownlistContent"+b.element.id,b.template&&b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-"+b.template)),b.dropdownlistContent.append(a('<input autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="box-sizing: border-box; margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>')),b.input=b.dropdownlistContent.find("input"),b.input.addClass(b.toThemeProperty("jqx-combobox-input")),b.input.addClass(b.toThemeProperty("jqx-widget-content")),b.host.attr("tabindex")&&(b.input.attr("tabindex",b.host.attr("tabindex")),b.host.removeAttr("tabindex")),b._addInput(),b.rtl&&(b.input.css({direction:"rtl"}),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content-rtl")));try{var j="listBox"+b.id,k=a(a.find("#"+j));k.length>0&&k.remove(),a.jqx.aria(this,"aria-owns",j),a.jqx.aria(this,"aria-haspopup",!0),a.jqx.aria(this,"aria-multiline",!1),b.listBoxContainer&&b.listBoxContainer.jqxListBox("destroy"),b.container&&b.container.remove();var l=a("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+b.id+"'><div id='innerListBox"+b.id+"'></div></div>");l.hide(),"element"==b.dropDownContainer?l.appendTo(b.host):l.appendTo(document.body),b.container=l,b.listBoxContainer=a(a.find("#innerListBox"+b.id));var m=b.width;"auto"!=b.dropDownWidth&&(m=b.dropDownWidth),null==b.dropDownHeight&&(b.dropDownHeight=200),b.container.width(parseInt(m)+25),b.container.height(parseInt(b.dropDownHeight)+25),b._ready=!1,b.addHandler(b.listBoxContainer,"bindingComplete",function(c){b.listBox||(b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance),b._ready||(b.ready&&b.ready(),b._ready=!0),b._raiseEvent("6")}),b.addHandler(b.listBoxContainer,"select",function(a){if(!b.disabled&&("keyboard"!=a.args.type||b.keyboardSelection)&&(b.renderSelection(a.args.type),b.multiSelect||b._raiseEvent("2",{index:a.args.index,type:a.args.type,item:a.args.item}),"mouse"==a.args.type&&(b._oldvalue=b.listBox.selectedValue,!b.checkboxes))){if(b.hideListBox("mouse"),b.touch)return!1;b.input.focus()}}),b.addHandler(b.listBoxContainer,"itemAdd",function(a){b._raiseEvent("7",a.args)}),b.addHandler(b.listBoxContainer,"itemRemove",function(a){b._raiseEvent("8",a.args)}),b.addHandler(b.listBoxContainer,"itemUpdate",function(a){b._raiseEvent("9",a.args)});var n=!0;b.listBoxContainer.jqxListBox({autoItemsHeight:b.autoItemsHeight,$dataBinders$:b.$dataBinders$,_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:b.checkboxes,emptyString:b.emptyString,autoBind:!b.remoteAutoComplete&&b.autoBind,renderer:b.renderer,rtl:b.rtl,itemHeight:b.itemHeight,selectedIndex:b.selectedIndex,incrementalSearch:!1,width:m,scrollBarSize:b.scrollBarSize,autoHeight:b.autoDropDownHeight,height:b.dropDownHeight,groupMember:b.groupMember,searchMember:b.searchMember,displayMember:b.displayMember,valueMember:b.valueMember,source:b.source,theme:b.theme,rendered:function(){if(b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance,b.remoteAutoComplete)if(b.autoDropDownHeight?(b.container.height(b.listBox.virtualSize.height+25),b.listBoxContainer.height(b.listBox.virtualSize.height),b.listBox._arrange()):(b.listBox._arrange(),b.listBox.ensureVisible(0),b.listBox._renderItems(),b.container.height(b.listBoxContainer.height()+25)),void 0!=b.searchString&&b.searchString.length>=b.minLength){var c=b.listBoxContainer.jqxListBox("items");c&&c.length>0?b.isOpened()||b.open():b.close()}else b.close();else b.renderSelection("mouse"),b.multiSelect&&b.doMultiSelect(!1);b.rendered&&b.rendered()}}),"element"==b.dropDownContainer?b.listBoxContainer.css({position:"absolute",top:0,left:0}):b.listBoxContainer.css({position:"absolute",zIndex:b.popupZIndex,top:0,left:0}),b.listBoxContainer.css("border-top-width","1px"),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.template&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-"+b.template+"-item")),b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance,b.listBox.enableSelection=b.enableSelection,b.listBox.enableHover=b.enableHover,b.listBox.equalItemsWidth=b.equalItemsWidth,b.listBox._arrange(),b.addHandler(b.listBoxContainer,"unselect",function(a){b.multiSelect||b._raiseEvent("3",{index:a.args.index,type:a.args.type,item:a.args.item})}),b.addHandler(b.listBoxContainer,"change",function(a){b.multiSelect||(b.selectedIndex=b.listBox.selectedIndex,b._raiseEvent("4",{index:a.args.index,type:a.args.type,item:a.args.item}))}),"none"==b.animationType?b.container.css("display","none"):b.container.hide(),n=!1}catch(o){throw o}var b=this;b.input.attr("disabled",b.disabled);var p=a.jqx.browser.msie&&a.jqx.browser.version<8;if(p||b.input.attr("placeholder",b.placeHolder),b.propertyChangeMap.disabled=function(c,d,e,f){f?(c.host.addClass(b.toThemeProperty("jqx-combobox-state-disabled")),c.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),c.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content-disabled"))):(c.host.removeClass(b.toThemeProperty("jqx-combobox-state-disabled")),c.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),c.dropdownlistContent.removeClass(b.toThemeProperty("jqx-combobox-content-disabled"))),c.input.attr("disabled",c.disabled),a.jqx.aria(c,"aria-disabled",c.disabled),c.input.attr("disabled",c.disabled)},b.disabled&&(b.host.addClass(b.toThemeProperty("jqx-combobox-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content-disabled"))),b.host.addClass(b.toThemeProperty("jqx-combobox-state-normal")),b.host.addClass(b.toThemeProperty("jqx-combobox")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.dropdownlistArrowIcon=a("<div></div>"),"top"==b.dropDownVerticalAlignment?b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-up")):b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon")),b.dropdownlistArrow.append(b.dropdownlistArrowIcon),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-normal")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-normal")),b.rtl?b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-rc-l")):b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-rc-r")),b._setSize(),b._updateHandlers(),b.addHandler(b.input,"keyup.textchange",function(a){b._writeTimer&&clearTimeout(b._writeTimer),b._writeTimer=setTimeout(function(){b._search(a);b.cinput&&b.input&&(b.displayMember?b._updateInputSelection():b.cinput[0].value=b.input[0].value)},50)}),a.jqx.browser.msie&&a.jqx.browser.version<8&&b.host.parents(".jqx-window").length>0){var q=b.host.parents(".jqx-window").css("z-index");l.css("z-index",q+10),b.listBoxContainer.css("z-index",q+10)}b.checkboxes?(b.input.attr("readonly",!0),a.jqx.aria(this,"aria-readonly",!0)):a.jqx.aria(this,"aria-readonly",!1),b.remoteAutoComplete||(b.searchString="")},_addInput:function(){var b=this.host.attr("name");this.cinput=a("<input type='hidden'/>"),this.host.append(this.cinput),b&&this.cinput.attr("name",b)},_updateInputSelection:function(){if(this.cinput){var b=new Array;if(this.selectedIndex==-1)this.cinput.val("");else{var c=this.getSelectedItem();null!=c?(this.cinput.val(c.value),b.push(c.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)var d=this.getSelectedItems();else var d=this.getCheckedItems();var e="";if(null!=d)for(var f=0;f<d.length;f++)e+=f==d.length-1?d[f].value:d[f].value+",",b.push(d[f].value);this.cinput.val(e)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?a.each(this.field,function(c,d){a(this).removeAttr("selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this).attr("selected",!0)}):a.each(this.items,function(c,d){a(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(b){var c=this;if(9!=b.keyCode&&"none"!=c.searchMode&&null!=c.searchMode&&"undefined"!=c.searchMode&&16!=b.keyCode&&17!=b.keyCode&&20!=b.keyCode&&!c.checkboxes){if(c.multiSelect){var d=a("<span style='visibility: hidden; white-space: nowrap;'>"+c.input.val()+"</span>");d.addClass(c.toThemeProperty("jqx-widget")),a(document.body).append(d);var e=d.width()+15;d.remove(),e>c.host.width()&&(e=c.host.width()),e<25&&(e=25),c.input.css("width",e+"px"),0==c.selectedItems.length?(c.input.css("width","100%"),c.input.attr("placeholder",c.placeHolder)):c.input.attr("placeholder","");var f=parseInt(this._findPos(c.host[0])[1])+parseInt(c.host.outerHeight())-1+"px",g=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();null!=g&&g&&(f=a.jqx.mobile.getTopPos(this.element)+parseInt(c.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(f=parseInt(f)-this._getBodyOffset().top+"px")),c.container.css("top",f);var h=parseInt(c.host.height());c.dropdownlistArrow.height(h)}if(!c.isanimating){if(b.altKey&&38==b.keyCode)return c.hideListBox("altKey"),!1;if(b.altKey&&40==b.keyCode)return c.isOpened()||c.showListBox("altKey"),!1}if(37==b.keyCode||39==b.keyCode)return!1;if(!b.altKey&&18!=b.keyCode&&!(b.keyCode>=33&&b.keyCode<=40||(b.ctrlKey||c.ctrlKey)&&88!=b.keyCode&&86!=b.keyCode)){var i=c.input.val();if(0==i.length&&!c.autoComplete)return c.listBox.searchString=c.input.val(),c.listBox.clearSelection(),c.hideListBox("search"),void(c.searchString=c.input.val());if(c.remoteAutoComplete){var c=this,j=function(){c.listBox.vScrollInstance.value=0};if(i.length>=c.minLength){if(!b.ctrlKey&&!b.altKey){if(c.searchString!=i){var k=c.listBoxContainer.jqxListBox("source");null==k&&c.listBoxContainer.jqxListBox({source:c.source}),c._searchTimer&&clearTimeout(c._searchTimer),13!=b.keyCode&&27!=b.keyCode&&(c._searchTimer=setTimeout(function(){if(j(),c.autoDropDownHeight&&(c.listBox.autoHeight=!0),c.searchString=c.input.val(),null==c.search)throw"'search' function is not defined";c.search(c.input.val())},c.remoteAutoCompleteDelay))}c.searchString=i}}else c._searchTimer&&clearTimeout(c._searchTimer),j(),c.searchString="",c.search(""),c.listBoxContainer.jqxListBox({source:null})}else{var c=this;if(i!==c.searchString){if("27"!=b.keyCode&&"13"!=b.keyCode){var l=c.input[0].value,m=c._updateItemsVisibility(i),n=m.matchItems;c.autoComplete&&c.autoItemsHeight&&(c.input[0].value=l);var o=m.index;if(!c.autoComplete&&!c.remoteAutoComplete&&(!c.multiSelect||c.multiSelect&&o>=0)){c.listBox.selectIndex(o);var p=c.listBox.isIndexInView(o);p?c.listBox._renderItems():c.listBox.ensureVisible(o)}c.autoComplete&&0===n.length&&c.hideListBox("search")}if("13"==b.keyCode){var q="block"==c.container.css("display");if(q&&!c.isanimating)return c.hideListBox("keyboard"),void(c._oldvalue=c.listBox.selectedValue)}else if("27"==b.keyCode){var q="block"==c.container.css("display");if(q&&!c.isanimating){if(c.multiSelect)c.input.val(""),c.listBox.selectedValue=null;else{var r=c.listBox.getVisibleItem(c._oldvalue);if(r){var c=this;setTimeout(function(){c.autoComplete&&c._updateItemsVisibility(""),c.listBox.selectIndex(r.index),c.renderSelection("api")},c.closeDelay)}else c.clearSelection()}return c.hideListBox("keyboard"),c.renderSelection("api"),b.preventDefault(),!1}}else{c.isOpened()||c.opening||b.ctrlKey||c.listBox.visibleItems&&c.listBox.visibleItems.length>0&&c.input.val()!=c.searchString&&void 0!=c.searchString&&o!=-1&&c.showListBox("search"),c.searchString=c.input.val(),""==c.searchString&&(c.listBox.itemsByValue[""]||(o=-1,c.multiSelect||c.clearSelection()));var r=c.listBox.getVisibleItem(o);void 0!=r&&c._updateInputSelection()}}}}}},val:function(a){if(!this.input)return"";var b=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return"number"!=typeof a&&("date"!=typeof a&&("boolean"!=typeof a&&"string"!=typeof a))};if(b(a)||0==arguments.length){var c=this.getSelectedItem();return c?c.value:this.input.val()}if(a===this.input.val())return a;var c=this.getItemByValue(a);return null!=c?this.selectItem(c):this.input.val(a),this.input.val()},focus:function(){var a=this,b=function(){a.input.focus();var b=a.input.val();a._setSelection(0,b.length)};b(),setTimeout(function(){b()},10)},_setSelection:function(a,b){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(a,b);else{var c=this.input[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}}catch(d){}},setContent:function(a){this.input.val(a)},_updateItemsVisibility:function(b){var c=this.getItems();if(void 0==c)return{index:-1,matchItem:new Array};var d=this,e=-1,f=new Array,g=0;a.each(c,function(c){var h="";if(!this.isGroup){h=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",h=h.toString();var i=!1;switch(d.searchMode){case"containsignorecase":i=a.jqx.string.containsIgnoreCase(h,b);break;case"contains":i=a.jqx.string.contains(h,b);break;case"equals":i=a.jqx.string.equals(h,b);break;case"equalsignorecase":i=a.jqx.string.equalsIgnoreCase(h,b);break;case"startswith":i=a.jqx.string.startsWith(h,b);break;case"startswithignorecase":i=a.jqx.string.startsWithIgnoreCase(h,b);break;case"endswith":i=a.jqx.string.endsWith(h,b);break;case"endswithignorecase":i=a.jqx.string.endsWithIgnoreCase(h,b)}if(d.autoComplete&&!i&&(this.visible=!1),i&&d.autoComplete&&(f[g++]=this,this.visible=!0,e=this.visibleIndex),""==b&&d.autoComplete&&(this.visible=!0,i=!1),d.multiSelect&&(this.disabled=!1,(d.selectedItems.indexOf(this.value)>=0||d._disabledItems.indexOf(this.value)>=0)&&(this.disabled=!0,i=!1)),d.multiSelect){if(i&&!d.autoComplete)return e===-1&&(e=this.visibleIndex),!0}else if(i&&!d.autoComplete)return e=this.visibleIndex,!1}}),this.listBox.searchString=b;var d=this,h=function(){if(d.multiSelect){for(var a=0,b=!1,c=null,e=0;e<d.listBox.items.length;e++)d.listBox.selectedIndexes[e]=-1,d.listBox.items[e].disabled||0==b&&(c=d.listBox.items[e],a=c.visibleIndex,b=!0);d.listBox.selectedIndex=-1,d.listBox.selectedIndex=a,d.listBox.selectedIndexes[a]=a,d.listBox.visibleItems.length>0&&c?d.listBox.selectedValue=c.value:d.listBox.selectedValue=null,d.listBox.ensureVisible(0)}};if(!this.autoComplete)return h(),{index:e,matchItems:f};this.listBox.renderedVisibleItems=new Array;var i=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var j=this.listBox.selectedValue,k=this.listBox.getItemByValue(j);if(this.multiSelect)h();else if(k)if(k.visible){this.listBox.selectedIndex=k.visibleIndex;for(var l=0;l<this.listBox.items.length;l++)this.listBox.selectedIndexes[l]=-1;this.listBox.selectedIndexes[k.visibleIndex]=k.visibleIndex}else{for(var l=0;l<this.listBox.items.length;l++)this.listBox.selectedIndexes[l]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var m=this.listBox._calculateVirtualSize().height;if(m<i&&(i=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(m+25),this.listBox.invalidate(),this._disableSelection=!1;else if(m<parseInt(this.dropDownHeight)){var n="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=n+m,this.container.height(m+25+n),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(i),{index:e,matchItems:f}},findItems:function(b){var c=this.getItems(),d=this,e=0,f=new Array;return a.each(c,function(c){var g="";if(!this.isGroup){g=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var h=!1;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(g,b);break;case"contains":h=a.jqx.string.contains(g,b);break;case"equals":h=a.jqx.string.equals(g,b);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(g,b);break;case"startswith":h=a.jqx.string.startsWith(g,b);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(g,b);break;case"endswith":h=a.jqx.string.endsWith(g,b);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(g,b)}h&&(f[e++]=this)}}),f},_resetautocomplete:function(){a.each(this.listBox.items,function(a){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){var a=this.listBox.items;return a},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;if(null!=this.width&&this.width.toString().indexOf("%")!=-1&&(b=!0,this.host.width(this.width)),null!=this.height&&this.height.toString().indexOf("%")!=-1&&(b=!0,this.host.height(this.height)),b){var c=this,d=this.host.width();"auto"!=this.dropDownWidth&&(d=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:d}),this.container.width(parseInt(d)+25),this._arrange()}var c=this,e=function(){c.multiSelect&&c.host.height(c.height),c._arrange(),c.multiSelect&&c.host.height("auto")};c.oldWidth=c.host.width(),c.oldHeight=c.host.height(),a.jqx.utilities.resize(this.host,function(){var a=c.host.width(),b=c.host.height();a==c.oldWidth&&b==c.oldHeight||(e(),c.hideListBox("api")),c.oldWidth=a,c.oldHeight=b})},isOpened:function(){var b=this,c=a.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"==this.container.css("display")&&(null!=c&&c==b.listBoxContainer)},_updateHandlers:function(){var b=this,c=!1;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(a){return!a.target.href&&(b.input.focus(),void setTimeout(function(){b.input.focus()},10))}),this.addHandler(this.dropdownlistContent,"focus",function(a){return!a.target.href&&(b.input.focus(),void setTimeout(function(){b.input.focus()},10))})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(a){var c=b.isOpened();c&&b.close()}),this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&(c=!0,b.host.addClass(b.toThemeProperty("jqx-combobox-state-hover")),"top"==b.dropDownVerticalAlignment?b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-up")):b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),
b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-hover")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&(b.host.removeClass(b.toThemeProperty("jqx-combobox-state-hover")),b.dropdownlistArrowIcon.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.dropdownlistArrowIcon.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover")),b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-combobox-arrow-hover")),b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-fill-state-hover")),c=!1)})),b.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var a=b.isOpened();!a&&b.autoOpen&&(b.open(),b.host.focus())}),this.addHandler(a(document),"mousemove."+b.id,function(a){var c=b.isOpened();if(c&&b.autoOpen){var d=b.host.coord(),e=d.top,f=d.left,g=b.container.coord(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+b.host.height()+2&&a.pageX>=f&&a.pageX<f+b.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+b.container.height()-20&&a.pageX>=h&&a.pageX<h+b.container.width()&&(canClose=!1),canClose&&b.close()}}));var d="mousedown";this.touch&&(d=a.jqx.mobile.getTouchEventName("touchstart"));var e=function(c){if(!b.disabled){var d="block"==b.container.css("display");if(!b.isanimating){if(d)return b.hideListBox("api"),a.jqx.mobile.isTouchDevice()||(b.input.focus(),setTimeout(function(){b.input.focus()},10)),!0;if(b.autoDropDownHeight){b.container.height(b.listBoxContainer.height()+25);var e=b.listBoxContainer.jqxListBox("autoHeight");e||(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.listBox._arrange(),b.listBox.ensureVisible(0),b.listBox._renderItems(),b.container.height(b.listBoxContainer.height()+25))}if(b.showListBox("api"),a.jqx.mobile.isTouchDevice())return!0;setTimeout(function(){b.input.focus()},10)}}};this.addHandler(this.dropdownlistArrow,d,function(a){e(a)}),this.addHandler(this.dropdownlistArrowIcon,d,function(a){}),this.addHandler(this.host,"focus",function(){b.focus()}),this.addHandler(this.input,"focus",function(a){b.focused=!0,b.host.addClass(b.toThemeProperty("jqx-combobox-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content-focus")),a.stopPropagation&&a.stopPropagation()}),this.addHandler(this.input,"blur",function(){b.focused=!1,b.isOpened()||b.opening||("dropDownList"==b.selectionMode&&b._selectOldValue(),b.host.removeClass(b.toThemeProperty("jqx-combobox-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.dropdownlistContent.removeClass(b.toThemeProperty("jqx-combobox-content-focus"))),b._searchTimer&&clearTimeout(b._searchTimer)}),this.addHandler(a(document),"mousedown."+this.id,b.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,b.closeOpenedListBox,{that:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(a){var c="block"==b.container.css("display");if(b.ctrlKey=a.ctrlKey,"none"==b.host.css("display"))return!0;if(("13"==a.keyCode||"9"==a.keyCode)&&c&&!b.isanimating){if(b.listBox.selectedIndex!=-1){b.renderSelection("mouse");var d=b.listBox.selectedIndex,e=b.listBox.getVisibleItem(d);e&&(b.listBox.selectedValue=e.value),b._setSelection(b.input.val().length,b.input.val().length),b.hideListBox("keyboard")}return"13"==a.keyCode&&(b._oldvalue=b.listBox.selectedValue),b.keyboardSelection||b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),"9"==a.keyCode}if(115==a.keyCode)return b.isanimating||(b.isOpened()?b.isOpened()&&b.hideListBox("keyboard"):b.showListBox("keyboard")),!1;if(a.altKey&&"block"==b.host.css("display")&&(b.isanimating||(38==a.keyCode?b.isOpened()&&b.hideListBox("altKey"):40==a.keyCode&&(b.isOpened()||b.showListBox("altKey")))),("27"==a.keyCode||"9"==a.keyCode)&&b.isOpened()&&!b.isanimating){if("27"==a.keyCode)if(b.multiSelect)b.listBox.selectedValue=null,b.input.val("");else{var e=b.listBox.getItemByValue(b._oldvalue);e?setTimeout(function(){b.autoComplete&&b._updateItemsVisibility(""),b.listBox.selectIndex(e.index),b.renderSelection("api")},b.closeDelay):b.clearSelection()}return b.hideListBox("keyboard"),"9"==a.keyCode||(b.renderSelection("api"),a.preventDefault(),!1)}var f=a.keyCode;if(c&&!b.disabled&&8!=f)return b.listBox._handleKeyDown(a);if(!b.disabled&&!c){var f=a.keyCode;if(33==f||34==f||35==f||36==f||38==f||40==f)return b.listBox._handleKeyDown(a)}if(8===f&&b.multiSelect&&0===b.input.val().length){var g=b.selectedItems[b.selectedItems.length-1];return b.selectedItems.pop(),b._selectedItems.pop(),g&&(b._raiseEvent("3",{index:g.index,type:"keyboard",item:g}),b._raiseEvent("4",{index:g.index,type:"keyboard",item:g})),b.listBox.selectedValue=null,b.doMultiSelect(),!1}}),this.addHandler(this.listBoxContainer,"checkChange",function(a){b.renderSelection("mouse"),b._updateInputSelection(),b._raiseEvent(5,{label:a.args.label,value:a.args.value,checked:a.args.checked,item:a.args.item})}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(a){if(!b.disabled){if(b.listBox.itemswrapper&&a.target===b.listBox.itemswrapper[0])return!0;if(a.target&&a.target.className&&a.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;b.renderSelection("mouse"),b._oldvalue=b.listBox.selectedValue,b.touch||b.ishiding||b.checkboxes||(b.hideListBox("mouse"),b.input.focus()),b.touch===!0&&(b.checkboxes||b.hideListBox("mouse"))}})},_selectOldValue:function(){var a=this;if(a.listBox.selectedIndex==-1)if(a.multiSelect)a.listBox.selectedValue=null,a.input.val("");else{var b=a.listBox.getItemByValue(a._oldvalue);b?setTimeout(function(){a.autoComplete&&a._updateItemsVisibility(""),a.listBox.selectIndex(b.index),a.renderSelection("api")},a.closeDelay):(a.clearSelection(),a.listBox.selectIndex(0),a.renderSelection("api"))}else a.renderSelection("api")},removeHandlers:function(){var b=this;if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(a(document),"mousemove."+b.id),this.listBoxContainer&&this.removeHandler(this.listBoxContainer,"checkChange"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,c),this.removeHandler(this.dropdownlistArrow,c)}},getItem:function(a){var b=this.listBox.getItem(a);return b},getItemByValue:function(a){var b=this.listBox.getItemByValue(a);return b},getVisibleItem:function(a){var b=this.listBox.getVisibleItem(a);return b},renderSelection:function(b){if(void 0!=b&&"none"!=b&&this._disableSelection!==!0&&null!=this.listBox&&!this.multiSelect){var c=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue)var c=this.getItemByValue(this.listBox.selectedValue);if(this.checkboxes){var d=this.getCheckedItems();c=null!=d&&d.length>0?d[0]:null}if(null==c){var e=a.jqx.browser.msie&&a.jqx.browser.version<8;return this.input.val(""),this.input.attr("value",""),e||this.input.attr("placeholder",this.placeHolder),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var f=a("<span></span>");void 0!=c.label&&null!=c.label&&c.label.toString().length>0?a.jqx.utilities.html(f,c.label):void 0!=c.value&&null!=c.value&&c.value.toString().length>0?a.jqx.utilities.html(f,c.value):void 0!=c.title&&null!=c.title&&c.title.toString().length>0?a.jqx.utilities.html(f,c.title):a.jqx.utilities.html(f,this.emptyString);f.outerHeight();if(this.checkboxes){for(var g=this.getCheckedItems(),h="",i=0;i<g.length;i++)h+=i==g.length-1?g[i].label:g[i].label+", ";this.input.val(h)}else this.input.val(f.text());if(f.remove(),this._updateInputSelection(),this.renderSelectedItem){var j=this.renderSelectedItem(this.listBox.selectedIndex,c);void 0!=j&&(this.input[0].value=j)}this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&a.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(a){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(a,b){if(!isNaN(a)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(a,b),this.renderSelection("mouse"),this.multiSelect)){if(a>=0){var c=this.getItem(a),d=this.selectedItems.indexOf(c.value);d>=0&&(c.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(d,1),this._selectedItems.splice(d,1))}this.doMultiSelect(!1)}},selectIndex:function(a,b,c,d){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(a,b,c,d),this.renderSelection("mouse"),this.selectedIndex=a,this.multiSelect&&this.doMultiSelect()},selectItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(a){if(this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"),this.multiSelect)){var b=this.getItemByValue(a);if(b){var c=this.selectedItems.indexOf(b.value);c>=0&&(b.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(c,1),this._selectedItems.splice(c,1))}this.doMultiSelect(!1)}},checkItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeterminateItem:function(a){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.indeterminateItem(a)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0].index:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0]:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var b=new Array,c=this;return a.each(this.selectedItems,function(){var a=c.getItemByValue(this);if(a)b.push(a);else{var a=c._selectedItems[this];a&&b.push(a)}}),b},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(a,b){return null!=a&&this.listBox.insertAt(a,b)},addItem:function(a){return this.listBox.addItem(a)},removeAt:function(a){var b=this.listBox.removeAt(a);return this.renderSelection("mouse"),b},removeItem:function(a){var b=this.listBox.removeItem(a);return this.renderSelection("mouse"),b},updateItem:function(a,b){var c=this.listBox.updateItem(a,b);return this.renderSelection("mouse"),c},updateAt:function(a,b){var c=this.listBox.updateAt(a,b);return this.renderSelection("mouse"),c},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){var b=this.getVisibleItem(a);return b&&this._disabledItems.push(b.value),this.listBox.disableAt(a)},enableAt:function(a){var b=this.getVisibleItem(a);return b&&this._disabledItems.splice(this._disabledItems.indexOf(b.value),1),this.listBox.enableAt(a)},disableItem:function(a){var a=this.getVisibleItem(a);return a&&this._disabledItems.push(a.value),this.listBox.disableItem(a)},enableItem:function(a){var a=this.getVisibleItem(a);return a&&this._disabledItems.splice(this._disabledItems.indexOf(a.value),1),this.listBox.enableItem(a)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;if(b){var c=a(b).coord(!0);return[c.left,c.top]}},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+23):0),c},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showListBox:function(b){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=b||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=b&&(this._updateItemsVisibility(""),this.multiSelect))for(var c=this.getVisibleItems(),d=0;d<c.length;d++)if(!c[d].disabled){this.ensureVisible(d);break}if(this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=b&&(this._oldvalue=this.listBox.selectedValue),a.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&this.width.indexOf("%")!=-1&&this.listBox.host.width()!=this.host.width()){var e=this.host.width();this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}var f,g=this,h=this.listBoxContainer,i=this.listBox,j=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),k=parseInt(Math.round(this.host.coord(!0).left));f=k+"px","element"===this.dropDownContainer&&(j=parseInt(this.host.outerHeight())-1+"px",f=0);var l=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();this.ishiding=!1;var m=a.jqx.utilities.hasTransform(this.host);(m||null!=l&&l)&&(f=a.jqx.mobile.getLeftPos(this.element),j=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(j=parseInt(j)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),"top"==this.dropDownVerticalAlignment?this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",f),this.container.css("top",j),i._arrange();var n=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var o=this.container.outerWidth(),p=Math.abs(o-this.host.width());o>this.host.width()?this.container.css("left",25+parseInt(Math.round(k))-p+"px"):this.container.css("left",25+parseInt(Math.round(k))+p+"px")}if("top"==this.dropDownVerticalAlignment){var q=h.height();n=!0,h.css("top",23),h.addClass(this.toThemeProperty("jqx-popup-up"));var r=parseInt(this.host.outerHeight()),s=parseInt(j)-Math.abs(q+r+23);this.container.css("top",s)}if(this.enableBrowserBoundsDetection){var t=this.testOffset(h,{left:parseInt(this.container.css("left")),top:parseInt(j)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=t.top?(n=!0,h.css("top",23),h.addClass(this.toThemeProperty("jqx-popup-up"))):h.css("top",0),this.container.css("top",t.top),this.container.css("top",t.top),parseInt(this.container.css("left"))!=t.left&&this.container.css("left",t.left)}if("none"==this.animationType)this.container.css("display","block"),a.data(document.body,"openedCombojqxListBoxParent",g),a.data(document.body,"openedCombojqxListBox"+g.element.id,h),h.css("margin-top",0),h.css("opacity",1);else{this.container.css("display","block");var u=h.outerHeight();h.stop(),"fade"==this.animationType?(h.css("margin-top",0),h.css("opacity",0),h.animate({opacity:1},this.openDelay,function(){g.isanimating=!1,g.opening=!1,a.data(document.body,"openedCombojqxListBoxParent",g),a.data(document.body,"openedCombojqxListBox"+g.element.id,h)})):(h.css("opacity",1),n?h.css("margin-top",u):h.css("margin-top",-u),this.isanimating=!0,this.opening=!0,h.animate({"margin-top":0},this.openDelay,function(){g.isanimating=!1,g.opening=!1,a.data(document.body,"openedCombojqxListBoxParent",g),a.data(document.body,"openedCombojqxListBox"+g.element.id,h)}))}i._renderItems(),n?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),h.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),h.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),h.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",i)}},doMultiSelect:function(b){this.checkboxes&&(this.multiSelect=!1);var c=this;if(!this.multiSelect){var d=c.dropdownlistContent.find(".jqx-button"),e="mousedown";this.touch&&(e=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(d,e),this.removeHandler(d.find(".jqx-icon-close"),e),d.remove();var f=this.listBox.items;if(!f)return;for(var g=0;g<f.length;g++)f[g].disabled=!1;return this.listBox._renderItems(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection){var h=this.validateSelection(this.listBox.selectedValue);if(!h)return}this.selectedItems;if(this.listBox.selectedValue){if(this.selectedItems.indexOf(this.listBox.selectedValue)===-1){var i=this.getItemByValue(this.listBox.selectedValue);i&&i.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(i),this._raiseEvent("2",{index:i.index,item:i}),this._raiseEvent("4",{index:i.index,item:i}))}this.listBox.selectedIndex=0}var f=this.listBox.items;if(f){for(var g=0;g<f.length;g++)f[g].disabled=!1,(this.selectedItems.indexOf(f[g].value)>=0||this._disabledItems.indexOf(this.value)>=0)&&(f[g].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var f="",e="mousedown",d=c.dropdownlistContent.find(".jqx-button");this.touch&&(e=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(d,e),this.removeHandler(d.find(".jqx-icon-close"),e),d.remove(),c.input.detach(),this.selectedItems.length>0?(c.input.css("width","25px"),c.input.attr("placeholder","")):(c.input.css("width","100%"),c.input.attr("placeholder",this.placeHolder)),a.each(this.selectedItems,function(b){var d=c.getItemByValue(this);d&&!c.remoteAutoComplete||(d=c._selectedItems[b]);var e=a('<div style="overflow: hidden; float: left;"></div>');if(e.addClass(c.toThemeProperty("jqx-button")),e.addClass(c.toThemeProperty("jqx-combobox-multi-item")),e.addClass(c.toThemeProperty("jqx-fill-state-normal")),e.addClass(c.toThemeProperty("jqx-rc-all")),d){var f=d.label;if(c.renderSelectedItem){var g=c.renderSelectedItem(b,d);g&&(f=g)}""==e[0].innerHTML&&(e[0].innerHTML='<a data-value="'+d.value+'" style="float: left;" href="#">'+f+"</a>"),c.rtl&&(e[0].innerHTML='<a data-value="'+d.value+'" style="float: right;" href="#">'+f+"</a>");var h=c.rtl?"left":"right";if(c.showCloseButtons){var i='<div style="position: relative; overflow: hidden; float: '+h+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>';if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(i='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>'),c.rtl){var i='<div style="position: relative; overflow: hidden; float: '+h+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>';a.jqx.browser.msie&&a.jqx.browser.version<8&&(i='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+c.toThemeProperty("jqx-icon-close")+'"></div></div>')}e[0].innerHTML+=i}}else""==e[0].innerHTML&&(e[0].innerHTML='<a href="#"></a>');c.dropdownlistContent.append(e)}),c.dropdownlistContent.append(c.input),c.input.val(""),b!==!1&&(c.input.focus(),setTimeout(function(){c.input.focus()},10));var d=c.dropdownlistContent.find(".jqx-button");this.touchMode===!0&&(e="mousedown"),this.addHandler(d,e,function(b){if(b.target.className.indexOf("jqx-icon-close")>=0)return!0;if(c.disabled)return!0;var d=a(b.target).attr("data-value"),e=c.getItemByValue(d);return e&&(c.listBox.selectedValue=null,c.listBox.clearSelection()),c.listBox.scrollTo(0,0),c.open(),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1}),this.addHandler(d.find(".jqx-icon-close"),e,function(b){if(!c.disabled){var d=a(b.target).parent().parent().find("a").attr("data-value"),e=c.getItemByValue(d);if(e||c.remoteAutoComplete&&!e&&c.selectedItems.indexOf(d)>=0){c.listBox.selectedValue=null;var f=c.selectedItems.indexOf(d),g=e&&e.index>=0?e.index:f;if(f>=0){c.selectedItems.splice(f,1);var h=c._selectedItems[f];h||(h=e),c._selectedItems.splice(f,1),c._raiseEvent("3",{index:g,type:"mouse",item:h}),c._raiseEvent("4",{index:g,type:"mouse",item:h}),c.doMultiSelect()}else for(var i=0;i<c.selectedItems.length;i++){var h=c.selectedItems[i];if(h==d){c.selectedItems.splice(i,1),c._selectedItems.splice(i,1),c._raiseEvent("3",{index:g,type:"mouse",item:e}),c._raiseEvent("4",{index:g,type:"mouse",item:e}),c.doMultiSelect();break}}}}}),c.dropdownlistArrow.height(this.host.height()),c._updateInputSelection()}},hideListBox:function(b){var c=this.listBoxContainer,d=this.listBox,e=this.container;if("none"!=this.container[0].style.display){a.jqx.aria(this,"aria-expanded",!1),"keyboard"!=b&&"mouse"!=b||(this.listBox.searchString=""),("keyboard"==b||"mouse"==b&&this.multiSelect)&&this.doMultiSelect();var f=this;if(a.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){var g=c.outerHeight();c.css("margin-top",0),c.stop(),this.opening=!1,this.isanimating=!0;var h=-g;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(h=g),"fade"==this.animationType?(c.css({opacity:1}),c.animate({opacity:0},this.closeDelay,function(){f.isanimating=!1,e.css("display","none"),f.ishiding=!1})):c.animate({"margin-top":h},this.closeDelay,function(){f.isanimating=!1,e.css("display","none"),f.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),c.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),c.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),c.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",d)}},closeOpenedListBox:function(b){var c=b.data.that,d=a(b.target),e=b.data.listbox;if(null==e)return!0;if(!a(b.target).ischildof(c.host)){var f=!1;return a.each(d.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1)return f=!0,!1;if(this.className.indexOf("jqx-combobox")!=-1)return c.element.id==this.id&&(f=!0),!1}}),null==e||f||c.isOpened()&&(c.hideListBox("api"),c.input.blur()),!0}},loadFromSelect:function(a){this.listBox.loadFromSelect(a),this.clearSelection()},refresh:function(a){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var b=parseInt(this.host.width()),c=parseInt(this.host.height()),d=this.arrowSize,e=this.arrowSize,f=1;this.showArrow?"none"===this.dropdownlistArrow[0].style.display&&this.dropdownlistArrow.show():(e=0,d=0,this.dropdownlistArrow.hide(),f=0,this.host.css("cursor","arrow"));var g=b-e-1*f;g>0&&(this.dropdownlistContent[0].style.width=g+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+g+"px"),this.dropdownlistContent[0].style.height=c+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=e+1+"px",this.dropdownlistArrow[0].style.height=c+"px",this.dropdownlistArrow[0].style.left=1+g+"px",this.input[0].style.width="100%",this.multiSelect||this.input.height(c);var h=this.input.height();0==h&&(h=parseInt(this.input.css("font-size"))+3),this.input[0].className.indexOf("jqx-rc-all")==-1&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var i=parseInt(c)/2-parseInt(h)/2;if(this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),a.jqx.browser.msie&&a.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.input.width(25),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height);var c=parseInt(this.host.height());this.dropdownlistArrow.height(c);var j=parseInt(this.host.css("min-height")),i=parseInt(j)/2-parseInt(h)/2;i>0&&this.input.css("margin-top",i)}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),a.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(a(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var b=a.data(this.element,"jqxComboBox");b&&delete b.instance,a.removeData(document.body,"openedCombojqxListBoxParent"),a.removeData(document.body,"openedCombojqxListBox"+this.element.id),this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new a.Event(d);e.owner=this,2!=b&&3!=b&&4!=b&&5!=b&&6!=b&&7!=b&&8!=b&&9!=b||(e.args=c);var f=this.host.trigger(e);return f},propertiesChangedHandler:function(a,b,c){if(c.width&&c.height&&2==Object.keys(c).length){if(a._setSize(),"width"==b&&"auto"==a.dropDownWidth){var d=a.host.width();a.listBoxContainer.jqxListBox({width:d}),a.container.width(parseInt(d)+25)}a._arrange(),a.close()}},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)){if("template"==c&&(b.listBoxContainer.removeClass(b.toThemeProperty("jqx-"+d+"-item")),b.listBoxContainer.addClass(b.toThemeProperty("jqx-"+b.template+"-item")),b.dropDownListArrow.removeClass(b.toThemeProperty("jqx-"+d)),b.dropDownListArrow.addClass(b.toThemeProperty("jqx-"+b.template))),"dropDownVerticalAlignment"==c&&(b.dropdownlistArrowIcon.removeClass(b.toThemeProperty("jqx-icon-arrow-up")),b.dropdownlistArrowIcon.removeClass(b.toThemeProperty("jqx-icon-arrow-down")),"top"==b.dropDownVerticalAlignment?b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-up")):b.dropdownlistArrowIcon.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.listBoxContainer.css("top",0),b.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==c&&b.listBoxContainer.jqxListBox({autoItemsHeight:e
}),"itemHeight"==c&&b.listBoxContainer.jqxListBox({itemHeight:e}),"renderSelectedItem"==c&&b.renderSelection("mouse"),"renderer"==c&&b.listBoxContainer.jqxListBox({renderer:e}),"enableSelection"==c&&b.listBoxContainer.jqxListBox({enableSelection:e}),"enableHover"==c&&b.listBoxContainer.jqxListBox({enableHover:e}),"touchMode"===c&&(b.listBoxContainer.jqxListBox({touchMode:e}),b.touch=a.jqx.mobile.isTouchDevice(),b.touchMode===!0&&(b.touch=!0),b._updateHandlers()),"multiSelect"==c)if(e)b.doMultiSelect(!1);else{for(var f=b.listBox.items,g=-1,h=0;h<f.length;h++)f[h].disabled=!1,(b.selectedItems.indexOf(f[h].value)>=0||b._disabledItems.indexOf(b.value)>=0)&&(f[h].disabled=!0,g=f[h].index);if(b.doMultiSelect(!1),b.listBox._renderItems(),!f)return;b.listBox.selectedIndex=g,b.renderSelection("mouse"),b.dropdownlistWrapper.parent().css("height","100%"),b.dropdownlistContent.css("height","100"),b.dropdownlistWrapper.css("height","100"),b.dropdownlistContent.css("position","relative"),b.host.css("min-height",null),b._setSize(),b._arrange()}if("showArrow"==c&&(b._arrange(),b.multiSelect&&b.doMultiSelect(!1)),"placeHolder"==c&&b.input.attr("placeholder",b.placeHolder),"popupZIndex"==c&&b.listBoxContainer.css({zIndex:b.popupZIndex}),"promptText"==c&&(b.placeHolder=e),"autoOpen"==c&&b._updateHandlers(),"renderer"==c&&(b.listBox.renderer=b.renderer),"itemHeight"==c&&(b.listBox.itemHeight=e),"source"==c&&(b.input.val(""),b.listBoxContainer.jqxListBox({source:b.source}),b.renderSelection("mouse"),null==b.source&&b.clearSelection(),b.multiSelect&&(b.selectedItems=new Array,b._selectedItems=new Array,b.doMultiSelect(!1))),"rtl"==c&&(e?(b.dropdownlistArrow.css("float","left"),b.dropdownlistContent.css("float","right")):(b.dropdownlistArrow.css("float","right"),b.dropdownlistContent.css("float","left")),b.listBoxContainer.jqxListBox({rtl:b.rtl})),"displayMember"!=c&&"valueMember"!=c||(b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember}),b.renderSelection("mouse")),"autoDropDownHeight"==c&&(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.autoDropDownHeight?b.container.height(b.listBoxContainer.height()+25):(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25)),b.listBox._arrange(),b.listBox._updatescrollbars()),"dropDownHeight"==c&&(b.autoDropDownHeight||(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.container.height(parseInt(b.dropDownHeight)+25))),"dropDownWidth"==c||"scrollBarSize"==c){var i=b.width;"auto"!=b.dropDownWidth&&(i=b.dropDownWidth),b.listBoxContainer.jqxListBox({width:i,scrollBarSize:b.scrollBarSize}),b.container.width(parseInt(i)+25)}if("autoComplete"==c&&b._resetautocomplete(),"checkboxes"==c&&(b.listBoxContainer.jqxListBox({checkboxes:b.checkboxes}),b.checkboxes?(b.input.attr("readonly",!0),a.jqx.aria(b,"aria-readonly",!0)):a.jqx.aria(b,"aria-readonly",!1)),"theme"==c&&null!=e&&(b.listBoxContainer.jqxListBox({theme:e}),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),a.jqx.utilities.setTheme(d,e,b.host)),"rtl"==c&&(b.render(),b.refresh()),"width"==c||"height"==c){if(b._setSize(),"width"==c&&"auto"==b.dropDownWidth){var i=b.host.width();b.listBoxContainer.jqxListBox({width:i}),b.container.width(parseInt(i)+25)}b._arrange(),b.close()}"selectedIndex"==c&&(b.listBox.selectIndex(e),b.renderSelection("mouse")),"$dataBinders$"==c&&null!=b.listBoxContainer&&b.listBoxContainer.jqxListBox({$dataBinders$:e})}}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxComplexInput","",{}),a.extend(a.jqx._jqxComplexInput.prototype,{defineInstance:function(){var b={width:null,height:null,decimalNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",events:["change"],_isObject:!1};return this===a.jqx._jqxComplexInput.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var b=this;if(b._firefox="mozilla"===a.jqx.browser.browser,b._currentNumber={},b._allowedCharacters=new RegExp(/([\+\-\.0-9i])/i),b.render(),this.$dataBinders$)for(var c in this.$dataBinders$){var d=this.$dataBinders$[c];if(d){var e=this.bindDataBinder(c);d.unbindCallbackFunc(this.element.id),d.bindCallbackFunc(this.element.id,e),d.dataBind()}}},render:function(){var a=this;if("DIV"===a.element.nodeName.toUpperCase()){a.baseHost=a.host;var b=a.host.data();a.host=a.baseHost.children("input"),a.element=a.host[0],a.host.data(b)}if(a.spinButtons===!0){if(!a.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.");a._appendSpinButtons()}if(a._addClasses(),a._setSize(),a._removeHandlers(),a._addHandlers(),"exponential"===a.decimalNotation&&a.value.toLowerCase().indexOf("e")!==-1){var c=a._exponentialToDecimal(a.value),d=c.realPart,e=c.imaginaryPart,f=e<0?"-":"+",g=d+" "+f+" "+Math.abs(e)+"i";a._currentNumber={value:g,realPart:d,imaginaryPart:e}}else a._currentNumber={value:a.value,realPart:a._getReal(a.value),imaginaryPart:a._getImaginary(a.value)};"default"===a.decimalNotation?a.element.value=a.value:a._setNotation(),a._refreshPlaceHolder()},refresh:function(a){a!==!0&&this.render()},destroy:function(){var b=this;a.jqx.utilities.resize(this.host,null,!0),b._removeHandlers(),b.baseHost?b.baseHost.remove():b.host.remove()},val:function(b){var c=this;if("string"!=typeof b&&("object"!=typeof b||a.isEmptyObject(b)!==!1))return c.element.value;var d,e;if("string"==typeof b)if(b=b.toLowerCase(),b.indexOf("e")===-1)d=c._getReal(b),e=c._getImaginary(b);else{var f=c._exponentialToDecimal(b);d=1*f.realPart,e=1*f.imaginaryPart}else"object"==typeof b&&a.isEmptyObject(b)===!1&&(d=b.real,e=b.imaginary);var g=e>=0?"+":"-",h=d+" "+g+" "+Math.abs(e)+"i";h!==c._currentNumber.value&&(c.element.value=h,c._onChange(c.value),"default"!==c.decimalNotation&&c._setNotation())},getReal:function(){return this._currentNumber.realPart},_getReal:function(b){function c(b){return d=d.slice(0,b),d=a.trim(d),parseFloat(e+""+d)}(!b||"object"==typeof b&&a.isEmptyObject(b)===!0)&&(b=this.element.value);var d=a.trim(b),e="";if(0===(b.match(/i/g)||[]).length)return parseFloat(d);"+"===b.charAt(0)?d=d.slice(1,b.length):"-"===b.charAt(0)&&(d=d.slice(1,b.length),e="-");var f=d.indexOf("+");if(f!==-1)return c(f);var g=d.indexOf("-");return g!==-1?c(g):0},getImaginary:function(){return this._currentNumber.imaginaryPart},_getImaginary:function(b){function c(b,c){return d=d.slice(b+1,d.indexOf("i")),d=a.trim(d),""===d&&(d=1),parseFloat(c+""+d)}if((!b||"object"==typeof b&&a.isEmptyObject(b)===!0)&&(b=this.element.value),0===(b.match(/i/g)||[]).length)return 0;var d=a.trim(b),e="";"-"!==d.charAt(0)&&"+"!==d.charAt(0)||(e="-"===d.charAt(0)?"-":"+",d=a.trim(d.slice(1,b.length)));var f=d.indexOf("+");if(f!==-1)return c(f,"+");var g=d.indexOf("-");return g!==-1?c(g,"-"):(d=e+""+d.slice(0,d.indexOf("i")),""===d||"+"===d?1:"-"===d?-1:parseFloat(d))},getDecimalNotation:function(a,b){function c(a){var b=a.indexOf("e"),c=a.slice(b+1),d=a.slice(0,b+1);return d=d.replace("e","×10"),d+=e._toSuperScript(c),d=d.replace("+","")}function d(a){var b=a.indexOf("e"),c=a.slice(b+1),d=a.slice(0,b),f=parseInt(c,10)%3;d*=Math.pow(10,f);var g=a.slice(0,b).length-f-2;g>=0&&(d=d.toFixed(g));var h=d+"×10"+e._toSuperScript((parseInt(c,10)-f).toString());return h}var e=this;"real"===a?a=e._currentNumber.realPart:"imaginary"===a&&(a=e._currentNumber.imaginaryPart);var f=a.toExponential();return"scientific"===b?c(f):"engineering"===b?d(f):f},propertyChangedHandler:function(b,c,d,e){if(e!==d)switch(c){case"template":b.template&&(b._upbutton.removeClass(that.toThemeProperty("jqx-"+d)),b._downbutton.removeClass(that.toThemeProperty("jqx-"+d)),b._upbutton.addClass(that.toThemeProperty("jqx-"+b.template)),b._downbutton.addClass(that.toThemeProperty("jqx-"+b.template)));break;case"width":case"height":b._setSize();break;case"decimalNotation":"default"===e?b.element.value=b._currentNumber.value:b._setNotation();break;case"value":b.element.value=e,b._onChange(d);break;case"spinButtons":var f=function(){b.host.removeClass(b.toThemeProperty("jqx-rc-all")),b.rtl===!1?(b.host.addClass(b.toThemeProperty("jqx-rc-l")),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-rc-r"))):(b.host.addClass(b.toThemeProperty("jqx-rc-r")),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-rc-l")))};if(b._spinButtonsContainer){var g=b.host.width(),h=b._spinButtonsContainer.outerWidth();e===!1?(b.host.width(g+h),b._spinButtonsContainer.hide(),b.host.addClass(b.toThemeProperty("jqx-rc-all"))):(b.host.width(g-h),b._spinButtonsContainer.show(),f())}else if(e===!0){var i=a("<div></div>");if(b.baseHost)b.host.after(i),b.render();else{var j=b.element.id;b.host.removeAttr("id"),b.host.wrap('<div id="'+j+'" style="display: inline-block;"></div>');var k=a("#"+j);k.append(i);var l=b.host.data();l.jqxComplexInput.host=k,l.jqxComplexInput.element=k[0],b.baseHost=k,b.baseHost.data(l),b.render()}f()}break;case"placeHolder":b._refreshPlaceHolder(d);break;case"roundedCorners":b._spinButtonsContainer?e===!0?b.rtl===!1?(b.host.addClass(b.toThemeProperty("jqx-rc-l")),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-rc-r"))):(b.host.addClass(b.toThemeProperty("jqx-rc-r")),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-rc-l"))):b.rtl===!1?(b.host.removeClass(b.toThemeProperty("jqx-rc-l")),b._spinButtonsContainer.removeClass(b.toThemeProperty("jqx-rc-r"))):(b.host.removeClass(b.toThemeProperty("jqx-rc-r")),b._spinButtonsContainer.removeClass(b.toThemeProperty("jqx-rc-l"))):e===!0?b.host.addClass(b.toThemeProperty("jqx-rc-all")):b.host.removeClass(b.toThemeProperty("jqx-rc-all"));break;case"disabled":e===!0?(b.host.attr("disabled",!0),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),b._spinButtonsContainer&&b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-fill-state-disabled"))):(b.host.removeAttr("disabled"),b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),b._spinButtonsContainer&&b._spinButtonsContainer.removeClass(b.toThemeProperty("jqx-fill-state-disabled")));break;case"rtl":b._spinButtonsContainer&&(e===!0?(b.host.addClass(b.toThemeProperty("jqx-complex-input-child-rtl")),b._spinButtonsContainer.removeClass(b.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),b.roundedCorners===!0&&(b.host.removeClass(b.toThemeProperty("jqx-rc-l")),b.host.addClass(b.toThemeProperty("jqx-rc-r")),b._spinButtonsContainer.removeClass(b.toThemeProperty("jqx-rc-r")),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-rc-l")))):(b.host.removeClass(b.toThemeProperty("jqx-complex-input-child-rtl")),b._spinButtonsContainer.removeClass(b.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),b.roundedCorners===!0&&(b.host.removeClass(b.toThemeProperty("jqx-rc-r")),b.host.addClass(b.toThemeProperty("jqx-rc-l")),b._spinButtonsContainer.removeClass(b.toThemeProperty("jqx-rc-l")),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-rc-r")))));break;case"theme":a.jqx.utilities.setTheme(d,e,b.host)}},_raiseEvent:function(b,c){void 0===c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,c.type=this.changeType,this.changeType=null,e.args=c,e.preventDefault&&e.preventDefault();var f=this.host.trigger(e);return f},_appendSpinButtons:function(){var b=this;b._spinButtonsContainer=a(b.baseHost.children("div")),b._spinButtonsContainer.attr("unselectable","on"),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container")),b.rtl===!1?b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")):b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"));var c='<div unselectable="on" class="'+b.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+b.toThemeProperty("jqx-input-icon")+'"></div></div>';b._upbutton=a(c),b._spinButtonsContainer.append(b._upbutton),b._downbutton=a(c),b._spinButtonsContainer.append(b._downbutton),b._upArrow=b._upbutton.find("div"),b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up")),b._downArrow=b._downbutton.find("div"),b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b._upArrow.add(b._downArrow).attr("unselectable","on"),b.template&&(b._upbutton.addClass(b.toThemeProperty("jqx-"+b.template)),b._downbutton.addClass(b.toThemeProperty("jqx-"+b.template)))},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-widget jqx-input jqx-complex-input jqx-widget-content")),a.baseHost&&(a.baseHost.addClass(a.toThemeProperty("jqx-widget jqx-complex-input-parent")),a.host.addClass(a.toThemeProperty("jqx-complex-input-child"))),a.roundedCorners===!0&&(a._spinButtonsContainer?a.rtl===!1?(a.host.addClass(a.toThemeProperty("jqx-rc-l")),a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-rc-r"))):(a.host.addClass(a.toThemeProperty("jqx-rc-r")),a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-rc-l"))):a.host.addClass(a.toThemeProperty("jqx-rc-all"))),a.disabled===!0&&(a.host.attr("disabled",!0),a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),a._spinButtonsContainer&&a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-fill-state-disabled"))),a.rtl===!0&&a.host.add(a._spinButtonsContainer).addClass(a.toThemeProperty("jqx-complex-input-child-rtl"))},_refreshPlaceHolder:function(a){var b=this;"placeholder"in b.element?b.host.attr("placeHolder",b.placeHolder):""!==b.element.value&&b.element.value!==a||(b.element.value=b.placeHolder)},_setSize:function(){function b(){var b=c.baseHost.height(),d=parseInt(c.host.css("border-left-width"),10)+parseInt(c.host.css("border-right-width"),10)+parseInt(c.host.css("padding-left"),10)+parseInt(c.host.css("padding-right"),10),e=0;if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(e=d,c.host.height(c.baseHost.height()-2*(parseInt(c.host.css("border-top-width"),10)+parseInt(c.host.css("border-bottom-width"),10)+parseInt(c.host.css("padding-top"),10)+parseInt(c.host.css("padding-bottom"),10)))),c._spinButtonsContainer){var f="string"==typeof c.width&&"%"===c.width.charAt(c.width.length-1)?1:0;c.host.width(c.baseHost.width()-d-c._spinButtonsContainer.outerWidth()-e-f),a.jqx.browser.msie&&a.jqx.browser.version<8&&c._spinButtonsContainer.height(b-2*(parseInt(c._spinButtonsContainer.css("border-top-width"),10)+parseInt(c._spinButtonsContainer.css("border-bottom-width"),10)+parseInt(c._spinButtonsContainer.css("padding-top"),10)+parseInt(c._spinButtonsContainer.css("padding-bottom"),10)))}else c.host.width(c.baseHost.width()-d-e)}var c=this;c.baseHost?(c.baseHost.width(c.width),c.baseHost.height(c.height),b()):(c.host.width(c.width),c.host.height(c.height)),a.jqx.browser.msie&&a.jqx.browser.version<9&&c.host.css("line-height",c.host.height()+"px");var d=c.baseHost||c.host;a.jqx.utilities.resize(d,function(){b(),(a.jqx.browser.msie&&a.jqx.browser.version<9||!a.jqx.browser.msie)&&"string"==typeof c.height&&"%"===c.height.charAt(c.height.length-1)&&c.host.css("line-height",c.host.height()+"px")})},_addHandlers:function(){var b,c=this;b=c.baseHost?c.baseHost[0].id:c.element.id;var d=[8,9,13,32,35,36,37,38,39,40,46];if(c.addHandler(c.host,"focus.jqxComplexInput"+b,function(){if(c.host.addClass(c.toThemeProperty("jqx-fill-state-focus")),c._spinButtonsContainer&&c._spinButtonsContainer.addClass(c.toThemeProperty("jqx-fill-state-focus")),"placeholder"in c.element||c.element.value!==c.placeHolder||(c.element.value=""),"default"!==c.decimalNotation){var a=c._getCaretPosition();c.element.value=c._currentNumber.value,c._setCaretPosition(a)}}),c.addHandler(c.host,"blur.jqxComplexInput"+b,function(){c.host.removeClass(c.toThemeProperty("jqx-fill-state-focus")),c._spinButtonsContainer&&c._spinButtonsContainer.removeClass(c.toThemeProperty("jqx-fill-state-focus")),(c.element.value!==c.value||"placeholder"in c.element||!("placeholder"in c.element)&&""===c.element.value)&&c._onChange(c.value),"placeholder"in c.element||""!==c.element.value&&c.element.value!==c.placeHolder||(c.element.value=c.placeHolder),"default"!==c.decimalNotation&&c._setNotation()}),c.addHandler(c.host,"keydown.jqxComplexInput"+b,function(a){var b=a.charCode?a.charCode:a.which;if(c.changeType="keyboard",a.ctrlKey!==!0||67!==b&&86!==b&&88!==b){var e=String.fromCharCode(b);b>=96&&b<=105&&(e=(b-96).toString(),b-=48),(!c._firefox&&187===b||c._firefox&&61===b)&&a.shiftKey===!0?e="+":(!c._firefox&&189===b||c._firefox&&173===b)&&a.shiftKey===!1?e="-":190===b&&a.shiftKey===!1&&(e=".");var f=c._allowedCharacters.test(e);if(f!==!0)return d.indexOf(b)!==-1&&void 0;if("+"===e||"-"===e){var g=(c.element.value.match(/-/g)||[]).length+(c.element.value.match(/\+/g)||[]).length;if(g>1)return!1}else if("."===e){var h=(c.element.value.match(/\./g)||[]).length;if(h>1)return!1}else if("i"===e.toLowerCase()&&c.element.value.indexOf(e.toLowerCase())!==-1)return!1}}),c.addHandler(c.host,"keypress.jqxComplexInput"+b,function(a){var b=a.charCode?a.charCode:a.which;13===b&&c.element.value!==c.value&&c._onChange(c.value)}),c._spinButtonsContainer){var e=c._upbutton.add(c._downbutton);c.addHandler(c._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+b,function(){c.disabled||""===c.value||null===c.value||(c._upbutton.addClass(c.toThemeProperty("jqx-fill-state-pressed")),c.changeType="mouse",c._incrementOrDecrement(!0))}),c.addHandler(c._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+b,function(){c.disabled||""===c.value||null===c.value||c._upbutton.removeClass(c.toThemeProperty("jqx-fill-state-pressed"))}),c.addHandler(c._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+b,function(){c.disabled||""===c.value||null===c.value||(c._downbutton.addClass(c.toThemeProperty("jqx-fill-state-pressed")),c.changeType="mouse",c._incrementOrDecrement(!1))}),c.addHandler(c._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+b,function(){c.disabled||""===c.value||null===c.value||c._downbutton.removeClass(c.toThemeProperty("jqx-fill-state-pressed"))}),c.addHandler(e,"mouseenter.jqxComplexInputSpinButtons"+b,function(b){if(!c.disabled&&""!==c.value&&null!==c.value){var d=a(b.target);d.hasClass("jqx-icon-arrow-up")||d.children().hasClass("jqx-icon-arrow-up")?(c._upbutton.addClass(c.toThemeProperty("jqx-fill-state-hover")),c._upArrow.addClass(c.toThemeProperty("jqx-icon-arrow-up-hover"))):(c._downbutton.addClass(c.toThemeProperty("jqx-fill-state-hover")),c._downArrow.addClass(c.toThemeProperty("jqx-icon-arrow-down-hover")))}}),c.addHandler(e,"mouseleave.jqxComplexInputSpinButtons"+b,function(b){if(!c.disabled&&""!==c.value&&null!==c.value){var d=a(b.target);d.hasClass("jqx-icon-arrow-up")||d.children().hasClass("jqx-icon-arrow-up")?(c._upbutton.removeClass(c.toThemeProperty("jqx-fill-state-hover")),c._upArrow.removeClass(c.toThemeProperty("jqx-icon-arrow-up-hover"))):(c._downbutton.removeClass(c.toThemeProperty("jqx-fill-state-hover")),c._downArrow.removeClass(c.toThemeProperty("jqx-icon-arrow-down-hover")))}}),c.addHandler(a("body"),"mouseup.jqxComplexInputSpinButtons"+b,function(){c._upbutton.add(c._downbutton).removeClass(c.toThemeProperty("jqx-fill-state-pressed"))})}},_removeHandlers:function(){var b,c=this;if(b=c.baseHost?c.baseHost[0].id:c.element.id,c.removeHandler(c.host,"focus.jqxComplexInput"+b),c.removeHandler(c.host,"blur.jqxComplexInput"+b),c.removeHandler(c.host,"keydown.jqxComplexInput"+b),c.removeHandler(c.host,"keypress.jqxComplexInput"+b),c._spinButtonsContainer){var d=c._upbutton.add(c._downbutton);c.removeHandler(c._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+b),c.removeHandler(c._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+b),c.removeHandler(c._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+b),c.removeHandler(c._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+b),c.removeHandler(d,"mouseenter.jqxComplexInputSpinButtons"+b),c.removeHandler(d,"mouseleave.jqxComplexInputSpinButtons"+b),c.removeHandler(a("body"),"mouseup.jqxComplexInputSpinButtons"+b)}},_onChange:function(b){var c,d,e=this,f=e.element.value.toLowerCase();if(""!==a.trim(f)&&a.trim(f)!==e.placeHolder){if(f.indexOf("++")!==-1||f.indexOf("+-")!==-1){var g=f.indexOf("+");f=f.slice(0,g+1)+""+f.slice(g+2,f.length)}else if(f.indexOf("--")!==-1||f.indexOf("-+")!==-1){var h=f.indexOf("-");f=f.slice(0,h+1)+""+f.slice(h+2,f.length)}if(f.indexOf("..")!==-1){var i=f.indexOf(".");f=f.slice(0,i+1)+""+f.slice(i+2,f.length)}var j=e._getReal(f),k=e._getImaginary(f),l=" ",m=k>=0?"+":"-",n="i";if(c=j,d=k,isNaN(c)||isNaN(d))return void(e.element.value=b);e.$dataBinders$&&e.$dataBinders$.value&&e.$dataBinders$.value.updateItem(e._getOriginFormattedValue(j,k)),e.element.value=j+""+l+m+l+Math.abs(k)+n,e.value=e.element.value}else c=0,d=0,e.value="";e.value!==b&&(e._currentNumber={value:e.value,realPart:c,imaginaryPart:d},e._raiseEvent("0",{value:e.value,oldValue:b,realPart:c,imaginaryPart:d}))},_incrementOrDecrement:function(a){function b(b){var c,d,f,g=b.toString(),h=g.indexOf(".");return h!==-1?(d=parseInt(g.slice(0,h),10),f=g.slice(g.indexOf(".")+1),c="."):(d=b,f="",c=""),b=a===!0?d+e.spinButtonsStep:d-e.spinButtonsStep,b=parseFloat(b+""+c+f)}var c,d,e=this,f=e.host.is(":focus"),g=e.element.value,h=e._currentNumber.realPart,i=e._currentNumber.imaginaryPart;f&&(c=e._getCaretPosition()),i>=0?d=g.indexOf("+"):("-"===g.charAt(0)&&(g=g.slice(1,g.length)),d=g.indexOf("-")),void 0===c||c<=d?h=b(h):i=b(i);var j=i>=0?"+":"-",k=h+" "+j+" "+Math.abs(i)+"i";e.element.value=k,e._onChange(e.value),f?e._setCaretPosition(c):"default"!==e.decimalNotation&&e._setNotation()},_getCaretPosition:function(){var a=this.element;if("selectionStart"in a)return a.selectionStart;if(document.selection){a.focus();var b=document.selection.createRange(),c=document.selection.createRange().text.length;return b.moveStart("character",-a.value.length),b.text.length-c}},_setCaretPosition:function(a){var b=this.element;setTimeout(function(){if("selectionStart"in b)b.focus(),b.setSelectionRange(a,a);else{var c=b.createTextRange();c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select()}},10)},_exponentialToDecimal:function(b){var c=b.indexOf("e")+2,d=b.slice(c),e=d.indexOf("+"),f=d.indexOf("-");c=e!==-1&&(e<f||f===-1)?e:f;var g=d.slice(c),h=b.replace(g,"");g=g.slice(0,g.length-1);var i=g.charAt(0);return g=a.trim(g.slice(1)),"-"===i&&(g="-"+g),h=1*parseFloat(h).toFixed(20),g=1*parseFloat(g).toFixed(20),{realPart:h,imaginaryPart:g}},_setNotation:function(){var a=this,b=a.getDecimalNotation(a._currentNumber.realPart,a.decimalNotation),c=a.getDecimalNotation(Math.abs(a._currentNumber.imaginaryPart),a.decimalNotation),d=a._currentNumber.imaginaryPart>=0?"+":"-";a.element.value=b+" "+d+" "+c+"i"},_toSuperScript:function(a,b){for(var c="-0123456789",d="⁻⁰¹²³⁴⁵⁶⁷⁸⁹",e="",f=0;f<a.length;f++)if(b===!0){var g=d.indexOf(a.charAt(f));e+=g!==-1?c[g]:a[f]}else{var h=c.indexOf(a.charAt(f));e+=h!==-1?d[h]:a[f]}return e},_getOriginFormattedValue:function(a,b){var c=this;if(c._isObject)return{real:a,imaginary:b};var d=b>=0?"+":"-";return a+" "+d+" "+Math.abs(b)+"i"},_changeValueToString:function(a){var b=this,c="";if("object"==typeof a){b._isObject=!0;var d=a.imaginary>=0?"+":"-";c=a.real+" "+d+" "+Math.abs(a.imaginary)+"i"}else c=a;return c},bindDataBinder:function(a){var b=this;if("value"==a)return function(a,c){var d;if("update"==a)d=void 0==c.value?"":c.value,b.val(d);else if("load"==a){d=void 0==c.records?"":c.records;var e=b.element.value.toLowerCase();b.element.value=b._changeValueToString(d),b._onChange(e)}}}})}(jqxBaseFramework),function(a){function b(b,c){return this.owner=b,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(a,b){if(this[a]){var c=this[a];this[a]=b,this.owner._columnPropertyChanged(this,a,b,c)}else if(this[a.toLowerCase()]){var c=this[a.toLowerCase()];this[a.toLowerCase()]=b,this.owner._columnPropertyChanged(this,a.toLowerCase(),b,c)}},this._initfields=function(c){if(null!=c){var d=this;if(a.jqx.hasProperty(c,"dataField")&&(this.datafield=a.jqx.get(c,"dataField")),a.jqx.hasProperty(c,"displayField")?this.displayfield=a.jqx.get(c,"displayField"):this.displayfield=this.datafield,a.jqx.hasProperty(c,"columnType")&&(this.columntype=a.jqx.get(c,"columnType")),a.jqx.hasProperty(c,"validation")&&(this.validation=a.jqx.get(c,"validation")),a.jqx.hasProperty(c,"autoCellHeight")&&(this.autoCellHeight=a.jqx.get(c,"autoCellHeight")),a.jqx.hasProperty(c,"text")?this.text=a.jqx.get(c,"text"):this.text=this.displayfield,a.jqx.hasProperty(c,"sortable")&&(this.sortable=a.jqx.get(c,"sortable")),a.jqx.hasProperty(c,"hidden")&&(this.hidden=a.jqx.get(c,"hidden")),a.jqx.hasProperty(c,"groupable")&&(this.groupable=a.jqx.get(c,"groupable")),a.jqx.hasProperty(c,"renderer")&&(this.renderer=a.jqx.get(c,"renderer")),a.jqx.hasProperty(c,"align")&&(this.align=a.jqx.get(c,"align")),a.jqx.hasProperty(c,"cellsAlign")&&(this.cellsalign=a.jqx.get(c,"cellsAlign")),a.jqx.hasProperty(c,"cellsFormat")&&(this.cellsFormat=a.jqx.get(c,"cellsFormat")),a.jqx.hasProperty(c,"width")&&(this.width=a.jqx.get(c,"width")),a.jqx.hasProperty(c,"minWidth")&&(this.minwidth=a.jqx.get(c,"minWidth")),a.jqx.hasProperty(c,"maxWidth")&&(this.maxwidth=a.jqx.get(c,"maxWidth")),a.jqx.hasProperty(c,"cellsRenderer")&&(this.cellsRenderer=a.jqx.get(c,"cellsRenderer")),a.jqx.hasProperty(c,"columnType")&&(this.columntype=a.jqx.get(c,"columnType")),a.jqx.hasProperty(c,"pinned")&&(this.pinned=a.jqx.get(c,"pinned")),a.jqx.hasProperty(c,"filterable")&&(this.filterable=a.jqx.get(c,"filterable")),a.jqx.hasProperty(c,"filter")&&(this.filter=a.jqx.get(c,"filter")),a.jqx.hasProperty(c,"resizable")&&(this.resizable=a.jqx.get(c,"resizable")),a.jqx.hasProperty(c,"draggable")&&(this.draggable=a.jqx.get(c,"draggable")),a.jqx.hasProperty(c,"editable")&&(this.editable=a.jqx.get(c,"editable")),a.jqx.hasProperty(c,"initEditor")&&(this.initeditor=a.jqx.get(c,"initEditor")),a.jqx.hasProperty(c,"createEditor")&&(this.createeditor=a.jqx.get(c,"createEditor")),a.jqx.hasProperty(c,"destroyEditor")&&(this.destroyeditor=a.jqx.get(c,"destroyEditor")),a.jqx.hasProperty(c,"getEditorValue")&&(this.geteditorvalue=a.jqx.get(c,"getEditorValue")),a.jqx.hasProperty(c,"className")&&(this.classname=a.jqx.get(c,"className")),a.jqx.hasProperty(c,"cellClassName")&&(this.cellclassname=a.jqx.get(c,"cellClassName")),a.jqx.hasProperty(c,"aggregates")&&(this.aggregates=a.jqx.get(c,"aggregates")),a.jqx.hasProperty(c,"aggregatesRenderer")&&(this.aggregatesRenderer=a.jqx.get(c,"aggregatesRenderer")),a.jqx.hasProperty(c,"rendered")&&(this.rendered=a.jqx.get(c,"rendered")),a.jqx.hasProperty(c,"exportable")&&(this.exportable=a.jqx.get(c,"exportable")),a.jqx.hasProperty(c,"nullable")&&(this.nullable=a.jqx.get(c,"nullable")),a.jqx.hasProperty(c,"columnGroup")&&(this.columngroup=a.jqx.get(c,"columnGroup")),!c instanceof String&&"string"!=typeof c)for(var e in c)if(!d.hasOwnProperty(e)&&!d.hasOwnProperty(e.toLowerCase()))throw b.host.remove(),new Error("jqxDataTable: Invalid property name - "+e+".")}},this._initfields(c),this}a.jqx.jqxWidget("jqxDataTable","",{}),a.extend(a.jqx._jqxDataTable.prototype,{defineInstance:function(){var b={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:30,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:30,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:28,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:a.jqx.utilities.scrollBarSize,touchScrollBarSize:a.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit","rowContextmenu"],useDatasetPaging:!1,initdspaging:null,updatedspaging:null,_ds_numberofrows:0,_ds_pageinit:!1,_ds_totalpage:0};return this===a.jqx._jqxDataTable.prototype?b:(a.extend(!0,this,b),this.that=this,b)},createInstance:function(b){var c=this;if(15!=a.jqx.utilities.scrollBarSize&&(c.scrollBarSize=a.jqx.utilities.scrollBarSize),b&&b.length>0&&b[0].$bindmodel$&&(c.$bindmodel$=b[0].$bindmodel$),"table"==c.element.nodeName.toLowerCase()||a(c.element).children("table").length>0){var d=c.host.find("tbody tr"),e=c.host.find("th"),f=new Array;0===e.length&&(e=d[0],d.splice(0,1)),c.localizestrings&&(c.localizestrings(),null!=c.localization&&c.localizestrings(c.localization,!1));for(var g=[],h=0;h<d.length;h++){for(var i=d[h],j={},k=0;k<e.length;k++){var l=a.trim(a(e[k]).text());if(0===h){
var m={name:l};if(c.columns[k]&&c.columns[k].cellsFormat){var n=c.columns[k].cellsFormat.toLowerCase();n.indexOf("p")==-1&&n.indexOf("c")==-1&&n.indexOf("n")==-1&&n.indexOf("f")==-1||(m.type="number"),n.indexOf("d")==-1&&n.indexOf("m")==-1&&n.indexOf("y")==-1&&n.indexOf("h")==-1&&n.indexOf("m")==-1&&n.indexOf("s")==-1&&n.indexOf("t")==-1||(m.type="date")}f.push(m)}var o=a(i).find("td:eq("+k+")"),p=f[k].type;if(p){var q=c.getvaluebytype(a.trim(o.text()),f[k]);j[l]=q}else j[l]=a.trim(o.text())}g[g.length]=j}c.host.wrap("<div></div>");var r=c.host.parent(),s=c.host.data();s.jqxDataTable.host=r,s.jqxDataTable.element=r[0],c.host.parent()[0].id=c.element.id;try{c.host.parent()[0].style=c.element.style}catch(t){}c.element=r[0],c.host=r,c.host.data(s);var u={dataFields:f,localdata:g,datatype:"array"};c.$bindmodel$&&(null==c.$uipp$&&(c.$uipp$=A.createModule("uipp").UIPP,u.uipp=c.$uipp$),u.datatype="binder",u.localdata=c.$bindmodel$);var v=new a.jqx.dataAdapter(u);c.source=v}c.source&&!c.source.dataBind&&(c.$bindmodel$&&(null==c.$uipp$&&(c.$uipp$=A.createModule("uipp").UIPP,c.source.uipp=c.$uipp$),c.source.datatype="binder",c.source.localdata=c.$bindmodel$),c.source=new a.jqx.dataAdapter(c.source));var w=c.source._source.datafields;w&&w.length>0&&(c._camelCase=void 0!==c.source._source.dataFields,c.selectionMode=c.selectionMode.toLowerCase()),null==c.host.attr("tabindex")&&c.host.attr("tabindex","0"),c.host.attr("role","grid"),c.host.attr("align","left"),c.host.addClass(c.toTP("jqx-grid")),c.host.addClass(c.toTP("jqx-reset")),c.host.addClass(c.toTP("jqx-rc-all")),c.host.addClass(c.toTP("jqx-widget")),c.host.addClass(c.toTP("jqx-widget-content")),c._testmodules()||(c.render(!0),a.jqx.utilities.resize(c.host,function(){var b=a(window).width(),d=a(window).height(),e=c.host.width(),f=c.host.height();c._lastHostWidth==e&&c._lastHostHeight==f||c._updatesize(c._lastHostWidth!=e,c._lastHostHeight!=f),c._lastWidth=b,c._lastHeight=d,c._lastHostWidth=e,c._lastHostHeight=f}))},_calculatePaging:function(a,b,c){if(this.useDatasetPaging&&!(void 0==a||null==a||c<0)){var d=Math.floor(Math.abs(c/b))+(c%b>0?1:0);this._ds_totalpage=d,this._ds_numberofrows=b,this._ds_pageinit?this.updatedspaging&&this.updatedspaging(a,b,d,c):(this._ds_pageinit=!0,this.initdspaging&&this.initdspaging(a,b,d,c))}},gotodspaging:function(a,b){var c,d=this.source,e=this._ds_numberofrows;this.useDatasetPaging&&(void 0===a||a<0||a>this._ds_totalpage-1||"binder"==d._source.datatype&&(c=a*e,d.bindgopage(c,e,b)))},getvaluebytype:function(b,c){var d=b;if(null==b)return b;if(","==this.gridlocalization.decimalseparator&&b.indexOf(this.gridlocalization.decimalseparator)>=0&&(b=b.replace(this.gridlocalization.decimalseparator,".")),b.indexOf(this.gridlocalization.currencysymbol)>=0&&(b=b.replace(this.gridlocalization.currencysymbol,"")),b.indexOf(this.gridlocalization.percentagesymbol)>=0&&(b=b.replace(this.gridlocalization.percentagesymbol,"")),a.isArray(b)&&"array"!=c.type){for(var e=0;e<b.length;e++)b[e]=this.getvaluebytype(b[e],c);return b}if("date"==c.type)if("NaN"==b)b="";else{var f=new Date(b);if("string"==typeof b&&c.format){var g=a.jqx.dataFormat.parsedate(b,c.format);null!=g&&(f=g)}b=("NaN"==f.toString()||"Invalid Date"==f.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):f,null==b&&(b=d)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else"bool"!=c.type&&"boolean"!=c.type||(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b||(0!=b||""===b)&&"");return b},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=a('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var b=a('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(b.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),b.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(b),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var c=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(c=!0),c?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var d=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(d=!0),d?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");c.addClass(this.toTP("jqx-widget")),a(document.body).append(c),"cell"==b?this._cellheight=c.height():this._columnheight=c.height(),c.remove()},_testmodules:function(){var b="",c=this,d=function(){""!=b.length&&(b+=",")};if(this.host.jqxScrollBar||(d(),b+=" jqxscrollbar.js"),this.host.jqxButton||(d(),b+=" jqxbuttons.js"),a.jqx.dataAdapter||(d(),b+=" jqxdata.js"),""!=b||this.editable||this.filterable||this.pageable){var e=[],f=function(a){switch(a){case"checkbox":c.host.jqxCheckBox||e.checkbox||(e.checkbox=!0,d(),b+=" jqxcheckbox.js");break;case"dropdownlist":c.host.jqxDropDownList||e.dropdownlist?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.dropdownlist=!0,b+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&f("dropdownlist"),""!=b)throw new Error("jqxDataTable: Missing references to the following module(s): "+b)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var a=this;setTimeout(function(){a.wrapper.focus(),a.host.focus()},25),this.focused=!0}catch(b){}},hiddenParent:function(){return a.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(b,c){if(!this._loading){var d=this,e=d.host.width(),f=d.host.height();d._oldWidth||(d._oldWidth=e),d._oldHeight||(d._oldHeight=f),void 0!=d._resizeTimer&&(clearTimeout(d._resizeTimer),d._resizeTimer=null);var g=300,h=function(){d._resizeTimer&&clearTimeout(d._resizeTimer),d.resizingGrid=!0,a.jqx.isHidden(d.host)||(d._updatecolumnwidths(),d.refresh(),d._oldWidth=e,d._oldHeight=f,d.resizingGrid=!1)};h(),d._resizeTimer=setTimeout(function(){var a=d.host.width(),b=d.host.height();d._oldWidth==a&&d._oldHeight==b||h()},g)}},resize:function(a,b){void 0!=a&&(this.width=a),void 0!=b&&(this.height=b),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var b=a.jqx.mobile.isTouchDevice();return this.touchDevice=b,1==this.touchmode?(b=!0,a.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=b):0==this.touchmode&&(b=!1),b&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),b},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(b,c){if(this._cellscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=b){for(var d in b)d.toLowerCase()!==d&&(b[d.toLowerCase()]=b[d]);for(var e=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],f=this,g=0;g<e.length;g++){var h=e[g];void 0!==b[h]&&(f.gridlocalization[h]=b[h])}b.loadingErrorMessage&&(this.loadingErrorMessage=b.loadingErrorMessage),c!==!1&&(this._builddataloadelement(),a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(a){if(this.treeGrid&&this.treeGrid._updateScrollbars)return void this.treeGrid._updateScrollbars(a);var b=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(b=!0);var c=parseInt(this.scrollBarSize),d=this.table?this.table.height():0,e=0,f="inherit",g=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(a)var h=a;else var h=this.host.height();h-=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0,this.filterable&&(h-=this.filter.height()),this.pageable&&(h-=this.pagerHeight,"both"===this.pagerPosition&&(h-=this.pagerHeight)),this.showtoolbar&&(h-=this.toolbarHeight),this.showstatusbar&&(h-=this.statusBarHeight),this.showAggregates&&(h-=this.aggregatesHeight);var i=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),!i&&d>h&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility=f,e=4+parseInt(c),this.vScrollBar.jqxScrollBar({max:d-h})):this.vScrollBar[0].style.visibility="hidden",g!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var j=this.table.height();d!=j&&(d=j,!i&&d>h&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility=f,e=4+parseInt(c),this.vScrollBar.jqxScrollBar({max:d-h})))}0==this.scrollBarSize&&(e=0);var k=this.table?this.table.width():0;k>3&&(k-=3);var l=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),m=l+this.host.width()-e;if(k>m&&!b){if(this.hScrollBar[0].style.visibility=f,this.hScrollBar.jqxScrollBar({max:k-m}),e=4+parseInt(c),0==c&&(e=0),!i){if(d>h-e+4&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:l+k-m});var n="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility=f,this._updatecolumnwidths(),n&&this.hScrollBar.jqxScrollBar({max:k-m+e+l});var o=this.table?this.table.width():0;o>3&&(o-=3),o!=k&&o<m&&(this.hScrollBar.jqxScrollBar({max:l+o-m}),this.hScrollBar[0].style.visibility="hidden",e=0)}this.vScrollBar.jqxScrollBar({max:d-h+e})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>"+b+"</span>");c.addClass(this.toTP("jqx-widget")),c.addClass(this.toTP("jqx-grid")),c.addClass(this.toTP("jqx-grid-column-header")),c.addClass(this.toTP("jqx-widget-header")),a(document.body).append(c);var d=c.outerWidth()+20;return c.remove(),d},_arrangeAutoHeight:function(a){if(a||(a=0),"auto"===this.height||null===this.height||this.autoheight){var b=this.table.height(),c=0;if(c+=this.columnGroups?this.showHeader?this.columnsheader.height():-1:this.showHeader?this.columnsHeight:-1,c+=this.showstatusbar?this.statusBarHeight:0,c+=this.showAggregates?this.aggregatesHeight:0,c+=this.showtoolbar?this.toolbarHeight:0,c+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(c+=this.pageable?this.pagerHeight:0),c+=b,this.filterable){var d=this.filter.find(".filterrow"),e=this.filter.find(".filterrow-hidden"),f=1;e.length>0&&(f=0),c+=this.filterHeight-1+this.filterHeight*d.length*f}return c+a>this.maxHeight?this.host.height(this.maxHeight):this.host.height(c+a),!0}return!1},_arrangeAutoWidth:function(a){if(a||(a=0),"auto"===this.width||null===this.width||this.autowidth){for(var b=0,c=0;c<this.columns.records.length;c++){var d=this.columns.records[c].width;this.columns.records[c].hidden||("auto"==d?(d=this._measureElementWidth(this.columns.records[c].text),b+=d):b+=d)}return width=b,width+a>this.maxWidth?this.host.width(this.maxWidth):this.host.width(width+a),!0}return!1},_measureTopAndHeight:function(){var a=this.host.height(),b=0;if(this.showtoolbar&&(b+=this.toolbarHeight,a-=parseInt(this.toolbarHeight)),this.filterable){var c=this.filter.find(".filterrow"),d=this.filter.find(".filterrow-hidden"),e=1;d.length>0&&(e=0),b+=this.filterHeight,a-=parseInt(this.filterHeight);var f=1==e?c.length:0;b+=this.filterHeight*f,a-=this.filterHeight*f}return this.pageable&&"bottom"!=this.pagerPosition&&(b+=parseInt(this.pagerHeight)+1,a>this.pagerHeight&&"both"===this.pagerPosition&&(a-=parseInt(this.pagerHeight))),{top:b,height:a}},_arrange:function(){if(this.table){if(this.treeGrid&&this.treeGrid._arrange)return void this.treeGrid._arrange();this._arrangeAutoHeight(),this._arrangeAutoWidth();var b=this.host.width(),c=this.host.height(),d=c;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var e=0;if(this.showtoolbar?(this.toolbar.width(b),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),e+=this.toolbarHeight,c-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(b),this.filter.css("top",e);var f=this.filter.find(".filterrow"),g=this.filter.find(".filterrow-hidden"),h=1;g.length>0&&(h=0),this.filter.height(this.filterHeight-1+this.filterHeight*f.length*h),e+=this.filterHeight,c-=parseInt(this.filterHeight);var i=1==h?f.length:0;e+=this.filterHeight*i,c-=this.filterHeight*i}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(b,this.table.width()):b),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=b+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(e)+"px",e+=parseInt(this.pagerHeight)+1,c>this.pagerHeight&&(c-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=b+"px"&&(this.toppager[0].style.width=parseInt(b)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=e+"px"&&(this.toppager[0].style.top=e+"px");var j="bottom"!=this.pagerPosition?this.pagerHeight:0,k=e+j+"px";this.content[0].style.top!=k&&(this.content[0].style.top=e+this.pagerHeight+"px")}this._updateScrollbars(d);var l=parseInt(this.scrollBarSize),m=4,n=2,o=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(o=l+m),"hidden"!=this.hScrollBar[0].style.visibility&&(n=l+m+2),0==l&&(o=0,n=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(b,this.table.width())+4:b):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var p=this._arrangeAutoHeight(n-2),q=this._arrangeAutoWidth(o+1);if(p||q){var b=this.host.width();this.toppager[0].style.width=parseInt(b)+"px",this.toolbar[0].style.width=parseInt(b)+"px",this.statusbar[0].style.width=parseInt(b)+"px",this.filter[0].style.width=parseInt(b)+"px"}if(p){var r=this._measureTopAndHeight();e=r.top,c=r.height}}var s=0;this.pageable&&(s=this.pagerHeight,"top"!=this.pagerPosition&&(n+=this.pagerHeight)),this.showAggregates&&(n+=this.aggregatesHeight,s+=this.aggregatesHeight),this.showstatusbar&&(n+=this.statusBarHeight,s+=this.statusBarHeight),this.hScrollBar[0].style.height!=l+"px"&&(this.hScrollBar[0].style.height=parseInt(l)+"px"),this.hScrollBar[0].style.top==e+c-m-l-s+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=e+c-m-l-s-1+"px",this.hScrollBar[0].style.left="0px");var t=this.hScrollBar[0].style.width,u=!1,v=!1;0==o?t!=b-2+"px"&&(this.hScrollBar[0].style.width=b-2+"px",u=!0):t!=b-l-m+"px"&&(this.hScrollBar[0].style.width=b-l-m+"px",u=!0),this.vScrollBar[0].style.width!=l+"px"&&(this.vScrollBar[0].style.width=l+"px",v=!0),this.vScrollBar[0].style.height!=parseInt(c)-n+"px"&&(this.vScrollBar[0].style.height=parseInt(c)-n+"px",v=!0),this.vScrollBar[0].style.left==parseInt(b)-parseInt(l)-m+"px"&&this.vScrollBar[0].style.top==e+"px"||(this.vScrollBar[0].style.top=e+"px",this.vScrollBar[0].style.left=parseInt(b)-parseInt(l)-m+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:e}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:l+2}));var w=this.vScrollInstance;w.disabled=this.disabled;var x=this.hScrollInstance;x.disabled=this.disabled,u&&x.refresh(),v&&w.refresh();var y=function(a){"hidden"!=a.vScrollBar[0].style.visibility&&"hidden"!=a.hScrollBar[0].style.visibility?(a.bottomRight[0].style.visibility="inherit",a.bottomRight[0].style.left=1+parseInt(a.vScrollBar.css("left"))+"px",a.bottomRight[0].style.top=parseInt(a.hScrollBar.css("top"))+"px",a.rtl&&a.bottomRight.css("left","0px"),a.bottomRight[0].style.width=parseInt(l)+3+"px",a.bottomRight[0].style.height=parseInt(l)+4+"px",a.showAggregates&&(a.bottomRight.css("z-index",99),a.bottomRight.height(parseInt(l)+4+a.aggregatesHeight),a.bottomRight.css({top:parseInt(a.hScrollBar.css("top"))-a.aggregatesHeight}))):a.bottomRight[0].style.visibility="hidden"};if(y(this),this.content[0].style.width!=b-o+"px"&&(this.content[0].style.width=b-o+"px"),this.content[0].style.height!=c-n+3+"px"&&(this.content[0].style.height=c-n+3+"px"),this.content[0].style.top!=e+"px"&&(this.content[0].style.top=parseInt(e)+"px"),this.rtl&&(this.content.css("left",o),this.filter&&this.filter.children().length>0&&a(this.filter.children()).css("left",o),this.table)){var z=this.table.width();z<b-o&&(this.content.css("left",b-z+2),this.filter&&this.filter.children().length>0&&a(this.filter.children()).css("left",b-z+2))}this.showAggregates&&(this.aggregates.css("top",e+c-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:e+c-m-l-s+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+e+c-l-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),y(this)),this.showstatusbar&&(this.statusbar.css("top",e+c-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=b+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(e)+parseInt(c)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,b!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),c!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=b}},scrollOffset:function(a,b){if(0==arguments.length||null!=a&&"object"==typeof a&&!a.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=a&&"object"==typeof a)var b=a.left,c=a.top,a=c;null!=a&&null!=b&&void 0!=a&&void 0!=b&&(this.vScrollBar.jqxScrollBar("setPosition",a),this.hScrollBar.jqxScrollBar("setPosition",b))},scrollleft:function(a){null!=a&&void 0!=a&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",a)},scrolltop:function(a){null!=a&&void 0!=a&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",a)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(a){this._updating=!1,a!==!1&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(b,c,d){if(this.loadingstate!==!0){var e=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none")));var f=this;null==b&&(b={}),void 0!=b.sortcomparer&&null!=b.sortcomparer||(b.sortcomparer=null),void 0!=b.filter&&null!=b.filter||(b.filter=null),void 0!=b.sort&&null!=b.sort||(b.sort=null),void 0!=b.data&&null!=b.data||(b.data=null);var g=null;if(null!=b&&(g=void 0!=b._source?b._source.url:b.url),this.dataview=this.dataview||new a.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!f.initializedcall){if(b._source&&this.sortable&&(void 0!=b._source.sortcolumn&&(this.sortcolumn=b._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=b._source.sortcolumn,b._source.sortcolumn=null),void 0!=b._source.sortdirection)){this.dataview.sortfielddirection=b._source.sortdirection;var h=b._source.sortdirection;if("a"==h||"asc"==h||"ascending"==h||1==h)var i=!0;else var i=!1;null!=h?this.sortdirection={ascending:i,descending:!i}:this.sortdirection={ascending:!1,descending:!1}}this.pageable&&b._source&&(void 0!=b._source.pagenum&&(this.dataview.pagenum=b._source.pagenum),void 0!=b._source.pagesize?(this.pageSize=b._source.pagesize,this.dataview.pagesize=b._source.pagesize):(this.dataview.pagesize=b._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(b.sortcolumn&&(this.dataview.sortfield=b.sortcolumn),b.sortdirection&&(this.dataview.sortfielddirection=b.sortdirection))}this._loading=!0,this.dataview.update=function(b){f._loading=!1,f.rowsByKey=new Array;var g=f.source._source.datafields;if(f.groups&&f.groups.length>0){var h=Object.prototype.toString,i=f.groups[0];if(Object.prototype.toString="function"==typeof i?i:function(){return this[i]},!f.source.records.sort){var j=new Array,k=0;a.each(data,function(){j[startindex+k++]=this}),data=j}f.source.records.sort(function(b,c){if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return-1;if(null!==b&&null===c)return 1;var d=0,e=0;if(b&&b.uid&&(d=b.uid),c&&c.uid&&(e=c.uid),b=b.toString(),c=c.toString(),a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return b<c?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return b<c?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(b<c)return-1;if(b>c)return 1}catch(f){}if("number"==typeof d){if(d<e)return-1;if(d>e)return 1}return 0}),Object.prototype.toString=h}for(var l=0;l<f.source.records.length;l++){var m=f.source.records[l];if(f.rowsByKey[m.uid]=m,m.records&&m.records.length>0){var n=function(a){for(var b=0;b<a.length;b++)a[b]&&(f.rowsByKey[a[b].uid]=a[b],a[b].records&&a[b].records.length>0&&n(a[b].records))};n(m.records)}if(0===l){var o=!1;if(g)for(var p=0;p<g.length;p++)if(g[p]&&!g[p].type){o=!0,g[p].type="string";var q=m[g[p].name];if(void 0==q)continue;if(q!==!0&&q!==!1||(g[p].type="boolean"),null!=q&&q.toString().indexOf(f.gridlocalization.currencysymbol)>-1||q.toString().indexOf(f.gridlocalization.percentsymbol)>-1){var r=q.toString().split(" ").length,s=new Number(f._toNumber(q.toString()));isNaN(s)||1!=r||(g[p].type="number")}(a.jqx.dataFormat.isNumber(q)||!isNaN(parseFloat(q))&&isFinite(q))&&(g[p].type="number"),a.jqx.dataFormat.isDate(q)&&(g[p].type="date")}if(o)for(var p=0;p<g.length;p++){var t=f.source.getvaluebytype(m[g[p].name],g[p]);if(null!=t&&"number"==g[p].type){var u=t;u=new Number(f._toNumber(u.toString())),isNaN(u)||(t=u)}m[g[p].name]=t}}}if("pager"===c||"filter"===c||"sort"===c?f.refresh():f._render(),f.autoShowLoadElement&&!f._loading&&(a(f.dataloadelement).css("visibility","hidden"),a(f.dataloadelement).css("display","none")),f.pageable&&(f.disabled||f.pagernexttop&&(f.pagerfirsttop.jqxButton({disabled:!1}),f.pagerfirstbottom.jqxButton({disabled:!1}),f.pagerlasttop.jqxButton({disabled:!1}),f.pagerlastbottom.jqxButton({disabled:!1}),f.pagernexttop.jqxButton({disabled:!1}),f.pagerprevioustop.jqxButton({disabled:!1}),f.pagershowrowscombotop.jqxDropDownList&&"advanced"==f.pagerMode&&(f.pagershowrowscombotop.jqxDropDownList({disabled:!1}),f.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),f.pagernextbottom.jqxButton({disabled:!1}),f.pagerpreviousbottom.jqxButton({disabled:!1}))),f._updateTouchScrolling(),f._raiseEvent("bindingComplete"),d&&d(),!f.initializedcall){if(f.initializedcall=!0,f.isInitialized=!0,f.ready&&f.ready(),(null!=f.width&&f.width.toString().indexOf("%")!=-1||null!=f.height&&f.height.toString().indexOf("%")!=-1)&&f._updatesize(!0),f._rendercelltexts&&f._rendercelltexts(),f._gridRenderElement){a(f._gridRenderElement).show("slow");var v=6e3+Math.floor(4e3*Math.random()+1),w=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();e[a.camelCase(w)](function(){a(f._gridRenderElement).hide("slow",function(){a(f._gridRenderElement).remove()})},v)}if("hidden"==f.host.css("visibility")){a.jqx.browser.msie&&a.jqx.browser.version<8;"visible"==f.vScrollBar.css("visibility")&&f.vScrollBar.css("visibility","inherit"),"visible"==f.hScrollBar.css("visibility")&&f.hScrollBar.css("visibility","inherit"),f._intervalTimer=setInterval(function(){"visible"==f.host.css("visibility")&&(f._updatesize(!0),clearInterval(f._intervalTimer))},100)}}},this.dataview.databind(b)}},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=b;args=c,args.owner=this;var e=new a.Event(d);e.owner=this,e.args=args;var f=this.host.trigger(e);return c=e.args,f},ensureColumnVisible:function(a){for(var b=0,c=0,d=0;d<this.columns.records.length;d++){if(this.columns.records[d].datafield==a){b+=this.columns.records[d].width,c=this.columns.records[d].width;break}b+=this.columns.records[d].width}if("hidden"!=this.hScrollBar.css("visibility")){var e=this.hScrollBar.jqxScrollBar("value"),f=e+this.host.width();e>b-c?this.hScrollBar.jqxScrollBar("setPosition",b-c):b>f&&this.hScrollBar.jqxScrollBar("setPosition",e+b-f)}},ensurerowvisiblebykey:function(b){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var c=this._getuirow(b);if(c){var d=this.vScrollBar.jqxScrollBar("value"),e=this.host.height(),f=0;f+=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0,this.filterable&&(f+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(f+=this.pagerHeight),this.showtoolbar&&(f+=this.toolbarHeight),e-=f,this.pageable&&"top"!==this.pagerPosition&&(e-=this.pagerHeight),this.showstatusbar&&(e-=this.statusBarHeightt),this.showAggregates&&(e-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(e-=20);var g=this.host.coord().top+f,h=d,i=e+h,j=c.coord().top+d-g;j=Math.round(j);var k=j+c.outerHeight();if(k=Math.round(k),0===Math.round(c.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var l=a(this._table.children()[1]).children().length-1,m=this._getuikey(l),n=this._getuirow(m);if(n&&n[0]===c[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(j<h){var o=j-c.height();return o<0&&(o=0),this.vScrollBar.jqxScrollBar("setPosition",o)}return k>i?this.vScrollBar.jqxScrollBar("setPosition",4+k-e-d):void 0}},ensureRowVisible:function(a){var b=this._getkey(a);this.ensurerowvisiblebykey(b)},getColumn:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){if(this.datafield==b||this.displayfield==b)return c=this,!1}),c},_setcolumnproperty:function(a,b,c){if(null==a||null==b||null==c)return null;var d=b;b=b.toLowerCase();var e=this.getColumn(a);if(null!=e){e[b];e[b]=c,e[d]=c;var f=this.getColumn(a);switch(null!=f&&(f[b]=c),b){case"filteritems":case"text":
case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==b?(this._rendercolumnheaders(),this.refresh()):"text"==b||"class"==b||"hidden"==b||"pinned"==b||"resizable"==b||"renderer"==b?(this._rendercolumnheaders(),this.refresh()):"width"==b||"maxwidth"==b||"minwidth"==b?(e._width=null,e._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(a,b){if(null==a||null==b)return null;b=b.toLowerCase();var c=this.getColumn(a);return c[b]},setColumnProperty:function(a,b,c){this._setcolumnproperty(a,b,c)},hideColumn:function(a){this._setcolumnproperty(a,"hidden",!0)},showColumn:function(a){this._setcolumnproperty(a,"hidden",!1)},updateBoundData:function(a,b){this.databind(this.source,a,b)},refresh:function(b){if(1!=b){if(a.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_rendercelltexts:function(){},_updateTouchScrolling:function(){var b=this.that;if(b.isTouchDevice()){var c=a.jqx.mobile.getTouchEventName("touchstart"),d=a.jqx.mobile.getTouchEventName("touchend"),e=a.jqx.mobile.getTouchEventName("touchmove");b.table&&(b.removeHandler(b.table,c+".touchScroll"),b.removeHandler(b.table,e+".touchScroll"),b.removeHandler(b.table,d+".touchScroll"),b.removeHandler(b.table,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b.table[0],Math.max(b.vScrollInstance.max,b.hScrollInstance.max),function(a,c){if(null!=c&&"hidden"!=b.vScrollBar.css("visibility")){b.vScrollInstance.value;b.vScrollInstance.setPosition(c)}if(null!=a&&"hidden"!=b.hScrollBar.css("visibility")){b.hScrollInstance.value;b.hScrollInstance.setPosition(a)}b.scrolled=new Date,b.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var b=0;b<this.columns.records.length;b++){var c=this.columns.records[b];if(a(c.filtericon).hide(),a(c.sortasc).hide(),a(c.sortdesc).hide(),"simple"!==this.filterMode)for(var d=0;d<this.dataview.filters.length;d++){var e=this.dataview.filters[d];if(e.datafield===c.displayfield){a(c.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===c.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?a(c.sortasc).show():a(c.sortdesc).show()),"left"!=c.align&&"center"!=c.align&&!this.rtl||this.rtl&&"right"!=c.align&&"center"!=c.align){var f=a.jqx.isHidden(a(c.filtericon))?0:16;f+=a.jqx.isHidden(a(c.sortasc))?0:16,f+=a.jqx.isHidden(a(c.sortdesc))?0:16;var g=a(a(a(c.element).children()[0]).children()[0]);this.rtl?f>0?g.css("margin-left",4+f+"px"):g.css("margin-left","4px"):f>0?g.css("margin-right",4+f+"px"):g.css("margin-right","4px")}}},render:function(b){var c="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=c,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var d=this.host.find("#horizontalScrollBar"+this.element.id);if(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.treeGrid&&this.treeGrid._replaceVScrollbar)this.treeGrid._replaceVScrollbar();else{var e=this.host.find("#verticalScrollBar"+this.element.id);this.vScrollBar=e.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1})}this.hScrollBar=d.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var f=this.source.datafields;if(null==f&&this.source._source&&(f=this.source._source.datafields),f)for(var g=0;g<this.columns.length;g++){var h=this.columns[g];if(h&&h.cellsFormat&&h.cellsFormat.length>2)for(var i=0;i<f.length;i++)if(f[i].name==h.datafield&&!f[i].format){f[i].format=h.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var j=this,k=function(){j.content&&(j.content[0].scrollTop=0,j.content[0].scrollLeft=0),j.gridcontent&&(j.gridcontent[0].scrollLeft=0,j.gridcontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(a){return k(),!1}),b!==!0&&this._render()},_render:function(){var b=this;if(null!=b.dataview&&!b._loading){(25!=b.columnsHeight||b.columnGroups)&&b._measureElement("column"),b.filterable?b.filter[0].style.visibility="inherit":b.filter[0].style.visibility="hidden",b.rowinfo=new Array,b._removeHandlers(),null==b.columns?b.columns=new a.jqx.dataCollection(b.element):b._initializeColumns();var c=!1,d=!1;null!=b.width&&b.width.toString().indexOf("%")!=-1&&(c=!0),c?b.element.width=b.width:b.host.width(b.width),null!=b.height&&b.height.toString().indexOf("%")!=-1&&(d=!0),d?b.element.height=b.height:b.host.height(b.height),b._lastHostWidth=b.host.width(),b._lastHostHeight=b.host.height(),a.jqx.utilities.html(b.content,""),b.columnsheader=b.columnsheader||a('<div style="overflow: hidden;"></div>'),b.columnsheader.remove(),b.columnsheader.addClass(b.toTP("jqx-widget-header")),b.columnsheader.addClass(b.toTP("jqx-grid-header")),b.showHeader?b.columnsheader&&b.columnsheader.css("display","block"):b.columnsheader.css("display","none"),b.gridcontent=b.gridcontent||a('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),b.gridcontent.remove();var e=b.columnsHeight;e=b._preparecolumnGroups(),b.columnsheader.height(e),b.content.append(b.columnsheader),b.content.append(b.gridcontent),b._rendercolumnheaders(),b.tableheight=null,b.gridcontent.find("#contenttable"+b.element.id).remove(),null!=b.table&&(b.table.remove(),b.table=null),b.table=a('<div id="contenttable'+b.element.id+'" style="overflow: hidden; position: relative;"></div>'),b.gridcontent.addClass(b.toTP("jqx-grid-content")),b.gridcontent.addClass(b.toTP("jqx-widget-content")),b.gridcontent.append(b.table),b._renderrows(),b.filterable&&b._renderfilter(),b.pageable&&b._initpager(),b._arrange(),b.renderStatusBar&&b.renderStatusBar(b.statusbar),b.rendertoolbar&&b.rendertoolbar(b.toolbar),b.showAggregates&&b._updateaggregates(),b.disabled&&b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b._renderhorizontalscroll(),b._showicons(),b._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var b=this,c=this.gridlocalization.pagergotopagestring,d=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),e=(this.pagerHeight-17)/2;if(this.pagerdiv||this.toppagerdiv){b.pagershowrowscombotop&&b.pagershowrowscombotop.jqxDropDownList&&b.pagershowrowscombotop.jqxDropDownList("destroy"),b.pagershowrowscombobottom&&b.pagershowrowscombobottom.jqxDropDownList&&b.pagershowrowscombobottom.jqxDropDownList("destroy");var f=b.pagerbuttonsbottom.find("a");b.removeHandler(f,"click"),b.removeHandler(f,"mouseenter"),b.removeHandler(f,"mouseleave"),f.remove();var f=b.pagerbuttonstop.find("a");b.removeHandler(f,"click"),b.removeHandler(f,"mouseenter"),b.removeHandler(f,"mouseleave"),f.remove(),b.pagernexttop&&b.pagernexttop.jqxButton("destroy"),b.pagernextbottom&&b.pagernextbottom.jqxButton("destroy"),b.pagerprevioustop&&b.pagerprevioustop.jqxButton("destroy"),b.pagerpreviousbottom&&b.pagerpreviousbottom.jqxButton("destroy"),b.pagerfirsttop&&b.pagerfirsttop.jqxButton("destroy"),b.pagerfirstbottom&&b.pagerfirstbottom.jqxButton("destroy"),b.pagerlasttop&&b.pagerlasttop.jqxButton("destroy"),b.pagerlastbottom&&b.pagerlastbottom.jqxButton("destroy"),this.pagerdiv.remove(),this.toppagerdiv.remove()}if(this.pagerdiv=this.pagerdiv||a('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||a('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){this.pagerdiv.children().remove(),this.toppager.children().remove();var g=this.pagerRenderer();null!=g&&this.pagerdiv.append(a(g)),this.pager.append(this.pagerdiv);var g=this.pagerRenderer();null!=g&&this.toppagerdiv.append(a(g)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",e),this.toppagerdiv.css("top",e);var h=function(b,e){var f=this,g=a('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),h=a('<div style="float: right; margin-right: 7px;"></div>'),i=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),j=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),k=a('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),l=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),m=a('<div style="margin-right: 7px; float: right;"></div>'),n=a('<div style="margin-right: 7px; float: right;"></div>'),o=a('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');g.attr("disabled",f.disabled);var p=a('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(p[0].id="gridpagerlist"+e+f.element.id,f.removeHandler(i,"mousedown"),f.removeHandler(i,"mouseup"),f.removeHandler(i,"click"),f.removeHandler(j,"mousedown"),f.removeHandler(j,"mouseup"),f.removeHandler(j,"click"),f.removeHandler(k,"mousedown"),f.removeHandler(k,"mouseup"),f.removeHandler(k,"click"),f.removeHandler(l,"mousedown"),f.removeHandler(l,"mouseup"),f.removeHandler(l,"click"),f.rtl?(i.attr("title",f.gridlocalization.pagerpreviousbuttonstring),j.attr("title",f.gridlocalization.pagernextbuttonstring)):(j.attr("title",f.gridlocalization.pagerpreviousbuttonstring),i.attr("title",f.gridlocalization.pagernextbuttonstring)),a.jqx.browser.msie&&a.jqx.browser.version<8&&o.css("padding-top","3px"),this["pagerfirst"+e]=k,this["pagerlast"+e]=l,this["pagernext"+e]=i,this["pagerprevious"+e]=j,this["pagergotoinput"+e]=g,this["pagerdetails"+e]=m,this["pagershowrows"+e]=n,this["pagergotolabel"+e]=h,this["pagershowrowscombo"+e]=p,this["pagerbuttons"+e]=o,"default"==f.pagerMode){f.rtl?(l.attr("title",f.gridlocalization.pagerfirstbuttonstring),k.attr("title",f.gridlocalization.pagerlastbuttonstring)):(k.attr("title",f.gridlocalization.pagerfirstbuttonstring),l.attr("title",f.gridlocalization.pagerlastbuttonstring));var q=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");q.addClass(f.toThemeProperty("jqx-icon-arrow-first")),k.wrapInner(q);var r=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");r.addClass(f.toThemeProperty("jqx-icon-arrow-last")),l.wrapInner(r),f.rtl?(b.append(l),b.append(i),b.append(o),b.append(j),b.append(k)):(b.append(k),b.append(j),b.append(o),b.append(i),b.append(l)),l.jqxButton({cursor:"pointer",disabled:f.disabled,theme:f.theme}),k.jqxButton({cursor:"pointer",disabled:f.disabled,theme:f.theme});var s=f.rtl?"right":"left";o.css("float",s),l.css("float",s),k.css("float",s),i.css("float",s),j.css("float",s),m.css("float",f.rtl?"left":"right"),f.rtl?(m.css("margin-left","7px"),m.css("margin-right","0px")):(m.css("margin-left","0px"),m.css("margin-right","7px"))}else f.rtl||(b.append(i),b.append(j));i.jqxButton({cursor:"pointer",disabled:f.disabled,theme:f.theme}),j.jqxButton({cursor:"pointer",disabled:f.disabled,theme:f.theme});var t=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");t.addClass(f.toThemeProperty("jqx-icon-arrow-left")),j.wrapInner(t);var u=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(u.addClass(f.toThemeProperty("jqx-icon-arrow-right")),i.wrapInner(u),f.rtl||b.append(m),"default"!=f.pagerMode){f.rtl?(b.append(h),b.append(g),b.append(n),b.append(p),b.append(m),b.append(i),b.append(j)):(b.append(p),b.append(n),b.append(g),b.append(h));var v=f.pageSizeOptions;p.jqxDropDownList({_checkForHiddenParent:!1,rtl:f.rtl,disabled:f.disabled,source:v,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:16,theme:f.theme});for(var w=0,x=0;x<v.length;x++)this.pageSize>=v[x]&&(w=x);h[0].innerHTML=c,p.jqxDropDownList({selectedIndex:w});var y=g.find("input");y.addClass(f.toThemeProperty("jqx-input")),y.addClass(f.toThemeProperty("jqx-widget-content")),this.rtl&&y.css("direction","rtl");var f=this;this.removeHandler(p,"select"),this.addHandler(p,"select",function(a){if(a.args){f.vScrollInstance&&f.vScrollInstance.setPosition(0);var b=a.args.index;f.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(b),f.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(b),f.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),f.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var c=f.dataview.pagenum*f.dataview.pagesize,d=v[b],e=f.pageSize;f.pageSize=parseInt(d),isNaN(f.pageSize)&&(f.pageSize=10),d>=100?(f.pagershowrowscombotop.jqxDropDownList({width:55}),f.pagershowrowscombobottom.jqxDropDownList({width:55})):(f.pagershowrowscombotop.jqxDropDownList({width:44}),f.pagershowrowscombobottom.jqxDropDownList({width:44})),f.dataview.pagesize=f.pageSize;var g=Math.floor(c/f.dataview.pagesize);if(g!==f.dataview.pagenum||parseInt(d)!==parseInt(e)){f._raiseEvent("pageSizeChanged",{pagenum:g,oldpageSize:e,pageSize:f.dataview.pagesize});var h=f.goToPage(g);h||(f.serverProcessing?f.updateBoundData("pager"):f.refresh())}}});var g=g.find("input");g.addClass(f.toThemeProperty("jqx-grid-pager-input")),g.addClass(f.toThemeProperty("jqx-rc-all")),this.removeHandler(g,"keydown"),this.removeHandler(g,"change"),f.addHandler(g,"keydown",function(a){if(a.keyCode>=65&&a.keyCode<=90)return!1;if("13"==a.keyCode){var b=g.val();return b=parseInt(b),isNaN(b)||f.goToPage(b-1),!1}}),f.addHandler(g,"change",function(){var a=g.val();a=parseInt(a),isNaN(a)||f.goToPage(a-1)})}n[0].innerHTML=d,f.addHandler(i,"mouseenter",function(){u.addClass(f.toThemeProperty("jqx-icon-arrow-right-hover"))}),f.addHandler(j,"mouseenter",function(){t.addClass(f.toThemeProperty("jqx-icon-arrow-left-hover"))}),f.addHandler(i,"mouseleave",function(){u.removeClass(f.toThemeProperty("jqx-icon-arrow-right-hover"))}),f.addHandler(j,"mouseleave",function(){t.removeClass(f.toThemeProperty("jqx-icon-arrow-left-hover"))}),f.addHandler(i,"mousedown",function(){u.addClass(f.toThemeProperty("jqx-icon-arrow-right-selected"))}),f.addHandler(i,"mouseup",function(){u.removeClass(f.toThemeProperty("jqx-icon-arrow-right-selected"))}),f.addHandler(j,"mousedown",function(){t.addClass(f.toThemeProperty("jqx-icon-arrow-left-selected"))}),f.addHandler(j,"mouseup",function(){t.removeClass(f.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===f.pagerMode&&(f.addHandler(l,"mouseenter",function(){r.addClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),f.addHandler(k,"mouseenter",function(){q.addClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),f.addHandler(l,"mouseleave",function(){r.removeClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),f.addHandler(k,"mouseleave",function(){q.removeClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),f.addHandler(l,"mousedown",function(){r.addClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),f.addHandler(k,"mousedown",function(){q.addClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))}),f.addHandler(l,"mouseup",function(){r.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),f.addHandler(k,"mouseup",function(){q.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))})),f.addHandler(a(document),"mouseup.pagerbuttons"+e+this.element.id,function(){u.removeClass(f.toThemeProperty("jqx-icon-arrow-right-selected")),t.removeClass(f.toThemeProperty("jqx-icon-arrow-left-selected")),r&&(r.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected")),q.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected")))}),f.addHandler(i,"click",function(){i.jqxButton("disabled")||(f.rtl?f.goToPrevPage():f.goToNextPage())}),f.addHandler(j,"click",function(){j.jqxButton("disabled")||(f.rtl?f.goToNextPage():f.goToPrevPage())}),"default"===this.pagerMode&&(f.addHandler(k,"click",function(){if(!k.jqxButton("disabled"))if(f.rtl){var a=f.dataview.totalrecords,b=Math.ceil(a/f.pageSize);f.goToPage(b-1)}else f.goToPage(0)}),f.addHandler(l,"click",function(){if(!l.jqxButton("disabled"))if(f.rtl)f.goToPage(0);else{var a=f.dataview.totalrecords,b=Math.ceil(a/f.pageSize);f.goToPage(b-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),h.call(this,this.pagerdiv,"bottom"),h.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(b,c){if(this._loading)return!1;if(void 0!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;var d=this.endroweditbykey(this.editKey);if(!d)return!1}if(null!=b&&void 0!=b||(b=0),b==-1&&(b=0),b<0)return!1;var e=this.dataview.totalrecords,f=this.dataview.pagenum,g=Math.ceil(e/this.pageSize);return b>=g&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),b>0&&(b=g-1)),this.dataview.pagenum!=b&&(this.pageable&&(this.dataview.pagenum=b,this._raiseEvent("pageChanged",{pagenum:b,oldpagenum:f,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",c):(this.refresh(),c&&a.isFunction(c)&&c()),!0)},goToPrevPage:function(a){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,a);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var b=this.dataview.totalrecords,c=Math.ceil(b/this.pageSize);return this.goToPage(c-1,a)}return!1},goToNextPage:function(a){var b=this.dataview.totalrecords;this.summaryrows&&(b+=this.summaryrows.length);var c=Math.ceil(b/this.pageSize);return this.dataview.pagenum<c-1?this.goToPage(this.dataview.pagenum+1,a):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,a)},updatepagerdetails:function(){if(this.pageable){var b=this;if(!this.serverProcessing)if(this.source.hierarchy){var c=b._names(),d=0,e=function(f,g){for(var h=0;h<g.length;h++)0==b.dataview.filters.length&&(g[h]._visible=!0),g[h]._visible!==!1&&d++,b.treeGrid&&"root"==b.treeGrid.pageSizeMode||g[h].records&&(g[h][c.expanded]||g[h][c.leaf])&&g[h]._visible!==!1&&(e(f+1,g[h].records),this.treeGrid&&a(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=f&&d--)};e(0,this.dataview.rows),this.dataview.totalrecords=d}else this.dataview.totalrecords=this.dataview.rows.length;var f=this.dataview.pagenum*this.pageSize,g=(this.dataview.pagenum+1)*this.pageSize;g>=this.dataview.totalrecords&&(g=this.dataview.totalrecords);var h=this.dataview.totalrecords;f++;var i=Math.ceil(h/this.dataview.pagesize);if(i>=1&&i--,i++,"root"==this.pageSizeMode&&(i=Math.ceil(this.rootRecordsLength/this.dataview.pagesize),i>=1&&i--,i++,h=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var j=this.pagergotoinputbottom.find("input");j.val(this.dataview.pagenum+1),j.attr("title","1 - "+i),j=this.pagergotoinputtop.find("input"),j.val(this.dataview.pagenum+1),j.attr("title","1 - "+i)}}else{var k="",l=this.pagerButtonsCount;0!=l&&l||(l=5);var m=0;for(this.rtl&&(m=l-1);this.rtl&&m>=0||!this.rtl&&m<l;){var n=1+m,o=this.dataview.pagenum/l,p=Math.floor(o);n+=p*l;var q=this.toTP("jqx-grid-pager-number");if(q+=" "+this.toTP("jqx-rc-all"),n>i&&!this.rtl)break;if(this.rtl&&n>i)m--;else{if(this.rtl||0==m&&n>l&&(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+(-1+n)+"'>...</a>"),this.dataview.pagenum===n-1&&(q+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(m===l-1){var q=this.toTP("jqx-grid-pager-number");q+=" "+this.toTP("jqx-rc-all"),i>=1+n&&(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+(1+n)+"'>...</a>")}this.dataview.pagenum===n-1&&(q+=" "+this.toTP("jqx-fill-state-pressed")),k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+n+"'>"+n+"</a>"}else if(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+n+"'>"+n+"</a>",m===l-1){var q=this.toTP("jqx-grid-pager-number");q+=" "+this.toTP("jqx-rc-all"),i>=1+n&&(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+(1+n)+"'>...</a>")}if(this.rtl){var q=this.toTP("jqx-grid-pager-number");q+=" "+this.toTP("jqx-rc-all"),0==m&&n>l&&(k+="<a class='"+q+"' tabindex=-1 href='javascript:;' data-page='"+(-1+n)+"'>...</a>")}this.rtl?m--:m++}}if(!this.pagerbuttonsbottom)return;var r=this.pagerbuttonsbottom.find("a");this.removeHandler(r,"click"),this.removeHandler(r,"mouseenter"),this.removeHandler(r,"mouseleave");var r=this.pagerbuttonstop.find("a");this.removeHandler(r,"click"),this.removeHandler(r,"mouseenter"),this.removeHandler(r,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=k,this.pagerbuttonstop[0].innerHTML=k,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var s=function(){r.click(function(c){if(!b.disabled){var d=a(c.target).attr("data-page");b.goToPage(parseInt(d)-1)}}),r.mouseenter(function(c){b.disabled||a(c.target).addClass(b.toTP("jqx-fill-state-hover"))}),r.mouseleave(function(c){b.disabled||a(c.target).removeClass(b.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){var r=this.pagerbuttonsbottom.find("a");s(r)}if("both"===this.pagerPosition||"top"===this.pagerPosition){var r=this.pagerbuttonstop.find("a");s(r)}}if(0==g&&g<f&&(f=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=h+this.gridlocalization.pagerrangestring+g+"-"+f,this.pagerdetailstop[0].innerHTML=h+this.gridlocalization.pagerrangestring+g+"-"+f):(this.pagerdetailsbottom[0].innerHTML=f+"-"+g+this.gridlocalization.pagerrangestring+h,this.pagerdetailstop[0].innerHTML=f+"-"+g+this.gridlocalization.pagerrangestring+h)),"default"==this.pagerMode){var t=this.pagerbuttonsbottom.width()+a(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",t),this.toppagerdiv.css("min-width",t)}f>g&&this.goToPrevPage()}},_preparecolumnGroups:function(){var a=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var b=this,c=0;c<this.columnGroups.length;c++)this.columnGroups[c].parent=null,this.columnGroups[c].groups=null;for(var c=0;c<this.columns.records.length;c++)this.columns.records[c].parent=null,this.columns.records[c].groups=null;for(var d=function(a){for(var c=0;c<b.columnGroups.length;c++){var d=b.columnGroups[c];if(d.name===a)return d}return null},c=0;c<this.columnGroups.length;c++){var e=this.columnGroups[c];if(e.groups||(e.groups=null),e.parentGroup&&(e.parentgroup=e.parentGroup),e.parentgroup){var f=d(e.parentgroup);f&&(e.parent=f,f.groups||(f.groups=new Array),f.groups.indexOf(e)===-1&&f.groups.push(e))}}for(var c=0;c<this.columns.records.length;c++){var e=this.columns.records[c];if(e.columngroup){var f=d(e.columngroup);f&&(f.groups||(f.groups=new Array),e.parent=f,f.groups.indexOf(e)===-1&&f.groups.push(e))}}for(var g=0,c=0;c<this.columns.records.length;c++){var e=this.columns.records[c],h=e;for(e.level=0;h.parent;)h=h.parent,e.level++;var h=e,i=e.level;for(g=Math.max(g,e.level);h.parent;)h=h.parent,h&&(h.level=--i)}for(var j=function(a){var b=new Array;if(a.columngroup&&b.push(a),!a.groups)return new Array;for(var c=0;c<a.groups.length;c++)if(a.groups[c].columngroup)b.push(a.groups[c]);else if(a.groups[c].groups)for(var d=j(a.groups[c]),e=0;e<d.length;e++)b.push(d[e]);return b},c=0;c<this.columnGroups.length;c++){var e=this.columnGroups[c],k=j(e);e.columns=k;for(var l=new Array,m=0,n=0;n<k.length;n++)l.push(this.columns.records.indexOf(k[n])),k[n].pinned&&m++;if(0!=m)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");l.sort(function(a,b){return a=parseInt(a),b=parseInt(b),a<b?-1:a>b?1:0});for(var o=1;o<l.length;o++)if(l[o]!=l[o-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+g,a=this.columnGroupslevel*this.columnsHeight}return a},wheel:function(a,b){if(b.autoheight&&"hidden"==b.hScrollBar.css("visibility"))return a.returnValue=!0,!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),this.source.wheelScroll&&this.source.wheelScroll(a,this.vScrollInstance.val()),!!d&&(d=!1,a.returnValue=d,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){if("hidden"!=this.vScrollBar.css("visibility")){var b=this.vScrollInstance.value;a<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20);var c=this.vScrollInstance.value;if(b!=c)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var b=this.hScrollInstance.value;a>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var c=this.hScrollInstance.value;if(b!=c)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(a(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var b="mousedown";this.isTouchDevice()&&(b=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,b),this.removeHandler(this.table,"selectstart."+this.element.id),a.jqx.browser.msie&&a.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick")),this.mouseupFuncForTop&&(this.removeHandler(a(window.top.document),"mouseup",this.mouseupFuncForTop),this.mouseupFuncForTop=null,delete this.mouseupFuncForTop)},_addHandlers:function(){var b=this;this._mousewheelfunc=this._mousewheelfunc||function(a){return b.wheel(a,b),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(a){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(c){return!!b.enableBrowserSelection||(!(!b.filterable||!a(c.target).ischildof(b.filterrow))||(!!(b.rowDetails&&a(c.target).parents("[data-role=details]").length>0)||void 0!=b.editKey&&void 0))}),this.addHandler(a(window),"jqxReady."+this.element.id,function(){b._updatecolumnwidths(),b.refresh()}),this.editable&&this.addHandler(a(document),"mousedown.gridedit"+this.element.id,function(c){if(b.editable&&b.editSettings.saveOnBlur&&null!=b.editKey&&!b.vScrollInstance.isScrolling()&&!b.vScrollInstance.isScrolling()){var d=b.host.coord(),e=b.host.width(),f=b.host.height(),g=!1,h=!1,i=!1;(c.pageY<d.top||c.pageY>d.top+f)&&(g=!0,h=!0);var j=b.columnsheader.height(),k=b.table.height();if(c.pageY>d.top+j+k&&(g=!0,h=!0),(c.pageX<d.left||c.pageX>d.left+e)&&(g=!0,i=!0),g){var l=function(b){var d=a(b.children()[0]).data();if(d&&!d.jqxWidget&&(d=b.data()),d||(d=b.data()),
d.jqxWidget&&d.jqxWidget.container&&"block"==d.jqxWidget.container[0].style.display){var e=d.jqxWidget,f=e.container.coord().top,i=e.container.coord().top+e.container.height();return!(!h||!(c.pageY<f||c.pageY>i))&&(g=!0,e.close(),!0)}},m=b._editors;if(m)for(var n=0;n<m.length;n++){var o=m[n].editor,p=l(o),q=o.attr("aria-owns");if(q){if(q==document.activeElement.id)return!0;if(a(document.activeElement).ischildof(a("#"+q)))return!0}else if(q=o.children().attr("aria-owns")){if(q==document.activeElement.id)return!0;if(a(document.activeElement).ischildof(a("#"+q)))return!0}if(p===!1)return}}g&&b.endroweditbykey(b.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(a){a.preventDefault});var c=this.isTouchDevice();this.vScrollInstance.valueChanged=function(a){b._timer&&clearTimeout(b._timer),c?b.table&&(b.table[0].style.top=0-b.vScrollInstance.value+"px"):b._timer=setTimeout(function(){b.table&&(b.treeGrid&&b.treeGrid._vScrollValueChanged?b.treeGrid._vScrollValueChanged():b.table[0].style.top=0-b.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(a){b._timer&&clearTimeout(b._timer),c?b.table&&b._renderhorizontalscroll():b._timer=setTimeout(function(){b.table&&b._renderhorizontalscroll()},5)};var d="mousedown";this.isTouchDevice()&&(d=a.jqx.mobile.getTouchEventName("touchend"),a.jqx.browser.msie&&a.jqx.browser.version<10&&(d="mousedown"));var e=function(a,c){for(var d=null,e=b._table.coord(),f=e.top,g=e.left,h=b._table[0].rows,i=0;i<h.length;i++)for(var j=h[i],k=j.cells,l=0;l<k.length;l++){var m=k[l],n=m.offsetLeft+g,o=m.offsetTop+f,p=m.offsetWidth,q=m.offsetHeight;if(0!==p&&0!==q){if(!(o<=c&&c<o+q))break;if(n<=a&&a<n+p){d=m;break}}}return d},f=function(){if(b.hoveredRow){var a=b.hoveredRow[0].cells,c=function(a){for(var c=0;c<a.length;c++){var d=a[c],e=d.className;e=e.replace(" "+b.toTP("jqx-fill-state-hover"),""),e=e.replace(" "+b.toTP("jqx-grid-cell-hover"),""),d.className=e}};if(c(a),b._pinnedTable&&a.length>0){var d=b._pinnedTable[0].rows[b.hoveredRow[0].rowIndex].cells;c(d)}}b.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(a){f(),b.wrapper&&(b.wrapper.parent().removeAttr("tabindex",0),b.wrapper.removeAttr("tabindex",1),b.content.removeAttr("tabindex",2))});var g=function(a){if(!b.enableHover)return!0;if(b.hoveredRow=a,!a)return!0;var c=a[0].cells,d=b.rowDetails&&!b.treeGrid,e=d&&!b.treeGrid?1:0,f=0;e>0&&b.rtl&&(e=0,f=1);for(var g=e;g<c.length-f;g++){var h=c[g];h.className+=" "+b.toTP("jqx-fill-state-hover")+" "+b.toTP("jqx-grid-cell-hover")}if(b._pinnedTable&&b._pinnedTable[0].rows.length)for(var i=b._pinnedTable[0].rows[b.hoveredRow[0].rowIndex].cells,g=e;g<i.length-f;g++){var h=i[g];h.className+=" "+b.toTP("jqx-fill-state-hover")+" "+b.toTP("jqx-grid-cell-hover")}};b.isTouchDevice()&&(b.enableHover=!1),this.addHandler(this.table,"mousemove",function(c){var d=c.pageX,h=c.pageY;if(b.disabled)return!0;if(!b.enableHover)return!0;if(b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling())return!0;var i=e(d,h);if(!i)return!0;var j=a(i).parent();return f(),!(!b.rowDetails||!b.treeGrid||"row-details"!=j.attr("data-role"))||(!(!b.renderedRecords||0!==b.renderedRecords.length)||(null!=b.editKey&&b.editKey===j.attr("data-key")||(g(j),!0)))}),this.addHandler(this.host,"keydown",function(a){return b._handleKey(a)}),a.jqx.browser.msie&&a.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(a){b.table.trigger("mousedown",a)}),this.addHandler(this.table,d,function(c){var d=(c.target,null);if(b.disabled)return!0;if(!(b.touchmode&&c.originalEvent&&c.originalEvent._pageX)){var f=(b.table.coord(),c.pageX),h=c.pageY;if(a.jqx.browser.msie&&a.jqx.browser.version<9&&arguments&&2==arguments.length&&(f=arguments[1].pageX,h=arguments[1].pageY),b.isTouchDevice()){var i=a.jqx.position(c);if(f=i.left,h=i.top,isNaN(f)||isNaN(h)){var i=a.jqx.position(c.originalEvent);f=i.left,h=i.top}}d=e(f,h);var j=a(d).parent(),k=j.attr("data-key");if(b.rowDetails&&b.treeGrid&&"row-details"==j.attr("data-role"))return!0;var l=function(){b.enableBrowserSelection||(c.preventDefault&&c.preventDefault(),c.stopPropagation())};if(void 0!==k){var m=a(d).index(),n=b.columns.records[m];if(k==b.editKey){if(!b.editSettings.editSingleCell)return!0;if(b.clickedTD==d)return!0;if(null!=b.editKey&&b.editSettings.saveOnSelectionChange){var o=b.endroweditbykey(b.editKey);if(!o)return!0}}else if(null!=b.editKey&&b.editSettings.saveOnSelectionChange){var o=b.endroweditbykey(b.editKey);if(!o)return!0}b.clickedTD=d;var p=b.rowinfo[k];if(p&&p.group)return!0;var q=!1;if(p){var r=b.getrowdisplayindex(p.row),s=b.getrowindex(p.row);b._raiseEvent("rowClick",{index:r,boundIndex:s,key:k,row:p.row,originalEvent:c,dataField:n.datafield});var t=(new Date).getTime(),u=300;b.clickTime||(b.clickTime=new Date),3!==c.which&&b._lastSelectedKey==k&&t-b.clickTime.getTime()<u&&(b._raiseEvent("rowDoubleClick",{index:r,boundIndex:s,key:k,row:p.row,originalEvent:c,dataField:n.datafield}),q=!0,c.preventDefault&&c.preventDefault())}if(b.clickTime=new Date,d.className.indexOf("jqx-grid-group")>=0)p.expanded?b.hidedetailsbykey(k):b.showdetailsbykey(k);else if(c.target&&c.target.className.indexOf&&c.target.className.indexOf("jqx-grid-group")>=0&&b.treeGrid)p.expanded?b.treeGrid.collapseRow(k):b.treeGrid.expandRow(k),g(b._getuirow(k)),c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault();else{if(!(c.target&&c.target.className.indexOf&&c.target.className.indexOf("checkbox")>=0&&b.treeGrid)){var m=a(d).index(),n=b.columns.records[m];if(c.stopPropagation&&c.stopPropagation(),b.editable&&null==b.editKey&&b._lastSelectedKey==k&&b.editSettings.editOnDoubleClick&&q){var o=b.beginroweditbykey(k,n);return!0}if(b.isTouchDevice()&&b.scrolled&&new Date-b.scrolled<500)return b.enableBrowserSelection||c.preventDefault&&c.preventDefault(),!1;if("singlerow"===b.selectionMode&&"custom"!==b.selectionMode)return b.selectrowbykey(k,"mouse",!1),b._lastSelectedKey=k,b._updateSelection(),c.preventDefault&&c.preventDefault(),l(),!0;if("custom"!==b.selectionMode&&(c.ctrlKey||c.metaKey||b.clearSelection(!1),c.shiftKey&&b._lastSelectedKey)){var p=b.rowinfo[b._lastSelectedKey];b._doSelection(b._lastSelectedKey,!0,!1);var v=a(b._table.children()[1]).children("[data-key="+b._lastSelectedKey+"]"),w=v.index(),x=j.index();return b.treeGrid&&b.treeGrid._selectRange?b.treeGrid._selectRange(k,w):b._selectRange(x,w),b.selectrowbykey(k,"mouse",!1),b._updateSelection(),c.preventDefault&&c.preventDefault(),l(),2===c.button&&b._raiseEvent("rowContextmenu",{index:r,boundIndex:s,key:k,row:p.row,originalEvent:c,dataField:n.datafield}),!0}return b._lastSelectedKey=k,b.clickTime=new Date,"custom"===b.selectionMode||(p&&(p.selected?b.unselectrowbykey(k,"mouse",!1):b.selectrowbykey(k,"mouse",!1),l()),b._updateSelection(),2===c.button&&b._raiseEvent("rowContextmenu",{index:r,boundIndex:s,key:k,row:p.row,originalEvent:c}),b.enableBrowserSelection||c.preventDefault&&c.preventDefault(),!0)}p.checked?b.treeGrid.uncheckRow(k):b.treeGrid.checkRow(k),g(b._getuirow(k)),c.stopPropagation&&c.stopPropagation()}}}})},_updateSelection:function(){var b=this,c=a(b._table.children()[1]).children(),d=b._pinnedTable?a(b._pinnedTable.children()[1]).children():null,e=b.rowDetails&&!b.treeGrid,f=e?1:0,g=0;f>0&&b.rtl&&(f=0,g=1);for(var h=0;h<c.length;h++){var i=c[h].cells;if(d)var j=d[h].cells;var k=null;if(c[h].getAttribute&&(k=c[h].getAttribute("data-key")),b.rowinfo[k]&&"none"!==b.selectionMode){if(b.rowinfo[k].copied)for(var l=f;l<i.length-g;l++){var m=i[l];a(m).addClass(b.toTP("jqx-grid-cell-copied"))}else for(var l=f;l<i.length-g;l++){var m=i[l],n=m.className;n=n.replace(" jqx-grid-cell-copied",""),n=n.replace(" jqx-grid-cell-copied"+b.theme,""),m.className=n}if(b.rowinfo[k].copied&&b.rowinfo[k].selected)for(var l=f;l<i.length-g;l++){var m=i[l],n=m.className;n=n.replace(" jqx-grid-cell-copied",""),n=n.replace(" jqx-grid-cell-copied"+b.theme,""),m.className=n}if(b.rowinfo[k].selected)for(var l=f;l<i.length-g;l++){var m=i[l];a(m).addClass(b.toTP("jqx-grid-cell-selected")+" "+b.toTP("jqx-fill-state-pressed")),j&&a(j[l]).addClass(b.toTP("jqx-grid-cell-selected")+" "+b.toTP("jqx-fill-state-pressed"))}else for(var l=f;l<i.length-g;l++){var m=i[l];if(j)var o=j[l];var n=m.className;n=n.replace(" jqx-fill-state-pressed",""),n=n.replace(" jqx-fill-state-pressed-"+b.theme,""),n=n.replace(" jqx-grid-cell-selected",""),n=n.replace(" jqx-grid-cell-selected-"+b.theme,""),m.className=n,o&&(o.className=n)}}}},_selectRange:function(b,c){var d=a(a(this._table.children()[1]).children()[c]),e=this;if(b>c)for(var f=c,g=d;f<b;){var g=g.next(),h=g.attr("data-key");e._doSelection(h,!0,!1),f++}else if(b<c)for(var f=c,g=d;f>b;){var g=g.prev(),h=g.attr("data-key");this._doSelection(h,!0,!1),f--}},_getuikey:function(b,c){var d=null,e=a(this._table.children()[1]).children();if(d=a(e[b]).attr("data-key"),a(e[b]).attr("data-role")){var f=a(e[b]);if("next"==c){for(;f;)if(f=f.next()){var g=f.attr("data-role");if(!g)return d=f.attr("data-key")}}else if("prev"==c)for(;f;)if(f=f.prev()){var g=f.attr("data-role");if(!g)return d=f.attr("data-key")}return null}return d},getRows:function(){return this.source.records},getView:function(){var b=this,c=this._names(),d=new Array,e=function(d,f){if(f)for(var g=0;g<f.length;g++)if(f[g]&&f[g]._visible!==!1){var h=a.extend({},f[g]);d.push(h),f[g][c.expanded]?(h.records=new Array,e(h.records,f[g].records)):b.dataview.filters.length>0&&(h.records=new Array,e(h.records,f[g].records))}};return e(d,this.dataViewRecords),d},getKeys:function(){for(var a=new Array,b=this.source.records,c=0;c<b.length;c++)a.push(b[c].uid);return a},getKey:function(a){var b=this.getRows();return b?b[a].uid:-1},_getkey:function(b){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var c=null,d=function(){var c=a(this._table.children()[1]).children(),d=null,e=0;if(this.pageable&&(e-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var f=0,g=0;g<c.length;g++){var h=a(c[g]),i=h.children()[0].getAttribute("colspan");if(!(i>0)){if(f===e+b)return d=h.attr("data-key");f++}}return d}if(this.rowDetails)for(var f=0,g=0;g<c.length;g++){if(f===b+e)return d=a(c[g]).attr("data-key");g%2==1&&f++}else d=a(c[e+b]).attr("data-key");return d};if(c=d.call(this),null==c&&this.pageable){var e=Math.floor(b/this.dataview.pagesize);if(this.dataview.pagenum!=e){var f=this.getRows()[b];if(f&&null!=f.uid)return f.uid;if(isNaN(e))return null;this.goToPage(e),c=d.call(this)}}return c},_getuirow:function(b){try{var c=a(this._table.children()[1]).children("[data-key="+b+"]");if(c.length>0)return c}catch(d){for(var e=a(this._table.children()[1]).children(),f=0;f<e.length;f++){var g=e[f],h=g.getAttribute("data-key");if(b==h)return a(g)}return null}return null},_getpinneduirow:function(b){if(!this._pinnedTable)return null;try{var c=a(this._pinnedTable.children()[1]).children("[data-key="+b+"]");if(c.length>0)return c}catch(d){for(var e=a(this._pinnedTable.children()[1]).children(),f=0;f<e.length;f++){var g=e[f],h=g.getAttribute("data-key");if(b==h)return a(g)}return null}return null},_names:function(){var a={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return a;var b=this.source._source.hierarchy.reservedNames;return b?b:a},_getMatches:function(b,c){if(void 0==b||0==b.length)return-1;var d=this.renderedRecords;void 0!=c&&(d=d.slice(c));var e=0;if(this.rowDetails&&!this.treeGrid&&e++,e<this.columns.records.length)var f=this.columns.records[e].datafield;else new Array;var g=new Array;return a.each(d,function(c){var d=this[f];d||(d="");var e=a.jqx.string.startsWithIgnoreCase(d.toString(),b);e&&g.push(this.uid)}),g},_handleKey:function(b){if(this._loading)return!0;if(a(b.target).ischildof(this.filter))return!0;if(a(b.target).ischildof(this.toolbar))return!0;if(a(b.target).ischildof(this.statusbar))return!0;var c=this._names(),d=this,e=b.charCode?b.charCode:b.keyCode?b.keyCode:0,f=this._lastSelectedKey,g=(this.rowinfo[f],this._getuirow(f)),h=b.shiftKey&&"singlerow"!=this.selectionMode,i=b.ctrlKey||b.metaKey;if(g){if(this.handleKeyboardNavigation){var j=this.handleKeyboardNavigation(e);if(j)return!0}if(this.editable&&void 0==this.editKey&&113===e&&this.editSettings.editOnF2&&this.beginroweditbykey(g.attr("data-key")),void 0==this.editKey&&!i&&!h&&this.incrementalSearch&&!(e>=33&&e<=40)){var k=-1;this._searchString||(this._searchString=""),(8==e||46==e)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var l=String.fromCharCode(e),m=!isNaN(parseInt(l)),n=!1;if(e>=65&&e<=97||m||8==e||32==e||46==e){b.shiftKey||(l=l.toLocaleLowerCase()),8!=e&&32!=e&&46!=e&&(this._searchString.length>0&&this._searchString.substr(0,1)==l||(this._searchString+=l)),32==e&&(this._searchString+=" "),this._searchTime=new Date;var f=this.getSelection();if(f.length>=1){for(var o=f[0].uid,p=-1,q=0;q<this.renderedRecords.length;q++)if(this.renderedRecords[q].uid==o){p=q;break}var r=this._getMatches(this._searchString,p);if(0==r.length||r.length>0&&r[0]==o)var r=this._getMatches(this._searchString)}else var r=this._getMatches(this._searchString);if(r.length>0){var f=this.getSelection();if(f.length>=1){var s=r.indexOf(f[0].uid);if(s==-1)this.clearSelection(!1),this.selectrowbykey(r[0]);else{var t=s+1;t>=r.length&&(t=0),this.clearSelection(!1),this.selectrowbykey(r[t])}}else this.clearSelection(!1),this.selectrowbykey(r[0]);this._lastSearchString=this._searchString}}if(void 0!=this._searchTimer&&clearTimeout(this._searchTimer),27!=e&&13!=e||(this._searchString="",this._lastSearchString="",this.treeGrid&&this.treeGrid._copyUnselect&&this.treeGrid._copyUnselect()),this._searchTimer=setTimeout(function(){d._searchString="",d._lastSearchString=""},500),k>=0)return;if(n)return!1}if(void 0!=this.editKey){if(13===e)var u=this.editKey,v=this.editColumn.datafield;if(27===e&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===e&&this.editSettings.saveOnEnter){if(b.target&&"div"!=b.target.nodeName.toLowerCase()&&"input"!=b.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var w=this.columns.records.indexOf(this.editColumn);if(9==e&&w<this.columns.records.length-1&&!b.shiftKey){for(var x=this.editKey,y=null,q=w+1;q<this.columns.records.length;q++)if(this.columns.records[q].editable&&!this.columns.records[q].hidden){y=this.columns.records[q];break}y&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,y))}else if(9==e&&b.shiftKey&&w>0){for(var x=this.editKey,z=null,q=w-1;q>=0;q--)if(this.columns.records[q].editable&&!this.columns.records[q].hidden){z=this.columns.records[q];break}z&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,z))}if(9==e){var A=this.rowinfo[this.editKey],p=this.getrowindex(A),g=this._getuirow(this.editKey);if(b.shiftKey||y){if(!z&&b.shiftKey){for(var B=null,q=this.columns.records.length-1;q>=0;q--)if(this.columns.records[q].editable&&!this.columns.records[q].hidden){B=this.columns.records[q];break}if(B){for(;g;)if(g=g.prev()){var C=g.attr("data-role");if(!C){var D=g.attr("data-key");break}}if(D){this.clearSelection(!1),this._lastSelectedKey=D;var A=this.rowsByKey[D],p=this.getrowindex(A),E=this.getrowdisplayindex(A);this._raiseEvent("rowSelect",{key:D,index:E,boundIndex:p,row:this.rowsByKey[D]}),this.endroweditbykey(this.editKey,!1),this._doSelection(D,!0,!0),this.beginroweditbykey(D,B)}}}}else{for(var B=null,q=0;q<this.columns.records.length;q++)if(this.columns.records[q].editable&&!this.columns.records[q].hidden){B=this.columns.records[q];break}if(B){for(;g;)if(g=g.next()){var C=g.attr("data-role");if(!C){var D=g.attr("data-key");break}}if(D){this.clearSelection(!1),this._lastSelectedKey=D;var A=this.rowsByKey[D],p=this.getrowindex(A),E=this.getrowdisplayindex(A);this._raiseEvent("rowSelect",{key:D,index:E,boundIndex:p,row:this.rowsByKey[D]});var F=this.endroweditbykey(this.editKey,!1);F?(this._doSelection(D,!0,!0),this.beginroweditbykey(D,B)):this.beginroweditbykey(this.editKey,B)}}}return!1}}return 13===e&&this.source.endEditKey&&this.source.endEditKey(u,v,e),!0}if(b.ctrlKey||b.metaKey){var G=String.fromCharCode(e).toLowerCase();if("c"==G||"x"==G){var f=this.getSelection();if(f.length>=1){for(var H="",I=0;I<this.renderedRecords.length;I++)for(var J=this.renderedRecords[I],q=0;q<f.length;q++){var A=f[q];if(A.uid===J.uid){for(var K=0;K<this.columns.records.length;K++){var L=this.getCellTextByKey(A.uid,this.columns.records[K].displayfield);H+=L,K<this.columns.records.length-1&&(H+="\t")}H+="\r\n";break}}if(""!=H&&(H=H.substring(0,H.length-1)),window.clipboardData)window.clipboardData.setData("Text",H);else{var M=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');M.val(H),a("body").append(M),M.select(),setTimeout(function(){document.designMode="off",M.select(),M.remove()},100)}}}}if(32===e&&this.treeGrid&&this.treeGrid.checkboxes){var f=this.getSelection();if(f.length>1){for(var q=0;q<f.length;q++){var N=f[q].uid;this.rowinfo[N].checked?this.treeGrid.uncheckRow(N,!1):this.treeGrid.checkRow(N,!1)}return this._renderrows(),!1}var o=g.attr("data-key");if(o)return this.rowinfo[o].checked?this.treeGrid.uncheckRow(o):this.treeGrid.checkRow(o),!1}var O=g.index(),P=function(b){var c=null,e=a(d._table.children()[1]).children().length-1,f=a(a(d._table.children()[1]).children()[e]),g=f.attr("data-role");if(g){for(;f;)if(f=f.prev()){var g=f.attr("data-role");if(!g){c=f.attr("data-key");break}}}else c=f.attr("data-key");return"all"==b?{row:f,key:c}:c},Q=function(b){var c=null,e=a(a(d._table.children()[1]).children()[0]),f=e.attr("data-role");if(f){for(;e;)if(e=e.next()){var f=e.attr("data-role");if(!f){c=e.attr("data-key");break}}}else c=e.attr("data-key");return"all"==b?{row:e,key:c}:c},o=null,R=function(){if(i||h||d.clearSelection(!1),33==e||37==e){var a=O;o=d._getuikey(a,"prev"),o||(o=Q())}else if(34==e||39==e){var a=O;o=d._getuikey(a,"next"),o||(o=P())}else 38==e?o=P():40==e&&(o=Q());d._lastSelectedKey=o;var b=d.rowsByKey[o],a=d.getrowindex(b),c=d.getrowdisplayindex(b);d._raiseEvent("rowSelect",{key:o,index:c,boundIndex:a,row:d.rowsByKey[o]}),d._doSelection(o,!0,!0),d.host.focus()},S=function(){d.clearSelection(!1);var a=Q();h||i?d._selectRange(g.index(),0):d._lastSelectedKey=a,d.selectrowbykey(a,"keyboard")},T=function(){d.clearSelection(!1);var a=P("all"),b=a.key;h||i?d._selectRange(g.index(),a.row.index()):d._lastSelectedKey=b,d.selectrowbykey(b,"keyboard")};if(this.treeGrid&&this.rtl&&(37==e?e=39:39==e&&(e=37)),36==e||i&&38==e)return S(),!1;if(35==e||i&&40==e)return T(),!1;if(33==e||37==e){var o=g.attr("data-key");if(this.rowDetails&&37==e&&!this.treeGrid)return this.hidedetailsbykey(o),!1;if(this.treeGrid&&37==e){if(this.rowinfo[o].row&&!this.rowinfo[o].row[c.parent]&&!this.rowinfo[o][c.leaf]&&!this.rowinfo[o].expanded)return!1;if(this.rowinfo[o].expanded&&!this.rowinfo[o][c.leaf])return this.treeGrid.collapseRow(o),!1;if(this.rowinfo[o].row&&this.rowinfo[o].row[c.parent]&&(o=this.rowinfo[o].row[c.parent].uid),this.rowinfo[o][c.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(R):this.goToPrevPage(R),!1;if(this.treeGrid&&this.pageable&&33==e)return this.goToPrevPage(R),!1}else if(34==e||39==e){var o=g.attr("data-key");if(this.rowDetails&&39==e&&!this.treeGrid)return this.showdetailsbykey(o),!1;if(this.treeGrid&&39==e){if(this.rowinfo[o][c.leaf])return!1;if(!this.rowinfo[o].expanded)return this.treeGrid.expandRow(o),!1;if(this.rowinfo[o].row&&this.rowinfo[o].row.records&&this.rowinfo[o].row.records.length>0)if(this.dataview.filters.length>0){for(var U=this.rowinfo[o].row.records,q=0;q<U.length;q++)if(U[q]._visible){o=U[q].uid;break}}else o=this.rowinfo[o].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(R):this.goToNextPage(R),!1;if(this.treeGrid&&this.pageable&&34==e)return this.goToNextPage(R),!1}else if(38==e){for(;g;)if(g=g.prev()){var C=g.attr("data-role");if(!C){o=g.attr("data-key");break}}if(this.pageable&&null==o)return this.goToPrevPage(R),!1}else if(40==e){for(;g;)if(g=g.next()){var C=g.attr("data-role");if(!C){o=g.attr("data-key");break}}if(this.pageable&&null==o)return this.goToNextPage(R),!1}if(null!=o){if(i||h||this.clearSelection(!1),this.rowinfo[o]&&this.rowinfo[o].selected&&(i||h)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=o;var A=this.rowsByKey[o],p=this.getrowindex(A);d._updateSelection();var E=this.getrowdisplayindex(A);return this._raiseEvent("rowUnselect",{key:o,index:E,boundIndex:p,row:A}),!1}this._lastSelectedKey=o;var A=this.rowsByKey[o],p=this.getrowindex(A);this._doSelection(o,!0,!1),d._updateSelection();var E=this.getrowdisplayindex(A);if(this._raiseEvent("rowSelect",{key:o,index:E,boundIndex:p,row:A}),this.treeGrid)if(37==e){var g=this._getuirow(o),V=null;if(g){var C=g.attr("data-role");C||(V=g.attr("data-key"))}if(this.pageable&&null==V&&this.dataview.pagenum>0)for(;null==this._getuirow(o)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==e){var g=this._getuirow(o),V=null;if(g){var C=g.attr("data-role");C||(V=g.attr("data-key"))}this.pageable&&null==V&&this.goToNextPage()}return!1}}},_selection:function(a){if("selectionStart"in a[0]){var b=a[0],c=b.selectionEnd-b.selectionStart;return{start:b.selectionStart,end:b.selectionEnd,length:c,text:b.value}}var d=document.selection.createRange();if(null==d)return{start:0,end:b.value.length,length:0};var e=a[0].createTextRange(),f=e.duplicate();e.moveToBookmark(d.getBookmark()),f.setEndPoint("EndToStart",e);var c=d.text.length;return{start:f.text.length,end:f.text.length+d.text.length,length:c,text:d.text}},_doSelection:function(a,b,c){if(null==a)return void this.clearSelection();"singlerow"===this.selectionMode&&this.clearSelection(!1);var d=this.rowinfo[a];if(d)d.selected=b,this.ensurerowvisiblebykey(a);else{this.ensurerowvisiblebykey(a);var d=this.rowinfo[a];d?d.selected=b:this.rowinfo[a]={selected:b}}"none"!=this.selectionMode&&c!==!1&&this._renderrows()},clearSelection:function(a){if(this.rowinfo){var b=this.getRows();for(var c in this.rowinfo){var d=this.rowinfo[c];if(d.selected){d.selected=!1;var e=b.indexOf(d.row),f=this.getrowdisplayindex(d.row);this._raiseEvent("rowUnselect",{key:c,index:f,boundIndex:e,row:d.row})}}}a!==!1&&this._renderrows()},exportData:function(c){if(!a.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var d=this.exportSettings.columnsHeader;void 0==d&&(d=!0);var e=this.exportSettings.hiddenColumns;void 0==e&&(e=!1);var f=this.exportSettings.serverURL,g=this.exportSettings.characterSet,h=this.exportSettings.collapsedRecords;void 0==h&&(h=!1);var i=this.exportSettings.fileName;void 0===i&&(i=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var j=this,k=this.getRows();if(1==this.exportSettings.recordsInView&&(k=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)var k=this.treeGrid.getRows();if(this.groups&&this.groups.length>0){var l=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",k),m=function(b,c){for(var d=0;d<b.length;d++){var e=a.extend({},b[d]);if(c.push(e),e.records&&e.records.length>0)for(var f=m(e.records,new Array),g=0;g<f.length;g++)f[g].leaf?c.push(f[g]):c.push(f[g])}return c},n=m.call(this,l,new Array);k=n}if(0==k.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var o=new Array,p=0;p<this.columns.records.length;p++)!e&&this.columns.records[p].hidden||o.push(a.extend({},this.columns.records[p]));if(this.groups&&this.groups.length>0&&o.length>0)for(var q=this._names(),p=0;p<k.length;p++)k[p][q.leaf]||(j.rtl?k[p][o[o.length-1].displayfield]=k[p].label:k[p][o[0].displayfield]=k[p].label);var r=0;if(this.treeGrid){var s=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(s=this.getView());var q=this._names(),t=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c[q.expanded]||!c[q.expanded]&&h;r=Math.max(r,1+c[q.level]),c.records&&c.records.length>0&&d&&t(a[b].records)}};if(t(s),"xml"!=c&&"json"!=c){for(var u=o.length,p=0;p<r;p++){var v=new b(this,this);v.width=this.indentWidth,v.datafield="Level"+p,v.displayfield="Level"+p,v.align="center",v.cellsalign="center",v.text="",this.rtl?o.splice(u,0,v):o.splice(p,0,v)}var w=new Array,x=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),y=function(b){for(var d=0;d<b.length;d++){for(var e=a.extend({},b[d]),f=0;f<e[q.level];f++)e["Level"+f]="";var g=e[q.expanded]||!e[q.expanded]&&h;("xls"==c||"html"==c||"pdf"==c)&&e.records&&e.records.length>0?e["Level"+e[q.level]]=g?"-":"+":e["Level"+e[q.level]]="",e[q.leaf]&&(e["Level"+e[q.level]]="");for(var f=e[q.level]+1;f<r;f++)e["Level"+f]="";if(x&&!e[q.leaf]&&(j.rtl?e[o[o.length-r-1].displayfield]=e.label:e[o[r].displayfield]=e.label),e.aggregate)for(var i="xls"==c?"_AG":"",f=r;f<o.length;f++){var k=f;j.rtl&&(k=o.length-f-1),void 0!=e[o[k].displayfield]&&(e[o[k].displayfield]=i+e[o[k].displayfield])}w.push(e),g&&!e[q.leaf]&&y(e.records)}};y(s),k=w}else k=s}var z=void 0!=e&&e,A={},B={},C=this.host.find(".jqx-grid-cell:first"),D=this.host.find(".jqx-grid-cell-alt:first"),E=this.toThemeProperty;C.removeClass(E("jqx-grid-cell-selected")),C.removeClass(E("jqx-fill-state-pressed")),D.removeClass(E("jqx-grid-cell-selected")),D.removeClass(E("jqx-fill-state-pressed")),C.removeClass(E("jqx-grid-cell-hover")),C.removeClass(E("jqx-fill-state-hover")),D.removeClass(E("jqx-grid-cell-hover")),D.removeClass(E("jqx-fill-state-hover"));for(var F="cell",G=1,H="column",I=1,J=[],K=0;K<o.length;K++){var v=o[K];if(""!=v.cellclassname)if(v.customCellStyles=new Array,"string"==typeof v.cellclassname)v.customCellStyles.push(v.cellclassname);else for(var p=0;p<k.length;p++){var L=p,M=v.cellclassname(L,v.displayfield,k[p][v.displayfield],k[p]);M&&(v.customCellStyles[p]=M)}}if(a.each(o,function(b){var e=b;j.treeGrid&&(b>=r?e=o.length-r-1:r>0&&b<r&&(e=0));var f=a(j._table[0].rows[0].cells[e]);if(j._table[0].rows.length>1){var g=a(j._table[0].rows[1].cells[e]);if(0==g.length)var g=a(j._table[0].rows[1].cells[0])}if(0==f.length)var f=a(j._table[0].rows[0].cells[0]);var h=this,i=function(a){var b=j.toThemeProperty;if(a.removeClass(b("jqx-cell")),a.removeClass(b("jqx-grid-cell-selected")),a.removeClass(b("jqx-fill-state-pressed")),a.removeClass(b("jqx-grid-cell-hover")),a.removeClass(b("jqx-fill-state-hover")),h.customCellStyles)for(var c in h.customCellStyles)a.removeClass(h.customCellStyles[c])};if(i(f),g&&i(g),null==this.displayfield)return!0;j.showAggregates&&j.getcolumnaggregateddata&&J.push(j.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,k));var l=j._getexportcolumntype(this);!this.exportable||this.hidden&&!z||(A[this.displayfield]={},A[this.displayfield].text=this.text,A[this.displayfield].width=parseInt(this.width),isNaN(A[this.displayfield].width)&&(A[this.displayfield].width=60),A[this.displayfield].width>500&&(A[this.displayfield].width=500),A[this.displayfield].formatString=this.cellsFormat,A[this.displayfield].localization=j.gridlocalization,A[this.displayfield].type=l,A[this.displayfield].cellsAlign=this.cellsalign,A[this.displayfield].hidden=!d,A[this.displayfield].index=e,A[this.displayfield].maxIndex=o.length),F="cell"+G;var m=this.element;if("json"!=c&&"xml"!=c){H="column"+I;var n=function(a,b,d,e,f,g,h,i,j){B[a]={index:1+h,maxIndex:o.length},g.rtl&&(B[a].index=o.length-h),"html"!=c&&"xls"!=c&&"pdf"!=c||(b&&(B[a]["font-size"]=b.css("font-size"),B[a]["font-weight"]=b.css("font-weight"),B[a]["font-style"]=b.css("font-style"),B[a]["background-color"]=g._getexportcolor(b.css("background-color")),B[a].color=g._getexportcolor(b.css("color")),B[a]["border-color"]=g._getexportcolor(b.css("border-top-color"))),d?B[a]["text-align"]=f.align:(B[a]["text-align"]=f.cellsalign,B[a].formatString=f.cellsFormat,B[a].dataType=l),"html"!=c&&"pdf"!=c||(B[a]["border-top-width"]="0px",g.rtl?(B[a]["border-left-width"]="1px",B[a]["border-right-width"]="0px",h==o.length-r-1&&d&&(B[a]["border-right-width"]="1px")):(B[a]["border-left-width"]="0px",B[a]["border-right-width"]="1px"),B[a]["border-bottom-width"]="1px",b&&(B[a]["border-top-style"]=b.css("border-top-style"),B[a]["border-left-style"]=b.css("border-left-style"),B[a]["border-right-style"]=b.css("border-right-style"),B[a]["border-bottom-style"]=b.css("border-bottom-style")),d?(0!=h||g.rtl?h==o.length-1&&g.rtl&&(B[a]["border-right-width"]="1px"):B[a]["border-left-width"]="1px",b&&(B[a]["border-top-width"]="1px",B[a]["border-bottom-width"]=b.css("border-bottom-width"))):0!=h||g.rtl?h==o.length-1&&g.rtl&&(B[a]["border-right-width"]="1px"):B[a]["border-left-width"]="1px",b&&(B[a].height=b.css("height")),g.treeGrid&&!d&&(B[a].index-1<r?g.rtl?B[a]["border-left-width"]="0px":B[a]["border-right-width"]="0px":B[a].index-1==r&&(g.rtl?B[a]["border-right-width"]="0px":B[a]["border-left-width"]="0px")))),!f.exportable||f.hidden&&!z||(1==i?(A[f.displayfield].customCellStyles||(A[f.displayfield].customCellStyles=new Array),A[f.displayfield].customCellStyles[j]=a):d?A[f.displayfield].style=a:e?A[f.displayfield].cellAltStyle=a:A[f.displayfield].cellStyle=a)};if(n(H,m,!0,!1,this,j,b),I++,n(F,f,!1,!1,this,j,b),j.altRows&&(F="cellalt"+G,n(F,g,!1,!0,this,j,b)),this.customCellStyles){for(var p in h.customCellStyles)f.removeClass(h.customCellStyles[p]);for(var p in h.customCellStyles)f.addClass(h.customCellStyles[p]),n(F+h.customCellStyles[p],f,!1,!1,this,j,b,!0,p),f.removeClass(h.customCellStyles[p])}G++}}),"json"!=c&&"xml"!=c&&r>0&&this.treeGrid){var N=r+1;if(this.rtl&&(N=o.length-r),B["column"+N]){var O=B["column"+N];O.merge=r,O["border-left-width"]="1px";for(var p=(B["cell"+N],0);p<o.length;p++){var N=p+1;this.rtl&&(N=o.length-p),B["column"+N].level=p,B["column"+N].maxLevel=r,B["cell"+N].maxLevel=r;var v=o[p];if(v.customCellStyles)for(var P in v.customCellStyles)B["cell"+N+v.customCellStyles[P]]&&(B["cell"+N+v.customCellStyles[P]].maxLevel=r);B["cellalt"+N]&&(B["cellalt"+N].maxLevel=r)}for(var p=0;p<r;p++){var N=p+1,Q=p;this.rtl&&(N=o.length-p);var R=B["column"+N];R.disabled=!0,B["cell"+N].level=Q,B["cell"+N].maxLevel=r,B["column"+N].level=Q,B["cellalt"+N]&&(B["cellalt"+N].level=Q,B["cellalt"+N].maxLevel=r);var v=o[p];if(v.customCellStyles)for(var P in v.customCellStyles)B["cell"+N+v.customCellStyles[P]]&&(B["cell"+N+v.customCellStyles[P]].maxLevel=r,B["cell"+N+v.customCellStyles[P]].level=Q);if(("html"==c||"pdf"==c||"xls"==c)&&(R["font-size"]=O["font-size"],R["font-weight"]=O["font-weight"],R["font-style"]=O["font-style"],R["background-color"]=O["background-color"],R.color=O.color,R["border-color"]=O["border-color"],"html"==c||"pdf"==c)){R["border-top-width"]=O["border-top-width"],R["border-left-width"]=O["border-left-width"],this.rtl&&(R["border-right-width"]=O["border-right-width"],0==p&&(R["border-right-width"]="1px")),0!=p||this.rtl?0==p&&this.rtl&&(R["border-left-width"]="0px"):R["border-left-width"]="0px",this.rtl?this.rtl&&(R["border-left-width"]="0px"):R["border-right-width"]="0px",R["border-bottom-width"]="0px";var R=B["cell"+N];this.rtl?this.rtl&&(R["border-left-width"]="0px"):R["border-right-width"]="0px"}}}}if(this.showAggregates){var S=[],T="xls"==c?"_AG":"",U=0;this.rowDetails&&!this.treeGrid&&U++,J.length>0&&(a.each(o,function(a){if(this.aggregates)for(var b=0;b<this.aggregates.length;b++)if(S[b]||(S[b]={}),S[b]){var c=j._getaggregatename(this.aggregates[b]),d=j._getaggregatetype(this.aggregates[b]),e=J[a-U];e&&(S[b][this.displayfield]=T+c+": "+e[d])}}),a.each(o,function(a){for(var b=0;b<S.length;b++)void 0==S[b][this.displayfield]&&(S[b][this.displayfield]=T);
})),a.each(S,function(){k.push(this)})}var V=this,W=a.jqx.dataAdapter.ArrayExporter(k,A,B,f,this.treeGrid&&("xml"==c||"json"==c));if(void 0==i){this._renderrows();var X=this.treeGrid&&("xml"==c||"json"==c),Y=W.exportTo(c,this.treeGrid&&("xml"==c||"json"==c));return this.showAggregates&&a.each(S,function(){k.pop(this)}),setTimeout(function(){V.exporting=!1},50),Y}var X=this.treeGrid&&("xml"==c||"json"==c);W.exportToFile(c,i,f,g,X),this.showAggregates&&a.each(S,function(){k.pop(this)}),this._renderrows(),setTimeout(function(){V.exporting=!1},50)},_getexportcolor:function(a){var b=a;if("transparent"==a&&(b="#FFFFFF"),b&&b.toString()||(b="#FFFFFF"),b.toString().indexOf("rgb")!=-1){var c=b.split(",");if(b.toString().indexOf("rgba")!=-1){var d=parseInt(c[0].substring(5)),e=parseInt(c[1]),f=parseInt(c[2]),g=parseInt(c[3].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return 0==d&&0==e&&0==f&&0==g?"#ffffff":"#"+i}var d=parseInt(c[0].substring(4)),e=parseInt(c[1]),f=parseInt(c[2].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return"#"+i}if(b.toString().indexOf("#")!=-1&&4==b.toString().length){var j=b.toString().substring(1,4);b+=j}return b},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(a){var b=parseInt(a).toString(16);return 1==b.length&&(b="0"+b),b.toUpperCase()},_getexportcolumntype:function(b){var c=this,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){if(this.name==b.displayfield)return this.type&&(f=this.type),!1}),f)return f}if(null!=b){if(void 0==this.dataview.cachedrecords)return d;var g=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return g=this[b.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return d;if(g=this.dataview.cachedrecords[0][b.displayfield],null!=g&&""==g.toString())return"string"}if(null!=g){if(b.cellsFormat.indexOf("c")!=-1)return"number";if(b.cellsFormat.indexOf("n")!=-1)return"number";if(b.cellsFormat.indexOf("p")!=-1)return"number";if(b.cellsFormat.indexOf("d")!=-1)return"date";if(b.cellsFormat.indexOf("y")!=-1)return"date";if(b.cellsFormat.indexOf("M")!=-1)return"date";if(b.cellsFormat.indexOf("m")!=-1)return"date";if(b.cellsFormat.indexOf("t")!=-1)return"date";if("boolean"==typeof g)d="boolean";else if(a.jqx.dataFormat.isNumber(g))d="number";else{var h=new Date(g);if("NaN"==h.toString()||"Invalid Date"==h.toString())if(a.jqx.dataFormat){if(h=a.jqx.dataFormat.tryparsedate(g),null!=h){if(h&&h.getFullYear()&&1970==h.getFullYear()&&0==h.getMonth()&&1==h.getDate()){var i=new Number(g);return isNaN(i)?"string":"number"}return"date"}d="string"}else d="string";else d="date"}}}return d},showDetails:function(a){var b=this._getkey(a);this.showdetailsbykey(b)},hideDetails:function(a){var b=this._getkey(a);this.hidedetailsbykey(b)},setCellValueByKey:function(b,c,d){var e=this,f=this.rowsByKey[b],g=this.getrowindex(f),h=f;if(null!=h&&h[c]==d)return!1;if(null==h||null!==h[c]||""!==d){var i="";if(null!=h&&h[c]!==d){var j=this.getColumn(c),k="string",l=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(l){var m="";a.each(l,function(){if(this.name==j.displayfield)return this.type&&(m=this.type),!1}),m&&(k=m)}if(i=h[c],!j.nullable||null!=d&&""!==d&&j.nullable&&void 0===d.label){if(a.jqx.dataFormat.isNumber(i)||"number"==k||"float"==k||"int"==k||"decimal"==k&&"date"!=k)d=new Number(d),d=parseFloat(d),isNaN(d)&&(d=0);else if((a.jqx.dataFormat.isDate(i)||"date"==k)&&""!=d){var n=d;n=new Date(n),"Invalid Date"!=n&&null!=n?d=n:"Invalid Date"==n&&(n=new Date,d=n)}if(h[c]===d)return}if(e.dataview._filteredData=null,e.dataview._sortData=null,e.dataview._sortHierarchyData=null,h[c]=d,this.treeGrid){var o=this.treeGrid.getRow(b);o&&(o[c]=d)}if(null!=d&&null!=d.label){var j=this.getColumn(c);if(h[j.displayfield]=d.label,h[c]=d.value,this.treeGrid){var o=this.treeGrid.getRow(b);o&&(o[j.displayfield]=d.label,o[c]=d.value)}}if("binder"==this.source._source.datatype){for(var p,q={},r=0;r<this.columns.records.length;r++)p=this.columns.records[r].datafield,null==h[p]||void 0==h[p]?q[p]=null:q[p]=h[p];this.source.bindupdaterow(g,q)}}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var s=g,t=this.source._source._localdata()[s];this.source.suspendKO=!0;var u=t;if(u[c]&&u[c].subscribe)null!=d&&null!=d.label?(u[j.displayfield](d.label),u[c](d.value)):u[c](d);else{var l=this.source._source.datafields,v=null;if(l&&a.each(l,function(){if(this.name==c)return v=this.map,!1}),null==v)null!=d&&null!=d.label?(u[c]=d.value,u[j.displayfield]=d.label):u[c]=d;else{var w=v.split(this.source.mapChar);if(w.length>0){for(var x=u,y=0;y<w.length-1;y++)x=x[w[y]];x[w[w.length-1]]=d}}this.source._source._localdata.replace(t,a.extend({},u))}this.source.suspendKO=!1}if(this.source.updaterow&&(void 0==sync||1==sync)){var z=!1,A=function(a){0==a&&this.setCellValue(f,c,i,!0,!1)};try{var B=b;z=this.source.updaterow(B,h,A),void 0==z&&(z=!0)}catch(C){return z=!1,void this.setCellValue(f,c,i)}}var D=this.getrowdisplayindex(f),j=this.getColumn(c);this._raiseEvent("cellValueChanged",{value:d,oldValue:i,dataField:c,displayField:j.displayfield,key:b,boundIndex:g,index:D,row:this.rowsByKey[b]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(a,b,c){if(null==a||null==b)return!1;var d=parseInt(a),e=this._getkey(d);this.setCellValueByKey(e,b,c)},getCellText:function(a,b){if(null==a||null==b)return!1;var c=parseInt(a),d=this._getkey(c);return this.getCellTextByKey(d,b)},getCellTextByKey:function(b,c){if(this.treeGrid&&this.treeGrid.getCellTextByKey)return this.treeGrid.getCellTextByKey(b,c);if(null==b||null==c)return null;var d=this.getCellValueByKey(b,c),e=this.getColumn(c);return e&&""!=e.cellsFormat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(d)?d=a.jqx.dataFormat.formatdate(d,e.cellsFormat,this.gridlocalization):(a.jqx.dataFormat.isNumber(d)||!isNaN(parseFloat(d))&&isFinite(d))&&(d=a.jqx.dataFormat.formatnumber(d,e.cellsFormat,this.gridlocalization))),d},getCellValue:function(a,b){if(null==a||null==b)return!1;var c=parseInt(a),d=this._getkey(c);return this.getCellValueByKey(d,b)},getCellValueByKey:function(a,b){var c=this.rowsByKey[a];!c&&this.treeGrid&&(c=this.treeGrid.getRow(a));var d=(this.getrowindex(c),c);return null!=d?d[b]:null},beginRowEdit:function(a){var b=this._getkey(a);this.beginroweditbykey(b)},beginCellEdit:function(a,b){var c=this._getkey(a),d=this.getColumn(b);this.beginroweditbykey(c,d)},endCellEdit:function(a,b,c){this.endRowEdit(a,c)},endRowEdit:function(a,b){var c=this._getkey(a);this.endroweditbykey(c,b)},getrowindex:function(a){var b=this.getRows().indexOf(a);if(b!=-1)return b;if(this.groups&&this.groups.length>0)for(var c=this.getRows(),d=0;d<c.length;d++)if(a.originalRecord){if(c[d].uid==a.originalRecord.uid){b=d;break}}else if(c[d].uid==a.uid){b=d;break}return b},getrowdisplayindex:function(a){if(this.treeGrid)return-1;var b=this.getView(),c=b.indexOf(a);if(c!=-1)return c;if(void 0==a)return c;for(var d=b,e=0;e<d.length;e++)if(d[e].uid==a.uid||a.originalRecord&&d[e].uid==a.originalRecord.uid){c=e;break}return c},beginroweditbykey:function(b,c){if(this.beginEdit){var d=this.beginEdit(b,c);if(d===!1)return!1}var e=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(e>0){var f=this.rowsByKey[b];if(this.treeGrid)var f=this.treeGrid.getRow(b);if(f.level<e)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(b),this.editKey===b&&void 0!=this.editKey)return!1;if(this.rowinfo[b]&&this.rowinfo[b].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(b,!0),!1;var g=this.editSettings.editSingleCell;if(!c&&g&&this.columns.records&&this.columns.records.length>0){for(var h=0;h<this.columns.records.length&&(c=this.columns.records[h],!c.editable||c.hidden);h++);if(!c)return!1}if(g&&c&&!c.editable)return this.editKey=null,!1;g&&(this.editColumn=c);var i=this,f=this.rowsByKey[b];if(this.treeGrid)var f=this.treeGrid.getRow(b);var j=this.getrowindex(f),k=this._getuirow(b),l=this._getpinneduirow(b);this._editors=new Array;var m=!1;if(k)for(var n=k[0].cells,o=0,h=0;h<n.length;h++){var p=this.columns.records[h],q=n[h];if(!p.rowDetailscolumn&&!(p.checkboxcolumn||(p.pinned&&(q=l[0].cells[h]),g&&c&&p.datafield!=c.datafield||(a(q).removeClass(this.toTP("jqx-grid-cell-selected")),a(q).removeClass(this.toTP("jqx-fill-state-pressed")),a(q).removeClass(this.toTP("jqx-grid-cell-hover")),a(q).removeClass(this.toTP("jqx-fill-state-hover")),"none"==p.columntype)))){var r=a(q).outerWidth(),s=a(q).width();0===o&&(o=a(q).outerHeight()-1),a(q).css("padding","0px"),cellContent="<div style='height:"+o+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";var t=this.getCellTextByKey(b,p.displayfield);q.innerHTML=cellContent;var u=a(q.firstChild);switch(p.columntype){case"textbox":case"default":var v=a("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(u);if(this.rtl&&v.css("direction","rtl"),v.addClass(this.toThemeProperty("jqx-input")),v.addClass(this.toThemeProperty("jqx-widget-content")),v.addClass(this.toThemeProperty("jqx-cell-editor")),v[0].onfocus=function(b){setTimeout(function(){if(b){var c=a(b.target).parent().parent().index();c>=0&&i.ensureColumnVisible(i.columns.records[c].datafield)}else{var c=a(document.activeElement).parent().parent().index();c>=0&&i.ensureColumnVisible(i.columns.records[c].datafield)}i.content&&(i.content[0].scrollTop=0,i.content[0].scrollLeft=0),i.gridcontent&&(i.gridcontent[0].scrollLeft=0,i.gridcontent[0].scrollTop=0)},10)},p.editable){if(!m){m=!0;var w=a.jqx.browser.msie&&a.jqx.browser.version>10;w||v.focus();var x=v;setTimeout(function(){var a=x.val().length;w||x.focus();try{if("selectionStart"in x[0])x[0].setSelectionRange(0,a);else{var b=x[0].createTextRange();b.collapse(!0),b.moveEnd("character",a),b.moveStart("character",0),b.select()}}catch(c){}},10)}}else v.attr("disabled",!0),v.attr("readOnly",!0),v.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(v.width(s),v.height(o),a.jqx.browser.msie&&a.jqx.browser.version<9&&v.css("line-height",parseInt(o)+"px"),v.css("text-align",p.cellsalign),null===t&&(t=""),void 0==t&&(t=""),v.val(t),p.createeditor){var y=t,t=this.getCellValueByKey(b,p.displayfield);p.createeditor(this.treeGrid?b:j,t,v,y,s,o)}if(this._editors.push({column:p,editor:v}),""!=p.cellsFormat&&(p.cellsFormat.indexOf("p")==-1&&p.cellsFormat.indexOf("c")==-1&&p.cellsFormat.indexOf("n")==-1&&p.cellsFormat.indexOf("f")==-1||v.keydown(function(a){var b=a.charCode?a.charCode:a.keyCode?a.keyCode:0,c=String.fromCharCode(b),d=parseInt(c);if(isNaN(d))return!0;if(i._selection(v).length>0)return!0;var e="",f=v.val();if(p.cellsFormat.length>1){var g=parseInt(p.cellsFormat.substring(1));isNaN(g)&&(g=0)}else var g=0;if(g>0&&f.indexOf(i.gridlocalization.decimalseparator)!=-1&&i._selection(v).start>f.indexOf(i.gridlocalization.decimalseparator))return!0;for(var h=0;h<f.length-g;h++){var j=f.substring(h,h+1);null!=j.match(/^[0-9]+$/)&&(e+=j)}return!(e.length>=11)&&void 0})),p.initeditor){var y=t,t=this.getCellValueByKey(b,p.displayfield);p.initeditor(this.treeGrid?b:j,t,v,y,s,o)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var z=a("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(u),A=a.trim(p.datafield).split(" ").join("");A.indexOf(".")!=-1&&(A=A.replace(".",""));var B=this.editorsCache["templateeditor_"+A];if("custom"==p.columntype)var B=this.editorsCache["customeditor_"+A+"_"+b];var y=t,t=this.getCellValueByKey(b,p.displayfield);if(B){var v=B;v.width(r),v.height(o),v.appendTo(z)}else{var v=a("<div style='border: none;'></div>");v.width(r),v.height(o),B=v,null===t&&(t=""),"custom"!=p.columntype?this.editorsCache["templateeditor_"+A]=v:this.editorsCache["customeditor_"+A+"_"+b]=v,v.appendTo(z),p.createeditor&&p.createeditor(this.treeGrid?b:j,t,v,y,r,o)}if(p.initeditor){var C=p.initeditor(this.treeGrid?b:j,t,v,y,r,o);if(C===!1)return void this.endroweditbykey(b,!0)}this._editors.push({column:p,editor:v})}}}this.editKey=b,this.beginUpdate();var D=this.getrowdisplayindex(f);if(this._raiseEvent("rowBeginEdit",{key:b,index:D,boundIndex:j,row:this.rowsByKey[b]}),g){var f=this.rowsByKey[b],E=null,F=null;f&&(E=f[c.datafield],F=f[c.displayfield]),this._raiseEvent("cellBeginEdit",{value:E,displayValue:F,key:b,index:D,dataField:c.datafield,displayField:c.displayfield,boundIndex:j,row:this.rowsByKey[b]})}this.endUpdate(!1)},_toNumber:function(a){a.indexOf||void 0==a||(a=a.toString()),a.indexOf(this.gridlocalization.currencysymbol)>-1&&(a=a.replace(this.gridlocalization.currencysymbol,""));var b=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);e!=-1;)d=d.replace(b,c),e=d.indexOf(b);return d};a=b(a,this.gridlocalization.thousandsseparator,""),a=a.replace(this.gridlocalization.decimalseparator,"."),a.indexOf(this.gridlocalization.percentsymbol)>-1&&(a=a.replace(this.gridlocalization.percentsymbol,""));for(var c="",d=0;d<a.length;d++){var e=a.substring(d,d+1);"-"===e&&(c+="-"),"."===e&&(c+="."),null!=e.match(/^[0-9]+$/)&&(c+=e)}return a=c,a=a.replace(/ /g,"")},_geteditorvalue:function(b,c,d,e){var f=new String;if(c){if(!b.geteditorvalue)switch(b.columntype){case"textbox":default:if(f=c.val(),""!=b.cellsFormat){var g="string",h=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(h){var i="";a.each(h,function(){if(this.name==b.displayfield)return this.type&&(i=this.type),!1}),i&&(g=i)}var j="number"===g||"float"===g||"int"===g||"integer"===g,k="date"===g||"time"===g;if(j||"string"===g&&(b.cellsFormat.indexOf("p")!=-1||b.cellsFormat.indexOf("c")!=-1||b.cellsFormat.indexOf("n")!=-1||b.cellsFormat.indexOf("f")!=-1)){if(""===f&&b.nullable)return"";f=this._toNumber(f),f=new Number(f),isNaN(f)&&(f="")}if(k||"string"===g&&(b.cellsFormat.indexOf("H")!=-1||b.cellsFormat.indexOf("m")!=-1||b.cellsFormat.indexOf("M")!=-1||b.cellsFormat.indexOf("y")!=-1||b.cellsFormat.indexOf("h")!=-1||b.cellsFormat.indexOf("d")!=-1)){if(""===f&&b.nullable)return"";var l=f;f=new Date(f),("Invalid Date"==f||null==f||b.cellsFormat.length>1)&&(a.jqx.dataFormat&&(f=a.jqx.dataFormat.parsedate(l,b.cellsFormat,this.gridlocalization)),"Invalid Date"!=f&&null!=f||(f=""))}}b.displayfield!=b.datafield&&(f={label:f,value:f})}if(b.geteditorvalue){var m=this.getCellValueByKey(e,b.displayfield);f=b.geteditorvalue(this.treeGrid?e:d,m,c)}}return f},_validateEditors:function(a){for(var b=this,c=!0,d=b.rowsByKey[a],e=b.getrowindex(d),f=b._editors,a=b.editKey,g=b._getuirow(a),h=0;h<f.length;h++){var i=f[h].editor,j=f[h].column;if(j.validation){var k=b._geteditorvalue(j,i,e,a);i.removeClass(b.toThemeProperty("jqx-grid-validation-label"));var l=j.datafield;try{var m=j.validation({value:k,row:a,datafield:j.datafield,displayfield:j.displayfield,column:j},k),n=b.gridlocalization.validationstring;void 0!=m.message&&(n=m.message);var o="boolean"==typeof m?m:m.result;o||(void 0!=m.showmessage&&1!=m.showmessage||b._showvalidationpopup(g,l,n,i),c=!1)}catch(p){b._showvalidationpopup(g,l,b.gridlocalization.validationstring,i),c=!1}}}return c},endroweditbykey:function(b,c){var d=this,e=this.rowsByKey[b].clone();if(null===d.editKey)return void(this.treeGrid&&this.treeGrid._detachEditors&&this.treeGrid._detachEditors(b,c));if(this.endEdit){var f=this.endEdit(b);if(f===!1)return}var g=d.getrowindex(e),h=d._editors,i=d.editKey;d._getuirow(i);if(c!==!0){var j=!0;if(h&&(j=d._validateEditors(i))){for(var k=a.extend({},e),l=a.extend({},e),m=0;m<h.length;m++){var n=h[m].editor,o=h[m].column,p=d._geteditorvalue(o,n,g,i);p&&void 0!=p.label?(k[o.displayfield]=p.label,k[o.datafield]=p.value):k[o.displayfield]=p}var q=function(){d.dataview._sortHierarchyData=null,d.dataview._sortData=null;for(var c=0;c<h.length;c++){var f=h[c].editor,j=h[c].column,k=d._geteditorvalue(j,f,g,i),m=l[j.displayfield];if(k&&void 0!=k.label?(e[j.displayfield]=k.label,e[j.datafield]=k.value):e[j.displayfield]=k,d.treeGrid){var n=d.treeGrid.getRow(i);n&&(k&&void 0!==k.label?(n[j.displayfield]=k.label,n[j.datafield]=k.value):n[j.displayfield]=k)}if(d.editorsCache){var o=function(a){if(a&&a.jqxWidget){var b=a.jqxWidget.element.className;if((b.indexOf("dropdownlist")>=0||b.indexOf("datetimeinput")>=0||b.indexOf("combobox")>=0||b.indexOf("menu")>=0)&&a.jqxWidget.isOpened){var c=a.jqxWidget.isOpened();c&&a.jqxWidget.close()}}},p="customeditor_"+j.displayfield+"_"+b,q="templateeditor_"+j.displayfield;if(d.editorsCache[p]){var r=a(d.editorsCache[p]).data(),s=d.editorsCache[p];!r.jqxWidget&&a(s).children()[0]&&a(a(s).children()[0]).data().jqxWidget&&(r=a(a(s).children()[0]).data()),o(r),d.editorsCache[p].detach()}if(d.editorsCache[q]){d.editorsCache[q].detach();var r=a(d.editorsCache[q]).data(),s=d.editorsCache[q];!r.jqxWidget&&a(s).children()[0]&&a(a(s).children()[0]).data().jqxWidget&&(r=a(a(s).children()[0]).data()),o(r)}}k!=m&&(d.beginUpdate(),d._raiseEvent("cellValueChanged",{value:k,oldValue:m,dataField:j.datafield,displayField:j.displayfield,key:b,index:g,row:e}),d.endUpdate(!1))}};c=!d.updaterowbykey(d.editKey,k,!1,q)}if(!j)return!1}return this.treeGrid&&this.treeGrid._detachEditors?this.treeGrid._detachEditors(b,c):d._detachEditors(i),!0},_detachEditors:function(b){var c=this,d=c.rowsByKey[b],e=c.getrowindex(d);if(c.editorsCache)for(var f in c.editorsCache){var g=a(c.editorsCache[f]).data();if(g&&g.jqxWidget){var h=g.jqxWidget.element.className;if((h.indexOf("dropdownlist")>=0||h.indexOf("datetimeinput")>=0||h.indexOf("combobox")>=0||h.indexOf("menu")>=0)&&g.jqxWidget.isOpened){var i=g.jqxWidget.isOpened();i&&g.jqxWidget.close()}}a(c.editorsCache[f]).detach()}c.beginUpdate();var j=c.getrowdisplayindex(d);if(c.editSettings.editSingleCell){var d=c.rowsByKey[b],k=null,l=null;d&&(k=d[c.editColumn.datafield],l=d[c.editColumn.displayfield]),c._raiseEvent("cellEndEdit",{value:k,displayValue:l,key:b,index:j,dataField:c.editColumn.datafield,displayField:c.editColumn.displayfield,boundIndex:e,row:c.rowsByKey[b]})}c._raiseEvent("rowEndEdit",{key:b,index:j,boundIndex:e,row:c.rowsByKey[b]}),c.endUpdate(!1),c.editColumn=null,c.editKey=null,c._renderrows(),c._renderhorizontalscroll(),c.host.focus(),setTimeout(function(){c.host.focus()},10)},_showvalidationpopup:function(b,c,d,e){if(void 0==d)var d=this.gridlocalization.validationstring;e.addClass(this.toThemeProperty("jqx-grid-validation-label"));var f=a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),g=a("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");f.html(d),g.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),f.addClass(this.toThemeProperty("jqx-grid-validation")),f.addClass(this.toThemeProperty("jqx-rc-all")),f.hide(),g.hide(),f.prependTo(this.table),g.prependTo(this.table);var h=this.hScrollInstance,i=h.value,j=parseInt(i),k=this.getColumn(c).uielement;if(b){var l=b;f.css("top",parseInt(l.position().top)+30+"px");var m=parseInt(f.css("top"));g.css("top",m-11),g.removeClass(),g.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var n=!1;m>=this._table.height()&&(g.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),g.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),m=parseInt(l.position().top)-l.outerHeight()-5,m<0&&(m=0,g.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),n=!0),f.css("top",m+"px"),g.css("top",m+f.outerHeight()-9));var o=-j+parseInt(a(k).position().left),p=parseInt(this._table.css("left"));isNaN(p)&&(p=0),0!=p&&(j=0),g.css("left",j+o+30);var q=f.width();if(q+o>this.host.width()-20){var r=q+o-this.host.width()+40;o-=r}n?f.css("left",j+parseInt(a(k).position().left)-f.outerWidth()):f.css("left",j+o),e.mouseenter(function(){e.hasClass("jqx-grid-validation-label")&&(f.show(),g.show())}),e.mouseleave(function(){f.hide(),g.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:f,validationrow:g}}},addRow:function(b,c,d,e){if(void 0!=c){this._datachanged=!0,void 0==d&&(d="last");var f=!1,g=this.that;if(null==b){var h=this.dataview.filters&&this.dataview.filters.length>0,i=h?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;var i=h?this.source.records.length:this.dataview.totalrecords}if(a.isArray(c)){var j=new Array;a.each(c,function(a,b){var d=g.dataview.getid(g.dataview.source.id,c[a],i+a);j.push(d),g.getColumn(g.dataview.source.id)&&(c[a][g.dataview.source.id]=d)}),b=j}else b=this.dataview.getid(this.dataview.source.id,c,i),this.getColumn(this.dataview.source.id)&&(c[this.dataview.source.id]=b)}else a.isArray(c)?a.each(c,function(a,d){var e=b[a];g.getColumn(g.dataview.source.id)&&(c[a][g.dataview.source.id]=e)}):this.getColumn(this.dataview.source.id)&&(c[this.dataview.source.id]=b);var k=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords,l=function(b,c,d,f){if(b._loading)throw new Error("jqxDataTable: "+b.loadingErrorMessage);var g=b.vScrollInstance.value,h=!1;if(a.isArray(d)?a.each(d,function(a,d){var g=null;null!=c&&null!=c[a]&&(g=c[a]),this.uid=g,b.rowsByKey[g]=this,c==e&&(e=null),h=b.source.addRecord(this,f,e,k)}):(d.uid=c,b.rowsByKey[c]=d,c==e&&(e=null),h=b.source.addRecord(d,f,e,k)),b.groups&&b.groups.length>0){var i=Object.prototype.toString,j=b.groups[0];if(Object.prototype.toString="function"==typeof j?j:function(){return this[j]},!b.source.records.sort){var l=new Array,m=0;a.each(data,function(){l[startindex+m++]=this}),data=l}b.source.records.sort(function(b,c){if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return-1;if(null!==b&&null===c)return 1;var d=0,e=0;if(b&&b.uid&&(d=b.uid),c&&c.uid&&(e=c.uid),b=b.toString(),c=c.toString(),a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return b<c?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return b<c?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase());try{if(b<c)return-1;if(b>c)return 1}catch(f){}if("number"==typeof d){if(d<e)return-1;if(d>e)return 1}return 0}),Object.prototype.toString=i}return b.dataview._filteredData=null,b.dataview._sortData=null,b.dataview._sortHierarchyData=null,void 0!=b._updating&&0!=b._updating||b.refresh(),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.push(d),b.source.suspendKO=!1),b.vScrollInstance.setPosition(g),h};if(this.source.addrow){var m=function(a,e){1!=a&&void 0!=a||(void 0!=e&&(b=e),l(g,b,c,d))};try{f=g.treeGrid?this.source.addrow(b,c,d,e,m):this.source.addrow(b,c,d,m),void 0==f&&(f=!0)}catch(n){f=!1}if(0==f)return!1}else l(this,b,c,d);return f}return!1},deleteRow:function(a){var b=this._getkey(a);this.deleterowbykey(b)},deleterowbykey:function(b){if(void 0!=b){this._datachanged=!0;var c=!1,d=this.that,e=function(b,c){if(b._loading)throw new Error("jqxDataTable: "+b.loadingErrorMessage);b.dataview._filteredData=null,b.dataview._sortData=null,b.dataview._sortHierarchyData=null;var d=!1,e=b.vScrollInstance.value;if(a.isArray(c))a.each(c,function(){var a=this;if(b.rowsByKey[a]){if(d=!0,b.rowinfo[a].selected&&b.unselectrowbykey(a,!1),b.treeGrid)var c=b._names(),e=b.rowsByKey[a][c.parent];if(delete b.rowsByKey[a],b.treeGrid&&b.rowinfo[a]){var f=b.rowinfo[a].row.records,g=function(a){for(var c=0;c<a.length;c++){var d=a[c].uid;delete b.rowsByKey[d],delete b.rowinfo[d],a[c].records&&g(a[c].records)}};f&&(g(f),delete b.rowinfo[a])}b.source.deleteRecord(a),e&&c&&e.records&&0==e.records.length&&(e[c.leaf]=!0,b.rowinfo[e.uid][c.leaf]=!0)}});else{var d=!1;if(b.rowsByKey[c]){if(d=!0,b.rowinfo[c]&&b.rowinfo[c].selected&&b.unselectrowbykey(c,!1),b.treeGrid)var f=b._names(),g=b.rowsByKey[c][f.parent];if(delete b.rowsByKey[c],b.treeGrid&&b.rowinfo[c]){var h=b.rowinfo[c].row.records,i=function(a){for(var c=0;c<a.length;c++){var d=a[c].uid;delete b.rowsByKey[d],delete b.rowinfo[d],a[c].records&&i(a[c].records)}};h&&i(h)}delete b.rowinfo[c],b.source.deleteRecord(c),g&&f&&g.records&&0==g.records.length&&(g[f.leaf]=!0,b.rowinfo[g.uid][f.leaf]=!0)}}return b.refresh(),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.pop(rowdata),b.source.suspendKO=!1),b.vScrollInstance.setPosition(e),d};if(this.source.deleterow){var f=function(a){1!=a&&void 0!=a||e(d,b)};try{this.source.deleterow(b,f),void 0==c&&(c=!0)}catch(g){c=!1}}else c=e(d,b);return c}return!1},updateRow:function(a,b){var c=this._getkey(a);this.updaterowbykey(c,b)},updaterowbykey:function(b,c,d,e){if(void 0!=b&&void 0!=c){var f=this.that,g=!1;if("binder"==this.source._source.datatype){for(var h,i=this.rowsByKey[b],j=this.getrowindex(i),k=this.source._source.datafields,l={},m=0;m<k.length;m++)h=k[m].name,null==c[h]||void 0==c[h]?l[h]=null:"date"==k[m].type?l[h]=new Date(c[h]).getTime():l[h]=f.getvaluebytype(c[h],k[m]);this.source.bindupdaterow(j,l)}var n=function(b,c,e){if(b._loading)throw new Error("jqxDataTable: "+b.loadingErrorMessage);b.dataview._filteredData=null,b.dataview._sortData=null,b.dataview._sortHierarchyData=null;var f=!1;if(a.isArray(c))a.each(c,function(a,c){var d=b.rowsByKey[this],g=function(b,c){d?d[this]=e[a]:f=!1,f=!0};g(this,d),b.treeGrid&&(d=b.treeGrid.getRow(this),g(this,d))});else{var g=b.rowsByKey[c],h=function(a){if(a){for(var c=0;c<b.columns.records.length;c++)a[b.columns.records[c].datafield]=e[b.columns.records[c].datafield],b.groups.length>0&&a.originalRecord&&(a.originalRecord[b.columns.records[c].datafield]=e[b.columns.records[c].datafield]);f=!0}else f=!1};h(g),b.treeGrid&&(g=b.treeGrid.getRow(c),h(g))}var i=b.vScrollInstance.value;if(void 0!=d&&1!=d||void 0!=b._updating&&0!=b._updating||b._renderrows(),b.showAggregates&&b._updatecolumnsaggregates&&b._updatecolumnsaggregates(),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata){var g=b.rowsByKey[c],j=b.getrowindex(g),k=b.source._source._localdata()[j];b.source.suspendKO=!0,b.source._source._localdata.replace(k,a.extend({},g)),b.source.suspendKO=!1}return b.vScrollInstance.setPosition(i),f};if(this.source.updaterow){var o=function(a){1!=a&&void 0!=a||(n(f,b,c),e&&e(),f._renderrows(!1),f.autoRowHeight&&(f._updateScrollbars(),f._arrange()))};try{g=this.source.updaterow(b,c,o),void 0==g&&(g=!0)}catch(p){g=!1}}else g=n(f,b,c),g&&e&&e(),f._renderrows(!1),f.autoRowHeight&&(f._updateScrollbars(),f._arrange());return g}return!1},lockRow:function(a){var b=this._getkey(a);this.lockrowbykey(b)},unlockRow:function(a){var b=this._getkey(a);this.unlockrowbykey(b)},lockrowbykey:function(a){this.rowinfo[a]?this.rowinfo[a].locked=!0:this.rowinfo[a]={locked:!0},this._renderrows()},unlockrowbykey:function(a){this.rowinfo[a]?this.rowinfo[a].locked=!1:this.rowinfo[a]={locked:!1},this._renderrows()},selectRow:function(a){var b=this._getkey(a);this.selectrowbykey(b)},unselectRow:function(a){var b=this._getkey(a);this.unselectrowbykey(b)},selectrowbykey:function(a,b,c){"keyboard"!=b&&"mouse"!=b&&(this._lastSelectedKey=a);var d=c!==!1;this._doSelection(a,!0,d);var e=this.rowsByKey[a],f=this.getrowindex(e),g=this.getrowdisplayindex(e);this._raiseEvent("rowSelect",{key:a,index:g,boundIndex:f,row:this.rowsByKey[a]})},unselectrowbykey:function(a,b){var c=b!==!1;this._doSelection(a,!1,c);var d=this.rowsByKey[a],e=this.getrowindex(d),f=this.getrowdisplayindex(d);this._raiseEvent("rowUnselect",{key:a,index:f,boundIndex:e,row:this.rowsByKey[a]})},getSelection:function(){var a=new Array;if(this.rowinfo)for(var b in this.rowinfo){var c=this.rowinfo[b];c.selected&&a.push(c.row)}return a},showdetailsbykey:function(b){if(this.rowDetails){var c=this.rowinfo[b];if(c){c.expanded=!0;var d=a(this._table.children()[1]).children("[data-key="+b+"]"),e=a(this._pinnedTable.children()[1]).children("[data-key="+b+"]");if(d){var f=e.children(),g=a(f[0]);if(this.rtl)var g=a(f[f.length-1]);this.rtl?(g.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),g.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),g.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),g.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(g.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),g.addClass(this.toThemeProperty("jqx-grid-group-expand")),g.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),g.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),d.next().show();var h=e.next();if(h.show(),a.jqx.browser.msie&&a.jqx.browser.version<8&&(d.next().children().show(),e.next().children().show()),!c.initialized){var i=c.detailsHeight,j=this.initRowDetails(b,c.row,a(a(h).children().children().children()[0]),c);c.details=a(h).children().children().children()[0],c.initialized=!0,j!==!1&&c.detailsHeight==i||(j===!1&&(c.expanded=!1,c.nodetails=!0,h.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var k=this.getrowindex(c.row),l=this.getrowdisplayindex(c.row);this._raiseEvent("rowExpand",{row:c.row,index:l,boundIndex:k,rowKey:b})}}}},hidedetailsbykey:function(b){if(this.rowDetails){var c=this.rowinfo[b];if(c){c.expanded=!1;var d=a(this._table.children()[1]).children("[data-key="+b+"]"),e=a(this._pinnedTable.children()[1]).children("[data-key="+b+"]");if(d){var f=e.children(),g=a(f[0]);if(this.rtl)var g=a(f[f.length-1]);this.rtl?(g.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),g.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),g.addClass(this.toThemeProperty("jqx-icon-arrow-left")),g.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(g.addClass(this.toThemeProperty("jqx-grid-group-collapse")),g.removeClass(this.toThemeProperty("jqx-grid-group-expand")),g.addClass(this.toThemeProperty("jqx-icon-arrow-right")),g.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),d.next().hide(),e.next().hide(),a.jqx.browser.msie&&a.jqx.browser.version<8&&(d.next().children().hide(),e.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var h=this.getrowindex(c.row),i=this.getrowdisplayindex(c.row);this._raiseEvent("rowCollapse",{row:c.row,index:i,boundIndex:h,rowKey:b})}}}},_getvirtualcolumnsindexes:function(a,b,c,d,e){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:c+d};var f=0,g=-1,h=c+d;if(this.autorowheight)return{start:0,end:c+d};if(!e)for(var i=0;i<c+d;i++){if(this.columns.records[i].hidden||(f+=this.columns.records[i].width),f>=a&&g==-1&&(g=i),f>b+a){h=i;break}}return h++,h>c+d&&(h=c+d),g==-1&&(g=0),{start:g,end:h}},_renderhorizontalscroll:function(){var a=this.hScrollInstance,b=a.value;"hidden"===this.hScrollBar.css("visibility")&&(a.value=0,b=0);var c=parseInt(b);if(null!=this.table){var d=this.columnsrow,e=0,f=this.columns.records.length-e,g=this.columns.records,h=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(c=a.max-c),h&&!this._haspinned)this.table[0].style.left=-c+"px",d[0].style.marginLeft=-c+"px";else{if(this._haspinned||void 0==this._haspinned){for(var i=0;i<e+f;i++){var j=g[i];if(j.pinned){
var k=null;if(this.showAggregates&&this.statusbar[0].cells&&(k=this.statusbar[0].cells[i]),this.filterrow&&this.filterrow[0].cells&&(filtercell=this.filterrow[0].cells[i]),this.rtl){var l=d[0].cells[i];l.style.marginLeft=-parseInt(b)+"px",k&&(k.style.marginLeft=-parseInt(b)+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=-parseInt(b)+"px")}else{var l=d[0].cells[i];l.style.marginLeft=c+"px",k&&(k.style.marginLeft=c+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=c+"px")}}}if(this.columnsVirtualization){for(var m=this._getvirtualcolumnsindexes(c,this.host.width(),0,this.columns.records.length,!1),n=m.start,o=m.end,p=0;p<n;p++){var q=p,r=this.columns.records[q].element[0];if(!this.columns.records[q].pinned&&(r.parentNode&&r.parentNode.removeChild(r),this.filterrow&&this.filterrow[0])){var s=this.filterrow[0].cells[q];s.parentNode&&s.parentNode.removeChild(s)}}for(var p=o;p<this.columns.records.length;p++){var q=p,r=this.columns.records[q].element[0];if(!this.columns.records[q].pinned&&(r.parentNode&&r.parentNode.removeChild(r),this.filterrow&&this.filterrow[0])){var s=this.filterrow[0].cells[q];s.parentNode&&s.parentNode.removeChild(s)}}for(var p=n;p<o;p++){var q=p;if(r=this.columns.records[q].element[0],!this.columns.records[q].pinned&&(r.parentNode||this.columnsrow[0].appendChild(r),this.filterrow&&this.filterrow[0])){var s=this.filterrow[0].cells[q];s.parentNode||this.filterrow[0].appendChild(s)}}}this._table[0].style.left=-c+"px",d[0].style.marginLeft=-c+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){for(var m=this._getvirtualcolumnsindexes(c,this.host.width(),0,this.columns.records.length,!1),n=m.start,o=m.end,p=0;p<n;p++){var q=p,r=this.columns.records[q].element[0];if(r.parentNode&&r.parentNode.removeChild(r),this.filterrow&&this.filterrow[0]){var s=this.filterrow[0].cells[q];s.parentNode&&s.parentNode.removeChild(s)}}for(var p=o;p<this.columns.records.length;p++){var q=p,r=this.columns.records[q].element[0];if(r.parentNode&&r.parentNode.removeChild(r),this.filterrow&&this.filterrow[0]){var s=this.filterrow[0].cells[q];s.parentNode&&s.parentNode.removeChild(s)}}for(var p=n;p<o;p++){var q=p;if(r=this.columns.records[q].element[0],r.parentNode||this.columnsrow[0].appendChild(r),this.filterrow&&this.filterrow[0]){var s=this.filterrow[0].cells[q];s.parentNode||this.filterrow[0].appendChild(s)}}}this.table[0].style.left=-c+"px",d[0].style.marginLeft=-c+"px"}this.filterrow&&(this.filterrow[0].style.left=-c+"px",this.rtl&&(this.filterrow[0].style.left=-c+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var t=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(t="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-c+t+"px"}}},_initializeColumns:function(){var c=this.source.datafields;null==c&&this.source._source&&(c=this.source._source.datafields);var d=!!c&&c.length>0;if(d&&this.treeGrid&&this.treeGrid._checkColumnType&&this.treeGrid._checkColumnType(this.columns,c),this.columns&&this.columns.records)for(var e=0;e<this.columns.records.length;e++)this._removecolumnhandlers(this.columns.records[e]);var f=this,g=new a.jqx.dataCollection(this.element),h=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode){var i=new b(f,this);i.visibleindex=h++,i.width=f.indentWidth,i.checkboxcolumn=!0,i.editable=!1,i.columntype="checkbox",i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.datafield="_checkboxcolumn",g.add(i)}if(this.rowDetails&&!this.treeGrid){var i=new b(f,this);i.visibleindex=h++,i.width=f.indentWidth,i.editable=!1,i.rowDetailscolumn=!0,i.groupable=!1,i.draggable=!1,i.pinned=!0,i.filterable=!1,i.resizable=!1,i.text="",g.add(i)}var j=new Array;a.each(this.columns,function(a){if(void 0!=f.columns[a]){var c=new b(f,this);if(c.visibleindex=h++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(f._haspinned=!0),null==this.datafield)f.source&&f.source._source&&"array"==f.source._source.datatype&&(d||(f.source._source.datafields?f.source._source.datafields.push({name:a.toString()}):(f.source._source.datafields=new Array,f.source._source.datafields.push({name:a.toString()}))),this.datafield=a.toString(),this.displayfield=a.toString(),c.datafield=this.datafield,c.displayfield=this.displayfield);else{if(j[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");j[this.datafield]=!0}g.add(c)}}),this.rtl&&g.records.reverse(),this.columns=g},addFilter:function(a,b){var c=this.getColumn(a);c&&this.dataview.addFilter(a,b)},removeFilter:function(a){var b=this.getColumn(a);b&&this.dataview.removeFilter(a)},clearFilters:function(a,b){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,b!==!1&&this.resetfilter(),a!==!1&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var b=0;b<this.filterrow[0].cells.length;b++){var c=this.filterrow[0].cells[b],d=a(c).find("input:first"),e=a(c).find(".filterconditions"),f=this.columns.records[b];if(f.filterable){d.val("");var g=this.getcolumntypebydatafield(f),h=new a.jqx.filter;switch(g){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=h.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=h.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=h.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=h.getoperatorsbyfiltertype("stringfilter")}e.length>0&&("stringfilter"===filtertype?e.jqxDropDownList({selectedIndex:2}):e.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var a=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(a)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(a,b){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(null==a&&(b=null,a=this.sortcolumn),a){var c=this;"a"==b||"asc"==b||"ascending"==b||1==b?ascending=!0:ascending=!1,null!=b?c.sortdirection={ascending:ascending,descending:!ascending}:c.sortdirection={ascending:!1,descending:!1},null!=b?c.sortcolumn=a:c.sortcolumn=null,c.source.sort&&(c.dataview.sortfield=a,null==b?c.dataview.sortfielddirection="":c.dataview.sortfielddirection=ascending?"asc":"desc",c.source.sort&&!this._loading&&c.source.sort(a,b)),c.dataview.sortBy(a,b),c._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(a){var b=this;if(!this.disabled&&a.sortable&&b.sortable){var c={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},d=null;null!=c.sortcolumn&&c.sortcolumn==a.displayfield?(d=c.sortdirection.ascending,d=1!=d&&null):d=!0,b.sortBy(a.displayfield,d)}},_renderfilter:function(){var b=this,c=a("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");c.height(22);var d=c.find("input"),e=c.find("div:first");if(c.addClass(this.toThemeProperty("jqx-rc-all")),c.addClass(this.toThemeProperty("jqx-widget")),c.addClass(this.toThemeProperty("jqx-input-group")),d.addClass(this.toThemeProperty("jqx-input")),d.addClass(this.toThemeProperty("jqx-rc-l")),d.addClass(this.toThemeProperty("jqx-input-group-addon")),d.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-widget-content")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-rc-r")),e.addClass(this.toThemeProperty("jqx-input-group-addon")),e.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(d.addClass(this.toThemeProperty("jqx-rtl")),d.css("direction","rtl")),b.filterrow)for(var f=0;f<b.filterrow[0].cells.length;f++){var g=b.filterrow[0].cells[f],h=a(g).find(".filterconditions");b.columns.records[f];h.length>0&&h.jqxDropDownList("destroy")}var i=b.filter.find(".filterrow").find("input");i.length>0&&i.jqxButton("destroy"),b.filtercolumnsList&&b.filtercolumnsList.jqxDropDownList("destroy"),this.filter.children().remove(),this.filterbutton=e;for(var j=new Array,f=0;f<b.columns.records.length;f++)b.columns.records[f].datafield&&b.columns.records[f].filterable&&j.push({label:b.columns.records[f].text,value:b.columns.records[f].displayfield});var k=j.length<10,l=a("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(l);var m=a("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(m),m.jqxDropDownList&&m.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:k,rtl:b.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:j,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=m;var n=function(a){b.filterinput.val("");for(var c=0;c<b.dataview.filters.length;c++){var d=b.dataview.filters[c];d.datafield===a&&b.filterinput.val(d.filter.getfilterat(0).filtervalue)}};30!==b.filterHeight&&(b.filtercolumnsList.css("margin-top",b.filterHeight/2-10),c.css("margin-top",b.filterHeight/2-10)),b._updateSimpleFilter=n,this.addHandler(m,"select",function(a){var b=a.args.item.value;n(b)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),l.show(),l.css("margin-top",-this.filter.height()/2),c.css("float","left")):(this.filtercolumnsList.show(),l.hide());var o=function(){if(!e.hasClass("jqx-fill-state-disabled")){var c=d.val();if(m.jqxDropDownList)var f=m.jqxDropDownList("getSelectedItem");var g=function(c,d,e){var f=new a.jqx.filter,g=b.getcolumntypebydatafield(c),h=b._getfiltertype(g);if("datefilter"==h)var i=f.createfilter(h,d,"EQUAL",null,c.cellsFormat,b.gridlocalization);else if("numericfilter"==h||"booleanfilter"==h){"numericfilter"==h&&(","==b.gridlocalization.decimalseparator&&d.indexOf(b.gridlocalization.decimalseparator)>=0&&(d=d.replace(b.gridlocalization.decimalseparator,".")),d.indexOf(b.gridlocalization.currencysymbol)>=0&&(d=d.replace(b.gridlocalization.currencysymbol,"")),d.indexOf(b.gridlocalization.percentagesymbol)>=0&&(d=d.replace(b.gridlocalization.percentagesymbol,"")));var i=f.createfilter(h,d,"EQUAL",null,c.cellsFormat,b.gridlocalization)}else var i=f.createfilter(h,d,"CONTAINS");return f.operator=e,f.addfilter(0,i),f};if("simple"!==b.filterMode){if(f){var h=f.value,i=b.getColumn(h),j=g(i,c,"and");c.length>0?(b.removeFilter(h),b.addFilter(h,j),b.applyFilters()):(b.removeFilter(h),b.applyFilters()),"advanced"===b.filterMode&&b._updateFilterRow&&b._updateFilterRow(!0)}}else{if(b.clearFilters(!1,!1),c.length>0)for(var k=0;k<b.columns.records.length;k++){var i=b.columns.records[k],j=g(i,c,"or");b.addFilter(i.datafield,j)}b.applyFilters()}0==b.dataview.filters.length?b.filtericon.fadeOut(200):b.filtericon.fadeIn(200)}};if(d.keydown(function(a){if(13===a.keyCode)return o(),a.preventDefault&&a.preventDefault(),!1}),e.click(function(){o()}),this.filterinput=d,this.filter.append(c),"advanced"==this.filterMode){var p=a("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");c.append(p),this.addHandler(p,"click",function(c){var d=function(c){if(b.filterrow)for(var d=0;d<b.filterrow[0].cells.length;d++){var e=b.filterrow[0].cells[d],f=a(e).find("input:first"),g=b.columns.records[d];if(g.filterable){c===!0&&f.val("");for(var h=0;h<b.dataview.filters.length;h++){var i=b.dataview.filters[h];if(i.datafield===g.displayfield){f.val(i.filter.getfilterat(0).filtervalue);break}}}}},e=function(c){if(b.filterrow)for(var d=0,e=0;e<b.filterrow[0].cells.length;e++){var f=b.filterrow[0].cells[e],g=a(f).find("input:first"),h=b.columns.records[e];h.hidden?f.style.visibility="hidden":f.style.visibility="inherit",h.filterable&&(f.style.left=parseInt(d)+parseInt(h.uielement[0].style.left)+"px",f.style.width=6+h.width+"px",g[0]&&(g[0].style.width=h.width-6-22+"px"))}};b._updateFilterRow=d,b._arrangeFilterRow=e;var f=function(){b.filtercolumnsList.jqxDropDownList({disabled:!0}),b.filterinput.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.filterinput.attr("disabled",!0),b.filterbutton.addClass(b.toThemeProperty("jqx-fill-state-disabled"))};return 0===b.filter.find(".filterrow").length?(b._renderadvancedfilter(),f(),d(),b._arrange(),e()):("none"===b.filter.find(".filterrow").css("display")?(f(),b.filter.find(".filterrow").removeClass("filterrow-hidden"),d(),b.filter.find(".filterrow").show(),e()):(b.filtercolumnsList.jqxDropDownList({disabled:!1}),b.filterinput.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.filterinput.attr("disabled",!1),b.filterbutton.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),n(b.filtercolumnsList.jqxDropDownList("getSelectedItem").value),b.filter.find(".filterrow").addClass("filterrow-hidden"),b.filter.find(".filterrow").hide()),b._arrange()),!1})}var q=a("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");q.attr("title",b.gridlocalization.filterclearstring),q.addClass(b.toThemeProperty("jqx-icon-close")),c.append(q),q.hide(),b.filtericon=q,q.click(function(){b.clearFilters(),b.filtericon.fadeOut(200)}),b.dataview.filters.length>0&&("advanced"!=b.filterMode?n(b.dataview.filters[0].datafield):b._updateFilterRow&&b._updateFilterRow())},_renderadvancedfilter:function(){var b=this,c=function(){b.clearFilters(!1,!1);for(var c=b.filtercolumnsList.jqxDropDownList("getSelectedItem").value,d=(b.filterinput.val(),0);d<b.filterrow[0].cells.length;d++){var e=b.filterrow[0].cells[d],f=a(e).find("input:first"),g=a(e).find(".filterconditions"),h=b.columns.records[d],i="";if(h.filterable){h.displayfield===c&&b.filterinput.val(f.val());var j=b.getcolumntypebydatafield(h),k=new a.jqx.filter;switch(j){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=k.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=k.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=k.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=k.getoperatorsbyfiltertype("stringfilter")}if(0==g.length)i="stringfilter"===filtertype?conditions[2]:conditions[0];else{var l=g.jqxDropDownList("getSelectedItem");i=l?conditions[l.index]:"stringfilter"===filtertype?conditions[2]:conditions[0]}var m=f.val();if(m.length>0||0==m.length&&"NOT_NULL"==i||0==m.length&&"NOT_EMPTY"==i||0==m.length&&"EMPTY"==i||0==m.length&&"NULL"==i){var n=h.displayfield,o=new a.jqx.filter;"numericfilter"==filtertype&&(","==b.gridlocalization.decimalseparator&&m.indexOf(b.gridlocalization.decimalseparator)>=0&&(m=m.replace(b.gridlocalization.decimalseparator,".")),m.indexOf(b.gridlocalization.currencysymbol)>=0&&(m=m.replace(b.gridlocalization.currencysymbol,"")),m.indexOf(b.gridlocalization.percentagesymbol)>=0&&(m=m.replace(b.gridlocalization.percentagesymbol,"")));var k=o.createfilter(filtertype,m,i,null,h.cellsFormat,b.gridlocalization);o.addfilter(0,k),b.addFilter(n,o)}}}b.dataview.filters.length>0?b.applyFilters():b.clearFilters(),0==b.dataview.filters.length?b.filtericon.fadeOut(200):b.filtericon.fadeIn(200)},d=function(){var d=a("<div style='position: relative;' class='filterrow'></div>").appendTo(b.filter);b.filterrow=d,d[0].cells=new Array,d.height(24),d.width(b.table.width());var e=0,f=b.filtercolumnsList.jqxDropDownList("getSelectedItem").value,g=b.filterinput.val();a.each(b.columns.records,function(){var h=this,i=a("<div></div>").appendTo(d);if(i.css("position","absolute"),i.css("left",e+parseInt(h.uielement[0].style.left)),h.pinned&&(i.css("z-index",b.tableZIndex+b.columns.records.length),i.addClass(b.toThemeProperty("jqx-widget-header"))),d[0].cells.push(i[0]),!this.filterable)return!0;var j=a("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(i);j.keydown(function(a){13===a.keyCode&&c()}),h.displayfield===f&&j.val(g),j.addClass(b.toThemeProperty("jqx-input")),j.addClass(b.toThemeProperty("jqx-rc-all")),j.addClass(b.toThemeProperty("jqx-widget")),j.addClass(b.toThemeProperty("jqx-widget-content"));var k=a("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(i);k.append(a("<div style='width: 16px; height: 16px;' class='"+b.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),j.focus(function(){b.ensureColumnVisible(h.displayfield),b.filter[0].scrollLeft=0,b.ensureColumnVisible(h.displayfield),setTimeout(function(){b.filter[0].scrollLeft=0,b.ensureColumnVisible(h.displayfield)},10)}),k.click(function(){var c=a("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");c.insertAfter(k),k.remove();var d=b.getcolumntypebydatafield(h),e=b._getfiltersbytype(d);"string"===d?index=2:index=0,c.jqxDropDownList({theme:b.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:b.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:e,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+b.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),b.addHandler(c,"close",function(a){j.focus(),setTimeout(function(){j.focus()},10)}),c.removeAttr("tabindex"),c.find("div").removeAttr("tabindex"),c.jqxDropDownList("open")}),j[0].style.width=h.width-6-22+"px"}),a("<div style='clear: both;'></div>").appendTo(d)};d();var e=a("<div style='position:relative;' class='filterrow'></div>").appendTo(b.filter),f=a("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+b.gridlocalization.filterapplystring+"'/>").appendTo(e),g=a("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+b.gridlocalization.filtercancelstring+"'/>").appendTo(e),h=0;f.css("left",h),g.css("left",h),f.jqxButton({theme:b.theme}),g.jqxButton({theme:b.theme}),g.click(function(){b.filtercolumnsList.jqxDropDownList({disabled:!1}),b.filterinput.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.filterinput.attr("disabled",!1),b.filterbutton.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.filter.find(".filterrow").addClass("filterrow-hidden"),b.filter.find(".filterrow").hide(),b._arrange()}),f.click(function(){c()}),b._renderhorizontalscroll()},_getfiltertype:function(a){var b="stringfilter";switch(a){case"number":case"int":case"float":case"decimal":b="numericfilter";break;case"boolean":case"bool":b="booleanfilter";break;case"date":case"time":b="datefilter";break;case"string":b="stringfilter"}return b},getcolumntypebydatafield:function(b){var c=this,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){if(this.name==b.displayfield)return this.type&&(f=this.type),!1}),f)return f}return d},_getfiltersbytype:function(a){var b=this,c="";switch(a){case"number":case"float":case"int":c=b.gridlocalization.filternumericcomparisonoperators;break;case"date":c=b.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":c=b.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:c=b.gridlocalization.filterstringcomparisonoperators}return c},_getcellvalue:function(a,b){var c=null;return c=b[a.datafield],null!=a.displayfield&&(c=b[a.displayfield]),null==c&&(c=""),c},_renderrows:function(b){if(this.editable&&null!=this.editKey&&b!==!1){this.endroweditbykey(this.editKey)}if(this.treeGrid)return void this.treeGrid._renderrows();if(!this._loading&&!this._updating){this.rendering&&this.rendering();var c=this,d=0;this.table[0].rows=new Array;var e=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(e+=" "+this.toTP("jqx-cell-rtl"));var f=this.columns.records.length,g=a.jqx.browser.msie&&a.jqx.browser.version<8;g&&this.host.attr("hideFocus","true");var h=c.groups.length,i=new Array,j=this.source.records;if(j=this.dataview.evaluate(j),this.dataViewRecords=j,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var k=j;if(this.pageable&&this.serverProcessing&&j.length>this.dataview.pagesize)var k=j.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else var k=j.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(c.groups&&c.groups.length>0){var l=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0,m=function(a){for(var b=0,d=new Array,e=0;e<a.length;e++){var f=a[e];if(0==f.level&&b++,b>c.dataview.pagesize*c.dataview.pagenum&&b<=c.dataview.pagesize*c.dataview.pagenum+c.dataview.pagesize&&d.push(f),b>c.dataview.pagesize*c.dataview.pagenum+c.dataview.pagesize)break}return d};if("root"===this.pageSizeMode){var n=c.source.getGroupedRecords(c.groups,"records","label",null,"data",null,"parent",j,0);c.rootRecordsLength=n.length,n=m(n)}else var n=c.source.getGroupedRecords(c.groups,"records","label",null,"data",null,"parent",k,l);var o=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(b.push(d),d.records&&d.records.length>0)for(var e=o(d.records,new Array),f=0;f<e.length;f++)e[f].leaf?b.push(e[f]):b.push(e[f])}return b},i=o.call(c,n,new Array);k=i,this.rowsByKey=new Array;for(var p=0;p<k.length;p++){var q=k[p];this.rowsByKey[q.uid]=q}}var i=k;this.renderedRecords=i;var r=i.length,s=this.tableZIndex,t=0,u=0;if(g)for(var v=0;v<f;v++){var w=this.columns.records[v],x=w.width;x<w.minwidth&&(x=w.minwidth),x>w.maxwidth&&(x=w.maxwidth);var y=a('<table><tr><td role="gridcell" style="max-width: '+x+"px; width:"+x+'px;" class="'+e+'"></td></tr></table>');a(document.body).append(y);var z=y.find("td");t=1+parseInt(z.css("padding-left"))+parseInt(z.css("padding-right")),y.remove();break}for(var A=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",B="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+A+"' id='table"+this.element.id+"'><colgroup>",C="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+A+"' id='pinnedtable"+this.element.id+"'><colgroup>",D=0,E=f,v=0;v<f;v++){var w=this.columns.records[v];if(w.hidden)D++,E--;else{var x=w.width;if(x<w.minwidth&&(x=w.minwidth),x>w.maxwidth&&(x=w.maxwidth),x-=t,x<0&&(x=0),g){var F=x;if(v==D&&F++,w.rowDetailscolumn){var F=F+4;C+="<col style='max-width: "+F+"px; width: "+F+"px;'>",B+="<col style='max-width: "+F+"px; width: "+F+"px;'>"}else C+="<col style='max-width: "+F+"px; width: "+F+"px;'>",B+="<col style='max-width: "+F+"px; width: "+F+"px;'>"}else C+="<col style='max-width: "+x+"px; width: "+x+"px;'>",B+="<col style='max-width: "+x+"px; width: "+x+"px;'>";u+=x}}B+="</colgroup>",C+="</colgroup>",this._hiddencolumns=!1;var G=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===r){var H='<tr role="row">',I=this.host.height();if(this.pageable&&(I-=this.pagerHeight,"both"===this.pagerPosition&&(I-=this.pagerHeight)),I-=this.columnsHeight,this.filterable){var J=this.filter.find(".filterrow"),K=this.filter.find(".filterrow-hidden"),L=1;K.length>0&&(L=0),I-=this.filterHeight+this.filterHeight*J.length*L}this.showstatusbar&&(I-=this.statusBarHeight),this.showAggregates&&(I-=this.aggregatesHeight),I<25&&(I=25),"hidden"!=this.hScrollBar[0].style.visibility&&(I-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(I=300);var y='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+I+"px; height: "+I+"px; max-width:"+u+"px; width:"+u+"px;",e=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");e+=" "+this.toTP("jqx-center-align"),y+='" class="'+e+'">',y+=this.gridlocalization.emptydatastring,y+="</td>",H+=y,B+=H,C+=H,this.table[0].style.width=u+2+"px",d=u}for(var M=this.getRows(),N=new Array,p=0;p<i.length;p++){var q=i[p],O=q.uid;void 0===q.uid&&(q.uid=this.dataview.generatekey());var H='<tr data-key="'+O+'" role="row" id="row'+p+this.element.id+'">',P='<tr data-key="'+O+'" role="row" id="row'+p+this.element.id+'">';if(h>0&&q.level<h)var H='<tr data-role="row-group" data-key="'+O+'" role="row" id="row'+p+this.element.id+'">',P='<tr data-role="row-group" data-key="'+O+'" role="row" id="row'+p+this.element.id+'">';for(var Q=0,R=0,v=0;v<f;v++){var S=this.columns.records[v];(S.pinned||this.rtl&&this.columns.records[f-1].pinned)&&(G=!0);var x=S.width;x<S.minwidth&&(x=S.minwidth),x>S.maxwidth&&(x=S.maxwidth),x-=t,x<0&&(x=0);var e=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");S.pinned&&(e+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===S.displayfield&&(e+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&p%2!=0&&(e+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(e+=" "+this.toTP("jqx-cell-rtl"));var T="";if(h>0&&q.level<h)if(g)e+=" "+this.toTP("jqx-grid-cell-pinned");else{e+=" "+this.toTP("jqx-grid-cell-pinned"),T+=' colspan="'+f+'"';for(var F=0,U=0;U<f;U++){var V=c.columns.records[U],W=V.width;W<V.minwidth&&(x=V.minwidth),W>V.maxwidth&&(x=V.maxwidth),W-=t,W<0&&(W=0),V.hidden||(F+=W)}x=F}var y='<td role="gridcell" '+T+' style="max-width:'+x+"px; width:"+x+"px;",X='<td role="gridcell" '+T+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+x+"px; width:"+x+"px;";v==f-1&&1==f&&(y+="border-right-color: transparent;",X+="border-right-color: transparent;");var Y=!1;h>0&&q.level<h&&(Y=!0),Y?this.rtl&&(e+=" "+this.toTP("jqx-right-align")):"left"!=S.cellsalign&&(e+="right"===S.cellsalign?" "+this.toTP("jqx-right-align"):" "+this.toTP("jqx-center-align")),this.rowinfo[q.uid]&&(this.rowinfo[q.uid].selected&&!S.rowDetailscolumn&&this.editKey!==q.uid&&"none"!==this.selectionMode&&(e+=" "+this.toTP("jqx-grid-cell-selected"),e+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[q.uid].locked&&(e+=" "+this.toTP("jqx-grid-cell-locked"))),S.hidden?Y||(y+="display: none;",X+="display: none;",this._hiddencolumns=!0):(Q+=t+x,0==R&&(y+="border-left-width: 0px;",X+="border-left-width: 0px;"),R++),h>0&&g&&Y&&v>=h&&(y+="font-size: 1px; border-color: transparent;  color: transparent;",X+="font-size: 1px; border-color: transparent; color: transparent;"),S.pinned&&(y+="pointer-events: auto;",X+="pointer-events: auto;"),!Y&&S.rowDetailscolumn&&(this.rowinfo[q.uid]?this.rowinfo[q.uid].nodetails||(this.rowinfo[q.uid].expanded?(e+=this.rtl?" "+this.toTP("jqx-grid-group-expand-rtl"):" "+this.toTP("jqx-grid-group-expand"),e+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(e+=" "+this.toTP("jqx-grid-group-collapse-rtl"),e+=" "+this.toTP("jqx-icon-arrow-left")):(e+=" "+this.toTP("jqx-grid-group-collapse"),e+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(e+=" "+this.toTP("jqx-grid-group-collapse-rtl"),e+=" "+this.toTP("jqx-icon-arrow-left")):(e+=" "+this.toTP("jqx-grid-group-collapse"),e+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!S.autoCellHeight)&&(e+=" "+this.toTP("jqx-grid-cell-nowrap "));var Z=c._getcellvalue(S,q),$=S.cellsFormat;if(h>0&&q.level<h&&(Z=q.label,$=c.getColumn(c.groups[q.level]).cellsFormat),""!=$&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(Z)?Z=a.jqx.dataFormat.formatdate(Z,$,c.gridlocalization):(a.jqx.dataFormat.isNumber(Z)||!isNaN(parseFloat(Z))&&isFinite(Z))&&(Z=a.jqx.dataFormat.formatnumber(Z,$,c.gridlocalization))),Y)this.groupsRenderer&&(Z=this.groupsRenderer(Z,q,q.level));else{if(""!=S.cellclassname&&S.cellclassname)if("string"==typeof S.cellclassname)e+=" "+S.cellclassname;else{var _=S.cellclassname(p,S.datafield,Z,q);_&&(e+=" "+_)}if(""!=S.cellsRenderer&&S.cellsRenderer){var aa=M.indexOf(q);if(aa===-1&&q.originalRecord)var aa=M.indexOf(q.originalRecord);Z=S.cellsRenderer(aa,S.datafield,Z,q),Z&&(Z.indexOf("<jqx-")>=0||Z.indexOf(" ng-")>=0)&&N.push({rowKey:q.uid,row:aa,column:S.datafield,value:Z,columnIndex:v})}}if(y+='" class="'+e+'">',y+=Z,y+="</td>",X+='" class="'+e+'">',X+=Z,X+="</td>",S.pinned?(P+=y,H+=y):(H+=y,G&&(P+=X)),h>0&&!g&&q.level<h)break}if(0==d&&(this.table[0].style.width=Q+2+"px",d=Q),H+="</tr>",P+="</tr>",B+=H,C+=P,this.rowinfo[q.uid]?("group"in this.rowinfo[q.uid]||(this.rowinfo[q.uid].group=Y),"row"in this.rowinfo[q.uid]||(this.rowinfo[q.uid].row=q),"details"in this.rowinfo[q.uid]||(this.rowinfo[q.uid].details=null),"detailsHeight"in this.rowinfo[q.uid]||(this.rowinfo[q.uid].detailsHeight=200),"initialized"in this.rowinfo[q.uid]||(this.rowinfo[q.uid].initialized=!1),"expanded"in this.rowinfo[q.uid]||(this.rowinfo[q.uid].expanded=!1)):this.rowinfo[q.uid]={group:Y,row:q,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[q.uid].row=q),this.rowDetails){var ba=this.rowinfo[q.uid].detailsHeight;if(this.rowinfo[q.uid])if(this.rowinfo[q.uid].expanded)var ca='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+ba+"px; max-height: "+ba+"px; height: "+ba+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var ca='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+ba+"px; max-height: "+ba+"px; height: "+ba+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var ca='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+ba+"px; max-height: "+ba+"px; height: "+ba+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';var e=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");e+=" "+this.toTP("jqx-details"),e+=" "+this.toTP("jqx-reset"),ca+='" class="'+e+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+ba+"px; max-height: "+ba+"px; height: "+ba+'px;"><div data-role="details"></div></div></td></tr>',B+=ca,C+=ca}}if(B+="</table>",C+="</table>",G){c.WinJS?MSApp.execUnsafeLocalFunction(function(){c.table.html(C+B)}):c.table[0].innerHTML=C+B;var da=this.table.find("#table"+this.element.id),ea=this.table.find("#pinnedtable"+this.element.id);if(ea.css("float","left"),ea.css("pointer-events","none"),da.css("float","left"),ea[0].style.position="absolute",da[0].style.position="relative",da[0].style.zIndex=s-10,ea[0].style.zIndex=s+10,this._table=da,this._table[0].style.left="0px",this._pinnedTable=ea,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=d+"px",this._table[0].style.width=d+"px",this.rtl&&d>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-d+parseInt(this.element.style.width)+"px"),
this.rowDetails)for(var p=0;p<r;p++){var q=i[p],O=q.uid;if(this.rowinfo[O].details){var fa=a(this._table.children()[1]).children("[data-key="+O+"]"),ga=a(this._pinnedTable.children()[1]).children("[data-key="+O+"]");if(fa){var ha=ga.next(),ia=a(a(ha).children().children());ia.children().detach(),ia.append(this.rowinfo[q.uid].details)}}}}else{c.WinJS?MSApp.execUnsafeLocalFunction(function(){c.table.html(B)}):c.table[0].innerHTML=B;var U=this.table.find("#table"+this.element.id);this._table=U,a.jqx.browser.msie&&a.jqx.browser.version<10&&(this._table[0].style.width=d+"px"),0===r&&(this._table[0].style.width=2+d+"px")}if(0===r&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),N&&N.length>0){this._table[0].rows;a.each(N,function(){var b=(this.row,this.rowKey),d=(this.column,this.columnIndex),e=c._getuirow(b);if(e){var f=e[0].cells[d];a.jqx.angularCompile&&a.jqx.angularCompile(f,"<div>"+f.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(a){var b=this.getColumn(a),c=this.columns.records.indexOf(b);return c},setcolumnindex:function(b,c,d){var e=this.getColumn(b);if(!(e.pinned||e.hidden||e.checkboxcolumn||e.grouped)){var f=this.columns.records.indexOf(e);this.columns.records.splice(f,1),this.columns.records.splice(c,0,e);var g=0,h=this.headerZIndex;this.columnsrow.children().detach();var i=this.toThemeProperty("jqx-grid-cell");i+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),i+=" "+this.toThemeProperty("jqx-item");var j=this;if(void 0!=j.filterrow){a(j.filterrow.children()[0])}this.columnsrow[0].cells=[];var k=!1;if(a.each(this.columns.records,function(a,b){var c=this.uielement;j.columnsrow.append(c),j.rtl?c.css("z-index",h++):c.css("z-index",h--);var d=j.rtl?250+h+1:250+h-1;this.pinned&&c.css("z-index",d);var e=this.width;c.css("left",g),j.columnsrow[0].cells[j.columnsrow[0].cells.length]=c[0],this.hidden&&(k=!0),this.hidden&&this.hideable||(g+=e)}),this.groupable){var l=this.groups.length;l>0&&f-l>=0&&(f-=l,c-=l)}this.rowDetails&&f-1>=0&&(f--,c--),"checkbox"==this.selectionMode&&f-1>=0&&(f--,c--);var e=this._columns[f];this._columns.splice(f,1),this._columns.splice(c,0,e),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:e.datafield,oldIndex:f,newIndex:c})}},_pinnedColumnsLength:function(){var b=0;return a.each(this.columns.records,function(){this.pinned&&b++,this.grouped&&b++}),this.rowDetails&&b++,"checkbox"==this.selectionMode&&b++,b},_handlecolumnsReorder:function(){var b=this,c=-1,d=!1;if(b.columnsReorder){var e="mousemove.reorder"+this.element.id,f="mousedown.reorder"+this.element.id,g="mouseup.reorder"+this.element.id,h=!1;this.isTouchDevice()&&this.touchmode!==!0&&(h=!0,e=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,g=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(e){if(b.resizing)return!0;if(null!=b.reordercolumn){var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];void 0!=j&&(f=parseInt(j.pageX),g=parseInt(j.pageY))}var k=b.host.coord(),l=parseInt(k.left),m=parseInt(k.top);void 0!=b.dragmousedownoffset&&null!=b.dragmousedownoffset||(b.dragmousedownoffset={left:0,top:0});var n=parseInt(f)-parseInt(b.dragmousedownoffset.left),o=parseInt(g)-parseInt(b.dragmousedownoffset.top);if(b.reordercolumn.css({left:n+"px",top:o+"px"}),d=!1,f>=l&&f<=l+b.host.width()&&g>=m&&g<=m+b.host.height()&&(d=!0),c=-1,d){b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-dragcancel-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-drag-icon"));var p=b.columnsheader.coord(),q=p.top+b.columnsheader.height();if(null!=b.columnsdropline)if(g>=p.top&&g<=q){if(c=b._handlereordercolumnsdroplines(f),b.columnGroups&&c!=-1){var r=0;r+=b._pinnedColumnsLength();var s=c.index;if(s>=r){var t=b.columns.records[s];if(void 0!=t){var u=b.columns.records.indexOf(b.getColumn(t.datafield));if(null==t.datafield)var u=b.columns.records.indexOf(b.getcolumnbytext(t.text));var v=a.data(b.reordercolumn[0],"reorderrecord"),w=b.columns.records.indexOf(b.getColumn(v)),x=t;if(w<u&&"before"==c.position&&(x=b.columns.records[u-1]),x.columngroup!=b.getColumn(v).columngroup)return void b.columnsdropline.hide()}}}}else b.columnsdropline.fadeOut("slow")}else null!=b.columnsdropline&&b.columnsdropline.fadeOut("slow"),b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-drag-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-dragcancel-icon"));if(e.preventDefault&&(e.preventDefault(),e.stopPropagation()),h)return e.preventDefault(),e.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(a(document),f),this.addHandler(a(document),f,function(c){if(b.resizing)return!0;b.columnsbounds=new Array;var d=b.host.coord().left,e=b.host.coord().top;b.showtoolbar&&(e+=b.toolbarHeight),b.filter&&(e+=b.filter.height());var f=0;a.each(b.columns.records,function(c){var g=this;if(g.hidden)return b.columnsbounds[b.columnsbounds.length]={top:e,column:g,left:d,width:0,height:2},!0;0==f&&(d=b.rtl?parseInt(b.host.coord().left)-b.hScrollInstance.max+b.hScrollInstance.value:parseInt(b.host.coord().left)-b.hScrollInstance.value),f++;var h=2+b.columnsHeight;b.columnshierarchy&&(e=a(g.uielement).coord().top,h=a(g.uielement).height()),b.columnsbounds[b.columnsbounds.length]={top:e,column:g,left:d,width:g.width,height:h},d+=g.width})}),this.removeHandler(a(document),g),this.addHandler(a(document),g,function(e){if(b.resizing)return!0;b.__drag=!1,a(document.body).removeClass("jqx-disableselect");var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];f=parseInt(j.pageX),g=parseInt(j.pageY)}var k=b.host.coord(),l=(parseInt(k.left),parseInt(k.top));if(b.showtoolbar&&(l+=b.toolbarHeight),b.columndragstarted=!1,b.dragmousedown=null,null!=b.reordercolumn){var m=a.data(b.reordercolumn[0],"reorderrecord"),n=b.columns.records.indexOf(b.getColumn(m));b.reordercolumn.remove(),b.reordercolumn=null;var o=0;if(o+=b._pinnedColumnsLength(),null!=m){if(d&&c!=-1){var p=c.index;if(p>=o){var q=b.columns.records[p];if(void 0!=q){var r=b.columns.records.indexOf(b.getColumn(q.datafield));if(null==q.datafield)var r=b.columns.records.indexOf(b.getcolumnbytext(q.text));if(b.columnGroups){var s=q;if(n<r&&"before"==c.position&&(s=b.columns.records[r-1]),s.columngroup!=b.getColumn(m).columngroup)return void(null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null))}n<r?"before"==c.position?b.setcolumnindex(m,r-1):b.setcolumnindex(m,r):n>r&&b.setcolumnindex(m,r)}}}null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null)}}})}},getcolumnbytext:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){if(this.text==b)return c=this,!1}),c},_handlereordercolumnsdroplines:function(b){var c=this,d=-1,e=c._pinnedColumnsLength(),f=parseInt(c.host.coord().left),g=f+c.host.width(),h="hidden"!=c.vScrollBar.css("visibility")?19:0;return c.rtl||(h=0),a.each(c.columnsbounds,function(a){if(a>=e){if(0==this.width)return!0;if(b<=this.left+this.width/2)return b>g?(c.columnsdropline.fadeOut(),!1):(c.columnsdropline.css("left",h+parseInt(this.left)+"px"),c.columnsdropline.css("top",parseInt(this.top)+"px"),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"before"},!1);if(b>=this.left+this.width/2){if(this.left+this.width>g)return c.columnsdropline.fadeOut(),!1;c.columnsdropline.css("left",h+1+this.left+this.width),c.columnsdropline.css("top",this.top),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"after"}}}}),d},_createreordercolumn:function(b,c,d){var e=this,f=c;e.reordercolumn&&e.reordercolumn.remove(),e.columnsdropline&&e.columnsdropline.remove(),e.reordercolumn=a("<div></div>");var g=b.clone();e.reordercolumn.css("z-index",999999),g.css("border-width","1px"),g.css("opacity","0.4");var h=a(g.find("."+e.toThemeProperty("jqx-grid-column-menubutton")));h.length>0&&h.css("display","none");var i=a(g.find(".jqx-icon-close"));i.length>0&&i.css("display","none"),e.reordercolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),e.reordercolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon")),e.reordercolumn.css("float","left"),e.reordercolumn.css("position","absolute");e.host.coord();g.width(b.width()+16),e.reordercolumn.append(g),e.reordercolumn.height(b.height()),e.reordercolumn.width(g.width()),e.reordercolumn.append(e.reordercolumnicon),a(document.body).append(e.reordercolumn),g.css("margin-left",0),g.css("left",0),g.css("top",0),e.reordercolumn.css("left",f.left+e.dragmousedown.left),e.reordercolumn.css("top",f.top+e.dragmousedown.top),void 0!=d&&d&&(e.columnsdropline=a('<div style="z-index: 9999; display: none; position: absolute;"></div>'),e.columnsdropline.width(2),e.columnsdropline.addClass(e.toThemeProperty("jqx-grid-group-drag-line")),a(document.body).append(e.columnsdropline))},_handlecolumnsdragreorder:function(b,c){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var d,e=this,f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0);var g="mousedown.drag",d="mousemove.drag";f?(g=a.jqx.mobile.getTouchEventName("touchstart")+".drag",d=a.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(c,"dragstart",function(a){return!1}),this.addHandler(c,g,function(c){if(0==b.draggable)return!0;if(e.resizing)return!0;e.__drag=!0;var d=c.pageX,g=c.pageY;if(f){var h=e.getTouches(c),i=h[0];d=i.pageX,g=i.pageY}e.dragmousedown={left:d,top:g};var j=a(c.target).coord();return e.dragmousedownoffset={left:parseInt(d)-parseInt(j.left),top:parseInt(g-j.top)},c.preventDefault&&c.preventDefault(),!0}),this.addHandler(c,d,function(g){if(!b.draggable)return!0;if(void 0==b.datafield)return!0;if(b.pinned)return!0;if(e.resizing)return!0;if(e.dragmousedown){var h=g.pageX,i=g.pageY;if(f){var j=e.getTouches(g),k=j[0];void 0!=k&&(h=k.pageX,i=k.pageY)}if(d={left:h,top:i},!e.columndragstarted&&null==e.reordercolumn){var l=Math.abs(d.left-e.dragmousedown.left),m=Math.abs(d.top-e.dragmousedown.top);(l>3||m>3)&&(e._createreordercolumn(c,d,!0),a(document.body).addClass("jqx-disableselect"),a.data(e.reordercolumn[0],"reorderrecord",b.datafield))}}})},getTouches:function(b){return a.jqx.mobile.getTouches(b)},_handlecolumnsResize:function(){var b=this;if(this.columnsResize){var c=!1;b.isTouchDevice()&&(c=!0);var d="mousemove.resize"+this.element.id,e="mousedown.resize"+this.element.id,f="mouseup.resize"+this.element.id;if(c)var d=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,e=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),d),this.addHandler(a(document),d,function(d){if(null!=b.resizablecolumn&&!b.disabled&&b.resizing&&null!=b.resizeline){var e=(b.resizablecolumn.columnelement,b.host.coord()),f=parseInt(b.resizestartline.coord().left),g=f-b._startcolumnwidth,h=b.resizablecolumn.column.minwidth;h="auto"==h?0:parseInt(h);var i=b.resizablecolumn.column.maxwidth;i="auto"==i?0:parseInt(i);var j=d.pageX;if(c){var k=a.jqx.mobile.getTouches(d),l=k[0];j=l.pageX}g+=h;var m=i>0?f+i:0,n=0==i||b._startcolumnwidth+j-f<i;if(b.rtl)var n=!0;if(n)if(b.rtl){if(j>=e.left&&j<=e.left+b.host.width()&&(b.resizeline.css("left",j),c))return!1}else if(j>=e.left&&j>=g&&(0!=m&&d.pageX<m?b.resizeline.css("left",j):0==m&&b.resizeline.css("left",j),c))return!1}if(!c&&null!=b.resizablecolumn)return!1}),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(c){if(null!=b.resizablecolumn&&!b.disabled){var d=b.resizablecolumn.columnelement;if(d.coord().top+d.height()+5<c.pageY)return void(b.resizablecolumn=null);if(d.coord().top-5>c.pageY)return void(b.resizablecolumn=null);b._startcolumnwidth=b.resizablecolumn.column.width,b.resizablecolumn.column._width=null,a(document.body).addClass("jqx-disableselect"),a(document.body).addClass("jqx-position-reset"),b._mouseDownResize=new Date,b.resizing=!0,b._resizecolumn=b.resizablecolumn.column,b.resizeline=b.resizeline||a('<div style="position: absolute;"></div>'),b.resizestartline=b.resizestartline||a('<div style="position: absolute;"></div>'),b.resizebackground=b.resizebackground||a('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),b.resizebackground.css("opacity",.01),b.resizebackground.css("cursor","col-resize"),b.resizeline.css("cursor","col-resize"),b.resizestartline.css("cursor","col-resize"),b.resizeline.addClass(b.toThemeProperty("jqx-grid-column-resizeline")),b.resizestartline.addClass(b.toThemeProperty("jqx-grid-column-resizestartline")),a(document.body).append(b.resizeline),a(document.body).append(b.resizestartline),a(document.body).append(b.resizebackground);var e=b.resizablecolumn.columnelement.coord();b.resizebackground.css("left",b.host.coord().left),b.resizebackground.css("top",b.host.coord().top),b.resizebackground.width(b.host.width()),b.resizebackground.height(b.host.height()),b.resizebackground.css("z-index",999999999);var f=function(a){b.rtl?a.css("left",parseInt(e.left)):a.css("left",parseInt(e.left)+b._startcolumnwidth);var c=0,d=b.showtoolbar?b.toolbarHeight:0;c+=d;var f=b.showstatusbar?b.statusBarHeight:0;c+=f;var g=b.showAggregates?b.aggregatesHeight:0;c+=g,b.pageable&&"bottom"!=b.pagerPosition&&(c+=b.pagerHeight),b.filterable&&(c+=b.filter.height());var h=0;b.pageable&&"top"!=b.pagerPosition&&(h=b.pagerHeight);var i="hidden"!=b.hScrollBar.css("visibility")?b.scrollBarSize:0;a.css("top",parseInt(e.top)),a.css("z-index",9999999999),b.columnGroups?a.height(b.host.height()+b.resizablecolumn.columnelement.height()-h-c-i-b.columnGroupslevel*b.columnsHeight):a.height(b.host.height()-h-c-i),a.show("fast")};f(b.resizeline),f(b.resizestartline),b.dragmousedown=null}});var g=function(){if(a(document.body).removeClass("jqx-disableselect"),a(document.body).removeClass("jqx-position-reset"),b.resizing){b._mouseUpResize=new Date;var c=b._mouseUpResize-b._mouseDownResize;if(c<200)return b.resizing=!1,void(null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")&&(b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove()));if(b.resizing=!1,!b.disabled){var d=b.host.width();if("hidden"!=b.vScrollBar[0].style.visibility&&(d-=20),d<0&&(d=0),null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")){var e=parseInt(b.resizeline.css("left")),f=parseInt(b.resizestartline.css("left")),g=b._startcolumnwidth+e-f;if(b.rtl)var g=b._startcolumnwidth-e+f;var h=b._resizecolumn.width;b._resizecolumn.width=g,void 0!=b._resizecolumn._percentagewidth&&(b._resizecolumn._percentagewidth=g/d*100);for(var i=0;i<b._columns.length;i++)if(b._columns[i].datafield===b._resizecolumn.datafield){b._columns[i].width=b._resizecolumn.width;break}var j=(b.hScrollBar[0].style.visibility,b._resizecolumn.displayfield);b._updatecolumnwidths(),b.refresh(),b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove(),b.resizablecolumn=null,b._raiseEvent("columnResized",{dataField:j,oldWidth:h,newWidth:g})}else b.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var h=null;null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(h=document.referrer),h&&h.indexOf(document.location.host)!=-1&&window.top.document&&(b.mouseupFuncForTop=function(a){g()},b.addHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop))}}catch(i){}this.removeHandler(a(document),f),this.addHandler(a(document),f,function(c){var d=a.data(document.body,"contextmenu"+b.element.id);return!(null==d||!b.autoshowcolumnsmenubutton)||void g()})}},_updatecolumnwidths:function(){var b=this.host.width(),c=b;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(b-=parseInt(this.scrollBarSize)+6,c=b);var d="";if(void 0!=this.columns&&void 0!=this.columns.records){var e=this,f=!1;a.each(this.columns.records,function(a,f){if(!this.hidden)if(this.width.toString().indexOf("%")!=-1||void 0!=this._percentagewidth){var f=0,g="hidden"==e.vScrollBar[0].style.visibility?0:e.scrollBarSize+5;0==e.scrollBarSize&&(g=0),f=parseFloat(this.width)*c/100,void 0!=this._percentagewidth&&(f=parseFloat(this._percentagewidth)*c/100),f<this.minwidth&&"auto"!=this.minwidth&&(f=this.minwidth),f>this.maxwidth&&"auto"!=this.maxwidth&&(f=this.maxwidth),b-=Math.round(f)}else"auto"==this.width||this._width?d+=this.text:b-=this.width});var g=this.columnsheader.find("#columntable"+this.element.id);if(0!=g.length){var h=0,i=g.find(".jqx-grid-column-header"),j=0;a.each(this.columns.records,function(g,k){var l=a(i[g]),m=!1,n=this.width,o=this.width;if(this.width.toString().indexOf("%")==-1&&void 0==this._percentagewidth||(n=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*c/100:parseFloat(this.width)*c/100,n=Math.round(n),m=!0),"auto"==this.width||this._width||m)if(m)n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth,this.width=n),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth,this.width=n),parseInt(l[0].style.width)!=n&&(l.width(n),this.width=n);else{var p=Math.floor(b*(this.text.length/d.length));isNaN(p)&&(p=this.minwidth);var q=b*(this.text.length/d.length)-p;h+=q,h>=1&&(h-=1,p++),h>=.5&&g==e.columns.records.length-1&&p++,p<0&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),p=10+$element.width(),$element.remove()),p<this.minwidth&&(p=this.minwidth),p>this.maxwidth&&(p=this.maxwidth),this._width="auto",this.width=p,l.width(this.width)}else parseInt(l[0].style.width)!=this.width&&l.width(this.width);parseInt(l[0].style.left)!=j&&l.css("left",j),this.hidden||(j+=this.width),this._requirewidthupdate=!0,o!==this.width&&(f=!0)}),this.columnsheader.width(2+j),g.width(this.columnsheader.width()),this._resizecolumnGroups(),f&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var b=this;if(!this._updating){this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var c=a('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');c[0].cells=new Array;var d=0,e="",f=this.host.width(),g=f,h=new Array,i=new Array;if(a.each(this.columns.records,function(a,c){if(!this.hidden)if("auto"==this.width||this._width)e+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)f-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)f-=this.maxwidth;else if(this.width.toString().indexOf("%")!=-1){var c=0;c=parseFloat(this.width)*g/100,c<this.minwidth&&"auto"!=this.minwidth&&(c=this.minwidth),c>this.maxwidth&&"auto"!=this.maxwidth&&(c=this.maxwidth),f-=c}else"string"==typeof this.width&&(this.width=parseInt(this.width)),f-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(b._haspinned&&(this.pinned=!0),h[h.length]=this):i[i.length]=this}),this.rtl){var j=0;h.reverse();for(var k=this.columns.records.length-1;k>=this.columns.records.length-h.length;k--)this.columns.replace(k,h[j++]);for(var l=0;l<i.length;l++)this.columns.replace(l,i[l])}else{for(var k=0;k<h.length;k++)this.columns.replace(k,h[k]);for(var l=0;l<i.length;l++)this.columns.replace(h.length+l,i[l])}var m=this.headerZIndex,n=b.columnsHeight,o=function(a,c){var d=b.columnGroupslevel*b.columnsHeight;return d-=c.level*b.columnsHeight},p=0;a.each(this.columns.records,function(h,i){this.height=b.columnsHeight,b.columnGroups&&b.columnGroups.length&&(this.height=o(this.datafield,this),n=this.height);var j=b.toTP("jqx-grid-column-header")+" "+b.toTP("jqx-widget-header");b.rtl&&(j+=" "+b.toTP("jqx-grid-column-header-rtl")),b.enableBrowserSelection||(j+=" "+b.toTP("jqx-disableselect"));var k=self.rtl?250+m+1:250+m-1,l=b.rtl?m++:m--,q=a('<div role="columnheader" style="z-index: '+l+';position: absolute; height: 100%;" class="'+j+'"><div style="height: 100%; width: 100%;"></div></div>');b.rtl&&0===h&&(q[0].style.borderLeftColor="transparent"),b.columnGroups&&(q[0].style.height=n+"px",q[0].style.bottom="0px",this.pinned&&(q[0].style.zIndex=k)),this.uielement=q,this.element=q,""!=this.classname&&this.classname&&q.addClass(this.classname);var r=this.width,s=!1;if(null===this.width&&(this.width="auto"),this.width.toString().indexOf("%")==-1&&void 0==this._percentagewidth||(r=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*g/100:parseFloat(this.width)*g/100,r=Math.round(r),s=!0),"auto"==this.width||this._width||s)if(s)r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth),void 0!=this._percentagewidth&&this.width.toString().indexOf("%")==-1||(this._percentagewidth=this.width),q.width(r),this.width=r;else{var t=Math.floor(f*(this.text.length/e.length)),u=f*(this.text.length/e.length)-t;p+=u,p>=1&&(p-=1,t++),p>=.5&&h==b.columns.records.length-1&&t++,isNaN(t)&&(t=this.minwidth),t<0&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),t=10+$element.width(),$element.remove()),t<this.minwidth&&(t=this.minwidth),t>this.maxwidth&&(t=this.maxwidth),this._width="auto",this.width=parseInt(t),r=this.width,q.width(this.width)}else r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth),q[0].style.width=parseInt(r)+"px";this.hidden&&q.css("display","none");var v=a(q.children()[0]);c[0].cells[h]=q[0];var w=!1,x=!1,y=null!=this.renderer?this.renderer(this.text,this.align,n):b._rendercolumnheader(this.text,this.align,n,b);if(null==y&&(y=b._rendercolumnheader(this.text,this.align,n,b)),null!=this.renderer&&(y=a(y)),w=!0,b.WinJS?MSApp.execUnsafeLocalFunction(function(){v.append(a(y))}):this.renderer?v.append(a(y)):y&&(v[0].innerHTML=y),null!=y){var z=a('<div class="iconscontainer" style="height: '+n+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+b.toTP("jqx-widget-header")+'" style="height: '+n+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+b.toTP("jqx-widget-header")+'" style="height: '+n+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+b.toTP("jqx-widget-header")+'" style="height: '+n+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');v.append(z);var A=z.children();this.sortasc=A[1],this.sortdesc=A[2],this.filtericon=A[0],this.iconscontainer=z,b.rtl&&(z.css("margin-left","0px"),z.css("left","0px"),a(this.sortasc).css("float","left"),a(this.filtericon).css("float","left"),a(this.sortdesc).css("float","left"))}c.append(q),b.columnsReorder&&this.draggable&&b._handlecolumnsdragreorder&&b._handlecolumnsdragreorder(this,q);var B=this;if(b.addHandler(q,"click",function(a){return!!B.checkboxcolumn||(b._togglesort&&(b._loading||b._togglesort(B)),void a.preventDefault())}),b.columnsResize&&!x){var C=!1,D="mousemove";b.isTouchDevice()&&(C=!0,D=a.jqx.mobile.getTouchEventName("touchstart")),b.addHandler(q,D,function(c){if(!B.resizable)return b.resizablecolumn=null,!0;var d=parseInt(c.pageX),e=5,f=parseInt(q.coord().left);if(b.hasTransform&&(f=a.jqx.utilities.getOffset(q).left),b._handlecolumnsResize){if(C){var g=a.jqx.mobile.getTouches(c),h=g[0];return d=h.pageX,e=40,d>=f+B.width-e?(b.resizablecolumn={columnelement:q,column:B},q.css("cursor","col-resize")):(q.css("cursor",""),b.resizablecolumn=null),!0}var i=B.width;if(b.rtl&&(i=0),d>=f+i-e){if(d<=f+i+e)return b.resizablecolumn={columnelement:q,column:B},q.css("cursor","col-resize"),!1;q.css("cursor",""),b.resizablecolumn=null}else q.css("cursor",""),d<f+i-e&&(B._animating||B._menuvisible||q.mouseenter()),b.resizablecolumn=null}})}if(q.css("left",d),this.hidden||(d+=r),B.rendered){var E=B.rendered(a(v[0].firstChild),B.align,n);E&&null!=z&&z.hide()}}),d>0?this.columnsheader.width(2+d):this.columnsheader.width(d),this.columnsrow=c,b.columnsheader.append(c),c.width(d),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var b=0,c=0;c<this.columns.records.length;c++)this.columns.records[c].pinned&&b++;var d=this.headerZIndex-b+this.columns.records.length,e=this,f=e.toTP("jqx-grid-column-header")+" "+e.toTP("jqx-grid-columngroup-header")+" "+e.toTP("jqx-widget-header");e.rtl&&(f+=" "+e.toTP("jqx-grid-columngroup-header-rtl"));var g=this.columnsheader.find("#columntable"+this.element.id);g.find("jqx-grid-columngroup-header").remove();for(var h=0;h<this.columnGroupslevel-1;h++)for(var c=0;c<this.columnGroups.length;c++){var i=this.columnGroups[c],j=i.level;if(j===h){var k=j*this.columnsHeight,l=99999;if(i.groups){var m=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=m(d):d.hidden||(b+=d.width,l=Math.min(parseInt(d.element[0].style.left),l))}return b};i.width=m(i),i.left=l;var n=this.columnsHeight,o=d--,p=a('<div role="columnheader" style="z-index: '+o+';position: absolute;" class="'+f+'"></div>'),q=a(this._rendercolumnheader(i.text,i.align,this.columnsHeight,this));p.append(q),p[0].style.left=l+"px",0===l&&(p[0].style.borderLeftColor="transparent"),p[0].style.top=k+"px",p[0].style.height=n+"px",p[0].style.width=-1+i.width+"px",g.append(p),i.element=p}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var a=0;a<this.columnGroups.length;a++){var b=this.columnGroups[a],c=b.level,d=c*this.columnsHeight,e=99999;if(b.groups){var f=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=f(d):d.hidden||(b+=d.width,e=Math.min(parseInt(d.element[0].style.left),e))}return b};b.width=f(b),b.left=e;var g=this.columnsHeight,h=b.element;h[0].style.left=e+"px",h[0].style.top=d+"px",h[0].style.height=g+"px",h[0].style.width=-1+b.width+"px"}}},_removecolumnhandlers:function(b){var c=this,d=a(b.element);if(d.length>0){c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave");var e=a(b.filtericon);c.removeHandler(e,"mousedown"),c.removeHandler(e,"click"),c.removeHandler(d,"click")}},_calculateaggregate:function(a,b,c,d){if(!a.datafield)return null;var e=a.aggregates;if(e||(e=b),e){for(var f=new Array,g=0;g<e.length;g++)"count"!=e[g]&&(f[f.length]=a.cellsFormat);if(this.source&&this.source.getAggregatedData){void 0==d&&(d=this.getRows(),this.dataViewRecords&&(d=this.dataViewRecords));var h=d,i=-1;if(this.treeGrid){var j=new Array,k=function(a){for(var b=0;b<a.length;b++)void 0!=a[b]&&(i==-1&&(i=a[b].level),a[b].aggregate||j.push(a[b]),!a[b].leaf&&a[b].records&&a[b].records.length>0&&k(a[b].records))};k(d),d=j}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){for(var l=new Array,g=0;g<d.length;g++)d[g]&&d[g]._visible!==!1&&l.push(d[g]);d=l;for(var m=new Array,g=0;g<h.length;g++)h[g]&&h[g]._visible!==!1&&m.push(h[g]);h=m}if(void 0==c||1==c){var n=this.source.getAggregatedData([{name:a.datafield,aggregates:e,formatStrings:f}],this.gridlocalization,d,i);if(this.treeGrid){var o=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if((0==o||i>=o)&&n&&(void 0!=n[a.datafield].sum||void 0!=n[a.datafield].avg)){var p=this.source.getAggregatedData([{name:a.datafield,aggregates:e,formatStrings:f}],this.gridlocalization,h,i);void 0!=n[a.datafield].sum&&(n[a.datafield].sum=p[a.datafield].sum),void 0!=n[a.datafield].avg&&(n[a.datafield].avg=p[a.datafield].avg)}}return n}var n=this.source.getAggregatedData([{name:a.datafield,aggregates:e}],this.gridlocalization,d,i);if(this.treeGrid&&n&&(void 0!=n[a.datafield].sum||void 0!=n[a.datafield].avg)){var o=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(0==o||i>=o){var p=this.source.getAggregatedData([{name:a.datafield,aggregates:e}],this.gridlocalization,h,i);void 0!=n[a.datafield].sum&&(n[a.datafield].sum=p[a.datafield].sum),void 0!=n[a.datafield].avg&&(n[a.datafield].avg=p[a.datafield].avg)}}return n}}return null},getcolumnaggregateddata:function(a,b,c,d){var e=this.getColumn(a);if(!e)return"";var f=void 0!=c&&0!=c&&c;if(null==b)return"";var g=e.aggregates;e.aggregates=null;var h=this._calculateaggregate(e,b,f,d),i={};return h&&(i=h[a],e.aggregates=g),i},_updatecolumnaggregates:function(b,c,d){var e=this;if(c)if(d.children().remove(),d.html(""),b.aggregatesRenderer){if(c){var f=b.aggregatesRenderer(c[b.datafield],b,d,this.getcolumnaggregateddata(b.datafield,b.aggregates),"aggregates");d.html(f)}}else a.each(c,function(){var b=this;for(g in b){var c=a('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),f=g;f=e._getaggregatename(f),c.html(f+":"+b[g]),e.rtl&&c.addClass(e.toThemeProperty("jqx-rtl")),d.append(c)}});else if(d.children().remove(),d.html(""),b.aggregatesRenderer){var g={};b.aggregates&&(g=this.getcolumnaggregateddata(b.datafield,b.aggregates));var f=b.aggregatesRenderer({},b,d,null);d.html(f)}},_getaggregatetype:function(a){switch(a){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return a}var b=a;for(var c in a){b=c;break}return b},_getaggregatename:function(a){var b=a;switch(a){case"min":b="Min";break;case"max":b="Max";break;case"count":b="Count";break;case"avg":b="Avg";break;case"product":b="Product";break;case"var":b="Var";break;case"stdevp":b="StDevP";break;case"stdev":b="StDev";break;case"varp":b="VarP";case"sum":b="Sum"}if(a===b&&"string"!=typeof b)for(var c in a){b=c;break}return b},_updatecolumnsaggregates:function(){var b=this.getRows();this.dataViewRecords&&(b=this.dataViewRecords);var c=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var d=0;d<c;d++){var e=a(this.aggregates[0].cells[d]),f=this.columns.records[d],g=this._calculateaggregate(f,null,!0,b);this._updatecolumnaggregates(f,g,e)}},_refreshcolumnsaggregates:function(){var b=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var c=0,d=0;d<b;d++){var e=a(this.aggregates[0].cells[d]),f=this.columns.records[d];e&&(e.width(f.width),e[0].style.left=c+"px",f.hidden&&f.hideable?e.css("display","none"):c+=f.width)}},_updateaggregates:function(){var b=a('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),c=0,d=this.columns.records.length,e=this.toThemeProperty("jqx-grid-cell");this.rtl&&(e+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),c=0,b.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),e+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var f=d+10,g=new Array;this.aggregates[0].cells=g;for(var h=0;h<d;h++){var i=this.columns.records[h],j=this._calculateaggregate(i),k=i.width;k<i.minwidth&&(k=i.minwidth),k>i.maxwidth&&(k=i.maxwidth);var l=e;i.cellsalign&&(l+=" "+this.toThemeProperty("jqx-"+i.cellsalign+"-align"));var m=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+l+'"></div>');b.append(m),m.css("left",c),this.rtl?(m.css("z-index",f++),0==h&&m.css("border-left-width","0px")):m.css("z-index",f--),m.width(k),m[0].style.left=c+"px",i.hidden&&i.hideable?m.css("display","none"):c+=k,g[g.length]=m[0],this._updatecolumnaggregates(i,j,m)}a.jqx.browser.msie&&a.jqx.browser.version<8&&b.css("z-index",f--),
b.width(parseInt(c)+2),b.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(b),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(e),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var b=this;if(b.columns&&b.columns.records)for(var c=0;c<b.columns.records.length;c++)b._removecolumnhandlers(b.columns.records[c]);b.removeHandler(a(document),"mouseup.pagerbuttonstop"),b.removeHandler(a(document),"mouseup.pagerbuttonsbottom"),b.removeHandler(a(document),"mouseup.pagerbuttonstop"+this.element.id),b.removeHandler(a(document),"mouseup.pagerbuttonsbottom"+this.element.id),b.removeHandler(b.content,"scroll"),b.removeHandler(b.content,"mousedown"),b.removeHandler(a(document),"mousedown.gridedit"+b.element.id);var d="mousemove.resize"+b.element.id,e="mousedown.resize"+b.element.id,f="mouseup.resize"+b.element.id;if(this.isTouchDevice()&&(d=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,e=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id),b.removeHandler(a(document),d),b.removeHandler(a(document),e),b.removeHandler(a(document),f),d="mousemove.reorder"+b.element.id,e="mousedown.reorder"+b.element.id,f="mouseup.reorder"+b.element.id,this.isTouchDevice()&&this.touchmode!==!0&&(d=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,e=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),b.removeHandler(a(document),d),b.removeHandler(a(document),e),b.removeHandler(a(document),f),b.filterable){if(b.filterrow)for(var c=0;c<b.filterrow[0].cells.length;c++){var g=b.filterrow[0].cells[c],h=a(g).find(".filterconditions");b.columns.records[c];h.length>0&&h.jqxDropDownList("destroy")}var i=b.filter.find(".filterrow").find("input");i.length>0&&i.jqxButton("destroy"),b.filtercolumnsList&&b.filtercolumnsList.jqxDropDownList("destroy")}if(b.pageable&&!b.pagerRenderer){b.pagershowrowscombotop&&b.pagershowrowscombotop.jqxDropDownList&&b.pagershowrowscombotop.jqxDropDownList("destroy"),b.pagershowrowscombobottom&&b.pagershowrowscombobottom.jqxDropDownList&&b.pagershowrowscombobottom.jqxDropDownList("destroy");var j=b.pagerbuttonsbottom.find("a");b.removeHandler(j,"click"),b.removeHandler(j,"mouseenter"),b.removeHandler(j,"mouseleave"),j.remove();var j=b.pagerbuttonstop.find("a");b.removeHandler(j,"click"),b.removeHandler(j,"mouseenter"),b.removeHandler(j,"mouseleave"),j.remove(),b.pagernexttop&&b.pagernexttop.jqxButton("destroy"),b.pagernextbottom&&b.pagernextbottom.jqxButton("destroy"),b.pagerprevioustop&&b.pagerprevioustop.jqxButton("destroy"),b.pagerpreviousbottom&&b.pagerpreviousbottom.jqxButton("destroy"),b.pagerfirsttop&&b.pagerfirsttop.jqxButton("destroy"),b.pagerfirstbottom&&b.pagerfirstbottom.jqxButton("destroy"),b.pagerlasttop&&b.pagerlasttop.jqxButton("destroy"),b.pagerlastbottom&&b.pagerlastbottom.jqxButton("destroy")}b._removeHandlers(),b.vScrollBar.jqxScrollBar("destroy"),b.hScrollBar.jqxScrollBar("destroy"),delete b.vScrollBar,delete b.hScrollBar,delete b._mousewheelfunc,a.jqx.utilities.resize(b.host,null,!0),b.host.remove()},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&a.refresh()},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)&&e!==d)if("filterable"==c)b._render();else if("height"===c)b.host.height(b.height),b.host.width(b.width),b._updatesize(!1,!0);else if("width"===c)b.host.height(b.height),b.host.width(b.width),b._updatesize(!0,!1);else if("source"===c)b.updateBoundData();else if("columns"===c||"columnGroups"===c)b._columns=null,b._render();else if("rtl"===c)b.content.css("left",""),b.columns=b._columns,b.vScrollBar.jqxScrollBar({rtl:e}),b.hScrollBar.jqxScrollBar({rtl:e}),b._render();else if("pagerMode"===c)b.pagerMode=e,b._initpager();else if("pageSizeOptions"==c){b._initpager();for(var f=!1,g=0;g<e.length;g++)if(parseInt(e[g])==b.pageSize){f=!0;break}f||a.jqx.set(b,[{pageSize:e[0]}])}else if("pageSize"==c){var h=b.dataview.pagenum*b.dataview.pagesize;b.dataview.pagesize=b.pageSize;var i=Math.floor(h/b.dataview.pagesize);if(i!==b.dataview.pagenum||parseInt(e)!==parseInt(d)){b._raiseEvent("pageSizeChanged",{pagenum:e,oldpageSize:d,pageSize:b.dataview.pagesize});var j=b.goToPage(i);j||(b.serverProcessing?b.updateBoundData("pager"):b.refresh())}}else if("pagerPosition"===c)b.refresh();else if("selectionMode"===c)b.selectionMode=e.toLowerCase();else if("touchmode"==c)b.touchDevice=null,b._removeHandlers(),b.touchDevice=null,b.vScrollBar.jqxScrollBar({touchMode:e}),b.hScrollBar.jqxScrollBar({touchMode:e}),b._updateTouchScrolling(),b._arrange(),b._updatecolumnwidths(),b._renderrows(),b._addHandlers();else{if("enableHover"==c)return;if("disabled"==c)e?b.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):b.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),b.pageable&&(b.pagernexttop&&(b.pagernexttop.jqxButton({disabled:e}),b.pagerprevioustop.jqxButton({disabled:e}),b.pagernextbottom.jqxButton({disabled:e}),b.pagerpreviousbottom.jqxButton({disabled:e}),b.pagerfirsttop.jqxButton({disabled:e}),b.pagerfirstbottom.jqxButton({disabled:e}),b.pagerlasttop.jqxButton({disabled:e}),b.pagerlastbottom.jqxButton({disabled:e}),b.pagershowrowscombotop.jqxDropDownList&&"advanced"==b.pagerMode&&(b.pagershowrowscombotop.jqxDropDownList({disabled:!1}),b.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),b.host.find(".jqx-grid-pager-number").css("cursor",e?"default":"pointer")),b.host.find(".jqx-grid-group-collapse").css("cursor",e?"default":"pointer"),b.host.find(".jqx-grid-group-expand").css("cursor",e?"default":"pointer");else if("columnsHeight"==c)b._render();else if("theme"==c){if(a.jqx.utilities.setTheme(d,e,b.host),b.vScrollBar.jqxScrollBar({theme:b.theme}),b.hScrollBar.jqxScrollBar({theme:b.theme}),b.pageable&&b.pagernexttop&&(b.pagernexttop.jqxButton({theme:b.theme}),b.pagerprevioustop.jqxButton({theme:b.theme}),b.pagernextbottom.jqxButton({theme:b.theme}),b.pagerpreviousbottom.jqxButton({theme:b.theme}),b.pagerfirsttop.jqxButton({theme:b.theme}),b.pagerfirstbottom.jqxButton({theme:b.theme}),b.pagerlasttop.jqxButton({theme:b.theme}),b.pagerlastbottom.jqxButton({theme:b.theme}),b.pagershowrowscombotop.jqxDropDownList&&"advanced"==b.pagerMode&&(b.pagershowrowscombotop.jqxDropDownList({theme:b.theme}),b.pagershowrowscombobottom.jqxDropDownList({theme:b.theme}))),b.filterable){var k=a(".filterconditions");k.length>0&&k.jqxDropDownList({theme:b.theme}),b.filtercolumnsList&&b.filtercolumnsList.jqxDropDownList({theme:b.theme})}b.refresh()}else"$bindmodel$"==c?(null==d&&null==b.$uipp$&&(b.$uipp$=A.createModule("uipp").UIPP),null==e?b.source.binddetach():(b.source._source?(b.source._source.datatype="binder",b.source._source.localdata=e,b.source._source.uipp=b.$uipp$):(b.source.datatype="binder",b.source.localdata=e,b.source.uipp=b.$uipp$,b.source=new a.jqx.dataAdapter(b.source)),b.updateBoundData())):b.refresh()}},_rendercolumnheader:function(a,b,c,d){var e="4px";return d.columnGroups?(e=c/2-this._columnheight/2,e<0&&(e=4),e+="px"):25!=this.columnsHeight&&(e=this.columnsHeight/2-this._columnheight/2,e<0&&(e=4),e+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+b+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+e+"; margin-top: "+e+';"><span style="text-overflow: ellipsis; cursor: default;">'+a+"</span></div>"}}),a.jqx.dataCollection=function(a){return this.records=new Array,this.owner=a,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(a,b){this.records[a]=b},this.isempty=function(a){return void 0==this.records[a]},this.initialize=function(a){a<1&&(a=1),this.records[a-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(a){return this.records.indexOf(a)},this.add=function(a){return null!=a&&(this.records[this.records.length]=a,!0)},this.insertAt=function(a,b){return null!=a&&void 0!=a&&(null!=b&&(a>=0&&(a<this.records.length?(this.records.splice(a,0,b),!0):this.add(b))))},this.remove=function(a){if(null==a||void 0==a)return!1;var b=this.records.indexOf(a);return b!=-1&&(this.records.splice(b,1),!0)},this.removeAt=function(a){if(null==a||void 0==a)return!1;if(a<0)return!1;if(a<this.records.length){this.records[a];return this.records.splice(a,1),!0}return!1},this},a.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(b,c){var d=!!b._source,e=null;this._sortData=null,this._sortHierarchyData=null,d?(e=b,b=b._source):e=new a.jqx.dataAdapter(b,{autoBind:!1});var f=function(a){e.recordids=[],e.records=new Array,e.cachedrecords=new Array,e.originaldata=new Array,e._options.totalrecords=a.totalrecords,e._options.originaldata=a.originaldata,e._options.recordids=a.recordids,e._options.cachedrecords=new Array,e._options.pagenum=a.pagenum,e._options.pageable=a.pageable,void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async),void 0!=b.updaterow&&(e._options.updaterow=b.updaterow),void 0!=b.addrow&&(e._options.addrow=b.addrow),void 0!=b.deleterow&&(e._options.deleterow=b.deleterow),0==a.pagesize&&(a.pagesize=10),e._options.pagesize=a.pagesize},g=function(a){if(a.originaldata=e.originaldata,a.records=e.records,a.hierarchy=e.hierarchy,"binder"==b.datatype)for(var c=0,d=a.records.length;c<d;c++)a.records[c].uid=c;a.grid.serverProcessing||(a._sortData=null,a._sortfield=null,a._filteredData=null,a._sortHierarchyData=null),a.hierarchy||(a.hierarchy=new Array,e.hierarchy=new Array),e._source.totalrecords?a.totalrecords=e._source.totalrecords:e._source.totalRecords?a.totalrecords=e._source.totalRecords:0!==a.hierarchy.length?a.totalrecords=a.hierarchy.length:a.totalrecords=a.records.length,a.cachedrecords=e.cachedrecords};"gantt"!=e.datatype&&f(this),this.source=b,void 0!==c&&(uniqueId=c);var h=this;switch(b.datatype){case"local":case"array":default:if(null==b.localdata&&(b.localdata=[]),null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autoBind&&h.grid.isInitialized||h.grid.autoBind)&&e.dataBind();var i=function(){g(h),h.update()};i(),e.bindBindingUpdate(h.grid.element.id,i)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autoBind&&h.grid.isInitialized||h.grid.autoBind)&&e.dataBind();var i=function(a){g(h),h.update()};return i(),void e.bindBindingUpdate(h.grid.element.id,i)}for(var j=[],k=0,l={},m=0;m<this.filters.length;m++){var n=this.filters[m].datafield,o=this.filters[m].filter;if(o.getfilters){var p=o.getfilters();l[n+"operator"]=o.operator;for(var q=0;q<p.length;q++){p[q].datafield=n;var r=p[q].value;if("datefilter"==p[q].type)if(p[q].value&&p[q].value.toLocaleString){var s=this.grid.getColumn(p[q].datafield);if(s&&s.cellsformat){var t=this.grid.source.formatDate(p[q].value,s.cellsformat,this.grid.gridlocalization);t?l["filtervalue"+k]=t:l["filtervalue"+k]=p[q].value.toLocaleString()}else l["filtervalue"+k]=r.toString()}else l["filtervalue"+k]=r.toString();else l["filtervalue"+k]=r.toString(),p[q].data&&(l["filterid"+k]=p[q].data.toString()),p[q].id&&(l["filterid"+k]=p[q].id.toString());l["filtercondition"+k]=p[q].condition,l["filteroperator"+k]=p[q].operator,l["filterdatafield"+k]=n;var u={label:r.toString()};p[q].data&&(u.value=p[q].data.toString()),p[q].id?u.value=p[q].id.toString():u.value=r.toString(),u.condition=p[q].condition,u.operator=0==p[q].operator?"and":"or",u.field=n,u.type=p[q].type;var v=!1;if(j.length>0)for(var w=0;w<j.length;w++){var x=j[w];if(x.field==n){x.filters.push(u),v=!0;break}}v||(j.push({field:n,filters:[]}),j[j.length-1].filters.push(u)),k++}}}l.filterGroups=j,l.filterslength=k,a.extend(l,{sortdatafield:h.sortfield,sortorder:h.sortfielddirection,pagenum:h.pagenum,pagesize:h.grid.pageSize});var y=e._options.data;e._options.data?a.extend(e._options.data,l):(b.data&&a.extend(l,b.data),e._options.data=l);var i=function(){var b=a.jqx.browser.msie&&a.jqx.browser.version<9,c=function(){g(h),h.update()};if(b)try{c()}catch(d){}else c()};e.unbindDownloadComplete(h.grid.element.id),e.bindDownloadComplete(h.grid.element.id,i),e._source.loaderror=function(a,b,c){i()},(!h.grid.autoBind&&h.grid.isInitialized||h.grid.autoBind)&&e.dataBind(),e._options.data=y;break;case"binder":if(null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),e.dataBind();var i=function(a){if(g(h),"addrow"==a){var b=arguments[1],c=b.rowindex,d=b.row;h.grid.addRow(null,d)}else if("deleterow"==a){var b=arguments[1],c=b.rowindex;h.grid.deleteRow(c)}else if("updaterow"==a){var b=arguments[1],c=b.rowindex,d=b.row;h.grid.updateRow(c,d)}else e._source&&e._source.hierarchy&&(e.records=e.buildHierarchy.call(e)),h.update(),h.grid.useDatasetPaging&&h.grid._calculatePaging(e.bindreadindex,e.bindreadcount,e.bindrowcount)};return i(),void e.bindBindingUpdate(h.grid.element.id,i)}}},this.addFilter=function(a,b){this._sortData=null,this._sortHierarchyData=null;for(var c=-1,d=0;d<this.filters.length;d++)if(this.filters[d].datafield==a){c=d;break}c==-1?this.filters[this.filters.length]={filter:b,datafield:a}:this.filters[c]={filter:b,datafield:a}},this.removeFilter=function(a){this._sortData=null,this._sortHierarchyData=null;for(var b=0;b<this.filters.length;b++)if(this.filters[b].datafield==a){this.filters.splice(b,1);break}},this.sortBy=function(a,b){return null==b?(this.sortfield="",void(this.sortfielddirection="")):(void 0==b&&(b=!0),b="a"==b||"asc"==b||"ascending"==b||1==b,"constructor"==a&&(a=""),this.sortfield=a,void(this.sortfielddirection=b?"asc":"desc"))},this._sort=function(b){if(!this.sortfield||!this.sortfielddirection)return b;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var c=this,d=Object.prototype.toString;Object.prototype.toString="function"==typeof c.sortfield?c.sortfield:function(){return this[c.sortfield]};var e="";this.source.datafields&&a.each(this.source.datafields,function(){if(this.name==c.sortfield)return this.type&&(e=this.type),!1});for(var f=new Array,g=0;g<b.length;g++)f.push(a.extend({originalRecord:b[g]},b[g]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var h=f.sort(function(a,b){return c._compare(a,b,e)}).reverse();else var h=f.sort(function(a,b){return c._compare(a,b,e)});return this._sortData=h,Object.prototype.toString=d,h},this._compare=function(b,c,d){var b=b,c=c;if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return 1;if(b=b.toString(),c=c.toString(),a.jqx.dataFormat)if(d&&""!=d)switch(d){case"number":case"int":case"float":return b<c?-1:b>c?1:0;case"date":case"time":return b<c?-1:b>c?1:0;case"string":case"text":b=String(b).toLowerCase(),c=String(c).toLowerCase()}else{if(a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return b<c?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return b<c?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase())}try{if(b<c)return-1;if(b>c)return 1}catch(e){}return 0},this._equals=function(a,b){return 0===this._compare(a,b)},this.evaluate=function(b){if(this.grid.serverProcessing){if(b&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var c=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;var d=this;a.each(b,function(a){this.uid=c,d.grid.rowsByKey[this.uid]=this,c++})}return b}var e=new Array;if(this.filters.length){var f=new Array,g=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];d._visible=!0;for(var e=void 0,g=0;g<this.filters.length;g++){var h=this.filters[g].filter,i=d[this.filters[g].datafield],j=h.evaluate(i);e=void 0==e?j:"or"==h.operator?e||j:e&&j}d._visible=!1,(e||d.aggregate)&&(d._visible=!0,b.push(d),f[d.uid]=d)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var h=new Array,i=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];h.push(d),d.records&&d.records.length>0&&i(d,d.records)}};i(null,b),g.call(this,h,e);for(var j=0;j<e.length;j++)for(var k=e[j];k.parent;){var l=k.parent;f[l.uid]||(l._visible=!0,f[l.uid]=l),k=l}e=b}else g.call(this,b,e);this._filteredData=e,this.rows=e}}else this.rows=b;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var d=this,m=new Array;this._sortData=null;var n=function(b,c){d._sortData=null;var e=null;if(d.source.hierarchy.groupingDataFields)if(c&&c.length>0&&c[0].level<d.source.hierarchy.groupingDataFields.length){e=new Array;for(var f=0;f<c.length;f++)e.push(a.extend({originalRecord:c[f]},c[f]))}else e=d._sort(c);else e=d._sort(c);b.records?b.records=e:b=b.concat(e);for(var f=0;f<e.length;f++)e[f].records&&e[f].records.length&&n(e[f],e[f].records);return b};(this.sortfield||this.sortfielddirection)&&(m=this._sortHierarchyData?this._sortHierarchyData:n(m,b),this.rows=m,this._sortHierarchyData=m)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(this.rows&&""!=b&&void 0!=b&&this.rows.length>0){var e=this.rows[this.rows.length-1][b];null==e&&(e=null);for(var f=1;f<=100;f++){var g=this.grid.rowsByKey[f+e];if(!g){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var g=this.grid.rowsByKey["jqx"+e+f];if(g)continue;return"jqx"+e+f}return e+f}}}if(void 0!=b&&b.toString().length>0){var h=a(c).attr(b);if(null!=h&&h.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+h:h}if(this.rows&&this.rows.length>0){var g=this.grid.rowsByKey[d];if(g){var e=this.rows[this.rows.length-1][b];null==e&&(e="");for(var f=1;f<=1e3;f++){var g=this.grid.rowsByKey[f+e];if(!g){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var g=this.grid.rowsByKey["jqx"+e+f];if(g)continue;return"jqx"+e+f}return e+f}}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var g=this.grid.rowsByKey["jqx"+d];if(!g)return"jqx"+d;for(var f=d+1;f<=100;f++){var g=this.grid.rowsByKey["jqx"+f];if(!g){var g=this.grid.rowsByKey["jqx"+f];if(g)continue;return"jqx"+f}}}return d},this.generatekey=function(){var a=function(){return 16*(1+Math.random())|0};return""+a()+a()+"-"+a()+"-"+a()},this}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDateTimeInput","",{}),a.extend(a.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var b={value:a.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:a.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:a.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:21,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",dropDownContainer:"default",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:9999999999999,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,allowKeyboardDelete:!0,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{weekHeaderString:"Week",name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===a.jqx._jqxDateTimeInput.prototype?b:(a.extend(!0,this,b),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate,this.dayOfNewWeek=4,this.specialDatesRawData=null,this.formatWeek=void 0,this.enableWeekend=!1,this.popupZIndex=2e4,this.timeButtonSpinStep={h:1,m:1,s:1},b)},createInstance:function(b){var c="",d=this;if(!d.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if("dd/MM/yyyy"!=d.formatString){var e=d.formatString.split(" ");if(e&&e.length>1){for(var f="",g=0;g<e.length;g++)f+="1"==e[g].length?d._getFormatValue(e[g]):e[g],g<e.length-1&&(f+=" ");d.formatString=f}}if("input"==d.element.nodeName.toLowerCase()){var h=d.element.getAttribute("type");if(h&&"dd/MM/yyyy"==d.formatString){if("date"==h&&(d.formatString="d"),"datetime"==h){var i=d._getFormatValue("d")+" "+d._getFormatValue("t");d.formatString=i,d.showTimeButton=!0}"time"==h&&(d.formatString="t",d.showTimeButton=!0,d.showCalendarButton=!1)}if(d.field=d.element,d.field.getAttribute("min")){var j=new Date(d.field.getAttribute("min"));"Invalid Date"!=j&&(d.min=j)}if(d.field.getAttribute("max")){var k=new Date(d.field.getAttribute("max"));"Invalid Date"!=k&&(d.max=k)}d.field.className&&(d._className=d.field.className);var l={title:d.field.title};d.field.value&&(l.value=d.field.value),d.field.id.length?l.id=d.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":l.id=a.jqx.utilities.createId()+"_jqxDateTimeInput";var m=a("<div></div>",l);m[0].style.cssText=d.field.style.cssText,d.width||(d.width=a(d.field).width()),d.height||(d.height=a(d.field).outerHeight()),a(d.field).hide().after(m);var n=d.host.data();if(d.host=m,d.host.data(n),d.element=m[0],d.element.id=d.field.id,d.field.id=l.id,d._className&&(d.host.addClass(d._className),a(d.field).removeClass(d._className)),d.field.tabIndex){var o=d.field.tabIndex;d.field.tabIndex=-1,d.element.tabIndex=o}}if(d.host.attr("value")){c=!0;var p=d.host.attr("value");if("range"!=d.selectionMode){var q=new Date(p);void 0==q||isNaN(q)||(d.value=a.jqx._jqxDateTimeInput.getDateTime(q))}}if(null!=d.value&&d.value instanceof Date)d.value=a.jqx._jqxDateTimeInput.getDateTime(d.value);else if(null!=d.value&&"string"==typeof d.value){var q=new Date(d.value);if(void 0==q||isNaN(q)){if(d.value.indexOf(",")>=0){d.value=d.value.replace(/\,/g,"/");var q=new Date(d.value);void 0==q||isNaN(q)||(d.value=a.jqx._jqxDateTimeInput.getDateTime(q))}}else d.value=a.jqx._jqxDateTimeInput.getDateTime(q)}if(this._initTimeRange(),this._validateTimeRange(),d.host.attr("data-role","input"),d.render(),a.jqx.aria(this),null!=d.getDate()?a.jqx.aria(this,"aria-label","Current focused date is "+d.getDate().toLocaleString()):a.jqx.aria(this,"aria-label","Current focused date is Null"),d.minDate!==d.defaultMinDate&&(d.min=d.minDate),d.maxDate!==d.defaultMaxDate&&(d.max=d.maxDate),d.setMaxDate(d.max,!1),d.setMinDate(d.min,!1),"range"==d.selectionMode)if(c){var p=d.host.attr("value"),r=p.substring(0,p.indexOf("-")),s=p.substring(p.indexOf("-")+1),t=new Date(r),u=new Date(s);void 0==t||isNaN(t)||void 0==u||isNaN(u)||d.setRange(t,u)}else null!=d.getDate()&&d.setRange(d.getDate(),d.getDate());if(d.setTimeButtonSpinStep(d.timeButtonSpinStep),this.$dataBinders$)for(var v in this.$dataBinders$){var w=this.$dataBinders$[v];if(w){var x=this.bindDataBinder(v);w.unbindCallbackFunc(this.element.id),w.bindCallbackFunc(this.element.id,x),w.dataBind()}}},bindDataBinder:function(a){var b=this;b.baseHost?b.baseHost.id:b.element.id;if("value"==a)return function(a){var c,d=arguments[1],e=function(a){if("Invalid Date"==new Date(a))throw new Error('"'+a+'" is not acceptable value as Date.');return!0};"update"==a?(c=A.isUndefined(d.value)?"":d.value,A.isUndefined(c)||A.isNull(c)||A.equal(c,"")?b.allowNullDate&&A.isNull(c)&&b.setDate(null):e(c)&&b.setDate(new Date(c))):"load"==a?(c=A.isUndefined(d.records)?"":d.records,A.isUndefined(c)||A.isNull(c)||A.equal(c,"")?b.allowNullDate&&A.isNull(c)&&b._setDate(null):e(c)&&b._setDate(new Date(c))):"reset"==a&&b._setDate(null)}},_validateTimeRange:function(){if(this.timeRange){var a=this.value.dateTime.getHours(),b=this.value.dateTime.getMinutes();a<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),b<this.timeRange.minMinute?(this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()):this._updateEditorsValue()),a>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),b>this.timeRange.maxMinute?(this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()):this._updateEditorsValue())}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){var a=null;(this.timeRange.min.indexOf("AM")>=0||this.timeRange.min.indexOf("PM")>=0)&&(a=this.timeRange.min.indexOf("AM")>=0?"AM":"PM");var b=this.timeRange.min.split(":"),c=parseInt(b[0]),d=parseInt(b[1]);a&&(this.timeRange.minDefaultHour=c,this.timeRange.minMeridian=a),a&&"PM"==a&&(c+=12),this.timeRange.minHour=c,this.timeRange.minMinute=d}if(this.timeRange.max){var a=null;(this.timeRange.max.indexOf("AM")>=0||this.timeRange.max.indexOf("PM")>=0)&&(a=this.timeRange.max.indexOf("AM")>=0?"AM":"PM");var e=this.timeRange.max.split(":"),c=parseInt(e[0]),d=parseInt(e[1]);a&&(this.timeRange.maxDefaultHour=c,this.timeRange.maxMeridian=a),a&&"PM"==a&&(c+=12),this.timeRange.maxHour=c,this.timeRange.maxMinute=d}}},_format:function(b,c,d){var e=!1;try{void 0!=Globalize&&(e=!0)}catch(f){}if(a.global)return a.global.format(b,c,this.culture);if(!e){if(a.jqx.dataFormat)return b instanceof Date?a.jqx.dataFormat.formatdate(b,c,this.localization.calendar):"number"==typeof b?a.jqx.dataFormat.formatnumber(b,c,this.localization.calendar):a.jqx.dataFormat.formatdate(b,c,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{var c=Globalize.format(b,c,this.culture);return c}catch(f){return Globalize.format(b,c)}},render:function(){var b=this;b._removeHandlers(),b.element.innerHTML="",b.id=a.jqx.utilities.createId();a.jqx.utilities.createId(),a.jqx.utilities.createId();b._setSize(),null==b.width&&(b.width=b.host.width(),b.host.width(b.width)),b.touch=a.jqx.mobile.isTouchDevice();var c=a("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(b.host);b.dateTimeInput=a("<input style='border: none; padding-left: 3px; padding-right: 3px; ime-mode:disabled' class='jqx-position-absolute' id='input"+b.element.id+"' autocomplete='off' type='textarea'/>").appendTo(c),b.dateTimeInput.addClass(b.toThemeProperty("jqx-reset")),b.dateTimeInput.addClass(b.toThemeProperty("jqx-clear")),b.dateTimeInput.addClass(b.toThemeProperty("jqx-input-content")),b.dateTimeInput.addClass(b.toThemeProperty("jqx-widget-content")),b.dateTimeInput.addClass(b.toThemeProperty("jqx-rc-all")),b.dateTimeInput.attr("placeHolder",b.placeHolder),"full"!=b.renderMode&&b.dateTimeInput.remove();var d=b.host.attr("name");d&&b.dateTimeInput.attr("name",d),b.host.attr("tabindex")&&(b.dateTimeInput.attr("tabindex",b.host.attr("tabindex")),b.host.removeAttr("tabindex")),b.rtl&&(b.dateTimeInput.css("direction","rtl"),b.dateTimeInput.addClass("jqx-rtl")),b.calendarButton=a("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(c),b.rtl?b.calendarButton.addClass(b.toThemeProperty("jqx-action-button-rtl")):b.calendarButton.addClass(b.toThemeProperty("jqx-action-button")),b.calendarButtonIcon=a(b.calendarButton.children()[0]),b.calendarButtonIcon.addClass(b.toThemeProperty("jqx-icon")),b.calendarButtonIcon.addClass(b.toThemeProperty("jqx-icon-calendar")),b.calendarButton.addClass(b.toThemeProperty("jqx-fill-state-normal")),b.rtl?b.calendarButton.addClass(b.toThemeProperty("jqx-rc-l")):b.showTimeButton||b.calendarButton.addClass(b.toThemeProperty("jqx-rc-r")),b.timeButton=a("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(c),b.rtl?b.timeButton.addClass(b.toThemeProperty("jqx-action-button-rtl")):b.timeButton.addClass(b.toThemeProperty("jqx-action-button")),b.template&&(b.timeButton.addClass(b.toThemeProperty("jqx-"+b.template)),b.calendarButton.addClass(b.toThemeProperty("jqx-"+b.template))),b.timeButtonIcon=a(b.timeButton.children()[0]),b.timeButtonIcon.addClass(b.toThemeProperty("jqx-icon")),b.timeButtonIcon.addClass(b.toThemeProperty("jqx-icon-time")),b.timeButton.addClass(b.toThemeProperty("jqx-fill-state-normal")),b.rtl?b.timeButton.addClass(b.toThemeProperty("jqx-rc-l")):b.timeButton.addClass(b.toThemeProperty("jqx-rc-r"));var e=this;if(b._arrange(),null!=a.jqx._jqxCalendar&&void 0!=a.jqx._jqxCalendar)try{var f="calendar"+b.id,g=a(a.find("#"+f));g.length>0&&g.remove(),a.jqx.aria(this,"aria-owns",f),a.jqx.aria(this,"aria-haspopup",!0),a.jqx.aria(this,"aria-readonly","range"==b.selectionMode);var h=a("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+b.id+"'><div id='innerCalendar"+b.id+"'></div><div id='innerTime"+b.id+"'></div></div>");"opera"==a.jqx.utilities.getBrowser().browser&&h.hide(),"element"==b.dropDownContainer?h.appendTo(b.host):h.appendTo(document.body),b.container=h,b.calendarContainer=a(a.find("#innerCalendar"+b.id)).jqxCalendar({titleFormat:b.titleFormat,formatWeek:b.formatWeek,specialDatesRawData:b.specialDatesRawData,dayOfNewWeek:b.dayOfNewWeek,enableWeekend:b.enableWeekend,restrictedDates:this.restrictedDates,changing:b.changing,change:b.change,enableViews:b.enableViews,selectableDays:b.selectableDays,views:b.views,rowHeaderWidth:b.rowHeaderWidth,titleHeight:b.titleHeight,
columnHeaderHeight:b.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:b.localization,todayString:b.todayString,clearString:b.clearString,dayNameFormat:b.dayNameFormat,rtl:b.rtl,culture:b.culture,showFooter:b.showFooter,selectionMode:b.selectionMode,firstDayOfWeek:b.firstDayOfWeek,showWeekNumbers:b.showWeekNumbers,width:b.dropDownWidth,height:b.dropDownHeight,theme:b.theme}),"element"==b.dropDownContainer?b.calendarContainer.css({position:"absolute",top:0,left:0}):b.calendarContainer.css({position:"absolute",zIndex:b.popupZIndex,top:0,left:0}),b.calendarContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.calendarContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.timeContainer=a(a.find("#innerTime"+b.id)),b.timeContainer.css({position:"absolute",zIndex:b.popupZIndex,top:0,left:0}),b.timeContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.timeContainer.addClass(b.toThemeProperty("jqx-noshadow")),b._calendar=a.data(b.calendarContainer[0],"jqxCalendar").instance;var e=this;b._calendar.today=function(){e.today()},b._calendar.clear=function(){e.clear()},"opera"==a.jqx.utilities.getBrowser().browser&&h.show(),h.height(parseInt(b.calendarContainer.height())+25),h.width(parseInt(b.calendarContainer.width())+25),"range"==b.selectionMode&&(b.readonly=!0),"none"==b.animationType?b.container.css("display","none"):b.container.hide()}catch(i){}if(a.global&&a.global.preferCulture(b.culture),b.selectedText="",b._addHandlers(),b.self=this,b.oldValue=b.getDate(),b.items=new Array,b.editors=new Array,b._loadItems(),b.editorText="",1==b.readonly&&b.dateTimeInput.css("readonly",b.readonly),b.dateTimeInput.css("text-align",b.textAlign),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-datetimeinput")),b.host.addClass(b.toThemeProperty("jqx-input")),b.host.addClass(b.toThemeProperty("jqx-overflow-hidden")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-reset")),b.host.addClass(b.toThemeProperty("jqx-clear")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.propertyChangeMap.disabled=function(b,c,d,e){e?(b.host.addClass(b.toThemeProperty("jqx-input-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled"))):(b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.removeClass(b.toThemeProperty("jqx-input-disabled"))),a.jqx.aria(this,"aria-disabled",e)},b.disabled&&(b.host.addClass(b.toThemeProperty("jqx-input-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dateTimeInput.attr("disabled",!0)),b.host.parents("form").length>0&&b.addHandler(b.host.parents("form"),"reset",function(){setTimeout(function(){e.setDate(new Date)},10)}),b.cookies){var j=a.jqx.cookie.cookie("jqxDateTimeInput"+b.element.id);null!=j&&b.setDate(new Date(j))}if(a.jqx.browser.msie&&a.jqx.browser.version<8&&b.host.parents(".jqx-window").length>0){var k=b.host.parents(".jqx-window").css("z-index");b.container.css("z-index",k+10),b.calendarContainer.css("z-index",k+10)}"default"!=b.culture&&b._applyCulture(),b.value&&(b.calendarContainer.jqxCalendar("_isDisabled",b.value.dateTime)?b.dateTimeInput.addClass(b.toThemeProperty("jqx-input-invalid")):b.dateTimeInput.removeClass(b.toThemeProperty("jqx-input-invalid")))},val:function(a){var b=this;if(0!=arguments.length){if(null==a&&b.setDate(null),"range"==b.selectionMode)return b.setRange(arguments[0],arguments[1]),b.getText();if(a instanceof Date&&b.setDate(a),"string"==typeof a){if("date"==a)return b.getDate();b.setDate(a)}b._calendar.getDate()!=b.getDate()&&b._calendar.setDate(b.getDate())}return b.getText()},_setSize:function(){null!=this.width&&this.width.toString().indexOf("px")!=-1?this.element.style.width=parseInt(this.width)+"px":void 0==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.element.style.height=parseInt(this.height)+"px":void 0==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px");var b=!1;null!=this.width&&this.width.toString().indexOf("%")!=-1&&(b=!0,this.host.width(this.width)),null!=this.height&&this.height.toString().indexOf("%")!=-1&&(b=!0,this.host.height(this.height));var c=this,d=function(){c.calendarContainer&&c._arrange()};if(b&&this.calendarContainer){this._arrange();var e=this.host.width();"auto"!=this.dropDownWidth&&(e=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:e}),this.container.width(parseInt(e)+25)}a.jqx.utilities.resize(this.host,function(){d()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var b=parseInt(this.host.width()),c=parseInt(this.host.height()),d=this.buttonSize,e=2;this.showCalendarButton||this.showTimeButton||(d=0,buttonHeight=0,this.calendarButton.hide(),e=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide();var f=b-d-1*e;if(this.showTimeButton&&this.showCalendarButton)var f=b-2*d-1*e;else if(this.showTimeButton||this.showCalendarButton)var f=b-d-1*e;f>0&&(this.dateTimeInput[0].style.width=f+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+f+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=d+1+"px",this.calendarButton[0].style.left=1+f+"px",this.timeButton[0].style.width=d+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+f+"px":this.timeButton[0].style.left=1+f+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none"));var g=this.dateTimeInput.height();0==g&&"full"!=this.renderMode?(g=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):g=17,this.dateTimeInput[0].className.indexOf("jqx-rc-all")==-1&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));var h=parseInt(c)/2-parseInt(g)/2;if(h>0){var i=this.dateTimeInput.css("font-size");""==i&&(i=13);var h=c-2-parseInt(i)-2;isNaN(h)&&(h=0),h<0&&(h=0);var j=h/2;a.jqx.browser.msie&&a.jqx.browser.version<8&&(j=h/4),this.dateTimeInput[0].style.paddingTop=Math.round(j)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(j)+"px"}this.rtl&&(this.calendarButton[0].style.width=d+"px",this.timeButton[0].style.width=d+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",d+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),a.jqx.browser.msie&&a.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(a(document),"mousedown."+this.id),this.host.parents("form").length>0&&this.removeHandler(this.host.parents("form"),"reset"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"textInput"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"keydown"),this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(a(window),"resize."+this.id)},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXCalendar"+this.id);return null!=c&&c==b.calendarContainer},wheel:function(a,b){if(b.isEditing){b.changeType="mouse";var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return!d&&(a.preventDefault&&a.preventDefault(),a.returnValue=!1,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1}},_handleDelta:function(a){return a<0?this.spinDown():this.spinUp(),!1},focus:function(){try{var a=this;a._firstFocusDate=a.getDate(),this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){a._setSelectionStart(0),a._selectGroup(-1),a.dateTimeInput.focus()},25)}catch(b){}},_addHandlers:function(){var b=(this.element.id,this.element,this);this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(a){var c=b.isOpened();c&&b.close()}),this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&(hovered=!0,b.calendarButtonIcon.addClass(b.toThemeProperty("jqx-icon-calendar-hover")),b.calendarButton.addClass(b.toThemeProperty("jqx-fill-state-hover")),b.showTimeButton&&(b.timeButtonIcon.addClass(b.toThemeProperty("jqx-icon-time-hover")),b.timeButton.addClass(b.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&(b.calendarButtonIcon.removeClass(b.toThemeProperty("jqx-icon-calendar-hover")),b.calendarButton.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.showTimeButton&&(b.timeButtonIcon.removeClass(b.toThemeProperty("jqx-icon-time-hover")),b.timeButton.removeClass(b.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mousewheel",function(a){b.wheel(a,b)}),this.addHandler(a(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),a.jqx.mobile.isTouchDevice()&&this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(c){var d=a.data(document.body,"openedJQXCalendar"+b.id);if(null!=d&&d==b.calendarContainer){var e=b.handleCalendarKey(c,b);return e}}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(a){if(13==a.keyCode)return!(b.isOpened()&&!b._calendar._viewAnimating&&"month"==b._calendar.view)||(b.hideCalendar("selected","keyboard"),b.dateTimeInput.focus(),!1);if(9==a.keyCode){if(b.isOpened())return b.hideCalendar("selected","keyboard"),!0}else if(27==a.keyCode)return!b.isOpened()||(b.hideCalendar(null,"keyboard"),b.dateTimeInput.focus(),!1);if(b.timePopup=!1,84==a.keyCode&&(b.timePopup=!0),115==a.keyCode){if(b.isOpened())return b.hideCalendar("keyboard","keyboard"),b.dateTimeInput.focus(),!1;if(!b.isOpened())return b.showCalendar("keyboard","keyboard"),b.dateTimeInput.focus(),!1}if(a.altKey)if(38==a.keyCode){if(b.isOpened())return b.hideCalendar("keyboard","keyboard"),b.dateTimeInput.focus(),!1}else if(40==a.keyCode&&!b.isOpened())return b.showCalendar("keyboard","keyboard"),b.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(c){if(b.closeCalendarAfterSelection){a.data(document.body,"openedJQXCalendarValue");"mouse"==c.args.selectionType&&("range"!=b.selectionMode?b.hideCalendar("selected","mouse"):0==b._calendar._clicks&&b.hideCalendar("selected","mouse"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(c){b.closeCalendarAfterSelection&&b._calendar.value&&a.data(document.body,"openedJQXCalendarValue",new a.jqx._jqxDateTimeInput.getDateTime(b._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(a){if(null!=b.value){b.isEditing=!1;b.value.dateTime.getDay(),b._oldDT;b._validateValue(!0),a.stopPropagation&&a.stopPropagation(),b._updateText(),b._raiseEvent(9,a),b.$dataBinders$&&b.$dataBinders$.value&&b.$dataBinders$.value.updateItem(b.getDate().getTime())}b.isOpened()||b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(a){b.focus()}),this.addHandler(this.dateTimeInput,"focus",function(a){if(b._firstFocusDate=b.getDate(),null!=b.value?("range"!=b.selectionMode?b._oldDT=new Date(b.value.dateTime):b._oldDT=b.getRange(),setTimeout(function(){var a=b._selection();b.isEditing=!0,b._validateValue(),b._updateText(),b._setSelectionStart(0),b._selectGroup(-1,a),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))})):(b._setSelectionStart(0),b._selectGroup(-1),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))),a.stopPropagation&&a.stopPropagation(),a.preventDefault)return a.preventDefault(),!1});var c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,c,function(a){var c=b.container,d="block"==c.css("display");if(b.timePopup=!1,b.calendarPopup=!0,!b.disabled&&!b.isanimating){if(d)return b.hideCalendar(),!1;b.showCalendar("mouse"),a.preventDefault()}}),this.addHandler(this.timeButton,c,function(a){var c=b.container,d="block"==c.css("display");if(b.timePopup=!0,b.calendarPopup=!1,!b.disabled&&!b.isanimating){if(d)return b.hideCalendar("mouse","mouse"),!1;b.showCalendar("mouse"),a.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(a){return b._raiseEvent(2,a)}),this.addHandler(this.dateTimeInput,"mouseup",function(a){return b._raiseEvent(3,a)}),this.addHandler(this.dateTimeInput,"keydown",function(a){return b._raiseEvent(4,a)}),this.addHandler(this.dateTimeInput,"keyup",function(a){return b._raiseEvent(5,a)}),this.addHandler(this.dateTimeInput,"keypress",function(a){return b._raiseEvent(6,a)}),this.addHandler(this.dateTimeInput,"textInput",function(a){return 229!=b._lastInputCode})},createID:function(){var a=Math.random()+"";return a=a.replace(".",""),a="99"+a,a/=1,"dateTimeInput"+a},setMaxDate:function(b,c){null!=b&&(null!=b&&"string"==typeof b&&(b=new Date(b),"Invalid Date"==b)||(this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this._calendar&&this._calendar.setMaxDate(b),0!=c&&(null!=this.getDate()&&this.getDate()>b&&this.setDate(b),a.jqx.aria(this,"aria-valuemax",b),this._refreshValue(),this._updateText())))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(b,c){null!=b&&(null!=b&&"string"==typeof b&&(b=new Date(b),"Invalid Date"==b)||(this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b),null!=this._calendar&&this._calendar.setMinDate(b),0!=c&&(null!=this.getDate()&&this.getDate()<b&&this.setDate(b),a.jqx.aria(this,"aria-valuemin",b),this._refreshValue(),this._updateText())))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var b=!1;try{void 0!=Globalize&&(b=!0)}catch(c){}try{if(a.global)a.global.preferCulture(this.culture),this.localization.calendar=a.global.culture.calendar;else if(b){var d=Globalize.culture(this.culture);this.localization.calendar=d.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(c){}},propertyMap:function(a){return"value"==a?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2==Object.keys(c).length&&(a.refresh(),a.close())},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)){if("template"==c&&(b.timeButton.removeClass(b.toThemeProperty("jqx-"+d)),b.calendarButton.removeClass(b.toThemeProperty("jqx-"+d)),b.timeButton.addClass(b.toThemeProperty("jqx-"+b.template)),b.calendarButton.addClass(b.toThemeProperty("jqx-"+b.template))),"formatWeek"==c&&b.calendarContainer.jqxCalendar({formatWeek:e}),"specialDatesRawData"==c&&b.calendarContainer.jqxCalendar({specialDatesRawData:e}),"dayOfNewWeek"==c&&b.calendarContainer.jqxCalendar({dayOfNewWeek:e}),"enableWeekend"==c&&b.calendarContainer.jqxCalendar({enableWeekend:e}),"titleFormat"==c&&b.calendarContainer.jqxCalendar({titleFormat:e}),"restrictedDates"==c&&b.calendarContainer.css({restrictedDates:e}),"popupZIndex"==c&&b.calendarContainer.css({zIndex:e}),"showCalendarButton"==c&&b._arrange(),"showTimeButton"==c&&(b._arrange(),b.timePopupElement&&(b.timePopupElement.remove(),b.timePopupElement=null)),"selectionMode"==c&&(b._calendar.selectionMode=e,b.refreshValue()),"min"==c&&("string"==typeof e?b.setMinDate(new Date(e)):b.setMinDate(e)),"max"==c&&("string"==typeof e?b.setMaxDate(new Date(e)):b.setMaxDate(e)),"value"==c)if(null!=e&&e instanceof Date){if(isNaN(e.getFullYear())||isNaN(e.getMonth())||isNaN(e.getDate()))return void(this.value=d);e=a.jqx._jqxDateTimeInput.getDateTime(e)}else if(null!=e&&"string"==typeof e){var f=new Date(e);void 0==f||isNaN(f)||(this.value=a.jqx._jqxDateTimeInput.getDateTime(f))}if("views"==c&&b.calendarContainer.jqxCalendar({views:e}),"enableViews"==c&&b.calendarContainer.jqxCalendar({enableViews:e}),"selectableDays"==c&&b.calendarContainer.jqxCalendar({selectableDays:e}),"showFooter"==c&&b.calendarContainer.jqxCalendar({showFooter:e}),"rtl"==c&&(b.calendarContainer.jqxCalendar({rtl:e}),e?(b.dateTimeInput.css("direction","rtl"),b.dateTimeInput.addClass("jqx-rtl")):(b.dateTimeInput.css("direction","ltr"),b.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=c&&"clearString"!=c||b.calendarContainer.jqxCalendar({clearString:b.clearString,todayString:b.todayString}),"dayNameFormat"==c&&b.calendarContainer.jqxCalendar({dayNameFormat:e}),"firstDayOfWeek"==c&&b.calendarContainer.jqxCalendar({firstDayOfWeek:e}),"showWeekNumbers"==c&&b.calendarContainer.jqxCalendar({showWeekNumbers:e}),"culture"==c||"localization"==c?b._applyCulture():"formatString"==c&&(b.items=new Array,b._loadItems()),"theme"==c&&(a.jqx.utilities.setTheme(d,e,b.host),b.calendarContainer.jqxCalendar({theme:e})),"width"==c||"height"==c)return b.close(),void b.refresh();b._setOption(c,e,d),"dropDownWidth"!=c&&"dropDownHeight"!=c||(b.calendarContainer.jqxCalendar({width:b.dropDownWidth,height:b.dropDownHeight}),b._calendar.render(),b.container.height(b.calendarContainer.height()),b.container.width(b.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var a=new Date;if(a.setHours(0,0,0,0),"range"!=this.selectionMode)this.setDate(a);else{this._calendar._clicks=0;var b=new Date;b.setHours(23,59,59,0),this.setRange(a,b),this._calendar._clicks=0}this.hideCalendar()},setTimeButtonSpinStep:function(a){var b=this._getFormatValue(this.formatString);return a&&A.isObject(a)||(a={h:1,m:1,s:1}),b.indexOf("HH")>=0?(a.h<1||a.h>24)&&(a.h=1):(a.h<1||a.h>12)&&(a.h=1),(a.m<1||a.m>60)&&(a.m=1),(a.s<1||a.s>60)&&(a.s=1),a.h&&(this.timeButtonSpinStep.h=a.h),a.m&&(this.timeButtonSpinStep.m=a.m),a.s&&(this.timeButtonSpinStep.s=a.s),!0},getTimeButtonSpinStep:function(){var a=A.copyObject(this.timeButtonSpinStep)||{};return A.isObject(a)||(a={}),a.h=a.h||1,a.m=a.m||1,a.s=a.s||1,a.h<1&&(a.h=1),a.m<1&&(a.m=1),a.s<1&&(a.s=1),a},setDate:function(a){var b=this._setDate(a);return b?(this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(new Date(a).getTime()),!0):this.allowNullDate&&null===a?(this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(a),!0):void 0},_setDate:function(b){var c=this.getDate();if(null!=b&&"string"==typeof b){var d=b;if(b.toString().indexOf(",")>=0&&(b=b.replace(/\,/g,"/"),b=new Date(b),"Invalid Date"==b&&(b=d)),b.toString().indexOf("-")>=0&&(b=b.replace(/\-/g,"/"),b=new Date(b),"Invalid Date"==b&&(b=d)),""!=b){var e=b;if(b=void 0!=Globalize?Globalize.parseDate(e,this.formatString,this.culture):a.jqx.dataFormat?a.jqx.dataFormat.parsedate(e,this.formatString,this.localization.calendar):new Date(b),"Invalid Date"==b)return;null===b&&null!==e&&"Invalid Date"!=e&&(b=e)}}return null!=b&&"null"!=b&&"undefined"!=b||this.allowNullDate||(b=this.min),"Invalid Date"==b&&(b=null),null==b||"null"==b||"undefined"==b||""===b?void(null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",b,c),this._raiseEvent("9",b,c))):b<this.getMinDate()||b>this.getMaxDate()?void 0:(null==this.value&&(this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),b.getFullYear&&(this.value._setYear(b.getFullYear()),this.value._setDay(1),this.value._setMonth(b.getMonth()+1),this.value._setHours(b.getHours()),this.value._setMinutes(b.getMinutes()),this.value._setSeconds(b.getSeconds()),this.value._setMilliseconds(b.getMilliseconds()),this.value._setDay(b.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._raiseEvent("0",b,c),this._raiseEvent("9",b,c),!0)},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(b,c){if("Invalid Date"==b&&(b=null),"Invalid Date"==c&&(c=null),!(null!=b&&"string"==typeof b&&(b=new Date(b),"Invalid Date"==b)||null!=c&&"string"==typeof c&&(c=new Date(c),"Invalid Date"==c)||b&&isNaN(b)&&"NaN"==b.toString()&&"string"!=typeof b||c&&isNaN(c)&&"NaN"==c.toString()&&"string"!=typeof c)){this._calendar.setRange(b,c),c&&b&&c.valueOf()!=b.valueOf()?this._range={from:b,to:c}:this._range=this._calendar.getRange();var d=b;null!=d&&d.getFullYear&&(null==this.value&&(this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(d.getFullYear()),this.value._setMonth(d.getMonth()+1),this.value._setHours(d.getHours()),this.value._setMinutes(d.getMinutes()),this.value._setSeconds(d.getSeconds()),this.value._setMilliseconds(d.getMilliseconds()),this.value._setDay(d.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){var a=this._calendar.getRange();if(this._range){var b=this._range.from,c=this._range.to;c&&b&&c.valueOf()!=b.valueOf()&&(a.from&&a.from.setHours(b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()),a.to&&a.to.setHours(c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds()))}return a},_validateValue:function(a){for(var b=!1,c=0;c<this.items.length;c++){var d=this.editors[c].value;switch(this.items[c].type){case"FORMAT_AMPM":d<0?d=0:d>1&&(d=1);break;case"Character":break;case"Day":d<1?d=1:d>31&&(d=31);break;case"FORMAT_hh":d<1?d=1:d>12&&(d=12);break;case"FORMAT_HH":d<0?d=0:d>23&&(d=23);break;case"Millisecond":d<0?d=0:d>999&&(d=999);break;case"Minute":d<0?d=0:d>59&&(d=59);break;case"Month":d<1?d=1:d>12&&(d=12);break;case"ReadOnly":break;case"Second":d<0?d=0:d>59&&(d=59);break;case"Year":d<this.minDate.year?d=this.minDate.year:d>this.maxDate.year&&(d=this.maxDate.year)}this.editors[c].value!=d&&(this.editors[c].value=d,b=!0)}this.updateValue(a),null!=this.value&&a===!0&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(b==-1)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},spinDown:function(){var a=this.value;if(null!=a){if(null!=this.activeEditor){var b=this.editors.indexOf(this.activeEditor);if(b==-1)return;"Day"==this.items[b].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var c=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=c}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var d=this.editors.indexOf(this.activeEditor);d>=0&&this._selectGroup(d)}},_passKeyToCalendar:function(a){if(13==a.keyCode||9==a.keyCode)return this.hideCalendar("selected","keyboard"),!0;if(27==a.keyCode){var b=(this.calendarContainer,this._calendar),c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,b.setDate(this.value.dateTime),this.closeCalendarAfterSelection=c,this.hideCalendar()}var c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var d=this._calendar._handleKey(a);return this.closeCalendarAfterSelection=c,d},handleCalendarKey:function(b,c){var d=(a(b.target),a.data(document.body,"openedJQXCalendar"+this.id));if(null!=d&&d.length>0){var e=c._passKeyToCalendar(b);return e}return!0},_findPos:function(b){if(null!=b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).coord(!0);return[c.left,c.top]}},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+23):0),c},open:function(a){"time"==a?this.timePopup=!0:this.timePopup=!1,this.showCalendar()},close:function(a){this.hideCalendar()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},initTimePopup:function(){this.timePopupElement=a("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var b="";b+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var c=this._getFormatValue(this.formatString);"range"!=this.selectionMode?this.timePopupElement[0].innerHTML=b:this.timePopupElement[0].innerHTML="<table><tr><td>"+b+"</td><td>-</td><td>"+b+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var d=this.timePopupElement.find("input");d.addClass(this.toThemeProperty("jqx-input")),d.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(d,"mousedown",function(a){a.stopPropagation()});var e=function(b){b.target.className.indexOf("hour")>=0&&h._decrementHour(a(b.target)),b.target.className.indexOf("minute")>=0&&h._decrementMinuteSecond(a(b.target)),b.target.className.indexOf("second")>=0&&h._decrementMinuteSecond(a(b.target)),b.target.className.indexOf("millisecond")>=0&&h._decrementMillisecond(a(b.target)),b.target.className.indexOf("meridian")>=0&&h._decrementMeridian(a(b.target))},f=function(b){b.target.className.indexOf("hour")>=0&&h._incrementHour(a(b.target)),b.target.className.indexOf("minute")>=0&&h._incrementMinuteSecond(a(b.target)),b.target.className.indexOf("second")>=0&&h._incrementMinuteSecond(a(b.target)),b.target.className.indexOf("millisecond")>=0&&h._incrementMillisecond(a(b.target)),b.target.className.indexOf("meridian")>=0&&h._incrementMeridian(a(b.target))},g=function(a,b){if(b.isEditing){var c=0;a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.originalEvent&&void 0!=a.originalEvent.deltaY&&(c=-a.originalEvent.deltaY),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c&&(document.activeElement==a.target&&"input"==a.target.nodeName.toLowerCase()&&(c<0?e(a):f(a)),a.preventDefault&&a.preventDefault(),a.returnValue=!1),a.preventDefault&&a.preventDefault(),a.returnValue=!1}};this.addHandler(d,"wheel",function(a){g(a,h)}),this.addHandler(d,"keydown",function(b){a(b.target);if(b.ctrlKey)if(38==b.keyCode){if(h.isOpened())return h.hideCalendar("keyboard","keyboard"),h.dateTimeInput.focus(),!1}else if(40==b.keyCode&&!h.isOpened())return h.showCalendar("keyboard","keyboard"),h.dateTimeInput.focus(),!1;40==b.keyCode?(e(b),b.preventDefault()):38==b.keyCode?(f(b),b.preventDefault()):13==b.keyCode?(b.preventDefault(),
h.hideCalendar("keyboard","keyboard"),h.dateTimeInput.focus()):27==b.keyCode&&(b.preventDefault(),h.hideCalendar("cancel"),h.dateTimeInput.focus())}),this.hourInput=a(d[0]),this.minuteInput=a(d[1]),this.secondInput=a(d[2]),this.mssecondInput=a(d[3]),this.meridianInput=a(d[4]),this.hourInput2=a(d[5]),this.minuteInput2=a(d[6]),this.secondInput2=a(d[7]),this.mssecondInput2=a(d[8]),this.meridianInput2=a(d[9]);var h=this,i=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=a(i[0]),this.hourIncrement2=a(i[1]),this.addHandler(d,"change",function(b){var d=a(b.target);if(d.val().length<=1&&d.val("0"+a(b.target).val()),b.target.className.indexOf("hour")>=0){var e=parseInt(a(b.target).val());if(c.indexOf("HH")>=0)for(;e>24;)e-=24;else for(;e>12;)e-=12;e<10&&(e="0"+e),d.val()!=e&&d.val(e)}if(b.target.className.indexOf("minute")>=0||b.target.className.indexOf("second")>=0){for(var e=parseInt(a(b.target).val());e>59;)e--;e<10&&(e="0"+e),d.val()!=e&&d.val(e)}}),this._incrementHour=function(a){var b=parseInt(a.val());c.indexOf("HH")>=0?b>23&&(b=0):b>12&&(b=1),b+=this.getTimeButtonSpinStep().h||1,c.indexOf("HH")>=0?b>23&&(b-=24):b>12&&(b-=12),b<10&&(b="0"+b),a.val(b)},this._incrementMinuteSecond=function(a,b){var c=parseInt(a.val());c+=b?this.getTimeButtonSpinStep().m||1:this.getTimeButtonSpinStep().s||1,c>59&&(c-=60),c<10&&(c="0"+c),a.val(c)},this._incrementMillisecond=function(a){var b=parseInt(a.val());b++,b>999&&(b=0),b<10&&(b="0"+b),a.val(b)},this._incrementMeridian=function(a){var b=a.val();b=b.toLowerCase().indexOf("a")>=0?"PM":"AM",a.val(b)},this._decrementHour=function(a){var b=parseInt(a.val());b-=this.getTimeButtonSpinStep().h||1,c.indexOf("HH")>=0?b<0?b+=24:b>23&&(b-=24):0==b?b=12:b<0?b+=12:b>12&&(b-=12),b<10&&(b="0"+b),a.val(b)},this._decrementMinuteSecond=function(a,b){var c=parseInt(a.val());c-=b?this.getTimeButtonSpinStep().m||1:this.getTimeButtonSpinStep().s||1,c<0?c+=60:c>59&&(c-=60),c<10&&(c="0"+c),a.val(c)},this._decrementMillisecond=function(a){var b=parseInt(a.val());b--,b<0&&(b=999),b<10&&(b="0"+b),a.val(b)},this._decrementMeridian=function(a){var b=a.val();b=b.toLowerCase().indexOf("a")>=0?"PM":"AM",a.val(b)},this.addHandler(this.hourIncrement,"mousedown",function(a){a.stopPropagation(),h._incrementHour(h.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(a){a.stopPropagation(),h._incrementHour(h.hourInput2)});var j=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=a(j[0]),this.minuteIncrement2=a(j[1]),this.addHandler(this.minuteIncrement,"mousedown",function(a){a.stopPropagation(),h._incrementMinuteSecond(h.minuteInput,!0)}),this.addHandler(this.minuteIncrement2,"mousedown",function(a){a.stopPropagation(),h._incrementMinuteSecond(h.minuteInput2,!0)});var k=this.timePopupElement.find(".increment-second-column");this.secondIncrement=a(k[0]),this.secondIncrement2=a(k[1]),this.addHandler(this.secondIncrement,"mousedown",function(a){a.stopPropagation(),h._incrementMinuteSecond(h.secondInput,!1)}),this.addHandler(this.secondIncrement2,"mousedown",function(a){a.stopPropagation(),h._incrementMinuteSecond(h.secondInput2,!1)});var l=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=a(l[0]),this.millisecondsIncrement2=a(l[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(a){a.stopPropagation(),h._incrementMillisecond(h.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(a){a.stopPropagation(),h._incrementMillisecond(h.mssecondInput2)});var m=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=a(m[0]),this.meridianIncrement2=a(m[1]),this.addHandler(this.meridianIncrement,"mousedown",function(a){a.stopPropagation(),h._incrementMeridian(h.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(a){a.stopPropagation(),h._incrementMeridian(h.meridianInput2)});var n=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=a(n[0]),this.hourDecrement2=a(n[1]),this.addHandler(this.hourDecrement,"mousedown",function(a){a.stopPropagation(),h._decrementHour(h.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(a){a.stopPropagation(),h._decrementHour(h.hourInput2)});var o=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=a(o[0]),this.minuteDecrement2=a(o[1]),this.addHandler(this.minuteDecrement,"mousedown",function(a){a.stopPropagation(),h._decrementMinuteSecond(h.minuteInput,!0)}),this.addHandler(this.minuteDecrement2,"mousedown",function(a){a.stopPropagation(),h._decrementMinuteSecond(h.minuteInput2,!0)});var p=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=a(p[0]),this.secondDecrement2=a(p[1]),this.addHandler(this.secondDecrement,"mousedown",function(a){a.stopPropagation(),h._decrementMinuteSecond(h.secondInput,!1)}),this.addHandler(this.secondDecrement2,"mousedown",function(a){a.stopPropagation(),h._decrementMinuteSecond(h.secondInput2,!1)});var q=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=a(q[0]),this.millisecondsDecrement2=a(q[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(a){a.stopPropagation(),h._decrementMillisecond(h.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(a){a.stopPropagation(),h._decrementMillisecond(h.mssecondInput2)});var r=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=a(r[0]),this.meridianDecrement2=a(r[1]),this.addHandler(this.meridianDecrement,"mousedown",function(a){a.stopPropagation(),h._decrementMeridian(h.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(a){a.stopPropagation(),h._decrementMeridian(h.meridianInput2)});var s=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",function(a){a.stopPropagation()});var t=function(b){var d=b.find("tr");c.indexOf("ss")==-1&&(h.secondInput.hide(),h.secondInput2.hide(),a(a(d[0]).children()[3]).hide(),a(a(d[0]).children()[4]).hide(),a(a(d[1]).children()[3]).hide(),a(a(d[1]).children()[4]).hide(),a(a(d[2]).children()[3]).hide(),a(a(d[2]).children()[4]).hide()),c.indexOf("tt")==-1&&c.indexOf("hh")==-1&&(h.meridianInput.hide(),h.meridianInput2.hide(),a(a(d[0]).children()[7]).hide(),a(a(d[0]).children()[8]).hide(),a(a(d[1]).children()[7]).hide(),a(a(d[1]).children()[8]).hide(),a(a(d[2]).children()[7]).hide(),a(a(d[2]).children()[8]).hide()),c.indexOf("zz")==-1&&(h.mssecondInput.hide(),h.mssecondInput2.hide(),a(a(d[0]).children()[5]).hide(),a(a(d[0]).children()[6]).hide(),a(a(d[1]).children()[5]).hide(),a(a(d[1]).children()[6]).hide(),a(a(d[2]).children()[5]).hide(),a(a(d[2]).children()[6]).hide())};1==s.length?t(s):(t(a(a(s)[1])),t(a(a(s)[2])))},updateTimePopup:function(){var a=this._getFormatValue(this.formatString);if("range"!=this.selectionMode){var b=this.getDate();if(this.hourInput){if(b)var c=b.getHours(),d=b.getMinutes(),e=b.getHours(),f=b.getSeconds(),g=b.getMilliseconds();else var c=0,d=0,e=0,f=0,g=0;c>=12?(e="PM",a.indexOf("HH")==-1&&(c-=12,0==c&&(c=12))):e="AM","none"!=this.meridianInput.css("display")&&0==c&&(c=12),c<10&&(c="0"+c),d<10&&(d="0"+d),f<10&&(f="0"+f),g<10&&(g="0"+g),this.hourInput.val(c),this.minuteInput.val(d),this.secondInput.val(f),this.mssecondInput.val(g),this.meridianInput.val(e)}}else{var b=this.getRange().from;if(this.hourInput){if(b)var c=b.getHours(),d=b.getMinutes(),e=b.getHours(),f=b.getSeconds(),g=b.getMilliseconds();else var c=0,d=0,e=0,f=0,g=0;c>=12?(e="PM",a.indexOf("HH")==-1&&(c-=12,0==c&&(c=12))):e="AM","none"!=this.meridianInput.css("display")&&0==c&&(c=12),c<10&&(c="0"+c),d<10&&(d="0"+d),f<10&&(f="0"+f),g<10&&(g="0"+g),this.hourInput.val(c),this.minuteInput.val(d),this.secondInput.val(f),this.mssecondInput.val(g),this.meridianInput.val(e)}var b=this.getRange().to;if(this.hourInput2){if(b)var c=b.getHours(),d=b.getMinutes(),e=b.getHours(),f=b.getSeconds(),g=b.getMilliseconds();else var c=0,d=0,e=0,f=0,g=0;c>=12?(e="PM",a.indexOf("HH")==-1&&(c-=12,0==c&&(c=12))):e="AM","none"!=this.meridianInput.css("display")&&0==c&&(c=12),c<10&&(c="0"+c),d<10&&(d="0"+d),f<10&&(f="0"+f),g<10&&(g="0"+g),this.hourInput2.val(c),this.minuteInput2.val(d),this.secondInput2.val(f),this.mssecondInput2.val(g),this.meridianInput2.val(e)}}},showCalendar:function(){var b=this.calendarContainer,c=this._calendar;if(a.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var d=this.timeContainer.find("input"),e=0,f=0;f<d.length;f++)"none"!=d[f].style.display&&(e+=50);this.container.width(parseInt(e)),this.touch||setTimeout(function(){d[0].focus(),a(d[0]).select()},150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,c.canRender||(c.canRender=!0,c.render());var g,h=(this.container,this),i=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),j=parseInt(Math.round(this.host.coord(!0).left));"element"===this.dropDownContainer&&(i=parseInt(this.host.outerHeight())-1+"px",g=0),g=j+"px";var k=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();null!=k&&k&&(g=a.jqx.mobile.getLeftPos(this.element),i=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(i=parseInt(i)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(g=parseInt(g)-this._getBodyOffset().left+"px")),this.container.css("left",g),this.container.css("top",i);var l=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==h.selectionMode){this._validateValue(),this._updateText();var m=null!=this.value?this.value.dateTime:new Date;c.setDate(m)}this.closeCalendarAfterSelection=l;var n=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var o=this.container.outerWidth(),p=Math.abs(o-this.host.outerWidth()+2);if(this.rtl||(p-=2),o>this.host.width()){var q=23;this.container.css("left",q+parseInt(Math.round(j))-p+"px")}else this.container.css("left",25+parseInt(Math.round(j))+p+"px")}if("top"==this.dropDownVerticalAlignment){var r=b.height();this.timePopup&&this.timeContainer.css("top",this.container.height()-75),n=!0,b.css("top",23),b.addClass(this.toThemeProperty("jqx-popup-up"));var s=parseInt(this.host.outerHeight()),t=parseInt(i)-Math.abs(r+s+23);this.container.css("top",t)}if(this.enableBrowserBoundsDetection){var u=this.testOffset(b,{left:parseInt(this.container.css("left")),top:parseInt(i)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=u.top?(n=!0,b.css("top",23),b.addClass(this.toThemeProperty("jqx-popup-up"))):b.css("top",0),this.container.css("top",u.top),parseInt(this.container.css("left"))!=u.left&&this.container.css("left",u.left)}if(this._raiseEvent(7,b),"none"!=this.animationType){this.container.css("display","block");var v=parseInt(b.outerHeight());b.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(b.css("margin-top",0),b.css("opacity",0),b.animate({opacity:1},this.openDelay,function(){h.isanimating=!1,h.opening=!1,a.data(document.body,"openedJQXCalendar"+h.id,b),h.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){h.isanimating=!1,h.opening=!1,a.data(document.body,"openedJQXCalendar"+h.id,b),h.timeContainer.focus()}))):(b.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),n?b.css("margin-top",v):b.css("margin-top",-v),this.timePopup&&(n?this.timeContainer.css("margin-top",v):this.timeContainer.css("margin-top",-v),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){h.isanimating=!1,h.opening=!1,a.data(document.body,"openedJQXCalendar"+h.id,b),h.timeContainer.focus()})),b.animate({"margin-top":0},this.openDelay,function(){h.isanimating=!1,h.opening=!1,a.data(document.body,"openedJQXCalendar"+h.id,b),h.calendarContainer.focus()}))}else b.stop(),h.isanimating=!1,h.opening=!1,b.css("opacity",1),b.css("margin-top",0),this.container.css("display","block"),a.data(document.body,"openedJQXCalendar"+h.id,b),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus());null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(b,c){c&&(this.changeType=c);var d=this.calendarContainer,e=this.container,f=this;if(a.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=b)if("range"!=this.selectionMode&&this.hourInput){var g=this.getDate(),h=parseInt(this.hourInput.val()),i=parseInt(this.minuteInput.val()),j=parseInt(this.secondInput.val()),k=parseInt(this.mssecondInput.val()),l=this.meridianInput.val();isNaN(h)&&(h=0),isNaN(i)&&(i=0),isNaN(j)&&(j=0),isNaN(k)&&(k=0),"none"!=this.meridianInput.css("display")&&(l.toLowerCase().indexOf("p")>=0&&h<12&&(h+=12),l.toLowerCase().indexOf("a")>=0&&h>=12&&(h-=12)),g||(g=new Date),g.setHours(h,i,j,k),this.setDate(g)}else if(this.hourInput&&"selected"!=b){var m=this.getRange(),h=parseInt(this.hourInput.val()),i=parseInt(this.minuteInput.val()),j=parseInt(this.secondInput.val()),k=parseInt(this.mssecondInput.val()),l=this.meridianInput.val();isNaN(h)&&(h=0),isNaN(i)&&(i=0),isNaN(j)&&(j=0),isNaN(k)&&(k=0),"none"!=this.meridianInput.css("display")&&(l.toLowerCase().indexOf("p")>=0&&h<12&&(h+=12),l.toLowerCase().indexOf("a")>=0&&h>=12&&(h-=12));var n=m.from;n||(n=new Date),n.setHours(h,i,j,k);var h=parseInt(this.hourInput2.val()),i=parseInt(this.minuteInput2.val()),j=parseInt(this.secondInput2.val()),k=parseInt(this.mssecondInput2.val()),l=this.meridianInput2.val();""==i&&(i=0),""==j&&(j=0),""==k&&(k=0),"none"!=this.meridianInput2.css("display")&&(l.toLowerCase().indexOf("p")>=0&&h<12&&(h+=12),l.toLowerCase().indexOf("a")>=0&&h>=12&&(h-=12));var o=m.to;if(o||(o=new Date),o.setHours(h,i,j,k),o.valueOf()<n.valueOf())return!1;this.setRange(n,o)}else if("selected"==b)return;if(a.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var p=d.outerHeight();d.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0;var q=-p;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(q=p),"fade"==this.animationType?d.animate({opacity:0},this.closeDelay,function(){e.css("display","none"),f.isanimating=!1}):d.animate({"margin-top":q},this.closeDelay,function(){e.css("display","none"),f.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){e.css("display","none"),f.isanimating=!1}):this.timeContainer.animate({"margin-top":q},this.closeDelay,function(){e.css("display","none"),f.isanimating=!1}))}else e.css("display","none");void 0!=b&&this._updateSelectedDate(b),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,d)},_updateSelectedDate:function(){var b=this.value;null==b&&(b=new a.jqx._jqxDateTimeInput.getDateTime(new Date),b._setHours(0),b._setMinutes(0),b._setSeconds(0),b._setMilliseconds(0));var c=b.hour,d=b.minute,e=b.second,f=b.millisecond;if("range"==this.selectionMode&&null==this._calendar.getRange().from)return void this.setDate(null);var g=new a.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);g._setHours(c),g._setMinutes(d),g._setSeconds(e),g._setMilliseconds(f);var h=this.setDate(g.dateTime);if("range"==this.selectionMode&&!h&&this._oldDT){var i=this.getRange(),j=(this._oldDT,!1),k=!1,l=this._oldDT.from,g=i.from;null!=g&&l&&g.getFullYear()==l.getFullYear()&&g.getMonth()==l.getMonth()&&g.getDate()==l.getDate()&&g.getHours()==l.getHours()&&g.getMinutes()==l.getMinutes()&&g.getSeconds()==l.getSeconds()&&(j=!0);var g=i.to;if(null!=g&&(l=this._oldDT.to,l&&g.getFullYear()==l.getFullYear()&&g.getMonth()==l.getMonth()&&g.getDate()==l.getDate()&&g.getHours()==l.getHours()&&g.getMinutes()==l.getMinutes()&&g.getSeconds()==l.getSeconds()&&(k=!0)),j&&k)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}},_closeOpenedCalendar:function(b){var c=a(b.target),d=a.data(document.body,"openedJQXCalendar"+b.data.me.id),e=!1;if(a.each(c.parents(),function(){if(this.className&&this.className.indexOf){if(this.className.indexOf("jqx-calendar")!=-1)return e=!0,!1;if(this.className.indexOf("jqx-date-time-input-popup")!=-1)return e=!0,!1;if(this.className.indexOf("jqx-input")!=-1)return!1}}),a(b.target).ischildof(b.data.me.host))return!0;if(null!=b.target&&("B"==b.target.tagName||"b"==b.target.tagName)){var f=b.data.me.host.coord(),g=b.data.me.host.width(),h=b.data.me.host.height(),i=parseInt(f.top),j=parseInt(f.left);if(i<=b.pageY&&b.pageY<=i+h&&j<=b.pageX&&b.pageX<=j+g)return!0}if(null!=d&&!e&&d.length>0){var k=d[0].id.toString(),l=k.toString().substring(13),m=(a(document).find("#"+l),b.data.me.hideCalendar());m!==!1&&a.data(document.body,"openedJQXCalendar"+b.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var a=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(a),this.editors=new Array;for(var b=0;b<this.items.length;b++){var c=this.items[b].getDateTimeEditorByItemType(this.value,this);this.editors[b]=c}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var b=this,c="";if(0==b.items.length&&null!=b.value&&b._loadItems(),null!=b.value){b.items.length>=1&&(c=b.format(b.value,0,b.items.length));var d=b.dateTimeInput.val();d!=c&&b._raiseEvent(1,b.value)}if("range"==b.selectionMode){var e=b.getRange();if(fromText=b.format(b.value,0,b.items.length),e.to){var f=a.jqx._jqxDateTimeInput.getDateTime(e.from);fromText=b.format(f,0,b.items.length);var g=a.jqx._jqxDateTimeInput.getDateTime(e.to);toText=b.format(g,0,b.items.length);var c=fromText+" - "+toText;" - "==c&&(c="")}else c=""}b.dateTimeInput.val(c)},format:function(a,b,c){for(var d="",e=b;e<c;++e){var f=this.items[e].dateParser(a,this);if(this.isEditing&&"ReadOnly"!=this.items[e].type&&"range"!=this.selectionMode){var g="Day"==this.items[e].type&&this.items[e].format.length>2;if("FORMAT_AMPM"==this.items[e].type&&(g=!0,f=0==this.editors[e].value?this.editors[e].amString:this.editors[e].pmString),!g)for(f=this.items[e].dateParserInEditMode(new Number(this.editors[e].value),"d"+this.editors[e].maxEditPositions,this);f.length<this.editors[e].maxEditPositions;)f="0"+f}d+=f}return d},_getFormatValueGroupLength:function(a){for(i=1;i<a.toString().length;++i)if(a.substring(i,i+1)!=a.substring(0,1))return i;return a.length},_parseFormatValue:function(b){for(var c=new Array,d=b.toString(),e=0;d.length>0;){var f=this._getFormatValueGroupLength(d),g=null;switch(d.substring(0,1)){case":":case"/":f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var h=d.indexOf(d[0],1);g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1+Math.max(1,h-1)),"ReadOnly",this.culture),f=Math.max(1,h+1);break;case"\\":d.length>=2&&(g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(1,1),"ReadOnly",this.culture),f=2);break;case"d":case"D":g=f>2?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Day",this.culture);break;case"f":case"F":f>7&&(f=7),g=f>3?a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture):a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Millisecond",this.culture);break;case"g":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;case"h":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_hh",this.culture);break;case"H":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_HH",this.culture);break;case"m":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Minute",this.culture);break;case"M":f>4&&(f=4),g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Month",this.culture);break;case"s":case"S":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Second",this.culture);break;case"t":case"T":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"FORMAT_AMPM",this.culture);break;case"y":case"Y":f>1?g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"Year",this.culture):(f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,f),"ReadOnly",this.culture);break;default:f=1,g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(d.substring(0,1),"ReadOnly",this.culture)}c[e]=a.extend(!0,{},g),d=d.substring(f),e++}return c},_getFormatValue:function(a){if(null!=a&&0!=a.length||(a="d"),1==a.length)switch(a.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==a.length&&"%"==a.substring(0,1)&&(a=a.substring(1)),a},_updateEditorsValue:function(){var a=this.value;if(null!=a){var b=a.year,c=a.day,d=a.hour,e=a.millisecond,f=a.second,g=a.minute,h=a.month;if(null!=this.items)for(var i=0;i<this.items.length;i++)switch(this.items[i].type){case"FORMAT_AMPM":var j=d%12;0==j&&(j=12),d>=0&&d<12?this.editors[i].value=0:this.editors[i].value=1;break;case"Day":this.editors[i].value=c;break;case"FORMAT_hh":var j=d%12;0==j&&(j=12),this.editors[i].value=j;break;case"FORMAT_HH":this.editors[i].value=d;break;case"Millisecond":this.editors[i].value=e;break;case"Minute":this.editors[i].value=g;break;case"Month":this.editors[i].value=h;break;case"Second":this.editors[i].value=f;break;case"Year":this.editors[i].value=b}}},updateValue:function(b){if(!(this.isEditing||this.items&&0==this.items.length)){for(var c=1,d=1,e=0,f=0,g=0,h=0,i=1,j=0,k=!1,l=!1,m=!1,n=!1,o=!1,p=!1,q=!1,r=new Array,s=null,t=0,u=0;u<this.items.length;u++)switch(this.items[u].type){case"FORMAT_AMPM":j=this.editors[u].value,s=this.editors[u];break;case"Character":break;case"Day":this.items[u].format.length<3&&(d=this.editors[u].value,r[t++]=this.editors[u],0==d&&(d=1),m=!0);break;case"FORMAT_hh":var v=this.editors[u];e=v.value,n=!0;break;case"FORMAT_HH":e=this.editors[u].value,n=!0;break;case"Millisecond":f=this.editors[u].value,q=!0;break;case"Minute":h=this.editors[u].value,o=!0;break;case"Month":i=this.editors[u].value,l=!0,0==i&&(i=1);break;case"ReadOnly":break;case"Second":g=this.editors[u].value,p=!0;break;case"Year":k=!0,c=this.editors[u].value;var w=this.editors[u].getDateTimeItem().format;if(w.length<3){var x="1900";if(4==x.Length){var y,z=""+x[0]+x[1];y=parseInt(z),c+=100*y}}0==c&&(c=1)}var A=null!=this.value?new Date(this.value.dateTime):null;if(c>0&&i>0&&d>0&&h>=0&&e>=0&&g>=0&&f>=0){var B=this.value;null!=B&&(k||(c=B.year),l||(i=B.month),m||(d=B.day));try{if(i>12&&(i=12),i<1&&(i=1),b&&B._daysInMonth(c,i)<=d&&(d=B._daysInMonth(c,i),null!=r&&r.length>0))for(u=0;u<r.length;u++)r[u].value=d;null!=s&&(0==s.value?e>=12&&(e-=12):e+12<24&&(e+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(c)),this.value._setDay(d),this.value._setMonth(i),n&&this.value._setHours(e),o&&this.value._setMinutes(h),p&&this.value._setSeconds(g),q&&this.value._setMilliseconds(f),this._validateTimeRange()}catch(C){this.value=B}if(null!=A){var D=this.value.dateTime.getFullYear()==A.getFullYear()&&this.value.dateTime.getDate()==A.getDate()&&this.value.dateTime.getMonth()==A.getMonth()&&this.value.dateTime.getHours()==A.getHours()&&this.value.dateTime.getMinutes()==A.getMinutes()&&this.value.dateTime.getSeconds()==A.getSeconds();if(!D){if(this.changing){var E=this.changing(A,this.value.dateTime);E&&(this.value=a.jqx._jqxDateTimeInput.getDateTime(E))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}}var F=this.editors.indexOf(this.activeEditor);this.items[F];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(a){this.value._setYear(parseInt(a.year)),this.value._setDay(a.day),this.value._setMonth(a.month),this.value._setHours(a.hour),this.value._setMinutes(a.minute),this.value._setSeconds(a.second),this.value._setMilliseconds(a.milisecond)},_raiseEvent:function(b,c,d){var e=this.events[b],f={};f.owner=this,null==c&&(c={}),null==d&&(d=c);var g=c.charCode?c.charCode:c.keyCode?c.keyCode:0,h=!0,i=this.readonly,j=new a.Event(e);if(j.owner=this,j.args=f,j.args.date=this.getDate(),9==b&&(j.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==b&&"range"!=this.selectionMode){var k=j.args.date;this._oldDT&&(a.jqx.aria(this,"aria-valuenow",this.getDate()),a.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?a.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):a.jqx.aria(this,"aria-label","Current focused date is Null")),j.args.oldValue=d,j.args.newValue=j.args.date,this._oldDT&&(j.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(j.args.date=this.getRange(),this._oldDT){var k=j.args.date.from;if(9==b){var l=!1,m=!1,n=this._oldDT.from;null!=k&&n&&k.getFullYear()==n.getFullYear()&&k.getMonth()==n.getMonth()&&k.getDate()==n.getDate()&&k.getHours()==n.getHours()&&k.getMinutes()==n.getMinutes()&&k.getSeconds()==n.getSeconds()&&(l=!0);var k=j.args.date.to;if(null!=k&&(n=this._oldDT.to,n&&k.getFullYear()==n.getFullYear()&&k.getMonth()==n.getMonth()&&k.getDate()==n.getDate()&&k.getHours()==n.getHours()&&k.getMinutes()==n.getMinutes()&&k.getSeconds()==n.getSeconds()&&(m=!0)),l&&m)return!0;var l=j.args.date.from;l=null==l?"":l.toString();var m=j.args.date.to;m=null==m?"":m.toString(),a.jqx.aria(this,"aria-valuenow",l+"-"+m),a.jqx.aria(this,"aria-valuetext",this.getText()),l&&m&&a.jqx.aria(this,"aria-label","Current focused range is "+l.toLocaleString()+"-"+m.toLocaleString())}}j.args.oldValue=d,j.args.newValue=j.args.date,this._oldDT&&(j.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=b&&3!=b&&4!=b&&5!=b&&6!=b&&(h=this.host.trigger(j),j.stopPropagation&&j.stopPropagation());var o=this;if(i||2!=b||this.disabled||setTimeout(function(){o.isEditing=!0,"range"==this.selectionMode?o._selectGroup(-1):o._selectGroup(-1)},25),4==b){if(229==c.keyCode&&(a.jqx.browser.chrome||a.jqx.browser.webkit))return this._lastInputCode=c.keyCode,!1;if(i||this.disabled){if(8!=g&&46!=g||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==g)return!0;if(!c.altKey)return!1}h=this._handleKeyDown(c,g)}else if(5==b){if(9==g)return!0;if(i||this.disabled)return!1}else if(6==b){if(9==g)return!0;if(i||this.disabled)return!1;h=this._handleKeyPress(c,g)}return h},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(c);for(;c>0;)if(this.activeEditor=this.editors[--c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&a!=this.activeEditor&&"ReadOnly"!=this.items[c].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=a&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var a=this.activeEditor,b=!1,c=this.editors.indexOf(this.activeEditor),d=c;if(this.enableAbsoluteSelection&&c>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(c);for(;c<=this.editors.length-2;)if(this.activeEditor=this.editors[++c],this._selectGroup(c),"ReadOnly"!=this.items[c].type){if("Day"==this.items[c].type&&this.items[c].format.length>2)break;b=!0;break}return b||d>=0&&(this.activeEditor=this.editors[d]),null!=this.activeEditor&&this.activeEditor!=a&&"ReadOnly"!=this.items[c].type&&(this.activeEditor.positions=0),this.activeEditor!=a&&(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0)}},_saveSelectedText:function(){var a=this._selection(),b="",c=this.dateTimeInput.val();if(a.start>0||a.length>0)for(i=a.start;i<a.end;i++)b+=c[i];return window.clipboardData&&window.clipboardData.setData("Text",b),b},_selectWithAdvancePattern:function(){var a=this.editors.indexOf(this.activeEditor),b=!1;if("ReadOnly"!=this.items[a].type&&(b=!0),b){var c=this.activeEditor;if(null!=c){var d=c.positions==c.maxEditPositions;if(d){this.editorText="";var e=c.value,f=!1;switch(this.items[a].type){case"FORMAT_AMPM":e<0?e=0:e>1&&(e=1);break;case"Character":break;case"Day":e<1?e=1:e>31&&(e=31);break;case"FORMAT_hh":e<1?e=1:e>12&&(e=12);break;case"FORMAT_HH":e<0?e=0:e>23&&(e=23);break;case"Millisecond":e<0?e=0:e>99&&(e=99);break;case"Minute":e<0?e=0:e>59&&(e=59);break;case"Month":e<1?e=1:e>12&&(e=12);break;case"ReadOnly":break;case"Second":e<0?e=0:e>59&&(e=59);break;case"Year":e<this.minDate.year?e=this.minDate.year:e>this.maxDate.year&&(e=this.maxDate.year);
}return c.value!=e&&(f=!0),!f&&(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}}},_handleKeyPress:function(a,b){var c=this._selection(),d=this,e=a.ctrlKey||a.metaKey;if(e&&97==b||e&&65==b)return!0;if(8==b)return c.start>0&&d._setSelectionStart(c.start),!1;if(46==b)return c.start<this.items.length&&d._setSelectionStart(c.start),!1;if(27===b)return this._firstFocusDate&&(this.setDate(this._firstFocusDate),this._setSelectionStart(0),this._selectGroup(-1)),!1;if(c.start>=0){this.changeType="keyboard";var f=String.fromCharCode(b),g=parseInt(f);if("p"!=f&&"a"!=f&&"A"!=f&&"P"!=f||null!=this.activeEditor&&"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=f&&"P"!=f?1!=this.activeEditor.value||"a"!=f&&"A"!=f||this.spinDown():this.spinUp()),!isNaN(g)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var h=!1,i=this.editors.indexOf(this.activeEditor),j=null;if(this.isEditing=!0,"ReadOnly"!=i.type&&(j=this.activeEditor),null!=j&&0==j.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(f),null!=j&&this.editorText.length>=j.maxEditPositions&&(this.editorText=""),this.editorText+=f;var k=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var l=this._getLastEditableEditorIndex();this.editors.indexOf(this.activeEditor)==l&&k&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0}return h=!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}var m=this._isSpecialKey(b);return m},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(b,c){var d=this;if(this.timePopup=!1,84==c&&(this.timePopup=!0),13==b.keyCode)return this.dateTimeInput.trigger("blur"),!1;if(115==b.keyCode){if(d.isOpened())return d.hideCalendar("keyboard","keyboard"),!1;if(!d.isOpened())return d.showCalendar("keyboard","keyboard"),!1}if(b.altKey){if(38==b.keyCode){if(d.isOpened())return d.hideCalendar("keyboard","keyboard"),!1}else if(40==b.keyCode&&!d.isOpened())return d.showCalendar("keyboard","keyboard"),!1}else if(b.ctrlKey)if(this.timePopup=!0,38==b.keyCode){if(d.isOpened())return d.hideCalendar("keyboard","keyboard"),!1}else if(40==b.keyCode&&!d.isOpened())return d.showCalendar("keyboard","keyboard"),!1;if(!d.isOpened()){if(b.shiftKey&&(51==c||52==c||53==c||222==c))return!1;var e=(d._selection(),b.ctrlKey||b.metaKey);if(e&&99==c||e&&67==c)return d._saveSelectedText(b),!0;if(e&&122==c||e&&90==c)return!1;if(e&&118==c||e&&86==c||b.shiftKey&&45==c){var f=(d.val(),this),g=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');return a("body").append(g),g.select(),setTimeout(function(){var a=g.val();f.setDate(a),g.remove()},100),!0}if(8==c||46==c){if(b.altKey||e||46!=c){if(null!=d.activeEditor){var h=d.editors.indexOf(d.activeEditor);if(d.activeEditor.positions>=0){var i=d._format(Number(d.activeEditor.value),"d"+d.activeEditor.maxEditPositions,d.culture);if(tmp=i,tmp=tmp.substring(0,d.activeEditor.positions)+"0"+tmp.substring(d.activeEditor.positions+1),parseInt(tmp)<d.activeEditor.minValue&&(tmp=d._format(Number(d.activeEditor.minValue),"d"+d.activeEditor.maxEditPositions,d.culture)),d.enableAbsoluteSelection?d.activeEditor.value=tmp:d.activeEditor.value=d.activeEditor.minValue,d._validateValue(),d._updateText(),d.changeType="keyboard",8==c){var j=this;d.enableAbsoluteSelection&&d.activeEditor.positions>0?setTimeout(function(){j.activeEditor.positions=j.activeEditor.positions-1,j._selectGroup(h)},10):setTimeout(function(){j._doLeftKey()},10)}else d._selectGroup(h)}else d._doLeftKey()}}else d.isEditing=!1,d.allowKeyboardDelete&&(d.changeType="keyboard",d.allowNullDate?d.setDate(null):"range"!=d.selectionMode?d.setDate(d.getMinDate()):d.setRange(d.getMinDate(),d.getMinDate()));return!1}if(38==c)return this.spinUp(),d.changeType="keyboard",!1;if(40==c)return this.spinDown(),d.changeType="keyboard",!1;if(9==c){if(null==d.value)return!0;if(b.shiftKey)var k=this._doLeftKey();else var k=this._doRightKey();return!k}if(37==c){if(this._editor){var k=this._doLeftKey();return k||(this.isEditing=!1,this._validateValue()),!k}var k=this._doLeftKey();return!1}if(39==c||191==c){if(this._editor){var k=this._doRightKey();return k||(this.isEditing=!1,this._validateValue()),!k}var k=this._doRightKey();return!1}var l=this._isSpecialKey(c);return null==this.value&&(c>=48&&c<=57||c>=96&&c<=105)&&(d.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),!a.jqx.browser.mozilla||(!!(a.jqx.browser.mozilla&&a.jqx.browser.version>24)||l)}return 9==b.keyCode?(d.hideCalendar("selected","keyboard"),!0):void 0},_isSpecialKey:function(a){return 8==a||9==a||13==a||35==a||36==a||37==a||39==a||27==a||46==a},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var a=this.dateTimeInput[0],b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:a.value.length,length:0};var d=this.dateTimeInput[0].createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d);var b=c.text.length;return{start:e.text.length,end:e.text.length+c.text.length,length:b,text:c.text}},_selectGroup:function(a,b){if("none"!=this.host.css("display")&&!this.readonly){if(!b)var b=this._selection();for(var c="",d="",e=null,f=0;f<this.items.length;f++){if(d=this.items[f].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[f].type){var g="Day"==this.items[f].type&&this.items[f].format.length>2;if(!g&&"FORMAT_AMPM"!=this.items[f].type)for(d=this.items[f].dateParserInEditMode(new Number(this.editors[f].value),"d"+this.editors[f].maxEditPositions,this);d.length<this.editors[f].maxEditPositions;)d="0"+d}if(c+=d,"ReadOnly"!=this.items[f].type&&!("Day"==this.items[f].type&&this.items[f].format.length>2))if(void 0!=a&&a!=-1){if(f>=a){var h=c.length-d.length,i=d.length;this.enableAbsoluteSelection&&!isNaN(parseInt(d))&&this.isEditing&&a!=-1&&(i=1,h+=this.editors[f].positions),h==this.dateTimeInput.val().length&&h--,this._setSelection(h,h+i),e=this.editors[f],this.activeEditor=e;break}}else if(c.length>=b.start){e=this.editors[f],this.activeEditor=e;var h=c.length-d.length,i=1;this.enableAbsoluteSelection?!isNaN(parseInt(d))&&this.isEditing&&a!=-1&&(i=1,h+=this.editors[f].positions):i=d.length,this._setSelection(h,h+i);break}}f<this.items.length&&a==-1&&"ReadOnly"!=this.items[f].type&&(this.activeEditor.positions=0);var j=this._selection();if(0==j.length&&j.start>0){this._getLastEditableEditorIndex()}}},_getLastEditableEditorIndex:function(){var a=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||(a=i));return a},_setSelection:function(a,b){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(a,b);else{var c=this.dateTimeInput[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}}catch(d){}},_setSelectionStart:function(a){this._setSelection(a,a)},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(a){1!=a&&(this._setSize(),this._arrange())},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_setOption:function(a,b,c){"value"===a&&("range"!=this.selectionMode?this._oldDT=null:this._oldDT=null,this.value=b,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==a&&(this._calendar.maxDate=b,this._raiseEvent(9,{type:null})),"minDate"==a&&(this._calendar.minDate=b,this._raiseEvent(9,{type:null})),"showCalendarButton"==a&&(b?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==a&&this.dateTimeInput.attr("disabled",b),"readonly"==a&&(this.readonly=b,this.dateTimeInput.css("readonly",b)),"textAlign"==a&&(this.dateTimeInput.css("text-align",b),this.textAlign=b),"width"==a?(this.width=b,this.width=parseInt(this.width),this._arrange()):"height"==a&&(this.height=b,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()},replaceEventHandler:function(a,b,c){this.removeHandler(a,b),this.addHandler(a,b,c)}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.DateTimeFormatItem={},a.extend(a.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(a,b,c){return this.format=a,this.type=b,this.culture=c,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(a,b){if(null==a)return"";var c=b._format(a.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture);return c},dateParserInEditMode:function(a,b,c){if(null==a)return"";var d=c._format(a.toString(),1==b.length?"%"+b:b,this.culture);return d},getDateTimeEditorByItemType:function(b,c){switch(this.type){case"FORMAT_AMPM":var d=a.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,b.hour/12,c.localization.calendar.AM[0],c.localization.calendar.PM[0],this,c),e=a.extend({},d);return e;case"Character":return null;case"Day":var f,g=b.year,h=b.month;f=3==this.format.length?c.localization.calendar.days.namesAbbr:this.format.length>3?c.localization.calendar.days.names:null;var i=b.day;null!=f&&(i=b.dayOfWeek+1);var j=a.jqx._jqxDateTimeInput.DateEditor._createDayEditor(b,b.day,1,b._daysInMonth(g,h),1==this.format.length?1:2,2,f,this,c),e=a.extend({},j);return e;case"FORMAT_hh":var k=b.hour%12;0==k&&(k=12);var l=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(k,1,12,1==this.format.length?1:2,2,this,c),e=a.extend({},l);return e;case"FORMAT_HH":var m=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.hour,0,23,1==this.format.length?1:2,2,this,c),e=a.extend({},m);return e;case"Millisecond":var n=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,c),e=a.extend({},n);return e;case"Minute":var o=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.minute,0,59,1==this.format.length?1:2,2,this,c),e=a.extend({},o);return e;case"Month":var p;p=3==this.format.length?c.localization.calendar.months.namesAbbr:this.format.length>3?c.localization.calendar.months.names:null;var q=a.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(b.month,2==this.format.length?2:1,p,this,c),e=a.extend({},q);return e;case"ReadOnly":return a.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,b.day,this,c);case"Second":var r=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(b.second,0,59,1==this.format.length?1:2,2,this,c),e=a.extend({},r);return e;case"Year":var s=a.jqx._jqxDateTimeInput.DateEditor._createYearEditor(b.year,4,this,c),e=a.extend({},s);return e}return null}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.DateEditor=a.extend(a.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},_createYearEditor:function(b,c,d,e){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(0,c<4?99:9999,2==c?2:1,c>3?4:2,d),this.initializeYearEditor(b,c,d.culture),this.handleYears=!0,this.that=e,this},initializeYearEditor:function(a,b,c){this.formatValueLength=b,this.dateTimeFormatInfo=c;var d=a;d=Math.min(d,9999),d=Math.max(d,1),d=this.formatValueLength<4?d%100:d,this.updateActiveEditor(d),this.value=d},updateActiveEditor:function(a){this.value=a,this.positions=0},_createDayEditor:function(b,c,d,e,f,g,h,i,j){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(d,e,1,g,i),this.currentValue=b,this.value=c,this.days=h,this.handleDays=!0,this.that=j,this},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},defaultTextValue:function(){var a=(this.value,this.minEditPositions),b=a,c=this.that._format(this.value,"d"+b,"");return c},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var a=this.value%7+1;return a=this.getDayOfWeek(a),this.days[a]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(a){if(null==a)return this.deleteValue();if(0==a.length)return this.deleteValue();var b=a.substring(0,1);if(!isNaN(b)){var c,d=1,e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return c=e,this.positions>=this.maxEditPositions&&(this.positions=0),c=c.substring(0,this.positions)+b+c.substring(this.positions+1),c=this.setValueByString(c,d),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(a){if(this.handleDays){if(null!=this.days){var b=!1;if(b=this.insertLongString(a,b))return b;if(b=this.insertShortString(a,b))return b}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=a,this.defaultInsertString(a)}if(this.handleMonths&&null!=this.dateTimeMonths){var b=!1;if(b=this.insertLongString2(a,b))return b;if(b=this.insertShortString2(a,b))return b}return this.defaultInsertString(a)},insertShortString:function(a,b){if(1==a.length)for(i=0;i<6;++i){var c=(this.value+i)%7+1,d=this.days[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},insertLongString:function(a,b){if(a.length>0)for(i=0;i<6;++i){var c=(this.value+i)%7+1;if(this.days[c-1]==a)return this.updateActiveEditor(c),b=!0}return b},_createMonthEditor:function(b,c,d,e,f){return a.jqx._jqxDateTimeInput.DateEditor=a.extend(!0,{},this),this.initializeFields(1,12,c,2,e),this.dateTimeMonths=d,this.value=b,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=f,this},insertLongString2:function(a,b){if(a.length>0)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==a)return this.updateActiveEditor(month),b=!0;return b},insertShortString2:function(a,b){if(1==a.length)for(i=0;i<11;++i){var c=(this.value+i)%12+1,d=this.dateTimeMonths[c-1];if(d.substring(0,1)==a)return this.updateActiveEditor(c),b=!0}return b},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)+1,c>9&&(c=0),!a){var d=this.value+1;return d=this.correctMaximumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return!(e==this.value&&!this.hasDigits())&&(this.updateActiveEditor(e),!0)},decreaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)-1,c<0&&(c=9),!a){var d=this.value-1;return d=this.correctMinimumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return!(e==this.value&&!this.hasDigits())&&(this.updateActiveEditor(e),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.NumberEditor={},a.extend(a.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(b,c,d,e,f,g,h){return a.jqx._jqxDateTimeInput.NumberEditor=a.extend(!0,{},this),this.initializeFields(c,d,e,f,g),this.that=h,this},initializeFields:function(a,b,c,d,e){this.minValue=a,this.maxValue=b,this.minEditPositions=c,this.maxEditPositions=d,this.updateActiveEditor(a),this.item=e},updateActiveEditor:function(a){this.value=a,this.positions=0},getDayOfWeek:function(b){return typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),b},textValue:function(){var a=(this.value,this.minEditPositions),b=a,c=this.that._format(this.value,"d"+b,"");return c},insert:function(a){if(null==a)return this.deleteValue();if(0==a.length)return this.deleteValue();var b=a.substring(0,1);if(!isNaN(b)){var c,d=1,e=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return c=e,this.positions>=this.maxEditPositions&&(this.positions=0),c=c.substring(0,this.positions)+b+c.substring(this.positions+1),c=this.setValueByString(c,d),!0}},setValueByString:function(a,b){a=this.fixValueString(a);var c=new Number(a);return this.value=c,this.positions+=b,a},fixValueString:function(a){return a.length>this.maxEditPositions&&(a=a.substring(a.length-this.maxEditPositions)),a},initializeValueString:function(a){var b;return b="",this.hasDigits()&&(b=a),b},deleteValue:function(){return(this.value!=this.minValue||0!=this.hasDigits())&&(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(a){return a>this.maxValue&&(a=this.minValue),a},correctMinimumValue:function(a){return a<this.minValue&&(a=this.maxValue),a},increaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)+1,c>9&&(c=0),!a){var d=this.value+1;return d=this.correctMaximumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return!(e==this.value&&!this.hasDigits())&&(this.updateActiveEditor(e),!0)},decreaseValue:function(a){var b=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),c=b.toString()[this.positions];if(c=parseInt(c)-1,c<0&&(c=9),!a){var d=this.value-1;return d=this.correctMinimumValue(d),this.updateActiveEditor(d),!0}var e=b.substring(0,this.positions)+c+b.substring(this.positions+1);return!(e==this.value&&!this.hasDigits())&&(this.updateActiveEditor(e),!0)},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.DisabledEditor={},a.extend(a.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(a,b,c,d,e,f){return this.format=a,this.value=-1,this.item=e,this.that=f,this},textValue:function(){return""},insert:function(a){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.AmPmEditor={},a.extend(a.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(a,b,c,d,e,f){return this.format=a,this.value=b,this.minValue=0,this.amString=c,this.pmString=d,this.item=e,this.that=f,c==d&&(this.amString="<"+c,this.pmString=">"+d),this},textValue:function(){var a=this.amString;return 0!=this.value&&(a=this.pmString),1==this.format.length&&a.length>1&&(a=a.substring(0,1)),a},insert:function(a){var b=a.toString();if(0==b.Length)return this.deleteValue();var c=!1;if(this.amString.Length>0&&this.pmString.Length>0){var d=amString[0],e=b[0],f=pmString[0];d.toString()==e.toString()?(this.value=0,c=!0):f.toString()==e.toString()&&(this.value=1,c=!0)}else this.pmString.Length>0?(this.value=1,c=!0):this.amString.Length>0&&(this.value=0,c=!0);return c},deleteValue:function(){var a=!0;if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return a},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(a){a.jqx._jqxDateTimeInput.getDateTime=function(a){var b={dateTime:new Date(a),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:a.getHours(),minute:a.getMinutes(),day:a.getDate(),second:a.getSeconds(),month:1+a.getMonth(),year:a.getFullYear(),millisecond:a.getMilliseconds(),dayOfWeek:a.getDay(),isWeekend:function(a){void 0!=a&&null!=a||(a=this.dateTime);var b=a.getDay()%6==0;return b},dayOfYear:function(a){void 0!=a&&null!=a||(a=this.dateTime);var b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864e5)},_setDay:function(a){void 0!=a&&null!=a||(a=0),this.dateTime.setDate(a),this.day=this.dateTime.getDate()},_setMonth:function(a){void 0!=a&&null!=a||(a=0),this.dateTime.setMonth(a-1),this.month=1+this.dateTime.getMonth()},_setYear:function(a){void 0!=a&&null!=a||(a=0),this.dateTime.setFullYear(a),this.year=this.dateTime.getFullYear()},_setHours:function(a){void 0!=a&&null!=a||(a=0),this.dateTime.setHours(a),this.hour=this.dateTime.getHours()},_setMinutes:function(a){void 0!=a&&null!=a||(a=0),this.dateTime.setMinutes(a),this.minute=this.dateTime.getMinutes()},_setSeconds:function(a){void 0!=a&&null!=a||(a=0),this.dateTime.setSeconds(a),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(a){void 0!=a&&null!=a||(a=0),this.dateTime.setMilliseconds(a),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(a){var b=this.dateTime,c=b.getDate();return b.setDate(b.getDate()+a),c===b.getDate()&&b.setHours(b.getHours()+b.getTimezoneOffset()/60),b},_addWeeks:function(a){var b=this.dateTime;return b.setDate(b.getDate()+7*a),b},_addMonths:function(a){var b=this.dateTime;return b.setMonth(b.getMonth()+a),b},_addYears:function(a){var b=this.dateTime;return b.setFullYear(b.getFullYear()+a),b},_addHours:function(a){var b=this.dateTime;return b.setHours(b.getHours()+a),b},_addMinutes:function(a){var b=this.dateTime;return b.setMinutes(b.getMinutes()+a),b},_addSeconds:function(a){var b=this.dateTime;return b.setSeconds(b.getSeconds()+a),b},_addMilliseconds:function(a){var b=this.dateTime;return b.setMilliseconds(b.getMilliseconds()+a),b},_isLeapYear:function(a){if(a<1||a>9999)throw"invalid year";return a%4==0&&(a%100!=0||a%400==0)},_dateToTicks:function(a,b,c){if(a>=1&&a<=9999&&b>=1&&b<=12){var d=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;if(c>=1&&c<=d[b]-d[b-1]){var a=a-1,e=365*a+a/4-a/100+a/400+d[b-1]+c-1;return 864e9*e}}},_daysInMonth:function(a,b){if(b<1||b>12)throw"Invalid month.";var c=this._isLeapYear(a)?this.daysToMonth366:this.daysToMonth365;return c[b]-c[b-1]},_timeToTicks:function(a,b,c){var d=3600*a+60*b+c;return 1e7*d},_equalDate:function(a){return this.year==a.getFullYear()&&this.day==a.getDate()&&this.month==a.getMonth()+1}};return b}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDocking","",{}),a.extend(a.jqx._jqxDocking.prototype,{defineInstance:function(){var b={orientation:"horizontal",mode:"default",floatingWindowOpacity:.3,panelsRoundedCorners:!0,disabled:!1,width:"auto",height:"auto",windowsMode:null,cookies:!1,cookieOptions:{},windowsOffset:5,rtl:!1,keyboardNavigation:!1,_windowOptions:{},_draggedFired:!1,_dragging:!1,_draggingItem:null,_panels:[],_windows:[],_indicator:null,_events:["dragEnd","dragStart"]};return this===a.jqx._jqxDocking.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){if(!this.host.jqxWindow)throw new Error("jqxDocking: Missing reference to jqxwindow.js.");this._refresh(!0),this.disabled&&(this.disabled=!1,this.disable())},refresh:function(a){1!=a&&this._performLayout()},_refresh:function(b){this._render(),this._removeClasses(),this._addClasses(),this._setWindowsOptions(!0),this._performLayout(),this._cookieHandler(),this._cookieExporter(),this._removeEventListeners(),this._addEventListeners();var c=a.Event("resize");this.host.trigger(c)},resize:function(){this._refresh()},_addClasses:function(){this.host.addClass("jqx-docking");for(var a=0;a<this._panels.length;a+=1)this._panels[a].addClass(this.toThemeProperty("jqx-docking-panel")),this.panelsRoundedCorners&&this._panels[a].addClass(this.toThemeProperty("jqx-rc-all"));for(var a=0;a<this._windows.length;a+=1)this._windows[a].addClass(this.toThemeProperty("jqx-docking-window"))},_removeClasses:function(){this.host.removeClass("jqx-docking");for(var a=0;a<this._panels.length;a+=1)this._panels[a].removeClass(this.toThemeProperty("jqx-docking-panel")),this._panels[a].removeClass(this.toThemeProperty("jqx-rc-all"));for(var a=0;a<this._windows.length;a+=1)this._windows[a].removeClass(this.toThemeProperty("jqx-docking-window"))},_render:function(){for(var b=this.host.children("div"),c=0;c<b.length;c+=1)this._panels.push(a(b[c])),this._renderWindows(a(b[c]))},focus:function(b){this.focusedWindow&&a(this.focusedWindow).removeClass(this.toThemeProperty("jqx-fill-state-focus")),!a.isEmptyObject(b)&&"string"===a.type(b)&&a("#"+b).length>0?this.focusedWindow=a("#"+b)[0]:this.focusedWindow=this._windows[0][0],a(this.focusedWindow).addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.focus()},_renderWindows:function(b){for(var c=b.children("div"),d=0;d<c.length;d+=1)this._windows.push(a(c[d])),a(c[d]).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:a(c[d]).css("width"),maxWidth:Number.MAX_VALUE}),a(c[d]).detach(),b.append(a(c[d]));b.append('<div class="spacer" style="clear: both;"></div>');var e=this;if(this.keyboardNavigation){var f=function(b){if(13===b.keyCode?e.focusedWindow&&a(e.focusedWindow).jqxWindow("showCollapseButton")&&a(e.focusedWindow).jqxWindow("_collapseButton").trigger("click"):(e.focusedWindow&&27===b.keyCode&&"esc"===a(e.focusedWindow).jqxWindow("keyboardCloseKey")||e.focusedWindow&&a(e.focusedWindow).jqxWindow("keyboardCloseKey")==b.keyCode)&&a(e.focusedWindow).jqxWindow("closeWindow",b),9===b.keyCode){if(null==e.focusedWindow)e.focusedWindow=e._windows[0],a(e.focusedWindow).focus(),b.stopPropagation();else{var c=-1;if(a.each(e._windows,function(a,b){this[0]==e.focusedWindow&&(c=a)}),b.shiftKey?c--:c++,c>=e._windows.length||c<0)return a(e.focusedWindow).removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.focusedWindow=null,b.stopPropagation(),!0;var d=e._windows[c];d||(d=e._windows[0]),a(e.focusedWindow).removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.focusedWindow=d[0],a(e.focusedWindow).focus()}a(e.focusedWindow).addClass(e.toThemeProperty("jqx-fill-state-focus")),b.preventDefault&&(b.preventDefault(),b.stopPropagation())}};a.each(e._windows,function(b,c){var d=a(this);e.removeHandler(d,"focus"),e.removeHandler(d,"blur"),e.removeHandler(d,"mousedown"),e.addHandler(d,"mousedown",function(b){e.focusedWindow&&a(e.focusedWindow).removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.focusedWindow=d[0],a(e.focusedWindow).addClass(e.toThemeProperty("jqx-fill-state-focus")),a(e.focusedWindow).focus()}),e.addHandler(d,"focus",function(b){e.focusedWindow&&a(e.focusedWindow).removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.focusedWindow=d[0],a(e.focusedWindow).addClass(e.toThemeProperty("jqx-fill-state-focus"))}),e.addHandler(d,"blur",function(b){return!!a(document.activeElement).ischildof(a(d))||void a(d).removeClass(e.toThemeProperty("jqx-fill-state-focus"))}),e.removeHandler(d,"keydown"),e.addHandler(d,"keydown",function(a){f(a)})}),this.removeHandler(this.host,"keydown"),this.addHandler(this.host,"keydown",function(a){f(a)}),this.removeHandler(this.host,"blur"),this.addHandler(this.host,"blur",function(b){e.focusedWindow&&(a(e.focusedWindow).removeClass(e.toThemeProperty("jqx-fill-state-focus")),e.focusedWindow=null)})}},_performLayout:function(){this.host.css("width",this.width),this.host.css("height",this.height),this._performWindowsLayout(),this._performPanelsLayout(),this._performWindowsLayout()},_performPanelsLayout:function(){this.host.css("overflow","hidden");for(var a,b=this.host.width(),c=0,d=0;d<this._panels.length;d+=1)a=this._panels[d],a.css("height","auto"),a.css("min-width","auto"),a[0].style.width="auto","vertical"===this.orientation?(a.css("width","auto"),a.css("float","none")):(c+=this._handleHorizontalSize(a,c,b),d>0&&a.css("margin-left",-this.windowsOffset));"horizontal"===this.orientation&&c<b&&this._fillContainer(b,c)},_handleHorizontalSize:function(a,b,c){var d,e=c/this._panels.length,f=a.outerWidth()-a.width();if(a.css("float","left"),"auto"===a[0].style.width||0===parseInt(a.css("width"),10)){var g=99.99/this._panels.length;return a[0].style.width=g+"%",a.outerWidth()}return b+a.outerWidth()>=c&&(b+e<c?(d=e-f,a.css("min-width",d),a.width(d)):(d=a.width()-(b+a.outerWidth()-c),a.css("min-width",d),a.width(d))),a.outerWidth()},_fillContainer:function(b,c){var d=this._panels.length,e=this._panels[d-1],f=b-c+e.width();a.jqx.browser.msie&&a.jqx.browser.version<9&&(f-=this._panels.length)},_performWindowsLayout:function(){for(var a,b=0;b<this._windows.length;b+=1)a=this._getWindowOptions(this._windows[b]),this._windows[b].ischildof(this.host)&&(a?"floating"!==a.mode&&(this._windows[b].css("margin",this.windowsOffset),this._windows[b].css("position","static")):"floating"!==this.mode&&(this._windows[b].css("position","static"),this._windows[b].css("margin",this.windowsOffset))),this._setWindowSize(this._windows[b],a)},_setWindowSize:function(a,b){if("floating"!==b.mode&&a.ischildof(this.host)){var c=a.parent().width()-(a.outerWidth()-a.width())-2*this.windowsOffset;"vertical"===this.orientation?a.jqxWindow("width",c):a.jqxWindow("width",c)}this._setWindowOption(a,"size",{width:a.width(),height:a.height()})},_setWindowsOptions:function(a){for(var b=0;b<this._windows.length;b+=1){var c,d=this._windows[b].attr("id"),e=this._getWindowOptions(d);if(!a);c=null,this.windowsMode&&this.windowsMode.hasOwnProperty(d)?(c=this.windowsMode[d],this._setWindowOption(this._windows[b],"mode",c)):"undefined"!=typeof e&&"undefined"==typeof e.mode&&(c=this.mode,this._setWindowOption(this._windows[b],"mode",c)),a&&(this._setWindowOption(this._windows[b],"resizable",!0),"floating"==c?this._windows[b].jqxWindow({enableResize:!0}):this._windows[b].jqxWindow({enableResize:!1}),this._setWindowOption(this._windows[b],"size",{
height:this._windows[b].height(),width:this._windows[b].width()}))}},_removeEventListeners:function(){for(var a=0;a<this._windows.length;a+=1)this.removeHandler(this._windows[a],"moving",this._itemDragging),this.removeHandler(this._windows[a],"moved",this._itemDrop),this.removeHandler(this._windows[a],"resized",this._itemResized),this.removeHandler(this._windows[a],"collapse",this._collapsed),this.removeHandler(this._windows[a],"expand",this._expanded)},_addEventListeners:function(){for(var b=0;b<this._windows.length;b+=1)this._addEventListenersTo(this._windows[b]);var c=this;a.jqx.utilities.resize(this.host,function(){c._performLayout()})},_addEventListenersTo:function(a){this.addHandler(a,"moving",this._itemDragging,{self:this}),this.addHandler(a,"moved",this._itemDrop,{self:this}),this.addHandler(a,"resized",this._itemResized,{self:this}),this.addHandler(a,"collapse",this._collapsed,{self:this}),this.addHandler(a,"expand",this._expanded,{self:this})},_itemDragging:function(b){var c=b.data.self,d=a(b.target),e=c._getWindowOptions(d);if(d.removeClass(c.toThemeProperty("jqx-docking-window")),d.css("margin","0px"),c._dragging||c._prepareForDragging(d),"floating"!==e.mode){var f={x:b.args.pageX,y:b.args.pageY},g=c._getMouseOverPanel(f);return g?c._mouseOverPanel(g,f):c._mouseLeavePanel(),c._draggedFired||(c._raiseEvent(1,{window:a(d).attr("id")}),c._draggedFired=!0),!0}},_prepareForDragging:function(b){this._dragging=!0;var c={parent:b.parent(),next:b.next(),prev:b.prev()};this._setWindowOption(b,"lastPosition",c),b.detach(),a(document.body).append(b),this._setDraggingStyles(b),this._draggingItem=b},_setDraggingStyles:function(a){a.css({position:"absolute",left:a.offset().left,top:a.offset().top}),a.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(a){for(var b=0;b<this._panels.length;b+=1)if(this._isMouseOverItem(this._panels[b],a,!1))return this._panels[b];return null},_mouseOverPanel:function(a,b){if(this._dragging){var c=a.children("div"),d=this._getHoverWindow(b,c);if("indicator"===d)return;var e=this._centerOffset(d,b);this._handleIndicator(a,d,e)}},_getHoverWindow:function(b,c){if(this._isMouseOverItem(this._indicator,b,!0))return"indicator";for(var d=0;d<c.length;d+=1)if(this._isMouseOverItem(a(c[d]),b,!0))return a(c[d]);return null},_centerOffset:function(a,b){if(a){var c,d={x:a.offset().left,y:a.offset().top},e=a.height();a.width();return c=d.y+e/2,b.y>c?"next":"prev"}return"all"},_handleIndicator:function(a,b,c){var d=this._getIndicator(b);"all"===c?"vertical"===this.orientation?d.insertBefore(a.children(".spacer")):a.append(d):"prev"===c?d.insertBefore(b):d.insertAfter(b),this._resizeIndicator(d,a)},_getIndicator:function(){var b=this._indicator;return b||(b=a('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')),this._indicator=b,this._indicator.css("margin",this.windowsOffset),"vertical"===this.orientation&&this._indicator.css("float","left"),b},_resizeIndicator:function(a,b){"horizontal"===this.orientation?(a.width(b.width()-(a.outerWidth(!0)-a.width())),a.height(this._draggingItem.height())):(a.width(this._draggingItem.width()),a.height(this._draggingItem.height()))},_mouseLeavePanel:function(a){this._indicator&&(this._indicator.remove(),this._indicator=null)},_itemDrop:function(b){var c=b.data.self,d=a(b.currentTarget);c._dragging=!1,c._indicator?(d.detach(),d.insertAfter(c._indicator),c._indicator.remove(),c._dropFixer(d)):c._dropHandler(d),d.fadeTo(0,1),d.focus(),c._indicator=null,c._cookieExporter(),c._draggedFired=!1,c._raiseEvent(0,{window:d.attr("id")})},_dropFixer:function(a){a.css("position","static"),a.addClass(this.toThemeProperty("jqx-docking-window")),a.css("margin",this.windowsOffset),a.jqxWindow("enableResize",!1),"horizontal"===this.orientation&&this._fixWindowSize(a)},_dropHandler:function(a){this._getWindowOptions(a);"docked"===this.mode?this._dropDocked(a):this._dropFloating(a)},_dropDocked:function(a){var b=this._getWindowOptions(a),c=b.lastPosition;a.detach(),c.next[0]?a.insertBefore(c.next):c.prev[0]?a.insertAfter(c.prev):c.parent.append(a),this._dropFixer(a)},_fixWindowSize:function(b){a(b).jqxWindow({width:b.parent().width()-(b.outerWidth()-b.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(b){var c=b.data.self,d=a(b.currentTarget);c._setWindowOption(d,"size",{width:b.args.width,height:b.args.height}),c._cookieExporter()},_dropFloating:function(b){var c;a(b).jqxWindow("collapsed")||(c=this._getWindowOptions(b),a(b).jqxWindow("enableResize",c.resizable)),a(document.body).append(b),this._restoreWindowSize(b)},_restoreWindowSize:function(b){var c=this._getWindowOptions(b);a(b).jqxWindow({width:c.size.width})},_isMouseOverItem:function(a,b,c){if(!a)return!1;var d=a.outerWidth(!0),e=a.outerHeight(!0),f=a.width(),g=a.height(),h=a.offset().top,i=a.offset().left;return c&&(h-=(e-g)/2,i-=(d-f)/2,f=d,g=e),i<=b.x&&i+f>=b.x&&h<=b.y&&h+g+2*this._draggingItem.height()/3>=b.y},_cookieHandler:function(){if(this.cookies){var b=a.jqx.cookie.cookie("jqxDocking"+this.element.id);null!==b&&(this.importLayout(b),layoutImported=!0)}},_cookieExporter:function(){this.cookies&&a.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)},_indexOf:function(a,b){for(var c=0;c<b.length;c+=1)if(a[0]===b[c][0])return c;return-1},_exportFixed:function(){for(var b,c,d=[],e="",f=0;f<this._panels.length;f+=1){e+='"panel'+f+'": {',b=this._panels[f].children();for(var g=0;g<b.length;g+=1)c=a(b[g]),c.attr("id")&&(d.push(c),e+='"'+c.attr("id")+'":{"collapsed":'+c.jqxWindow("collapsed")+"},");b.length>1&&(e=e.substring(0,e.length-1)),e+="},"}return e=e.substring(0,e.length-1),{JSON:e,children:d}},_exportFloating:function(b){var c,d="";d+='"floating":{';for(var e=0;e<this._windows.length;e+=1)c=a(this._windows[e]),this._indexOf(c,b)===-1&&(d+='"'+c.attr("id")+'":{"x":"'+c.css("left")+'","y":"'+c.css("top")+'","width":"'+c.jqxWindow("width")+'","height":"'+c.jqxWindow("height")+'","collapsed":'+c.jqxWindow("collapsed")+"},");return","===d.substring(d.length-1,d.length)&&(d=d.substring(0,d.length-1)),d+="}"},_importFixed:function(b){for(var c in b)if("orientation"!==c&&"floating"!==c&&b.hasOwnProperty(c)){order=c.substring(c.length-1,c.length),order=parseInt(order,10),children=b[c];for(var c in children)a("#"+c).css("position","static"),children[c].collapsed&&!function(b){setTimeout(function(){a("#"+b).jqxWindow("collapsed",!0)},0)}(c),this._panels[order].append(a("#"+c)),"horizontal"===this.orientation&&this._fixWindowSize(a("#"+c))}},_importFloating:function(b){var c,d=b.floating;for(var e in d)d.hasOwnProperty(e)&&(a("#"+e).css("position","absolute"),a(document.body).append(a("#"+e)),c=this._dragging,a("#"+e).jqxWindow("move",d[e].x,d[e].y),this._dragging=c,a("#"+e).jqxWindow("width",d[e].width),a("#"+e).jqxWindow("height",d[e].height),a("#"+e).jqxWindow("enableResize",!0),this._setWindowsOptions(!0),function(b){setTimeout(function(){a("#"+b).jqxWindow("collapsed",d[b].collapsed)},0)}(e),a("#"+e).fadeTo(0,1))},_getWindowOptions:function(a){return"object"==typeof a&&null!==a&&(a=a.length>0?a.attr("id"):a.id),this._windowOptions[a]},_setWindowOption:function(a,b,c){"object"==typeof a&&null!==a&&(a=a.length>0?a.attr("id"):a.id),"undefined"==typeof this._windowOptions[a]&&(this._windowOptions[a]={}),this._windowOptions[a][b]=c,"mode"===b&&this.setWindowMode(a,c)},_expanded:function(a){var b=a.data.self;b._cookieExporter()},_collapsed:function(a){var b=a.data.self;b._cookieExporter()},_raiseEvent:function(b){var c=a.Event(this._events[b]);return c.args=arguments[1],this.host.trigger(c)},_moveWindow:function(b,c,d){var e=c.children(),f=null,g=0;a.each(e,function(c){"static"==a(this).css("position")&&(g==d&&this!=b[0]&&(f=this),g++)}),g<=d?b.appendTo(c):null!=f&&b.insertBefore(f),b.css("position","static")},propertyChangedHandler:function(b,c,d,e){switch(c){case"rtl":a.each(b._windows,function(){this.jqxWindow({rtl:e})});break;case"theme":a.each(b._windows,function(){this.jqxWindow({theme:e})});break;case"orientation":case"height":case"width":b._performLayout(),b._cookieExporter();break;case"panelsRoundedCorners":b._removeClasses(),b._addClasses();break;case"disabled":e?(b.disabled=!1,b.disable()):(b.disabled=!0,b.enable());break;case"windowsMode":case"mode":b._setWindowsOptions(!1);break;case"cookies":b._cookieExporter();break;case"windowsOffset":b._performLayout()}},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this._removeEventListeners();for(var b=0;b<this._windows.length;b++)this._windows[b].jqxWindow("destroy");this.windowsMode=null,this.cookieOptions=null,this._windowOptions=null,this._panels=null,this._windows=null,this._events=null,this.host.remove()},disable:function(){if(!this.disabled){this.disabled=!0,this._removeEventListeners();for(var b=0;b<this._windows.length;b+=1)this._windows[b][0].style.opacity="",a(this._windows[b]).jqxWindow("disable")}},enable:function(){if(this.disabled){this.disabled=!1,this._addEventListeners();for(var b=0;b<this._windows.length;b+=1)a(this._windows[b]).jqxWindow("enable")}},move:function(b,c,d){var c=this._panels[c];if(c){var e,f=a(c.children(".spacer"));f.detach(),b=a("#"+b),e=this._getWindowOptions(b),"floating"!==e.mode&&(this._moveWindow(b,c,d),c.append(f),this._cookieExporter(),this._dropFixer(b))}},exportLayout:function(){var a="{",b=this._exportFixed();return a+=b.JSON+","+this._exportFloating(b.children)+',"orientation": "'+this.orientation+'"',a+="}"},importLayout:function(b){try{var c=a.parseJSON(b);this.orientation=c.orientation,this._performLayout(),this._importFixed(c),this._importFloating(c)}catch(d){alert("Invalid JSON string.")}},setWindowMode:function(b,c){var b=a("#"+b),d=this._getWindowOptions(b);"floating"===c?(b.css("position","absolute"),this._windowOptions[b.attr("id")].mode=c):"floating"===d.mode&&"absolute"===b.css("position")&&(d.lastPosition?this._dropDocked(b):(this._panels[0].append(b),this._dropFixer(b))),this._windowOptions[b.attr("id")].mode=c},hideCloseButton:function(b){a("#"+b).jqxWindow("showCloseButton",!1)},showCloseButton:function(b){a("#"+b).jqxWindow("showCloseButton",!0)},hideCollapseButton:function(b){a("#"+b).jqxWindow("showCollapseButton",!1)},showCollapseButton:function(b){a("#"+b).jqxWindow("showCollapseButton",!0)},expandWindow:function(b,c){a("#"+b).jqxWindow("expand",c)},collapseWindow:function(b,c){a("#"+b).jqxWindow("collapse",c)},setWindowProperty:function(b,c,d){a("#"+b).jqxWindow(c,d)},getWindowProperty:function(b,c){return a("#"+b).jqxWindow(c)},setWindowPosition:function(b,c,d){var b=a("#"+b),e=this._getWindowOptions(b);"floating"===e.mode&&(b.css("position","absolute"),a(b).jqxWindow("move",c,d,null,!1))},hideAllCloseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCloseButton",!1)},hideAllCollapseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCollapseButton",!1)},showAllCloseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCloseButton",!0)},showAllCollapseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCollapseButton",!0)},pinWindow:function(b){a("#"+b).jqxWindow("draggable",!1)},unpinWindow:function(b){a("#"+b).jqxWindow("draggable",!0)},setDraggingMode:function(b){var c=a("#"+b);this._prepareForDragging(c),c.fadeTo(0,1)},enableWindowResize:function(b){b=a("#"+b),"absolute"===b.css("position")&&(this._setWindowOption(b,"resizable",!0),b.jqxWindow("enableResize",!0))},disableWindowResize:function(b){b=a("#"+b),this._setWindowOption(b,"resizable",!1),b.jqxWindow("enableResize",!1)},addWindow:function(b,c,d,e){var f="#"+b;a(f).jqxWindow({keyboardNavigation:!1,rtl:this.rtl,theme:this.theme,enableResize:!1,width:a(f).css("width"),maxWidth:Number.MAX_VALUE}),this._panels[0].append(a(f)),this._windows.push(a(f)),c?this._setWindowOption(a(f),"mode",c):this._setWindowOption(a(f),"mode",this.mode),this._setWindowOption(a(f),"resizable",!0),this._setWindowOption(a(f),"size",{width:a(f).width(),height:a(f).height()}),"floating"==c?a(f).jqxWindow({enableResize:!0}):a(f).jqxWindow({enableResize:!1}),null!=this._panels[d]&&this._setWindowOption(a(f),"size",{width:this._panels[d].width(),height:this._panels[d].height()}),this._addEventListenersTo(a(f)),"undefined"!=typeof d&&"undefined"!=typeof e&&this.move(b,d,e),this._dropFixer(a(f))},closeWindow:function(b){a("#"+b).jqxWindow("closeWindow")}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxLayout","",{}),a.extend(a.jqx._jqxLayout.prototype,{defineInstance:function(){var b={width:null,height:null,minGroupWidth:100,minGroupHeight:100,layout:[],resizable:!0,contextMenu:!1,rtl:!1,events:["create","resize","pin","unpin","floatGroupClosed"]};return this===a.jqx._jqxLayout.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var b=this;b._originalElement=a(b.element.cloneNode(!0)),b._coordinates=[],b._oldIE=a.jqx.browser.msie&&a.jqx.browser.version<9,b._ie7=a.jqx.browser.msie&&a.jqx.browser.version<8,b._touchDevice=a.jqx.mobile.isTouchDevice(),"none"!==b.host.css("display")&&document.body.contains(b.element)===!0?(b._initiallyHidden=!1,b._initialization=!0,b.render()):b._initiallyHidden=!0,a.jqx.utilities.resize(this.host,function(){b._suppressResizeHandler!==!0&&(b._initiallyHidden===!0&&(b._initialization=!0),b.render(),b._initiallyHidden===!0&&(b.dockingLayout&&(b.dockingLayout._createOverlay(),b.dockingLayout._createEdgeOverlays()),b._initiallyHidden=!1))})},render:function(){var b,c,d=this,e=[];if(d._tabbedGroupsList=[],d.dockingLayout&&(d._overlayGroups=[],d._initialization===!1)){b=d.dockingLayout._overlay.detach(),c=d.dockingLayout._dropOverlayHelper.detach();for(var f=0;f<d.dockingLayout._edgeOverlays.length;f++)e.push(a(d.dockingLayout._edgeOverlays[f]).detach())}if(d._rendered===!0&&d._detachContent(d.layout[0].items),d.element.innerHTML="",!d.host.jqxRibbon)throw new Error("jqxLayout: Missing reference to jqxribbon.js.");if(d._setSize(),d._addClasses(),d._removeHandlers(),!d._rendered){if("layoutGroup"!==d.layout[0].type)throw new Error('jqxLayout: Invalid layout structure. The first member of the layout array has to be with type: "layoutGroup".');var g=d.layout[0].items[0].width,h=d.layout[0].items[0].height;g&&"string"==typeof g&&"%"===g.charAt(g.length-1)||h&&"string"==typeof h&&"%"===h.charAt(h.length-1)||(d.layout[0].initialPxWidth=d.element.offsetWidth,d.layout[0].initialPxHeight=d.element.offsetHeight,d._pxToPercent(d.layout[0],!0))}if(d._createLayout(d.layout,d.host,{type:"host"},0),d.resizable===!0&&(d._addResizeFeedbacks(),d._getGroupCoordinates(),d._addHandlers()),d.contextMenu===!0&&d._initMenu(),d._initialization===!0)d._initialization=!1,d._raiseEvent("0");else if(d.dockingLayout){if(d._ie7){a("body").append(b,c);for(var i=0;i<e.length;i++)a("body").append(e[i])}else{b.appendTo(d.host),c.appendTo(d.host);for(var j=0;j<e.length;j++)e[j].appendTo(d.host)}d.dockingLayout._trackFloatGroups()}for(var k=0;k<d._tabbedGroupsList.length;k++)d._validateTabbedGroup(d._tabbedGroupsList[k]);d._rendered||(d._rendered=!0)},refresh:function(a){a!==!0&&this.render()},destroy:function(){for(var b=this,c=b.host.find(".jqx-ribbon"),d=b.host.find(".jqx-window"),e=0,f=c.length;e<f;e++){var g=c[e];a(g).jqxRibbon("destroy")}for(var h=0,i=d.length;h<i;h++){var j=d[h];a(j).jqxWindow("destroy")}b._mouseupHandler=null,b._docUP=null,b._removeHandlers(),b.contextMenu===!0&&b._menu.jqxMenu("destroy"),b.host.remove()},saveLayout:function(){for(var a=this,b=[],c=0;c<a.layout.length;c++)a._copyItem(a.layout[c],b);return b},loadLayout:function(b){if(void 0!==b&&a.isEmptyObject(b)===!1){var c=this;c.layout=b,c._rendered=!1,c.render()}},propertyChangedHandler:function(b,c,d,e){if("layout"!==c){if(e!==d)switch(c){case"width":case"height":b.element.style[c]=b._toPx(e);break;case"theme":a.jqx.utilities.setTheme(d,e,b.host),b._menuInitialized&&a.jqx.utilities.setTheme(d,e,b._menu),b.dockingLayout&&a("."+b.element.id+"FloatGroup").length>0&&a("."+b.element.id+"FloatGroup").jqxWindow({theme:e});break;case"layout":case"resizable":b.render();break;case"contextMenu":e!==!0||b._menuInitialized||b.render();break;case"rtl":var f=e?"rtl":"ltr",g=e?"ltr":"rtl",h=function(c){for(var d=b._find(c,".jqx-layout-pseudo-window-title-"+g),h=b._find(c,".jqx-layout-pseudo-window-pin-background-"+g),i=b._find(c,".jqx-layout-pseudo-window-close-background-"+g),j=b._find(c,".jqx-layout-ribbon-header"),k=b._find(c,".jqx-ribbon"),l=0;l<d.length;l++){var m=a(d[l]);m.removeClass(b.toThemeProperty("jqx-layout-pseudo-window-title-"+g)),m.addClass(b.toThemeProperty("jqx-layout-pseudo-window-title-"+f))}for(var n=0;n<h.length;n++){var o=a(h[n]);o.removeClass(b.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+g)),o.addClass(b.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+f))}for(var p=0;p<i.length;p++){var q=a(i[p]);q.removeClass(b.toThemeProperty("jqx-layout-pseudo-window-close-background-"+g)),q.addClass(b.toThemeProperty("jqx-layout-pseudo-window-close-background-"+f))}for(var r=0;r<j.length;r++){var s=a(j[r]);s.removeClass(b.toThemeProperty("jqx-layout-ribbon-header-"+g)),s.addClass(b.toThemeProperty("jqx-layout-ribbon-header-"+f))}for(var t=0;t<k.length;t++)a(k[t]).jqxRibbon({rtl:e})};if(h(b.host),b.dockingLayout)for(var i=b._find(document.body,"."+b.element.id+"FloatGroup"),j=0;j<i.length;j++){var k=a(i[j]);h(k),k.jqxWindow({rtl:e})}}}else b.render()},_raiseEvent:function(b,c){void 0===c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,e.args=c,e.preventDefault&&e.preventDefault();var f=this.host.trigger(e);return f},_setSize:function(){var a=this;a.element.style.width=a._toPx(a.width),a.element.style.height=a._toPx(a.height)},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-layout jqx-widget jqx-widget-content jqx-rc-all"))},_getPercentage:function(a,b,c){return a/b.widget[c]()*100},_addHandlers:function(){function b(a,b){for(var c=0;c<i._coordinates.length;c++){var d=i._coordinates[c];if(a>=d.x.from&&a<=d.x.to&&b>=d.y.from&&b<=d.y.to){"horizontal"===d.orientation?i.element.style.cursor="col-resize":i.element.style.cursor="row-resize",i._resize={allowed:!0,widget:d.widget,side:d.side};break}i.element.style.cursor="default",i._resize.allowed=!1}}function c(a){if(i._resize.allowed===!0){var b=i._resize.widget,c=b.current.parent,d=i._percentToPx("width",b.current.minWidth,c),e=i._percentToPx("height",b.current.minHeight,c),f=c.items[b.current.index-1],j=c.items[b.current.index+1];switch(i._resizeStartPosition={x:a.pageX,y:a.pageY},d||(d=i._percentToPx("width",i.minGroupWidth,c)),d=Math.min(d,b.width()),b.current.minWidth=d,e||(e=i._percentToPx("height",i.minGroupHeight,c)),e=Math.min(e,b.height()),b.current.minHeight=e,i._resize.side){case"left":var k=i._percentToPx("width",f.minWidth,c);k||(k=i._percentToPx("width",i.minGroupWidth,c)),g=f.widget.offset().left+k,h=b.offset().left+b.width()-d;break;case"right":var l=i._percentToPx("width",j.minWidth,c);l||(l=i._percentToPx("width",i.minGroupWidth,c)),g=b.offset().left+d,h=j.widget.offset().left+j.widget.width()-l;break;case"top":var m=i._percentToPx("height",f.minHeight,c);m||(m=i._percentToPx("height",i.minGroupHeight,c)),g=f.widget.offset().top+m,h=b.offset().top+b.height()-e;break;case"bottom":var n=i._percentToPx("height",j.minHeight,c);n||(n=i._percentToPx("height",i.minGroupHeight,c)),g=b.offset().top+e,h=j.widget.offset().top+j.widget.height()-n}var o,p=function(a,b){if(b="undefined"==typeof b?{top:0,left:0}:b,a!==top){var c=a.frameElement.getBoundingClientRect();b.left+=c.left,b.top+=c.top,b=p(a.parent,b)}return b};i._clickedToResize=!0,i._overlay[0].style.display="block","left"===i._resize.side||"right"===i._resize.side?(i._verticalFeedback[0].style.height=i._resize.widget.height()+"px",o=i._ie7?p(window).top:0,i._verticalFeedback.offset({top:i._resize.widget.offset().top-i.host.offset().top+document.body.scrollTop-o})):(i._horizontalFeedback[0].style.width=i._resize.widget.width()+"px",o=i._ie7?p(window).left:0,i._horizontalFeedback.offset({left:i._resize.widget.offset().left-i.host.offset().left+document.body.scrollLeft+1-o}))}}function d(a,b,c,d,e){var f,g,h=e.charAt(0).toUpperCase()+e.slice(1),j=b.parent;return a?(f=i._percentToPx(e,c["min"+h],j),g=parseFloat(c[e])/100*b.parent.widget[e]()-d):(f=i._percentToPx(e,b["min"+h],j),g=parseFloat(b[e])/100*b.parent.widget[e]()-d),f||(f=i._percentToPx(e,i["minGroup"+h],j)),g<f?f:g}function e(a){if(i._clickedToResize===!0){var b,c,e,f,g,h,j=function(){i._clickedToResize=!1,i._overlay[0].style.display="none",i._verticalFeedback[0].style.display="none",i._horizontalFeedback[0].style.display="none"},k=a.pageX,l=a.pageY,m=i._resize.widget.current,n=i._resize.widget.offset(),o=n.left,p=n.top;if(a.pageX===i._resizeStartPosition.x&&a.pageY===i._resizeStartPosition.y)return void j();if("left"===i._resize.side||"right"===i._resize.side){if(h=m.width,"left"===i._resize.side?(b=m.parent.items[m.index-1],c=o,e=k<c):(b=m.parent.items[m.index+1],c=o+m.widget.width(),e=k>=c),f=Math.abs(k-c),0===f)return void j();if(e?(g=i._getPercentage(d(!0,m,b,f,"width"),m.parent,"width"),f=Math.abs(g-parseFloat(b.width)),b.width=g+"%",m.width=parseFloat(m.width)+f+"%"):(g=i._getPercentage(d(!1,m,b,f,"width"),m.parent,"width"),f=Math.abs(g-parseFloat(m.width)),m.width=g+"%",b.width=parseFloat(b.width)+f+"%"),m.width===h)return void j()}else{if(h=m.height,"top"===i._resize.side?(b=m.parent.items[m.index-1],c=p,e=l<c):(b=m.parent.items[m.index+1],c=p+m.widget.height(),e=l>=c),f=Math.abs(l-c),0===f)return void j();if(e?(g=i._getPercentage(d(!0,m,b,f,"height"),m.parent,"height"),f=Math.abs(g-parseFloat(b.height)),b.height=g+"%",m.height=parseFloat(m.height)+f+"%"):(g=i._getPercentage(d(!1,m,b,f,"height"),m.parent,"height"),f=Math.abs(g-parseFloat(m.height)),m.height=g+"%",b.height=parseFloat(b.height)+f+"%"),m.height===h)return void j()}j(),i.render(),i._raiseEvent("1",{item:m})}}function f(a){if(i._clickedToResize===!0){var b=a.pageX,c=a.pageY;"left"===i._resize.side||"right"===i._resize.side?(i._verticalFeedback[0].style.display="block",b<g?(b=g,i._verticalFeedback.addClass(i.toThemeProperty("jqx-layout-resize-feedback-warning"))):b>h?(b=h,i._verticalFeedback.addClass(i.toThemeProperty("jqx-layout-resize-feedback-warning"))):i._verticalFeedback.removeClass(i.toThemeProperty("jqx-layout-resize-feedback-warning")),i._verticalFeedback.offset({left:b-2})):(i._horizontalFeedback[0].style.display="block",c<g?(c=g,i._horizontalFeedback.addClass(i.toThemeProperty("jqx-layout-resize-feedback-warning"))):c>h?(c=h,i._horizontalFeedback.addClass(i.toThemeProperty("jqx-layout-resize-feedback-warning"))):i._horizontalFeedback.removeClass(i.toThemeProperty("jqx-layout-resize-feedback-warning")),i._horizontalFeedback.offset({top:c-2}),i._horizontalFeedback.offset({left:i._resize.widget.offset().left+document.body.scrollLeft+1}))}}var g,h,i=this,j=i.element.id;if(i._resize={allowed:!1},i._clickedToResize=!1,i._docUP=e,i._touchDevice?(i.addHandler(a(document),"touchstart.jqxDockingLayout"+j,function(a){var d=a.originalEvent.touches[0];b(d.pageX,d.pageY),c(d)}),i.addHandler(a(document),"touchmove.jqxDockingLayout"+j,function(a){var b=a.originalEvent.touches[0];f(b)}),i.addHandler(a(document),"touchend.jqxDockingLayout"+j,function(a){var b=a.originalEvent.changedTouches[0];e(b)})):(i.addHandler(i.host,"mousemove.jqxLayout"+j,function(a){if(i._clickedToResize===!1&&(!i.dockingLayout||i.dockingLayout&&i.dockingLayout._windowDragged!==!0)){var c=a.pageX,d=a.pageY;b(c,d)}}),i.addHandler(a(document),"mousemove.jqxLayout"+j,function(a){f(a)}),i.addHandler(i.host,"mousedown.jqxLayout"+j,function(a){c(a)}),i.addHandler(a(document),"mouseup.jqxLayout"+j,function(a){e(a)})),i.addHandler(a(document),"selectstart.jqxLayout"+j,function(){if(i._clickedToResize===!0)return!1}),i.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i._mouseupHandler,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i._mouseupHandler))}catch(k){}},_removeHandlers:function(){var b=this,c=b.element.id;if(b._touchDevice?(b.removeHandler(a(document),"touchstart.jqxLayout"+c),b.removeHandler(a(document),"touchmove.jqxLayout"+c),b.removeHandler(a(document),"touchend.jqxLayout"+c)):(b.removeHandler(b.host,"mousemove.jqxLayout"+c),b.removeHandler(a(document),"mousemove.jqxLayout"+c),b.removeHandler(b.host,"mousedown.jqxLayout"+c),b.removeHandler(a(document),"mouseup.jqxLayout"+c)),b.removeHandler(a(document),"selectstart.jqxLayout"+c),b.dockingLayout)try{(""!==document.referrer||window.frameElement)&&(window.top.document.removeEventListener?window.top.document.removeEventListener("mouseup",b._mouseupHandler,!1):window.top.document.detachEvent&&window.top.document.detachEvent("onmouseup",b._mouseupHandler))}catch(d){}if(b._oldIE)a("."+c+"FloatGroup").off("close");else for(var e=document.body.querySelectorAll("."+c+"FloatGroup"),f=0;f<e.length;f++)b.removeHandler(e[f],"close")},_createLayout:function(b,c,d){function e(a){var b=c.children(),d=b[0],e=b[1];if(d.innerHTML=a.title,a.content)m=a.content;else{var g=f._find(f._originalElement,'[data-container="'+a.contentContainer+'"]')[0];m=void 0!==g?g.innerHTML:""}void 0===m&&(m=""),e.innerHTML=m}for(var f=this,g=d.type,h=0;h<b.length;h++){var i,j,k,l,m,n,o,p,q=b[h];switch(q.type){case"layoutGroup":if(i=document.createElement("div"),k="jqx-layout-group-default","horizontal"===q.orientation&&(k+=" jqx-layout-group-default-horizontal"),"host"===g)k+=" jqx-layout-group-root";else{var r="horizontal"===d.orientation?q.width:"100%",s="horizontal"===d.orientation?"100%":q.height;i.style.width=f._toPx(r),i.style.height=f._toPx(s)}i.className=f.toThemeProperty(k),c[0].appendChild(i),j=a(i);break;case"tabbedGroup":"floatGroup"!==g?(j=document.createElement("div"),j.className=f.toThemeProperty("jqx-layout-group-tabbed"),j.innerHTML='<div class="jqx-layout-window-header"><div></div></div><div><div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(f.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div></div>',c[0].appendChild(j),j=a(j),f._addRightClickHandler(f._find(j,".jqx-layout-window-header")[0],j)):(j=document.createElement("div"),j.className="jqx-layout-ribbon",j.innerHTML='<ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(f.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div>',c.children()[1].appendChild(j),j=a(j));break;case"documentGroup":case"autoHideGroup":i=document.createElement("div");var t="";"documentGroup"===q.type&&(t="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(f.rtl?"rtl":"ltr")),i.innerHTML='<ul class="'+t+'"></ul><div></div>',f._ie7&&"autoHideGroup"===q.type&&(i.style.zIndex=9999-500*h),c[0].appendChild(i),j=a(i);break;case"floatGroup":if(f._rendered&&q.programmaticallyAdded!==!0)continue;if(!f.dockingLayout)throw new Error("Float groups are only available in the jqxDockingLayout widget. Initialize a jqxDockingLayout (requires jqxdockinglayout.js) instead of a jqxLayout.");j=document.createElement("div"),j.className=f.toThemeProperty("jqx-docking-layout-group-floating"),j.innerHTML="<div></div><div></div>",c[0].appendChild(j),j=a(j),q.programmaticallyAdded===!0&&delete q.programmaticallyAdded;break;case"layoutPanel":if(j={},"tabbedGroup"===g){var u=f._find(c,".jqx-layout-window-header")[0];if(u){var v=a(u).text();""===v&&(u.firstChild.innerHTML=q.title)}if(o=document.createElement("li"),o.innerHTML=q.title,f._find(c,".jqx-layout-ribbon-header")[0].appendChild(o),f._rendered||q.docked?m=q.detachedContent:(l=f._find(f._originalElement,'[data-container="'+q.contentContainer+'"]')[0],m=void 0!==l?l.innerHTML:""),n=document.createElement("div"),"string"==typeof m)n.innerHTML=m;else for(var w=0;w<m.length;w++)a(m[w]).appendTo(n);f._find(c,".jqx-layout-ribbon-content")[0].appendChild(n),f._addRightClickHandler(o,j)}else if("autoHideGroup"===g){if(p=c.children(),o=document.createElement("li"),o.innerHTML=q.title,p[0].appendChild(o),f._rendered?m=q.detachedContent:(l=f._find(f._originalElement,'[data-container="'+q.contentContainer+'"]')[0],m=void 0!==l?l.innerHTML:""),n=document.createElement("div"),"string"==typeof m)n.innerHTML=m;else for(var x=0;x<m.length;x++)m[x].appendTo(n);var y;"left"===d.alignment||"right"===d.alignment?(void 0!==d.popupContentSize&&(n.style.width=parseInt(d.popupContentSize,10)+"px"),y="jqx-layout-group-auto-hide-content-vertical"):(void 0!==d.popupContentSize&&(n.style.height=parseInt(d.popupContentSize,10)+"px"),y="jqx-layout-group-auto-hide-content-horizontal"),n.className=f.toThemeProperty(y);var z=document.createElement("div"),A=document.createElement("div");A.className="jqx-layout-window",A.innerHTML="<div><div>"+q.title+"</div></div>",A.appendChild(n),z.appendChild(A),p[1].appendChild(z),f._addRightClickHandler(A,j)}else"floatGroup"===g&&e(q);break;case"documentPanel":if(j={},"floatGroup"===g)e(q);else{if(p=c.children(),o=document.createElement("li"),o.innerHTML=q.title,p[0].appendChild(o),f._rendered||q.docked?m=q.detachedContent:(l=f._find(f._originalElement,'[data-container="'+q.contentContainer+'"]')[0],m=void 0!==l?l.innerHTML:""),n=document.createElement("div"),"string"==typeof m)n.innerHTML=m;else for(var B=0;B<m.length;B++)m[B].appendTo(n);p[1].appendChild(n),f._addRightClickHandler(o,j)}}if(q.items&&q.items.length>0){var C=j;f._createLayout(q.items,C,q)}if(f._createWidget(d,c,q,j,h),f.dockingLayout&&("documentGroup"===q.type||"tabbedGroup"===q.type||"layoutGroup"===q.type&&0===q.items.length)){var D={element:j,width:j.width(),height:j.height(),offset:j.offset(),settings:q};f._overlayGroups.push(D),"floatGroup"===q.parent.type&&(q.parent._overlayGroup=D)}}},_createWidget:function(b,c,d,e,f){function g(){for(var a=0,b=0;b<d.items.length;b++)if(d.items[b].selected===!0){a=b;break}return d.items[a].selected=!0,a}var h=this,i="horizontal"===b.orientation?d.width:"100%",j="horizontal"===b.orientation?"100%":d.height,k=!1;switch(d.parent=b,d.widget=e,d.index=f,d.widget&&(d.widget.current=d),d.type){case"tabbedGroup":var l,m;"floatGroup"!==b.type?(l=h._initWindowPanel(e,i,j,d.type),m=a(h._find(e,".jqx-layout-ribbon")[0]),h._tabbedGroupsList.push(d)):m=e,h.dockingLayout&&d.allowDrag!==!1&&(k=!0),m.jqxRibbon({theme:h.theme,width:"100%",height:"100%",position:"bottom",selectionMode:"click",animationType:"none",rtl:h.rtl,_roundedCorners:!1,initContent:function(b){var c=d.items[b];!c.initialized&&c.initContent&&(c.initContent(a(this._contentSections[b])),c.initialized=!0)},_removeByDrag:k,reorder:!0,_suppressReorder:!1}),m.on("select",function(c){if(c.stopPropagation(),c.target.id===m[0].id){c.stopPropagation();var e=c.args.selectedIndex;d.items[e].selected=!0;var f=a(a(m.children()[1]).children()[e]).text();"floatGroup"!==b.type?l[0].innerHTML=f:h._find(b.widget,".jqx-window-header")[0].firstChild.innerHTML=f}}),m.on("unselect",function(a){a.stopPropagation(),a.target.id===m[0].id&&(d.items[a.args.unselectedIndex].selected=!1)}),m.on("reorder",function(a){h._swapPanelsInLayout(d.items,a.args.newIndex,a.args.oldIndex);var b=a.args.newIndex;setTimeout(function(){d.items[b]&&h._addRightClickHandler(h._find(m,".jqx-ribbon-item")[b],d.items[b].widget)},200)}),k&&(m.on("_removeByDrag",function(a){h.dockingLayout._removeByDragHandler(a,d,m),"floatGroup"===d.parent.type&&1===d.items.length&&m.jqxRibbon({_removeByDrag:!1})}),"floatGroup"!==d.parent.type&&h.dockingLayout._addTabbedGroupHandlers(d,e)),m.jqxRibbon("selectAt",g());break;case"documentGroup":h.dockingLayout&&d.allowDrag!==!1&&(k=!0),e.jqxRibbon({theme:h.theme,width:i,height:j,_roundedCorners:!1,position:"top",selectedIndex:g(),selectionMode:"click",animationType:"none",rtl:h.rtl,initContent:function(b){var c=d.items[b];!c.initialized&&c.initContent&&(c.initContent(a(this._contentSections[b])),
c.initialized=!0)},_removeByDrag:k,reorder:!0,_suppressReorder:!1}),e.on("select",function(a){a.stopPropagation(),a.target.id===e[0].id&&(d.items[a.args.selectedIndex].selected=!0)}),e.on("unselect",function(a){a.stopPropagation(),a.target.id===e[0].id&&(d.items[a.args.unselectedIndex].selected=!1)}),e.on("reorder",function(a){h._swapPanelsInLayout(d.items,a.args.newIndex,a.args.oldIndex);var b=a.args.newIndex;setTimeout(function(){h._addRightClickHandler(h._find(e,".jqx-ribbon-item")[b],d.items[b].widget)},200)}),k&&e.on("_removeByDrag",function(a){h.dockingLayout._removeByDragHandler(a,d,e)}),e.addClass(h.toThemeProperty("jqx-layout-group-document"));break;case"autoHideGroup":e.jqxRibbon({theme:h.theme,width:i,height:j,mode:"popup",popupCloseMode:"click",position:d.alignment,selectionMode:"click",animationType:"none",_roundedCorners:!1,rtl:h.rtl,initContent:function(b){var c=a(this._contentSections[b]),f=a(h._find(c,".jqx-layout-window")[0]);f.current=e.current.items[b],f[0].style.border="none",h._initWindowPanel(f,"100%","100%",d.type),!d.items[b].initialized&&d.items[b].initContent&&(d.items[b].initContent(a(f.children()[1])),d.items[b].initialized=!0)}}),e.addClass(h.toThemeProperty("jqx-layout-group-auto-hide"));break;case"floatGroup":e.addClass(h.element.id+"FloatGroup"),e.jqxWindow({theme:h.theme,width:d.width,maxWidth:null,height:d.height,maxHeight:null,position:{x:d.position.x,y:d.position.y},showCloseButton:d.allowClose!==!1,closeButtonAction:"close",rtl:h.rtl,initContent:function(){var a=this._header,b=h._touchDevice?"touchstart":"mousedown",c=".jqxLayout"+h.element.id;if(h.addHandler(a,b+c,function(){h.dockingLayout._windowDragged=!0,d._overlayGroup&&(d._overlayGroup.self=!0),h.dockingLayout._interval(),h.resizable&&(h._overlay[0].style.display="block");var a,b,c;"documentPanel"===d.items[0].type?(a={type:"documentGroup"},b=d.items[0],c=b.title):"layoutPanel"===d.items[0].type?(a={type:"tabbedGroup"},b=d.items[0],c=b.title):"tabbedGroup"===d.items[0].type&&(a=d.items[0]),h.dockingLayout._draggedWindow={fromGroup:a,fromPanel:b,title:c,element:e},h.dockingLayout._showEdgeOverlays()}),h.addHandler(a,"mouseup"+c,function(){h.dockingLayout._hideOverlays()}),"tabbedGroup"===d.items[0].type){for(var f=0,g=0;g<d.items[0].items.length;g++)if(d.items[0].items[g].selected){f=g;break}var i=d.items[0].items[f].title;e.jqxWindow("setTitle",i)}else d.items[0].initContent&&d.items[0].initContent(this._content)}}),e.on("moved",function(a){d.position.x=a.args.x,d.position.y=a.args.y,d._overlayGroup&&h.dockingLayout._updateOverlayGroup(d._overlayGroup),h.dockingLayout._windowCreate=!1,h.dockingLayout._hideOverlays(),h.dockingLayout._clearTextSelection()}),e.on("resized",function(b){d.width=b.args.width,d.height=b.args.height;var c=a(this).offset();d.position.x=c.left,d.position.y=c.top,d._overlayGroup&&h.dockingLayout._updateOverlayGroup(d._overlayGroup)}),e.on("close",function(a){a.stopPropagation(),a.target.id===e[0].id&&(h._raiseEvent("4",{element:e,floatGroup:e.current}),e.current._overlayGroup&&(e.current._overlayGroup.removed=!0,h.dockingLayout._updateOverlayGroups()),h.dockingLayout._removeFloatGroupObject(e.current))})}},_initWindowPanel:function(b,c,d,e){function f(){return g.dockingLayout?"layoutPanel"===b.current.type?void 0===b.current.parent.allowClose||b.current.parent.allowClose===!0:void 0===b.current.allowClose||b.current.allowClose===!0:"layoutPanel"===b.current.type?b.current.parent.allowClose===!0:b.current.allowClose===!0}var g=this;if(b.addClass(g.toThemeProperty("jqx-widget jqx-widget-content jqx-window jqx-layout-pseudo-window jqx-rc-all")),g._ie7){var h=b.parent();if("tabbedGroup"===e){var i,j,k=parseInt(b.css("border-left-width"),10),l=parseInt(b.css("border-right-width"),10),m=parseInt(b.css("border-top-width"),10),n=parseInt(b.css("border-bottom-width"),10);i="100%"===c?h.width():parseFloat(c)/100*h.width(),i-=k+l,j="100%"===d?h.height():parseFloat(d)/100*h.height(),j-=m+n,b.css({width:i,height:j})}else"autoHideGroup"===e&&b.css({width:c,height:d})}else b[0].style.width=c,b[0].style.height=d;var o=g.rtl?"rtl":"ltr",p=a(b[0].firstChild),q=a(p[0].firstChild);q.addClass(g.toThemeProperty("jqx-layout-pseudo-window-title jqx-layout-pseudo-window-title-"+o)),p.addClass(g.toThemeProperty("jqx-widget-header jqx-window-header jqx-disableselect jqx-layout-pseudo-window-header")),g._ie7&&(p.css("width",p.width()-parseInt(p.css("padding-left"),10)-parseInt(p.css("padding-right"),10)),p.css("height",p.height()-parseInt(p.css("padding-top"),10)-parseInt(p.css("padding-bottom"),10)));var r,s,t=0;if(f()&&(r=document.createElement("div"),r.className=g.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-close-background jqx-layout-pseudo-window-close-background-"+o),r.setAttribute("title","Close"),r.innerHTML='<div class="'+g.toThemeProperty("jqx-window-close-button jqx-icon-close jqx-layout-pseudo-window-close-icon")+'"></div>',p[0].appendChild(r),t+=16),"tabbedGroup"===e&&b.current.allowPin!==!1||"autoHideGroup"===e&&b.current.parent.allowUnpin!==!1){var u;switch(e){case"tabbedGroup":u="jqx-layout-pseudo-window-pin-icon",b.pinned=!1;break;case"autoHideGroup":u="jqx-layout-pseudo-window-pinned-icon",b.pinned=!0}s=document.createElement("div"),s.className=g.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-pin-background"),s.setAttribute("title","Auto Hide"),s.innerHTML='<div class="'+g.toThemeProperty(u)+'"></div>',r?s.className+=" "+g.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+o):g.rtl===!1&&(s.style.right="0px"),p[0].appendChild(s),t+=16,g.dockingLayout&&"autoHideGroup"===e&&g.dockingLayout._addAutoHideGroupHandlers(b.current,p,b.current.title,b.children()[1])}q[0].style.maxWidth=g._toPx(p.width()-t);var v=b.children()[1];return v.style.height=g._toPx(1+b.height()-p.outerHeight()),v.style.marginLeft="-1px",v.style.marginRight="-1px",g._addWindowPanelHandlers(r,s,b),q},_addWindowPanelHandlers:function(a,b,c){var d=this,e=d.element.id,f=c.current,g=f.type;a&&d.addHandler(a,"click.jqxLayout"+e,function(){if("tabbedGroup"===g&&f.items.length>1){var a=d._find(c,".jqx-ribbon-item-selected")[0]._index;d._close(f.items[a])}else c.initAnimate&&c.initAnimate(),c.fadeOut({complete:function(){d._close(f),c.remove()}})}),b&&d.addHandler(b,"click.jqxLayout"+e,function(){"tabbedGroup"===g&&f.pinValid===!0?d._pin(f):"layoutPanel"===g&&d._unPin(f.parent)})},_getGroupCoordinates:function(){function a(a){return"layoutGroup"===a||"tabbedGroup"===a||"documentGroup"===a}function b(d){for(var e=0;e<d.length;e++){var f=d[e];if(a(f.type)){var g,h,i,j,k,l=d[e-1],m=d[e+1],n=f.widget.offset();l&&a(l.type)&&("horizontal"===f.parent.orientation?(g=n.left-5,h=g+10,i=n.top-5,j=i+f.widget.height()+10,k="left"):(g=n.left-5,h=g+f.widget.width()+10,i=n.top-5,j=i+10,k="top"),c._coordinates.push({x:{from:g,to:h},y:{from:i,to:j},widget:f.widget,side:k,orientation:f.parent.orientation})),m&&a(m.type)&&("horizontal"===f.parent.orientation?(g=n.left+f.widget.width()-5,h=g+10,i=n.top-5,j=i+f.widget.height()+10,k="right"):(g=n.left-5,h=g+f.widget.width()+10,i=n.top+f.widget.height()-5,j=i+10,k="bottom"),c._coordinates.push({x:{from:g,to:h},y:{from:i,to:j},widget:f.widget,side:k,orientation:f.parent.orientation})),f.items&&b(f.items)}}}var c=this;c._coordinates=[],b(c.layout[0].items)},_close:function(b){var c,d=this;if(b.removed=!0,"tabbedGroup"===b.type||"autoHideGroup"===b.type||"documentGroup"===b.type){if(c="tabbedGroup"===b.type?a(d._find(b.widget,".jqx-ribbon")[0]):b.widget,c.jqxRibbon("destroy"),b.parent.items){var e=b.parent.items[b.index-1],f=b.parent.items[b.index+1],g="vertical"===b.parent.orientation?"height":"width",h=function(a){var c=parseFloat(a[g])+parseFloat(b[g])+"%";"documentGroup"===a.type?"height"===g?a.widget.jqxRibbon({height:c}):a.widget.jqxRibbon({width:c}):"layoutGroup"!==a.type&&"tabbedGroup"!==a.type||(a.widget[0].style[g]=c),a[g]=c,d._raiseEvent("1",{item:a})};e&&"autoHideGroup"!==e.type&&"floatGroup"!==e.type?h(e):f&&"autoHideGroup"!==f.type&&"floatGroup"!==f.type&&h(f)}}else if("layoutPanel"===b.type){if("tabbedGroup"===b.parent.type)return c=a(d._find(b.parent.widget,".jqx-ribbon")[0]),c.jqxRibbon("removeAt",b.index),d._updateLayout(d.layout),void(0===b.index?c.jqxRibbon("selectAt",0):c.jqxRibbon("selectAt",b.index-1));if("autoHideGroup"===b.parent.type){c=b.parent.widget,c.jqxRibbon("removeAt",b.index);for(var i=c.children(),j=0,k=0;k<i.length;k++)if("ul"===i[k].nodeName.toLowerCase()){j=a(i[k]).children().length;break}0===j&&d._close(c.current)}}d._updateLayout(d.layout),d.render()},_updateLayout:function(a){for(var b=0;b<a.length;b++)if(a[b].removed===!0){a.splice(b,1);for(var c=0;c<a.length;c++)a[c].index=c}else a[b].items&&this._updateLayout(a[b].items)},_pin:function(b){var c,d,e,f=this,g=b.parent;if(b.alignment)c=b.alignment;else{var h=Math.abs(b.parent.items.length-1-b.index),i=Math.abs(0-b.index);c=i<h?"horizontal"===b.parent.orientation?"left":"top":"horizontal"===b.parent.orientation?"right":"bottom"}var j="top"===c||"left"===c?b.index+1:b.index-1;"left"===c||"right"===c?(d="width",e=b.pinnedWidth):(d="height",e=b.pinnedHeight),"number"==typeof e&&(e=f._getPercentage(e,g,d)+"%"),e||("width"===d?e=8e3/b.parent.widget.width()+"%":"height"===d&&(e=3e3/b.parent.widget.height()+"%")),f._detachContent(b.items,!0);var k={type:"autoHideGroup",alignment:c,items:b.items};k[d]=e,k["min"+d.charAt(0).toUpperCase()+d.slice(1)]=b["min"+d.charAt(0).toUpperCase()+d.slice(1)],k["unpinned"+d.charAt(0).toUpperCase()+d.slice(1)]=b[d],k.allowDrag=b.allowDrag,k.allowDrop=b.allowDrop,k.allowClose=b.allowClose;for(var l=0;l<k.items.length;l++)k.items[l].allowClose=b.allowClose;b.popupContentSize&&(k.popupContentSize=b.popupContentSize);var m=g.items[j];m[d]=parseFloat(m[d])+parseFloat(b[d])-parseFloat(e)+"%",g.items.splice(b.index,0,k),b.removed=!0,a(f._find(b.widget,".jqx-ribbon")[0]).jqxRibbon("destroy"),b.widget.remove(),f._updateLayout(f.layout),f.render(),f._raiseEvent("1",{item:m}),f._raiseEvent("2",{item:k})},_unPin:function(a){var b,c,d,e=this,f=a.parent,g=a.alignment,h="top"===g||"left"===g?a.index+1:a.index-1,i=f.items[h];"left"===g||"right"===g?(b="width",c=a.unpinnedWidth):(b="height",c=a.unpinnedHeight),c||(c="10%"),e._detachContent(a.items,!0);var j={type:"tabbedGroup",alignment:g,items:a.items};if(j["pinned"+b.charAt(0).toUpperCase()+b.slice(1)]=a[b],j.allowDrag=a.allowDrag,j.allowDrop=a.allowDrop,j.allowClose=a.allowClose,a.popupContentSize&&(j.popupContentSize=a.popupContentSize),i){var k=parseFloat(i[b])+parseFloat(a[b])-parseFloat(c)+"%",l=i["min"+b.charAt(0).toUpperCase()+b.slice(1)];l||(l=e["minGroup"+b.charAt(0).toUpperCase()+b.slice(1)]),parseFloat(k)<e._getPercentage(l,f,b)?(c=a[b],k=e._getPercentage(l,f,b)+"%",j["min"+b.charAt(0).toUpperCase()+b.slice(1)]=a.widget.width()):j["min"+b.charAt(0).toUpperCase()+b.slice(1)]=a["min"+b.charAt(0).toUpperCase()+b.slice(1)],j[b]=c,i[b]=k,d=i}else j["min"+b.charAt(0).toUpperCase()+b.slice(1)]=a["min"+b.charAt(0).toUpperCase()+b.slice(1)],j[b]="100%",d=j;f.items.splice(a.index,0,j),a.removed=!0,a.widget.jqxRibbon("destroy"),e._updateLayout(e.layout),e.render(),e._raiseEvent("1",{item:d}),e._raiseEvent("3",{item:j})},_copyItem:function(a,b){var c={};for(var d in a)if(a.hasOwnProperty(d)&&"parent"!==d&&"widget"!==d&&"initialized"!==d)if("position"===d)c.position={x:a.position.x,y:a.position.y};else if("items"===d){for(var e=[],f=0;f<a.items.length;f++)this._copyItem(a.items[f],e);c.items=e}else c[d]=a[d];b.push(c)},_addResizeFeedbacks:function(){var b=this;b._horizontalFeedback=document.createElement("div"),b._horizontalFeedback.className=b.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-horizontal"),b._verticalFeedback=document.createElement("div"),b._verticalFeedback.className=b.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-vertical"),b._overlay=document.createElement("div"),b._overlay.className=b.toThemeProperty("jqx-layout-overlay"),b.dockingLayout&&b.dockingLayout._windowDragged&&(b._overlay.style.display="block"),b.element.appendChild(b._horizontalFeedback),b.element.appendChild(b._verticalFeedback),b.element.appendChild(b._overlay),b._horizontalFeedback=a(b._horizontalFeedback),b._verticalFeedback=a(b._verticalFeedback),b._overlay=a(b._overlay)},_detachContent:function(b,c){function d(b){if(b.prevent===!0)b.prevent=!1;else{var d=e._find(b.parent.widget,".jqx-ribbon-content-section")[b.index];g=e._detachChildNodes(d),a(d).remove(),b.detachedContent=g,c===!0&&(b.prevent=!0)}}for(var e=this,f=b.length-1;f>=0;f--){var g,h=b[f],i=h.type;if("layoutGroup"===i||"tabbedGroup"===i||"documentGroup"===i||"autoHideGroup"===i||"floatGroup"===i)h.items&&h.items.length>0&&this._detachContent(h.items);else if("layoutPanel"===i){if("tabbedGroup"===h.parent.type)d(h);else if("autoHideGroup"===h.parent.type)if(h.prevent===!0)h.prevent=!1;else{if("left"===h.parent.alignment||"right"===h.parent.alignment){var j=e._find(h.parent.widget,".jqx-layout-group-auto-hide-content-vertical")[f];g=e._detachChildNodes(j),a(j).remove()}else{var k=e._find(h.parent.widget,".jqx-layout-group-auto-hide-content-horizontal")[f];g=e._detachChildNodes(k),a(k).remove()}h.detachedContent=g,c===!0&&(h.prevent=!0)}}else"documentPanel"===i&&d(h)}},_pxToPercent:function(a,b){function c(c,e){var f,g;return c=parseInt(c,10),g=b?d.element["offset"+e]:a["initialPx"+e],f=(100*c/g).toString()+"%"}for(var d=this,e=0;e<a.items.length;e++){var f=a.items[e];void 0!==f.width?(f.initialPxWidth=f.width,f.width=c(f.width,"Width")):f.initialPxWidth=a.initialPxWidth,void 0!==f.height?(f.initialPxHeight=f.height,f.height=c(f.height,"Height")):f.initialPxHeight=a.initialPxHeight,void 0!==f.unpinnedWidth&&(f.unpinnedWidth=c(f.unpinnedWidth,"Width")),void 0!==f.pinnedWidth&&(f.pinnedWidth=c(f.pinnedWidth,"Width")),void 0!==f.unpinnedHeight&&(f.unpinnedHeight=c(f.unpinnedHeight,"Height")),void 0!==f.pinnedHeight&&(f.pinnedHeight=c(f.pinnedHeight,"Height")),"layoutGroup"===f.type&&f.items&&f.items.length>0&&d._pxToPercent(f,!1)}},_percentToPx:function(a,b,c){return void 0===b?void 0:"string"!=typeof b||"string"==typeof b&&"%"!==b.charAt(b.length-1)?parseFloat(b):parseFloat(b.slice(0,b.length-1))/100*c.widget[a]()},_swapPanelsInLayout:function(a,b,c){var d=a[b];a[b]=a[c],a[b].index=b,a[c]=d,a[c].index=c},_initMenu:function(){var b=this;if(!b._menuInitialized){var c=b.element.id,d="",e=function(a,d,e){b._menu.jqxMenu("disable","dockOption"+c,a),b._menu.jqxMenu("disable","autoHideOption"+c,d),b._menu.jqxMenu("disable","closeOption"+c,e)};if(!b.host.jqxMenu)throw new Error("jqxLayout: Missing reference to jqxmenu.js.");b.dockingLayout&&(d='<li id="floatOption'+c+'">Float</li>');var f=document.createElement("div");f.className=b.toThemeProperty("jqx-layout-context-menu jqx-layout-context-menu-"+c),f.innerHTML="<ul>"+d+'<li id="dockOption'+c+'">Dock</li><li id="autoHideOption'+c+'" style="white-space: nowrap;">Auto Hide</li><li id="closeOption'+c+'">Close</li></ul>',b._menu=a(f),document.body.appendChild(f),b._menu.jqxMenu({theme:b.theme,width:100,height:"auto",autoOpenPopup:!1,mode:"popup",popupZIndex:99999,rtl:b.rtl}),b._menuInitialized=!0,b.addHandler(b._menu,"itemclick.jqxLayout"+c,function(c){b._handleMenuItemClick(a(c.target).text())});var g=function(a){return b.dockingLayout?a.allowClose===!1:a.allowClose!==!0};b.addHandler(b._menu,"shown.jqxLayout"+c,function(){switch(b._contextMenuTarget.type){case"tabbedGroup":e(!0,b._contextMenuTarget.allowPin===!1||b._contextMenuTarget.pinValid===!1,g(b._contextMenuTarget));break;case"layoutPanel":var a=b._contextMenuTarget.parent;"tabbedGroup"===a.type?e(!0,a.allowPin===!1||b._isMiddleTabbedGroup(a),g(a)):"autoHideGroup"===a.type&&e(a.allowUnpin===!1,!0,g(b._contextMenuTarget));break;case"documentPanel":e(!0,!0,g(b._contextMenuTarget))}})}},_addRightClickHandler:function(b,c){var d=this;d.contextMenu===!0&&(d.addHandler(b,"mousedown.jqxLayout"+d.element.id,function(b){if(d.contextMenu===!0&&(b.which&&3===b.which||b.button&&2===b.button)){var e=document.body.scrollTop,f=a(window).scrollLeft();d._contextMenuTarget=c.current,d._menu.jqxMenu("open",parseInt(b.clientX,10)+5+f,parseInt(b.clientY,10)+5+e)}}),d.addHandler(b,"contextmenu.jqxLayout"+d.element.id,function(){if(d.contextMenu===!0)return!1}))},_handleMenuItemClick:function(b){var c=this,d=c._contextMenuTarget.type,e=c._contextMenuTarget.parent;switch(b){case"Float":switch(d){case"tabbedGroup":c.dockingLayout._floatTabbedGroup(c._contextMenuTarget,c._contextMenuTarget.widget);break;case"layoutPanel":if("tabbedGroup"===e.type)c.dockingLayout._removeByDragHandler(void 0,e,e.widget,c._contextMenuTarget.index,!1);else if("autoHideGroup"===e.type){var f=c._find(a(a(c._find(c._contextMenuTarget.parent.widget,".jqx-ribbon-content")[0]).children()[c._contextMenuTarget.index]),".jqx-layout-window")[0].firstChild;c.dockingLayout._floatAutoHideGroup(c._contextMenuTarget,c._contextMenuTarget.title,f)}break;case"documentPanel":c.dockingLayout._removeByDragHandler(void 0,e,e.widget,c._contextMenuTarget.index,!1)}break;case"Dock":c._unPin(c._contextMenuTarget.parent);break;case"Auto Hide":switch(d){case"tabbedGroup":c._pin(c._contextMenuTarget);break;case"layoutPanel":c._pin(c._contextMenuTarget.parent)}break;case"Close":switch(d){case"tabbedGroup":c._close(c._contextMenuTarget);break;case"layoutPanel":c._contextMenuTarget.parent.items.length>1?c._close(c._contextMenuTarget):c._close(c._contextMenuTarget.parent);break;case"documentPanel":c._closeDocumentPanel(c._contextMenuTarget.index,c._contextMenuTarget.parent.items,c._contextMenuTarget.parent,c._contextMenuTarget.parent.widget,!1)}}},_closeDocumentPanel:function(a,b,c,d,e){var f=this;if(e===!1&&d.jqxRibbon("removeAt",a),b.length>1){var g=!1;b[a].removed=!0,f._updateLayout(b);for(var h=0;h<b.length;h++)if(b[h].selected===!0){g=!0;break}setTimeout(function(){g===!1?b[a]?d.jqxRibbon("selectAt",a):d.jqxRibbon("selectAt",a-1):d.jqxRibbon("render")},0)}else f._close(c)},_isMiddleTabbedGroup:function(a){return!(0===a.index||a.index===a.parent.items.length-1)},_validateTabbedGroup:function(b){var c=this,d=!0;if(d=d&&b.parent.items.length>1,d&&2===b.parent.items.length){var e=0===b.index?1:0;"autoHideGroup"===b.parent.items[e].type&&(d=!1)}d&&(d=d&&!c._isMiddleTabbedGroup(b)),b.pinValid=d,d===!1&&a(c._find(b.widget,".jqx-layout-pseudo-window-pin-background")[0]).addClass("jqx-fill-state-disabled")},_mouseupHandler:function(a){var b=this;try{b.dockingLayout&&(b._docUP(a),b.dockingLayout._windowCreate=!1,b.dockingLayout._hideOverlays())}catch(c){}},_toPx:function(a){return"number"==typeof a?a+"px":a},_find:function(a,b){var c=this;return c._oldIE?a.find(b):a[0]?a[0].querySelectorAll(b):a.querySelectorAll(b)},_detachChildNodes:function(b){for(var c=[],d=b.childNodes;d.length>0;)c.push(a(d[0]).detach());return c}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDockPanel","",{}),a.extend(a.jqx._jqxDockPanel.prototype,{defineInstance:function(){var b={width:null,height:null,lastchildfill:!0,disabled:!1,events:["layout"]};return this===a.jqx._jqxDockPanel.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){var c=this;this.host.addClass(this.toThemeProperty("jqx-dockpanel")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.childrenCount=a(this.host).children().length,this.host.wrapInner('<div style="overflow: hidden; width: 100%; height: 100%;" class="innerContainer"></div>'),this.$wrapper=this.host.find(".innerContainer"),this.$wrapper.css("position","relative"),this.sizeCache=new Array,this.performLayout(),a.jqx.utilities.resize(this.host,function(){c.refresh()})},render:function(){null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.sizeCache=new Array,this.performLayout()},resize:function(a,b){this.width=a,this.height=b,this.render()},performLayout:function(){if(!this.disabled){var b=this.childrenCount,c=0,d=0,e=0,f=0,g=this,h={width:this.host.width(),height:this.host.height()};this.sizeCache.length<this.$wrapper.children().length&&a.each(this.$wrapper.children(),function(b){var c=a(this);c.css("position","absolute");var d={width:c.css("width"),height:c.css("height")};g.sizeCache[b]=d}),a.each(this.$wrapper.children(),function(i){var j=this.getAttribute("dock");void 0==j&&(j="left"),i==b-1&&g.lastchildfill&&(j="fill");var k=a(this);k.css("position","absolute"),k.css("width",g.sizeCache[i].width),k.css("height",g.sizeCache[i].height);var l={width:k.outerWidth(),height:k.outerHeight()},m={x:e,y:f,width:Math.max(0,h.width-(e+c)),height:Math.max(0,h.height-(f+d))};if(i<b)switch(j){case"left":e+=l.width,m.width=l.width;break;case"top":f+=l.height,m.height=l.height;break;case"right":c+=l.width,m.x=Math.max(0,h.width-c),m.width=l.width;break;case"bottom":d+=l.height,m.y=Math.max(0,h.height-d),m.height=l.height}k.css("left",m.x),k.css("top",m.y),k.css("width",m.width),k.css("height",m.height)}),this._raiseevent(0)}},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseevent:function(b,c,d){if(void 0!=this.isInitialized&&1==this.isInitialized){var e=this.events[b],f=new a.Event(e);f.previousValue=c,f.currentValue=d,f.owner=this;var g=this.host.trigger(f);return g}},propertyChangedHandler:function(a,b,c,d){this.isInitialized&&a.render()},refresh:function(){this.render()}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDragDrop","",{}),a.extend(a.jqx._jqxDragDrop.prototype,{defineInstance:function(){var b={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:void 0,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};return this===a.jqx._jqxDragDrop.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var b=a.data(document.body,"jqx-draggables")||1;if(this.appendTo=this._getParent(),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),/(static|relative)/.test(this.host.css("position"))&&(!this.feedback||"original"===this.feedback)){var c=this._getRelativeOffset(this.host),d=this.appendTo.offset();"static"!=this.appendTo.css("position")&&(d={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=d.left+c.left+"px",this.element.style.top=d.top+c.top+"px"}this._validateProperties(),this._idHandler(b),this.disabled&&this.disable(),"string"==typeof this.dropTarget&&(this.dropTarget=a(this.dropTarget)),this._refresh(),b+=1,a.data(document.body,"jqx-draggables",b),this.host.addClass("jqx-draggable"),this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var b=this.appendTo;if("string"==typeof this.appendTo)switch(this.appendTo){case"parent":b=this.host.parent();break;case"document":b=a(document);break;case"body":b=a(document.body);break;default:b=a(this.appendTo)}return b},_idHandler:function(a){if(!this.element.id){var b="jqx-draggable-"+a;this.element.id=b}},_refresh:function(){this._removeEventHandlers(),this._addEventHandlers()},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},_validateProperties:function(){"clone"===this.feedback?this._feedbackType="clone":this._feedbackType="original","default"!==this.dropAction&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart"),this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown),this.removeHandler(a(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove),this.removeHandler(a(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp);var b=this;b.mouseupFuncForTop&&(b.removeHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop),b.mouseupFuncForTop=null,delete b.mouseupFuncForTop)},_addEventHandlers:function(){var b=this;this.addHandler(this.host,"dragstart",function(c){if(b.disabled)return!0;var d=a.jqx.mobile.isTouchDevice();return d?void 0:(c.preventDefault(),!1)}),this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this}),this.addHandler(a(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this}),this.addHandler(a(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp,{self:this});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var c="";window.parent&&document.referrer&&(c=document.referrer),c.indexOf(document.location.host)!=-1&&window.top.document&&(b.mouseupFuncForTop=function(a){b._mouseUp(b)},b.addHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop))}}catch(d){}},_mouseDown:function(a){var b=a.data.self,c=b._getMouseCoordinates(a),d=b._mouseCapture(a);if(b._originalPageX=c.left,b._originalPageY=c.top,b.disabled)return!0;var e=!1;return b._mouseStarted||(b._mouseUp(a),e=!0),d&&(b._mouseDownEvent=a),!!b._isTouchDevice||(1!==a.which||!d||void a.preventDefault())},_mouseMove:function(a){var b=a.data.self;return!!b.disabled||(b._mouseStarted?(b._mouseDrag(a),a.preventDefault&&a.preventDefault(),!1):(b._mouseDownEvent&&b._isMovedDistance(a)&&(b._mouseStart(b._mouseDownEvent,a)?b._mouseStarted=!0:b._mouseStarted=!1,b._mouseStarted?b._mouseDrag(a):b._mouseUp(a)),!b._mouseStarted))},_mouseUp:function(a){var b;return b=a.data&&a.data.self?a.data.self:this,!!b.disabled||(b._mouseDownEvent=!1,b._movedDistance=!1,b._mouseStarted&&(b._mouseStarted=!1,b._mouseStop(a)),b.feedback&&b.feedback[0]&&"original"!==b._feedbackType&&"function"==typeof b.feedback.remove&&!b.revert&&b.feedback.remove(),!!b._isTouchDevice&&void 0)},cancelDrag:function(){var a=this.revertDuration;this.revertDuration=0,this._mouseDownEvent=!1,this._movedDistance=!1,this._mouseStarted=!1,this._mouseStop(),this.feedback.remove(),this.revertDuration=a},_isMovedDistance:function(a){var b=this._getMouseCoordinates(a);return!!this._movedDistance||(b.left>=this._originalPageX+this.distance||b.left<=this._originalPageX-this.distance||b.top>=this._originalPageY+this.distance||b.top<=this._originalPageY-this.distance)&&(this._movedDistance=!0,!0)},_getMouseCoordinates:function(b){if(this._isTouchDevice){var c=a.jqx.position(b);return{left:c.left,top:c.top}}return{left:b.pageX,top:b.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this.host.remove(),this},_disableSelection:function(b){b.each(function(){a(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(b){b.each(function(){a(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(a){return!this.disabled&&(!!this._getHandle(a)&&(this._disableSelection(this.host),!0))},_getScrollParent:function(b){var c;return c=a.jqx.browser.msie&&/(static|relative)/.test(b.css("position"))||/absolute/.test(b.css("position"))?b.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position",1))&&/(auto|scroll)/.test(a.css(this,"overflow",1)+a.css(this,"overflow-y",1)+a.css(this,"overflow-x",1))}).eq(0):b.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow",1)+a.css(this,"overflow-y",1)+a.css(this,"overflow-x",1))}).eq(0),/fixed/.test(b.css("position"))||!c.length?a(document):c},_mouseStart:function(b){var c=this._getMouseCoordinates(b);this._getParentOffset(this.host);this.feedback=this._createFeedback(b),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},a.extend(this._offset,{click:{left:c.left-this._offset.left,top:c.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(b),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(0,b);return this.onDragStart&&"function"==typeof this.onDragStart&&this.onDragStart(this.position),this._mouseDrag(b,!0),!0},_fixPosition:function(){var a=this._getRelativeOffset(this.host),b=this.position;return b={left:this.position.left+a.left,top:this.position.top+a.top}},_mouseDrag:function(a,b){return this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,a),this.onDrag&&"function"==typeof this.onDrag&&this.onDrag(this.data,this.position),this._handleTarget(),!1},_over:function(b,c,d){if(this.dropTarget){var e=!1,f=this;a.each(this.dropTarget,function(a,g){if(e=f._overItem(g,b,c,d),e.over)return!1})}return e},_overItem:function(b,c,d,e){b=a(b);var f,g=b.offset(),h=b.outerHeight(),i=b.outerWidth();if(b&&b[0]!==this.element){var f=!1;switch(this.tolerance){case"intersect":c.left+d>g.left&&c.left<g.left+i&&c.top+e>g.top&&c.top<g.top+h&&(f=!0);break;case"fit":d+c.left<=g.left+i&&c.left>=g.left&&e+c.top<=g.top+h&&c.top>=g.top&&(f=!0)}return{over:f,target:b}}},_handleTarget:function(){if(this.dropTarget){var a=this.feedback.offset(),b=this.feedback.outerWidth(),c=this.feedback.outerHeight(),d=this._over(a,b,c);d.over?(this._targetEnterFired&&d.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&d.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget)),(!this._targetEnterFired||d.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&d.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:d.target}),this.onDropTargetEnter&&"function"==typeof this.onDropTargetEnter&&this.onDropTargetEnter(d.target)),this._oldtarget=d.target):this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||d.target}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget||d.target))}},_mouseStop:function(a){var b=!1,c=this._fixPosition(),d={width:this.host.outerWidth(),height:this.host.outerHeight()};return this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(b=this.dropped,
this.dropped=!1),!!(this.element&&this.element.parentNode||"original"!==this.feedback)&&(this._dropElement(c),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,a),this.onDragEnd&&"function"==typeof this.onDragEnd&&this.onDragEnd(this.data),this.onTargetDrop&&"function"==typeof this.onTargetDrop&&this._over(c,d.width,d.height).over&&this.onTargetDrop(this._over(c,d.width,d.height).target),this._revertHandler(),!1)},_dropElement:function(a){if("default"===this.dropAction&&this.feedback&&this.feedback[0]!==this.element&&"original"!==this.feedback&&!this.revert&&!/(fixed|absolute)/.test(this.host.css("position"))){this.host.css("position","relative");var b=this._getRelativeOffset(this.host);a=this.position,a.left-=b.left,a.top-=b.top,this.element.style.left=a.left+"px",this.element.style.top=a.top+"px"}},_revertHandler:function(){if(this.revert||a.isFunction(this.revert)&&this.revert()){var b=this;"original"!=this._feedbackType?null!=this.feedback&&("none"!=this.dropAction?a(this.feedback).animate({left:b.originalPosition.left-b._offset.hostRelative.left,top:b.originalPosition.top-b._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){b.feedback&&b.feedback[0]&&"original"!==b._feedbackType&&"function"==typeof b.feedback.remove&&b.feedback.remove()}):b.feedback&&b.feedback[0]&&"original"!==b._feedbackType&&"function"==typeof b.feedback.remove&&b.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,a(this.host).animate({left:b.originalPosition.left-b._offset.hostRelative.left,top:b.originalPosition.top-b._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){b.element.style.zIndex=b._zIndexBackup}))}},_getHandle:function(b){var c;return this.handle?a(this.handle,this.host).find("*").andSelf().each(function(){this==b.target&&(c=!0)}):c=!0,c},_createFeedback:function(a){var b;if(b="function"==typeof this._feedbackType?this._feedbackType():"clone"===this._feedbackType?this.host.clone().removeAttr("id"):this.host,/(absolute|fixed)/.test(b.css("position"))||b.css("position","absolute"),this.appendTo[0]!==this.host.parent()[0]||b[0]!==this.element){b.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(b).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(b).top}),b.appendTo(this.appendTo)}return"function"==typeof this.initFeedback&&this.initFeedback(b),b},_getParentOffset:function(b){var b=b||this.feedback;this._offsetParent=b.offsetParent();var c=this._offsetParent.offset();return"absolute"==this._positionType&&this._scrollParent[0]!==document&&a.contains(this._scrollParent[0],this._offsetParent[0])&&(c.left+=this._scrollParent.scrollLeft(),c.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&"html"==this._offsetParent[0].tagName.toLowerCase()&&a.jqx.browser.msie)&&(c={top:0,left:0}),{top:c.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:c.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(a){this._scrollParent||a.parent();if(a=a||this.feedback,"relative"===a.css("position")){var b=this.host.position();return{top:b.top-(parseInt(a.css("top"),10)||0),left:b.left-(parseInt(a.css("left"),10)||0)}}return{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity,this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){"parent"==this.restricter&&(this.restricter=this.feedback[0].parentNode),"document"!=this.restricter&&"window"!=this.restricter||this._handleNativeRestricter(),"undefined"!=typeof this.restricter.left&&"undefined"!=typeof this.restricter.top&&"undefined"!=typeof this.restricter.height&&"undefined"!=typeof this.restricter.width?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=["document"===this.restricter?0:a(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,"document"===this.restricter?0:a(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,("document"===this.restricter?0:a(window).scrollLeft())+a("document"===this.restricter?document:window).width()-this._feedbackProportions.width-this.margins.left,("document"===this.restricter?0:a(window).scrollTop())+(a("document"===this.restricter?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var b=a(this.restricter),c=b[0];if(c){var d="hidden"!==a(c).css("overflow");this._restricter=[(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0),(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],this._restrictiveContainer=b}},_convertPositionTo:function(b,c){c||(c=this.position);var d,e,f;return d="absolute"===b?1:-1,e="absolute"!==this._positionType||this._scrollParent[0]!=document&&a.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,f=/(html|body)/i.test(e[0].tagName),this._getPosition(c,d,f,e)},_getPosition:function(b,c,d,e){return{top:b.top+this._offset.relative.top*c+this._offset.parent.top*c-(a.jqx.browser.safari&&a.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollTop():d?0:e.scrollTop())*c),left:b.left+this._offset.relative.left*c+this._offset.parent.left*c-(a.jqx.browser.safari&&a.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollLeft():d?0:e.scrollLeft())*c)}},_generatePosition:function(b){var c="absolute"!=this._positionType||this._scrollParent[0]!=document&&a.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,d=/(html|body)/i.test(c[0].tagName),e=this._getMouseCoordinates(b),f=e.left,g=e.top;if(this.originalPosition){var h;if(this.restricter){if(this._restrictiveContainer){var i=this._restrictiveContainer.offset();h=[this._restricter[0]+i.left,this._restricter[1]+i.top,this._restricter[2]+i.left,this._restricter[3]+i.top]}else h=this._restricter;e.left-this._offset.click.left<h[0]&&(f=h[0]+this._offset.click.left),e.top-this._offset.click.top<h[1]&&(g=h[1]+this._offset.click.top),e.left-this._offset.click.left>h[2]&&(f=h[2]+this._offset.click.left),e.top-this._offset.click.top>h[3]&&(g=h[3]+this._offset.click.top)}}return{top:g-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(a.jqx.browser.safari&&a.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollTop():d?0:c.scrollTop()),left:f-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(a.jqx.browser.safari&&a.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollLeft():d?0:c.scrollLeft())}},_raiseEvent:function(b,c){if(void 0==this.triggerEvents||0!=this.triggerEvents){var d=this._events[b],e=a.Event(d),c=c||{};return c.position=this.position,c.element=this.element,a.extend(c,this.data),c.feedback=this.feedback,e.args=c,this.host.trigger(e)}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-draggable-disabled")),this._enableSelection(this.host)},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(b,c,d,e){"dropTarget"===c?"string"==typeof e&&(b.dropTarget=a(e)):"disabled"==c?e&&b._enableSelection(b.host):"cursor"==c&&b.host.css("cursor",b.cursor)}})}(jqxBaseFramework),function(a){jqxListBoxDragDrop=function(){a.extend(a.jqx._jqxListBox.prototype,{_hitTestBounds:function(a,b,c){var d=a.host.offset(),e=c-parseInt(d.top),f=b-parseInt(d.left),g=a._hitTest(f,e);if(e<0)return null;if(null!=g){var h=parseInt(d.left),i=h+a.host.width();return h<=b+g.width/2&&b<=i?g:null}if(a.items&&a.items.length>0){var j=a.items[a.items.length-1];if(a.groups.length<2&&j.top+j.height+15>=e)return j}return null},_handleDragStart:function(b,c){var d=a.jqx.mobile.isTouchDevice();d&&c.allowDrag&&b.on(a.jqx.mobile.getTouchEventName("touchstart"),function(){a.jqx.mobile.setTouchScroll(!1,c.element.id)}),b.off("dragStart"),b.on("dragStart",function(b){if(c.allowDrag&&!c.disabled){c.feedbackElement=a("<div style='z-index: 99999; position: absolute;'></div>"),c.feedbackElement.addClass(c.toThemeProperty("jqx-listbox-feedback")),c.feedbackElement.appendTo(a(document.body)),c.feedbackElement.hide(),c.isDragging=!0,c._dragCancel=!1;var d=c._getMouseCoordinates(b),e=c._hitTestBounds(c,d.left,d.top),f=a.find(".jqx-listbox");c._listBoxes=f,a.each(c._listBoxes,function(){var b=a.data(this,"jqxListBox").instance;b._enableHover=b.enableHover,b.enableHover=!1,a.jqx.mobile.setTouchScroll(!1,c.element.id)});var g=function(){c._dragCancel=!0,a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0}),a.each(c._listBoxes,function(){var b=a.data(this,"jqxListBox").instance;void 0!=b._enableHover&&(b.enableHover=b._enableHover,a.jqx.mobile.setTouchScroll(!0,c.element.id))})};if(null==e||e.isGroup)null==e&&g();else{if(c._dragItem=e,c.dragStart){var h=c.dragStart(e);if(0==h)return g(),!1}e.disabled&&g(),c._raiseEvent(4,{label:e.label,value:e.value,originalEvent:b.args})}}return!1})},_handleDragging:function(b,c){b.off("dragging"),b.on("dragging",function(b){var d=b.args;if(!c._dragCancel){var e=c._getMouseCoordinates(b),f=e;c._lastDraggingPosition=e,c._dragOverItem=null,c.feedbackElement.hide(),a.each(c._listBoxes,function(){if(a.jqx.isHidden(a(this)))return!0;var b=a(this).offset(),g=b.top+20,h=a(this).height()+g-40,i=b.left,j=a(this).width(),k=i+j,l=a.data(this,"jqxListBox").instance,m=l._hitTestBounds(l,e.left,e.top),n=l.vScrollInstance;if(null!=m&&l.allowDrop&&!l.disabled&&(c._dragOverItem=m,m.element)){c.feedbackElement.show();var o=a(m.element).offset().top+1;f.top>o+m.height/2&&(o+=m.height),c.feedbackElement.css("top",o),c.feedbackElement.css("left",i),"visible"!=l.vScrollBar.css("visibility")?c.feedbackElement.width(a(this).width()):c.feedbackElement.width(a(this).width()-20)}e.left>=i&&e.left<k?d.position.top<g&&d.position.top>=g-30?(clearInterval(l._autoScrollTimer),0!=n.value&&c.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var a=l.scrollUp();a||clearInterval(l._autoScrollTimer)},100)):d.position.top>h&&d.position.top<h+30?(clearInterval(l._autoScrollTimer),"hidden"!=l.vScrollBar.css("visibility")&&n.value!=n.max&&c.feedbackElement.hide(),l._autoScrollTimer=setInterval(function(){var a=l.scrollDown();a||clearInterval(l._autoScrollTimer)},100)):clearInterval(l._autoScrollTimer):(null==c._dragOverItem&&c.feedbackElement.hide(),clearInterval(l._autoScrollTimer))})}})},_handleDragEnd:function(b,c){a.find(".jqx-listbox");b.off("dragEnd"),b.on("dragEnd",function(b){clearInterval(c._autoScrollTimer);var d=a.jqx.mobile.isTouchDevice(),e=d?c._lastDraggingPosition:c._getMouseCoordinates(b),f=a.find(".jqx-listbox"),g=null;if(c.feedbackElement.remove(),c._dragCancel)return void b.stopPropagation();a.each(f,function(){if(a.jqx.isHidden(a(this)))return!0;var b=parseInt(a(this).offset().left),d=b+a(this).width(),f=a.data(this,"jqxListBox").instance;if(clearInterval(f._autoScrollTimer),void 0!=f._enableHover&&(f.enableHover=f._enableHover,a.jqx.mobile.setTouchScroll(!0,c.element.id)),null!=c._dragItem&&e.left+c._dragItem.width/2>=b&&e.left<d){var h=parseInt(a(this).offset().top),i=h+a(this).height();e.top>=h&&e.top<=i&&(g=a(this))}});var h=c._dragItem;if(null!=g&&g.length>0){var i=a.data(g[0],"jqxListBox").instance,j=i.allowDrop;if(j&&!i.disabled){var i=a.data(g[0],"jqxListBox").instance,k=i._hitTestBounds(i,e.left,e.top);if(k=c._dragOverItem,null==k||k.isGroup){if("none"!=i.dropAction){if(i.content.find(".draggable").length>0&&i.content.find(".draggable").jqxDragDrop("destroy"),c.dragEnd){var l=c.dragEnd(c._dragItem,null,b.args);if(0==l)return a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0}),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1;void 0==l&&(l=!0)}i.addItem(c._dragItem),"default"==i.dropAction&&(h.visibleIndex>0&&c.selectIndex(h.visibleIndex-1),c.removeItem(h,!0)),i.clearSelection(),i.selectIndex(i.items.length-1)}}else{var l=!0;if(c.dragEnd){if(l=c.dragEnd(h,k,b.args),0==l)return a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0}),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1;void 0==l&&(l=!0)}if(l){var m=(k.visibleIndex,function(){for(var a=k.visibleIndex,b=a-2;b<=a+2;b++)if(i.items&&i.items.length>b){var c=i.items[b];if(null!=c&&c.value==h.value)return c.visibleIndex}return a});if("none"!=i.dropAction){if(k.element)var n=a(k.element).offset().top+1;else var n=a(i.element).offset().top+1;i.content.find(".draggable").length>0&&i.content.find(".draggable").jqxDragDrop("destroy"),e.top>n+k.height/2?i.insertAt(c._dragItem,k.index+1):i.insertAt(c._dragItem,k.index),"default"==c.dropAction&&(h.visibleIndex>0&&(c.clearSelection(),c.selectIndex(h.visibleIndex-1)),c.removeItem(h,!0));var o=m();i.clearSelection(),i.selectIndex(o)}}}}}else if(c.dragEnd){var p=c.dragEnd(h,b.args);if(0==p)return b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1}return null!=h&&c._raiseEvent(5,{label:h.label,value:h.value,originalEvent:b.args}),!1})},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var b=this.content.find(".draggable");if(b.length>0){var c=this;b.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(b){var d=a('<span style="white-space: nowrap;" class="'+c.toThemeProperty("jqx-fill-state-normal")+'">'+b.text()+"</span>");a(document.body).append(d);var e=d.width();d.remove(),b.width(e+5),b.addClass(c.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,c._dragItem=null,c._handleDragStart(b,c),c._handleDragging(b,c),c._handleDragEnd(b,c)}}},_getMouseCoordinates:function(b){if(this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._isTouchDevice){var c=a.jqx.position(b.args);return{left:c.left,top:c.top}}return{left:b.args.pageX,top:b.args.pageY}}})},jqxTreeDragDrop=function(){a.extend(a.jqx._jqxTree.prototype,{_hitTestBounds:function(b,c,d){var e=null;if(b._visibleItems){var f=parseInt(b.host.offset().left),g=b.host.outerWidth();a.each(b._visibleItems,function(h){if(c>=f&&c<f+g&&this.top+5<d&&d<this.top+this.height){var i=a(this.element).parents("li:first");if(i.length>0&&(e=b.getItem(i[0]),null!=e))return e.height=this.height,e.top=this.top,!1}})}return e},_handleDragStart:function(b,c){c._dragOverItem&&c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover"));var d=a.jqx.mobile.isTouchDevice();d&&c.allowDrag&&b.on(a.jqx.mobile.getTouchEventName("touchstart"),function(){a.jqx.mobile.setTouchScroll(!1,"panel"+c.element.id)}),b.off("dragStart"),b.on("dragStart",function(b){c.feedbackElement=a("<div style='z-index: 99999; position: absolute;'></div>"),c.feedbackElement.addClass(c.toThemeProperty("jqx-listbox-feedback")),c.feedbackElement.appendTo(a(document.body)),c.feedbackElement.hide(),c._dragCancel=!1;var d=(b.args.position,a.find(".jqx-tree"));return c._trees=d,a.each(d,function(){var d=a.data(this,"jqxTree").instance,e=d.host.find(".draggable");if(d._syncItems(e),d.allowDrag&&!d.disabled){var f=a(b.target).parents("li:first");if(f.length>0){var g=d.getItem(f[0]);if(g){if(c._dragItem=g,d.dragStart){var h=d.dragStart(g);if(0==h)return c._dragCancel=!0,a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:d}),!1}d._raiseEvent(8,{label:g.label,value:g.value,originalEvent:b.args})}}}}),!1})},_getMouseCoordinates:function(b){if(this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._isTouchDevice){var c=a.jqx.position(b.args);return{left:c.left,top:c.top}}return{left:b.args.pageX,top:b.args.pageY}},_handleDragging:function(b,c){var b=this.host.find(".draggable");b.off("dragging"),b.on("dragging",function(b){var d=b.args,e=(d.position,c._trees);if(!c._dragCancel){c._dragOverItem&&c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover"));var f=!0,g=c._getMouseCoordinates(b);c._lastDraggingPosition=g,a.each(e,function(){if(a.jqx.isHidden(a(this)))return!0;var b=a(this).offset(),d=b.top+20,e=a(this).height()+d-40,h=b.left,i=a(this).width(),j=h+i,k=a.data(this,"jqxTree").instance;if(!k.disabled&&k.allowDrop){var l=k.vScrollInstance,m=k._hitTestBounds(k,g.left,g.top);if(null!=m&&(c._dragOverItem&&c._dragOverItem.titleElement.removeClass(k.toThemeProperty("jqx-fill-state-hover")),c._dragOverItem=m,m.element)){c.feedbackElement.show();var n=m.top,o=g.top;c._dropPosition="before",o>n+m.height/3&&(n=m.top+m.height/2,c._dragOverItem.titleElement.addClass(c.toThemeProperty("jqx-fill-state-hover")),c.feedbackElement.hide(),c._dropPosition="inside"),o>m.top+m.height-m.height/3&&(n=m.top+m.height,c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover")),c.feedbackElement.show(),c._dropPosition="after"),c.feedbackElement.css("top",n);var h=-2+parseInt(m.titleElement.offset().left);c.feedbackElement.css("left",h),c.feedbackElement.width(a(m.titleElement).width()+12)}g.left>=h&&g.left<j?(g.top+20>=d&&g.top<=d+k.host.height()&&(f=!1),g.top<d&&g.top>=d-30?(clearInterval(k._autoScrollTimer),0!=l.value&&c.feedbackElement.hide(),k._autoScrollTimer=setInterval(function(){var a=k.panelInstance.scrollUp(),b=k.host.find(".draggable");k._syncItems(b),a||clearInterval(k._autoScrollTimer)},100)):g.top>e&&g.top<e+30?(clearInterval(k._autoScrollTimer),l.value!=l.max&&c.feedbackElement.hide(),k._autoScrollTimer=setInterval(function(){var a=k.panelInstance.scrollDown(),b=k.host.find(".draggable");k._syncItems(b),a||clearInterval(k._autoScrollTimer)},100)):clearInterval(k._autoScrollTimer)):clearInterval(k._autoScrollTimer)}}),f&&c.feedbackElement&&c.feedbackElement.hide()}})},_handleDragEnd:function(b,c){b.off("dragEnd"),b.on("dragEnd",function(b){c.host.find(".draggable");clearInterval(c._autoScrollTimer);var d=(b.args.position,c._trees),e=null,f=a.jqx.mobile.isTouchDevice(),g=f?c._lastDraggingPosition:c._getMouseCoordinates(b);if(c.feedbackElement.remove(),c._dragCancel)return!1;c._dragOverItem&&c._dragOverItem.titleElement.removeClass(c.toThemeProperty("jqx-fill-state-hover")),a.each(d,function(){if(a.jqx.isHidden(a(this)))return!0;var b=parseInt(a(this).offset().left),d=b+a(this).width(),f=a.data(this,"jqxTree").instance;if(clearInterval(f._autoScrollTimer),null!=c._dragItem&&g.left>=b&&g.left<d){var h=parseInt(a(this).offset().top),i=h+a(this).height();g.top>=h&&g.top<=i&&(e=a(this))}});var h=c._dragItem,i=c._dragItem.treeInstance.element.id,j=c._dragOverItem.treeInstance.element.id,k={id:c._dragOverItem.id,parentid:c._dragOverItem.parentId,label:c._dragOverItem.label,value:c._dragOverItem.value},l={id:h.id,parentid:h.parentId,label:h.label,value:h.value},m=[],n=[];if(i!=j){var o=[],p=!0;for(o.push(c._dragItem);p;){if(0==o.length){p=!1;break}for(var q=o.shift(),r=c.getItem(q),s=r.subtreeElement?r.subtreeElement.childNodes:[],t=0;t<s.length;t++){o.push(s[t]);var u=c.getItem(s[t]);n.push({id:u.id,parentid:u.parentId,label:u.label,value:u.value})}}}if(null!=e&&e.length>0){var v=e.jqxTree("allowDrop");if(v){var w=a.data(e[0],"jqxTree").instance,u=c._dragOverItem;if(null!=u&&c._dragOverItem.treeInstance.element.id==w.element.id){var x=!0;if(c.dragEnd&&(x=c.dragEnd(h,u,b.args,c._dropPosition,e),0==x&&(a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0})),void 0==x&&(x=!0)),x){var y=function(){var a=c._dragItem.treeInstance;if(a.$dataBinders$){var b={action:"after"==c._dropPosition?"dragAfter":"dragBefore",changedItem:l,extraItem:k};j!=i&&(b.action="delete"),m.push(b),a._refreshMapping(!1,void 0,m)}else a._refreshMapping();a._updateItemsNavigation(),a._render(!0,!1),a.checkboxes&&a._updateCheckStates(),c._dragItem.treeInstance=w,c._syncItems(c._dragItem.treeInstance.host.find(".draggable"))};if("none"!=w.dropAction&&c._dragItem.id!=c._dragOverItem.id)if("inside"==c._dropPosition)w._drop(c._dragItem.element,c._dragOverItem.element,-1,w),y();else{var z=0;"after"==c._dropPosition&&z++,w._drop(c._dragItem.element,c._dragOverItem.parentElement,z+a(c._dragOverItem.element).index(),w),y()}w._render(!0,!1);var A=w.host.find(".draggable");if(c._syncItems(A),c._dragOverItem=null,c._dragItem=null,w.$dataBinders$){if(w.element.id!=i){var B="addBefore";"inside"==c._dropPosition?(B="add",l.parentid=k.parentid):"after"==c._dropPosition&&(B="addNext"),m.push({action:B,changedItem:l,extraItem:k});for(var C in n)m.push({action:"add",changedItem:n[C],extraItem:null})}else m.push({action:"after"==c._dropPosition?"dragAfter":"dragBefore",changedItem:l,extraItem:k});w._refreshMapping(!1,void 0,m)}else w._refreshMapping();w._updateItemsNavigation(),w.selectedItem=null,w.selectItem(h.element),w.checkboxes&&w._updateCheckStates(),w._render(!0,!1)}}else if("none"!=w.dropAction&&w.allowDrop){var x=!0;if(c.dragEnd&&(x=c.dragEnd(h,u,b.args,c._dropPosition,e),0==x&&(a(b.args.element).jqxDragDrop({triggerEvents:!1}),a(b.args.element).jqxDragDrop("cancelDrag"),clearInterval(c._autoScrollTimer),a(b.args.element).jqxDragDrop({triggerEvents:!0})),void 0==x&&(x=!0)),x){c._dragItem.parentElement=null,w._drop(c._dragItem.element,null,-1,w);var D=c._dragItem.treeInstance;D._refreshMapping(),D._updateItemsNavigation(),D.checkboxes&&D._updateCheckStates();var A=D.host.find(".draggable");c._syncItems(A),c._dragItem.treeInstance=w,w.items[w.items.length]=c._dragItem,w._render(!0,!1),w._refreshMapping(),w.selectItem(h.element),w._updateItemsNavigation();var A=w.host.find(".draggable");w._syncItems(A),w.checkboxes&&w._updateCheckStates(),c._dragOverItem=null,c._dragItem=null}}}}else if(c.dragEnd){var E=c.dragEnd(h,b.args);if(0==E)return!1}return null!=h&&c._raiseEvent(7,{label:h.label,value:h.value,originalEvent:b.args}),!1})},_drop:function(b,c,d,e){if(!(a(c).parents("#"+b.id).length>0||null!=c&&c.id==b.id)){if(e.element.innerHTML.indexOf("UL"))var f=e.host.find("ul:first");if(void 0==c&&null==c)void 0==d||d==-1?f.append(b):0==f.children("li").eq(d).length?f.children("li").eq(d-1).after(b):f.children("li").eq(d)[0].id!=b.id&&f.children("li").eq(d).before(b);else if(void 0==d||d==-1){c=a(c);var g=c.find("ul:first");if(0==g.length){ulElement=a("<ul></ul>"),a(c).append(ulElement),g=c.find("ul:first");var h=e.itemMapping["id"+c[0].id].item;h.subtreeElement=g[0],h.hasItems=!0,g.addClass(e.toThemeProperty("jqx-tree-dropdown")),g.append(b),b=g.find("li:first"),h.parentElement=b}else g.append(b)}else{c=a(c);var g=c.find("ul:first");if(0==g.length){if(ulElement=a("<ul></ul>"),a(c).append(ulElement),g=c.find("ul:first"),c){var h=e.itemMapping["id"+c[0].id].item;h.subtreeElement=g[0],h.hasItems=!0}g.addClass(e.toThemeProperty("jqx-tree-dropdown")),g.append(b),b=g.find("li:first"),h.parentElement=b}else 0==g.children("li").eq(d).length?g.children("li").eq(d-1).after(b):g.children("li").eq(d)[0].id!=b.id&&g.children("li").eq(d).before(b)}}},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var b=this.host.find(".draggable"),c=this;if(b.length>0){b.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(b){var d=a('<span style="white-space: nowrap;" class="'+c.toThemeProperty("jqx-fill-state-normal")+'">'+b.text()+"</span>");a(document.body).append(d);var e=d.width();d.remove(),b.width(e+5),b.addClass(c.toThemeProperty("jqx-fill-state-pressed"))}});var d=b.jqxDragDrop("isDestroyed");d===!0&&b.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,c._dragItem=null,c._handleDragStart(b,c),c._handleDragging(b,c),c._handleDragEnd(b,c)}}}})}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDraw","",{}),a.extend(a.jqx._jqxDraw.prototype,{defineInstance:function(){var b={renderEngine:""};a.extend(!0,this,b);var c=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var d in c)this._addFn(a.jqx._jqxDraw.prototype,c[d])},_addFn:function(a,b){a[b]||(a[b]=function(){return this.renderer[b].apply(this.renderer,arguments)})},createInstance:function(a){},destroy:function(){this.renderer&&this.renderer.clear&&this.renderer.clear(),this.host&&this.host.remove()},_initRenderer:function(b){return a.jqx.createRenderer(this,b)},_internalRefresh:function(){var b=this;if(!a.jqx.isHidden(b.host)){b.renderer||(b.host.empty(),b._initRenderer(b.host));var c=b.renderer;if(c){var d=c.getRect();b._render({x:1,y:1,width:d.width,height:d.height}),c instanceof a.jqx.HTML5Renderer&&c.refresh()}}},_saveAsImage:function(b,c,d,e){return a.jqx._widgetToImage(this,b,c,d,e)},_render:function(a){var b=this;b.renderer;b._plotRect=a},refresh:function(){this._internalRefresh()},getSize:function(){var a=this._plotRect;return{width:a.width,height:a.height}},saveAsPNG:function(a,b,c){return this._saveAsImage("png",a,b,c)},saveAsJPEG:function(a,b,c){return this._saveAsImage("jpeg",a,b,c)}})}(jqxBaseFramework),function(a){a.jqx.toGreyScale=function(b){if(b.indexOf("#")==-1)return b;var c=a.jqx.cssToRgb(b);c[0]=c[1]=c[2]=Math.round(.3*c[0]+.59*c[1]+.11*c[2]);var d=a.jqx.rgbToHex(c[0],c[1],c[2]);return"#"+d[0]+d[1]+d[2]},a.jqx.adjustColor=function(b,c){if("string"!=typeof b)return"#000000";if(b.indexOf("#")==-1)return b;var d=a.jqx.cssToRgb(b),e=a.jqx.rgbToHsl(d);e[2]=Math.min(1,e[2]*c),e[1]=Math.min(1,e[1]*c*1.1),d=a.jqx.hslToRgb(e);for(var b="#",f=0;f<3;f++){var g=Math.round(d[f]);g=a.jqx.decToHex(g),1==g.toString().length&&(b+="0"),b+=g}return b.toUpperCase()},a.jqx.decToHex=function(a){return a.toString(16)},a.jqx.hexToDec=function(a){return parseInt(a,16)},a.jqx.rgbToHex=function(b,c,d){return[a.jqx.decToHex(b),a.jqx.decToHex(c),a.jqx.decToHex(d)]},a.jqx.hexToRgb=function(b,c,d){return[a.jqx.hexToDec(b),a.jqx.hexToDec(c),a.jqx.hexToDec(d)]},a.jqx.cssToRgb=function(b){return b.indexOf("rgb")<=-1?a.jqx.hexToRgb(b.substring(1,3),b.substring(3,5),b.substring(5,7)):b.substring(4,b.length-1).split(",")},a.jqx.hslToRgb=function(c){var d=parseFloat(c[0]),e=parseFloat(c[1]),f=parseFloat(c[2]);if(0==e)r=g=b=f;else{var h=f<.5?f*(1+e):f+e-f*e,i=2*f-h;r=a.jqx.hueToRgb(i,h,d+1/3),g=a.jqx.hueToRgb(i,h,d),b=a.jqx.hueToRgb(i,h,d-1/3)}return[255*r,255*g,255*b]},a.jqx.hueToRgb=function(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a},a.jqx.rgbToHsl=function(a){var b,c,d=parseFloat(a[0])/255,e=parseFloat(a[1])/255,f=parseFloat(a[2])/255,g=Math.max(d,e,f),h=Math.min(d,e,f),i=(g+h)/2;if(g==h)b=c=0;else{var j=g-h;switch(c=i>.5?j/(2-g-h):j/(g+h),g){case d:b=(e-f)/j+(e<f?6:0);break;case e:b=(f-d)/j+2;break;case f:b=(d-e)/j+4}b/=6}return[b,c,i]},a.jqx.swap=function(a,b){var c=a;a=b,b=c},a.jqx.getNum=function(b){if(a.isArray(b)){for(var c=0;c<b.length;c++)if(!isNaN(b[c]))return b[c]}else if(isNaN(b))return 0;return 0},a.jqx._ptdist=function(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))},a.jqx._ptrnd=function(b){if(!document.createElementNS)return Math.round(b)==b?b:a.jqx._rnd(b,1,!1,!0);var c=a.jqx._rnd(b,.5,!1,!0);return.5!=Math.abs(c-Math.round(c))?c>b?c-.5:c+.5:c},a.jqx._ptRotate=function(a,b,c,d,e){var f=Math.sqrt(Math.pow(Math.abs(a-c),2)+Math.pow(Math.abs(b-d),2)),g=Math.asin((a-c)/f),h=g+e;return a=c+Math.cos(h)*f,b=d+Math.sin(h)*f,{x:a,y:b}},a.jqx._rup=function(a){var b=Math.round(a);return a>b&&b++,b},a.jqx.log=function(a,b){return Math.log(a)/(b?Math.log(b):1)},a.jqx._mod=function(a,b){var c=Math.abs(a>b?b:a),d=1;if(0!=c)for(;c*d<100;)d*=10;return a*=d,b*=d,a%b/d},a.jqx._rnd=function(b,c,d,e){if(isNaN(b))return b;void 0===e&&(e=!0);var f=b-(1==e?b%c:a.jqx._mod(b,c));return b==f?f:(d?b>f&&(f+=c):f>b&&(f-=c),1==c?Math.round(f):f)},a.jqx.commonRenderer={pieSlicePath:function(a,b,c,d,e,f,g){d||(d=1);var h=Math.abs(e-f),i=h>180?1:0;h>=360&&(f=e+359.99);var j=e*Math.PI*2/360,k=f*Math.PI*2/360,l=a,m=a,n=b,o=b,p=!isNaN(c)&&c>0;if(p&&(g=0),g+c>0){if(g>0){var q=h/2+e,r=q*Math.PI*2/360;a+=g*Math.cos(r),b-=g*Math.sin(r)}if(p){var s=c;l=a+s*Math.cos(j),n=b-s*Math.sin(j),m=a+s*Math.cos(k),o=b-s*Math.sin(k)}}var t=a+d*Math.cos(j),u=a+d*Math.cos(k),v=b-d*Math.sin(j),w=b-d*Math.sin(k),x="",y=Math.abs(Math.abs(f-e)-360)>.02;return p?(x="M "+m+","+o,x+=" a"+c+","+c,x+=" 0 "+i+",1 "+(l-m)+","+(n-o),x+=y?" L"+t+","+v:" M"+t+","+v,x+=" a"+d+","+d,x+=" 0 "+i+",0 "+(u-t)+","+(w-v),y&&(x+=" Z")):(x="M "+u+","+w,x+=" a"+d+","+d,x+=" 0 "+i+",1 "+(t-u)+","+(v-w),y&&(x+=" L"+a+","+b,x+=" Z")),x},measureText:function(b,c,d,e,f){var g=f._getTextParts(b,c,d),h=g.width,i=g.height;0==e&&(i/=.6);var j={};if(isNaN(c)&&(c=0),0==c)j={width:a.jqx._rup(h),height:a.jqx._rup(i)};else{var k=c*Math.PI*2/360,l=Math.abs(Math.sin(k)),m=Math.abs(Math.cos(k)),n=Math.abs(h*l+i*m),o=Math.abs(h*m+i*l);j={width:a.jqx._rup(o),height:a.jqx._rup(n)}}return e&&(j.textPartsInfo=g),j},alignTextInRect:function(b,c,d,e,f,g,h,i,j,k){var l=j*Math.PI*2/360,m=Math.sin(l),n=Math.cos(l),o=f*m,p=f*n;"center"==h||""==h||"undefined"==h?b+=d/2:"right"==h&&(b+=d),"center"==i||"middle"==i||""==i||"undefined"==i?c+=e/2:"bottom"==i?c+=e-g/2:"top"==i&&(c+=g/2),k=k||"";var q="middle";k.indexOf("top")!=-1?q="top":k.indexOf("bottom")!=-1&&(q="bottom");var r="center";return k.indexOf("left")!=-1?r="left":k.indexOf("right")!=-1&&(r="right"),"center"==r?(b-=p/2,c-=o/2):"right"==r&&(b-=p,c-=o),"top"==q?(b-=g*m,c+=g*n):"middle"==q&&(b-=g*m/2,c+=g*n/2),b=a.jqx._rup(b),c=a.jqx._rup(c),{x:b,y:c}}},a.jqx.svgRenderer=function(){},a.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(a){var b="<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>";a.append(b),this.host=a;var c=a.find(".chartContainer");c[0].style.width=a.width()+"px",c[0].style.height=a.height()+"px";try{var d=document.createElementNS(this._svgns,"svg");d.setAttribute("id","svgChart"),d.setAttribute("version","1.1"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("overflow","hidden"),c[0].appendChild(d),this.canvas=d}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG";
},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var b=this.canvas.getBoundingClientRect(),c=parseFloat(b.left)==parseInt(b.left),d=parseFloat(b.top)==parseInt(b.top);if(a.jqx.browser.msie){for(var c=!0,d=!0,e=this.host,f=0,g=0;e&&e.position&&e[0].parentNode;){var h=e.position();f+=parseFloat(h.left)-parseInt(h.left),g+=parseFloat(h.top)-parseInt(h.top),e=e.parent()}c=parseFloat(f)==parseInt(f),d=parseFloat(g)==parseInt(g)}c||(this.host.find(".tdLeft")[0].style.width="0.5px"),d||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var b=this.host.find(".chartContainer");this._width=Math.max(a.jqx._rup(this.host.width())-1,0),this._height=Math.max(a.jqx._rup(this.host.height())-1,0),b[0].style.width=this._width,b[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(a){if(void 0!=a){this.removeHandler(a);try{for(;a.firstChild;)this.removeElement(a.firstChild);a.parentNode?a.parentNode.removeChild(a):this.canvas.removeChild(a)}catch(b){}}},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElementNS(this._svgns,"g");return a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElementNS(this._svgns,"clipPath"),c=document.createElementNS(this._svgns,"rect");return this.attr(c,{x:a.x,y:a.y,width:a.width,height:a.height,fill:"none"}),this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),b.appendChild(c),this._defs.appendChild(b),b},getWindowHref:function(){var b=a.jqx.browser;if(b&&"msie"==b.browser&&b.version<10)return"";var c=window.location.href;return c?(c=c.replace(/([\('\)])/g,"\\$1"),c=c.replace(/#.*$/,"")):c},setClip:function(a,b){var c="url("+this.getWindowHref()+"#"+b.id+")";return this.attr(a,{"clip-path":c})},_clipId:0,addHandler:function(b,c,d){a(b).on?a(b).on(c,d):a(b).bind(c,d)},removeHandler:function(b,c,d){a(b).off?a(b).off(c,d):a(b).unbind(c,d)},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},shape:function(a,b){var c=document.createElementNS(this._svgns,a);if(c){for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c}},_getTextParts:function(b,c,d){var e={width:0,height:0,parts:[]};if(void 0===b)return e;var f=.6,g=b.toString().split("<br>"),h=this._activeParent(),i=document.createElementNS(this._svgns,"text");this.attr(i,d);for(var j=0;j<g.length;j++){var k=g[j],l=i.ownerDocument.createTextNode(k);i.appendChild(l),h.appendChild(i);var m;try{m=i.getBBox()}catch(n){}var o=a.jqx._rup(m.width),p=a.jqx._rup(m.height*f);i.removeChild(l),e.width=Math.max(e.width,o),e.height+=p+(j>0?4:0),e.parts.push({width:o,height:p,text:k})}return h.removeChild(i),e},_measureText:function(b,c,d,e){return a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(b,c,d,e,f,g,h,i,j,k,l){var m,n=this._measureText(b,g,h,!0),o=n.textPartsInfo,p=o.parts;if(j||(j="center"),k||(k="center"),(p.length>1||i)&&(m=this.beginGroup()),i){var q=this.createClipRect({x:a.jqx._rup(c)-1,y:a.jqx._rup(d)-1,width:a.jqx._rup(e)+2,height:a.jqx._rup(f)+2});this.setClip(m,q)}var r=this._activeParent(),s=0,t=0;s=o.width,t=o.height,(isNaN(e)||e<=0)&&(e=s),(isNaN(f)||f<=0)&&(f=t);var u=e||0,v=f||0;if(!g||0==g){d+=t,"center"==k||"middle"==k?d+=(v-t)/2:"bottom"==k&&(d+=v-t),e||(e=s),f||(f=t);for(var r=this._activeParent(),w=0,x=p.length-1;x>=0;x--){var y=document.createElementNS(this._svgns,"text");this.attr(y,h),this.attr(y,{cursor:"default"});var z=y.ownerDocument.createTextNode(p[x].text);y.appendChild(z);var A=c,B=p[x].width,C=p[x].height;"center"==j?A+=(u-B)/2:"right"==j&&(A+=u-B),this.attr(y,{x:a.jqx._rup(A),y:a.jqx._rup(d+w),width:a.jqx._rup(B),height:a.jqx._rup(C)}),r.appendChild(y),w-=p[x].height+4}return m?(this.endGroup(),m):y}var D=a.jqx.commonRenderer.alignTextInRect(c,d,e,f,s,t,j,k,g,l);c=D.x,d=D.y;var E=this.shape("g",{transform:"translate("+c+","+d+")"}),F=this.shape("g",{transform:"rotate("+g+")"});E.appendChild(F);for(var w=0,x=p.length-1;x>=0;x--){var G=document.createElementNS(this._svgns,"text");this.attr(G,h),this.attr(G,{cursor:"default"});var z=G.ownerDocument.createTextNode(p[x].text);G.appendChild(z);var A=0,B=p[x].width,C=p[x].height;"center"==j?A+=(o.width-B)/2:"right"==j&&(A+=o.width-B),this.attr(G,{x:a.jqx._rup(A),y:a.jqx._rup(w),width:a.jqx._rup(B),height:a.jqx._rup(C)}),F.appendChild(G),w-=C+4}return r.appendChild(E),m&&this.endGroup(),E},line:function(a,b,c,d,e){var f=this.shape("line",{x1:a,y1:b,x2:c,y2:d});return this.attr(f,e),f},path:function(a,b){var c=this.shape("path");return c.setAttribute("d",a),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=Math.max(1,a.jqx._rnd(d,1,!1)),e=Math.max(1,a.jqx._rnd(e,1,!1));var g=this.shape("rect",{x:b,y:c,width:d,height:e});return f&&this.attr(g,f),g},circle:function(a,b,c,d){var e=this.shape("circle",{cx:a,cy:b,r:c});return d&&this.attr(e,d),e},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.shape("path");return j.setAttribute("d",i),h&&this.attr(j,h),j},attr:function(a,b){if(a&&b)for(var c in b)"textContent"==c?a.textContent=b[c]:a.setAttribute(c,b[c])},removeAttr:function(a,b){if(a&&b)for(var c in b)"textContent"==c?a.textContent="":a.removeAttribute(b[c])},getAttr:function(a,b){return a.getAttribute(b)},_gradients:{},_toLinearGradient:function(b,c,d){var e="grd"+this._id+b.replace("#","")+(c?"v":"h"),f="url("+this.getWindowHref()+"#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"linearGradient");this.attr(g,{x1:"0%",y1:"0%",x2:c?"0%":"100%",y2:c?"100%":"0%",id:e});for(var h=0;h<d.length;h++){var i=d[h],j=document.createElementNS(this._svgns,"stop"),k="stop-color:"+a.jqx.adjustColor(b,i[1]);this.attr(j,{offset:i[0]+"%",style:k}),g.appendChild(j)}return this._defs.appendChild(g),this._gradients[f]=!0,f},_toRadialGradient:function(b,c,d){var e="grd"+this._id+b.replace("#","")+"r"+(void 0!=d?d.key:""),f="url("+this.getWindowHref()+"#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"radialGradient");void 0==d?this.attr(g,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:e}):this.attr(g,{cx:d.x,cy:d.y,r:d.outerRadius,id:e,gradientUnits:"userSpaceOnUse"});for(var h=0;h<c.length;h++){var i=c[h],j=document.createElementNS(this._svgns,"stop"),k="stop-color:"+a.jqx.adjustColor(b,i[1]);this.attr(j,{offset:i[0]+"%",style:k}),g.appendChild(j)}return this._defs.appendChild(g),this._gradients[f]=!0,f}},a.jqx.vmlRenderer=function(){},a.jqx.vmlRenderer.prototype={init:function(b){var c="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";b.append(c),this.host=b;var d=b.find(".chartContainer");d[0].style.width=b.width()+"px",d[0].style.height=b.height()+"px";var e=!0;try{for(var f=0;f<document.namespaces.length;f++)if("v"==document.namespaces[f].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[f].urn){e=!1;break}}catch(g){return!1}return a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&document.childNodes[0].data.indexOf("DOCTYPE")!=-1?(e&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):e&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=d[0],this._width=Math.max(a.jqx._rup(d.width()),0),this._height=Math.max(a.jqx._rup(d.height()),0),d[0].style.width=this._width+2,d[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(a){null!=a&&(this.removeHandler(a),a.parentNode.removeChild(a))},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElement("v:group");return b.style.position="absolute",b.coordorigin="0,0",b.coordsize=this._width+","+this._height,b.style.left=0,b.style.top=0,b.style.width=this._width,b.style.height=this._height,a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElement("div");return b.style.height=a.height+1+"px",b.style.width=a.width+1+"px",b.style.position="absolute",b.style.left=a.x+"px",b.style.top=a.y+"px",b.style.overflow="hidden",this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(b),b},setClip:function(a,b){},_clipId:0,addHandler:function(b,c,d){a(b).on?a(b).on(c,d):a(b).bind(c,d)},removeHandler:function(b,c,d){a(b).off?a(b).off(c,d):a(b).unbind(c,d)},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},_getTextParts:function(b,c,d){var e={width:0,height:0,parts:[]},f=.6,g=b.toString().split("<br>"),h=this._activeParent(),i=document.createElement("v:textbox");this.attr(i,d),h.appendChild(i);for(var j=0;j<g.length;j++){var k=g[j],l=document.createElement("span");l.appendChild(document.createTextNode(k)),i.appendChild(l),d&&d["class"]&&(l.className=d["class"]);var m=a(i),n=a.jqx._rup(m.width()),o=a.jqx._rup(m.height()*f);if(0==o&&a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9){var p=m.css("font-size");p&&(o=parseInt(p),isNaN(o)&&(o=0))}i.removeChild(l),e.width=Math.max(e.width,n),e.height+=o+(j>0?2:0),e.parts.push({width:n,height:o,text:k})}return h.removeChild(i),e},_measureText:function(b,c,d,e){return c=Math.abs(c)>45?90:0,a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(b,c,d,e,f,g,h,i,j,k){var l;h&&h.stroke&&(l=h.stroke),void 0==l&&(l="black");var m=this._measureText(b,g,h,!0),n=m.textPartsInfo,o=n.parts,p=m.width,q=m.height;(isNaN(e)||0==e)&&(e=p),(isNaN(f)||0==f)&&(f=q);var r;if(j||(j="center"),k||(k="center"),(o.length>0||i)&&(r=this.beginGroup()),i){var s=this.createClipRect({x:a.jqx._rup(c),y:a.jqx._rup(d),width:a.jqx._rup(e),height:a.jqx._rup(f)});this.setClip(r,s)}var t=this._activeParent(),u=e||0,v=f||0;g=Math.abs(g)>45?90:0;var w=0,x=0;"center"==j?w+=(u-p)/2:"right"==j&&(w+=u-p),"center"==k?x=(v-q)/2:"bottom"==k&&(x=v-q),0==g?(d+=q+x,c+=w):(c+=p+w,d+=x);for(var y,z=0,A=o.length-1;A>=0;A--){var B=o[A],C=(p-B.width)/2;0==g&&"left"==j?C=0:0==g&&"right"==j?C=p-B.width:90==g&&(C=(q-B.width)/2);var D=z-B.height;x=90==g?C:D,w=90==g?D:C,y=document.createElement("v:textbox"),y.style.position="absolute",y.style.left=a.jqx._rup(c+w),y.style.top=a.jqx._rup(d+x),y.style.width=a.jqx._rup(B.width),y.style.height=a.jqx._rup(B.height),90==g&&(y.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",y.style.height=a.jqx._rup(B.height)+5);var E=document.createElement("span");E.appendChild(document.createTextNode(B.text)),h&&h["class"]&&(E.className=h["class"]),y.appendChild(E),t.appendChild(y),z-=B.height+(A>0?2:0)}return r?(this.endGroup(),t):y},shape:function(a,b){var c=document.createElement(this._createElementMarkup(a));if(c){for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c}},line:function(a,b,c,d,e){var f="M "+a+","+b+" L "+c+","+d+" X E",g=this.path(f);return this.attr(g,e),g},_createElementMarkup:function(a){var b="<v:"+a+' style=""></v:'+a+">";return this._ie8mode&&(b=b.replace('style=""','style="behavior: url(#default#VML);"')),b},path:function(a,b){var c=document.createElement(this._createElementMarkup("shape"));return c.style.position="absolute",c.coordsize=this._width+" "+this._height,c.coordorigin="0 0",c.style.width=parseInt(this._width),c.style.height=parseInt(this._height),c.style.left="0px",c.style.top="0px",c.setAttribute("path",a),this._activeParent().appendChild(c),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=a.jqx._rup(d),e=a.jqx._rup(e);var g=this.shape("rect",f);return g.style.position="absolute",g.style.left=b,g.style.top=c,g.style.width=d,g.style.height=e,g.strokeweight=0,f&&this.attr(g,f),g},circle:function(b,c,d,e){var f=this.shape("oval");return b=a.jqx._ptrnd(b-d),c=a.jqx._ptrnd(c-d),d=a.jqx._rup(d),f.style.position="absolute",f.style.left=b,f.style.top=c,f.style.width=2*d,f.style.height=2*d,e&&this.attr(f,e),f},updateCircle:function(b,c,d,e){void 0==c&&(c=parseFloat(b.style.left)+parseFloat(b.style.width)/2),void 0==d&&(d=parseFloat(b.style.top)+parseFloat(b.style.height)/2),void 0==e&&(e=parseFloat(b.width)/2),c=a.jqx._ptrnd(c-e),d=a.jqx._ptrnd(d-e),e=a.jqx._rup(e),b.style.left=c,b.style.top=d,b.style.width=2*e,b.style.height=2*e},pieSlicePath:function(b,c,d,e,f,g,h){e||(e=1);var i=Math.abs(f-g);i>360&&(f=0,g=360);var j=f*Math.PI*2/360,k=g*Math.PI*2/360,l=b,m=b,n=c,o=c,p=!isNaN(d)&&d>0;if(p&&(h=0),h>0){var q=i/2+f,r=q*Math.PI*2/360;b+=h*Math.cos(r),c-=h*Math.sin(r)}if(p){var s=d;l=a.jqx._ptrnd(b+s*Math.cos(j)),n=a.jqx._ptrnd(c-s*Math.sin(j)),m=a.jqx._ptrnd(b+s*Math.cos(k)),o=a.jqx._ptrnd(c-s*Math.sin(k))}var t=(a.jqx._ptrnd(b+e*Math.cos(j)),a.jqx._ptrnd(b+e*Math.cos(k))),u=(a.jqx._ptrnd(c-e*Math.sin(j)),a.jqx._ptrnd(c-e*Math.sin(k)));e=a.jqx._ptrnd(e),d=a.jqx._ptrnd(d),b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c);var v=Math.round(65535*f),w=Math.round(65536*(g-f));d<0&&(d=1);var x="";return p?(x="M"+l+" "+n,x+=" AE "+b+" "+c+" "+d+" "+d+" "+v+" "+w,x+=" L "+t+" "+u,v=Math.round(65535*(f-g)),w=Math.round(65536*g),x+=" AE "+b+" "+c+" "+e+" "+e+" "+w+" "+v,x+=" L "+l+" "+n):(x="M"+b+" "+c,x+=" AE "+b+" "+c+" "+e+" "+e+" "+v+" "+w),x+=" X E"},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.path(i,h);return h&&this.attr(j,h),j},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(a){for(var b in this._keymap)if(this._keymap[b].svg==a)return this._keymap[b].vml;return a},attr:function(a,b){if(a&&b)for(var c in b){var d=this._translateParam(c);void 0!=b[c]&&("fillcolor"==d&&b[c].indexOf("grd")!=-1?a.type=b[c]:"fillcolor"==d&&"transparent"==b[c]?(a.style.filter="alpha(opacity=0)",a["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==d||"fillopacity"==d?a.fill&&(a.fill.opacity=b[c]):"textContent"==d?a.children[0].innerText=b[c]:"dashstyle"==d?a.dashstyle=b[c].replace(","," "):d.indexOf("style.")==-1?a[d]=b[c]:a.style[d.replace("style.","")]=b[c])}},removeAttr:function(a,b){if(a&&b)for(var c in b)a.removeAttribute(b[c])},getAttr:function(a,b){var c=this._translateParam(b);return"opacity"==c||"fillopacity"==c?a.fill?a.fill.opacity:1:c.indexOf("style.")==-1?a[c]:a.style[c.replace("style.","")]},_gradients:{},_toRadialGradient:function(a,b,c){return a},_toLinearGradient:function(b,c,d){if(this._ie8mode)return b;var e="grd"+b.replace("#","")+(c?"v":"h"),f="#"+e;if(this._gradients[f])return f;var g=document.createElement(this._createElementMarkup("fill"));g.type="gradient",g.method="linear",g.angle=c?0:90;for(var h="",i=0;i<d.length;i++){var j=d[i];j>0&&(h+=", "),h+=j[0]+"% "+a.jqx.adjustColor(b,j[1])}g.colors=h;var k=document.createElement(this._createElementMarkup("shapetype"));return k.appendChild(g),k.id=e,this.canvas.appendChild(k),f}},a.jqx.HTML5Renderer=function(){},a.jqx.ptrnd=function(a){if(.5==Math.abs(Math.round(a)-a))return a;var b=Math.round(a);return b<a&&(b-=1),b+.5},a.jqx.HTML5Renderer.prototype={init:function(a){try{this.host=a,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=a.find("#__jqxCanvasWrap"),this.canvas[0].width=a.width(),this.canvas[0].height=a.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(b){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){var a=this.host.find(".chartContainer");return a},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(a){},addHandler:function(a,b,c){},removeHandler:function(a,b,c){},on:function(a,b,c){this.addHandler(a,b,c)},off:function(a,b,c){this.removeHandler(a,b,c)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(a){void 0!=a&&this._elements[a.id]&&delete this._elements[a.id]},shape:function(a,b){var c={type:a,id:this._maxId++};for(var d in b)c[d]=b[d];return this._elements[c.id]=c,c},attr:function(a,b){for(var c in b)a[c]=b[c]},removeAttr:function(a,b){for(var c in b)delete a[b[c]]},rect:function(a,b,c,d,e){if(isNaN(a))throw'Invalid value for "x"';if(isNaN(b))throw'Invalid value for "y"';if(isNaN(c))throw'Invalid value for "width"';if(isNaN(d))throw'Invalid value for "height"';var f=this.shape("rect",{x:a,y:b,width:c,height:d});return e&&this.attr(f,e),f},path:function(a,b){var c=this.shape("path",b);return this.attr(c,{d:a}),c},line:function(a,b,c,d,e){return this.path("M "+a+","+b+" L "+c+","+d,e)},circle:function(a,b,c,d){var e=this.shape("circle",{x:a,y:b,r:c});return d&&this.attr(e,d),e},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.path(this.pieSlicePath(a,b,c,d,e,f,g),h);return this.attr(i,{x:a,y:b,innerRadius:c,outerRadius:d,angleFrom:e,angleTo:f}),i},_getCSSStyle:function(a){var b=document.styleSheets;try{for(var c=0;c<b.length;c++)for(var d=0;b[c].cssRules&&d<b[c].cssRules.length;d++)if(b[c].cssRules[d].selectorText.indexOf(a)!=-1)return b[c].cssRules[d].style}catch(e){}return{}},_getTextParts:function(b,c,d){var e="Arial",f="10pt",g="";if(d&&d["class"]){var h=this._getCSSStyle(d["class"]);h.fontSize&&(f=h.fontSize),h.fontFamily&&(e=h.fontFamily),h.fontWeight&&(g=h.fontWeight)}this.ctx.font=g+" "+f+" "+e;for(var i={width:0,height:0,parts:[]},j=.6,k=b.toString().split("<br>"),l=0;l<k.length;l++){var m=k[l],n=this.ctx.measureText(m).width,o=document.createElement("span.jqxchart");o.font=this.ctx.font,o.textContent=m,document.body.appendChild(o);var p=o.offsetHeight*j;document.body.removeChild(o),i.width=Math.max(i.width,a.jqx._rup(n)),i.height+=p+(l>0?4:0),i.parts.push({width:n,height:p,text:m})}return i},_measureText:function(b,c,d,e){return a.jqx.commonRenderer.measureText(b,c,d,e,this)},measureText:function(a,b,c){return this._measureText(a,b,c,!1)},text:function(a,b,c,d,e,f,g,h,i,j,k){var l=this.shape("text",{text:a,x:b,y:c,width:d,height:e,angle:f,clip:h,halign:i,valign:j,rotateAround:k});if(g&&this.attr(l,g),l.fontFamily="Arial",l.fontSize="10pt",l.fontWeight="",l.color="#000000",g&&g["class"]){var m=this._getCSSStyle(g["class"]);l.fontFamily=m.fontFamily||l.fontFamily,l.fontSize=m.fontSize||l.fontSize,l.fontWeight=m.fontWeight||l.fontWeight,l.color=m.color||l.color}var n=this._measureText(a,0,g,!0);return this.attr(l,{textPartsInfo:n.textPartsInfo,textWidth:n.width,textHeight:n.height}),(d<=0||isNaN(d))&&this.attr(l,{width:n.width}),(e<=0||isNaN(e))&&this.attr(l,{height:n.height}),l},_toLinearGradient:function(b,c,d){if(this._renderers._gradients[b])return b;for(var e=[],f=0;f<d.length;f++)e.push({percent:d[f][0]/100,color:a.jqx.adjustColor(b,d[f][1])});var g="gr"+this._gradientId++;return this.createGradient(g,c?"vertical":"horizontal",e),g},_toRadialGradient:function(b,c){if(this._renderers._gradients[b])return b;for(var d=[],e=0;e<c.length;e++)d.push({percent:c[e][0]/100,color:a.jqx.adjustColor(b,c[e][1])});var f="gr"+this._gradientId++;return this.createGradient(f,"radial",d),f},createGradient:function(a,b,c){this._renderers.createGradient(this,a,b,c)},_renderers:{createGradient:function(a,b,c,d){a._gradients[b]={orientation:c,colorStops:d}},setStroke:function(a,b){var c=a.ctx;c.strokeStyle=b.stroke||"transparent",c.lineWidth=b["stroke-width"]||1,void 0!=b["fill-opacity"]?c.globalAlpha=b["fill-opacity"]:void 0!=b.opacity?c.globalAlpha=b.opacity:c.globalAlpha=1,c.setLineDash&&(b["stroke-dasharray"]?c.setLineDash(b["stroke-dasharray"].split(",")):c.setLineDash([]))},setFillStyle:function(b,c){var d=b.ctx;if(d.fillStyle="transparent",void 0!=c["fill-opacity"]?d.globalAlpha=c["fill-opacity"]:void 0!=c.opacity?d.globalAlpha=c.opacity:d.globalAlpha=1,c.fill&&c.fill.indexOf("#")==-1&&b._gradients[c.fill]){var e,f="horizontal"!=b._gradients[c.fill].orientation,g="radial"==b._gradients[c.fill].orientation,h=a.jqx.ptrnd(c.x),i=a.jqx.ptrnd(c.y),j=a.jqx.ptrnd(c.x+(f?0:c.width)),k=a.jqx.ptrnd(c.y+(f?c.height:0));"circle"!=c.type&&"path"!=c.type&&"rect"!=c.type||!g||(x=a.jqx.ptrnd(c.x),y=a.jqx.ptrnd(c.y),r1=c.innerRadius||0,r2=c.outerRadius||c.r||0,"rect"==c.type&&(x+=c.width/2,y+=c.height/2),e=d.createRadialGradient(x,y,r1,x,y,r2)),g||((isNaN(h)||isNaN(j)||isNaN(i)||isNaN(k))&&(h=0,i=0,j=f?0:d.canvas.width,k=f?d.canvas.height:0),e=d.createLinearGradient(h,i,j,k));for(var l=b._gradients[c.fill].colorStops,m=0;m<l.length;m++)e.addColorStop(l[m].percent,l[m].color);d.fillStyle=e}else c.fill&&(d.fillStyle=c.fill)},rect:function(b,c){0!=c.width&&0!=c.height&&(b.fillRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height),b.strokeRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height))},circle:function(b,c){0!=c.r&&(b.beginPath(),b.arc(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.r,0,2*Math.PI,!1),b.closePath(),b.fill(),b.stroke())},_parsePoint:function(a){var b=this._parseNumber(a),c=this._parseNumber(a);return{x:b,y:c}},_parseNumber:function(a){for(var b=!1,c=this._pos;c<a.length;c++)if(a[c]>="0"&&a[c]<="9"||"."==a[c]||"e"==a[c]||"-"==a[c]&&!b||"-"==a[c]&&c>=1&&"e"==a[c-1])b=!0;else{if(b||" "!=a[c]&&","!=a[c])break;this._pos++}var d=parseFloat(a.substring(this._pos,c));if(!isNaN(d))return this._pos=c,d},_cmds:"mlcazq",_isRelativeCmd:function(b){return a.jqx.string.contains(this._cmds,b)},_parseCmd:function(b){for(var c=this._pos;c<b.length;c++){if(a.jqx.string.containsIgnoreCase(this._cmds,b[c]))return this._pos=c+1,this._lastCmd=b[c],this._lastCmd;if(" "!=b[c]){if(b[c]>="0"&&b[c]<="9"){if(this._pos=c,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(a){return{x:this._currentPoint.x+a.x,y:this._currentPoint.y+a.y}},path:function(a,b){var c=b.d;this._pos=0,this._lastCmd="";var d=void 0;this._currentPoint={x:0,y:0},a.beginPath();for(;this._pos<c.length;){var e=this._parseCmd(c);if(void 0==e)break;if("M"!=e&&"m"!=e)if("L"!=e&&"l"!=e)if("A"!=e&&"a"!=e)if("Z"!=e&&"z"!=e||void 0==d)if("C"!=e&&"c"!=e)if("Q"!=e&&"q"!=e);else{var f=this._parsePoint(c),g=this._parsePoint(c);a.quadraticCurveTo(f.x,f.y,g.x,g.y),this._currentPoint=g}else{var f=this._parsePoint(c),g=this._parsePoint(c),h=this._parsePoint(c);a.bezierCurveTo(f.x,f.y,g.x,g.y,h.x,h.y),this._currentPoint=h}else a.lineTo(d.x,d.y),this._currentPoint=d;else{var i=this._parseNumber(c),j=this._parseNumber(c),k=this._parseNumber(c)*(Math.PI/180),l=this._parseNumber(c),m=this._parseNumber(c),n=this._parsePoint(c);if(this._isRelativeCmd(e)&&(n=this._toAbsolutePoint(n)),0==i||0==j)continue;var o=this._currentPoint,p={x:Math.cos(k)*(o.x-n.x)/2+Math.sin(k)*(o.y-n.y)/2,y:-Math.sin(k)*(o.x-n.x)/2+Math.cos(k)*(o.y-n.y)/2},q=Math.pow(p.x,2)/Math.pow(i,2)+Math.pow(p.y,2)/Math.pow(j,2);q>1&&(i*=Math.sqrt(q),j*=Math.sqrt(q));var r=(l==m?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(j,2)-Math.pow(i,2)*Math.pow(p.y,2)-Math.pow(j,2)*Math.pow(p.x,2))/(Math.pow(i,2)*Math.pow(p.y,2)+Math.pow(j,2)*Math.pow(p.x,2)));isNaN(r)&&(r=0);var s={x:r*i*p.y/j,y:r*-j*p.x/i},t={x:(o.x+n.x)/2+Math.cos(k)*s.x-Math.sin(k)*s.y,y:(o.y+n.y)/2+Math.sin(k)*s.x+Math.cos(k)*s.y},u=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},v=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(u(a)*u(b))},w=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(v(a,b))},x=w([1,0],[(p.x-s.x)/i,(p.y-s.y)/j]),y=[(p.x-s.x)/i,(p.y-s.y)/j],z=[(-p.x-s.x)/i,(-p.y-s.y)/j],A=w(y,z);v(y,z)<=-1&&(A=Math.PI),v(y,z)>=1&&(A=0),0==m&&A>0&&(A-=2*Math.PI),1==m&&A<0&&(A+=2*Math.PI);var v=i>j?i:j,B=i>j?1:i/j,C=i>j?j/i:1;a.translate(t.x,t.y),a.rotate(k),a.scale(B,C),a.arc(0,0,v,x,x+A,1-m),a.scale(1/B,1/C),a.rotate(-k),a.translate(-t.x,-t.y)}else{var D=this._parsePoint(c);if(void 0==D)break;a.lineTo(D.x,D.y),this._currentPoint=D}else{var D=this._parsePoint(c);if(void 0==D)break;a.moveTo(D.x,D.y),this._currentPoint=D,void 0==d&&(d=D)}}a.fill(),a.stroke(),a.closePath()},text:function(b,c){var d=a.jqx.ptrnd(c.x),e=a.jqx.ptrnd(c.y),f=a.jqx.ptrnd(c.width),g=a.jqx.ptrnd(c.height),h=c.halign,i=c.valign,j=c.angle,k=c.rotateAround,l=c.textPartsInfo,m=l.parts,n=c.clip;void 0==n&&(n=!0),b.save(),h||(h="center"),i||(i="center"),n&&(b.rect(d,e,f,g),b.clip());var o=c.textWidth,p=c.textHeight,q=f||0,r=g||0;if(b.fillStyle=c.color,b.font=c.fontWeight+" "+c.fontSize+" "+c.fontFamily,!j||0==j){e+=p,"center"==i||"middle"==i?e+=(r-p)/2:"bottom"==i&&(e+=r-p),f||(f=o),g||(g=p);for(var s=0,t=m.length-1;t>=0;t--){var u=m[t],v=d,w=m[t].width;m[t].height;"center"==h?v+=(q-w)/2:"right"==h&&(v+=q-w),b.fillText(u.text,v,e+s),s-=u.height+(t>0?4:0)}return void b.restore()}var x=a.jqx.commonRenderer.alignTextInRect(d,e,f,g,o,p,h,i,j,k);d=x.x,e=x.y;var y=j*Math.PI*2/360;b.translate(d,e),b.rotate(y);for(var s=0,z=l.width,t=m.length-1;t>=0;t--){var v=0;"center"==h?v+=(z-m[t].width)/2:"right"==h&&(v+=z-m[t].width),b.fillText(m[t].text,v,s),s-=m[t].height+4}b.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var a in this._elements){var b=this._elements[a];this._renderers.setFillStyle(this,b),this._renderers.setStroke(this,b),this._renderers[this._elements[a].type](this.ctx,b)}}},a.jqx.createRenderer=function(b,c){var d=b,e=d.renderer=null;if(document.createElementNS&&"HTML5"!=d.renderEngine&&"VML"!=d.renderEngine&&(e=new a.jqx.svgRenderer,!e.init(c))){if("SVG"==d.renderEngine)throw"Your browser does not support SVG";return null}if(null==e&&"HTML5"!=d.renderEngine){if(e=new a.jqx.vmlRenderer,!e.init(c)){if("VML"==d.renderEngine)throw"Your browser does not support VML";return null}d._isVML=!0}if(null==e&&("HTML5"==d.renderEngine||void 0==d.renderEngine)&&(e=new a.jqx.HTML5Renderer,!e.init(c)))throw"Your browser does not support HTML5 Canvas";return d.renderer=e,e},a.jqx._widgetToImage=function(b,c,d,e,f,g){var h=b;if(!h)return!1;void 0!=d&&""!=d||(d="image."+c);var i=h.renderEngine,j=h.enableAnimations;if(h.enableAnimations=!1,h.renderEngine="HTML5",h.renderEngine!=i)try{h.refresh()}catch(k){return h.renderEngine=i,h.refresh(),h.enableAnimations=j,!1}var l=h.renderer.getContainer().find("canvas")[0],m=!0;a.isFunction(g)&&(m=g(b,l));var n=!0;return m&&(n=a.jqx.exportImage(l,c,d,e,f)),h.renderEngine!=i&&(h.renderEngine=i,h.refresh(),h.enableAnimations=j),n},a.jqx.getByPriority=function(a){for(var b=void 0,c=0;c<a.length&&void 0==b;c++)void 0==b&&void 0!=a[c]&&(b=a[c]);return b},a.jqx.exportImage=function(b,c,d,e,f){if(!b)return!1;var g="pdf"===c.toLowerCase();if(g&&(c="jpeg"),void 0!=d&&""!=d||(d="image."+c),void 0==e||""==e)throw"Please specifiy export server";var h=!0;try{if(b){var i=b.toDataURL("image/"+c);if(g){a.jqx.pdfExport||(a.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var j=595;switch(a.jqx.pdfExport.paperSize){case"legal":var j=612;"portrait"!==a.jqx.pdfExport.orientation&&(j=1008);break;case"letter":var j=612;"portrait"!==a.jqx.pdfExport.orientation&&(j=792);break;case"a3":var j=841;"portrait"!==a.jqx.pdfExport.orientation&&(j=1190);break;case"a4":var j=595;"portrait"!==a.jqx.pdfExport.orientation&&(j=842);break;case"a5":var j=420;"portrait"!==a.jqx.pdfExport.orientation&&(j=595)}var k=a(b).width(),l=72*k/96;l>=j-20&&(l=j-20);var m=new pdfDataExport(a.jqx.pdfExport.orientation,"pt",a.jqx.pdfExport.paperSize);return m.addImage(i,"JPEG",10,10,l,0),void m.save(d)}if(i=i.replace("data:image/"+c+";base64,",""),f)a.ajax({dataType:"string",url:e,type:"POST",data:{content:i,fname:d},async:!1,success:function(a,b,c){h=!0},error:function(a,b,c){h=!1}});else{var n=document.createElement("form");n.method="POST",n.action=e,n.style.display="none",document.body.appendChild(n);var o=document.createElement("input");o.name="fname",o.value=d,o.style.display="none";var p=document.createElement("input");p.name="content",p.value=i,p.style.display="none",n.appendChild(o),n.appendChild(p),n.submit(),document.body.removeChild(n),h=!0}}}catch(q){h=!1}return h}}(jqxBaseFramework),function(a){jqxPlot=function(){},jqxPlot.prototype={get:function(a,b,c){return void 0!==c?a[b][c]:a[b]},min:function(a,b){for(var c=NaN,d=0;d<a.length;d++){var e=this.get(a,d,b);(isNaN(c)||e<c)&&(c=e)}return c},max:function(a,b){for(var c=NaN,d=0;d<a.length;d++){var e=this.get(a,d,b);(isNaN(c)||e>c)&&(c=e)}return c},sum:function(a,b){for(var c=0,d=0;d<a.length;d++){var e=this.get(a,d,b);isNaN(e)||(c+=e)}return c},count:function(a,b){for(var c=0,d=0;d<a.length;d++){var e=this.get(a,d,b);isNaN(e)||c++}return c},avg:function(a,b){return this.sum(a,b)/Math.max(1,count(a,b))},filter:function(a,b){if(!b)return a;for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},scale:function(b,c,d,e){if(isNaN(b))return NaN;if((b<Math.min(c.min,c.max)||b>Math.max(c.min,c.max))&&(!e||e.ignore_range!==!0))return NaN;var f=NaN,g=1;if(void 0===c.type||"logarithmic"!=c.type){var h=Math.abs(c.max-c.min);h||(h=1),g=Math.abs(b-Math.min(c.min,c.max))/h}else if("logarithmic"===c.type){var i=c.base;isNaN(i)&&(i=10);var j=Math.min(c.min,c.max);j<=0&&(j=1);var k=Math.max(c.min,c.max);k<=0&&(k=1);var l=a.jqx.log(k,i);k=Math.pow(i,l);var m=a.jqx.log(j,i);j=Math.pow(i,m);var n=a.jqx.log(b,i);g=Math.abs(n-m)/(l-m)}if("logarithmic"===d.type){var i=d.base;isNaN(i)&&(i=10);var l=a.jqx.log(d.max,i),m=a.jqx.log(d.min,i);d.flip&&(g=1-g);var n=Math.min(m,l)+g*Math.abs(l-m);f=Math.pow(i,n)}else f=Math.min(d.min,d.max)+g*Math.abs(d.max-d.min),d.flip&&(f=Math.max(d.min,d.max)-f+d.min);return f},axis:function(b,c,d){if(d<=1)return[c,b];(isNaN(d)||d<2)&&(d=2);for(var e=0;Math.round(b)!=b&&Math.round(c)!=c&&e<10;)b*=10,c*=10,e++;for(var f=(c-b)/d;e<10&&Math.round(f)!=f;)b*=10,c*=10,f*=10,e++;for(var g=[1,2,5],h=0;;){var i=h%g.length,j=Math.floor(h/g.length),k=Math.pow(10,j)*g[i];i=(h+1)%g.length,j=Math.floor((h+1)/g.length);var l=Math.pow(10,j)*g[i];if(f>=k&&f<l)break;h++}for(var m=l,n=[],o=a.jqx._rnd(b,m,!1),p=e<=0?1:Math.pow(10,e);o<c+m;)n.push(o/p),o+=m;return n}}}(jqxBaseFramework),
function(a){a.jqx.jqxWidget("jqxDropDownButton","",{}),a.extend(a.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var b={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:2e4,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===a.jqx._jqxDropDownButton.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){var c=this;c.width||(c.width=200),c.height||(c.height=25),c.isanimating=!1,c.setupInstance();var d=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");c.host.attr("tabindex")?(d.attr("tabindex",c.host.attr("tabindex")),c.host.removeAttr("tabindex")):d.attr("tabindex",0),c.focusable||d.removeAttr("tabIndex"),a.jqx.aria(this),c.popupContent=c.host.children(),c.host.attr("role","button"),0==c.popupContent.length?(c.popupContent=a("<div>"+c.host.text()+"</div>"),c.popupContent.css("display","block"),c.element.innerHTML=""):c.popupContent.detach();var e=this;c.addHandler(c.host,"loadContent",function(a){e._arrange()});try{var f="dropDownButtonPopup"+c.element.id,g=a(a.find("#"+f));g.length>0&&g.remove(),a.jqx.aria(this,"aria-haspopup",!0),a.jqx.aria(this,"aria-owns",f);var h=a("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+c.element.id+"'></div>");h.addClass(c.toThemeProperty("jqx-widget-content")),h.addClass(c.toThemeProperty("jqx-dropdownbutton-popup")),h.addClass(c.toThemeProperty("jqx-popup")),h.addClass(c.toThemeProperty("jqx-rc-all")),"element"!=c.dropDownContainer&&h.css("z-index",c.popupZIndex),a.jqx.browser.msie&&h.addClass(c.toThemeProperty("jqx-noshadow")),c.popupContent.appendTo(h),"element"==c.dropDownContainer?h.appendTo(c.host):h.appendTo(document.body),c.container=h,c.container.css("visibility","hidden")}catch(i){}c.touch=a.jqx.mobile.isTouchDevice(),c.dropDownButtonStructure=d,c.host.append(d),c.dropDownButtonWrapper=c.host.find("#dropDownButtonWrapper"),c.firstDiv=c.dropDownButtonWrapper.parent(),c.dropDownButtonArrow=c.host.find("#dropDownButtonArrow"),c.arrow=a(c.dropDownButtonArrow.children()[0]),c.dropDownButtonContent=c.host.find("#dropDownButtonContent"),c.dropDownButtonContent.addClass(c.toThemeProperty("jqx-dropdownlist-content")),c.dropDownButtonWrapper.addClass(c.toThemeProperty("jqx-disableselect")),c.rtl&&c.dropDownButtonContent.addClass(c.toThemeProperty("jqx-rtl"));var j=this;c.host.parents()&&c.addHandler(c.host.parents(),"scroll.dropdownbutton"+c.element.id,function(a){var b=j.isOpened();b&&j.close()}),c.addHandler(c.dropDownButtonWrapper,"selectstart",function(){return!1}),c.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+c.element.id,c.dropDownButtonArrow[0].id="dropDownButtonArrow"+c.element.id,c.dropDownButtonContent[0].id="dropDownButtonContent"+c.element.id;var j=this;c.propertyChangeMap.disabled=function(b,c,d,e){e?(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dropDownButtonContent.addClass(b.toThemeProperty("jqx-dropdownlist-content-disabled"))):(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dropDownButtonContent.removeClass(b.toThemeProperty("jqx-dropdownlist-content-disabled"))),a.jqx.aria(b,"aria-disabled",b.disabled)},c.disabled&&(c.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")),c.dropDownButtonContent.addClass(c.toThemeProperty("jqx-dropdownlist-content-disabled")));var k=c.toThemeProperty("jqx-rc-all")+" "+c.toThemeProperty("jqx-fill-state-normal")+" "+c.toThemeProperty("jqx-widget")+" "+c.toThemeProperty("jqx-widget-content")+" "+c.toThemeProperty("jqx-dropdownlist-state-normal");if(c.host.addClass(k),c.arrow.addClass(c.toThemeProperty("jqx-icon-arrow-down")),c.arrow.addClass(c.toThemeProperty("jqx-icon")),c.template&&c.host.addClass(c.toThemeProperty("jqx-"+c.template)),c._setSize(),c.render(),a.jqx.browser.msie&&a.jqx.browser.version<8&&(c.container.css("display","none"),c.host.parents(".jqx-window").length>0)){var l=c.host.parents(".jqx-window").css("z-index");h.css("z-index",l+10),c.container.css("z-index",l+10)}},setupInstance:function(){var b=this,c={setContent:function(a){b.dropDownButtonContent.children().remove(),b.dropDownButtonContent[0].innerHTML="",b.dropDownButtonContent.append(a)},val:function(a){return 0==arguments.length||"object"==typeof a?b.dropDownButtonContent.text():void b.dropDownButtonContent.html(a)},getContent:function(){return b.dropDownButtonContent.children().length>0?b.dropDownButtonContent.children():b.dropDownButtonContent.text()},_setSize:function(){null!=b.width&&b.width.toString().indexOf("px")!=-1?b.host[0].style.width=b.width:void 0==b.width||isNaN(b.width)||(b.host[0].style.width=parseInt(b.width)+"px"),null!=b.height&&b.height.toString().indexOf("px")!=-1?b.host[0].style.height=b.height:void 0==b.height||isNaN(b.height)||(b.host[0].style.height=parseInt(b.height)+"px");var c=!1;null!=b.width&&b.width.toString().indexOf("%")!=-1&&(c=!0,b.host.width(b.width)),null!=b.height&&b.height.toString().indexOf("%")!=-1&&(c=!0,b.host.height(b.height));var d=this;c&&b.refresh(!1),a.jqx.utilities.resize(b.host,function(){d._arrange()})},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXButton"+b.element.id);return null!=c&&c==b.popupContent},focus:function(){try{b.host.focus()}catch(a){}},render:function(){b.removeHandlers();var c=this,d=!1;b.touch||(b.addHandler(b.host,"mouseenter",function(){!c.disabled&&c.enableHover&&(d=!0,c.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-hover")),c.arrow.addClass(c.toThemeProperty("jqx-icon-arrow-down-hover")),c.host.addClass(c.toThemeProperty("jqx-fill-state-hover")))}),b.addHandler(b.host,"mouseleave",function(){!c.disabled&&c.enableHover&&(c.host.removeClass(c.toThemeProperty("jqx-dropdownlist-state-hover")),c.host.removeClass(c.toThemeProperty("jqx-fill-state-hover")),c.arrow.removeClass(c.toThemeProperty("jqx-icon-arrow-down-hover")),d=!1)})),c.autoOpen&&(b.addHandler(b.host,"mouseenter",function(){var a=c.isOpened();!a&&c.autoOpen&&(c.open(),c.host.focus())}),b.addHandler(a(document),"mousemove."+c.element.id,function(a){var b=c.isOpened();if(b&&c.autoOpen){var d=c.host.coord(),e=d.top,f=d.left,g=c.container.coord(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+c.host.height()&&a.pageX>=f&&a.pageX<f+c.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+c.container.height()&&a.pageX>=h&&a.pageX<h+c.container.width()&&(canClose=!1),canClose&&c.close()}})),b.addHandler(b.dropDownButtonWrapper,"mousedown",function(a){if(!c.disabled){var b="visible"==c.container.css("visibility");if(!c.isanimating){if(b)return c.close(),!1;c.open(),c.focusable||a.preventDefault&&a.preventDefault()}}}),b.touch&&b.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+b.element.id,c.closeOpenedDropDown,{me:this,popup:b.container,id:b.element.id}),b.addHandler(a(document),"mousedown."+b.element.id,c.closeOpenedDropDown,{me:this,popup:b.container,id:b.element.id}),b.addHandler(b.host,"keydown",function(a){var b="visible"==c.container.css("visibility");return"none"==c.host.css("display")||("13"==a.keyCode&&(c.isanimating||b&&c.close()),115==a.keyCode?(c.isanimating||(c.isOpened()?c.isOpened()&&c.close():c.open()),!1):(a.altKey&&"block"==c.host.css("display")&&(38==a.keyCode?c.isOpened()&&c.close():40==a.keyCode&&(c.isOpened()||c.open())),void("27"==a.keyCode&&(c.ishiding||(c.close(),void 0!=c.tempSelectedIndex&&c.selectIndex(c.tempSelectedIndex))))))}),b.addHandler(b.firstDiv,"focus",function(){c.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-focus")),c.host.addClass(c.toThemeProperty("jqx-fill-state-focus"))}),b.addHandler(b.firstDiv,"blur",function(){c.host.removeClass(c.toThemeProperty("jqx-dropdownlist-state-focus")),c.host.removeClass(c.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var c=this;b.removeHandler(b.dropDownButtonWrapper,"mousedown"),b.removeHandler(b.host,"keydown"),b.removeHandler(b.firstDiv,"focus"),b.removeHandler(b.firstDiv,"blur"),b.removeHandler(b.host,"mouseenter"),b.removeHandler(b.host,"mouseleave"),b.autoOpen&&(b.removeHandler(b.host,"mouseenter"),b.removeHandler(b.host,"mouseleave")),b.removeHandler(a(document),"mousemove."+c.element.id)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).coord(!0);return[c.left,c.top]},testOffset:function(c,d,e){var f=c.outerWidth(),g=c.outerHeight(),h=a(window).width()+a(window).scrollLeft(),i=a(window).height()+a(window).scrollTop();if(d.left+f>h&&f>b.host.width()){var j=b.host.coord().left,k=f-b.host.width();d.left=j-k+2}return d.left<0&&(d.left=parseInt(b.host.coord().left)+"px"),d.top-=Math.min(d.top,d.top+g>i&&i>g?Math.abs(g+e+22):0),d},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},open:function(){a.jqx.aria(this,"aria-expanded",!0);var b=this,c=this;if((null==b.dropDownWidth||"auto"==b.dropDownWidth)&&null!=b.width&&b.width.indexOf&&b.width.indexOf("%")!=-1){var d=b.host.width();b.container.width(parseInt(d))}c._raiseEvent("2");var e,f=b.popupContent,g=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(b._findPos(b.host[0])[1])+parseInt(b.host.outerHeight())-1+"px"),h=parseInt(Math.round(b.host.coord(!0).left));e=h+"px";var i=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();b.ishiding=!1,b.tempSelectedIndex=b.selectedIndex,null!=i&&i&&(e=a.jqx.mobile.getLeftPos(b.element),g=a.jqx.mobile.getTopPos(b.element)+parseInt(b.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(g=parseInt(g)-b._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(e=parseInt(e)-b._getBodyOffset().left+"px")),f.stop(),b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-selected")),b.host.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-selected"));var j=!1;a.jqx.browser.msie&&a.jqx.browser.version<8&&(j=!0),j&&b.container.css("display","block"),b.container.css("left",e),b.container.css("top",g);var k=!1,l=function(){if("right"==b.dropDownHorizontalAlignment||b.rtl){var a=b.container.width(),c=Math.abs(a-b.host.width());a>b.host.width()?b.container.css("left",parseInt(Math.round(h))-c+"px"):b.container.css("left",parseInt(Math.round(h))+c+"px")}};if(l.call(this),"top"==b.dropDownVerticalAlignment){var m=f.height();k=!0,b.container.height(f.outerHeight()),f.addClass(this.toThemeProperty("jqx-popup-up"));var n=parseInt(b.host.outerHeight()),o=parseInt(g)-Math.abs(m+n);b.interval&&clearInterval(b.interval),b.interval=setInterval(function(){if(f.outerHeight()!=b.container.height()){b.container.height(f.outerHeight());var a=parseInt(g)-Math.abs(f.height()+n);b.container.css("top",a)}},50),f.css("top",23),b.container.css("top",o)}if(b.enableBrowserBoundsDetection){var p=b.testOffset(f,{left:parseInt(b.container.css("left")),top:parseInt(g)},parseInt(b.host.outerHeight()));parseInt(b.container.css("top"))!=p.top?(k=!0,b.container.height(f.outerHeight()),f.css("top",23),b.interval&&clearInterval(b.interval),b.interval=setInterval(function(){if(f.outerHeight()!=c.container.height()){var a=c.testOffset(f,{left:parseInt(b.container.css("left")),top:parseInt(g)},parseInt(b.host.outerHeight()));b.container.css("top",a.top),b.container.height(f.outerHeight())}},50)):f.css("top",0),b.container.css("top",p.top),parseInt(b.container.css("left"))!=p.left&&b.container.css("left",p.left)}if("none"==b.animationType)b.container.css("visibility","visible"),a.data(document.body,"openedJQXButtonParent",c),a.data(document.body,"openedJQXButton"+b.element.id,f),f.css("margin-top",0),f.css("opacity",1),b._raiseEvent("0"),l.call(c);else{b.container.css("visibility","visible");var q=f.outerHeight();c.isanimating=!0,"fade"==b.animationType?(f.css("margin-top",0),f.css("opacity",0),f.animate({opacity:1},b.openDelay,function(){a.data(document.body,"openedJQXButtonParent",c),a.data(document.body,"openedJQXButton"+c.element.id,f),c.ishiding=!1,c.isanimating=!1,c._raiseEvent("0")}),l.call(c)):(f.css("opacity",1),k?f.css("margin-top",q):f.css("margin-top",-q),l.call(c),k?f.animate({"margin-top":0},b.openDelay,function(){a.data(document.body,"openedJQXButtonParent",c),a.data(document.body,"openedJQXButton"+c.element.id,f),c.ishiding=!1,c.isanimating=!1,c._raiseEvent("0")}):f.animate({"margin-top":0},b.openDelay,function(){a.data(document.body,"openedJQXButtonParent",c),a.data(document.body,"openedJQXButton"+c.element.id,f),c.ishiding=!1,c.isanimating=!1,c._raiseEvent("0")}))}k?(b.host.addClass(b.toThemeProperty("jqx-rc-t-expanded")),b.container.addClass(b.toThemeProperty("jqx-rc-b-expanded"))):(b.host.addClass(b.toThemeProperty("jqx-rc-b-expanded")),b.container.addClass(b.toThemeProperty("jqx-rc-t-expanded"))),b.focusable&&(b.firstDiv.focus(),setTimeout(function(){c.firstDiv.focus()},10)),b.container.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(c.toThemeProperty("jqx-fill-state-focus"))},close:function(){a.jqx.aria(this,"aria-expanded",!1);var b=this,c=b.popupContent,d=b.container,e=this;e._raiseEvent("3");var f=!1;if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(f=!0),b.isOpened()){if(a.data(document.body,"openedJQXButton"+b.element.id,null),"none"==b.animationType)b.container.css("visibility","hidden"),f&&b.container.css("display","none");else if(!e.ishiding){e.isanimating=!0,c.stop();var g=c.outerHeight();c.css("margin-top",0);var h=-g;parseInt(b.container.coord().top)<parseInt(b.host.coord().top)&&(h=g),"fade"==b.animationType?(c.css({opacity:1}),c.animate({opacity:0},b.closeDelay,function(){d.css("visibility","hidden"),e.isanimating=!1,e.ishiding=!1,f&&d.css("display","none")})):c.animate({"margin-top":h},b.closeDelay,function(){d.css("visibility","hidden"),e.isanimating=!1,e.ishiding=!1,f&&d.css("display","none")})}b.ishiding=!0,b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-selected")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b.arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-selected")),b.host.removeClass(b.toThemeProperty("jqx-rc-b-expanded")),b.container.removeClass(b.toThemeProperty("jqx-rc-t-expanded")),b.host.removeClass(b.toThemeProperty("jqx-rc-t-expanded")),b.container.removeClass(b.toThemeProperty("jqx-rc-b-expanded")),b.container.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._raiseEvent("1")}},closeOpenedDropDown:function(b){var c=b.data.me,d=a(b.target);if(a(b.target).ischildof(b.data.me.host))return!0;if(a(b.target).ischildof(b.data.me.popupContent))return!0;var e=!1;return a.each(d.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&this.className.indexOf("dropDownButton")!=-1)return e=!0,!1;if(this.className.indexOf&&this.className.indexOf("jqx-popup")!=-1)return e=!0,!1}}),e||c.close(),!0},refresh:function(){b._arrange()},_arrange:function(){var a=this,b=parseInt(a.host.width()),c=parseInt(a.host.height()),d=(a.arrowSize,a.arrowSize),e=3,f=b-d-2*e;if(f>0&&(a.dropDownButtonContent[0].style.width=f+"px"),a.dropDownButtonContent[0].style.height=parseInt(c)+"px",a.dropDownButtonContent[0].style.left="0px",a.dropDownButtonContent[0].style.top="0px",a.dropDownButtonArrow[0].style.width=parseInt(d)+"px",a.dropDownButtonArrow[0].style.height=parseInt(c)+"px",a.rtl&&(a.dropDownButtonArrow.css("float","left"),a.dropDownButtonContent.css("float","right"),a.dropDownButtonContent.css("left",-e)),null!=a.dropDownWidth)if(a.dropDownWidth.toString().indexOf("%")>=0){var b=parseInt(a.dropDownWidth)*a.host.width()/100;a.container.width(b)}else a.container.width(a.dropDownWidth);null!=a.dropDownHeight&&a.container.height(a.dropDownHeight)},destroy:function(){a.jqx.utilities.resize(this.host,null,!0);var b=this;b.interval&&clearInterval(b.interval),a.jqx.utilities.resize(this.host,null,!0),b.host.parents()&&b.removeHandler(b.host.parents(),"scroll.dropdownbutton"+b.element.id),b.touch&&b.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+b.element.id),b.removeHandler(b.dropDownButtonWrapper,"selectstart"),b.removeHandler(b.dropDownButtonWrapper,"mousedown"),b.removeHandler(b.host,"keydown"),b.host.removeClass(),b.removeHandler(a(document),"mousedown."+b.element.id,self.closeOpenedDropDown),b.host.remove(),b.container.remove()},_raiseEvent:function(c,d){void 0==d&&(d={owner:null}),2!=c||b.contentInitialized||b.initContent&&(b.initContent(),b.contentInitialized=!0);var e=b.events[c];args=d,args.owner=this;var f=new a.Event(e);f.owner=this,2!=c&&3!=c&&4!=c||(f.args=d);var g=b.host.trigger(f);return g},resize:function(a,c){b.width=a,b.height=c,b._setSize(),b._arrange()},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&(a._setSize(),a._arrange(),a.close())},propertyChangedHandler:function(c,d,e,f){void 0!=b.isInitialized&&0!=b.isInitialized&&(c.batchUpdate&&c.batchUpdate.width&&c.batchUpdate.height&&2==Object.keys(c.batchUpdate).length||("template"==d&&(c.host.removeClass(c.toThemeProperty("jqx-"+e)),c.host.addClass(c.toThemeProperty("jqx-"+c.template))),"rtl"==d&&(f?(c.dropDownButtonArrow.css("float","left"),c.dropDownButtonContent.css("float","right")):(c.dropDownButtonArrow.css("float","right"),c.dropDownButtonContent.css("float","left"))),"autoOpen"==d&&c.render(),"theme"==d&&null!=f&&a.jqx.utilities.setTheme(e,f,c.host),"width"!=d&&"height"!=d||(c._setSize(),c._arrange())))}};a.extend(!0,this,c)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxDropDownList","",{}),a.extend(a.jqx._jqxDropDownList.prototype,{defineInstance:function(){var b={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:999999999990,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"],enableContextMenu:!0,showToolBox:!1,toolBoxTemplate:null,hasThreeStates:!1};return this===a.jqx._jqxDropDownList.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){this.render()},render:function(){var b=this;b.width||(b.width=200),b.height||(b.height=25);var c=b.element.nodeName.toLowerCase();if("select"==c||"ul"==c||"ol"==c){b.field=b.element,b.field.className&&(b._className=b.field.className);var d={title:b.field.title};b.field.id.length?d.id=b.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":d.id=a.jqx.utilities.createId()+"_jqxDropDownList";var e=a("<div></div>",d);b.width||(b.width=a(b.field).width()),b.height||(b.height=a(b.field).outerHeight()),e[0].style.cssText=b.field.style.cssText,a(b.field).hide().after(e);var f=b.host.data();if(b.host=e,b.host.data(f),b.element=e[0],b.element.id=b.field.id,b.field.id=d.id,b._className&&(b.host.addClass(b._className),a(b.field).removeClass(b._className)),b.field.tabIndex){var g=b.field.tabIndex;b.field.tabIndex=-1,b.element.tabIndex=g}var h=a.jqx.parseSourceTag(b.field);b.source=h.items,b.selectedIndex==-1&&(b.selectedIndex=h.index)}else if(b.host.find("li").length>0||b.host.find("option").length>0){var h=a.jqx.parseSourceTag(that.element);b.source=h.items}b.element.innerHTML="",b.isanimating=!1,b.id=b.element.id||a.jqx.utilities.createId(),b.host.attr("role","combobox"),a.jqx.aria(b,"aria-autocomplete","both"),a.jqx.aria(b,"aria-readonly",!1);var i="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");b.host.attr("tabindex")||b.host.attr("tabindex",0);b.touch=a.jqx.mobile.isTouchDevice(),b.comboStructure=i,b.element.innerHTML=i,b.dropdownlistWrapper=a(b.element.firstChild.firstChild),b.dropdownlistArrow=a(b.dropdownlistWrapper[0].firstChild.nextSibling),b.arrow=a(b.dropdownlistArrow[0].firstChild),b.dropdownlistContent=a(b.dropdownlistWrapper[0].firstChild),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),b.rtl&&b.dropdownlistContent.addClass(b.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),b.addHandler(b.dropdownlistWrapper,"selectstart",function(){return!1}),b.dropdownlistWrapper[0].id="dropdownlistWrapper"+b.element.id,b.dropdownlistArrow[0].id="dropdownlistArrow"+b.element.id,b.dropdownlistContent[0].id="dropdownlistContent"+b.element.id,b._addInput(),"Please Choose:"!=b.promptText&&(b.placeHolder=b.promptText);var j=b.toThemeProperty("jqx-widget")+" "+b.toThemeProperty("jqx-dropdownlist-state-normal")+" "+b.toThemeProperty("jqx-rc-all")+" "+b.toThemeProperty("jqx-fill-state-normal");b.element.className+=" "+j,b._firstDiv=a(b.element.firstChild);try{var k="listBox"+b.id,l=a(a.find("#"+k));l.length>0&&l.remove(),a.jqx.aria(b,"aria-owns",k),a.jqx.aria(b,"aria-haspopup",!0);var m=a("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+b.id+"'><div id='innerListBox"+b.id+"'></div></div>");m.hide(),"element"==b.dropDownContainer?m.appendTo(b.host):m.appendTo(document.body),b.container=m,b.listBoxContainer=a(a.find("#innerListBox"+b.id));var n=b.width;"auto"!=b.dropDownWidth&&(n=b.dropDownWidth),null==n&&(n=b.host.width(),0==n&&(n=b.dropDownWidth)),null==b.dropDownHeight&&(b.dropDownHeight=200);b.container.width(parseInt(n)+25),b.container.height(parseInt(b.dropDownHeight)+25),b._ready=!1,b.addHandler(b.listBoxContainer,"bindingComplete",function(c){b.listBox||(b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance),b.selectedIndex!=b.listBoxContainer.jqxListBox("selectedIndex")?(b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance,b.listBoxContainer.jqxListBox({selectedIndex:b.selectedIndex}),b.renderSelection("mouse")):b.renderSelection("mouse"),b._ready||(b.ready&&b.ready(),b._ready=!0),b._raiseEvent("6")}),b.addHandler(b.listBoxContainer,"itemAdd",function(a){b._raiseEvent("7",a.args)}),b.addHandler(b.listBoxContainer,"itemRemove",function(a){b._raiseEvent("8",a.args)}),b.addHandler(b.listBoxContainer,"itemUpdate",function(a){b._raiseEvent("9",a.args)}),b.addHandler(b.listBoxContainer,"select",function(a){if(!b.disabled){if(!a.args)return;b.selectedIndex=a.args.index,"keyboard"!=a.args.type||b.isOpened()||b.renderSelection(),("keyboard"!=a.args.type||b.keyboardSelection)&&(b.renderSelection(),b._raiseEvent("2",{index:a.args.index,type:a.args.type,item:a.args.item,originalEvent:a.args.originalEvent}),"mouse"==a.args.type&&(b.checkboxes||(b.hideListBox(),b._firstDiv&&b.focusable&&b._firstDiv.focus())))}}),b.listBoxContainer.jqxListBox({$dataBinders$:b.$dataBinders$,hasThreeStates:b.hasThreeStates,filterHeight:b.filterHeight,filterPlaceHolder:b.filterPlaceHolder,filterDelay:b.filterDelay,autoItemsHeight:b.autoItemsHeight,filterable:b.filterable,allowDrop:!1,allowDrag:!1,autoBind:b.autoBind,_checkForHiddenParent:!1,focusable:b.focusable,touchMode:b.touchMode,checkboxes:b.checkboxes,rtl:b.rtl,_renderOnDemand:!0,emptyString:b.emptyString,itemHeight:b.itemHeight,width:n,searchMode:b.searchMode,incrementalSearch:b.incrementalSearch,incrementalSearchDelay:b.incrementalSearchDelay,groupMember:b.groupMember,searchMember:b.searchMember,displayMember:b.displayMember,valueMember:b.valueMember,height:b.dropDownHeight,autoHeight:b.autoDropDownHeight,scrollBarSize:b.scrollBarSize,selectedIndex:b.selectedIndex,source:b.source,theme:b.theme,enableContextMenu:b.enableContextMenu,rendered:function(){b.selectedIndex!=b.listBoxContainer.jqxListBox("selectedIndex")?(b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance,b.listBoxContainer.jqxListBox({selectedIndex:b.selectedIndex}),b.renderSelection("mouse")):b.renderSelection("mouse")},renderer:b.renderer,filterChange:function(c){if(b.autoDropDownHeight)if(b.showToolBox)b._arrangeToolBox();else{b.container.height(b.listBoxContainer.outerHeight()+25);var d=parseInt(b.host.offset().top),e=parseInt(b.host.height()),f=parseInt(b.listBoxContainer.outerHeight()),g=parseInt(b.container.height()),h=a(window).height()+a(window).scrollTop(),i=h-(d+e);"top"==b.dropDownVerticalAlignment&&b.container.css("top",d-g),b.enableBrowserBoundsDetection&&(i<f?b.container.css("top",d-g):b.container.css("top",d)),b.listBoxContainer.css("top",e-2)}}}),"element"===b.dropDownContainer?b.listBoxContainer.css({position:"absolute",top:0,left:0}):b.listBoxContainer.css({position:"absolute",zIndex:b.popupZIndex,top:0,left:0}),b.template&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-"+b.template+"-item")),b.listBox=a.data(b.listBoxContainer[0],"jqxListBox").instance,b.listBox.enableSelection=b.enableSelection,b.listBox.enableHover=b.enableHover,b.listBox.equalItemsWidth=b.equalItemsWidth,b.listBox._arrange(),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&b.listBoxContainer.addClass(b.toThemeProperty("jqx-noshadow")),b.addHandler(b.listBoxContainer,"unselect",function(a){b._raiseEvent("3",{index:a.args.index,type:a.args.type,item:a.args.item})}),b.addHandler(b.listBoxContainer,"change",function(a){a.args&&("keyboard"!=a.args.type?b._raiseEvent("4",{index:a.args.index,type:a.args.type,item:a.args.item}):"keyboard"==a.args.type&&(b.isOpened()||b._raiseEvent("4",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})))}),"none"==b.animationType?b.container.css("display","none"):b.container.hide()}catch(o){console}var b=b;if(b.propertyChangeMap.disabled=function(b,c,d,e){e?(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content-disabled"))):(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.removeClass(b.toThemeProperty("jqx-dropdownlist-content-disabled"))),a.jqx.aria(b,"aria-disabled",b.disabled)},b.disabled&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==b.dropDownVerticalAlignment?b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-up")):b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.arrow.addClass(b.toThemeProperty("jqx-icon")),"simple"===b.renderMode&&(b.arrow.remove(),b.host.removeClass(b.toThemeProperty("jqx-fill-state-normal")),b.host.removeClass(b.toThemeProperty("jqx-rc-all"))),b.template&&b.host.addClass(b.toThemeProperty("jqx-"+b.template)),b._updateHandlers(),b._setSize(),b._arrange(),b.showToolBox&&b._createToolBox(),b.listBox&&b.renderSelection(),a.jqx.browser.msie&&a.jqx.browser.version<8&&b.host.parents(".jqx-window").length>0){var p=b.host.parents(".jqx-window").css("z-index");m.css("z-index",p+10),b.listBoxContainer.css("z-index",p+10)}},_createToolBox:function(){var b=this,c={WRAPPER:"aui-dropdownlist-toolbox-wrapper",BOX:"aui-dropdownlist-toolbox",BTN:"aui-dropdownlist-toolbox-button",CHECK_ALL:"aui-dropdownlist-toolbox-checkall",UNCHECK_ALL:"aui-dropdownlist-toolbox-uncheckall",ON:"aui-dropdownlist-toolbox-filter-on",OFF:"aui-dropdownlist-toolbox-filter-off"},d="auto"==b.dropDownWidth?b.host.width():b.dropDownWidth;if(!b.container.toolBoxContainer){var e="<div id='toolBoxWrapper"+b.id+"' class='"+c.WRAPPER+"'></div>";b.container.prepend(e),b.container.toolBoxContainer=b.container.find("#toolBoxWrapper"+b.id)}if(void 0!=b.toolBoxTemplate&&null!=b.toolBoxTemplate)b.container.toolBoxContainer.empty(),b.container.toolBoxContainer.html(b.toolBoxTemplate);else{var f="<div id='toolBox"+b.id+"' class='"+c.BOX+"'><div class='"+c.BTN+" "+c.CHECK_ALL+"'></div><div class='"+c.BTN+" "+c.UNCHECK_ALL+"'></div><div class='"+c.BTN+" "+c.OFF+"'></div></div>";b.container.toolBoxContainer.append(f),b.container.toolBox=b.container.toolBoxContainer.find("#toolBox"+b.id),b.addHandler(b.container.toolBox.children(),"click",function(d){var e=a(this);e.hasClass(c.CHECK_ALL)?b.checkAll():e.hasClass(c.UNCHECK_ALL)?b.uncheckAll():e.hasClass(c.OFF)?(b.listBoxContainer.jqxListBox("_showCheckedItemsFirst",!0),e.removeClass(c.OFF),e.addClass(c.ON)):e.hasClass(c.ON)&&(b.listBoxContainer.jqxListBox("_showCheckedItemsFirst",!1),e.removeClass(c.ON),e.addClass(c.OFF))})}b.container.toolBoxContainer.css({"z-Index":b.popupZIndex,width:d+2})},_arrangeToolBox:function(){if(this.showToolBox){var a=parseInt(this._findPos(this.host[0])[1]),b=parseInt(this.host.height()),c=this.listBoxContainer.outerHeight(),d=parseInt(this.container.toolBoxContainer.outerHeight());if(this.container.height(c+d),this._islistBoxUp()){var e=a+2-(c+d)+"px";this.container.css("top",e)}else this.container.css("top",a+1+b);this.listBoxContainer.css({top:d})}},_islistBoxUp:function(){var b=parseInt(this._findPos(this.host[0])[1]),c=parseInt(this.host.height()),d=this.listBoxContainer.outerHeight(),e=parseInt(this.container.toolBoxContainer.outerHeight()),f=!1;
if(this.enableBrowserBoundsDetection){var g=a(window).height()+a(window).scrollTop(),h=g-(b+c);f=h<d+e}return"top"==this.dropDownVerticalAlignment&&(f=!0),f},_setToolBoxWidth:function(a){this.container.toolBoxContainer.css("width",parseInt(a)+2)},showCheckedItemsFirst:function(a){var b=this;a?b.listBoxContainer.jqxListBox("_showCheckedItemsFirst",!0):b.listBoxContainer.jqxListBox("_showCheckedItemsFirst",!1)},getItemByVisibleIndex:function(a){for(var b=this.getItems(),c=0;c<b.length;c++)if(b[c].visibleIndex==a)return b[c]},resize:function(a,b){this.width=a,this.height=b,this._setSize(),this._arrange()},val:function(a){if(!this.dropdownlistContent)return"";var b=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return"number"!=typeof a&&("date"!=typeof a&&("boolean"!=typeof a&&"string"!=typeof a))};if(this.input&&(b(a)||0==arguments.length))return this.input.val();var c=this.getItemByValue(a);return null!=c&&this.selectItem(c),this.input?this.input.val():void 0},focus:function(){try{var a=this,b=function(){a.host&&(a.host.focus(),a._firstDiv&&a._firstDiv.focus())};b(),setTimeout(function(){b()},10)}catch(c){}},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b)},getItems:function(a){if(!this.listBox)return new Array;if(a){for(var b=[],c=this.listBox.items,d=0;d<c.length;d++)b[c[d].visibleIndex]=c[d];return b}return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;null!=this.width&&this.width.toString().indexOf("%")!=-1&&(b=!0,this.element.style.width=this.width),null!=this.height&&this.height.toString().indexOf("%")!=-1&&(b=!0,this.element.style.height=this.height);var c=this,d=function(){if(c._arrange(),"auto"==c.dropDownWidth){var a=c.host.width();c.listBoxContainer.jqxListBox({width:a}),c.showToolBox&&c._setToolBoxWidth(a),c.container.width(parseInt(a)+25)}};if(b){var e=this.host.width();"auto"!=this.dropDownWidth&&(e=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:e}),this.container.width(parseInt(e)+25)}a.jqx.utilities.resize(this.host,function(){d()},!1,this._checkForHiddenParent)},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXListBox"+this.id);return null!=c&&c==b.listBoxContainer},_updateHandlers:function(){var b=this,c=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&"simple"!==b.renderMode&&(c=!0,b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==b.dropDownVerticalAlignment?b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-hover")):b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.host.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover")),b.arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover")),c=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(a){var c=b.isOpened();c&&b.close()});var d="mousedown";this.touch&&(d=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,d,function(a){if(!b.disabled){var c="block"==b.container.css("display");if(!b.isanimating){if(c)return b.hideListBox(),!1;b.showListBox(),b.focusable||a.preventDefault&&a.preventDefault()}}}),b.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var a=b.isOpened();!a&&b.autoOpen&&(b.open(),b.host.focus())}),a(document).on("mousemove."+b.id,function(a){var c=b.isOpened();if(c&&b.autoOpen){var d=b.host.coord(),e=d.top,f=d.left,g=b.container.coord(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+b.host.height()&&a.pageX>=f&&a.pageX<f+b.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+b.container.height()&&a.pageX>=h&&a.pageX<h+b.container.width()&&(canClose=!1),canClose&&b.close()}})),this.touch?this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(a(document),"mousedown."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(a){var c="block"==b.container.css("display");if("none"==b.host.css("display"))return!0;if(("13"==a.keyCode||"9"==a.keyCode)&&!b.isanimating)return c&&(b.renderSelection(),"13"==a.keyCode&&b.focusable&&b._firstDiv.focus(),b.hideListBox(),b.keyboardSelection||b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),"13"==a.keyCode&&b._raiseEvent("4",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})),!c||"9"==a.keyCode;if(115==a.keyCode)return b.isanimating||(b.isOpened()?b.isOpened()&&b.hideListBox():b.showListBox()),!1;if(a.altKey&&"block"==b.host.css("display"))if(38==a.keyCode){if(b.isOpened())return b.hideListBox(),!0}else if(40==a.keyCode&&!b.isOpened())return b.showListBox(),!0;return"27"!=a.keyCode||b.ishiding?b.disabled?void 0:(b._kbnavigated=b.listBox._handleKeyDown(a),b._kbnavigated):(b.isOpened()&&(b.hideListBox(),void 0!=b.tempSelectedIndex&&b.selectIndex(b.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(a){b.renderSelection(),b._updateInputSelection(),b._raiseEvent(5,{label:a.args.label,value:a.args.value,checked:a.args.checked,item:a.args.item})}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(a){if(!b.disabled){if(b.listBox.itemswrapper&&a.target===b.listBox.itemswrapper[0])return!0;b.renderSelection("mouse"),b.touch||b.ishiding||b.checkboxes||(b.hideListBox(),b._firstDiv&&b.focusable&&b._firstDiv.focus()),b.keyboardSelection||(b._kbnavigated===!1&&(b.tempSelectedIndex!=b.selectedIndex&&b._raiseEvent("4",{index:b.selectedIndex,type:"mouse",item:b.getItem(b.selectedIndex)}),b._kbnavigated=!0),void 0==b._oldSelectedInd&&(b._oldSelectedIndx=b.selectedIndex),b.selectedIndex!=b._oldSelectedIndx&&(b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),b._oldSelectedIndx=b.selectedIndex))}}),this.addHandler(this.host,"focus",function(a){"simple"!==b.renderMode&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(a){"simple"!==b.renderMode&&(b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==b.renderMode&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var b=this,c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,c),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(a(document),"mousemove."+b.id)},getItem:function(a){if(this.showToolBox)return this.getItemByVisibleIndex(a);var b=this.listBox.getItem(a);return b},getItemByValue:function(a){var b=this.listBox.getItemByValue(a);return b},selectItem:function(a){void 0!=this.listBox&&(this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(a){void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"))},checkItem:function(a){void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeterminateItem:function(a){void 0!=this.listBox&&this.listBox.indeterminateItem(a)},renderSelection:function(){if(null!=this.listBox){this.height&&this.height.toString().indexOf("%")!=-1&&this._arrange();var b=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&this.listBox.selectedIndex==-1)for(var c in this.listBox.selectedValues){var d=this.listBox.selectedValues[c],e=this.listBox.getItemByValue(d);e&&(b=e)}if(this.checkboxes){var f=this.getCheckedItems();b=null!=f&&f.length>0?f[0]:null}if(null==b){var g=a('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');g.appendTo(a(document.body)),g.addClass(this.toThemeProperty("jqx-widget")),g.addClass(this.toThemeProperty("jqx-listitem-state-normal")),g.addClass(this.toThemeProperty("jqx-item")),a.jqx.utilities.html(g,this.placeHolder);var h=this.dropdownlistContent.css("padding-top"),i=this.dropdownlistContent.css("padding-bottom");g.css("padding-top",h),g.css("padding-bottom",i);var j=g.outerHeight();g.remove(),g.removeClass(),a.jqx.utilities.html(this.dropdownlistContent,g);var k=this.host.height();null!=this.height&&void 0!=this.height&&this.height.toString().indexOf("%")===-1&&(k=parseInt(this.height));var l=parseInt((parseInt(k)-parseInt(j))/2);return l>0&&(this.dropdownlistContent.css("margin-top",l+"px"),this.dropdownlistContent.css("margin-bottom",l+"px")),this.selectionRenderer?(a.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(g,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var g=a(document.createElement("span"));g[0].setAttribute("unselectable","on");try{g[0].style.color="inherit"}catch(m){}g[0].style.borderWidth="0px",g[0].style.backgroundColor="transparent",g.appendTo(a(document.body)),g.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var n=!1;try{void 0!=b.html&&null!=b.html&&b.html.toString().length>0?a.jqx.utilities.html(g,b.html):void 0!=b.label&&null!=b.label&&b.label.toString().length>0?a.jqx.utilities.html(g,b.label):null===b.label||""===b.label?(n=!0,a.jqx.utilities.html(g,"")):void 0!=b.value&&null!=b.value&&b.value.toString().length>0?a.jqx.utilities.html(g,b.value):void 0!=b.title&&null!=b.title&&b.title.toString().length>0?a.jqx.utilities.html(g,b.title):""!=b.label&&null!=b.label||(n=!0,a.jqx.utilities.html(g,""))}catch(o){}var h=this.dropdownlistContent[0].style.paddingTop,i=this.dropdownlistContent[0].style.paddingBottom;""===h&&(h="0px"),""===i&&(i="0px"),g[0].style.paddingTop=h,g[0].style.paddingBottom=i;var j=g.outerHeight();0===j&&(j=16),""!=b.label&&null!=b.label||!n||a.jqx.utilities.html(g,"");var p=this.width&&this.width.toString().indexOf("%")<=0;if(g.remove(),g.removeClass(),this.selectionRenderer)a.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(g,b.index,b.label,b.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var q=this.getCheckedItems(),r="",s=0;s<q.length;s++)r+=s==q.length-1?q[s].label:q[s].label+",";g.text(r),p&&g.css("max-width",this.host.width()-30),g.css("overflow","hidden"),g.css("display","block"),this.rtl||p&&g.css("width",this.host.width()-30),g.css("text-overflow","ellipsis"),g.css("padding-bottom",1+parseInt(i)),this.dropdownlistContent.html(g),this.focusable&&this.isOpened()&&this.focus(),this.getCheckedItems().length>0&&a("#"+this.id).attr("title",r)}else{var t=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(p&&(this.rtl||g.css("max-width",t+"px")),g[0].style.overflow="hidden",g[0].style.display="block",g[0].style.paddingTop=1+parseInt(i)+"px",this.rtl||p&&(t<0&&(t=0),g[0].style.width=t+"px"),g[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=g[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var k=this.host.height();null!=this.height&&void 0!=this.height&&this.height.toString().indexOf("%")===-1&&(k=parseInt(this.height));var l=parseInt((parseInt(k)-parseInt(j))/2);l>=0&&(this.dropdownlistContent[0].style.marginTop=l+"px",this.dropdownlistContent[0].style.marginBottom=l+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&a.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var b=new Array;if(this.selectedIndex==-1)this.input.val("");else{var c=this.getSelectedItem();null!=c?(this.input.val(c.value),b.push(c.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var d=this.getCheckedItems(),e="";if(null!=d)for(var f=0;f<d.length;f++){var g=d[f].value;void 0!=g&&(e+=f==d.length-1?g:g+",",b.push(g))}this.input.val(e)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?a.each(this.field,function(c,d){a(this).removeAttr("selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this).attr("selected",!0)}):a.each(this.items,function(c,d){a(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(b){a.jqx.utilities.html(this.dropdownlistContent,b),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(b){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||a.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(a,b){isNaN(a)||(this.listBox.unselectIndex(a,b),this.renderSelection())},selectIndex:function(a,b,c,d){this.listBox.selectIndex(a,b,c,d,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(a){return this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),this.listBox.addItem(a)},insertAt:function(a,b){return null!=a&&this.listBox.insertAt(a,b)},removeAt:function(a){var b=this.listBox.removeAt(a);return this.renderSelection("mouse"),b},removeItem:function(a){var b=this.listBox.removeItem(a);return this.renderSelection("mouse"),b},updateItem:function(a,b){var c=this.listBox.updateItem(a,b);return this.renderSelection("mouse"),c},updateAt:function(a,b){var c=this.listBox.updateAt(a,b);return this.renderSelection("mouse"),c},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){return this.listBox.disableAt(a)},enableAt:function(a){return this.listBox.enableAt(a)},disableItem:function(a){return this.listBox.disableItem(a)},enableItem:function(a){return this.listBox.enableItem(a)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).coord(!0);return[c.left,c.top]},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.coord().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.coord().left)+"px"),c.top-=Math.min(c.top,c.top+f+25>h&&h>f?Math.abs(f+d+22):0),c},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showListBox:function(){if(a.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(this.width.indexOf("%")!=-1||this.width.indexOf("auto")!=-1)&&this.listBox.host.width()!=this.host.width()){var b=this.host.width();this.listBoxContainer.jqxListBox({width:b}),this.container.width(parseInt(b)+25)}var c,d=this,e=this.listBoxContainer,f=this.listBox,g=(a(window).scrollTop(),a(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));c=h+"px","element"===this.dropDownContainer&&(g=parseInt(this.host.outerHeight())-1+"px",c=0);var i=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();if(null!=this.listBox&&(!this.listBox.items||0!=this.listBox.items.length)){if(this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight)if(this.showToolBox){var j=this.container.toolBoxContainer.height();this.container.height(this.listBoxContainer.height()+25+j)}else this.container.height(this.listBoxContainer.height()+25);null!=i&&i&&(c=a.jqx.mobile.getLeftPos(this.element),g=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=a("body").css("border-top-width")&&(g=parseInt(g)-this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(c=parseInt(c)-this._getBodyOffset().left+"px")),e.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",c),this.container.css("top",g),f._arrange();var k=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var l=this.container.outerWidth(),m=Math.abs(l-this.host.width());l>this.host.width()?this.container.css("left",25+parseInt(Math.round(h))-m+"px"):this.container.css("left",25+parseInt(Math.round(h))+m+"px")}if("top"==this.dropDownVerticalAlignment){var n=e.height();k=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"));var o=parseInt(this.host.outerHeight()),p=parseInt(g)-Math.abs(n+o+23);this.container.css("top",p)}if(this.enableBrowserBoundsDetection){var q=this.testOffset(e,{left:parseInt(this.container.css("left")),top:parseInt(g)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=q.top?(k=!0,e.css("top",23),e.addClass(this.toThemeProperty("jqx-popup-up"))):e.css("top",0),this.container.css("top",q.top),parseInt(this.container.css("left"))!=q.left&&this.container.css("left",q.left)}if("none"==this.animationType)d.showToolBox&&d.container.toolBoxContainer.css("display","block"),this.container.css("display","block"),a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+this.id,e),e.css("margin-top",0),e.css("opacity",1),f._renderItems(),d._raiseEvent("0",f);else if(this.container.css("display","block"),d.isanimating=!0,"fade"==this.animationType)d.showToolBox?(d.container.css("margin-top",0),d.container.css("opacity",0),d.container.animate({opacity:1},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+d.id,e),d.ishiding=!1,d.isanimating=!1,f._renderItems(),d._raiseEvent("0",f),d.focusable&&d.focus()})):(e.css("margin-top",0),e.css("opacity",0),e.animate({opacity:1},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+d.id,e),d.ishiding=!1,d.isanimating=!1,f._renderItems(),d._raiseEvent("0",f),d.focusable&&d.focus()}));else{if(e.css("opacity",1),d.showToolBox){k=this._islistBoxUp();var j=d.container.toolBoxContainer.outerHeight(),r=d.container.outerHeight();k?(e.css("margin-top",r+j),d.container.toolBoxContainer.css("margin-top",r)):(e.css("margin-top",-(r+j)),d.container.toolBoxContainer.css("margin-top",-j)),d.container.toolBoxContainer.animate({"margin-top":0},this.openDelay,function(){})}else{var s=e.outerHeight();k?e.css("margin-top",s):e.css("margin-top",-s)}e.animate({"margin-top":0},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",d),a.data(document.body,"openedJQXListBox"+d.id,e),d.ishiding=!1,d.isanimating=!1,f._renderItems(),d._raiseEvent("0",f),d.focusable&&d.focus()})}this.showToolBox&&(k=this._islistBoxUp()),k?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.showToolBox?(this.container.toolBoxContainer.addClass(this.toThemeProperty("jqx-rc-b-expanded")),e.addClass(this.toThemeProperty("jqx-rc-b-expanded")),e.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):e.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.showToolBox?(this.container.toolBoxContainer.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.container.toolBoxContainer.addClass(this.toThemeProperty("jqx-rc-b-expanded")),e.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):e.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(this.showToolBox&&this.container.toolBoxContainer.addClass(this.toThemeProperty("jqx-fill-state-focus")),e.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this._arrangeToolBox()}},hideListBox:function(){a.jqx.aria(this,"aria-expanded",!1);var b=this.listBoxContainer,c=this.listBox,d=this.container,e=this;if(a.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!e.ishiding){b.stop();var f=b.outerHeight();b.css("margin-top",0),e.isanimating=!0;var g=-f;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=f),"fade"==this.animationType)e.showToolBox?(e.container.css({opacity:1}),e.container.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})):(b.css({opacity:1}),b.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1}));else{if(e.showToolBox){var h=e.container.toolBoxContainer.outerHeight(),i=-(h+f);parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(i=h+f),e.container.toolBoxContainer.animate({"margin-top":i},this.closeDelay,function(){e.isanimating=!1,e.ishiding=!1})}b.animate({"margin-top":g},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})}}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),b.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),b.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),b.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.showToolBox&&(this.container.toolBoxContainer.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.toolBoxContainer.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.container.toolBoxContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus"))),this._raiseEvent("1",c)},closeOpenedListBox:function(b){var c=b.data.me,d=a(b.target),e=b.data.listbox;if(null==e)return!0;if(a(b.target).ischildof(b.data.me.host))return!0;if(!c.isOpened())return!0;if(a(b.target).ischildof(c.listBoxContainer))return!0;if(c.listBox&&c.listBox.contextMenu&&d.ischildof(c.listBox.contextMenu))return!0;if(c.showToolBox&&d.ischildof(c.container.toolBoxContainer))return!0;var f=!1;return a.each(d.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1)return f=!0,!1;if(this.className.indexOf("jqx-dropdownlist")!=-1)return c.element.id==this.id&&(f=!0),!1}}),null!=e&&!f&&c.isOpened()&&c.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(a){a!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var a=this,b=parseInt(a.host.width()),c=parseInt(a.host.height()),d=(a.arrowSize,a.arrowSize),e=3,f=b-d-2*e;if(f>0&&"auto"!==a.width?a.dropdownlistContent[0].style.width=f+"px":f<=0&&(a.dropdownlistContent[0].style.width="0px"),"auto"===a.width&&(a.dropdownlistContent.css("width","auto"),b=a.dropdownlistContent.width()+d+2*e,a.host.width(b)),a.dropdownlistContent[0].style.height=c+"px",a.dropdownlistContent[0].style.left="0px",a.dropdownlistContent[0].style.top="0px",a.dropdownlistArrow[0].style.width=d+"px",a.width&&a.width.toString().indexOf("%")>=0){var g=100*d/b,h=100*f/b;a.dropdownlistArrow[0].style.width=g+"%",a.dropdownlistContent[0].style.width=h+"%"}a.dropdownlistArrow[0].style.height=c+"px",a.rtl&&(a.dropdownlistArrow.css("float","left"),a.dropdownlistContent.css("float","right"))},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.showToolBox&&this.container.toolBoxContainer&&(this.container.toolBox&&(this.removeHandler(this.container.toolBox.find("> div"),"click"),this.container.toolBox.remove()),this.container.toolBoxContainer.remove()),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(a(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var b=a.data(this.element,"jqxDropDownList");b&&delete b.instance,a.removeData(document.body,"openedJQXListBoxParent"),a.removeData(document.body,"openedJQXListBox"+this.id),this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new a.Event(d);e.owner=this,2!=b&&3!=b&&4!=b&&5!=b&&6!=b&&7!=b&&8!=b&&9!=b||(e.args=c);var f=this.host.trigger(e);return f},propertiesChangedHandler:function(a,b,c){if(c.width&&c.height&&2==Object.keys(c).length){if(a._setSize(),"width"==b&&"auto"==a.dropDownWidth){var d=a.host.width();a.listBoxContainer.jqxListBox({width:d}),a.container.width(parseInt(d)+25)}a._arrange(),a.close()}},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)){if("template"==c&&(b.listBoxContainer.removeClass(b.toThemeProperty("jqx-"+d+"-item")),b.listBoxContainer.addClass(b.toThemeProperty("jqx-"+b.template+"-item")),b.host.removeClass(b.toThemeProperty("jqx-"+d)),b.host.addClass(b.toThemeProperty("jqx-"+b.template))),"dropDownVerticalAlignment"==c&&(b.arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up")),b.arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down")),"top"==b.dropDownVerticalAlignment?b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-up")):b.arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.listBoxContainer.css("top",0),b.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==c&&b.listBoxContainer.jqxListBox({autoItemsHeight:e}),"filterable"==c&&b.listBoxContainer.jqxListBox({filterable:e}),"filterHeight"==c&&b.listBoxContainer.jqxListBox({filterHeight:e}),"filterPlaceHolder"==c&&b.listBoxContainer.jqxListBox({filterPlaceHolder:e}),"filterDelay"==c&&b.listBoxContainer.jqxListBox({filterDelay:e}),"enableSelection"==c&&b.listBoxContainer.jqxListBox({enableSelection:e}),"enableHover"==c&&b.listBoxContainer.jqxListBox({enableHover:e}),"autoOpen"==c&&b._updateHandlers(),"emptyString"==c&&(b.listBox.emptyString=b.emptyString),"itemHeight"==c&&b.listBoxContainer.jqxListBox({itemHeight:e}),"renderer"==c&&b.listBoxContainer.jqxListBox({renderer:e}),"rtl"==c&&(e?(b.dropdownlistArrow.css("float","left"),b.dropdownlistContent.css("float","right")):(b.dropdownlistArrow.css("float","right"),b.dropdownlistContent.css("float","left")),b.listBoxContainer.jqxListBox({rtl:b.rtl})),"source"==c&&(b.listBoxContainer.jqxListBox({source:b.source}),b.listBox.selectedIndex=-1,b.listBox.selectIndex(this.selectedIndex),b.renderSelection(),null==e&&b.clear()),"displayMember"!=c&&"valueMember"!=c||(b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember}),b.renderSelection()),"placeHolder"==c&&b.renderSelection(),"theme"==c&&null!=e&&(b.listBoxContainer.jqxListBox({theme:e}),b.listBoxContainer.addClass(b.toThemeProperty("jqx-popup")),a.jqx.utilities.setTheme(d,e,b.host)),"autoDropDownHeight"==c&&(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.autoDropDownHeight?b.showToolBox?b._arrangeToolBox():b.container.height(b.listBoxContainer.height()+25):(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.showToolBox?b._arrangeToolBox():b.container.height(parseInt(b.dropDownHeight)+25)),b.listBox._arrange(),b.listBox._updatescrollbars()),"searchMode"==c&&b.listBoxContainer.jqxListBox({searchMode:b.searchMode}),"incrementalSearch"==c&&b.listBoxContainer.jqxListBox({
incrementalSearch:b.incrementalSearch}),"incrementalSearchDelay"==c&&b.listBoxContainer.jqxListBox({incrementalSearchDelay:b.incrementalSearchDelay}),"dropDownHeight"==c&&(b.autoDropDownHeight||(b.listBoxContainer.jqxListBox({height:b.dropDownHeight}),b.showToolBox?b._arrangeToolBox():b.container.height(parseInt(b.dropDownHeight)+25))),"dropDownWidth"==c||"scrollBarSize"==c){var f=b.width;"auto"!=b.dropDownWidth&&(f=b.dropDownWidth),b.listBoxContainer.jqxListBox({width:f,scrollBarSize:b.scrollBarSize}),b.container.width(parseInt(f)+25),b.showToolBox&&b._setToolBoxWidth(f)}if(("width"==c||"height"==c)&&e!=d){if(this.refresh(),"width"==c&&"auto"==b.dropDownWidth){var f=b.host.width();b.listBoxContainer.jqxListBox({width:f}),b.container.width(parseInt(f)+25),b.showToolBox&&b._setToolBoxWidth(f)}b.close()}"checkboxes"==c&&b.listBoxContainer.jqxListBox({checkboxes:b.checkboxes}),"selectedIndex"==c&&null!=b.listBox&&(b.listBox.selectIndex(parseInt(e)),b.renderSelection()),"enableContextMenu"==c&&b.listBoxContainer.jqxListBox({enableContextMenu:b.enableContextMenu}),"toolBoxTemplate"==c&&b.showToolBox&&(b._createToolBox(),b._arrangeToolBox()),"showToolBox"==c&&e!=d&&1==b.showToolBox&&(b._createToolBox(),b._arrangeToolBox()),"$dataBinders$"==c&&null!=b.listBoxContainer&&b.listBoxContainer.jqxListBox({$dataBinders$:e})}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxEditor","",{}),a.extend(a.jqx._jqxEditor.prototype,{defineInstance:function(){var b={width:null,height:null,disabled:!1,pasteMode:"html",editable:!0,lineBreak:"default",changeType:null,toolbarPosition:"top",fontFamily:"sans-serif",commands:{bold:{tooltip:"Bold",command:"bold",type:"toggleButton"},italic:{tooltip:"Italic",command:"italic",type:"toggleButton"},underline:{tooltip:"Underline",command:"underline",type:"toggleButton"},format:{placeHolder:"Format Block",tooltip:"Format Block",command:"formatblock",value:[{value:"p",label:"Paragraph"},{value:"h1",label:"Header 1"},{value:"h2",label:"Header 2"},{value:"h3",label:"Header 3"},{value:"h4",label:"Header 4"}],type:"list",width:120,dropDownWidth:190,height:25},font:{placeHolder:"Font",tooltip:"Font Name",command:"fontname",value:[{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Comic Sans MS",value:'"Comic Sans MS", cursive, sans-serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Georgia",value:"Georgia,serif"},{label:"Impact",value:"Impact,Charcoal,sans-serif"},{label:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{label:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{label:"Times New Roman",value:"'Times New Roman',Times,serif"},{label:"Trebuchet MS",value:'"Trebuchet MS",Helvetica,sans-serif'},{label:"Verdana",value:"Verdana,Geneva,sans-serif"}],type:"list",width:160,height:25,dropDownWidth:160},size:{placeHolder:"Size",tooltip:"Font Size",command:"fontsize",value:[{label:"1 (8pt)",value:"xx-small"},{label:"2 (10pt)",value:"x-small"},{label:"3 (12pt)",value:"small"},{label:"4 (14pt)",value:"medium"},{label:"5 (18pt)",value:"large"},{label:"6 (24pt)",value:"x-large"},{label:"7 (36pt)",value:"xx-large"}],type:"list",width:45,height:25,dropDownWidth:160},color:{tooltip:"Text Color",command:"forecolor",value:"#000",type:"colorPicker"},background:{tooltip:"Fill Color",command:"backcolor",value:"#fff",type:"colorPicker"},left:{tooltip:"Align Left",command:"justifyleft",type:"toggleButton"},center:{tooltip:"Align Center",command:"justifycenter",type:"toggleButton"},right:{tooltip:"Align Right",command:"justifyright",type:"toggleButton"},outdent:{tooltip:"Indent Less",command:"outdent",type:"button"},indent:{tooltip:"Indent More",command:"indent",type:"button"},ul:{tooltip:"Insert unordered list",command:"insertunorderedlist",type:"toggleButton"},ol:{tooltip:"Insert ordered list",command:"insertorderedlist",type:"toggleButton"},image:{tooltip:"Insert image",command:"insertimage",type:"button"},link:{tooltip:"Insert link",command:"createlink",type:"toggleButton"},html:{tooltip:"View source",command:"viewsource",type:"toggleButton"},clean:{tooltip:"Remove Formatting",command:"removeformat",type:"button"}},createCommand:null,defaultLocalization:{bold:"Bold",italic:"Italic",underline:"Underline",format:"Format Block",font:"Font Name",size:"Font Size",color:"Text Color",background:"Fill Color",left:"Align Left",center:"Align Center",right:"Align Right",outdent:"Indent Less",indent:"Indent More",ul:"Insert unordered list",ol:"Insert ordered list",image:"Insert image",link:"Insert link",html:"View source",clean:"Remove Formatting",Remove:"Remove",Ok:"Ok",Cancel:"Cancel",Change:"Change","Go to link":"Go to link","Open in a new window/tab":"Open in a new window/tab",Align:"Align",VSpace:"VSpace",HSpace:"HSpace",Width:"Width",Height:"Height",Title:"Title",URL:"URL","Insert Image":"Insert Image","Insert Link":"Insert Link","Alt Text":"Alt Text","not set":"&ltnot set&gt",Left:"Left",Right:"Right",Paragraph:"Paragraph",Header:"Header",Arial:"Arial","Comic Sans MS":"Comic Sans MS","Courier New":"Courier New",Georgia:"Georgia",Impact:"Impact","Lucida Console":"Lucida Console",Tahoma:"Tahoma","Times New Roman":"Times New Roman","Trebuchet MS":"Trebuchet MS",Verdana:"Verdana"},localization:null,tools:"bold italic underline | format font size | color background | left center right | outdent indent | ul ol | image | link | clean | html",readOnly:!1,stylesheets:new Array,rtl:!1,colorPickerTemplate:'<div class="jqx-editor-color-picker"><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (0, 0, 0)"><div title="RGB (0, 0, 0)" style="background-color: rgb(0, 0, 0);"></div></td><td aria-label="RGB (68, 68, 68)"><div title="RGB (68, 68, 68)" style="background-color: rgb(68, 68, 68);"></div></td><td aria-label="RGB (102, 102, 102)"><div title="RGB (102, 102, 102)" style="background-color: rgb(102, 102, 102);"></div></td><td aria-label="RGB (153, 153, 153)"><div title="RGB (153, 153, 153)" style="background-color: rgb(153, 153, 153);"></div></td><td aria-label="RGB (204, 204, 204)"><div title="RGB (204, 204, 204)" style="background-color: rgb(204, 204, 204);"></div></td><td aria-label="RGB (238, 238, 238)"><div title="RGB (238, 238, 238)" style="background-color: rgb(238, 238, 238);"></div></td><td aria-label="RGB (243, 243, 243)"><div title="RGB (243, 243, 243)" style="background-color: rgb(243, 243, 243);"></div></td><td aria-label="RGB (255, 255, 255)"><div title="RGB (255, 255, 255)" style="background-color: rgb(255, 255, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (255, 0, 0)"><div title="RGB (255, 0, 0)" style="background-color: rgb(255, 0, 0);"></div></td><td aria-label="RGB (255, 153, 0)"><div title="RGB (255, 153, 0)" style="background-color: rgb(255, 153, 0);"></div></td><td aria-label="RGB (255, 255, 0)"><div title="RGB (255, 255, 0)" style="background-color: rgb(255, 255, 0);"></div></td><td aria-label="RGB (0, 255, 0)"><div title="RGB (0, 255, 0)" style="background-color: rgb(0, 255, 0);"></div></td><td aria-label="RGB (0, 255, 255)"><div title="RGB (0, 255, 255)" style="background-color: rgb(0, 255, 255);"></div></td><td aria-label="RGB (0, 0, 255)"><div title="RGB (0, 0, 255)" style="background-color: rgb(0, 0, 255);"></div></td><td aria-label="RGB (153, 0, 255)"><div title="RGB (153, 0, 255)" style="background-color: rgb(153, 0, 255);"></div></td><td aria-label="RGB (255, 0, 255)"><div title="RGB (255, 0, 255)" style="background-color: rgb(255, 0, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (244, 204, 204)"><div title="RGB (244, 204, 204)" style="background-color: rgb(244, 204, 204);"></div></td><td aria-label="RGB (252, 229, 205)"><div title="RGB (252, 229, 205)" style="background-color: rgb(252, 229, 205);"></div></td><td aria-label="RGB (255, 242, 204)"><div title="RGB (255, 242, 204)" style="background-color: rgb(255, 242, 204);"></div></td><td aria-label="RGB (217, 234, 211)"><div title="RGB (217, 234, 211)" style="background-color: rgb(217, 234, 211);"></div></td><td aria-label="RGB (208, 224, 227)"><div title="RGB (208, 224, 227)" style="background-color: rgb(208, 224, 227);"></div></td><td aria-label="RGB (207, 226, 243)"><div title="RGB (207, 226, 243)" style="background-color: rgb(207, 226, 243);"></div></td><td aria-label="RGB (217, 210, 233)"><div title="RGB (217, 210, 233)" style="background-color: rgb(217, 210, 233);"></div></td><td aria-label="RGB (234, 209, 220)"><div title="RGB (234, 209, 220)" style="background-color: rgb(234, 209, 220);"></div></td></tr><tr><td id="T-Kw-Jn88" aria-label="RGB (234, 153, 153)"><div title="RGB (234, 153, 153)" style="background-color: rgb(234, 153, 153);"></div></td><td aria-label="RGB (249, 203, 156)"><div title="RGB (249, 203, 156)" style="background-color: rgb(249, 203, 156);"></div></td><td aria-label="RGB (255, 229, 153)"><div title="RGB (255, 229, 153)" style="background-color: rgb(255, 229, 153);"></div></td><td aria-label="RGB (182, 215, 168)"><div title="RGB (182, 215, 168)" style="background-color: rgb(182, 215, 168);"></div></td><td aria-label="RGB (162, 196, 201)"><div title="RGB (162, 196, 201)" style="background-color: rgb(162, 196, 201);"></div></td><td aria-label="RGB (159, 197, 232)"><div title="RGB (159, 197, 232)" style="background-color: rgb(159, 197, 232);"></div></td><td aria-label="RGB (180, 167, 214)"><div title="RGB (180, 167, 214)" style="background-color: rgb(180, 167, 214);"></div></td><td aria-label="RGB (213, 166, 189)"><div title="RGB (213, 166, 189)" style="background-color: rgb(213, 166, 189);"></div></td></tr><tr><td aria-label="RGB (224, 102, 102)"><div title="RGB (224, 102, 102)" style="background-color: rgb(224, 102, 102);"></div></td><td aria-label="RGB (246, 178, 107)"><div title="RGB (246, 178, 107)" style="background-color: rgb(246, 178, 107);"></div></td><td aria-label="RGB (255, 217, 102)"><div title="RGB (255, 217, 102)" style="background-color: rgb(255, 217, 102);"></div></td><td aria-label="RGB (147, 196, 125)"><div title="RGB (147, 196, 125)" style="background-color: rgb(147, 196, 125);"></div></td><td aria-label="RGB (118, 165, 175)"><div title="RGB (118, 165, 175)" style="background-color: rgb(118, 165, 175);"></div></td><td aria-label="RGB (111, 168, 220)"><div title="RGB (111, 168, 220)" style="background-color: rgb(111, 168, 220);"></div></td><td aria-label="RGB (142, 124, 195)"><div title="RGB (142, 124, 195)" style="background-color: rgb(142, 124, 195);"></div></td><td aria-label="RGB (194, 123, 160)"><div title="RGB (194, 123, 160)" style="background-color: rgb(194, 123, 160);"></div></td></tr><tr><td id="T-Kw-Jn104" aria-label="RGB (204, 0, 0)"><div title="RGB (204, 0, 0)" style="background-color: rgb(204, 0, 0);"></div></td><td aria-label="RGB (230, 145, 56)"><div title="RGB (230, 145, 56)" style="background-color: rgb(230, 145, 56);"></div></td><td aria-label="RGB (241, 194, 50)"><div title="RGB (241, 194, 50)" style="background-color: rgb(241, 194, 50);"></div></td><td aria-label="RGB (106, 168, 79)"><div title="RGB (106, 168, 79)" style="background-color: rgb(106, 168, 79);"></div></td><td aria-label="RGB (69, 129, 142)"><div title="RGB (69, 129, 142)" style="background-color: rgb(69, 129, 142);"></div></td><td aria-label="RGB (61, 133, 198)"><div title="RGB (61, 133, 198)" style="background-color: rgb(61, 133, 198);"></div></td><td aria-label="RGB (103, 78, 167)"><div title="RGB (103, 78, 167)" style="background-color: rgb(103, 78, 167);"></div></td><td aria-label="RGB (166, 77, 121)"><div title="RGB (166, 77, 121)" style="background-color: rgb(166, 77, 121);"></div></td></tr><tr><td aria-label="RGB (153, 0, 0)"><div title="RGB (153, 0, 0)" style="background-color: rgb(153, 0, 0);"></div></td><td aria-label="RGB (180, 95, 6)"><div title="RGB (180, 95, 6)" style="background-color: rgb(180, 95, 6);"></div></td><td aria-label="RGB (191, 144, 0)"><div title="RGB (191, 144, 0)" style="background-color: rgb(191, 144, 0);"></div></td><td aria-label="RGB (56, 118, 29)"><div title="RGB (56, 118, 29)" style="background-color: rgb(56, 118, 29);"></div></td><td aria-label="RGB (19, 79, 92)"><div title="RGB (19, 79, 92)" style="background-color: rgb(19, 79, 92);"></div></td><td aria-label="RGB (11, 83, 148)"><div title="RGB (11, 83, 148)" style="background-color: rgb(11, 83, 148);"></div></td><td aria-label="RGB (53, 28, 117)"><div title="RGB (53, 28, 117)" style="background-color: rgb(53, 28, 117);"></div></td><td aria-label="RGB (116, 27, 71)"><div title="RGB (116, 27, 71)" style="background-color: rgb(116, 27, 71);"></div></td></tr><tr><td aria-label="RGB (102, 0, 0)"><div title="RGB (102, 0, 0)" style="background-color: rgb(102, 0, 0);"></div></td><td aria-label="RGB (120, 63, 4)"><div title="RGB (120, 63, 4)" style="background-color: rgb(120, 63, 4);"></div></td><td aria-label="RGB (127, 96, 0)"><div title="RGB (127, 96, 0)" style="background-color: rgb(127, 96, 0);"></div></td><td aria-label="RGB (39, 78, 19)"><div title="RGB (39, 78, 19)" style="background-color: rgb(39, 78, 19);"></div></td><td aria-label="RGB (12, 52, 61)"><div title="RGB (12, 52, 61)" style="background-color: rgb(12, 52, 61);"></div></td><td aria-label="RGB (7, 55, 99)"><div title="RGB (7, 55, 99)" style="background-color: rgb(7, 55, 99);"></div></td><td aria-label="RGB (32, 18, 77)"><div title="RGB (32, 18, 77)" style="background-color: rgb(32, 18, 77);"></div></td><td aria-label="RGB (76, 17, 48)"><div title="RGB (76, 17, 48)" style="background-color: rgb(76, 17, 48);"></div></td></tr></tbody></table></div></div>',touchMode:!1,keyPressed:null,events:["change"]};return this===a.jqx._jqxEditor.prototype?b:(a.extend(!0,this,b),this.localization=this.defaultLocalization,b)},createInstance:function(c){var d=this;d.textArea=d.host;var e=d.host.attr("contenteditable");if(d.host.addClass(d.toThemeProperty("jqx-widget")),1==e||"true"==e){d.inline=!0,d.widget=d.host,d.editorDocument=document,d.selection=new b(d.editorDocument);var f=a("<div class='jqx-editor-toolbar-container' unselectable='on' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div>");f.insertBefore(d.host),d.toolbarContainer=f,d.toolbar=f.find(".jqx-editor-toolbar"),d.editor=d.host,d.contentEditableElement=d.element}else{var g=a("<div class='jqx-editor'><div class='jqx-editor-container'><div class='jqx-editor-toolbar-container' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div></div><div class='jqx-editor-content'><iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe></div></div></div>");d.widget=g,d.widget[0].className=d.widget[0].className+" "+d.element.className;try{d.widget[0].style=d.element.style}catch(h){}var i=a.trim(d.host.html())+"&#8203;";"default"==d.lineBreak||"div"==d.lineBreak?i="<div>"+i+"</div>":"p"==d.lineBreak&&(i="<p>"+i+"</p>"),i=i.replace(/&lt;/gi,"<"),i=i.replace(/&gt;/gi,">"),d.host.css("display","none"),d.host.after(g),g.find("iframe").after(d.host),d.container=g.find(".jqx-editor-container"),d.toolbarContainer=g.find(".jqx-editor-toolbar-container"),d.toolbar=g.find(".jqx-editor-toolbar"),d.iframe=g.find("iframe"),d.content=g.find(".jqx-editor-content");var j=function(){d.editorDocument=d.iframe[0].contentWindow.document,d.selection=new b(d.editorDocument);var c=0;d.addHandler(d.iframe,"load",function(){if(c++,c>1){d.iframe.off("load"),d.content.find("iframe").remove();a("<iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe>").appendTo(d.content);d.iframe=g.find("iframe"),j()}}),a.jqx.browser.mozilla||(d.editorDocument.designMode="On"),d.editorDocument.open();var e=d.rtl?"direction:rtl;":"",f=a.jqx.browser.msie?"::selection{color: #fff; background: #328EFD;};::-moz-selection{color: #fff; background: #328eD;};::selection:window-inactive {background: #c7c7c7; color: #000;}::-moz-selection:window-inactive {background: #c7c7c7; color: #000;}html{font-size:13px; height:100%;}body{padding-top:1px;margin-top:-1px; padding-right: 1px; overflow-x: hidden;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;":"";if(d.editorDocument.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0; margin:0; font-size: 13px; font-family: "+d.fontFamily+"; background:#fff; min-height:100%; "+e+"}"+f+"}h1{font-size:2em;margin:.67em 0}h2{font-size: 1.5em; margin: .75em 0}h3{font-size: 1.17em; margin: .83em 0}h4{font-size:1em; margin: 1.12em 0 }h5{font-size: .83em; margin: 1.5em 0}h6{font-size: .75em; margin: 1.67em 0}p{margin: 0px;padding:0 .2em}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.jqx-editor-paste-element {position: absolute; left: -1000px; height: 1px; overflow: hidden; top: -1000px;}.jqx-editor-focus {border: 1px solid #aaa !important;}</style>"+a.map(d.stylesheets,function(a){return"<link rel='stylesheet' href='"+a+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),d.contentEditableElement=d.editorDocument.body,d.host.is("textarea")){d._textArea=d.element;var h=d.host.data();h.jqxEditor.host=g,h.jqxEditor.element=g[0],d.element=g[0],g[0].id=d._textArea.id,d._textArea.id=d._textArea.id+"TextArea",a(d.element).addClass(d.toThemeProperty("jqx-widget")),d.host=a(d.element),d.host.data(h)}else{var h=d.host.data();h.jqxEditor.host=g,h.jqxEditor.element=g[0],d.element=g[0],d.host=a(d.element),d.host.data(h)}try{d.editorDocument.execCommand("useCSS",!1,!1),d.editorDocument.execCommand("enableInlineTableEditing",null,!1)}catch(k){}try{d.editorDocument.execCommand("styleWithCSS",0,!0)}catch(k){}d.editorDocument.close(),d.editor=a(d.editorDocument.body),d.editor.html(i).attr("spellcheck",!1).attr("autocorrect","off")};j(),a.jqx.utilities.resize(d.host,function(){d.widget.css("width",d.width),d.widget.css("height",d.height),d._arrange()})}},focus:function(){var b=this;a.jqx.browser.mozilla&&(b.focused||(b.iframe&&b.iframe.focus(),b.selection.selectNode(b.editor[0].firstChild,!0),b.selection.getRange().collapse(!0))),b.editor.focus();var c=null!=b.range?b.range:b.getRange();b.selectRange(c)},print:function(){var a=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");a.document.open(),a.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+this.val()+"</body></html>"),a.document.close()},refresh:function(b){var c=this;a.each(this.defaultLocalization,function(a,b){c.localization[a]||(c.localization[a]=b)}),c._removeHandlers(),c.toolbar.addClass(c.toThemeProperty("jqx-widget-header")),c.content?(c.widget.css("width",c.width),c.widget.css("height",c.height),c.widget.addClass(c.toThemeProperty("jqx-editor")),c.widget.addClass(c.toThemeProperty("jqx-widget")),c.widget.addClass(c.toThemeProperty("jqx-rc-all")),c.widget.addClass(c.toThemeProperty("jqx-widget-header")),c.content.addClass(c.toThemeProperty("jqx-widget-content")),c.container.addClass(c.toThemeProperty("jqx-editor-container"))):(c.toolbarContainer.addClass(c.toThemeProperty("jqx-widget-header")),c.toolbarContainer.addClass(c.toThemeProperty("jqx-editor-toolbar-inline")),c.toolbarContainer.addClass(c.toThemeProperty("jqx-widget")),c.toolbarContainer.addClass(c.toThemeProperty("jqx-rc-all")),c.toolbarContainer.hide(),c.toolbarContainer.css("position","absolute"),c.editor.addClass(c.toThemeProperty("jqx-editor-inline")),c.toolbarContainer.css("width",c.host.outerWidth()+"px"));var d=c.toolbarContainer.index();if("top"==c.toolbarPosition&&0!=d||"bottom"==c.toolbarPosition&&1!=d)switch(c.toolbarPosition){case"bottom":c.toolbarContainer.insertAfter(c.content);break;case"top":default:c.toolbarContainer.insertBefore(c.content)}var e=c.tools;if(e!==!1){var f=e.split(" "),g=e.split(" | "),h=function(b,d){a.each(d,function(e,f){var g=c.commands[this];if(g){if(c.createCommand){var h=c.createCommand(this.toString());g=a.extend(g,h)}}else{if(!c.createCommand)return!0;if(g=c.createCommand(this.toString()),!g)return!0;c.commands[this]||(c.commands[this]=g)}switch(c.localization[this]&&(g.tooltip=c.localization[this]),g.type){case"list":g.widget&&g.widget.jqxDropDownList("destroy");var i=function(a,b,c){return"formatblock"==g.command?"<"+c+' unselectable="on" style="padding: 0px; margin: 0px;">'+b+"</"+c+">":"fontname"==g.command?'<span unselectable="on" style="font-family: '+c+';">'+b+"<span>":"fontsize"==g.command?'<span unselectable="on" style="font-size: '+c+';">'+b+"<span>":void 0},j=function(){var a=c.toThemeProperty("jqx-editor-toolbar-icon")+" "+c.toThemeProperty("jqx-editor-toolbar-icon-"+g.command),b="<div unselectable='on' style='margin-top: 0px; padding:0px;' class='"+a+"'></div>";return b},k="formatblock"==g.command||"fontname"==g.command||"fontsize"==g.command,l=g.value||[],m=new Array,n=g.placeHolder||"Please Choose:";"fontname"==g.command?a.each(l,function(){var a=c.localization[this.label];m.push({label:a,value:this.value})}):"formatblock"==g.command?(n=c.localization.format,a.each(l,function(){if(this.label.indexOf("Header")>=0)var a=this.label.replace("Header",c.localization.Header);else var a=c.localization[this.label];m.push({label:a,value:this.value})})):m=l;var o={enableBrowserBoundsDetection:!0,touchMode:c.touchMode,width:g.width||100,height:g.height||25,dropDownWidth:g.dropDownWidth||"auto",autoDropDownHeight:(g.value&&g.value.length)<12,placeHolder:n,source:m,theme:c.theme,keyboardSelection:!1,focusable:!1,disabled:c.disabled,rtl:c.rtl,selectionRenderer:"fontsize"==g.command?j:null,renderer:k?i:null},p="jqx-disableselect "+c.toThemeProperty("jqx-editor-dropdownlist")+" "+c.toThemeProperty("jqx-editor-toolbar-item"),q=a("<div unselectable='on' class='"+p+"'></div>");q.appendTo(b),q.jqxDropDownList(o),g.init&&g.init(q);var f=null,r=null,s="";c.addHandler(q,"mousedown",function(b){if(a(".jqx-editor-dropdownpicker").length>0&&a(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),a(".jqx-editor-dropdownlist").length>0){var c=a(".jqx-editor-dropdownlist");a.each(c,function(b,c){c!=q[0]&&a(c).jqxDropDownList("close")})}}),c.addHandler(q,"open",function(a){c.focused||c.focus(),c.updating=!0,c.activeElement=q,f=q.val(),s=""}),c.addHandler(q,"change",function(b){c.updating=!1,c.activeElement=null,r=q.val(),s=b.args.type,a.jqx.browser.msie&&a.jqx.browser.version<9&&c.focus()}),c.addHandler(q,"close",function(a){c.updating=!1,c.activeElement=null,f!=r&&("mouse"!=s&&"keyboard"!=s||c._refreshTools())}),c._addCommandHandler(q,"change",g.command,null,g);break;case"colorPicker":g.widget&&(a(g.colorPicker).remove(),g.widget.jqxDropDownButton("destroy"));var t=a('<div unselectable="on" style="padding-top: 4px;"></div>').attr("id","picker-"+g.command),p="jqx-disableselect "+c.toThemeProperty("jqx-editor-dropdownpicker")+" "+c.toThemeProperty("jqx-editor-toolbar-item"),q=a("<div unselectable='on' class='"+p+"'></div>");q.appendTo(b),q.append(t),q.jqxDropDownButton({touchMode:c.touchMode,disabled:c.disabled,enableBrowserBoundsDetection:!0,width:g.width||45,height:g.height||25,rtl:c.rtl,focusable:!1,theme:c.theme});var u=a('<div unselectable="on" style="z-index: 55;">'),v=c.toThemeProperty("jqx-editor-toolbar-icon")+" "+c.toThemeProperty("jqx-editor-toolbar-icon-"+g.command),w=a("<div unselectable='on' class='"+v+"'></div>");u.append(w);var x=a('<div unselectable="on" class="jqx-editor-color-bar">').attr("id","bar-"+g.command).css("background-color",g.value);u.append(x),q.jqxDropDownButton("setContent",u),t.append(a(c.colorPickerTemplate)),g.colorPicker=t,g.init&&g.init(q),t.find("tr").attr("role","row").attr("unselectable","on"),t.find("td").attr("role","gridcell").attr("unselectable","on").css("-webkit-user-select","none"),t.find("div").attr("unselectable","on"),c.addHandler(q,"mousedown",function(b){if(a(".jqx-editor-dropdownlist").length>0&&a(".jqx-editor-dropdownlist").jqxDropDownList("close"),a(".jqx-editor-dropdownpicker").length>0){var c=a(".jqx-editor-dropdownpicker");a.each(c,function(b,c){c!=q[0]&&a(c).jqxDropDownButton("close")})}}),c.addHandler(q,"open",function(){c.focused||c.focus(),c.updating=!0,c.activeElement=t}),c.addHandler(q,"close",function(a){c.updating=!1,c.activeElement=null,f!=r&&("mouse"!=s&&"keyboard"!=s||c._refreshTools())}),c.addHandler(t,"keydown",function(b){var c=b.keyCode,d=a(t).find(".jqx-editor-color-picker-selected-cell"),e=t.find("tr"),f=e.length,h=d.parent().children().length,i=d.index(),j=-999,k=d.parent();switch(a.each(e,function(a,b){if(this==k[0])return j=a,!1}),c){case 27:q.jqxDropDownButton("close");break;case 13:a(d).trigger("mousedown");break;case 38:j--;break;case 40:j++;break;case 39:i++;break;case 37:i--}if(j>=0&&j<=f&&i>=0&&i<=h){var k=t.find("tr")[j],l=a(k).children()[i],m=a(l).children().css("background-color");g.val(m)}});var y=a(t).find("td");g.val=function(b){var d=c._rgbToHex(b);a.each(y,function(){var b=a(this).children().css("background-color"),e=c._rgbToHex(b);if(e==d)return y.removeClass("jqx-editor-color-picker-selected-cell"),a(this).addClass("jqx-editor-color-picker-selected-cell"),a("#bar-"+g.command).css("background",b),!1})},g.val(g.value),c._addCommandHandler(y,"mousedown",g.command,null,g);break;case"button":case"toggleButton":default:g.widget&&("button"==g.type?g.widget.jqxButton("destroy"):g.widget.jqxToggleButton("destroy"));var z=g.command,A=g.action,v=c.toThemeProperty("jqx-editor-toolbar-icon")+" "+c.toThemeProperty("jqx-editor-toolbar-icon-"+z),w=a("<div unselectable='on' class='"+v+"'></div>"),q=a("<div unselectable='on'></div>").addClass("jqx-disableselect").addClass(c.toThemeProperty("jqx-editor-toolbar-button"));g.init?z&&q.append(w):q.append(w),q.appendTo(b),"button"==g.type?q.jqxButton({disabled:c.disabled,rtl:c.rtl,theme:c.theme}):"toggleButton"==g.type&&q.jqxToggleButton({disabled:c.disabled,rtl:c.rtl,uiToggle:!1,theme:c.theme}),g.init&&g.init(q),g.toggled=!1,g.toggle=function(){g.toggled=!g.toggled},c.addHandler(q,"mousedown",function(a){return a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1}),a.jqx.mobile.isTouchDevice()?c._addCommandHandler(q,"mousedown",z,A,g):c._addCommandHandler(q,"click",z,A,g)}if(g.widget=q,q){try{""!=g.tooltip&&(g.widget.attr("title",g.tooltip),g.widget.attr("data-tooltip",g.tooltip)),g.command&&g.widget.attr("data-command",g.command),a.jqx.aria(g.widget,"aria-label",g.tootip)}catch(B){}"button"!=g.type&&"toggleButton"!=g.type||(d.length>2&&(0==e?(q.css("border-right-radius","0px"),q.addClass(c.toThemeProperty("jqx-rc-l"))):e==d.length-1&&(q.css("border-left-radius","0px"),q.addClass(c.toThemeProperty("jqx-rc-r"))),q.removeClass(c.toThemeProperty("jqx-rc-all"))),0!=e&&e!=d.length-1&&d.length>2?(q.css("border-left-radius","0px"),q.css("border-right-radius","0px"),q.removeClass(c.toThemeProperty("jqx-rc-all"))):2==d.length?(0==e?(q.css("border-right-radius","0px"),q.addClass(c.toThemeProperty("jqx-rc-l"))):(q.css("border-left-radius","0px"),q.addClass(c.toThemeProperty("jqx-rc-r"))),q.removeClass(c.toThemeProperty("jqx-rc-all"))):1==d.length&&q.css("margin-right","0px"))}})};if(c.toolbar.css("direction",this.rtl?"rtl":"ltr"),0==g.length)h(c.toolbar,f);else{for(var i=0;i<g.length;i++){var j=g[i],f=j.split(" "),k=c.toThemeProperty("jqx-editor-toolbar-group")+" "+c.toThemeProperty("jqx-fill-state-normal"),l=a("<div class='"+k+"'></div>");l.addClass(c.toThemeProperty("jqx-rc-all")),c.toolbar.append(l),h(l,f)}for(var m=c.toolbar.find(".jqx-editor-toolbar-group"),n=m.length,i=0;i<n;i++)0==a(m[i]).children().length&&a(m[i]).remove()}a.jqx.browser.msie&&a.jqx.browser.version<8&&(a(".jqx-editor-toolbar-group").css("float","left"),a(".jqx-editor-toolbar-group").children().css("float","left"),a(".jqx-editor-toolbar-group").css("zoom","1"),a(".jqx-editor-toolbar-group").children().css("zoom","1"))}c._arrange(),c._addHandlers()},_arrange:function(){var b=this;b.content&&(""==b.tools||0==b.tools?(b.content.height(b.container.outerHeight()-parseInt(b.container.css("padding-top"))-parseInt(b.container.css("padding-bottom"))-6),b.content.css("margin-top","4px"),b.toolbar.hide()):(b.toolbar.show(),b.content.css("margin-top","0px"),b.content.height(b.container.outerHeight()-b.toolbar.outerHeight()-parseInt(b.container.css("padding-top"))-parseInt(b.container.css("padding-bottom"))-2),"top"!=b.toolbarPosition&&(b.content.css("margin-top","4px"),b.content.css("margin-bottom","0px"))),a.jqx.browser.msie&&a.jqx.browser.version<8&&(b.content.css("margin-top","4px"),b.content.height(b.container.height()-b.toolbar.outerHeight()-2*parseInt(b.container.css("padding-bottom"))-10),b.content.width(b.container.width()-2*parseInt(b.container.css("padding-left"))-2)),b.editor.height()<b.content.height()&&b.editor.height(b.content.height()))},propertyChangedHandler:function(b,c,d,e){var f=b;if(void 0!=f.isInitialized&&0!=f.isInitialized&&"pasteMode"!=c&&"lineBreak"!=c&&"editable"!=c){if("disabled"==c&&b._refreshTools(),"width"==c||"height"==c||"toolbarPosition"==c)return void b._arrange();"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),b.refresh()}},selectRange:function(a){var b=this;a||(a=b.getRange()),b.selection.selectRange(a)},getRange:function(){var a=this;return a.selection.getRange()},getSelectedElement:function(){var a,b,c,d,e=this;try{if(e.editorDocument.getSelection){var f=e.editorDocument.getSelection();return a=f.getRangeAt(f.rangeCount-1),c=a.startContainer,d=a.endContainer,b=a.commonAncestorContainer,"#text"==c.nodeName&&(b=b.parentNode),"#text"==c.nodeName&&(c=c.parentNode),"body"==c.nodeName.toLowerCase()&&(c=c.firstChild),"#text"==d.nodeName&&(d=d.parentNode),"body"==d.nodeName.toLowerCase()&&(d=d.lastChild),c==d&&(b=c),d}if(e.editorDocument.selection){if(a=e.editorDocument.selection.createRange(),!a.duplicate)return null;b=a.parentElement();var g=a.duplicate(),h=a.duplicate();return g.collapse(!0),h.moveToElementText(g.parentElement()),h.setEndPoint("EndToStart",g),c=g.parentElement(),g=a.duplicate(),h=a.duplicate(),h.collapse(!1),g.moveToElementText(h.parentElement()),g.setEndPoint("StartToEnd",h),d=h.parentElement(),"body"==c.nodeName.toLowerCase()&&(c=c.firstChild),"body"==d.nodeName.toLowerCase()&&(d=d.lastChild),c==d&&(b=c),d}}catch(i){return null}return null},_addHandlers:function(){var b=this;b.addHandler(b.toolbar,"mousedown.editor"+b.element.id,function(a){return a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1});var c=function(){if(b._textArea&&(b.updating||(b._textArea.value=b.val())),b.changed&&(b._raiseEvent("change"),b.changed=!1),b.focused=!1,b.inline){if(b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-editor-inline-focus")),""==b.tools||null==b.tools)return;b.toolbarContainer.fadeOut("fast")}},d=function(){if(b.focused=!0,b.inline){if(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.host.addClass(b.toThemeProperty("jqx-editor-inline-focus")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),""==b.tools||null==b.tools)return;b.toolbarContainer.fadeIn("fast");var a=b.host.coord();"bottom"!=b.toolbarPosition?b.toolbarContainer.offset({left:a.left,top:a.top-b.toolbarContainer.outerHeight()-5}):b.toolbarContainer.offset({left:a.left,top:a.top+5+b.host.height()})}};a.jqx.browser.mozilla&&this.addHandler(a(document),"mousedown.editor"+b.element.id,function(a){c()}),b.addHandler(b.editor,"blur.editor"+b.element.id,function(a){c()}),b.addHandler(b.editor,"focus.editor"+b.element.id,function(a){d()}),b.addHandler(b.editor,"beforedeactivate.editor"+b.element.id,function(a){b.range=b.getRange()}),b.addHandler(b.editor,"mousedown.editor"+b.element.id,function(c){c.target.href||b.linkPopup&&b.linkPopup.remove(),b.range=b.getRange(),a.jqx.browser.mozilla&&(d(),c.stopPropagation()),
a(".jqx-editor-dropdownpicker").length>0&&a(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),a(".jqx-editor-dropdownlist").length>0&&a(".jqx-editor-dropdownlist").jqxDropDownList("close"),b.inline&&b.editor.focus()}),a.jqx.mobile.isTouchDevice()&&(b.addHandler(a(b.editorDocument),"selectionchange.editor"+b.element.id,function(){b.editorDocument.activeElement!=b.editor[0]&&setTimeout(function(){b.iframe&&b.iframe[0].contentWindow.focus()},500)}),b.addHandler(a(b.editorDocument),"touchstart.editor"+b.element.id,function(){setTimeout(function(){b.iframe&&b.iframe[0].contentWindow.focus()},500)})),b.addHandler(b.editor,"mouseup.editor"+b.element.id,function(a){return"source"==b._documentMode||(b.range=b.getRange(),void b._refreshTools(null,!0))}),b.addHandler(b.editor,"keydown.editor"+b.element.id,function(c){if(b.keyPressed&&b.keyPressed(c),"source"==b._documentMode)return!0;if(a.jqx.browser.mozilla&&(b.focused||d()),b.changeType="keyboard",b.disabled)return c.preventDefault&&c.preventDefault(),!1;if(b.updating){if(b.activeElement){var e=a.Event("keydown");a.extend(e,c),b.activeElement.trigger(e)}return c.preventDefault&&c.preventDefault(),!1}var f=c||window.event,g=f.keyCode,h=String.fromCharCode(g).toLowerCase();if(!b.editable){var i=[9,33,34,35,36,37,38,39,40,40,45];a.inArray(f.keyCode,i)!=-1||f.ctrlKey&&"c"==h||f.ctrlKey&&"a"==h||c.preventDefault()}if(b.selection.getText().length>0||b.linkPopup){var i=[8,9,13,33,34,35,36,37,38,39,40,40,45,46];(!a.inArray(f.keyCode,i)!=-1||65==f.keyCode&&f.ctrlKey&&!f.altKey&&!f.shiftKey)&&(b._refreshToolsTimer&&clearTimeout(b._refreshToolsTimer),b._refreshToolsTimer=setTimeout(function(){b._refreshTools(null,!0,f.keyCode)},10))}if(13==g&&"default"!=b.lineBreak){var j=b.getSelectedElement();if(j){var k=j.nodeName.toLowerCase();switch(k){case"pre":case"li":case"ul":case"ol":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return!0}for(var l=j;null!=l;){if("#document"==l.nodeName){l=b.editorDocument.body;break}if(l.parentNode==b.editorDocument.body||l==b.editorDocument.body)break;l=l.parentNode}}if(l){var m=b.getRange();"<div></div>"==b.editorDocument.body.innerHTML&&"br"!=b.lineBreak&&b.selection.insertContent("&#8203;"),"div"==b.lineBreak?l==b.editorDocument.body?a(l).append("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>"):a("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(l):"p"==b.lineBreak?l==b.editorDocument.body?a(l).append("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>"):a("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(l):b.execute("insertHTML","<br/>&#8203;<span id='INSERTION_MARKER'>&nbsp;</span>"),b.selectRange(m);var n=a(b.editorDocument).find("#INSERTION_MARKER");return"br"!=b.lineBreak?b.selection.selectNode(a(n).prev()[0],!0):(b.selection.selectNode(n[0],!0),b.getRange().setStartAfter&&b.getRange().setStartAfter(n[0])),n.remove(),b.selection.collapse(!1),l&&l.nodeName&&"br"==b.lineBreak&&"#text"!=l.nodeName.toLowerCase()&&(b.selection.selectNode(l,!0),b.getRange().setStartAfter&&b.getRange().setStartAfter(l),b.selection.collapse(!1)),"br"!=b.lineBreak&&(m=b.getRange(),m.select&&m.select()),c.preventDefault&&c.preventDefault(),!1}}if(f.ctrlKey&&("k"==h||"u"==h||"b"==h||"i"==h)){c.preventDefault&&c.preventDefault();var o=null;switch(h){case"k":o="link";break;case"u":o="underline";break;case"b":o="bold";break;case"i":o="italic"}return b.commands[o].widget&&b.commands[o].widget.trigger("click"),!1}}),b.addHandler(b.editor,"paste.editor"+b.element.id,function(c){if("source"==b._documentMode)return!0;if(b.readOnly)return!0;b.updating=!0,b.readOnly=!0;try{var d=function(a,c){if(c)b.paragraphise?(a="<p>"+a+"</p>",a=a.replace(/\n/g,"</p><p>"),a=a.replace(/<p>\s<\/p>/gi,"")):a=a.replace(/\n/g,"<br />");else{if(a=a.replace(/<html[^>]*?>(.*)/gim,"$1"),a=a.replace(/<\/html>/gi,""),a=a.replace(/<body[^>]*?>(.*)/gi,"$1"),a=a.replace(/<\/body>/gi,""),a=a.replace(/<style[^>]*?>[\s\S]*?<\/style[^>]*>/gi,""),a=a.replace(/<(?:meta|link)[^>]*>\s*/gi,""),a=a.replace(/<\\?\?xml[^>]*>/gi,""),a=a.replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,""),a=a.replace(/<o:p>\s*<\/o:p>/g,""),a=a.replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;"),a=a.replace(/<\/?\w+:[^>]*>/gi,""),a=a.replace(/<\!--[\s\S]*?-->/g,""),a=a.replace(/<\!\[[\s\S]*?\]>/g,""),a=a.replace(/\s*mso-[^:]+:[^;"']+;?/gi,""),a=a.replace(/<(\w[^>]*) style='([^\']*)'([^>]*)/gim,"<$1$3"),a=a.replace(/<(\w[^>]*) style="([^\"]*)"([^>]*)/gim,"<$1$3"),a=a.replace(/\s*margin: 0cm 0cm 0pt\s*;/gi,""),a=a.replace(/\s*margin: 0cm 0cm 0pt\s*"/gi,'"'),a=a.replace(/\s*text-indent: 0cm\s*;/gi,""),a=a.replace(/\s*text-indent: 0cm\s*"/gi,'"'),a=a.replace(/\s*text-align: [^\s;]+;?"/gi,'"'),a=a.replace(/\s*page-break-before: [^\s;]+;?"/gi,'"'),a=a.replace(/\s*font-variant: [^\s;]+;?"/gi,'"'),a=a.replace(/\s*tab-stops:[^;"']*;?/gi,""),a=a.replace(/\s*tab-stops:[^"']*/gi,""),a=a.replace(/\s*face="[^"']*"/gi,""),a=a.replace(/\s*face=[^ >]*/gi,""),a=a.replace(/\s*font-family:[^;"']*;?/gi,""),a=a.replace(/\s*font-size:[^;"']*;?/gi,""),a=a.replace(/<(\w[^>]*) class=([^ |>]*)([^>]*)/gi,"<$1$3"),a=a.replace(/<(\w+)[^>]*\sstyle="[^"']*display\s?:\s?none[\s \S]*?<\/\1>/gi,""),a=a.replace(/\s*style='\s*'/gi,""),a=a.replace(/\s*style="\s*"/gi,""),a=a.replace(/<span\s*[^>]*>\s*&nbsp;\s*<\/span>/gi,"&nbsp;"),a=a.replace(/<span\s*[^>]*><\/span>/gi,""),a=a.replace(/<(\w[^>]*) align=([^ |>]*)([^>]*)/gi,"<$1$3"),a=a.replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3"),a=a.replace(/<span([^>]*)>([\s\S]*?)<\/span>/gi,"$2"),a=a.replace(/<font\s*>([\s\S]*?)<\/font>/gi,"$1"),a=a.replace(/<(u|i|strike)>&nbsp;<\/\1>/gi,"&nbsp;"),a=a.replace(/<h\d>\s*<\/h\d>/gi,""),a=a.replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3"),a=a.replace(/<(\w[^>]*) onmouseover="([^\"']*)"([^>]*)/gi,"<$1$3"),a=a.replace(/<(\w[^>]*) onmouseout="([^\"']*)"([^>]*)/gi,"<$1$3"),a=a.replace(/<h(\d)([^>]*)>/gi,"<h$1>"),a=a.replace(/<(h\d)><font[^>]*>([\s\S]*?)<\/font><\/\1>/gi,"<$1>$2</$1>"),a=a.replace(/<(h\d)><em>([\s\S]*?)<\/em><\/\1>/gi,"<$1>$2</$1>"),a=a.replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>"),a=a.replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,"<em>$1</em>"),a=a.replace(/<\s+[^>]*>/gi,""),a=a.replace(/<span>([\s\S]*?)<\/span>/gi,"$1"),a=a.replace(/<span>([\s\S]*?)<\/span>/gi,"$1"),a=a.replace(/<div>([\s\S]*?)<\/div>/gi,"$1"),a=a.replace(/<div>([\s\S]*?)<\/div>/gi,"$1"),a=a.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),a=a.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),a=a.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),a.trim&&(a=a.trim()),b.paragraphise){var d=a.substr(0,2);"<p"!==d&&(a="<p>"+a+"</p>",a=a.replace(/\n/g,"</p><p>"),a=a.replace(/<br[^>]*>/gi,"</p><p>"))}else a.replace(/<p>/gi,"<br />"),a.replace(/<\/p>/gi,"");a=a.replace(/<br>/gi,"<br />"),a=a.replace(/<br[^>]*><\/p>/gim,"</p>"),a=a.replace(/<p>&nbsp;<\/p>/gi,""),a=a.replace(/<p>\s<\/p>/gi,""),a=a.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,""),a=a.replace(/MsoNormal/gi,""),a=a.replace(/<\/?meta[^>]*>/gi,""),a=a.replace(/<\/?xml[^>]*>/gi,""),a=a.replace(/<\?xml[^>]*\/>/gi,""),a=a.replace(/<!--(.*)-->/gi,""),a=a.replace(/<!--(.*)>/gi,""),a=a.replace(/<!(.*)-->/gi,""),a=a.replace(/<w:[^>]*>(.*)<\/w:[^>]*>/gi,""),a=a.replace(/<w:[^>]*\/>/gi,""),a=a.replace(/<\/?w:[^>]*>/gi,""),a=a.replace(/<m:[^>]*\/>/gi,""),a=a.replace(/<m:[^>]>(.*)<\/m:[^>]*>/gi,""),a=a.replace(/<o:[^>]*>(.*)<\/o:[^>]*>/gi,""),a=a.replace(/<o:[^>]*\/>/gi,""),a=a.replace(/<\/?m:[^>]*>/gi,""),a=a.replace(/style=\"([^>]*)\"/gi,""),a=a.replace(/style=\'([^>]*)\'/gi,""),a=a.replace(/class=\"(.*)\"/gi,""),a=a.replace(/class=\'(.*)\'/gi,""),a=a.replace(/<b>/gi,"<strong>"),a=a.replace(/<\/b>/gi,"</strong>"),a=a.replace(/<p[^>]*>/gi,"<p>"),a=a.replace(/<\/p[^>]*>/gi,"</p>"),a=a.replace(/<span[^>]*>/gi,""),a=a.replace(/<\/span[^>]*>/gi,""),a=a.replace(/<st1:[^>]*>/gi,""),a=a.replace(/<\/st1:[^>]*>/gi,""),a=a.replace(/<font[^>]*>/gi,""),a=a.replace(/<\/font[^>]*>/gi,""),a=a.replace("  ",""),a=a.replace(/<strong><\/strong>/gi,""),a=a.replace(/<p><\/p>/gi,""),a=a.replace(/\/\*(.*)\*\//gi,""),a=a.replace(/<!--/gi,""),a=a.replace(/-->/gi,""),a=a.replace(/<style[^>]*>[^<]*<\/style[^>]*>/gi,""),a=a.trim()}return a},e=b.getRange();"text"!=b.pasteMode||a.jqx.browser.mozilla?b.selection.insertContent('<div class="jqx-editor-paste-element">&nbsp;</div>'):b.selection.insertContent('<textarea cols="50" contenteditable="false" class="jqx-editor-paste-element"></textarea>');var f=a(window).scrollTop(),g=a(b.editorDocument).find(".jqx-editor-paste-element");if(g.css("top",f+"px"),b.editor[0].createTextRange){c.preventDefault();var h=b.editor[0].createTextRange();h.moveToElementText(g[0]),h.execCommand("Paste")}else{var i=b.editorDocument.createRange();i.selectNodeContents(g[0]),b.selectRange(i)}"text"!=b.pasteMode||a.jqx.browser.mozilla||g.select(),b.marker=g,setTimeout(function(){b.selectRange(e);var c=function(a){var c=b.editorDocument.createElement("div"),d=b.editorDocument.createDocumentFragment();for(c.innerHTML=a;c.firstChild;)d.appendChild(c.firstChild);return d};if("text"!=b.pasteMode){var f=c(b.marker.html());if(f.firstChild&&"jqx-editor-paste-element"===f.firstChild.className){for(var g=[],h=0,i=f.childNodes.length;h<i;h++)g.push(f.childNodes[h].innerHTML);f=c(g.join("<br />"))}var j=document.createElement("div");j.appendChild(f.cloneNode(!0));var k=j.innerHTML}else{var k=b.marker.val();if(""!=b.marker.html()&&b.marker.val().indexOf("\n")==-1){var k=b.marker.html();k=k.replace(/&nbsp;/gm,""),k=k.replace(/\n\n/gm,"\n"),k=k.replace(/<br[^>]*>/gi,"\n"),k=k.replace(/<li[^>]*>/gi,"\n"),k=k.replace(/<p[^>]*>/gi,"\n"),b.marker.html(k);var k=b.marker.text()}}var l=d(k,"text"==b.pasteMode);b.getRange();b.selection.insertContent(l+"<span id='INSERTION_MARKER'>&nbsp;</span>"),b.marker.remove();var m=a(b.editorDocument).find("#INSERTION_MARKER");b.selection.selectNode(m[0],!0),b.getRange().setStartAfter&&b.getRange().setStartAfter(m[0]),m.remove(),b.selection.collapse(!1),m.removeAttr("id"),b._refreshTools(),b.changed=!0},100),b.updating=!1,b.readOnly=!1}catch(j){console}}),b.addHandler(b.editor,"keyup.editor"+b.element.id,function(c){if("source"==b._documentMode)return!0;if(b.updating||b.disabled||!b.editable)return c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation(),!1;b.range=b.getRange(),b.changed=!0;var d=c||window.event,e=(d.keyCode,[8,9,13,33,34,35,36,37,38,39,40,40,45,46]);(a.inArray(d.keyCode,e)!=-1||65==d.keyCode&&d.ctrlKey&&!d.altKey&&!d.shiftKey)&&b._refreshTools(null,!0,d.keyCode)}),b.addHandler(b.editor,"click.editor"+b.element.id,function(c){if("source"==b._documentMode)return!0;if(b.editImage&&(a(b.editImage).removeClass("jqx-editor-focus"),b.editImage=null),"img"==c.target.tagName.toLowerCase()){var d=c.target;b.editImage=d,a(b.editImage).addClass("jqx-editor-focus")}}),b.addHandler(b.editor,"dblclick.editor"+b.element.id,function(c){if("source"==b._documentMode)return!0;if("img"==c.target.tagName.toLowerCase()){var d=c.target;a("#imageWindow"+this.element.id).length>0&&(b.editImage=d,b._updateImageWindow())}})},_updateLinkWindow:function(){var b=this,c=a("#linkWindow"+this.element.id);c.jqxWindow({position:{center:b.widget}}),c.jqxWindow("open");var d=c.find("input"),e=c.find(".jqx-editor-link-checkbox"),f=c.find("button:first"),g=a(c.find("button")[1]);if(b.editLink&&b.editLink.href)d[0].value=b.editLink.href||"",d[1].value=a(b.editLink).text()||b.editLink.href,e.val("_blank"==a(b.editLink).attr("target")),g.show();else{if(d[0].value="",d[1].value="",!b.selection.isCollapsed()){var h=b.selection.getText();h.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?d[0].value=h:d[1].value=h}e.val(!1),g.hide()}d[0].value.length>0?f.jqxButton({disabled:!1}):f.jqxButton({disabled:!0})},_updateImageWindow:function(){var b=this,c=b.editImage;c||(c=a("<img>")[0]);var d=a("#imageWindow"+this.element.id);d.jqxWindow({position:{center:b.widget}}),d.jqxWindow("open");var e=d.find("input"),f=a(d.find("button")[1]);b.editImage?f.show():f.hide(),e[0].value=c.src,""==e[0].value&&(e[0].value=""),e[1].value=c.alt,"auto"!=c.style.width?e[2].value=c.style.width:e[2].value="","auto"!=c.style.height?e[3].value=c.style.height:e[3].value="",c.style.marginLeft&&"0px"!=c.style.marginLeft?e[4].value=c.style.marginLeft:e[4].value="",c.style.marginTop&&"0px"!=c.style.marginTop?e[5].value=c.style.marginTop:e[5].value="";var g=d.find(".jqx-editor-align"),h=a(c).css("float");"left"==h?g.jqxDropDownList({selectedIndex:1}):"right"==h?g.jqxDropDownList({selectedIndex:2}):g.jqxDropDownList({selectedIndex:0})},_removeHandlers:function(){var a=this;a.editor&&(a.removeHandler(a.editor,"blur.editor"+a.element.id),a.removeHandler(a.editor,"focus.editor"+a.element.id),a.removeHandler(a.editor,"click.editor"+a.element.id),a.removeHandler(a.editor,"mousedown.editor"+a.element.id),a.removeHandler(a.editor,"mouseup.editor"+a.element.id),a.removeHandler(a.editor,"keyup.editor"+a.element.id),a.removeHandler(a.editor,"keydown.editor"+a.element.id),a.removeHandler(a.editor,"beforedeactivate.editor"+a.element.id),a.removeHandler(a.editor,"dblclick.editor"+a.element.id),a.removeHandler(a.editor,"paste.editor"+a.element.id)),a.toolbar&&a.removeHandler(a.toolbar,"mousedown.editor"+a.element.id)},getParentByTag:function(a,b){var b=b.toLowerCase(),c=a;do if(""==b||c.nodeName.toLowerCase()==b)return c;while(c=c.parentNode);return a},isStyleProperty:function(a,b,c,d){var b=b.toLowerCase(),e=a;do if(e.nodeName.toLowerCase()==b&&e.style[c]==d)return!0;while(e=e.parentNode);return!1},setStyleProperty:function(a,b){this.style[b]=!1;var c=this.getParentByTag(a,b);c&&c.tagName.toLowerCase()==b&&(this.style[b]=!0),"del"==b&&this.getParentByTag(a,"strike")&&"strike"==this.getParentByTag(a,"strike").tagName.toLowerCase()&&(this.style.del=!0)},updateStyle:function(a){var b=this,a=b.getSelectedElement()?b.getSelectedElement():a;if(a&&b.setStyleProperty)try{if(window.getComputedStyle){"#text"==a.nodeName.toLowerCase()&&(a=b.editor[0]);var c=window.getComputedStyle(a,null),d=401==c.getPropertyValue("font-weight")?700:c.getPropertyValue("font-weight");b.style={fontStyle:c.getPropertyValue("font-style"),fontSize:c.getPropertyValue("font-size"),textDecoration:c.getPropertyValue("text-decoration"),fontWeight:d,fontFamily:c.getPropertyValue("font-family"),textAlign:c.getPropertyValue("text-align"),color:b._rgbToHex(c.color),backColor:b._rgbToHex(c.backgroundColor)},b.style.fontStyle=c.getPropertyValue("font-style"),b.style.vAlign=c.getPropertyValue("vertical-align"),b.style.del=b.isStyleProperty(a,"span","textDecoration","line-through"),b.style.u=b.isStyleProperty(a,"span","textDecoration","underline");var e=function(a){for(var b="transparent",c="rgba(0, 0, 0, 0)";a&&(window.getComputedStyle(a).backgroundColor==b||window.getComputedStyle(a).backgroundColor==c);)a=a.parentNode;return a?window.getComputedStyle(a).backgroundColor:b};b.style.backColor||(b.style.backColor=b._rgbToHex(e(a)))}else{var c=a.currentStyle;b.style={fontStyle:c.fontStyle,fontSize:c.fontSize,textDecoration:c.textDecoration,fontWeight:c.fontWeight,fontFamily:c.fontFamily,textAlign:c.textAlign,color:b._rgbToHex(c.color),backColor:b._rgbToHex(c.backgroundColor)}}b.setStyleProperty(a,"h1"),b.setStyleProperty(a,"h2"),b.setStyleProperty(a,"h3"),b.setStyleProperty(a,"h4"),b.setStyleProperty(a,"h5"),b.setStyleProperty(a,"h6"),b.setStyleProperty(a,"del"),b.setStyleProperty(a,"sub"),b.setStyleProperty(a,"sup"),b.setStyleProperty(a,"u"),"a"==a.nodeName.toLowerCase()&&"underline"==b.style.textDecoration&&(b.style.u=!0),(b.style.h1||b.style.h2||b.style.h3||b.style.h4||b.style.h5||b.style.h6)&&(b.style.heading=!0)}catch(f){return null}},_refreshTools:function(b,c,d){var e=this;if(!e.updating){var b=e.getSelectedElement()?e.getSelectedElement():b;if(b&&e.setStyleProperty){e.updateStyle(b);var f=e.readOnly;if(e.readOnly=!0,e.tools!==!1){var g=e.tools.split(" "),h=e.tools.split(" | "),i=function(b){a.each(b,function(a,b){var c=e.commands[this];if(!c)return!0;switch(c.type){case"list":c.widget.jqxDropDownList("clearSelection"),c.widget.jqxDropDownList({disabled:e.disabled});break;case"colorPicker":c.val(c.value),c.widget.jqxDropDownButton({disabled:e.disabled});break;case"toggleButton":c.widget.jqxToggleButton("unCheck"),c.widget.jqxToggleButton({disabled:e.disabled});break;case"button":default:c.widget.jqxButton({disabled:e.disabled})}})};if(0==h.length)i(g);else for(var j=0;j<h.length;j++){var k=h[j],g=k.split(" ");i(g)}if(e.style){var l=function(d){a.each(d,function(d,f){var g=e.commands[this];if(!g)return!0;if(g.refresh)return g.refresh(g.widget,e.style),!0;switch(g.type){case"list":if("fontname"==g.command){for(var h=-1,i=999,j=0;j<g.value.length;j++){var f=g.value[j].label.toLowerCase(),k=e.style.fontFamily.toLowerCase().indexOf(f);k>=0&&(k<i&&(h=j),i=Math.min(i,k))}g.widget.jqxDropDownList("selectIndex",h)}else if("formatblock"==g.command){var f=null;e.style.h1?f="h1":e.style.h2?f="h2":e.style.h3?f="h3":e.style.h4?f="h4":e.style.h5?f="h5":e.style.h6&&(f="h6"),g.widget.jqxDropDownList("selectItem",f)}else if("fontsize"==g.command){var l="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),m=-1;try{var m=b.getAttribute("size")-1;m==-1&&(m=e.editorDocument.queryCommandValue(g.command)-1)}catch(n){}var o=l[m];g.widget.val(o)}break;case"colorPicker":var p=function(a){return"number"!=typeof a?a:"rgb("+(255&a)+", "+((65280&a)>>8)+", "+((16711680&a)>>16)+")"},q=p(e.editorDocument.queryCommandValue(g.command));"backcolor"==g.command&&null==e.style.backColor&&(q="#FFFFFF");var r=e._rgbToHex(q);r?g.val(r):"forecolor"==g.command?g.val(e.style.color):"backcolor"==g.command&&g.val(e.style.backColor);break;case"toggleButton":if("viewsource"==g.command)return;if(!g.command)return;var s=!1,t=e.editorDocument.queryCommandState(g.command)&&e.editorDocument.queryCommandEnabled(g.command);if("createlink"==g.command&&"a"==b.nodeName.toLowerCase()){var u=!0;if(a(b).text().indexOf(e.selection.getText())==-1&&""!=e.selection.getText()&&(u=!1),u){e.linkPopup&&e.linkPopup.remove(),t=!0,e.linkPopup=a("<div class='jqx-editor-link-popup' contentEditable='false' style='overflow: hidden; white-space: nowrap; padding: 5px; height: 17px; font-size: 12px; color: #222222; background: #F5F5F5; position: absolute; z-index: 9999;'>"+e.localization["Go to link"]+": <a target='_blank' style='color:#222222;' href='"+b.href+"'>"+b.href+"</a> - <a style='color:#222222;' href='#change'>"+e.localization.Change+"</a> - <a style='color:#222222;' href='#remove'>"+e.localization.Remove+"</a></div>").appendTo(e.editor);var v=a(b).coord(),w=v.left;v.left+e.linkPopup.width()>e.editor.width()&&(w=e.editor.width()-e.linkPopup.width()-15),e.linkPopup.offset({top:a(b).height()+v.top+5,left:w}),e.addHandler(e.linkPopup,"mousedown",function(c){if(c.target&&c.target.href){var d=a(c.target).index();switch(d){case 1:e.editor.focus(),e.selection.selectNode(b,!0),e.commands.link.widget.trigger("click");break;case 2:try{e.editor.focus(),e.selection.selectNode(b),e.execute("unlink"),e.commands.underline.toggled=!1,e.selection.collapse(!1),e._refreshTools()}catch(f){}break;default:window.open(c.target.href,"_blank")}}return c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation(),!1})}}"bold"==g.command?(e.style.fontWeight&&(e.style.fontWeight>=600||"bold"==e.style.fontWeight)&&(s=!0),e.selection.isCollapsed()?g.toggled=t:g.toggled=t||s,t=g.toggled):"italic"==g.command?(e.style.fontStyle&&"italic"==e.style.fontStyle&&(s=!0),c?g.toggled=t:t=g.toggled):"underline"==g.command?(e.style.u&&(s=!0),c?g.toggled=t:t=g.toggled):"justifyleft"==g.command?"left"==e.style.textAlign&&(s=!0):"justifyright"==g.command?"right"==e.style.textAlign&&(s=!0):"justifycenter"==g.command?"center"==e.style.textAlign&&(s=!0):"justifyfull"==g.command?"justify"==e.style.textAlign&&(s=!0):a.each(e.style,function(a,b){g.command==a.toLowerCase()&&(s=!0)});var x=t;s&&g.command.indexOf("justify")!=-1?g.widget.jqxToggleButton("check"):x?g.widget.jqxToggleButton("check"):s&&e.range.collapsed===!1?g.widget.jqxToggleButton("check"):a.jqx.browser.msie&&a.jqx.browser.version<9&&s&&!e.selection.isCollapsed()&&g.widget.jqxToggleButton("check");break;case"button":default:g.refresh&&g.refresh(g.widget,e.style)}})};if(0==h.length)l(g);else for(var j=0;j<h.length;j++){var k=h[j],g=k.split(" ");l(g)}}}e.readOnly=f}}},_rgbToHex:function(a){if(a){if("#"===a.substr(0,1)){if(4==a.length){var b=a.substr(1,1),c=a.substr(2,1),d=a.substr(3,1);return"#"+b+b+c+c+d+d}return a}var e=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(a);if(!e)return null;var b=parseInt(e[2],10).toString(16),c=parseInt(e[3],10).toString(16),d=parseInt(e[4],10).toString(16);return"#"+((1==b.length?"0"+b:b)+(1==c.length?"0"+c:c)+(1==d.length?"0"+d:d))}return null},_preventDefault:function(b,c){c!==!1&&(a(".jqx-editor-dropdownpicker").length>0&&a(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),a(".jqx-editor-dropdownlist").length>0&&a(".jqx-editor-dropdownlist").jqxDropDownList("close")),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0,b.returnValue=!1},_addCommandHandler:function(b,c,d,e,f){var g=this;switch(!d&&f.init&&(d="custom"),d){case"custom":switch(f.type){case"list":action=function(b){"source"!=g._documentMode&&"none"!=b.args.type&&(f.value=a(this).val(),g.execute("custom",f),g.readOnly||g._refreshTools()),g._preventDefault(b,!1)};break;case"colorPicker":action=function(b){if("source"!=g._documentMode){a(f.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==b.target.nodeName.toLowerCase()){var c=a(b.target).css("background-color");a(b.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var c=a(b.target).find("div").css("background-color");a(b.target).addClass("jqx-editor-color-picker-selected-cell")}a("#bar-"+d).css("background",c),f.widget.val=function(){var a=function(a){return"number"!=typeof a?a:"rgb("+(255&a)+", "+((65280&a)>>8)+", "+((16711680&a)>>16)+")"},b=a(c),d=g._rgbToHex(b);return d},f.widget.jqxDropDownButton("close"),g.execute("custom",f)}return g._preventDefault(b),!1};break;case"button":case"toggleButton":default:action=function(b){a(".jqx-editor-dropdownpicker").length>0&&a(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),a(".jqx-editor-dropdownlist").length>0&&a(".jqx-editor-dropdownlist").jqxDropDownList("close"),g._preventDefault(b);a(this).attr("data-command");return"source"!=g._documentMode&&(f.toggle&&f.toggle(),g.execute("custom",f),g._refreshTools()),!1}}break;case"formatblock":action=function(b){"source"!=g._documentMode&&"none"!=b.args.type&&(g.execute(a(this).attr("data-command"),"<"+a(this).val()+">",f),g.readOnly||(g.commands.bold.toggled=!1,g._refreshTools())),g._preventDefault(b,!1)};break;case"fontsize":action=function(b){if("source"!=g._documentMode&&"none"!=b.args.type){var c=a(this).val(),d="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),e=a(this).jqxDropDownList("getSelectedIndex")+1,e=1+d.indexOf(c);g.execute(a(this).attr("data-command"),e,f)}g._preventDefault(b,!1)};break;case"fontname":action=function(b){if("source"!=g._documentMode&&"none"!=b.args.type){var c=a(this).val();g.execute(a(this).attr("data-command"),c,f)}g._preventDefault(b,!1)};break;case"forecolor":case"backcolor":action=function(b){if("source"!=g._documentMode){a(f.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if("div"==b.target.nodeName.toLowerCase()){var c=a(b.target).css("background-color");a(b.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var c=a(b.target).find("div").css("background-color");a(b.target).addClass("jqx-editor-color-picker-selected-cell")}a("#bar-"+d).css("background",c),f.widget.jqxDropDownButton("close"),g.execute(d,c,f)}return g._preventDefault(b),!1};break;case"viewsource":action=function(b){return g.linkPopup&&g.linkPopup.remove(),f.toggle(),g.setMode(f.toggled),a(".jqx-editor-dropdownpicker").length>0&&a(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),a(".jqx-editor-dropdownlist").length>0&&a(".jqx-editor-dropdownlist").jqxDropDownList("close"),g._preventDefault(b),!1};break;case"insertimage":action=function(a){g._insertImageAction(a,g,f)};break;case"createlink":action=function(a){g._createLinkAction(a,g,f)};break;default:action=function(b){a(".jqx-editor-dropdownpicker").length>0&&a(".jqx-editor-dropdownpicker").jqxDropDownButton("close"),a(".jqx-editor-dropdownlist").length>0&&a(".jqx-editor-dropdownlist").jqxDropDownList("close"),g._preventDefault(b);var c=a(this).attr("data-command");if("source"!=g._documentMode){if("underline"==c&&g.getSelectedElement()){var d=g.getSelectedElement();if(d&&"a"==d.nodeName.toLowerCase())return f.toggled?a(d).css("text-decoration","none"):a(d).css("text-decoration","underline"),f.toggle(),g._refreshTools(),!1}f.toggle&&f.toggle(),g.execute(c,a(this).val(),f),g._refreshTools()}return!1}}return g.addHandler(b,c,action),!1},_createLinkAction:function(b,c,d){var c=this;if("source"==c._documentMode)return void c._preventDefault(b);c.focused||c.editor.focus(),c.range=c.getRange();var e=c.getSelectedElement();if("a"==e.nodeName.toLowerCase()?c.editLink=e:c.editLink=null,a("#linkWindow"+this.element.id).length>0)return c.editLink&&c.selection.selectNode(e,!0),c._updateLinkWindow(),c._preventDefault(b),!1;var f=a("<div class='jqx-editor-window jqx-editor-link-window'><div>"+c.localization["Insert Link"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+c.localization.URL+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+c.localization.Title+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'></td><td><div class='jqx-editor-link-checkbox'>"+c.localization["Open in a new window/tab"]+"</div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");f[0].id="linkWindow"+this.element.id;var g=f.find("input");g.addClass(c.toThemeProperty("jqx-widget")),g.addClass(c.toThemeProperty("jqx-widget-content")),g.addClass(c.toThemeProperty("jqx-input"));var h=f.find(".jqx-editor-link-checkbox").jqxCheckBox({theme:c.theme,height:23,width:180}),i=f.find("button:first").jqxButton({theme:c.theme,disabled:!0}),j=a(f.find("button")[1]).jqxButton({theme:c.theme}),k=f.find("button:last").jqxButton({theme:c.theme});i.val(c.localization.Ok),k.val(c.localization.Cancel),j.val(c.localization.Remove),c.addHandler(k,a.jqx.mobile.isTouchDevice()?a.jqx.mobile.getTouchEventName("touchstart"):"click",function(a){c.editor.focus(),c.selectRange(c.range),c._refreshTools(),c._preventDefault(a)}),(!c.editLink||c.editLink&&!c.editLink.href)&&j.hide();var l=!1;if(c.addHandler(a(g[0]),"focus",function(){l=""==g[1].value||g[1].value==g[0].value}),c.addHandler(a(g[1]),"keyup",function(a){a.keyCode&&(13==a.keyCode&&i.trigger("click"),27==a.keyCode&&k.trigger("click"))}),c.addHandler(a(g[0]),"keyup change",function(a){g[0].value.length>0?i.jqxButton({disabled:!1}):i.jqxButton({disabled:!0}),l&&(g[1].value=g[0].value),a.keyCode&&(13==a.keyCode&&i.trigger("click"),27==a.keyCode&&k.trigger("click"))}),c.addHandler(j,a.jqx.mobile.isTouchDevice()?a.jqx.mobile.getTouchEventName("touchstart"):"click",function(a){f.jqxWindow("close");try{c.editor.focus(),c.selection.selectNode(c.editLink),c.execute("unlink"),c.selection.collapse(!1),c.commands.underline.toggled=!1,c._refreshTools()}catch(b){}c._preventDefault(a)}),c.addHandler(i,a.jqx.mobile.isTouchDevice()?a.jqx.mobile.getTouchEventName("touchstart"):"click",function(b){var e=f.find("input"),g=a("<a>"+(e[1].value||e[0].value)+"</a>");h.val()&&g.attr("target","_blank"),g[0].href=a.trim(e[0].value),e[0].value.indexOf("http")==-1&&e[0].value.indexOf("mailto")==-1&&(g[0].href="http://"+a.trim(e[0].value)),c.focused||c.editor.focus(),c.range&&c.selectRange(c.range),c.editLink&&a(c.editLink).remove(),c.execute("insertHTML",""+g[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",d),c.editor.focus();var i=a(c.editorDocument).find("#INSERTION_MARKER");c.selection.selectNode(i[0],!0),c.getRange().setStartAfter&&c.getRange().setStartAfter(i[0]),i.remove(),c.selection.collapse(!1),c._refreshTools(),c._preventDefault(b)}),c.updating=!0,f.appendTo(document.body),c.addHandler(f,"open",function(){c.updating=!0,setTimeout(function(){c.range=c.getRange(),a(g[0]).focus()},25)}),f.jqxWindow({resizable:!1,width:280,okButton:i,cancelButton:k,theme:c.theme,isModal:!0,position:{center:c.widget}}),c.addHandler(f,"close",function(){c.updating=!1}),c.focused||(c.editor.focus(),c.selectRange(c.range)),c.editLink)g[0].value=c.editLink.href||"",g[1].value=a(c.editLink).text(),h.val("_blank"==a(c.editLink).attr("target"));else if(!c.selection.isCollapsed()){var m=c.selection.getText();m.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)?g[0].value=m:g[1].value=m}return g[0].value.length>0?i.jqxButton({disabled:!1}):i.jqxButton({disabled:!0}),c._preventDefault(b),!1},_insertImageAction:function(b,c,d){if("source"==c._documentMode)return void c._preventDefault(b);if(c.focused||c.editor.focus(),c.range=c.getRange(),a("#imageWindow"+this.element.id).length>0)return c._updateImageWindow(),c._preventDefault(b),!1;var e=a("<div class='jqx-editor-window jqx-editor-image-window'><div>"+c.localization["Insert Image"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+c.localization.URL+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+c.localization["Alt Text"]+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+c.localization.Width+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+c.localization.Height+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+c.localization.HSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-hspace'/></td><tr/><tr><td align='right'>"+c.localization.VSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-vspace'/></td><tr/><tr><td align='right'>"+c.localization.Align+":</td><td><div class='jqx-editor-align'></div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");e[0].id="imageWindow"+this.element.id;var f=e.find("input");f.addClass(c.toThemeProperty("jqx-widget")),f.addClass(c.toThemeProperty("jqx-widget-content")),f.addClass(c.toThemeProperty("jqx-input")),e.find(".jqx-editor-align").jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0,theme:c.theme,height:23,width:180,source:[c.localization["not set"],c.localization.Left,c.localization.Right]});var g=e.find("button:first").jqxButton({theme:c.theme}),h=e.find("button:last").jqxButton({theme:c.theme}),i=a(e.find("button")[1]).jqxButton({theme:c.theme});return g.val(c.localization.Ok),h.val(c.localization.Cancel),i.val(c.localization.Remove),i.hide(),c.addHandler(i,a.jqx.mobile.isTouchDevice()?a.jqx.mobile.getTouchEventName("touchstart"):"click",function(b){a(c.editImage).removeClass("jqx-editor-focus"),a(c.editImage).remove(),c.editImage=null,c._preventDefault(b),e.jqxWindow("close"),c._raiseEvent("change")}),c.addHandler(h,a.jqx.mobile.isTouchDevice()?a.jqx.mobile.getTouchEventName("touchstart"):"click",function(b){a(c.editImage).removeClass("jqx-editor-focus"),c.editImage=null,c._preventDefault(b)}),c.addHandler(g,a.jqx.mobile.isTouchDevice()?a.jqx.mobile.getTouchEventName("touchstart"):"click",function(b){a(c.editImage).removeClass("jqx-editor-focus");var f=e.find("input"),g=a(c.editImage?c.editImage:'<img style="border: 1px solid transparent;">'),h=g.attr("src",f[0].value).attr("unselectable","on");
f[1].value&&h.attr("alt",f[1].value).attr("title",f[1].value),f[2].value&&!isNaN(parseInt(f[2].value))?h.width(f[2].value):h.css("width","auto"),f[3].value&&!isNaN(parseInt(f[3].value))?h.height(f[3].value):h.css("height","auto"),f[4].value?"auto"==f[4].value.toString()?(h.css("margin-left","auto"),h.css("margin-right","auto")):f[4].value.toString().indexOf("%")!=-1?(h.css("margin-left",parseInt(f[4].value)+"%"),h.css("margin-right",parseInt(f[4].value)+"%")):(h.css("margin-left",parseInt(f[4].value)+"px"),h.css("margin-right",parseInt(f[4].value)+"px")):(h.css("margin-left","0px"),h.css("margin-right","0px")),f[5].value?"auto"==f[5].value.toString()?(h.css("margin-top","auto"),h.css("margin-bottom","auto")):f[5].value.toString().indexOf("%")!=-1?(h.css("margin-top",parseInt(f[5].value)+"%"),h.css("margin-bottom",parseInt(f[5].value)+"%")):(h.css("margin-top",parseInt(f[5].value)+"px"),h.css("margin-bottom",parseInt(f[5].value)+"px")):(h.css("margin-top","0px"),h.css("margin-bottom","0px"));var i=e.find(".jqx-editor-align").jqxDropDownList("selectedIndex");if(1==i?h.css("float","left"):2==i?h.css("float","right"):0==i&&h.css("float","none"),h.css("resize",!1),h[0].oncontrolselect=function(){return!1},h[0].selectstart=function(){return!1},!c.editImage){c.focused||c.editor.focus(),c.range&&c.selectRange(c.range),c.execute("insertHTML",h[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",d),c.editor.focus();var j=a(c.editorDocument).find("#INSERTION_MARKER");c.selection.selectNode(j[0],!0),c.getRange().setStartAfter&&c.getRange().setStartAfter(j[0]),j.remove(),c.selection.collapse(!1),c._refreshTools(),c._preventDefault(b)}c.editImage=null,c._preventDefault(b)}),e.appendTo(document.body),c.updating=!0,c.addHandler(e,"open",function(){c.updating=!0,setTimeout(function(){c.range=c.getRange(),a(f[0]).focus()},25)}),e.jqxWindow({resizable:!1,width:280,okButton:g,cancelButton:h,theme:c.theme,isModal:!0,position:{center:c.widget}}),c.addHandler(e,"close",function(){c.updating=!1}),c.focused||(c.editor.focus(),c.selectRange(c.range)),c._preventDefault(b),!1},editmode:function(b){var c=this;if(b||c.readOnly){if(b&&c.readOnly){var d=c.editor.find("#sourceText").text();c.editor.html(d),c.buttons.hasOwnProperty("html")&&c.buttons.html.removeClass("active"),c.editor.attr("contentEditable",!0),c._addHandlers()}}else{c._removeHandlers(),c.editor.attr("contentEditable",!1);var d=document.createTextNode(c.editor.html()),e=a("<pre>");e.html(d).attr({id:"sourceText",contentEditable:!0}).css("height","100%"),c.editor.html(e),c.buttons.hasOwnProperty("html")&&c.buttons.html.addClass("active"),e.focus()}c.readOnly=!b},setMode:function(b){var d=this;d.range||(d.editor.focus(),d.range=d.getRange());var e,f=d.editor[0];if(b){d._documentMode="source";var g=new c,h=g.HTMLtoXML(f.innerHTML);h=g.FormatHTML(h),e=document.createTextNode(h),f.innerHTML="";var i=document.createElement("pre");f.contentEditable=!1,i.style.height="100%",i.style.margin="0px",i.style.outline="none",i.style.display="block",i.id="sourceText",i.contentEditable=!0,i.appendChild(e),f.appendChild(i),this.readOnly=!0}else this._documentMode="html",document.all?f.innerHTML=f.innerText:f.textContent?f.innerHTML=f.textContent:(e=document.createRange(),e.selectNodeContents(f.firstChild),f.innerHTML=e.toString()),f.contentEditable=!0,d.readOnly=!1,d._refreshTools(),d.editor.focus(),d.selection.selectNode(d.editor[0]),d.editor.scrollTop(0),a.jqx.browser.mozilla||d.selection.collapse(!0);if(a.each(this.commands,function(){if(this.widget&&"viewsource"!=this.command)switch(this.type){case"list":this.widget.jqxDropDownList({disabled:b});break;case"colorPicker":this.widget.jqxDropDownButton({disabled:b});break;case"button":this.widget.jqxButton({disabled:b});break;case"toggleButton":this.widget.jqxToggleButton({toggled:!1,disabled:b})}}),d.editor.focus(),a.jqx.browser.mozilla){var j=a("<a href='#'>anchor</a>");d.editor.prepend(j),j.focus(),j.remove(),d.selection.collapse(!0)}d.commands.html.widget&&(d.commands.html.widget.jqxToggleButton({toggled:"source"==b||1==b}),d.commands.html.toggled="source"==b||1==b)},execute:function(b,c,d){var e=this;if(!e.readOnly){var f=e.editorDocument;if("source"==e._documentMode)return;e.changeType="mouse",e.linkPopup&&e.linkPopup.remove(),e.editor.focus(),a.jqx.browser.mozilla,a.jqx.mobile.isTouchDevice()&&setTimeout(function(){},25);var g=function(b){try{if(b.command&&"inserthtml"==b.command.toLowerCase()){var c=e.getRange(),d=b.value;d.toString().indexOf("<")==-1&&(d="<span>"+b.value+"</span>"),e.selection.insertContent(""+d+"<span id='INSERTION_MARKER'>&nbsp;</span>"),e.selectRange(c),setTimeout(function(){var b=a(e.editorDocument).find("#INSERTION_MARKER");e.selection.selectNode(a(b).prev()[0],!0),b.remove(),e.selection.collapse(!1)},10)}else if(b.command){if(!f.queryCommandEnabled(b.command))return!1;f.execCommand(b.command,!1,b.value)}else{if(!f.queryCommandEnabled(b))return!1;f.execCommand(b,!1,b)}}catch(g){}};if("custom"==b){var h=c.action(c.widget,e.editor);h&&g(h)}else try{if(d&&d.action){var h=d.action(d.widget,e.editor);g(h)}else if(f.queryCommandEnabled(b))f.execCommand(b,!1,c);else{if("insertHTML"!=b)return!1;e.selection.insertContent(c)}}catch(i){if("insertHTML"!=b)return!1;e.selection.insertContent(c)}a.jqx.mobile.isTouchDevice()&&setTimeout(function(){e.iframe&&e.iframe[0].contentWindow.focus()},500),e._raiseEvent("change",{command:b,args:c}),e.changed=!0,e.range=e.getRange()}},destroy:function(){var b=this;b._removeHandlers();var c=b.tools.split(" "),d=b.tools.split(" | ");a.jqx.utilities.resize(this.host,null,!0);var e=function(c){a.each(c,function(c,d){var e=b.commands[this];if(!e)return!0;switch(e.type){case"list":b.removeHandler(e.widget,"mousedown"),b.removeHandler(e.widget,"open"),b.removeHandler(e.widget,"change"),b.removeHandler(e.widget,"close"),e.widget.jqxDropDownList("destroy");break;case"colorPicker":b.removeHandler(e.widget,"mousedown"),b.removeHandler(e.widget,"open"),b.removeHandler(e.widget,"close"),b.removeHandler(e.colorPicker,"keydown"),e.colorPicker.remove(),e.widget.jqxDropDownButton("destroy");break;case"custom":b.destroyTool&&b.destroyTool(this);break;case"button":case"toggleButton":default:b.removeHandler(e.widget,"mousedown"),b.removeHandler(e.widget,"click"),"button"==e.type?e.widget.jqxButton("destroy"):"toggleButton"==e.type&&e.widget.jqxToggleButton("destroy"),e.widget.jqxToggleButton("destroy"),"insertimage"===e.command?a("#imageWindow"+b.element.id).length>0&&(a("#imageWindow"+b.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),a("#imageWindow"+b.element.id).find("button").jqxButton("destroy")):"createlink"===e.command&&a("#linkWindow"+b.element.id).length>0&&(a("#linkWindow"+b.element.id).find(".jqx-editor-align").jqxDropDownList("destroy"),a("#linkWindow"+b.element.id).find("button").jqxButton("destroy"),a("#linkWindow"+b.element.id).find(".jqx-editor-link-checkbox").jqxCheckBox("destroy"))}})};if(0==d.length)e(c);else for(var f=0;f<d.length;f++){var g=d[f],c=g.split(" ");e(c)}var h=a("#linkWindow"+this.element.id),i=a("#imageWindow"+this.element.id);h&&h.length>0&&h.jqxWindow("destroy"),i&&i.length>0&&i.jqxWindow("destroy"),b.inline?b.toolbar.remove():(b.widget.remove(),b.host.remove()),b.iframe.remove(),b.iframe=null,b.selection=null,b.editorDocument=null,b.contentEditableElement=null},val:function(a){if(void 0!==a&&"source"===a){var b=this.editor[0];"source"===this._documentMode&&(b=this.editor.find("pre:first")[0]);var d=new c,e=d.HTMLtoXML(b.innerHTML);return e=d.FormatHTML(e)}return void 0!=a&&"object"!=typeof a&&this.editor.html(a),"source"===this._documentMode?this.editor.find("pre:first").html():this.editor.html()},_raiseEvent:function(b,c){if(void 0==c&&(c={owner:null}),"source"==this._documentMode)return!0;var d=b;c.type=this.changeType,this.changeType=null,args=c,args.owner=this;var e=new a.Event(d);if(e.owner=this,e.args=args,this._textArea)var f=a(this._textArea).trigger(e);else var f=this.host.trigger(e);return c=e.args,f}});var b=function(b){var c={initialize:function(a){this.document=a},getSelection:function(){return this.document.getSelection?this.document.getSelection():this.document.selection},getRange:function(){var a=this.getSelection();if(!a)return null;try{return a.rangeCount>0?a.getRangeAt(0):this.document.createRange?this.document.createRange():this.document.selection.createRange()}catch(b){return this.document.body.createTextRange()}},selectRange:function(a){if(a.select)a.select();else{var b=this.getSelection();b.addRange&&(b.removeAllRanges(),b.addRange(a))}},selectNode:function(a,b){var c=this.getRange(),d=this.getSelection();if(c.moveToElementText)c.moveToElementText(a),c.select();else if(d.addRange)try{b?c.selectNodeContents(a):c.selectNode(a),d.removeAllRanges(),d.addRange(c)}catch(e){}else d.setBaseAndExtent(a,0,a,1);return a},isCollapsed:function(){var a=this.getRange();return!a.item&&(0==a.boundingWidth||this.getSelection().isCollapsed)},collapse:function(a){var b=this.getRange(),c=this.getSelection();b.select?(b.collapse(a),b.select()):a?c.collapseToStart():c.collapseToEnd()},getContent:function(){var b=this.getRange(),c=a("<div>")[0];if(this.isCollapsed())return"";b.cloneContents?c.appendChild(b.cloneContents()):void 0!=b.item||void 0!=b.htmlText?a(c).html(b.item?b.item(0).outerHTML:b.htmlText):a(c).html(b.toString());var d=a(c).html();return d},getText:function(){var a=this.getRange(),b=this.getSelection();return this.isCollapsed()?"":a.text||(b.toString?b.toString():"")},getNode:function(){var c=this.getRange();if(!a.jqx.browser.msie||a.jqx.browser.version>=9){var d=null;if(c)for(d=c.commonAncestorContainer,c.collapsed||c.startContainer==c.endContainer&&c.startOffset-c.endOffset<2&&c.startContainer.hasChildNodes()&&(d=c.startContainer.childNodes[c.startOffset]);"element"!=typeof d;)d=d.parentNode;return b.id(d)}return b.id(c.item?c.item(0):c.parentElement())},insertContent:function(a){var b=this.getRange();if(b.pasteHTML)b.pasteHTML(a),b.collapse(!1),b.select();else if(b.insertNode)if(b.deleteContents(),b.createContextualFragment)b.insertNode(b.createContextualFragment(a));else{var c=this.document,d=c.createDocumentFragment(),e=c.createElement("div");d.appendChild(e),e.outerHTML=a,b.insertNode(d)}}};return c.initialize(b),c},c=function(){function a(a){for(var b={},c=a.split(","),d=0;d<c.length;d++)b[c[d]]=!0;return b}var b=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,c=/^<\/([-A-Za-z0-9_]+)[^>]*>/,d=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,e=a("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),f=a("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul"),g=a("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),h=a("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),i=a("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),j=a("script,style"),k=this.HTMLParser=function(a,k){function l(a,b,c,j){if(b=b.toLowerCase(),f[b])for(;q.last()&&g[q.last()];)m("",q.last());if(h[b]&&q.last()==b&&m("",b),j=e[b]||!!j,j||q.push(b),k.start){var l=[];c.replace(d,function(a,b){var c=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:i[b]?b:"";l.push({name:b,value:c,escaped:c.replace(/(^|[^\\])"/g,'$1\\"')})}),k.start&&k.start(b,l,j)}}function m(a,b){if(b)for(var c=q.length-1;c>=0&&q[c].toLowerCase()!=b.toLowerCase();c--);else var c=0;if(c>=0){for(var d=q.length-1;d>=c;d--)k.end&&k.end(q[d]);q.length=c}}var n,o,p,q=[],r=a;for(q.last=function(){return this[this.length-1]};a;){if(o=!0,q.last()&&j[q.last()])a=a.replace(new RegExp("(.*)</"+q.last()+"[^>]*>"),function(a,b){return b=b.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1"),k.chars&&k.chars(b),""}),m("",q.last());else if(0==a.indexOf("<!--")?(n=a.indexOf("-->"),n>=0&&(k.comment&&k.comment(a.substring(4,n)),a=a.substring(n+3),o=!1)):0==a.indexOf("</")?(p=a.match(c),p&&(a=a.substring(p[0].length),p[0].replace(c,m),o=!1)):0==a.indexOf("<")&&(p=a.match(b),p&&(a=a.substring(p[0].length),p[0].replace(b,l),o=!1)),o){n=a.indexOf("<");var s=n<0?a:a.substring(0,n);a=n<0?"":a.substring(n),k.chars&&k.chars(s)}r=a}m()};this.HTMLtoXML=function(a){var b="";return a=a.replace(/\r/gi,""),a=a.replace(/\n/gi,""),k(a,{start:function(a,c,d){b+="<"+a;for(var e=0;e<c.length;e++)b+=" "+c[e].name+'="'+c[e].escaped+'"';b+=(d?"/":"")+">"},end:function(a){b+="</"+a+">\r\n"},chars:function(a){b+=a},comment:function(a){b+="<!--"+a+"-->"}}),b},this.FormatHTML=function(a,b){function c(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1}},this.get_content=function(){for(var a="",b=[],c=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];if(a=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(a,this.Utils.whitespace))b.length&&(c=!0),this.line_char_count--;else{if(c){if(this.line_char_count>=this.max_char){b.push("\n");for(var d=0;d<this.indent_level;d++)b.push(this.indent_string);this.line_char_count=0}else b.push(" "),this.line_char_count++;c=!1}b.push(a)}}return b.length?b.join(""):""},this.get_contents_to=function(a){if(this.pos==this.input.length)return["","TK_EOF"];var b="",c=new RegExp("</"+a+"\\s*>","igm");c.lastIndex=this.pos;var d=c.exec(this.input),e=d?d.index:this.input.length;return this.pos<e&&(b=this.input.substring(this.pos,e),this.pos=e),b},this.record_tag=function(a){this.tags[a+"count"]?(this.tags[a+"count"]++,this.tags[a+this.tags[a+"count"]]=this.indent_level):(this.tags[a+"count"]=1,this.tags[a+this.tags[a+"count"]]=this.indent_level),this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent,this.tags.parent=a+this.tags[a+"count"]},this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]),delete this.tags[a+this.tags[a+"count"]+"parent"],delete this.tags[a+this.tags[a+"count"]],1==this.tags[a+"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}},this.get_tag=function(){var a,b,c="",d=[],e=!1;do{if(this.pos>=this.input.length)return d.length?d.join(""):["","TK_EOF"];c=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(c,this.Utils.whitespace)?(e=!0,this.line_char_count--):("'"!==c&&'"'!==c||d[1]&&"!"===d[1]||(c+=this.get_unformatted(c),e=!0),"="===c&&(e=!1),d.length&&"="!==d[d.length-1]&&">"!==c&&e&&(this.line_char_count>=this.max_char?(this.print_newline(!1,d),this.line_char_count=0):(d.push(" "),this.line_char_count++),e=!1),"<"===c&&(a=this.pos-1),d.push(c))}while(">"!==c);var f,g=d.join("");f=g.indexOf(" ")!=-1?g.indexOf(" "):g.indexOf(">");var h=g.substring(1,f).toLowerCase();if("/"===g.charAt(g.length-2)||this.Utils.in_array(h,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===h)this.record_tag(h),this.tag_type="SCRIPT";else if("style"===h)this.record_tag(h),this.tag_type="STYLE";else if(this.Utils.in_array(h,i)){var j=this.get_unformatted("</"+h+">",g);d.push(j),a>0&&this.Utils.in_array(this.input.charAt(a-1),this.Utils.whitespace)&&d.splice(0,0,this.input.charAt(a-1)),b=this.pos-1,this.Utils.in_array(this.input.charAt(b+1),this.Utils.whitespace)&&d.push(this.input.charAt(b+1)),this.tag_type="SINGLE"}else if("!"===h.charAt(0))if(h.indexOf("[if")!=-1){if(g.indexOf("!IE")!=-1){var j=this.get_unformatted("-->",g);d.push(j)}this.tag_type="START"}else if(h.indexOf("[endif")!=-1)this.tag_type="END",this.unindent();else if(h.indexOf("[cdata[")!=-1){var j=this.get_unformatted("]]>",g);d.push(j),this.tag_type="SINGLE"}else{var j=this.get_unformatted("-->",g);d.push(j),this.tag_type="SINGLE"}else"/"===h.charAt(0)?(this.retrieve_tag(h.substring(1)),this.tag_type="END"):(this.record_tag(h),this.tag_type="START"),this.Utils.in_array(h,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return d.join("")},this.get_unformatted=function(a,b){if(b&&b.indexOf(a)!=-1)return"";var c="",d="",e=!0;do{if(this.pos>=this.input.length)return d;if(c=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(c,this.Utils.whitespace)){if(!e){this.line_char_count--;continue}if("\n"===c||"\r"===c){d+="\n",this.line_char_count=0;continue}}d+=c,this.line_char_count++,e=!0}while(d.indexOf(a)==-1);return d},this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var b=this.last_token.substr(7);return a=this.get_contents_to(b),"string"!=typeof a?a:[a,"TK_"+b]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!=typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode){if(a=this.get_tag(),"string"!=typeof a)return a;var c="TK_TAG_"+this.tag_type;return[a,c]}},this.get_full_indent=function(a){return a=this.indent_level+a||0,a<1?"":Array(a+1).join(this.indent_string)},this.printer=function(a,b,c,d,e){this.input=a||"",this.output=[],this.indent_character=b,this.indent_string="",this.indent_size=c,this.brace_style=e,this.indent_level=0,this.max_char=d,this.line_char_count=0;for(var f=0;f<this.indent_size;f++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){if(this.line_char_count=0,b&&b.length){if(!a)for(;this.Utils.in_array(b[b.length-1],this.Utils.whitespace);)b.pop();b.push("\n");for(var c=0;c<this.indent_level;c++)b.push(this.indent_string)}},this.print_token=function(a){this.output.push(a)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}var d,e,f,g,h,i;for(b=b||{},e=b.indent_size||4,f=b.indent_char||" ",h=b.brace_style||"collapse",g=1/0,i=b.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],d=new c,d.printer(a,f,e,g,h);;){var j=d.get_token();if(d.token_text=j[0],d.token_type=j[1],"TK_EOF"===d.token_type)break;switch(d.token_type){case"TK_TAG_START":d.print_newline(!1,d.output),d.print_token(d.token_text),d.indent(),d.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":d.print_newline(!1,d.output),d.print_token(d.token_text),d.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===d.last_token&&""===d.last_text){var k=d.token_text.match(/\w+/)[0],l=d.output[d.output.length-1].match(/<\s*(\w+)/);null!==l&&l[1]===k||d.print_newline(!0,d.output)}d.print_token(d.token_text),d.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var m=d.token_text.match(/^\s*<([a-z]+)/i);m&&d.Utils.in_array(m[1],i)||d.print_newline(!1,d.output),d.print_token(d.token_text),d.current_mode="CONTENT";break;case"TK_CONTENT":""!==d.token_text&&d.print_token(d.token_text),d.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==d.token_text){d.output.push("\n");var n=d.token_text;if("keep"==b.indent_scripts)var o=0;else if("separate"==b.indent_scripts)var o=-d.indent_level;else var o=1;var p=d.get_full_indent(o),q=n.match(/^\s*/)[0],r=q.match(/[^\n\r]*$/)[0].split(d.indent_string).length-1,s=d.get_full_indent(o-r);n=n.replace(/^\s*/,p).replace(/\r\n|\r|\n/g,"\n"+s).replace(/\s*$/,""),n&&(d.print_token(n),d.print_newline(!0,d.output))}d.current_mode="TAG"}d.last_token=d.token_type,d.last_text=d.token_text}return d.output.join("")}}}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxExpander","",{}),a.extend(a.jqx._jqxExpander.prototype,{defineInstance:function(){var b={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return this===a.jqx._jqxExpander.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){this._isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(this.disabled===!1&&this.expanded===!1&&1==this._expandChecker){var b=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){b.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),b._raiseEvent("1"),b.initContent&&b._initialized===!1&&(b.initContent(),b._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._contentElement.style.display="block"),this._cntntEmpty===!0?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){b.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),b._raiseEvent("1"),b.initContent&&b._initialized===!1&&(b.initContent(),b._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){b.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),b._raiseEvent("1"),b.initContent&&b._initialized===!1&&(b.initContent(),b._initialized=!0)}}));break;case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){b.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),b._raiseEvent("1"),b.initContent&&b._initialized===!1&&(b.initContent(),b._initialized=!0)}});break;case"none":this._contentElement.style.display="",this.expanded=!0,a.jqx.aria(b._header,"aria-expanded",!0),a.jqx.aria(b._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&this._initialized===!1&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(this.disabled===!1&&this.expanded===!0&&0===this._expandChecker){var b=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),b._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),b._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){b.expanded=!1,a.jqx.aria(b._header,"aria-expanded",!1),a.jqx.aria(b._content,"aria-hidden",!0),b._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){b._contentElement.style.display="none",b.expanded=!1,a.jqx.aria(b._header,"aria-expanded",!1),a.jqx.aria(b._content,"aria-hidden",!0),b._raiseEvent("3")}});break;case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){b.expanded=!1,a.jqx.aria(b._header,"aria-expanded",!1),a.jqx.aria(b._content,"aria-hidden",!0),b._raiseEvent("3")}});break;case"none":b._contentElement.style.display="none",this.expanded=!1,a.jqx.aria(b._header,"aria-expanded",!1),a.jqx.aria(b._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(a){this._headerText.innerHTML=a,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(a){this._content.html(a),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),a.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),a.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){a.jqx.isHidden(this.host)||this._setSize()},refresh:function(a){a!==!0&&(this._removeHandlers(),this.showArrow===!0?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),this.disabled===!1&&this._toggle(),this._keyBoard())},render:function(){var b=this;if(b._rendered)return void b.refresh();this.widgetID=this.element.id;var c=this.host.children();this._headerText=c[0],this._headerElement=document.createElement("div"),this._header=a(this._headerElement),this._contentElement=c[1],this._content=a(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?b.element.insertBefore(b._headerElement,b._headerText):b.element.appendChild(b._headerElement),b._headerElement.appendChild(b._headerText);var d=this._headerText.className;this._headerElement.className=d,this._headerText.className="",this.rtl?this._headerText.className+=" "+b.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+b.toThemeProperty("jqx-expander-header-content"),b._arrowElement=document.createElement("div"),b._headerElement.appendChild(b._arrowElement),this._arrow=a(b._arrowElement),this.showArrow===!0?b._arrowElement.style.display="":b._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===b.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme();var e="Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content.";try{if(0===this._header.length||0===this._content.length||c.length<2||c.length>2)throw e}catch(f){throw new Error(f)}this._setSize(),this.expanded===!0?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):this.expanded===!1&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),this.disabled===!1&&this._toggle(),this._keyBoard(),a.jqx.utilities.resize(this.host,function(){b.invalidate()})},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.removeHandler(a(window),"resize.expander"+this.widgetID),this.host.remove(),a(this.element).removeData("jqxExpander")},focus:function(){try{this.disabled===!1&&this._headerElement.focus()}catch(a){}},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&a._setSize()},propertyChangedHandler:function(a,b,c,d){if(!(a.batchUpdate&&a.batchUpdate.width&&a.batchUpdate.height&&2==Object.keys(a.batchUpdate).length))return"width"==b||"height"==b?void a._setSize():void("expanded"==b?d===!0&&c===!1?(this.expanded=!1,this.expand()):d===!1&&c===!0&&(this.expanded=!0,this.collapse()):this.refresh())},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;var f;try{f=this.host.trigger(e)}catch(g){}return f},resize:function(a,b){this.width=a,this.height=b,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight;var a=this.arrowPosition;if(this.rtl)switch(a){case"left":a="right";break;case"right":a="left"}"right"==a?(this._headerText.style["float"]="left",this._headerText.style.marginLeft="0px",this._arrowElement.style["float"]="right",this._arrowElement.style.position="relative"):"left"==a&&("auto"==this.width?(this._headerText.style["float"]="left",this._headerText.style.marginLeft="17px",this._arrowElement.style["float"]="left",this._arrowElement.style.position="absolute"):(this._headerText.style["float"]="right",this._headerText.style.marginLeft="0px",this._arrowElement.style["float"]="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto";var b=Math.max(0,this._content.height());if("auto"==this.height)this._contentHeight=b;else{var c=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1;c<0&&(c=0),this._contentHeight||(this._contentHeight=b),c!=this._contentHeight?(this._contentElement.style.height=this._toPx(c),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight)}},_toggle:function(){var b=this;if(this._isTouchDevice===!1)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){b._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){b._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,a.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){
b._animate()})}},_animate:function(){this.expanded===!0?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var a=this,b="jqx-widget jqx-expander",c="jqx-widget-header jqx-expander-header",d="jqx-widget-content jqx-expander-content";this.rtl===!0&&(b+=" jqx-rtl"),this.disabled===!1?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.expanded===!0?c+=" jqx-fill-state-pressed jqx-expander-header-expanded":(c+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,a._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){a._hovered=!0,1==a._expandChecker&&(a._header.removeClass(a.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),a._header.addClass(a.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==a.headerPosition?(a.expanded?a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-up-hover")):a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==a.headerPosition&&(a.expanded&&a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){a._hovered=!1,a._header.removeClass(a.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),a._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==a.headerPosition?a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==a.headerPosition&&a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==a._expandChecker?a._header.addClass(a.toThemeProperty("jqx-fill-state-normal")):a._header.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}))):(b+=" jqx-fill-state-disabled",c+=" jqx-expander-header-disabled"),"top"==this.headerPosition?d+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(d+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(b)),this._header.addClass(this.toThemeProperty(c)),this._content.addClass(this.toThemeProperty(d)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),this._cntntEmpty===!0?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var a=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(b){var c=!1;if((a.focusedH===!0||a.focusedC===!0)&&a.disabled===!1){switch(b.keyCode){case 13:case 32:"none"!=a.toggleMode&&(a.focusedH===!0&&a._animate(),c=!0);break;case 38:b.ctrlKey===!0&&a.focusedC===!0&&a._headerElement.focus(),c=!0;break;case 40:b.ctrlKey===!0&&a.focusedH===!0&&a._contentElement.focus(),c=!0}return!0}return c&&b.preventDefault&&b.preventDefault(),!c})},_focus:function(){var b=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){b.focusedH=!0,a.jqx.aria(b._header,"aria-selected",!0),b._header.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){b.focusedH=!1,a.jqx.aria(b._header,"aria-selected",!1),b._header.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){b._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){b._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){b.focusedC=!0,b._content.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){b.focusedC=!1,b._content.removeClass(b.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(a){return"number"==typeof a?a+"px":a}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxFileUpload","",{}),a.extend(a.jqx._jqxFileUpload.prototype,{defineInstance:function(){var b={width:null,height:"auto",uploadUrl:"",fileInputName:"",autoUpload:!1,multipleFilesUpload:!0,accept:null,browseTemplate:"",uploadTemplate:"",cancelTemplate:"",localization:null,renderFiles:null,disabled:!1,rtl:!1,events:["select","remove","uploadStart","uploadEnd"]};return this===a.jqx._jqxFileUpload.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var b=this;if(void 0===b.host.jqxButton)throw new Error("jqxFileUpload: Missing reference to jqxbuttons.js");b._createFromInput("jqxFileUpload"),a.jqx.browser.msie?a.jqx.browser.version<11&&(b._ieOldWebkit=!0,a.jqx.browser.version<8&&(b._ie7=!0)):a.jqx.browser.webkit&&(b._ieOldWebkit=!0),b._fluidWidth="string"==typeof b.width&&"%"===b.width.charAt(b.width.length-1),b._fluidHeight="string"==typeof b.height&&"%"===b.height.charAt(b.height.length-1),b._render(!0)},_createFromInput:function(b){var c=this;if("input"==c.element.nodeName.toLowerCase()){c.field=c.element,c.field.className&&(c._className=c.field.className);var d={title:c.field.title};c.field.id.length?d.id=c.field.id.replace(/[^\w]/g,"_")+"_"+b:d.id=a.jqx.utilities.createId()+"_"+b;var e=a("<div></div>",d);e[0].style.cssText=c.field.style.cssText,c.width||(c.width=a(c.field).width()),c.height||(c.height=a(c.field).outerHeight()),a(c.field).hide().after(e);var f=c.host.data();if(c.host=e,c.host.data(f),c.element=e[0],c.element.id=c.field.id,c.field.id=d.id,c._className&&(c.host.addClass(c._className),a(c.field).removeClass(c._className)),c.field.tabIndex){var g=c.field.tabIndex;c.field.tabIndex=-1,c.element.tabIndex=g}}},_render:function(b){var c=this;c._setSize(),c._addClasses(),b===!0?c._appendElements():c._removeHandlers(),c._addHandlers(),c._ie7&&(c._borderAndPadding("width",c.host),"auto"!==c.height&&c._borderAndPadding("height",c.host)),a.jqx.utilities.resize(c.host,null,!0),a.jqx.utilities.resize(c.host,function(){if(c._fluidWidth){c._ie7&&(c.host.css("width",c.width),c._borderAndPadding("width",c.host));for(var a=0;a<c._fileRows.length;a++){var b=c._fileRows[a],d=b.fileRow;c._ie7&&(d.css("width","100%"),c._borderAndPadding("width",d)),c.renderFiles||c._setMaxWidth(b)}if(c.rtl&&c._ieOldWebkit)for(var e=0;e<c._forms.length;e++){var f=c._browseButton.position();c._forms[e].form.css({left:f.left,top:f.top})}}c._ie7&&c._fluidHeight&&(c.host.css("height",c.height),c._borderAndPadding("height",c.host))})},render:function(){this._render(!1)},refresh:function(a){a!==!0&&this._render(!1)},destroy:function(){var a=this;a._browseButton&&a._browseButton.jqxButton("destroy"),a._uploadButton&&a._uploadButton.jqxButton("destroy"),a._cancelButton&&a._cancelButton.jqxButton("destroy"),a.cancelAll(),a._removeHandlers(!0),a.host.remove()},browse:function(){if(!(a.jqx.browser.msie&&a.jqx.browser.version<10)){var b=this;(b.multipleFilesUpload===!0||b.multipleFilesUpload===!1&&0===b._fileRows.length)&&b._forms[b._forms.length-1].fileInput.click()}},_uploadFile:function(a){var b=this;0===b._uploadQueue.length&&b._uploadQueue.push(a),b.renderFiles||(a.uploadFile.add(a.cancelFile).hide(),a.loadingElement.show()),a.fileInput.attr("name",b.fileInputName),b._raiseEvent("2",{file:a.fileName}),a.form[0].submit(),b._fileObjectToRemove=a},uploadFile:function(a){var b=this,c=b._fileRows[a];void 0!==c&&b._uploadFile(c)},uploadAll:function(){var a=this;if(a._fileRows.length>0){for(var b=a._fileRows.length-1;b>=0;b--)a._uploadQueue.push(a._fileRows[b]);a._uploadFile(a._fileRows[0])}},cancelFile:function(a){var b=this;b._removeSingleFileRow(b._fileRows[a])},cancelAll:function(){var a=this;if(a._fileRows.length>0){for(var b=0;b<a._fileRows.length;b++)a._removeFileRow(a._fileRows[b]);setTimeout(function(){a._browseButton.css("margin-bottom",0)},400),a._fileRows.length=0,a._hideButtons(!0)}},propertyChangedHandler:function(b,c,d,e){var f=b.element.id;if("localization"===c)return!e.browseButton||d&&e.browseButton===d.browseButton||(b._browseButton.text(e.browseButton),b._browseButton.jqxButton({width:"auto"})),!e.uploadButton||d&&e.uploadButton===d.uploadButton||(b._uploadButton.text(e.uploadButton),b._uploadButton.jqxButton({width:"auto"})),!e.cancelButton||d&&e.cancelButton===d.cancelButton||(b._cancelButton.text(e.cancelButton),b._cancelButton.jqxButton({width:"auto"})),void(b.renderFiles||(!e.uploadFileTooltip||d&&e.uploadFileTooltip===d.uploadFileTooltip||a("#"+f+" .jqx-file-upload-file-upload").attr("title",e.uploadFileTooltip),!e.uploadFileTooltip||d&&e.cancelFileTooltip===d.cancelFileTooltip||a("#"+f+" .jqx-file-upload-file-cancel").attr("title",e.cancelFileTooltip)));if(e!==d)switch(c){case"width":if(b.host.css("width",e),b._ie7){b._borderAndPadding("width",b.host);for(var g=0;g<b._fileRows.length;g++){var h=b._fileRows[g].fileRow;h.css("width","100%"),b._borderAndPadding("width",h)}}return void(b._fluidWidth="string"==typeof e&&"%"===e.charAt(e.length-1));case"height":return b.host.css("height",e),b._ie7&&b._borderAndPadding("height",b.host),void(b._fluidHeight="string"==typeof e&&"%"===e.charAt(e-1));case"uploadUrl":for(var i=0;i<b._forms.length;i++)b._forms[i].form.attr("action",e);return;case"accept":for(var j=0;j<b._forms.length;j++)b._forms[j].fileInput.attr("accept",e);return;case"theme":return a.jqx.utilities.setTheme(d,e,b.host),b._browseButton.jqxButton({theme:e}),b._uploadButton.jqxButton({theme:e}),void b._cancelButton.jqxButton({theme:e});case"browseTemplate":return void b._browseButton.jqxButton({template:e});case"uploadTemplate":return void b._uploadButton.jqxButton({template:e});case"cancelTemplate":return void b._cancelButton.jqxButton({template:e});case"disabled":return b._browseButton.jqxButton({disabled:e}),b._uploadButton.jqxButton({disabled:e}),b._cancelButton.jqxButton({disabled:e}),void(e===!0?b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")):b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")));case"rtl":var k=function(c){var d=c?"addClass":"removeClass";b._browseButton[d](b.toThemeProperty("jqx-file-upload-button-browse-rtl")),b._cancelButton[d](b.toThemeProperty("jqx-file-upload-button-cancel-rtl")),b._uploadButton[d](b.toThemeProperty("jqx-file-upload-button-upload-rtl")),a.jqx.browser.msie&&a.jqx.browser.version>8&&b._uploadButton[d](b.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"));for(var e=0;e<b._fileRows.length;e++){var f=b._fileRows[e];f.fileNameContainer[d](b.toThemeProperty("jqx-file-upload-file-name-rtl")),f.cancelFile[d](b.toThemeProperty("jqx-file-upload-file-cancel-rtl")),f.uploadFile[d](b.toThemeProperty("jqx-file-upload-file-upload-rtl")),f.loadingElement[d](b.toThemeProperty("jqx-file-upload-loading-element-rtl"))}};return void k(e)}},_raiseEvent:function(b,c){void 0===c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,e.args=c,e.preventDefault&&e.preventDefault();var f=this.host.trigger(e);return f},_setSize:function(){var a=this;a.host.css("width",a.width),a.host.css("height",a.height)},_borderAndPadding:function(a,b){var c;c="width"===a?parseInt(b.css("border-left-width"),10)+parseInt(b.css("border-right-width"),10)+parseInt(b.css("padding-left"),10)+parseInt(b.css("padding-right"),10):parseInt(b.css("border-top-width"),10)+parseInt(b.css("border-bottom-width"),10)+parseInt(b.css("padding-top"),10)+parseInt(b.css("padding-bottom"),10),b.css(a,b[a]()-c)},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all jqx-file-upload")),a.disabled===!0&&a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"))},_appendElements:function(){var b=this,c="Browse",d=90,e="Upload All",f=90,g="Cancel All",h=90,i=b.element.id;b.localization&&(b.localization.browseButton&&(c=b.localization.browseButton,d="auto"),b.localization.uploadButton&&(e=b.localization.uploadButton,f="auto"),b.localization.cancelButton&&(g=b.localization.cancelButton,h="auto")),b._browseButton=a('<button id="'+i+'BrowseButton" class="'+b.toThemeProperty("jqx-file-upload-button-browse")+'">'+c+"</button>"),b.host.append(b._browseButton),b._browseButton.jqxButton({theme:b.theme,width:d,template:b.browseTemplate,disabled:b.disabled}),b._browseButton.after('<div style="clear: both;"></div>'),b._bottomButtonsContainer=a('<div class="'+b.toThemeProperty("jqx-file-upload-buttons-container")+'"></div>'),b.host.append(b._bottomButtonsContainer),b._uploadButton=a('<button id="'+i+'UploadButton" class="'+b.toThemeProperty("jqx-file-upload-button-upload")+'">'+e+"</button>"),b._bottomButtonsContainer.append(b._uploadButton),b._uploadButton.jqxButton({theme:b.theme,width:f,template:b.uploadTemplate,disabled:b.disabled}),b._cancelButton=a('<button id="'+i+'CancelButton" class="'+b.toThemeProperty("jqx-file-upload-button-cancel")+'">'+g+"</button>"),b._bottomButtonsContainer.append(b._cancelButton),b._cancelButton.jqxButton({theme:b.theme,width:h,template:b.cancelTemplate,disabled:b.disabled}),b._bottomButtonsContainer.after('<div style="clear: both;"></div>'),b.rtl&&(b._browseButton.addClass(b.toThemeProperty("jqx-file-upload-button-browse-rtl")),b._cancelButton.addClass(b.toThemeProperty("jqx-file-upload-button-cancel-rtl")),b._uploadButton.addClass(b.toThemeProperty("jqx-file-upload-button-upload-rtl")),a.jqx.browser.msie&&a.jqx.browser.version>8&&b._uploadButton.addClass(b.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"))),b._uploadIframe=a('<iframe name="'+i+'Iframe" class="'+b.toThemeProperty("jqx-file-upload-iframe")+'" src=""></iframe>'),b.host.append(b._uploadIframe),b._iframeInitialized=!1,b._uploadQueue=[],b._forms=[],b._addFormAndFileInput(),b._fileRows=[]},_addFormAndFileInput:function(){var b=this,c=b.element.id,d=a('<form class="'+b.toThemeProperty("jqx-file-upload-form")+'" action="'+b.uploadUrl+'" target="'+c+'Iframe" method="post" enctype="multipart/form-data"></form>');b.host.append(d);var e=a('<input type="file" class="'+b.toThemeProperty("jqx-file-upload-file-input")+'" />');if(b.accept&&e.attr("accept",b.accept),d.append(e),b._ieOldWebkit){var f=b._browseButton.position(),g=b._browseButton.outerWidth(),h=b._browseButton.outerHeight(),i=b.rtl&&b._ie7?12:0;d.css({left:f.left-i,top:f.top,width:g,height:h}),d.addClass(b.toThemeProperty("jqx-file-upload-form-ie9")),e.addClass(b.toThemeProperty("jqx-file-upload-file-input-ie9")),b.addHandler(d,"mouseenter.jqxFileUpload"+c,function(){b._browseButton.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(d,"mouseleave.jqxFileUpload"+c,function(){b._browseButton.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(d,"mousedown.jqxFileUpload"+c,function(){b._browseButton.addClass(b.toThemeProperty("jqx-fill-state-pressed"))}),b.addHandler(a(document),"mouseup.jqxFileUpload"+c,function(){b._browseButton.hasClass("jqx-fill-state-pressed")&&b._browseButton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))})}b.addHandler(e,"change.jqxFileUpload"+c,function(){var f,g=this.value;a.jqx.browser.mozilla||(g=g.indexOf("fakepath")!==-1?g.slice(12):g.slice(g.lastIndexOf("\\")+1)),f=a.jqx.browser.msie&&a.jqx.browser.version<10?"IE9 and earlier do not support getting the file size.":this.files[0].size;var h=b._addFileRow(g,d,e,f);1===b._fileRows.length&&(b._browseButton.css("margin-bottom","10px"),b._hideButtons(!1)),b._ieOldWebkit&&(b.removeHandler(d,"mouseenter.jqxFileUpload"+c),b.removeHandler(d,"mouseleave.jqxFileUpload"+c),b.removeHandler(d,"mousedown.jqxFileUpload"+c)),b._addFormAndFileInput(),b.removeHandler(e,"change.jqxFileUpload"+c),b.autoUpload===!0&&b._uploadFile(h)}),b._ieOldWebkit===!0&&b.addHandler(e,"click.jqxFileUpload"+c,function(a){b.multipleFilesUpload===!1&&b._fileRows.length>0&&a.preventDefault()}),b._forms.push({form:d,fileInput:e})},_addFileRow:function(b,c,d,e){var f,g,h,i,j,k=this,l="Cancel",m="Upload File";f=a('<div class="'+k.toThemeProperty("jqx-widget-content jqx-rc-all jqx-file-upload-file-row")+'"></div>'),0===k._fileRows.length?k._browseButton.after(f):k._fileRows[k._fileRows.length-1].fileRow.after(f),k.renderFiles?f.html(k.renderFiles(b)):(g=a('<div class="'+k.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-name")+'">'+b+"</div>"),f.append(g),k.localization&&(k.localization.cancelFileTooltip&&(l=k.localization.cancelFileTooltip),k.localization.uploadFileTooltip&&(m=k.localization.uploadFileTooltip)),i=a('<div class="'+k.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-cancel")+'" title="'+l+'"><div class="'+k.toThemeProperty("jqx-icon-close jqx-file-upload-icon")+'"></div></div>'),f.append(i),j=a('<div class="'+k.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-upload")+'" title="'+m+'"><div class="'+k.toThemeProperty("jqx-icon-arrow-up jqx-file-upload-icon jqx-file-upload-icon-upload")+'"></div></div>'),f.append(j),h=a('<div class="'+k.toThemeProperty("jqx-file-upload-loading-element")+'"></div>'),f.append(h),k.rtl&&(g.addClass(k.toThemeProperty("jqx-file-upload-file-name-rtl")),i.addClass(k.toThemeProperty("jqx-file-upload-file-cancel-rtl")),j.addClass(k.toThemeProperty("jqx-file-upload-file-upload-rtl")),h.addClass(k.toThemeProperty("jqx-file-upload-loading-element-rtl"))),k._setMaxWidth({fileNameContainer:g,uploadFile:j,cancelFile:i})),k._ie7&&(k._borderAndPadding("width",f),k._borderAndPadding("height",f),k.renderFiles||(k._borderAndPadding("height",g),k._borderAndPadding("height",j),k._borderAndPadding("height",i)));var n={fileRow:f,fileNameContainer:g,fileName:b,uploadFile:j,cancelFile:i,loadingElement:h,form:c,fileInput:d,index:k._fileRows.length};return k._addFileHandlers(n),k._fileRows.push(n),k._raiseEvent("0",{file:b,size:e}),n},_setMaxWidth:function(a){var b=this,c=a.cancelFile.outerWidth(!0)+a.uploadFile.outerWidth(!0),d=b._ie7?6:0,e=b.host.width()-parseInt(b.host.css("padding-left"),10)-parseInt(b.host.css("padding-right"),10)-c-d-7;a.fileNameContainer.css("max-width",e)},_addFileHandlers:function(a){var b=this;if(!b.renderFiles){var c=b.element.id;b.addHandler(a.uploadFile,"mouseenter.jqxFileUpload"+c,function(){b.disabled===!1&&a.uploadFile.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(a.uploadFile,"mouseleave.jqxFileUpload"+c,function(){b.disabled===!1&&a.uploadFile.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(a.uploadFile,"click.jqxFileUpload"+c,function(){b.disabled===!1&&b._uploadFile(a)}),b.addHandler(a.cancelFile,"mouseenter.jqxFileUpload"+c,function(){b.disabled===!1&&a.cancelFile.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(a.cancelFile,"mouseleave.jqxFileUpload"+c,function(){b.disabled===!1&&a.cancelFile.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(a.cancelFile,"click.jqxFileUpload"+c,function(){b.disabled===!1&&b._removeSingleFileRow(a)})}},_removeSingleFileRow:function(a){var b=this;if(b._removeFileRow(a),b._fileRows.splice(a.index,1),0===b._fileRows.length)setTimeout(function(){b._browseButton.css("margin-bottom",0)},400),b._hideButtons(!0);else for(var c=0;c<b._fileRows.length;c++)b._fileRows[c].index=c},_removeFileRow:function(a){var b=this,c=b.element.id;b.renderFiles||(b.removeHandler(a.uploadFile,"mouseenter.jqxFileUpload"+c),b.removeHandler(a.uploadFile,"mouseleave.jqxFileUpload"+c),b.removeHandler(a.uploadFile,"click.jqxFileUpload"+c),b.removeHandler(a.cancelFile,"mouseenter.jqxFileUpload"+c),b.removeHandler(a.cancelFile,"mouseleave.jqxFileUpload"+c),b.removeHandler(a.cancelFile,"click.jqxFileUpload"+c)),a.fileRow.fadeOut(function(){a.fileRow.remove(),a.form.remove()}),b._raiseEvent("1",{file:a.fileName})},_hideButtons:function(a){var b=this;a===!0?b._bottomButtonsContainer.fadeOut():b._bottomButtonsContainer.fadeIn()},_addHandlers:function(){var b=this,c=b.element.id;b._ieOldWebkit||b.addHandler(b._browseButton,"click.jqxFileUpload"+c,function(){b.browse()}),b.addHandler(b._uploadButton,"click.jqxFileUpload"+c,function(){b.uploadAll()}),b.addHandler(b._cancelButton,"click.jqxFileUpload"+c,function(){b.cancelAll()}),b.addHandler(b._uploadIframe,"load.jqxFileUpload"+c,function(){if((a.jqx.browser.chrome||a.jqx.browser.webkit)&&(b._iframeInitialized=!0),b._iframeInitialized===!1)b._iframeInitialized=!0;else{var c=b._uploadIframe.contents().find("body").html();b._raiseEvent("3",{file:b._uploadQueue[b._uploadQueue.length-1].fileName,response:c}),b._fileObjectToRemove&&(b._removeSingleFileRow(b._fileObjectToRemove),b._fileObjectToRemove=null),b._uploadQueue.pop(),b._uploadQueue.length>0&&b._uploadFile(b._uploadQueue[b._uploadQueue.length-1])}})},_removeHandlers:function(b){var c=this,d=c.element.id;if(c.removeHandler(c._browseButton,"click.jqxFileUpload"+d),c.removeHandler(c._uploadButton,"click.jqxFileUpload"+d),c.removeHandler(c._cancelButton,"click.jqxFileUpload"+d),c.removeHandler(c._uploadIframe,"load.jqxFileUpload"+d),b===!0){var e=c._forms[c._forms.length-1];c.removeHandler(e.fileInput,"change.jqxFileUpload"+d),c._ieOldWebkit&&(c.removeHandler(e.form,"mouseenter.jqxFileUpload"+d),c.removeHandler(e.form,"mouseleave.jqxFileUpload"+d),c.removeHandler(e.form,"mousedown.jqxFileUpload"+d),c.removeHandler(a(document),"mouseup.jqxFileUpload"+d))}}})}(jqxBaseFramework),function(a,b){"use strict";a.jqx.jqxWidget("jqxFormattedInput","",{}),a.extend(a.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var b={width:null,height:null,radix:10,decimalNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,changeType:null,template:"",_opened:!1,$popup:a("<ul></ul>"),item:'<li><a href="#"></a></li>',events:["open","close","change","radixChange"]};return this===a.jqx._jqxFormattedInput.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var a=this;a._Long(),a._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-])/),16:new RegExp(/([0-9]|[a-f])/i)},a.render()},bindDataBinder:function(a){var b=this;b.baseHost?b.baseHost.id:b.element.id;if("value"==a)return function(a){var c,d=arguments[1];"update"==a?c=d.value:"load"==a&&(c=d.records);b.val(c)}},render:function(){var b=this;if(b._radixNumber=b._getRadix(b.radix),""!==b.value&&(b._number=new b.longObj.math.Long.fromString(b.value.toString(),b._radixNumber)),b.baseHost&&(b.host=b.baseHost,b.element=b.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var c=this.host.find("input"),d=!1;if(a.each(c,function(){var b=this.type;if(null===b||"text"===b||"textarea"===b)return c=a(this),d=!0,!1}),!d)throw new Error("jqxFormattedInput: Missing Text Input in the Input Group");if(c.length>0){this.baseHost=a(this.element);var e=this.host.data();this.host=c,this.element=c[0],this.host.data(e),this.baseHost.addClass(this.toThemeProperty("jqx-widget")),this.baseHost.addClass(this.toThemeProperty("jqx-rc-all")),this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var f=this.baseHost.children();a.each(f,function(c){if(a(this).addClass(b.toThemeProperty("jqx-input-group-addon")),a(this).removeClass(b.toThemeProperty("jqx-rc-all")),0===c&&a(this).addClass(b.toThemeProperty("jqx-rc-l")),c===f.length-1&&a(this).addClass(b.toThemeProperty("jqx-rc-r")),this!==b.element&&a(this).addClass(b.toThemeProperty("jqx-fill-state-normal")),"div"===this.nodeName.toLowerCase()){b.appendSpinButtons=function(c){b._spinButtonsContainer=a(c),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-formatted-input-spin-buttons-container"));var d='<div class="'+b.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+b.toThemeProperty("jqx-input-icon")+'"></div></div>';b._upbutton=a(d),b._spinButtonsContainer.append(b._upbutton),b._downbutton=a(d),b._spinButtonsContainer.append(b._downbutton),b._upArrow=b._upbutton.find("div"),b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up")),b._downArrow=b._downbutton.find("div"),b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down")),b.template&&(b._upbutton.addClass(b.toThemeProperty("jqx-"+b.template)),b._downbutton.addClass(b.toThemeProperty("jqx-"+b.template))),b._spinButtonsStepLong=new b.longObj.math.Long.fromNumber(b.spinButtonsStep)};var d=function(c){b._addon=a(c),b._addon.addClass(b.toThemeProperty("jqx-formatted-input-addon")),b._arrow||(b._arrow=a('<div class="'+b.toThemeProperty("jqx-icon")+" "+b.toThemeProperty("jqx-icon-arrow-down")+'"></div>'),b._arrow.appendTo(b._addon)),b.template&&b._addon.addClass(b.toThemeProperty("jqx-"+b.template))};b.rtl===!1?b._spinButtonsContainer||b.spinButtons!==!0?b._addon||b.dropDown!==!0||2!==c&&(1!==c||b.spinButtons!==!1)||d(this):b.appendSpinButtons(this):b._addon||b.dropDown!==!0?b._spinButtonsContainer||b.spinButtons!==!0||1!==c&&(0!==c||b.dropDown!==!1)||(b.appendSpinButtons(this),b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl")),b.dropDown===!0&&b._addon.addClass(b.toThemeProperty("jqx-formatted-input-addon-rtl"))):(d(this),b.spinButtons===!0&&b._addon.addClass(b.toThemeProperty("jqx-formatted-input-addon-rtl")))}})}}b._inputAndAddon=b.host,b.baseHost&&(b._spinButtonsContainer&&(b._inputAndAddon=b._inputAndAddon.add(b._spinButtonsContainer)),b._addon&&(b._inputAndAddon=b._inputAndAddon.add(b._addon))),b.removeHandlers(),this.addHandlers(),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.attr("role","textbox"),a.jqx.aria(this,"aria-autocomplete","both"),a.jqx.aria(this,"aria-disabled",this.disabled),a.jqx.aria(this,"aria-readonly",!1),a.jqx.aria(this,"aria-multiline",!1),a.jqx.aria(this,"aria-haspopup",!0),""!==b.value&&null!==b.value?(b.upperCase===!0?b.host.addClass(b.toThemeProperty("jqx-formatted-input-upper-case")):b.host.addClass(b.toThemeProperty("jqx-formatted-input-lower-case")),10===b._radixNumber&&"exponential"===b.decimalNotation?b.element.value=b._getDecimalNotation("exponential"):b.element.value=b.value):b._spinButtonsContainer&&b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-fill-state-disabled")),10!==b._radixNumber&&"-9223372036854775808"===b.min.toString()?b._minLong=new b.longObj.math.Long.fromNumber(b.min):b._setMinMax("min"),10!==b._radixNumber&&"9223372036854775807"===b.max.toString()?b._maxLong=new b.longObj.math.Long.fromNumber(b.max):b._setMinMax("max")},_refreshClasses:function(b){var c=b?"addClass":"removeClass";this.host[c](this.toThemeProperty("jqx-widget-content")),this.host[c](this.toThemeProperty("jqx-input")),this.host[c](this.toThemeProperty("jqx-formatted-input")),this.host[c](this.toThemeProperty("jqx-widget")),this.$popup[c](this.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&this.$popup[c](this.toThemeProperty("jqx-noshadow")),this.$popup[c](this.toThemeProperty("jqx-input-popup")),this.$popup[c](this.toThemeProperty("jqx-menu")),this.$popup[c](this.toThemeProperty("jqx-menu-vertical")),this.$popup[c](this.toThemeProperty("jqx-menu-dropdown")),this.$popup[c](this.toThemeProperty("jqx-widget")),this.$popup[c](this.toThemeProperty("jqx-widget-content")),this.roundedCorners?(this.host[c](this.toThemeProperty("jqx-rc-all")),this.$popup[c](this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost[c](this.toThemeProperty("jqx-rc-all")),this.rtl===!1?(this.host[c](this.toThemeProperty("jqx-rc-l")),this._addon&&this._addon[c](this.toThemeProperty("jqx-rc-r"))):(this.host[c](this.toThemeProperty("jqx-rc-r")),this._addon&&this._addon[c](this.toThemeProperty("jqx-rc-l"))))):(this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.$popup.removeClass(this.toThemeProperty("jqx-rc-all")),this.baseHost&&(this.baseHost.removeClass(this.toThemeProperty("jqx-rc-all")),this.rtl===!1?(this.host.removeClass(this.toThemeProperty("jqx-rc-l")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-r")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-r"))):(this.host.removeClass(this.toThemeProperty("jqx-rc-r")),this.dropDown?this._addon.removeClass(this.toThemeProperty("jqx-rc-l")):this.spinButtons&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-rc-l"))))),this.disabled?(this.host[c](this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&(this._spinButtonsContainer&&this._spinButtonsContainer[c](this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon[c](this.toThemeProperty("jqx-fill-state-disabled")))):(this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.baseHost&&""!==this.value&&null!==this.value&&(this._spinButtonsContainer&&this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&this._addon.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))))},selectAll:function(){var a=this.host;setTimeout(function(){if("selectionStart"in a[0])a[0].focus(),a[0].setSelectionRange(0,a[0].value.length);else{var b=a[0].createTextRange();b.collapse(!0),b.moveEnd("character",a[0].value.length),b.moveStart("character",0),b.select()}},10)},selectLast:function(){var a=this.host;this.selectStart(a[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(a){var b=this.host;setTimeout(function(){if("selectionStart"in b[0])b[0].focus(),b[0].setSelectionRange(a,a);else{var c=b[0].createTextRange();c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select()}},10)},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},25)}catch(b){}},refresh:function(){var b=this;if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){if(this.width&&this.baseHost.width(this.width),this.height){this.baseHost.height(this.height);var c=0,d=this.baseHost.height()-2;a.jqx.browser.msie&&a.jqx.browser.version<8&&this.baseHost.css("display","inline-block"),a.each(this.baseHost.children(),function(){a(this).css("height","100%"),a.jqx.browser.msie&&a.jqx.browser.version<8&&a(this).css("height",d+"px"),this!==b.element&&(c+=a(this).outerWidth())});var e="string"==typeof b.width&&"%"===b.width.charAt(b.width.length-1)?1:0;if(this.host.css("width",this.baseHost.width()-c-e+"px"),a.jqx.browser.msie&&a.jqx.browser.version<9){b._spinButtonsContainer&&(b.rtl===!1||b.rtl===!0&&b._addon)&&b._spinButtonsContainer.css("border-left-width","0"),b._addon&&(b.rtl===!1?b._addon.css("border-left-width","0"):b._spinButtonsContainer||b._addon.css("border-right-width","0"));var f=0;if(a.jqx.browser.version<8){var g=0,h=parseInt(b.host.css("border-left-width"),10)+parseInt(b.host.css("border-right-width"),10),i=parseInt(b.host.css("padding-left"),10)+parseInt(b.host.css("padding-right"),10);
b._spinButtonsContainer&&(h+=parseInt(b._spinButtonsContainer.css("border-left-width"),10)+parseInt(b._spinButtonsContainer.css("border-right-width"),10),i+=parseInt(b._spinButtonsContainer.css("padding-left"),10)+parseInt(b._spinButtonsContainer.css("padding-right"),10),b._addon||(g=2)),b._addon&&(h+=parseInt(b._addon.css("border-left-width"),10)+parseInt(b._addon.css("border-right-width"),10),i+=parseInt(b._addon.css("padding-left"),10)+parseInt(b._addon.css("padding-right"),10),b._spinButtonsContainer||(g=2)),b.host.width(b.host.width()-(i+h)-g),f=6}b.host.height(b.baseHost.height()-(parseInt(b.host.css("border-top-width"),10)+parseInt(b.host.css("border-bottom-width"),10)+parseInt(b.host.css("padding-top"),10)+parseInt(b.host.css("padding-bottom"),10)+f));var j=b.host.height()+"px";b.host.css("min-height",j),b.host.css("line-height",j)}}}else this.width&&this.host.width(this.width),this.height&&this.host.height(this.height);if(this.host.attr("disabled",this.disabled),this.host.attr("placeholder")||this._refreshPlaceHolder(),this.$dataBinders$)for(var k in this.$dataBinders$){var l=this.$dataBinders$[k];if(l){var m=this.bindDataBinder(k);l.unbindCallbackFunc(this.element.id),l.bindCallbackFunc(this.element.id,m),l.dataBind()}}},_refreshPlaceHolder:function(){if("placeholder"in this.element)this.host.attr("placeHolder",this.placeHolder);else{var a=this;""===this.element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){a.element.value===a.placeHolder&&(a.element.value="")}),this.host.blur(function(){""!==a.element.value&&a.element.value!==a.placeHolder||(a.element.value=a.placeHolder)}))}},destroy:function(){this.removeHandlers(),this.baseHost?(a.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):(a.jqx.utilities.resize(this.host,null,!0),this.host.remove()),this.$popup&&this.$popup.remove()},propertyChangedHandler:function(b,c,d,e){function f(a,c){var d=b.host.width(),e=a.outerWidth();c===!1?(b.host.width(d+e),a.hide(),b.rtl===!0&&(b.spinButtons===!0&&b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),b.dropDown===!0&&b._addon.removeClass(b.toThemeProperty("jqx-formatted-input-addon-rtl")))):(b.host.width(d-e),a.show(),b.rtl===!0&&b.spinButtons===!0&&b.dropDown===!0&&(b._spinButtonsContainer.removeClass(b.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),b._addon.addClass(b.toThemeProperty("jqx-formatted-input-addon-rtl"))))}function g(c,d){if(d===!0){var e=a("<div></div>");if(b.baseHost){var f=b.baseHost.children("div");b.rtl===!1&&"spinButtons"===c||b.rtl===!0&&"dropDown"===c?f.before(e):f.after(e),b.render(),b.host.width(b.host.width()-e.outerWidth())}else{var g=b.element.id;b.host.removeAttr("id"),b.host.wrap('<div id="'+g+'" style="display: inline-block;"></div>');var h=a("#"+g);b.rtl===!1?h.append(e):h.prepend(e);var i=b.host.data();i.jqxFormattedInput.host=h,i.jqxFormattedInput.element=h[0],b.baseHost=h,b.baseHost.data(i),b.render(),b.refresh()}}}return"placeHolder"===c?void b._refreshPlaceHolder():("template"==c&&b.template&&(b._upbutton.removeClass(b.toThemeProperty("jqx-"+d)),b._downbutton.removeClass(b.toThemeProperty("jqx-"+d)),b._addon.removeClass(b.toThemeProperty("jqx-"+d)),b._upbutton.addClass(b.toThemeProperty("jqx-"+b.template)),b._downbutton.addClass(b.toThemeProperty("jqx-"+b.template)),b._addon.addClass(b.toThemeProperty("jqx-"+b.template))),"theme"===c?void a.jqx.utilities.setTheme(d,e,b.host):("disabled"===c&&a.jqx.aria(b,"aria-disabled",b.disabled),"value"===c&&d.toString().toUpperCase()!==e.toString().toUpperCase()?void b.val(e):d!==e&&"radix"===c?void b._changeRadix(e):(d!==e&&"decimalNotation"===c&&10===b._radixNumber&&("exponential"===e?b.element.value=b._getDecimalNotation("exponential"):b.element.value=b._number.toString(10)),d===e||"min"!==c&&"max"!==c?d!==e&&"upperCase"===c&&""!==b.element.value?void(e===!0?(b.host.removeClass(b.toThemeProperty("jqx-formatted-input-lower-case")),b.host.addClass(b.toThemeProperty("jqx-formatted-input-upper-case"))):(b.host.removeClass(b.toThemeProperty("jqx-formatted-input-upper-case")),b.host.addClass(b.toThemeProperty("jqx-formatted-input-lower-case")))):"spinButtons"===c?d!==e?void(b._spinButtonsContainer?f(b._spinButtonsContainer,e):g("spinButtons",e)):void 0:(d!==e&&"spinButtonsStep"===c&&(b._spinButtonsStepLong=new b.longObj.math.Long.fromNumber(e)),"dropDown"===c?d!==e?void(b._addon?f(b._addon,e):g("dropDown",e)):void 0:void b.refresh()):(b._setMinMax(c),b._validateValue(b.value,!0),void(b.value=b.element.value)))))},select:function(a,b,c){var d=this;c||(c=d.$popup.find(".jqx-fill-state-pressed").attr("data-value")),d._changeRadix(parseInt(c,10)),d._setMaxLength(!0),d.close()},val:function(b){var c=this;if(!b&&""!==b||"object"==typeof b&&a.isEmptyObject(b)===!0||"binary"===b||"octal"===b||"decimal"===b||"exponential"===b||"scientific"===b||"engineering"===b||"hexadecimal"===b){if(!b||"object"==typeof b&&a.isEmptyObject(b)===!0)return c.element.value;if("exponential"===b||"scientific"===b||"engineering"===b)return c._getDecimalNotation(b);var d=c._getRadix(b);return c._number.toString(d)}if(b=b.toString(),b.toUpperCase()!==c.element.value.toString().toUpperCase()){var e=c.element.value;c.upperCase===!0&&(b=b.toUpperCase());for(var f=b.split(""),g=0;g<f.length;g++)if(!c._regex[""+c._radixNumber].test(f[g]))return!1;var h=c._validateValue(b,!0);return c._raiseEvent("2",{value:h,oldValue:e,radix:c._radixNumber}),c.value=h,this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(h),h}return b},_changeRadix:function(a){var b=this,c=b._getRadix(a),d=""!==b.value?b._number.toString(c):"",e=b.radix,f=b.value;b.radix=a,b._radixNumber=c,b.element.value=d,b.value=d,this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(b.value),this._raiseEvent("3",{radix:a,oldRadix:e,value:d,oldValue:f})},_raiseEvent:function(b,c){void 0===c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,2==b&&(c.type=this.changeType,this.changeType=null),e.args=c,e.preventDefault&&e.preventDefault();var f;return f=this.baseHost?this.baseHost.trigger(e):this.host.trigger(e)},open:function(){var b=this;if(b._setPopupOptions(),b._render(b._popupOptions),!a.jqx.isHidden(this.host)){var c;if(c=b.baseHost?a.extend({},b.baseHost.coord(!0),{height:b.baseHost[0].offsetHeight}):a.extend({},b.host.coord(!0),{height:b.host[0].offsetHeight}),0===this.$popup.parent().length){var d=this.element.id+"_popup";this.$popup[0].id=d,a.jqx.aria(this,"aria-owns",d)}this.$popup.appendTo(a(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:c.top+c.height,left:c.left}).show();var e=0,f=this.$popup.children();return a.each(f,function(){e+=a(this).outerHeight(!0)-1}),this.$popup.height(e),this._opened=!0,b.baseHost&&(b._addon.addClass(b.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),b._arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("0",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!0),this}},close:function(){var b=this;return this.$popup.hide(),this._opened=!1,b.baseHost&&(b._addon.removeClass(b.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),b._arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!1),this},_render:function(b){var c=this;b=a(b).map(function(b,d){var e,f=d;switch(b){case 0:e=2;break;case 1:e=8;break;case 2:e=10;break;case 3:e=16}b=a(c.item).attr("data-value",e),b.find("a").html(f).attr("data-value",e);var g="";return c.rtl&&(g=" "+c.toThemeProperty("jqx-rtl")+" "+c.toThemeProperty("jqx-formatted-input-item-rtl")),b[0].className=c.toThemeProperty("jqx-item")+" "+c.toThemeProperty("jqx-menu-item")+" "+c.toThemeProperty("jqx-formatted-input-item")+" "+c.toThemeProperty("jqx-rc-all")+g,b[0]});var d;switch(c._radixNumber){case 2:d=0;break;case 8:d=1;break;case 10:d=2;break;case 16:d=3}if(b.eq(d).addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.$popup.html(b),this.dropDownWidth)this.$popup.width(this.dropDownWidth);else if(c.baseHost){var e="string"==typeof c.width&&"%"===c.width.charAt(c.width.length-1)?1:0;this.$popup.width(this.baseHost.outerWidth()-6-e)}else this.$popup.width(this.host.outerWidth()-6);return this},next:function(){var b=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c=b.next();c.length||(c=a(this.$popup.find("li")[0])),c.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(){var a=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),b=a.prev();b.length||(b=this.$popup.find("li").last()),b.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){var b=this;if(this.addHandler(this.host,"focus",a.proxy(this.onFocus,this)),this.addHandler(this.host,"blur",a.proxy(this.onBlur,this)),this.addHandler(this.host,"keypress",a.proxy(this.keypress,this)),this.addHandler(this.host,"keyup",a.proxy(this.keyup,this)),this.addHandler(this.host,"keydown",a.proxy(this.keydown,this)),this.addHandler(this.$popup,"mousedown",a.proxy(this.click,this)),this.host.on?this.$popup.on("mouseenter","li",a.proxy(this.mouseenter,this)):this.$popup.bind("mouseenter","li",a.proxy(this.mouseenter,this)),this.addHandler(this.host,"change",function(a){a.stopPropagation(),a.preventDefault()}),b.baseHost){var c=b.baseHost.attr("id");if(b._spinButtonsContainer){var d=b._upbutton.add(b._downbutton);b.addHandler(b._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+c,function(){b.disabled||""===b.value||null===b.value||(b._upbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.changeType="mouse",b._incrementOrDecrement("add"))}),b.addHandler(b._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+c,function(){b.disabled||""===b.value||null===b.value||b._upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))}),b.addHandler(b._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+c,function(){b.disabled||""===b.value||null===b.value||(b.changeType="mouse",b._downbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b._incrementOrDecrement("subtract"))}),b.addHandler(b._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+c,function(){b.disabled||""===b.value||null===b.value||b._downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))}),b.addHandler(d,"mouseenter.jqxFormattedInputSpinButtons"+c,function(c){if(!b.disabled&&""!==b.value&&null!==b.value){var d=a(c.target);d.hasClass("jqx-icon-arrow-up")||d.children().hasClass("jqx-icon-arrow-up")?(b._upbutton.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))):(b._downbutton.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")))}}),b.addHandler(d,"mouseleave.jqxFormattedInputSpinButtons"+c,function(c){if(!b.disabled&&""!==b.value&&null!==b.value){var d=a(c.target);d.hasClass("jqx-icon-arrow-up")||d.children().hasClass("jqx-icon-arrow-up")?(b._upbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))):(b._downbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover")))}}),b.addHandler(a("body"),"mouseup.jqxFormattedInputSpinButtons"+c,function(){b._upbutton.add(b._downbutton).removeClass(b.toThemeProperty("jqx-fill-state-pressed"))})}b._addon&&(b.addHandler(b._addon,"click.jqxFormattedInputAddon"+c,function(){b.disabled||(b._opened?b.close():b.open())}),b.addHandler(b._addon,"mouseenter.jqxFormattedInputAddon"+c,function(){b.disabled||""===b.value||null===b.value||(b._addon.addClass(b.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),b._arrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")))}),b.addHandler(b._addon,"mouseleave.jqxFormattedInputAddon"+c,function(){b.disabled||""===b.value||null===b.value||(b._addon.removeClass(b.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),b._arrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover")))}),b.addHandler(b._addon.add(b._arrow),"blur.jqxFormattedInputAddon"+c,function(){b._opened&&!b.disabled&&b.close()})),a.jqx.utilities.resize(b.baseHost,function(){b._opened===!0&&b.close();var a=0;b._spinButtonsContainer&&(a+=b._spinButtonsContainer.outerWidth()),b._addon&&(a+=b._addon.outerWidth()),b.host.css("width",b.baseHost.width()-a-1)})}},removeHandlers:function(){var b=this;if(this.removeHandler(this.host,"focus",a.proxy(this.onFocus,this)),this.removeHandler(this.host,"blur",a.proxy(this.onBlur,this)),this.removeHandler(this.host,"keypress",a.proxy(this.keypress,this)),this.removeHandler(this.host,"keyup",a.proxy(this.keyup,this)),this.removeHandler(this.host,"keydown",a.proxy(this.keydown,this)),this.removeHandler(this.$popup,"mousedown",a.proxy(this.click,this)),this.host.off?this.$popup.off("mouseenter","li",a.proxy(this.mouseenter,this)):this.$popup.unbind("mouseenter","li",a.proxy(this.mouseenter,this)),b.baseHost){var c=b.baseHost.attr("id");if(b._spinButtonsContainer){var d=b._upbutton.add(b._downbutton);b.removeHandler(b._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+c),b.removeHandler(b._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+c),b.removeHandler(b._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+c),b.removeHandler(b._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+c),b.removeHandler(d,"mouseenter.jqxFormattedInputSpinButtons"+c),b.removeHandler(d,"mouseleave.jqxFormattedInputSpinButtons"+c),b.removeHandler(a("body"),"mouseup.jqxFormattedInputSpinButtons"+c)}b._addon&&(b.removeHandler(b._addon,"click.jqxFormattedInputAddon"+c),b.removeHandler(b._addon,"mouseenter.jqxFormattedInputAddon"+c),b.removeHandler(b._addon,"mouseleave.jqxFormattedInputAddon"+c),b.removeHandler(b._addon.add(b._arrow),"blur.jqxFormattedInputAddon"+c))}},move:function(a){if(this._opened){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){var c=this;c.changeType="keyboard",this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b);var d=b.charCode?b.charCode:b.which,e=String.fromCharCode(d);if(d>=96&&d<=105&&(e=d-96,d-=48),b.altKey===!0){if(40===d)return void(c._addon&&this.open());if(38===d)return void(c._addon&&this.close())}if(b.ctrlKey===!0){if(67===d)return;if(65===d)return void c.selectAll()}var f=[8,9,13,37,38,39,40,46,88],g=c._regex[""+c._radixNumber];if(!(f.indexOf(d)!==-1||g.test(e)||g.test(b.key)||g.test(b["char"])))return b.preventDefault(),!1;var h=c.host[0].selectionStart,i=c.host[0].selectionEnd-h,j=this._getCaretPosition(this.host[0]),k=this.element.value,l=k.split("");if(8===d)i>0?l.splice(h,i):l.splice(j-1,1);else if(46===d)i>0?l.splice(h,i):l.splice(j,1);else if(88===d)b.ctrlKey===!0?i>0&&l.splice(h,i):b.preventDefault();else if(189===d)"-"===l[0]?(l.splice(0,1),c._minus=!1):(l.splice(0,0,"-"),c._minus=!0),b.preventDefault();else{var m=f.indexOf(d)===-1?e:"";i>0?(l.splice(h,i),l.splice(h,0,m)):l.splice(j,0,m)}if(l=l.join(""),l!==k){var n=c._validateValue(l,!1);n===!1?c._inputAndAddon.addClass(c.toThemeProperty("jqx-input-invalid")):c._inputAndAddon.removeClass(c.toThemeProperty("jqx-input-invalid"))}},keypress:function(a){var b=this;b.suppressKeyPressRepeat||b.move(a)},keyup:function(a){var b=this;switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this._opened?this.select(a,this):b._change();break;case 27:if(!this._opened)return;this.close();break;case 189:10===b._radixNumber&&(b._minus===!0?b.element.value="-"+b.element.value:b.element.value=b.element.value.slice(1))}a.stopPropagation(),a.preventDefault(),""!==b.element.value?(b.upperCase?b.host.addClass(b.toThemeProperty("jqx-formatted-input-upper-case")):b.host.addClass(b.toThemeProperty("jqx-formatted-input-lower-case")),b._spinButtonsContainer&&b._spinButtonsContainer.removeClass(b.toThemeProperty("jqx-fill-state-disabled"))):(b.host.removeClass(b.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),b._spinButtonsContainer&&b._spinButtonsContainer.addClass(b.toThemeProperty("jqx-fill-state-disabled")))},_getCaretPosition:function(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"===a.selectionStart)&&(b=a.selectionStart);return b},onBlur:function(){var a=this;a._opened&&a.close(),a._setMaxLength(),a._inputAndAddon.removeClass(a.toThemeProperty("jqx-fill-state-focus")),a._change(),10===a._radixNumber&&"exponential"===a.decimalNotation&&(a.element.value=a._getDecimalNotation("exponential")),a._refreshPlaceHolder()},onFocus:function(){var a=this;a._setMaxLength(!0),a._inputAndAddon.addClass(a.toThemeProperty("jqx-fill-state-focus")),10===a._radixNumber&&"exponential"===a.decimalNotation&&(a.element.value=a._number.toString(10))},click:function(b){b.stopPropagation(),b.preventDefault();var c=a(b.target).attr("data-value");this.select(b,this,c)},mouseenter:function(b){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),a(b.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_change:function(){var a=this,b=a.value,c=a._validateValue(a.element.value,!0);a._inputAndAddon.removeClass(a.toThemeProperty("jqx-input-invalid")),c.toUpperCase()!==b.toString().toUpperCase()&&(a._raiseEvent("2",{value:c,oldValue:b,radix:a._radixNumber}),a.value=c,this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(a.value))},_getRadix:function(a){switch(a){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){var a=this;a._popupOptions=new Array,""!==a.value?(a._popupOptions.push(a._number.toString(2)+" <em>(BIN)</em>"),a._popupOptions.push(a._number.toString(8)+" <em>(OCT)</em>"),a._popupOptions.push(a._number.toString(10)+" <em>(DEC)</em>"),a._popupOptions.push(a._number.toString(16)+" <em>(HEX)</em>")):(a._popupOptions.push("BIN"),a._popupOptions.push("OCT"),a._popupOptions.push("DEC"),a._popupOptions.push("HEX"))},_validateValue:function(a,b){var c=this;if(""!==a){var d=new c.longObj.math.Long.fromString(a.toString(),c._radixNumber);if(d.lessThan(c._minLong)){if(b){c._number=c._minLong;var e=c._minLong.toString(c._radixNumber);return 16===c._radixNumber&&c.upperCase===!0&&(e=e.toUpperCase()),c.element.value=e,e}return!1}if(d.greaterThan(c._maxLong)){if(b){c._number=c._maxLong;var f=c._maxLong.toString(c._radixNumber);return 16===c._radixNumber&&c.upperCase===!0&&(f=f.toUpperCase()),c.element.value=f,f}return!1}return!b||(c._number=d,c.element.value=a,a)}return!b||(c.element.value="",a)},_getNegativeDecimal:function(a,b){var c=a;if(8===b){for(var d=new Array,e=0;e<11;e++){for(var f=parseInt(a.charAt(e),8).toString(2);3!==f.length;)f="0"+f;d.push(f)}c=d.join(""),"0"===c.charAt(0)&&(c=c.slice(1))}else if(16===b){for(var g=new Array,h=0;h<8;h++){for(var i=parseInt(a.charAt(h),16).toString(2);4!==i.length;)i="0"+i;g.push(i)}c=g.join("")}for(var j="",k=0;k<c.length;k++){var l="1"===c.charAt(k)?"0":"1";j+=l}return j=(parseInt(j,2)+1)*-1},_setMaxLength:function(a){var b,c=this;if(a===!0)switch(c._radixNumber){case 2:b=64;break;case 8:b=22;break;case 10:b=20;break;case 16:b=16}else b=524288;c.host.attr("maxlength",b)},_setMinMax:function(a){var b=this;b["_"+a+"Long"]=new b.longObj.math.Long.fromString(b[a].toString(),b._radixNumber)},_getDecimalNotation:function(a){function b(a){if("0"===a)return parseInt(a,10).toExponential();var b;"-"===a.charAt(0)?(b="-",a=a.slice(1,a.length)):b="";for(var c=a.length-1;"0"===a.charAt(a.length-1);)a=a.slice(0,a.length-1);var d=a.slice(1,a.length);return""!==d&&(d="."+d),b+""+a.charAt(0)+d+"e+"+c}function c(a){var b=a.indexOf("e"),c=a.slice(b+1),d=a.slice(0,b+1);return d=d.replace("e","×10"),d+=e._toSuperScript(c),d=d.replace("+","")}function d(a){var b=a.indexOf("e"),c=a.slice(b+1),d=a.slice(0,b),f=parseInt(c,10)%3;d*=Math.pow(10,f);var g=a.slice(0,b).length-f-2;g>=0&&(d=d.toFixed(g));var h=d+"×10"+e._toSuperScript((parseInt(c,10)-f).toString());return h}var e=this,f=e._number.toString(10),g=b(f);return"scientific"===a?c(g):"engineering"===a?d(g):g},_toSuperScript:function(a,b){for(var c="-0123456789",d="⁻⁰¹²³⁴⁵⁶⁷⁸⁹",e="",f=0;f<a.length;f++)if(b===!0){var g=d.indexOf(a.charAt(f));e+=g!==-1?c[g]:a[f]}else{var h=c.indexOf(a.charAt(f));e+=h!==-1?d[h]:a[f]}return e},_incrementOrDecrement:function(a){var b=this;b._number.toString(b._radixNumber)!==b.element.value&&(b._number=new b.longObj.math.Long.fromString(b.element.value,b._radixNumber)),b._number=b._number[a](b._spinButtonsStepLong),b.element.value=b._number.toString(b._radixNumber),b._change()},_negativeBinary:function(a,b){var c="";for(a=a.slice(1,a.length);a.length<64;)a="0"+a;for(var d=0;d<a.length;d++){var e="1"===a.charAt(d)?"0":"1";c+=e}for(var f=!0,g="",h=c.length-1;h>=0;h--){var i,j=c.charAt(h);"0"===j?f===!0?(i="1",f=!1):i="0":i=f===!0?"0":"1",g=i+""+g}switch(b){case 2:return g;case 8:g="00"+g;for(var k="",l=22;l>=1;l--){var m=g[3*l-3]+""+g[3*l-2]+g[3*l-1];k=parseInt(m,2).toString(8)+""+k}return k;case 16:for(var n="",o=16;o>=1;o--){var p=g[4*o-4]+""+g[4*o-3]+g[4*o-2]+g[4*o-1];n=parseInt(p,2).toString(16)+""+n}return n}},_Long:function(){var a=this;a.longObj=new Object;var b=a.longObj;b.math=new Object,b.math.Long=new Object,b.math.Long=function(a,b){this.lowBits=0|a,this.highBits=0|b},b.math.Long.IntCache={},b.math.Long.fromInt=function(a){if(-128<=a&&a<128){var c=b.math.Long.IntCache[a];if(c)return c}var d=new b.math.Long(0|a,a<0?-1:0);return-128<=a&&a<128&&(b.math.Long.IntCache[a]=d),d},b.math.Long.fromNumber=function(a){return isNaN(a)||!isFinite(a)?b.math.Long.ZERO:a<=-b.math.Long.TWO_PWR_63_DBL_?b.math.Long.MIN_VALUE:a+1>=b.math.Long.TWO_PWR_63_DBL_?b.math.Long.MAX_VALUE:a<0?b.math.Long.fromNumber(-a).negate():new b.math.Long(a%b.math.Long.TWO_PWR_32_DBL_|0,a/b.math.Long.TWO_PWR_32_DBL_|0)},b.math.Long.fromBits=function(a,c){return new b.math.Long(a,c)},b.math.Long.fromString=function(a,c){if(0===a.length)throw new Error("number format error: empty string");var d=c||10;if(d<2||36<d)throw new Error("radix out of range: "+d);if("-"===a.charAt(0))return b.math.Long.fromString(a.substring(1),d).negate();if(a.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+a);for(var e=b.math.Long.fromNumber(Math.pow(d,8)),f=b.math.Long.ZERO,g=0;g<a.length;g+=8){var h=Math.min(8,a.length-g),i=parseInt(a.substring(g,g+h),d);if(h<8){var j=b.math.Long.fromNumber(Math.pow(d,h));f=f.multiply(j).add(b.math.Long.fromNumber(i))}else f=f.multiply(e),f=f.add(b.math.Long.fromNumber(i))}return f},b.math.Long.TWO_PWR_16_DBL_=65536,b.math.Long.TWO_PWR_24_DBL_=1<<24,b.math.Long.TWO_PWR_32_DBL_=b.math.Long.TWO_PWR_16_DBL_*b.math.Long.TWO_PWR_16_DBL_,b.math.Long.TWO_PWR_31_DBL_=b.math.Long.TWO_PWR_32_DBL_/2,b.math.Long.TWO_PWR_48_DBL_=b.math.Long.TWO_PWR_32_DBL_*b.math.Long.TWO_PWR_16_DBL_,b.math.Long.TWO_PWR_64_DBL_=b.math.Long.TWO_PWR_32_DBL_*b.math.Long.TWO_PWR_32_DBL_,b.math.Long.TWO_PWR_63_DBL_=b.math.Long.TWO_PWR_64_DBL_/2,b.math.Long.ZERO=b.math.Long.fromInt(0),b.math.Long.ONE=b.math.Long.fromInt(1),b.math.Long.NEG_ONE=b.math.Long.fromInt(-1),b.math.Long.MAX_VALUE=b.math.Long.fromBits(-1,2147483647),b.math.Long.MIN_VALUE=b.math.Long.fromBits(0,-2147483648),b.math.Long.TWO_PWR_24_=b.math.Long.fromInt(1<<24),b.math.Long.prototype.toInt=function(){return this.lowBits},b.math.Long.prototype.toNumber=function(){return this.highBits*b.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},b.math.Long.prototype.toString=function(c){var d=c||10;if(d<2||36<d)throw new Error("radix out of range: "+d);if(this.isZero())return"0";var e,f;if(this.isNegative()){if(this.equals(b.math.Long.MIN_VALUE)){var g=b.math.Long.fromNumber(d),h=this.div(g);return e=h.multiply(g).subtract(this),h.toString(d)+e.toInt().toString(d)}switch(d){case 2:case 8:case 16:return f="-"+this.negate().toString(2),a._negativeBinary(f,d);default:return f="-"+this.negate().toString(d)}}var i=b.math.Long.fromNumber(Math.pow(d,6));for(e=this,f="";;){var j=e.div(i),k=e.subtract(j.multiply(i)).toInt(),l=k.toString(d);if(e=j,e.isZero())return l+f;for(;l.length<6;)l="0"+l;f=""+l+f}},b.math.Long.prototype.getHighBits=function(){return this.highBits},b.math.Long.prototype.getLowBits=function(){return this.lowBits},b.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:b.math.Long.TWO_PWR_32_DBL_+this.lowBits},b.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(b.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var a=0!==this.highBits?this.highBits:this.lowBits,c=31;c>0&&0===(a&1<<c);c--);return 0!==this.highBits?c+33:c+1},b.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},b.math.Long.prototype.isNegative=function(){return this.highBits<0},b.math.Long.prototype.isOdd=function(){return 1===(1&this.lowBits)},b.math.Long.prototype.equals=function(a){return this.highBits===a.highBits&&this.lowBits===a.lowBits},b.math.Long.prototype.notEquals=function(a){return this.highBits!==a.highBits||this.lowBits!==a.lowBits},b.math.Long.prototype.lessThan=function(a){return this.compare(a)<0},b.math.Long.prototype.lessThanOrEqual=function(a){return this.compare(a)<=0},b.math.Long.prototype.greaterThan=function(a){return this.compare(a)>0},b.math.Long.prototype.greaterThanOrEqual=function(a){return this.compare(a)>=0},b.math.Long.prototype.compare=function(a){if(this.equals(a))return 0;var b=this.isNegative(),c=a.isNegative();return b&&!c?-1:!b&&c?1:this.subtract(a).isNegative()?-1:1},b.math.Long.prototype.negate=function(){return this.equals(b.math.Long.MIN_VALUE)?b.math.Long.MIN_VALUE:this.not().add(b.math.Long.ONE)},b.math.Long.prototype.add=function(a){var c=this.highBits>>>16,d=65535&this.highBits,e=this.lowBits>>>16,f=65535&this.lowBits,g=a.highBits>>>16,h=65535&a.highBits,i=a.lowBits>>>16,j=65535&a.lowBits,k=0,l=0,m=0,n=0;return n+=f+j,m+=n>>>16,n&=65535,m+=e+i,l+=m>>>16,m&=65535,l+=d+h,k+=l>>>16,l&=65535,k+=c+g,k&=65535,b.math.Long.fromBits(m<<16|n,k<<16|l)},b.math.Long.prototype.subtract=function(a){return this.add(a.negate())},b.math.Long.prototype.multiply=function(a){if(this.isZero())return b.math.Long.ZERO;if(a.isZero())return b.math.Long.ZERO;if(this.equals(b.math.Long.MIN_VALUE))return a.isOdd()?b.math.Long.MIN_VALUE:b.math.Long.ZERO;if(a.equals(b.math.Long.MIN_VALUE))return this.isOdd()?b.math.Long.MIN_VALUE:b.math.Long.ZERO;if(this.isNegative())return a.isNegative()?this.negate().multiply(a.negate()):this.negate().multiply(a).negate();if(a.isNegative())return this.multiply(a.negate()).negate();if(this.lessThan(b.math.Long.TWO_PWR_24_)&&a.lessThan(b.math.Long.TWO_PWR_24_))return b.math.Long.fromNumber(this.toNumber()*a.toNumber());var c=this.highBits>>>16,d=65535&this.highBits,e=this.lowBits>>>16,f=65535&this.lowBits,g=a.highBits>>>16,h=65535&a.highBits,i=a.lowBits>>>16,j=65535&a.lowBits,k=0,l=0,m=0,n=0;return n+=f*j,m+=n>>>16,n&=65535,m+=e*j,l+=m>>>16,m&=65535,m+=f*i,l+=m>>>16,m&=65535,l+=d*j,k+=l>>>16,l&=65535,l+=e*i,k+=l>>>16,l&=65535,l+=f*h,k+=l>>>16,l&=65535,k+=c*j+d*i+e*h+f*g,k&=65535,b.math.Long.fromBits(m<<16|n,k<<16|l)},b.math.Long.prototype.div=function(a){if(a.isZero())throw new Error("division by zero");if(this.isZero())return b.math.Long.ZERO;var c,d;if(this.equals(b.math.Long.MIN_VALUE)){if(a.equals(b.math.Long.ONE)||a.equals(b.math.Long.NEG_ONE))return b.math.Long.MIN_VALUE;if(a.equals(b.math.Long.MIN_VALUE))return b.math.Long.ONE;var e=this.shiftRight(1);if(c=e.div(a).shiftLeft(1),c.equals(b.math.Long.ZERO))return a.isNegative()?b.math.Long.ONE:b.math.Long.NEG_ONE;d=this.subtract(a.multiply(c));var f=c.add(d.div(a));return f}if(a.equals(b.math.Long.MIN_VALUE))return b.math.Long.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();var g=b.math.Long.ZERO;for(d=this;d.greaterThanOrEqual(a);){c=Math.max(1,Math.floor(d.toNumber()/a.toNumber()));for(var h=Math.ceil(Math.log(c)/Math.LN2),i=h<=48?1:Math.pow(2,h-48),j=b.math.Long.fromNumber(c),k=j.multiply(a);k.isNegative()||k.greaterThan(d);)c-=i,j=b.math.Long.fromNumber(c),k=j.multiply(a);j.isZero()&&(j=b.math.Long.ONE),g=g.add(j),d=d.subtract(k)}return g},b.math.Long.prototype.modulo=function(a){return this.subtract(this.div(a).multiply(a))},b.math.Long.prototype.not=function(){return b.math.Long.fromBits(~this.lowBits,~this.highBits)},b.math.Long.prototype.and=function(a){return b.math.Long.fromBits(this.lowBits&a.lowBits,this.highBits&a.highBits)},b.math.Long.prototype.or=function(a){return b.math.Long.fromBits(this.lowBits|a.lowBits,this.highBits|a.highBits)},b.math.Long.prototype.xor=function(a){return b.math.Long.fromBits(this.lowBits^a.lowBits,this.highBits^a.highBits)},b.math.Long.prototype.shiftLeft=function(a){if(a&=63,0===a)return this;var c=this.lowBits;if(a<32){var d=this.highBits;return b.math.Long.fromBits(c<<a,d<<a|c>>>32-a)}return b.math.Long.fromBits(0,c<<a-32)},b.math.Long.prototype.shiftRight=function(a){if(a&=63,0===a)return this;var c=this.highBits;if(a<32){var d=this.lowBits;return b.math.Long.fromBits(d>>>a|c<<32-a,c>>a)}return b.math.Long.fromBits(c>>a-32,c>=0?0:-1)},b.math.Long.prototype.shiftRightUnsigned=function(a){if(a&=63,0===a)return this;var c=this.highBits;if(a<32){var d=this.lowBits;return b.math.Long.fromBits(d>>>a|c<<32-a,c>>>a)}return 32===a?b.math.Long.fromBits(c,0):b.math.Long.fromBits(c>>>a-32,0)}}})}(jqxBaseFramework,A),function(a){var b={defineInstance:function(){var b={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,int64:!1,editableLabels:!1,value:0,min:0,max:220,disabled:!1,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:!0,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,tickMode:"default",niceInterval:!1,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===a.jqx._jqxGauge.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){var c=this;if(c.that=this,a.jqx.aria(c),c._radius=c.radius,c.endAngle=c.endAngle*Math.PI/180+Math.PI/2,c.startAngle=c.startAngle*Math.PI/180+Math.PI/2,"s"===c.int64){if(!a.jqx.longInt)throw new Error("jqxGauge: Missing reference to jqxmath.js");a.jqx.longInt(c),c._value64=(new a.jqx.math).fromString(c.value.toString(),10),c._min64=(new a.jqx.math).fromString(c.min.toString(),10),c._max64=(new a.jqx.math).fromString(c.max.toString(),10)}else if("u"===c.int64){try{BigNumber}catch(d){throw new Error("jqxGauge: Missing reference to jqxmath.js")}c._value64=new BigNumber(c.value),c._min64=new BigNumber(c.min),c._max64=new BigNumber(c.max)}else c.value=new Number(c.value);c._refresh(),c.renderer.getContainer().css("overflow","hidden"),c.int64!==!1?c.setValue(c._value64,0):c.setValue(c.value,0),a.jqx.utilities.resize(c.host,function(){c._refresh(!0)}),c.host.addClass(c.toThemeProperty("jqx-widget"))},_validateEasing:function(){return!!a.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle)throw new Error("The end angle can not be equal to the start angle!");
this._validateEasing()||(this.easing="linear"),this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%"),this.border=this._borderConstructor(this.border,this),this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"},this.ticksMinor=new this._tickConstructor(this.ticksMinor,this),this.ticksMajor=new this._tickConstructor(this.ticksMajor,this),this.cap=new this._capConstructor(this.cap,this),this.pointer=new this._pointerConstructor(this.pointer,this),this.labels=new this._labelsConstructor(this.labels,this),this.caption=new this._captionConstructor(this.caption,this);for(var a=0;a<this.ranges.length;a+=1)this.ranges[a]=new this._rangeConstructor(this.ranges[a],this)},_hostInit:function(a){var b,c=this._getScale(this.width,"width",this.host.parent()),d=this._getScale(this.height,"height",this.host.parent()),e=this._outerBorderOffset(),f=this.host;f.width(c),f.height(d),this.radius=b=0;var g=(this._getScale(this._radius,"width",this.host)||c/2)-e,h=(this._getScale(this._radius,"height",this.host)||d/2)-e;if(this.radius=b=Math.min(g,h),this._originalRadius=parseInt(this.radius,10)-this._radiusDifference,this._innerRadius=this._originalRadius,this.border&&(this._innerRadius-=this._getSize(this.border.size)),a||(f[0].innerHTML="<div />"),this._gaugeParent=f.children(),this._gaugeParent.width(c),this._gaugeParent.height(d),a){var i=this.renderer.getContainer();i[0].style.width=c+"px",i[0].style.height=d+"px"}else this.renderer.init(this._gaugeParent)},_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return a.jqx.createRenderer(this,b)},_refresh:function(b){var c=this;if(b)return c._ticksIterator=0,c._labelsIterator=0,c._ranges&&a(c._ranges).remove(),c._pointer&&a(c._pointer).remove(),c._pointer=null,c._ranges=[],c.niceInterval&&(c._labels&&a(c._labels).remove(),c._labels=[],c._ticks&&(a(c._ticks).remove(),c._ticks=[])),c._hostInit(b),void c._render(b);c.renderer||(c._isVML=!1,c.host.empty(),c._initRenderer(c.host));var d=c.renderer;d&&(c._ranges&&a(c._ranges).remove(),c._pointer&&a(c._pointer).remove(),c._labels&&a(c._labels).remove(),c._cap&&a(c._cap).remove(),c._ticks&&a(c._ticks).remove(),c._border&&a(c._border).remove(),c._caption&&a(c._caption).remove(),c._caption=null,c._labels=[],c._cap=null,c._ticks=[],c._ranges=[],c._border=null,c._pointer=null,c._validateProperties(),c._removeElements(),c._hostInit(),c._render(),c.setValue(this.value,0),c._editableLabels())},val:function(a){return 0==arguments.length||"object"==typeof a?this.value:void this.setValue(a,0)},refresh:function(a){a!==!0&&this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){var a=parseInt(this.border.style["stroke-width"],10)||1;return a/2},_removeCollection:function(b){for(var c=0;c<b.length;c+=1)a(b[c]).remove();b=[]},_render:function(a){this._addBorder(a),this._addGauge(a),this._addRanges(a),this.niceInterval?this._addTicks():(this._addTicks(a),this._addLabels(a)),this._styleLabels(),this._addCaption(a),this._addPointer(a),this._addCap(a)},_addBorder:function(a){if(this.border.visible){if(a){var b=this._outerBorderOffset();return this._border.setAttribute("cx",this._originalRadius+b),this._border.setAttribute("cy",this._originalRadius+b),void this._border.setAttribute("r",this._originalRadius)}var c=this.border.style.fill,b=this._outerBorderOffset();c||(c="#BABABA"),this.border.showGradient&&(c.indexOf("url")<0&&c.indexOf("#grd")<0?this._originalColor=c:c=this._originalColor,c=this.renderer._toLinearGradient(c,!0,[[0,1],[25,1.1],[50,1.5],[100,1]])),this._border=this.renderer.circle(this._originalRadius+b,this._originalRadius+b,this._originalRadius),this.border.style.fill=c,this.renderer.attr(this._border,this.border.style)}},_addGauge:function(a){var b=this._originalRadius,c=(this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]],!0),this._outerBorderOffset());a?(this._gauge.setAttribute("cx",b+c),this._gauge.setAttribute("cy",b+c),this._gauge.setAttribute("r",this._innerRadius)):(this._gauge=this.renderer.circle(b+c,b+c,this._innerRadius),this.renderer.attr(this._gauge,this.style))},_addCap:function(b){var c="visible",d=this._outerBorderOffset();this.cap.visible||(c="hidden");var e,f=this._originalRadius,g=this._getSize(this.cap.size);b?(this._cap.setAttribute("cx",f+d),this._cap.setAttribute("cy",f+d),this._cap.setAttribute("r",g),this._capCenter=[f,f]):(e=this.renderer.circle(f+d,f+d,g),this._capCenter=[f,f],this.renderer.attr(e,this.cap.style),a(e).css("visibility",c),this._cap=e)},_addTicks:function(b){function c(a){j.visible&&h._drawTick({angle:h._getAngleByValue(a),distance:h._getDistance(h.ticksDistance),style:j.style,size:h._getSize(j.size),type:"major"},b)}function d(a){i.visible&&h._drawTick({angle:h._getAngleByValue(a),distance:h._getDistance(h.ticksDistance),style:i.style,size:h._getSize(i.size),type:"minor"},b)}function e(a){h.labels.visible&&h._addLabel({angle:h._getAngleByValue(a),value:g>=1?a:new Number(a).toFixed(2),distance:h._getDistance(h._getLabelsDistance()),style:h.labels.className},b)}var f,g,h=this,i=this.ticksMinor,j=this.ticksMajor,k={};if(j.visible!==!1||i.visible!==!1||this.labels.visible!==!1){var l=0;if("s"===h.int64)if("default"===this.tickMode?this.niceInterval?(g=this._getNiceInterval("radial"),f=this._getNiceInterval("radial",!0)):(g=(new a.jqx.math).fromString(j.interval.toString(),10),f=(new a.jqx.math).fromString(i.interval.toString(),10)):(startToEnd=this._max64.subtract(this._min64),f=startToEnd.div((new a.jqx.math).fromString(i.number.toString(),10)),g=startToEnd.div((new a.jqx.math).fromString(j.number.toString(),10))),this.niceInterval){c(this._min64),e(this._min64);for(var m,n=this._min64.subtract(this._min64.modulo(g)).add(g),o=n;o.greaterThanOrEqual(this._min64);o=o.subtract(f))m=o;for(var p=m,q=n;(p.lessThan(this._max64)||q.lessThan(this._max64))&&(l+=1,!(l>250))&&(q.lessThanOrEqual(this._max64)&&(c(q),k[q.toString()]=!0,p.equals(n)?Math.abs(this._getAngleByValue(q)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&e(q):q.add(g).lessThan(this._max64)?e(q):Math.abs(this._getAngleByValue(q)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&e(q)),!k[p.toString()]&&p.lessThanOrEqual(h._max64)&&d(p),!h._checkForOverflow(p,f)&&!h._checkForOverflow(q,g));p=p.add(f),q=q.add(g));c(this._max64),e(this._max64)}else for(var p=(new a.jqx.math).fromString(h.min.toString(),10),q=(new a.jqx.math).fromString(h.min.toString(),10);(p.lessThanOrEqual(h._max64)||q.lessThanOrEqual(h._max64))&&(l+=1,!(l>250));p=p.add(f),q=q.add(g))q.lessThanOrEqual(h._max64)&&j.visible&&(c(q),k[q.toString()]=!0),!k[p.toString()]&&i.visible&&p.lessThanOrEqual(h._max64)&&d(p);else if("u"===h.int64)if("default"===this.tickMode?this.niceInterval?(g=this._getNiceInterval("radial"),f=this._getNiceInterval("radial",!0)):(g=new BigNumber(j.interval),f=new BigNumber(i.interval)):(startToEnd=this._max64.subtract(this._min64),f=startToEnd.divide(new BigNumber(i.number)),g=startToEnd.divide(new BigNumber(j.number))),this.niceInterval){c(this._min64),e(this._min64);for(var m,n=this._min64.subtract(this._min64.mod(g)).add(g),o=n;o.compare(this._min64)!==-1;o=o.subtract(f))m=o;for(var p=m,q=n;(p.compare(this._max64)===-1||q.compare(this._max64)===-1)&&(l+=1,!(l>250));p=p.add(f),q=q.add(g))1!==q.compare(this._max64)&&(c(q),k[q.toString()]=!0,0===p.compare(n)?Math.abs(this._getAngleByValue(q)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&e(q):q.add(g).compare(this._max64)===-1?e(q):Math.abs(this._getAngleByValue(q)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&e(q)),k[p.toString()]||1===p.compare(h._max64)||d(p);c(this._max64),e(this._max64)}else for(var p=new BigNumber(h.min),q=new BigNumber(h.min);(1!==p.compare(h._max64)||1!==q.compare(h._max64))&&(l+=1,!(l>250));p=p.add(f),q=q.add(g))1!==q.compare(h._max64)&&j.visible&&(c(q),k[q.toString()]=!0),!k[p.toString()]&&i.visible&&1!==p.compare(h._max64)&&d(p);else if("default"===this.tickMode?this.niceInterval?(g=this._getNiceInterval("radial"),f=this._getNiceInterval("radial",!0)):(g=j.interval,f=i.interval):(startToEnd=this.max-this.min,f=startToEnd/i.number,g=startToEnd/j.number),this.niceInterval){c(this.min),e(this.min);for(var m,n=this.min-this.min%g+g,o=n;o>=this.min;o-=f)m=o;for(var p=m,q=n;(p<this.max||q<this.max)&&(l+=1,!(l>250));p+=f,q+=g)q<=this.max&&(c(q),k[q.toFixed(5)]=!0,p===n?Math.abs(this._getAngleByValue(q)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&e(q):q+g<this.max?e(q):Math.abs(this._getAngleByValue(q)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&e(q)),!k[p.toFixed(5)]&&p<=this.max&&d(p);c(this.max),e(this.max)}else for(var p=this.min,q=this.min;(p<=this.max||q<=this.max)&&(l+=1,!(l>250));p+=f,q+=g)q<=this.max&&j.visible&&(c(q),k[q.toFixed(5)]=!0),!k[p.toFixed(5)]&&i.visible&&p<=this.max&&d(p);this._handleTicksVisibility()}},_handleTicksVisibility:function(){this.ticksMinor.visible?this.host.children(".jqx-gauge-tick-minor").css("visibility","visible"):this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden"),this.ticksMajor.visible?this.host.children(".jqx-gauge-tick-major").css("visibility","visible"):this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")},_getSize:function(a){return a.toString().indexOf("%")>=0&&(a=parseInt(a,10)/100*this._innerRadius),a=parseInt(a,10)},_getDistance:function(a){return this._getSize(a)+(this._originalRadius-this._innerRadius)},_drawTick:function(a,b){var c,d=this.that,e=a.angle,f=a.distance,g=a.size,h=d._outerBorderOffset(),i=d._originalRadius,j=i-f,k=j-g,l=i+h+j*Math.sin(e),m=i+h+j*Math.cos(e),n=i+h+k*Math.sin(e),o=i+h+k*Math.cos(e);if(a.style["class"]=d.toThemeProperty("jqx-gauge-tick-"+a.type),d._isVML&&(l=Math.round(l),n=Math.round(n),m=Math.round(m),o=Math.round(o)),b&&!d.niceInterval){var c=d._ticks[d._ticksIterator];c.setAttribute("x1",l),c.setAttribute("x2",n),c.setAttribute("y1",m),c.setAttribute("y2",o),d._ticksIterator++}else c=d.renderer.line(l,m,n,o,a.style),d._ticks.push(c)},_addRanges:function(a){var b="visible";if(this.showRanges)for(var c=this.ranges,d=0;d<c.length;d+=1)this._addRange(c[d],b,a);else b="hidden"},_getMaxRangeSize:function(){for(var a,b,c=-1,d=0;d<this.ranges.length;d+=1)a=this.ranges[d].startWidth,b=this.ranges[d].endWidth,a>c&&(c=a),b>c&&(c=b);return c},_getRangeDistance:function(a,b){var c=this._getLabelsDistance(),d=this._getDistance(a),e=this._getMaxRangeSize();if("outside"===this.labels.position){if(c<d+this._getMaxTickSize())return this._getDistance(this.ticksDistance)+e/2+this._getSize(this.ticksMajor.size)}else if("inside"===this.labels.position&&c+this._getMaxTickSize()<d)return this._getSize(this.border.size)+this._originalRadius/20;return d},_addRange:function(a,b,c){var d=this.that;if(!("s"===d.int64&&(a._startValue64.lessThan(d._min64)||a._endValue64.greaterThan(d._max64))||"u"===d.int64&&(a._startValue64.compare(d._min64)===-1||1===a._endValue64.compare(d._max64))||d.int64===!1&&(a.startValue<d.min||a.endValue>d.max))){var e,a,f=d.int64?d._getAngleByValue(a._startValue64):d._getAngleByValue(a.startValue),g=d.int64?d._getAngleByValue(a._endValue64):d._getAngleByValue(a.endValue),h=d._originalRadius,i=h-d._getRangeDistance(a.startDistance,a.startWidth),j=h-d._getRangeDistance(a.endDistance,a.endWidth),k=a.startWidth,l=a.endWidth,m=d._outerBorderOffset(),n={x:h+m+i*Math.sin(f),y:h+m+i*Math.cos(f)},o={x:h+m+j*Math.sin(g),y:h+m+j*Math.cos(g)},p=d._getProjectionPoint(f,h+m,i,k),q=d._getProjectionPoint(g,h+m,j,l),r="default";Math.abs(g-f)>Math.PI&&(r="opposite"),e=d._isVML?d._rangeVMLRender(n,o,h,p,q,l,k,i,j,r):d._rangeSVGRender(n,o,h,p,q,l,k,i,j,r),a.style.visibility=b,a.style["class"]=d.toThemeProperty("jqx-gauge-range"),a=d.renderer.path(e,a.style),d._ranges.push(a)}},_rangeSVGRender:function(a,b,c,d,e,f,g,h,i,j){var k="",h=c-h,l=["0,1","0,0"];return"opposite"===j&&(l=["1,1","1,0"]),k="M"+a.x+","+a.y+" ",k+="A"+(c-h)+","+(c-h)+" 100 "+l[0]+" "+b.x+","+b.y+" ",k+="L "+e.x+","+e.y+" ",k+="A"+(c-f-h)+","+(c-f-h)+" 100 "+l[1]+" "+d.x+","+d.y+" ",k+="L "+a.x+","+a.y+" ",k+="z"},_rangeVMLRender:function(a,b,c,d,e,f,g,h,i,j){c-=c-h+10;var k="",l=Math.floor(c+(g+f)/2),h=Math.floor(c-h),i=Math.floor(i),m={x:(d.x+e.x)/2,y:(d.y+e.y)/2},n=Math.sqrt((e.x-d.x)*(e.x-d.x)+(e.y-d.y)*(e.y-d.y)),o=Math.floor(m.x+Math.sqrt(c*c-n/2*(n/2))*(d.y-e.y)/n),p=Math.floor(m.y+Math.sqrt(c*c-n/2*(n/2))*(e.x-d.x)/n),q={x:(a.x+b.x)/2,y:(a.y+b.y)/2},r=Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y)),s=Math.floor(q.x+Math.sqrt(Math.abs(l*l-r/2*(r/2)))*(a.y-b.y)/r),t=Math.floor(q.y+Math.sqrt(Math.abs(l*l-r/2*(r/2)))*(b.x-a.x)/r);return"opposite"===j&&(o=Math.floor(m.x-Math.sqrt(c*c-n/2*(n/2))*(d.y-e.y)/n),p=Math.floor(m.y-Math.sqrt(c*c-n/2*(n/2))*(e.x-d.x)/n),s=Math.floor(q.x-Math.sqrt(Math.abs(l*l-r/2*(r/2)))*(a.y-b.y)/r),t=Math.floor(q.y-Math.sqrt(Math.abs(l*l-r/2*(r/2)))*(b.x-a.x)/r)),c=Math.floor(c),b={x:Math.floor(b.x),y:Math.floor(b.y)},a={x:Math.floor(a.x),y:Math.floor(a.y)},d={x:Math.floor(d.x),y:Math.floor(d.y)},e={x:Math.floor(e.x),y:Math.floor(e.y)},k="m "+b.x+","+b.y,k+="at "+(s-l)+" "+(t-l)+" "+(l+s)+" "+(l+t)+" "+b.x+","+b.y+" "+a.x+","+a.y,k+="l "+d.x+","+d.y,k+="m "+b.x+","+b.y,k+="l "+e.x+","+e.y,k+="at "+(o-c)+" "+(p-c)+" "+(c+o)+" "+(c+p)+" "+e.x+","+e.y+" "+d.x+","+d.y,k+="qx "+d.x+" "+d.y},_getProjectionPoint:function(a,b,c,d){var e={x:b+(c-d)*Math.sin(a),y:b+(c-d)*Math.cos(a)};return e},_addLabels:function(b){var c=this,d=c._getLabelInterval();if(c.labels.visible&&"0"!==c.labels.interval.toString()){var e=this._getDistance(this._getLabelsDistance()),f=0;if("s"===c.int64)for(var g=(new a.jqx.math).fromNumber(c.min.toString(),10);g.lessThanOrEqual(c._max64)&&(f+=1,!(f>250))&&(!g.lessThan(c._min64)&&!g.greaterThan(c._max64));g=g.add(d))this._addLabel({angle:this._getAngleByValue(g),value:g.toString(),distance:e,style:this.labels.className});else if("u"===c.int64)for(var g=new BigNumber(c.min);1!==g.compare(c._max64)&&(f+=1,!(f>250))&&(g.compare(c._min64)!==-1&&1!==g.compare(c._max64));g=g.add(d))this._addLabel({angle:this._getAngleByValue(g),value:g.toString(),distance:e,style:this.labels.className});else for(var g=this.min;g<=this.max&&(f+=1,!(f>250));g+=d)this._addLabel({angle:this._getAngleByValue(g),value:d>=1?g:new Number(g).toFixed(2),distance:e,style:this.labels.className},b)}},_getLabelsDistance:function(){var a=this._getMaxLabelSize(),b=this._getDistance(this.labels.distance),c=this._getDistance(this.ticksDistance);return a=a.width,"inside"===this.labels.position?c+a-5:"outside"===this.labels.position?b<c-1.5*a?b:Math.max(c-1.5*a,.6*a):this.labels.distance},_addLabel:function(a,b){var c,d,e=this.that,f=a.angle,g=e._originalRadius,h=g-a.distance,i=e.labels.offset,j=e._outerBorderOffset(),k=g+j+h*Math.sin(f)+i[0],l=g+j+h*Math.cos(f)+i[1],m=a.value,n=a.style||"",o=e.labels.fontSize;m=e._formatLabel(m.toString());var p={"class":n};if(o&&(p["font-size"]=o),e.labels.fontFamily&&(p["font-family"]=e.labels.fontFamily),e.labels.fontWeight&&(p["font-weight"]=e.labels.fontWeight),e.labels.fontStyle&&(p["font-style"]=e.labels.fontStyle),b&&!e.niceInterval){var d=e._labels[e._labelsIterator],q=e.renderer._measureText(m,0,p,!0),r=q.textPartsInfo,s=(r.parts,r.width,r.height);d.setAttribute("x",Math.round(k)-q.width/2+(q.width-r.width)/2),d.setAttribute("y",Math.round(l)+s+(q.height-s)/2),e._labelsIterator++}else{var c=e.renderer.measureText(m,0,p),t=0;void 0!==o&&Math.PI>f&&(t=-c.width/2*(parseInt(o)/25),parseInt(o)<=10&&(t*=-1)),d=e.renderer.text(m,Math.round(k)-c.width/2+t,Math.round(l),c.width,c.height,0,p),e._labels.push(d)}},_addCaption:function(a){if(this.caption.visible!==!1){var b=this.that,c=b.caption.value,d=b.toThemeProperty("jqx-gauge-caption"),e=b.caption.offset,f=b.renderer.measureText(c,0,{"class":d}),g=b._getPosition(this.caption.position,f,e),h=(b.caption.style,b._outerBorderOffset());if(a)this._caption.setAttribute("x",g.left+h),this._caption.setAttribute("y",g.top+h);else{var i=b.renderer.text(c,g.left+h,g.top+h,f.width,f.height,0,{"class":d});this._caption=i}}},_getPosition:function(a,b,c){var d=0,e=0,f=this._originalRadius;switch(a){case"left":d=(f-b.width)/2,e=f-b.height/2;break;case"right":d=f+(f-b.width)/2,e=f-b.height/2;break;case"bottom":d=(2*f-b.width)/2,e=(f+2*f-b.height)/2;break;default:d=(2*f-b.width)/2,e=(f+b.height)/2}return{left:d+c[0],top:e+c[1]}},_addPointer:function(b){var c="visible";this.pointer.visible||(c="hidden");var d,e=(this._originalRadius,this._getSize(this.pointer.length)),f=this._getAngleByValue(this.value),g=this.pointer.pointerType;d=this._computePointerPoints(this._getSize(this.pointer.width),f,e,"default"!==g),this._pointer=this.renderer.path(d,this.pointer.style),a(this._pointer).css("visibility",c)},_computePointerPoints:function(a,b,c,d){return d?this._computeRectPoints(a,b,c):this._computeArrowPoints(a,b,c)},_computeArrowPoints:function(a,b,c){var d,e=this._originalRadius-.5,f=Math.sin(b),g=Math.cos(b),h=this._outerBorderOffset(),i=e+h+c*f,j=e+h+c*g,k=e+h+a*g,l=e+h-a*f,m=e+h-a*g,n=e+h+a*f;return this._isVML&&(k=Math.round(k),m=Math.round(m),l=Math.round(l),n=Math.round(n),i=Math.round(i),j=Math.round(j)),d="M "+k+","+l+" L "+m+","+n+" L "+i+","+j},_computeRectPoints:function(a,b,c){var d,e=this._originalRadius,f=Math.sin(b),g=Math.cos(b),h=this._outerBorderOffset(),i=e+h-a*g+c*f,j=e+h+a*f+c*g,k=e+h+a*g+c*f,l=e+h-a*f+c*g,m=e+h+a*g,n=e+h-a*f,o=e+h-a*g,p=e+h+a*f;return this._isVML&&(m=Math.round(m),o=Math.round(o),n=Math.round(n),p=Math.round(p),i=Math.round(i),j=Math.round(j),k=Math.round(k),l=Math.round(l)),d="M "+m+","+n+" L "+o+","+p+" L "+i+","+j+" "+k+","+l},_getAngleByValue:function(b){var c,d,e,f,g,h=this,i=h.startAngle,j=i-h.endAngle;if(h.int64!==!1){b="s"===h.int64?(new a.jqx.math).fromString(b.toString(),10):new BigNumber(b),c=h._min64,d=h._max64,e=d.subtract(c),f=b.subtract(c),"u"===h.int64&&(f=f.intPart());var k,l,m=e.toString(),n=f.toString();if(m.length>15){var o=m.length-15;if(m=m.slice(0,15)+"."+m.slice(15),k=parseFloat(m),n.length>o){var p=n.length-o;n=n.slice(0,p)+"."+n.slice(p)}else if(n.length===o)n="0."+n;else{for(var q="0.",r=0;r<o-n.length;r++)q+="0";n=q+""+n}l=parseFloat(n)}else k=parseFloat(e.toString()),l=parseFloat(f.toString());g=j*l/k+i+Math.PI}else c=h.min,d=h.max,e=d-c,f=b-c,g=j*f/e+i+Math.PI;return g},_setValue:function(b){var c=this;if("s"===c.int64&&b.lessThanOrEqual(c._max64)&&b.greaterThanOrEqual(c._min64)||"u"===c.int64&&1!==b.compare(c._max64)&&b.compare(c._min64)!==-1||c.int64===!1&&b<=c.max&&b>=c.min){var d=c._getAngleByValue(b),e=c.pointer.pointerType,f=c._computePointerPoints(c._getSize(c.pointer.width),d,c._getSize(c.pointer.length),"default"!==e);c._isVML?(c._pointer&&a(c._pointer).remove(),c._pointer=c.renderer.path(f,c.pointer.style)):c.renderer.attr(c._pointer,{d:f}),c.int64!==!1?(c.value=b.toString(),"s"===c.int64?c._value64=(new a.jqx.math).fromString(c.value,10):c._value64=new BigNumber(c.value)):c.value=b,a.jqx.aria(c,"aria-valuenow",b.toString())}},resize:function(a,b){this.width=a,this.height=b,this.refresh()},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&a._refresh(!0)},propertyChangedHandler:function(b,c,d,e){e!=d&&(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length||("min"==c&&(b.int64===!0?b._min64=(new a.jqx.math).fromString(e.toString(),10):this.min=parseInt(e),a.jqx.aria(b,"aria-valuemin",e)),"max"==c&&(b.int64===!0?b._max64=(new a.jqx.math).fromString(e.toString(),10):this.max=parseInt(e),a.jqx.aria(b,"aria-valuemax",e)),"disabled"===c?(e?this.disable():this.enable(),a.jqx.aria(this,"aria-disabled",e)):"value"===c?(this.value=d,this.setValue(e)):("startAngle"===c?this.startAngle=this.startAngle*Math.PI/180+Math.PI/2:"endAngle"===c?this.endAngle=this.endAngle*Math.PI/180+Math.PI/2:"colorScheme"===c?(this.pointer.style=null,this.cap.style=null):"radius"===c&&(this._radius=e),"animationDuration"!==c&&"easing"!==c&&this._refresh()),this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh()))},_tickConstructor:function(a,b){function c(c,d){b.int64===!1?c[d]=parseFloat(a[d]):c[d]=a[d],c[d]||(c[d]=5)}return this.host?new this._tickConstructor(a,b):(a=a||{},this.size=b._validatePercentage(a.size,"10%"),c(this,"interval"),c(this,"number"),this.style=a.style||{stroke:"#898989","stroke-width":1},void("undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible))},_capConstructor:function(a,b){var c=b._getColorScheme(b.colorScheme)[0];return this.host?new this._capConstructor(a,b):(a=a||{},"undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible,this.size=b._validatePercentage(a.size,"4%"),void(this.style=a.style||{fill:c,"stroke-width":"1px",stroke:c,"z-index":30}))},_pointerConstructor:function(a,b){var c=b._getColorScheme(b.colorScheme)[0];return this.host?new this._pointerConstructor(a,b):(a=a||{},"undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible,this.pointerType=a.pointerType,"default"!==this.pointerType&&"rectangle"!==this.pointerType&&(this.pointerType="default"),this.style=a.style||{"z-index":0,stroke:c,fill:c,"stroke-width":1},this.length=b._validatePercentage(a.length,"70%"),void(this.width=b._validatePercentage(a.width,"2%")))},_labelsConstructor:function(b,c){return this.host?new this._labelsConstructor(b,c):(b=b||{},"undefined"==typeof b.visible?this.visible=!0:this.visible=b.visible,this.offset=b.offset,this.offset instanceof Array||(this.offset=[0,-10]),b.interval||(b.interval=20),c.int64!==!1?(this.interval=b.interval,"s"===c.int64?this._interval64=(new a.jqx.math).fromString(b.interval.toString(),10):this._interval64=new BigNumber(b.interval)):this.interval=parseFloat(b.interval),b.number||(b.number=5),this.number=b.number,this.distance=c._validatePercentage(b.distance,"38%"),this.position=b.position,"inside"!==this.position&&"outside"!==this.position&&(this.position="none"),this.formatValue=b.formatValue,this.formatSettings=b.formatSettings,this.fontSize=b.fontSize,this.fontFamily=b.fontFamily,this.fontWeight=b.fontWeight,void(this.fontStyle=b.fontStyle))},_captionConstructor:function(a,b){return this.host?new this._captionConstructor(a,b):(a=a||{},"undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible,this.value=a.value||"",this.position=a.position,"bottom"!==this.position&&"top"!==this.position&&"left"!==this.position&&"right"!==this.position&&(this.position="bottom"),this.offset=a.offset,void(this.offset instanceof Array||(this.offset=[0,0])))},_rangeConstructor:function(b,c){return this.host?new this._rangeConstructor(b,c):(b=b||{},this.startDistance=c._validatePercentage(b.startDistance,"5%"),this.endDistance=c._validatePercentage(b.endDistance,"5%"),this.style=b.style||{fill:"#000000",stroke:"#111111"},this.startWidth=parseFloat(b.startWidth,10),this.startWidth||(this.startWidth=10),this.startWidth=Math.max(this.startWidth,2),this.endWidth=parseFloat(b.endWidth,10),this.endWidth||(this.endWidth=10),this.endWidth=Math.max(this.endWidth,2),void 0===b.startValue&&(b.startValue=0),void 0===b.endValue&&(b.endValue=100),void(c.int64!==!1?(this.startValue=b.startValue,this.endValue=b.endValue,"s"===c.int64?(this._startValue64=(new a.jqx.math).fromString(b.startValue.toString(),10),this._endValue64=(new a.jqx.math).fromString(b.endValue.toString(),10)):(this._startValue64=new BigNumber(b.startValue),this._endValue64=new BigNumber(b.endValue))):(this.startValue=parseFloat(b.startValue,10),this.endValue=parseFloat(b.endValue,10))))},_borderConstructor:function(a,b){return this.host?new this._borderConstructor(a,b):(a=a||{},this.size=b._validatePercentage(a.size,"10%"),this.style=a.style||{stroke:"#cccccc"},"undefined"==typeof a.showGradient?this.showGradient=!0:this.showGradient=a.showGradient,void("undefined"==typeof a.visible?this.visible=!0:this.visible=a.visible))}},c={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(a,b,c){return a&&a.toString().indexOf("%")>=0?(a=parseInt(a,10)/100,c[b]()*a):parseInt(a,10)},_removeElements:function(){this.host.children(".chartContainer").remove(),this.host.children("#tblChart").remove()},_getLabelInterval:function(){var b,c=this,d=c.labels;if("default"===c.tickMode)c.niceInterval?b=c._getNiceInterval("jqxGauge"===c.widgetName?"radial":"linear"):c.int64===!1?b=d.interval:(d._interval64||(d._interval64="s"===c.int64?(new a.jqx.math).fromNumber(d.interval):new BigNumber(d.interval)),b=d._interval64);else if(c.int64===!1){var e=c.max-c.min;b=e/d.number}else{var e=c._max64.subtract(c._min64);b="s"===c.int64?e.div((new a.jqx.math).fromNumber(d.number)):e.divide(new BigNumber(d.number))}return b},_getMaxLabelSize:function(){var b=this,c=this.max,d=this.min;d=b._formatLabel(d),c=b._formatLabel(c);var e=a('<div style="position: absolute; visibility: hidden;" class="'+b.toThemeProperty("jqx-gauge-label")+'"></div>');e.css({"font-size":b.labels.fontSize,"font-family":b.labels.fontFamily,"font-weight":b.labels.fontWeight,"font-style":b.labels.fontStyle}),a("body").append(e),e.html(d);var f={width:e.width(),height:e.height()};e.html(c);var g={width:e.width(),height:e.height()};return e.remove(),f.width>g.width?f:g},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){var b=this;b._timeout&&clearTimeout(this._timeout),b._timeout=null,a.jqx.utilities.resize(b.host,null,!0),b._removeElements(),b.renderer.clear(),b.renderer=null;var c=a.data(b.element,"jqxGauge");c&&delete c.instance,b.host.children().remove(),b._caption=null,b._caption=null,b._pointer=null,b._labels=[],b._cap=null,b._ticks=[],b._ranges=[],b._border=null,b._gauge=null,b._caption=null,b.renderer=null,b._animations=[],b.host.removeData(),b.host.removeClass(),b.host.remove(),b.that=null,b.element=null,b._gaugeParent=null,delete b._gaugeParent,delete b.element,delete b.host},_validatePercentage:function(a,b){return 0===parseFloat(a)||a&&parseInt(a,10)||(a=b),a},_getColorScheme:function(a){for(var b,c=0;c<this._schemes.length;c+=1)if(b=this._schemes[c],b.name===a)return b.colors;return null},setValue:function(b,c){var d=this;d.disabled||(c=c||d.animationDuration||0,"s"===d.int64?("number"==typeof b?b=(new a.jqx.math).fromNumber(b,10):"string"==typeof b&&(b=(new a.jqx.math).fromString(b,10)),b.greaterThan(d._max64)&&(b=(new a.jqx.math).fromString(d._max64.toString(),10)),b.lessThan(d._min64)&&(b=(new a.jqx.math).fromString(d._min64.toString(),10)),d._animate(d._value64,b,c)):"u"===d.int64?(b=new BigNumber(b),1===b.compare(d._max64)&&(b=new BigNumber(d._max64)),b.compare(d._min64)===-1&&(b=new BigNumber(d._min64)),d._animate(d._value64,b,c)):(b>d.max&&(b=d.max),b<d.min&&(b=d.min),d._animate(d.value,b,c)),a.jqx.aria(d,"aria-valuenow",b.toString()))},_animate:function(a,b,c){var d=this;return d._timeout&&d._endAnimation(d.int64?d._value64:d.value,!1),c?void d._animateHandler(a,b,0,c):void d._endAnimation(b,!0)},_animateHandler:function(b,c,d,e){var f=this;d<=e?this._timeout=setTimeout(function(){if(f.int64!==!1){var g=c.subtract(b);if("s"===f.int64){var h=(new a.jqx.math).fromNumber(100*a.easing[f.easing](d/e,d,0,1,e),10);f._value64=b.add(g.multiply(h).div((new a.jqx.math).fromNumber(100,10)))}else{var h=new BigNumber(100*a.easing[f.easing](d/e,d,0,1,e));f._value64=b.add(g.multiply(h).divide(100))}f.value=f._value64.toString(),f._setValue(f._value64)}else f.value=b+(c-b)*a.easing[f.easing](d/e,d,0,1,e),f._setValue(f.value);f._raiseEvent(0,{value:f.value.toString()}),f._animateHandler(b,c,d+f._animationTimeout,e)},this._animationTimeout):this._endAnimation(c,!0)},_endAnimation:function(a,b){clearTimeout(this._timeout),this._timeout=null,this._setValue(a),b&&this._raiseEvent(1,{value:a.toString()})},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(b,c){var d,e=a.Event(this._events[b]);return e.args=c||{},d=this.host.trigger(e)},_getNiceInterval:function(b,c){function d(a){return Math.log(parseFloat(a))/Math.LN10}function e(){var a=Math.abs(f.startAngle-f.endAngle)*f._innerRadius;return Math.round(a)}var f=this,g="width";"linear"===b&&"vertical"===f.orientation&&(g="height");var h,i=a.jqx.browser.msie?0:1,j=a('<span class="'+f.toThemeProperty("jqx-gauge-label")+'" style="position: absolute; visibility: hidden;"></span>'),k=f._formatLabel(f.min),l=f._formatLabel(f.max);j.css({"font-size":f.labels.fontSize,"font-family":f.labels.fontFamily,"font-weight":f.labels.fontWeight,"font-style":f.labels.fontStyle}),a("body").append(j),j.text(k);var m=j[g]()+i;j.text(l);var n=j[g]()+i;j.remove();var h=Math.max(n,m),o=1;if("radial"===b){var p;p=f._innerRadius<50?.3:f._innerRadius<150?.6:f._innerRadius<250?.7:1,o=8/Math.max(1,d(f._innerRadius))*p}else{var q=0;h>105&&(q=(h-105)/100),o=1.5+q}h*=o;var r;r="radial"===b?e():f._getScaleLength();var s,t,u,v,w,x,y=Math.ceil(r/h);return c===!0&&(y*="radial"===b?4:3),f.int64===!1?(s=f.max-f.min,t=Math.floor(d(s)-d(y)),u=Math.pow(10,t),v=y*u,w=s<2*v?1:s<3*v?2:s<7*v?5:10,x=w*u):(s=new BigNumber(f.max).subtract(new BigNumber(f.min)),t=Math.floor(d(s.toString())-d(y)),u=new BigNumber(10).pow(new BigNumber(t)),v=new BigNumber(y).multiply(u),w=s.compare(new BigNumber(2*v))===-1?1:s.compare(new BigNumber(3*v))===-1?2:s.compare(new BigNumber(7*v))===-1?5:10,x=new BigNumber(w).multiply(u),x.compare(1)===-1&&(x=new BigNumber(1)),"s"===f.int64&&(x=(new a.jqx.math).fromString(x.toString()))),x},_styleLabels:function(){return},_checkForOverflow:function(a,b){var c=new BigNumber("9223372036854775807"),d=new BigNumber(a.toString()),e=new BigNumber(b.toString());return 1===d.add(e).compare(c);
},_formatLabel:function(b,c){var d,e=this,f=e.labels.formatValue,g=e.labels.formatSettings;return f?d=f(b,c):g?void 0!==g.radix?d=(new a.jqx.math).getRadixValue(b,e.int64,g.radix):void 0!==g.outputNotation&&"default"!==g.outputNotation&&"decimal"!==g.outputNotation?d=(new a.jqx.math).getDecimalNotation(b,g.outputNotation,g.decimalDigits,g.digits):void 0!==g.decimalDigits?d=Number(b).toFixed(g.decimalDigits):void 0!==g.digits&&(d=Number(b).toPrecision(g.digits)):d=b,d},_editableLabels:function(b){function c(b,c){var d=e.renderer.measureText(e._formatLabel(c),0,{"class":e.toThemeProperty("jqx-gauge-label")});h.offset(a(b).offset()),g.style.width=d.width+10+"px",g.style.height=d.height+"px",g.style.visibility="visible",g.value=c,h.select()}function d(b,c,d,f){if(b===e[c].toString())return!1;if("s"===e.int64){var g=(new a.jqx.math).fromString(b,10);if("min"===c&&g.compare(e["_"+f+"64"])!==-1||"max"===c&&1!==g.compare(e["_"+f+"64"]))return!1;e[d]=g,e[c]=b}else if("u"===e.int64){var h=new BigNumber(b);if(h.compare(0)===-1||"min"===c&&h.compare(e["_"+f+"64"])!==-1||"max"===c&&1!==h.compare(e["_"+f+"64"]))return!1;e[d]=h,e[c]=b}else{if("min"===c&&b>=e[f]||"max"===c&&b<=e[f])return!1;e[c]=parseFloat(b)}}var e=this;if(e.editableLabels){var f=e._labels;if(0===f.length)return;var g,h,i=f[0],j=f[f.length-1];b!==!0?(g=document.createElement("input"),h=a(g),g.className="jqx-gauge-label-input",e.element.appendChild(g)):(h=e.host.children("input"),g=h[0]),i.style.cursor="text",j.style.cursor="text",e.addHandler(a(i),"dblclick.jqxGauge"+e.element.id,function(a){c(this,e.min),e._editedProperty="min"}),e.addHandler(a(j),"dblclick.jqxGauge"+e.element.id,function(a){c(this,e.max),e._editedProperty="max"});var k=/^-?\d+\.?\d*$/;b!==!0&&e.addHandler(h,"blur.jqxGauge"+e.element.id,function(b){var c,f=this.value;if(g.style.visibility="hidden",k.test(f)){if("min"===e._editedProperty){if(c=d(f,"min","_min64","max"),c===!1)return;a.jqx.aria(e,"aria-valuemin",f)}else{if(c=d(f,"max","_max64","min"),c===!1)return;a.jqx.aria(e,"aria-valuemax",f)}e.refresh(),e.renderer instanceof a.jqx.HTML5Renderer&&e.renderer.refresh()}})}}},d={defineInstance:function(){var b={int64:!1,editableLabels:!1,value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1e3,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},tickMode:"default",niceInterval:!1,ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:!1,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},displayTank:!1,tankStyle:null,_originalColor:"",_width:null,_height:null,renderer:null};return this===a.jqx._jqxLinearGauge.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){a.jqx.aria(this),this.host.css("overflow","hidden"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.append('<input class="jqx-gauge-label-input"/>');var b=this;if("s"===b.int64){if(!a.jqx.longInt)throw new Error("jqxLinearGauge: Missing reference to jqxmath.js");a.jqx.longInt(b),b._value64=(new a.jqx.math).fromString(b.value.toString(),10),b._min64=(new a.jqx.math).fromString(b.min.toString(),10),b._max64=(new a.jqx.math).fromString(b.max.toString(),10)}else if("u"===b.int64){try{BigNumber}catch(c){throw new Error("jqxLinearGauge: Missing reference to jqxmath.js")}b._value64=new BigNumber(b.value),b._min64=new BigNumber(b.min),b._max64=new BigNumber(b.max)}a.jqx.utilities.resize(this.host,function(){b.refresh(!1,!1)})},val:function(a){return 0==arguments.length||"object"==typeof a?this.value:void this.setValue(a,0)},_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return a.jqx.createRenderer(this,b)},refresh:function(a,b){var c=this;c._nearLabels=[],c._farLabels=[],c.renderer||(c._isVML=!1,c.host.empty(),c._initRenderer(c.host));var d=c.renderer;if(d&&(c._validateProperties(),c._reset(),c._init(),c._performLayout(),c._render(),b!==!1&&c.setValue(c.value,1),!a)){var e=c.labels.position;"both"!==e&&"near"!==e||(c._labels=c._nearLabels,c._editableLabels()),"both"!==e&&"far"!==e||(c._labels=c._farLabels,c._editableLabels("both"===e||void 0))}},_getBorderSize:function(){var a,b=1;return this._isVML&&(b=0),this.background?(a=(parseInt(this.background.style["stroke-width"],10)||b)/2,this._isVML?Math.round(a):a):b},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this),this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset(),this.rangesOffset=this.rangesOffset||0,this.rangeSize=this._validatePercentage(this.rangeSize,5),this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%"),this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%"),this.ticksMinor=this._tickConstructor(this.ticksMinor,this),this.ticksMajor=this._tickConstructor(this.ticksMajor,this),this.scaleStyle=this.scaleStyle||this.ticksMajor.style,this.labels=this._labelsConstructor(this.labels,this),this.pointer=this._pointerConstructor(this.pointer,this);for(var a=0;a<this.ranges.length;a+=1)this.ranges[a]=this._rangeConstructor(this.ranges[a],this)},_getDefaultTicksOffset:function(){return"horizontal"===this.orientation?["5%","36%"]:["36%","5%"]},_handleOrientation:function(){"vertical"===this.orientation?a.extend(this,linearVerticalGauge):a.extend(this,linearHorizontalGauge)},_reset:function(){this.host.empty()},_performLayout:function(){var a=parseInt(this.background.style["stroke-width"],10)||1;this._width-=a,this._height-=a,this.host.css("padding",a/2)},_init:function(){var a;this._getBorderSize();this._width=this._getScale(this.width,"width",this.host.parent())-3,this._height=this._getScale(this.height,"height",this.host.parent())-3,this.element.innerHTML="<div/>",this.host.width(this._width),this.host.height(this._height),this.host.children().width(this._width),this.host.children().height(this._height),this.renderer.init(this.host.children()),a=this.renderer.getContainer(),a.width(this._width),a.height(this._height)},_render:function(){this._renderBackground(),this._renderTicks(),this.niceInterval||this._renderLabels(),this._styleLabels(),this._renderRanges(),this._renderPointer()},_renderBackground:function(){if(this.background.visible){var b,c=this.background.style,d=a.jqx._rup(this._getBorderSize()),e="rect";c=this._handleShapeOptions(c),"roundedRectangle"===this.background.backgroundType&&this._isVML&&(e="roundrect"),this._Vml||(c.x=d,c.y=d),b=this.renderer.shape(e,c),this._isVML&&this._fixVmlRoundrect(b,c)}},_handleShapeOptions:function(a){var b=this.background.style.fill;this._getBorderSize();return b||(b="#cccccc"),this.background.showGradient&&(b.indexOf("url")<0&&b.indexOf("#grd")<0?this._originalColor=b:b=this._originalColor,b=this.renderer._toLinearGradient(b,"horizontal"===this.orientation,[[1,1.1],[90,1.5]])),this.background.style.fill=b,"roundedRectangle"===this.background.backgroundType&&(this._isVML?a.arcsize=this.background.borderRadius+"%":(a.rx=this.background.borderRadius,a.ry=this.background.borderRadius)),a.width=this._width-1,a.height=this._height-1,a},_fixVmlRoundrect:function(a,b){var c=this._getBorderSize();a.style.position="absolute",a.style.left=c,a.style.top=c,a.style.width=this._width-1,a.style.height=this._height-1,a.strokeweight=0,delete b.width,delete b.height,delete b.arcsize,this.renderer.attr(a,b)},_renderTicks:function(){var b,c,d,e,f,g=this.ticksMinor,h=this.ticksMajor;"s"===this.int64?(b=this._max64.subtract(this._min64),b.isNegative()&&(b=b.negate()),"default"===this.tickMode?this.niceInterval?(c=this._getNiceInterval("linear"),d=this._getNiceInterval("linear",!0)):(c=h._interval64,d=g._interval64):(c=b.div((new a.jqx.math).fromNumber(h.number)),d=b.div((new a.jqx.math).fromNumber(g.number)))):"u"===this.int64?(b=this._max64.subtract(this._min64).abs(),"default"===this.tickMode?this.niceInterval?(c=this._getNiceInterval("linear"),d=this._getNiceInterval("linear",!0)):(c=h._interval64,d=g._interval64):(c=b.divide(new BigNumber(h.number)),d=b.divide(new BigNumber(g.number)))):(b=Math.abs(this.max-this.min),"default"===this.tickMode?this.niceInterval?(c=this._getNiceInterval("linear"),d=this._getNiceInterval("linear",!0)):(c=h.interval,d=g.interval):(c=b/h.number,d=b/g.number)),e={size:this._getSize(h.size),style:h.style,visible:h.visible,interval:c,type:"major"},f={size:this._getSize(g.size),style:g.style,visible:g.visible,interval:d,checkOverlap:!0,type:"minor"},"near"!==this.ticksPosition&&"both"!==this.ticksPosition||(this._ticksRenderHandler(e),this._ticksRenderHandler(f)),"far"!==this.ticksPosition&&"both"!==this.ticksPosition||(e.isFar=!0,f.isFar=!0,this._ticksRenderHandler(e),this._ticksRenderHandler(f)),this._renderConnectionLine()},_ticksRenderHandler:function(a){if(a.visible||"minor"!==a.type){var b=(this._getSize(this.ticksOffset[0],"width"),this._getSize(this.ticksOffset[1],"height"),this._getBorderSize()),c=this._calculateTickOffset()+this._getMaxTickSize();a.isFar&&(c+=a.size),this._drawTicks(a,b,c+b)}},_drawTicks:function(b,c,d){function e(a){if(f=g._valueToCoordinates(a),(!b.checkOverlap||!g._overlapTick(a,m,n))&&(b.visible&&g._renderTick(b.size,f,b.style,d),g.niceInterval&&g.labels.visible)){var e;e="vertical"===g.orientation?g._getSize(g.ticksOffset[1],"height"):g._getSize(g.ticksOffset[0],"width"),e+=c;var h,i=b.isFar?"far":"near";if(h="near"===i?g._calculateTickOffset()-k+c+g._getSize(g.labels.offset):g._calculateTickOffset()+2*g._getMaxTickSize()+k+c+g._getSize(g.labels.offset),g.int64===!1){if(a!==g.min&&Math.abs(g._valueToCoordinates(g.min)-f)<l)return;if(a!==g.max&&Math.abs(g._valueToCoordinates(g.max)-f)<l)return}else if("s"===g.int64){if(a.equals(g._min64)===!1&&Math.abs(g._valueToCoordinates(g._min64)-f)<l)return!1;if(a.equals(g._max64)===!1&&Math.abs(g._valueToCoordinates(g._max64)-f)<l)return}else if("u"===g.int64){if(0!==a.compare(g._min64)&&Math.abs(g._valueToCoordinates(g._min64)-f)<l)return!1;if(0!==a.compare(g._max64)&&Math.abs(g._valueToCoordinates(g._max64)-f)<l)return}var j=g.labels.position;"major"===b.type&&("both"===j||"near"===j&&b.isFar!==!0||"far"===j&&b.isFar)&&g._renderLabel(f,i,h,k,a)}}var f,g=this,h=b.interval,i="vertical"===g.orientation?"width":"height",j="vertical"===g.orientation?"height":"width",k=g._getMaxLabelSize()[i],l=g._getMaxLabelSize()[j],m=g._getInterval("ticksMajor"),n=g._getInterval("ticksMinor");if(g.niceInterval){var o;if("s"===g.int64){if(e(g._min64),o=g._min64.subtract(g._min64.modulo(h)).add(h),"minor"===b.type)for(var p=o;p.greaterThanOrEqual(g._min64);p=p.subtract(h))o=p;for(var q=o;q.lessThan(g._max64)&&!g._checkForOverflow(q,h);q=q.add(h))e(q);e(g._max64)}else if("u"===g.int64){if(e(g._min64),o=g._min64.subtract(g._min64.mod(h)).add(h),"minor"===b.type)for(var p=o;p.compare(g._min64)!==-1;p=p.subtract(h))o=p;for(var q=o;q.compare(g._max64)===-1;q=q.add(h))e(q);e(g._max64)}else{if(e(g.min),o=g.min-g.min%h+h,"minor"===b.type)for(var p=o;p>=g.min;p-=h)o=p;for(var q=o;q<=g.max;q+=h)e(q);e(g.max)}}else if("s"===g.int64)for(var q=(new a.jqx.math).fromString(g._min64.toString(),10);q.lessThanOrEqual(g._max64);q=q.add(h))e(q);else if("u"===g.int64)for(var q=new BigNumber(g._min64);1!==q.compare(g._max64);q=q.add(h))e(q);else for(var q=g.min;q<=g.max;q+=h)e(q)},_calculateTickOffset:function(){var a=this._getSize(this.ticksOffset[0],"width"),b=this._getSize(this.ticksOffset[1],"height"),c=b;return"vertical"===this.orientation&&(c=a),c},_getInterval:function(b){var c,d=this;if("default"===d.tickMode)c=d.niceInterval===!0?d._getNiceInterval("linear","ticksMinor"===b):d.int64!==!1?d[b]._interval64:d[b].interval;else{var e,f=d[b].number;d.int64!==!1?(e=d._max64.subtract(d._min64),c="s"===d.int64?e.div((new a.jqx.math).fromNumber(f)):e.divide(new BigNumber(f))):(e=d.max-d.min,c=e/d[b].number)}return c},_overlapTick:function(a,b,c){return"s"===this.int64?(a=a.add(this._min64),!!a.modulo(c).equals(a.modulo(b))):"u"===this.int64?(a=a.add(this._min64),0===a.mod(c).compare(a.mod(b))):(a+=this.min,a%c===a%b)},_renderConnectionLine:function(){if(this.ticksMajor.visible||this.ticksMinor.visible){var a,b,c=(this._getScaleLength(),this._getBorderSize()),d=this._getMaxTickSize(),e=d+c;if(this.int64!==!1?(a=this._valueToCoordinates(this._max64),b=this._valueToCoordinates(this._min64)):(a=this._valueToCoordinates(this.max),b=this._valueToCoordinates(this.min)),"vertical"===this.orientation)e+=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(e,a,e,b,this.scaleStyle);else{e+=this._getSize(this.ticksOffset[1],"height");var f=this._getSize(this.ticksOffset[0],"width");this.renderer.line(f+a-b,e,f,e,this.scaleStyle)}}},_getScaleLength:function(){return this._getSize(this.scaleLength,"vertical"===this.orientation?"height":"width")},_renderTick:function(a,b,c,d){var e=this._handleTickCoordinates(a,b,d);this.renderer.line(Math.round(e.x1),Math.round(e.y1),Math.round(e.x2),Math.round(e.y2),c)},_handleTickCoordinates:function(a,b,c){return"vertical"===this.orientation?{x1:c-a,x2:c,y1:b,y2:b}:{x1:b,x2:b,y1:c-a,y2:c}},_getTickCoordinates:function(a,b){var c=this._handleTickCoordinates(a,0,this._calculateTickOffset());return c="vertical"===this.orientation?c.x1:c.y1,c+=a},_renderLabels:function(){if(this.labels.visible){var a,b=this._getSize(this.ticksOffset[0],"width"),c=this._getMaxTickSize(),d=this.labels.position,e="height",f=this._getBorderSize(),g=this._calculateTickOffset()+c;"vertical"===this.orientation&&(b=this._getSize(this.ticksOffset[1],"height"),e="width"),a=this._getMaxLabelSize()[e],"near"!==d&&"both"!==d||this._labelListRender(g-c-a+f,b+f,a,"near"),"far"!==d&&"both"!==d||this._labelListRender(g+c+a+f,b+f,a,"far")}},_labelListRender:function(b,c,d,e){var f,g,h,i,j,k=this._getScaleLength();b+=this._getSize(this.labels.offset),this.int64!==!1?(j=this._max64.subtract(this._min64),"default"===this.tickMode?(f=this.labels._interval64,g="s"===this.int64?j.div(f).toNumber():parseFloat(j.divide(f).toString())):(g=this.labels.number,f="s"===this.int64?j.div((new a.jqx.math).fromNumber(g)):j.divide(g)),i="vertical"===this.orientation?this._max64:this._min64):(j=Math.abs(this.max-this.min),"default"===this.tickMode?(f=this.labels.interval,g=j/f):(g=this.labels.number,f=j/g),i="vertical"===this.orientation?this.max:this.min),h=k/g;for(var l=0;l<=g;l+=1)this._renderLabel(c,e,b,d,i),this.int64!==!1?i="vertical"===this.orientation?i.subtract(f):i.add(f):i+="vertical"===this.orientation?-f:f,c+=h},_renderLabel:function(a,b,c,d,e){var f,g,h,i,j=this,k=j.labels,l={"class":this.toThemeProperty("jqx-gauge-label")},m=(this.labels.interval,"");k.fontSize&&(m+="font-size: "+k.fontSize+";"),k.fontFamily&&(m+="font-family: "+k.fontFamily),k.fontWeight&&(m+="font-weight: "+k.fontWeight),k.fontStyle&&(m+="font-style: "+k.fontStyle),""!==m&&(l.style=m),h=this._formatLabel(e.toString(),b),g=this.renderer.measureText(h,0,l),"vertical"===this.orientation?(f="near"===b?d-g.width:0,i=this.renderer.text(h,Math.round(c)+f-d/2,Math.round(a-g.height/2),g.width,g.height,0,l)):(f="near"===b?d-g.height:0,i=this.renderer.text(h,Math.round(a-g.width/2),Math.round(c)+f-d/2,g.width,g.height,0,l)),"near"===b?this.niceInterval||"horizontal"===this.orientation?this._nearLabels.push(i):this._nearLabels.unshift(i):this.niceInterval||"horizontal"===this.orientation?this._farLabels.push(i):this._farLabels.unshift(i)},_renderRanges:function(){if(this.showRanges)for(var a,b="vertical"===this.orientation?"width":"height",c=this._getSize(this.rangesOffset,b),d=this._getSize(this.rangeSize,b),e=0;e<this.ranges.length;e+=1)a=this.ranges[e],a.size=d,this._renderRange(a,c)},_renderRange:function(b,c){var d,e,f=(this._getScaleLength(),this._getBorderSize()),g=this._getSize(this.ticksOffset[0],"width"),h=this._getSize(this.ticksOffset[1],"height"),i=this._getMaxTickSize(),j=this._getSize(b.size);this.int64!==!1?(d=this._valueToCoordinates(b._endValue64),e=b._startValue64,"s"===this.int64&&e.lessThan(this._min64)?e=(new a.jqx.math).fromString(this._min64.toString(),10):"u"===this.int64&&e.compare(this._min64)===-1&&(e=new BigNumber(this._min64))):(d=this._valueToCoordinates(b.endValue),e=b.startValue,e<this.min&&(e=this.min));var k,l,m=Math.abs(this._valueToCoordinates(e)-d);"vertical"===this.orientation?k=this.renderer.rect(g+i+c-j+f,d,b.size,m,b.style):(l=m,k=this.renderer.rect(this._valueToCoordinates(e),h+i+f,l,b.size,b.style)),this.renderer.attr(k,b.style)},_renderPointer:function(){this.pointer.visible&&("default"===this.pointer.pointerType?this._renderColumnPointer():this._renderArrowPointer())},_renderColumnPointer:function(){if(this.displayTank){var a={fill:"#FFFFFF"};a["fill-opacity"]=0,this.tankStyle?(a.stroke=this.tankStyle.stroke,a["stroke-width"]=this.tankStyle.strokeWidth):(a.stroke="#A1A1A1",a["stroke-width"]="1px"),this._tank=this.renderer.rect(0,0,0,0,a),this._performTankLayout()}this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style),this.renderer.attr(this._pointer,this.pointer.style),this.int64!==!1?this._setValue(this._value64):this._setValue(this.value)},_performTankLayout:function(){var a,b,c,d=this._valueToCoordinates(),e=this._getBorderSize(),f=this._getSize(this.ticksOffset[0],"width"),g=this._getSize(this.ticksOffset[1],"height"),h=this._getMaxTickSize(),i=this._getSize(this.pointer.size),j=this._getSize(this.pointer.offset),k={};this.int64!==!1?(d=this._valueToCoordinates(this._max64),a=this._valueToCoordinates(this._min64)):(d=this._valueToCoordinates(this.max),a=this._valueToCoordinates(this.min)),c=Math.abs(a-d),"vertical"===this.orientation?(b=f+h,k={left:b+j+1+e,top:d,height:c,width:i}):(b=g+h,k={left:a,top:b+j-i-1+e,height:i,width:c}),this._isVML?(this._tank.style.top=k.top,this._tank.style.left=k.left,this._tank.style.width=k.width,this._tank.style.height=k.height):(this.renderer.attr(this._tank,{x:k.left}),this.renderer.attr(this._tank,{y:k.top}),this.renderer.attr(this._tank,{width:k.width}),this.renderer.attr(this._tank,{height:k.height}))},_renderArrowPointer:function(){var a=this._getArrowPathByValue(0);this._pointer=this.renderer.path(a,this.pointer.style)},_renderArrowPointerByValue:function(a){var b=this._getArrowPathByValue(a);this._pointer=this.renderer.path(b,this.pointer.style)},_getArrowPathByValue:function(a){var b,c,d,e=this._getBorderSize(),f=Math.ceil(this._valueToCoordinates(a))+e,g=e,h=Math.ceil(this._getSize(this.ticksOffset[0],"width")),i=(Math.ceil(this._getSize(this.ticksOffset[1],"height")),Math.ceil(this._getSize(this.pointer.offset))),j=Math.ceil(this._getMaxTickSize()),k=Math.ceil(this._getSize(this.pointer.size)),l=Math.ceil(Math.sqrt(k*k/3));if("vertical"===this.orientation)g+=h+j+i,c=i>=0?g+k:g-k,b="M "+g+" "+f+" L "+c+" "+(f-l)+" L "+c+" "+(f+l);else{var m=this._getMaxLabelSize().height;g+=h+j+i+m,this._isVML&&(g-=2),d=f,f=g,g=d,c=f-k,b="M "+g+" "+f+" L "+(g-l)+" "+c+" L "+(g+l)+" "+c}return b},_setValue:function(a){"default"===this.pointer.pointerType?this._performColumnPointerLayout(a):this._performArrowPointerLayout(a),this.value=a},_performColumnPointerLayout:function(a){var b,c,d,e=this._valueToCoordinates(a),f=this._getBorderSize(),g=this._getSize(this.ticksOffset[0],"width"),h=this._getSize(this.ticksOffset[1],"height"),i=this._getMaxTickSize(),j=this._getSize(this.pointer.size),k=this._getSize(this.pointer.offset),l={};b=this.int64!==!1?this._valueToCoordinates(this._min64):this._valueToCoordinates(this.min),d=Math.abs(b-e),"vertical"===this.orientation?(c=g+i,l={left:c+k+1+f,top:e,height:d,width:j}):(c=h+i,l={left:b,top:c+k-j-1+f,height:j,width:d}),this._setRectAttrs(l)},_performArrowPointerLayout:function(b){var c=this._getArrowPathByValue(b);this._isVML?(this._pointer&&a(this._pointer).remove(),this._renderArrowPointerByValue(b)):this.renderer.attr(this._pointer,{d:c})},_setRectAttrs:function(a){this._isVML?(this._pointer.style.top=a.top,this._pointer.style.left=a.left,this._pointer.style.width=a.width,this._pointer.style.height=a.height):(this.renderer.attr(this._pointer,{x:a.left}),this.renderer.attr(this._pointer,{y:a.top}),this.renderer.attr(this._pointer,{width:a.width}),this.renderer.attr(this._pointer,{height:a.height}))},_valueToCoordinates:function(a){var b,c,d,e=this._getBorderSize(),f=this._getScaleLength(),g=this._getSize(this.ticksOffset[0],"width"),h=this._getSize(this.ticksOffset[1],"height");if(this.int64!==!1){b=a.subtract(this._min64),c=this._max64.subtract(this._min64),"s"===this.int64?(b.isNegative()&&b.negate(),c.isNegative()&&c.negate()):(b=b.intPart().abs(),c=c.abs());var i,j,k=b.toString(),l=c.toString();if(l.length>15){var m=l.length-15;if(l=l.slice(0,15)+"."+l.slice(15),j=parseFloat(l),k.length>m){var n=k.length-m;k=k.slice(0,n)+"."+k.slice(n)}else if(k.length===m)k="0."+k;else{for(var o="0.",p=0;p<m-k.length;p++)o+="0";k=o+""+k}i=parseFloat(k)}else"s"===this.int64?(i=b.toNumber(),j=c.toNumber()):(i=parseFloat(b.toString()),j=parseFloat(c.toString()));d=i/j*f}else b=Math.abs(this.min-a),c=Math.abs(this.max-this.min),d=b/c*f;return"vertical"===this.orientation?this._height-d-(this._height-h-f)+e:d+g},_getSize:function(a,b){return b=b||("vertical"===this.orientation?"width":"height"),a.toString().indexOf("%")>=0&&(a=parseInt(a,10)/100*this["_"+b]),a=parseInt(a,10)},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&a.refresh()},propertyChangedHandler:function(b,c,d,e){if(e!=d&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length||"tankStyle"===c&&"arrow"===b.pointer.pointerType)){if("min"==c&&("s"===b.int64?b._min64=(new a.jqx.math).fromString(e.toString(),10):"u"===b.int64?b._min64=new BigNumber(e):this.min=parseFloat(e),a.jqx.aria(this,"aria-valuemin",e)),"max"==c&&("s"===b.int64?b._max64=(new a.jqx.math).fromString(e.toString(),10):"u"===b.int64?b._max64=new BigNumber(e):this.max=parseFloat(e),a.jqx.aria(this,"aria-valuemax",e)),"disabled"===c)e?this.disable():this.enable(),a.jqx.aria(this,"aria-disabled",e);else if("value"===c)void 0!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.value=d,this.setValue(e);else{if("colorScheme"===c)this.pointer.style=null;else if("orientation"===c&&d!==e){var f=this.ticksOffset[0];this.ticksOffset[0]=this.ticksOffset[1],this.ticksOffset[1]=f}"animationDuration"!==c&&"easing"!==c&&this.refresh()}this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh()}},_backgroundConstructor:function(a,b){if(this.host)return new this._backgroundConstructor(a,b);var c={rectangle:!0,roundedRectangle:!0};a=a||{},this.style=a.style||{stroke:"#cccccc",fill:null},a.visible||"undefined"==typeof a.visible?this.visible=!0:this.visible=!1,c[a.backgroundType]?this.backgroundType=a.backgroundType:this.backgroundType="roundedRectangle","roundedRectangle"===this.backgroundType&&("number"==typeof a.borderRadius?this.borderRadius=a.borderRadius:this.borderRadius=15),"undefined"==typeof a.showGradient?this.showGradient=!0:this.showGradient=a.showGradient},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_tickConstructor:function(b,c){return this.host?new this._tickConstructor(b,c):(this.size=c._validatePercentage(b.size,"10%"),b.interval?this.interval=b.interval:this.interval=5,"s"===c.int64?this._interval64=(new a.jqx.math).fromString(this.interval.toString(),10):"u"===c.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),b.number?this.number=b.number:this.number=5,this.style=b.style||{stroke:"#A1A1A1","stroke-width":"1px"},void("undefined"==typeof b.visible?this.visible=!0:this.visible=b.visible))},_labelsConstructor:function(b,c){return this.host?new this._labelsConstructor(b,c):(this.position=b.position,"far"!==this.position&&"near"!==this.position&&"both"!==this.position&&(this.position="both"),this.formatValue=b.formatValue,this.formatSettings=b.formatSettings,this.visible=b.visible,this.visible!==!1&&this.visible!==!0&&(this.visible=!0),b.interval?this.interval=b.interval:this.interval=10,"s"===c.int64?this._interval64=(new a.jqx.math).fromString(this.interval.toString(),10):"u"===c.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),b.number?this.number=b.number:this.number=10,this.fontSize=b.fontSize,this.fontFamily=b.fontFamily,this.fontWeight=b.fontWeight,this.fontStyle=b.fontStyle,void(this.offset=c._validatePercentage(b.offset,0)))},_rangeConstructor:function(b,c){return this.host?new this._rangeConstructor(b,c):(b.startValue?this.startValue=b.startValue:this.startValue=c.min,b.endValue?this.endValue=b.endValue:this.endValue=c.max,"s"===c.int64?(this._startValue64=(new a.jqx.math).fromString(this.startValue.toString(),10),this._endValue64=(new a.jqx.math).fromString(this.endValue.toString(),10),this._endValue64.lessThanOrEqual(this._startValue64)&&(this._endValue64=this._startValue64.add((new a.jqx.math).fromNumber(1,10)),this.endValue=this._endValue64.toString())):"u"===c.int64?(this._startValue64=new BigNumber(this.startValue),this._endValue64=new BigNumber(this.endValue),1!==this._endValue64.compare(this._startValue64)&&(this._endValue64=this._startValue64.add(1),this.endValue=this._endValue64.toString())):(this.startValue=parseFloat(this.startValue),this.endValue=parseFloat(this.endValue),this.endValue<=this.startValue&&(this.endValue=this.startValue+1)),void(this.style=b.style||{fill:"#dddddd",stroke:"#dddddd"}))},_pointerConstructor:function(a,b){if(this.host)return new this._pointerConstructor(a,b);var c=b._getColorScheme(b.colorScheme)[0];this.pointerType=a.pointerType,"default"!==this.pointerType&&"arrow"!==this.pointerType&&(this.pointerType="default"),this.style=a.style||{fill:c,stroke:c,"stroke-width":1},this.size=b._validatePercentage(a.size,"7%"),this.visible=a.visible,this.visible!==!0&&this.visible!==!1&&(this.visible=!0),this.offset=b._validatePercentage(a.offset,0)}};a.extend(b,c),a.extend(d,c),a.jqx.jqxWidget("jqxLinearGauge","",{}),a.jqx.jqxWidget("jqxGauge","",{}),a.extend(a.jqx._jqxGauge.prototype,b),a.extend(a.jqx._jqxLinearGauge.prototype,d)}(jqxBaseFramework),function(a,b){function c(b,c){return this.owner=b,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.checkboxextensionvalue=null,this.bindmodel=null,this.closeeditor=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(a,b){if(this[a]){var c=this[a];this[a]=b,this.owner._columnPropertyChanged(this,a,b,c)}else if(this[a.toLowerCase()]){var c=this[a.toLowerCase()];this[a.toLowerCase()]=b,this.owner._columnPropertyChanged(this,a.toLowerCase(),b,c)}},this._initfields=function(c){if(null!=c){var d=this.that;if(a.jqx.hasProperty(c,"dataField")&&(this.datafield=a.jqx.get(c,"dataField")),a.jqx.hasProperty(c,"displayField")?this.displayfield=a.jqx.get(c,"displayField"):this.displayfield=this.datafield,a.jqx.hasProperty(c,"enableTooltips")&&(this.enabletooltips=a.jqx.get(c,"enableTooltips")),a.jqx.hasProperty(c,"text")?this.text=a.jqx.get(c,"text"):this.text=this.displayfield,a.jqx.hasProperty(c,"createfilterpanel")&&(this.createfilterpanel=a.jqx.get(c,"createfilterpanel")),a.jqx.hasProperty(c,"sortable")&&(this.sortable=a.jqx.get(c,"sortable")),a.jqx.hasProperty(c,"hideable")&&(this.hideable=a.jqx.get(c,"hideable")),a.jqx.hasProperty(c,"hidden")&&(this.hidden=a.jqx.get(c,"hidden")),a.jqx.hasProperty(c,"groupable")&&(this.groupable=a.jqx.get(c,"groupable")),a.jqx.hasProperty(c,"renderer")&&(this.renderer=a.jqx.get(c,"renderer")),a.jqx.hasProperty(c,"align")&&(this.align=a.jqx.get(c,"align")),a.jqx.hasProperty(c,"cellsAlign")&&(this.cellsalign=a.jqx.get(c,"cellsAlign")),a.jqx.hasProperty(c,"clipboard")&&(this.clipboard=a.jqx.get(c,"clipboard")),a.jqx.hasProperty(c,"cellsFormat")&&(this.cellsformat=a.jqx.get(c,"cellsFormat")),a.jqx.hasProperty(c,"width")&&(this.width=a.jqx.get(c,"width")),a.jqx.hasProperty(c,"minWidth")&&(this.minwidth=parseInt(a.jqx.get(c,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),a.jqx.hasProperty(c,"maxWidth")&&(this.maxwidth=parseInt(a.jqx.get(c,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),a.jqx.hasProperty(c,"cellsRenderer")?this.cellsrenderer=a.jqx.get(c,"cellsRenderer"):c.cellsRenderer&&(this.cellsrenderer=c.cellsRenderer),a.jqx.hasProperty(c,"columnType")&&(this.columntype=a.jqx.get(c,"columnType")),a.jqx.hasProperty(c,"checkChange")&&(this.checkchange=a.jqx.get(c,"checkChange")),a.jqx.hasProperty(c,"buttonClick")?this.buttonclick=a.jqx.get(c,"buttonClick"):c.buttonClick&&(this.buttonclick=c.buttonClick),a.jqx.hasProperty(c,"pinned")&&(this.pinned=a.jqx.get(c,"pinned")),a.jqx.hasProperty(c,"visibleIndex")&&(this.visibleindex=a.jqx.get(c,"visibleIndex")),a.jqx.hasProperty(c,"filterable")&&(this.filterable=a.jqx.get(c,"filterable")),a.jqx.hasProperty(c,"filter")&&(this.filter=a.jqx.get(c,"filter")),a.jqx.hasProperty(c,"resizable")&&(this.resizable=a.jqx.get(c,"resizable")),a.jqx.hasProperty(c,"editable")&&(this.editable=a.jqx.get(c,"editable")),a.jqx.hasProperty(c,"initEditor")?this.initeditor=a.jqx.get(c,"initEditor"):c.initEditor&&(this.initeditor=c.initEditor),a.jqx.hasProperty(c,"createEditor")?this.createeditor=a.jqx.get(c,"createEditor"):c.createEditor&&(this.createeditor=c.createEditor),a.jqx.hasProperty(c,"initWidget")?this.initwidget=a.jqx.get(c,"initWidget"):c.initWidget&&(this.initwidget=c.initWidget),a.jqx.hasProperty(c,"createWidget")?this.createwidget=a.jqx.get(c,"createWidget"):c.createWidget&&(this.createwidget=c.createWidget),a.jqx.hasProperty(c,"destroyWidget")?this.destroywidget=a.jqx.get(c,"destroyWidget"):c.destroyWidget&&(this.destroywidget=c.destroyWidget),a.jqx.hasProperty(c,"reseteverpresentrowwidgetvalue")||a.jqx.hasFunction(c,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=a.jqx.get(c,"reseteverpresentrowwidgetvalue"):c.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=c.resetEverPresentRowWidgetValue),a.jqx.hasProperty(c,"geteverpresentrowwidgetvalue")||a.jqx.hasFunction(c,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=a.jqx.get(c,"geteverpresentrowwidgetvalue"):c.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=c.getEverPresentRowWidgetValue),
a.jqx.hasProperty(c,"createeverpresentrowwidget")||a.jqx.hasFunction(c,"createeverpresentrowwidget")?this.createeverpresentrowwidget=a.jqx.get(c,"createeverpresentrowwidget"):c.createEverPresentRowWidget&&(this.createeverpresentrowwidget=c.createEverPresentRowWidget),a.jqx.hasProperty(c,"initeverpresentrowwidget")||a.jqx.hasFunction(c,"initeverpresentrowwidget")?this.initeverpresentrowwidget=a.jqx.get(c,"initeverpresentrowwidget"):c.initEverPresentRowWidget&&(this.initeverpresentrowwidget=c.initEverPresentRowWidget),a.jqx.hasProperty(c,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=a.jqx.get(c,"validateeverpresentrowwidgetvalue"):c.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=c.validateEverPresentRowWidgetValue),a.jqx.hasProperty(c,"destroyeverpresentrowwidget")||a.jqx.hasFunction(c,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=a.jqx.get(c,"destroyeverpresentrowwidget"):c.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=c.destroyEverPresentRowWidget),a.jqx.hasProperty(c,"destroyEditor")?this.destroyeditor=a.jqx.get(c,"destroyEditor"):c.destroyEditor&&(this.destroyeditor=c.destroyEditor),a.jqx.hasProperty(c,"getEditorValue")?this.geteditorvalue=a.jqx.get(c,"getEditorValue"):c.getEditorValue&&(this.geteditorvalue=c.getEditorValue),a.jqx.hasProperty(c,"validation")?this.validation=a.jqx.get(c,"validation"):c.validation&&(this.validation=c.validation),a.jqx.hasProperty(c,"cellBeginEdit")?this.cellbeginedit=a.jqx.get(c,"cellBeginEdit"):c.cellBeginEdit&&(this.cellbeginedit=c.cellBeginEdit),a.jqx.hasProperty(c,"cellEndEdit")?this.cellendedit=a.jqx.get(c,"cellEndEdit"):c.cellEndEdit&&(this.cellendedit=c.cellEndEdit),a.jqx.hasProperty(c,"className")&&(this.classname=a.jqx.get(c,"className")),a.jqx.hasProperty(c,"cellClassName")?this.cellclassname=a.jqx.get(c,"cellClassName"):c.cellClassName&&(this.cellclassname=c.cellClassName),a.jqx.hasProperty(c,"menu")&&(this.menu=a.jqx.get(c,"menu")),a.jqx.hasProperty(c,"aggregates")&&(this.aggregates=a.jqx.get(c,"aggregates")),a.jqx.hasProperty(c,"aggregatesRenderer")&&(this.aggregatesrenderer=a.jqx.get(c,"aggregatesRenderer")),a.jqx.hasProperty(c,"createFilterWidget")&&(this.createfilterwidget=a.jqx.get(c,"createFilterWidget")),a.jqx.hasProperty(c,"filterType")&&(this.filtertype=a.jqx.get(c,"filterType")),a.jqx.hasProperty(c,"filterDelay")&&(this.filterdelay=a.jqx.get(c,"filterDelay")),a.jqx.hasProperty(c,"rendered")&&(this.rendered=a.jqx.get(c,"rendered")),a.jqx.hasProperty(c,"exportable")&&(this.exportable=a.jqx.get(c,"exportable")),a.jqx.hasProperty(c,"filterItems")&&(this.filteritems=a.jqx.get(c,"filterItems")),a.jqx.hasProperty(c,"cellValueChanging")&&(this.cellvaluechanging=a.jqx.get(c,"cellValueChanging")),a.jqx.hasProperty(c,"draggable")&&(this.draggable=a.jqx.get(c,"draggable")),a.jqx.hasProperty(c,"filterCondition")&&(this.filtercondition=a.jqx.get(c,"filterCondition")),a.jqx.hasProperty(c,"threeStateCheckbox")&&(this.threestatecheckbox=a.jqx.get(c,"threeStateCheckbox")),a.jqx.hasProperty(c,"nullable")&&(this.nullable=a.jqx.get(c,"nullable")),a.jqx.hasProperty(c,"columnGroup")&&(this.columngroup=a.jqx.get(c,"columnGroup")),a.jqx.hasProperty(c,"checkboxExtensionValue")&&(this.checkboxextensionvalue=a.jqx.get(c,"checkboxExtensionValue")),a.jqx.hasProperty(c,"bindmodel")&&(this.bindmodel=a.jqx.get(c,"bindmodel")),a.jqx.hasProperty(c,"closeeditor")&&(this.closeeditor=a.jqx.get(c,"closeeditor")),!c instanceof String&&"string"!=typeof c)for(var e in c)if(!d.hasOwnProperty(e)&&!d.hasOwnProperty(e.toLowerCase()))throw b.host.remove(),new Error("jqxGrid: Invalid property name - "+e+".")}},this._initfields(c),this}function d(a,b){return this.setdata=function(a){null!=a&&(this.bounddata=a,this.boundindex=a.boundindex,this.visibleindex=a.visibleindex,this.group=a.group,this.parentbounddata=a.parentItem,this.uniqueid=a.uniqueid,this.level=a.level)},this.setdata(b),this.parentrow=null,this.subrows=new Array,this.owner=a,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(a){this.hidden=a.hidden,this.rowdetails=a.rowdetails,this.rowdetailsheight=a.rowdetailsheight,this.rowdetailshidden=!a.showdetails,this.height=a.height},this}function e(a){this.mainGrid=a,this.disableColumns=null,this.hiddenColumns=null,this.$jqxWindow=null,this.windowGridHeight=null,this.windowMinWidth=null,this._isCheckColumnPersonalizedData=!1}function f(a){this._columns=[],this._columnsKeyMap={},this._personalization=null,this.init(a)}if(void 0===a||null===a)throw"jQuery is undefined or null";if(void 0===b||null===b)throw"AUI is undefined or null";var g="GRID",h={WINDOW:"aui-grid-customwindow",WINDOW_TITLE:"aui-grid-customwindow-title",WINDOW_GRID:"aui-grid-customwindow-grid",WINDOW_BUTTON_AREA:"aui-grid-customwindow-button-area",WINDOW_CANCEL_BUTTON:"aui-grid-customwindow-cancelbutton",WINDOW_SAVE_BUTTON:"aui-grid-customwindow-savebutton"};a.jqx.jqxWidget("jqxGrid","",{}),a.extend(a.jqx._jqxGrid.prototype,{defineInstance:function(){var b={disabled:!1,width:600,height:400,pagerheight:34,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:28,columnsheight:30,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:a.jqx.utilities.scrollBarSize,touchscrollbarsize:a.jqx.utilities.touchScrollBarSize,scrollbarautoshow:a.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging","personalizelimit","rowDeleted"],lswKey:"",lswRequestParam:{},enableRemotePersonalize:!0,enableHeaderTooltips:!1,enablePersonalize:!1,useDynamicMode:!1,enableAutoFillDataInDynamicMode:!1,pinned:[],_pinnedrow:-1,validatePaste:function(){return!0},enhancedRendering:!0,_nonVisibleColumnCount:5,_previsualcolumnsindexes:{start:0,end:0},enableMerge:!1,horizontalMerge:[],verticalMerge:[],_cellMergeHelper:null,_functionReplaceHelperForCellMerge:null,useDatasetPaging:!1,_ds_pagenum:0,_ds_pagesize:10,_ds_pagetotal:0,_ds_pageinit:!1,initdspaging:null,updatedspaging:null,errordspaging:null,beforeSavePersonalization:null,afterSavePersonalization:null,_personalization:null,beforeSetCellValue:function(a,b,c,d,e){return!0},beforeUpdateRow:function(a,b,c){return!0}};return this===a.jqx._jqxGrid.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(c){this.that=this;var d=this;d.pagesize=parseInt(d.pagesize),d.toolbarheight=parseInt(d.toolbarheight),d.columnsheight=parseInt(d.columnsheight),d.filterrowheight=parseInt(d.filterrowheight),d.statusbarheight=parseInt(d.statusbarheight),d.groupsheaderheight=parseInt(d.groupsheaderheight),d.detailsVisibility=new Array,d.savedArgs=c&&c.length>0?c[0]:null;var f="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+d.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+d.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+d.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+d.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(d.element.innerHTML="",this.befScrollVal=0,""==this.lswKey&&(this.lswKey=g+"_"+window.location.pathname+"_"+this.element.id),window._lsw&&(this.$storage$=window._lsw),null==this.$storageKey$&&(this.$storageKey$=this.lswKey),this.enablePersonalize&&(this._personalization=new e(this),this._validateCanUseLSW()),this._applyPinnedSetting(),!this._createCellMergeHelper||!this._createFunctionReplaceHelperForCellMerge)throw new Error("jqxGrid: Missing reference to aui.jqxgrid.cellmerge.js");if(this._createCellMergeHelper(),this._createFunctionReplaceHelperForCellMerge(),this.enableMerge&&(this._validateMergeabilityOfCells(),this._functionReplaceHelperForCellMerge.replaceFunctions(this.enableMerge)),15!=a.jqx.utilities.scrollBarSize&&(d.scrollbarsize=a.jqx.utilities.scrollBarSize),d.source){if(!d.source.dataBind){if(!a.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");d.$bindmodel$&&(null==d.$uipp$&&(d.$uipp$=b.createModule("uipp").UIPP,d.source.uipp=d.$uipp$),d.source.datatype="binder",d.source.localdata=d.$bindmodel$),d.source=new a.jqx.dataAdapter(d.source)}var h=d.source._source.datafields;h&&h.length>0&&(d.editmode=d.editmode.toLowerCase(),d.selectionmode=d.selectionmode.toLowerCase())}d.host.attr("role","grid"),d.host.attr("align","left"),d.element.innerHTML=f,d.host.addClass(d.toTP("jqx-grid")),d.host.addClass(d.toTP("jqx-reset")),d.host.addClass(d.toTP("jqx-rc-all")),d.host.addClass(d.toTP("jqx-widget")),d.host.addClass(d.toTP("jqx-widget-content")),d.wrapper=d.host.find("#wrapper"+d.element.id),d.content=d.host.find("#content"+d.element.id),d.content.addClass(d.toTP("jqx-reset"));var i=d.host.find("#verticalScrollBar"+d.element.id),j=d.host.find("#horizontalScrollBar"+d.element.id);if(d.bottomRight=d.host.find("#bottomRight").addClass(d.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!i.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(d.editors=new Array,d.vScrollBar=i.jqxScrollBar({vertical:!0,rtl:d.rtl,touchMode:d.touchmode,step:d.verticalscrollbarstep,largestep:d.verticalscrollbarlargestep,theme:d.theme,_triggervaluechanged:!1}),d.hScrollBar=j.jqxScrollBar({vertical:!1,rtl:d.rtl,touchMode:d.touchmode,step:d.horizontalscrollbarstep,largestep:d.horizontalscrollbarlargestep,theme:d.theme,_triggervaluechanged:!1}),d.addnewrow=d.host.find("#addrow"),d.addnewrow[0].id="addrow"+d.element.id,d.addnewrow.addClass(d.toTP("jqx-widget-header")),d.pager=d.host.find("#pager"),d.pager[0].id="pager"+d.element.id,d.toolbar=d.host.find("#toolbar"),d.toolbar[0].id="toolbar"+d.element.id,d.toolbar.addClass(d.toTP("jqx-grid-toolbar")),d.toolbar.addClass(d.toTP("jqx-widget-header")),d.statusbar=d.host.find("#statusbar"),d.statusbar[0].id="statusbar"+d.element.id,d.statusbar.addClass(d.toTP("jqx-grid-statusbar")),d.statusbar.addClass(d.toTP("jqx-widget-header")),d.pager.addClass(d.toTP("jqx-grid-pager")),d.pager.addClass(d.toTP("jqx-widget-header")),d.groupsheader=d.host.find("#groupsheader"),d.groupsheader.addClass(d.toTP("jqx-grid-groups-header")),d.groupsheader.addClass(d.toTP("jqx-widget-header")),d.groupsheader[0].id="groupsheader"+d.element.id,d.vScrollBar.css("visibility","hidden"),d.hScrollBar.css("visibility","hidden"),d.vScrollInstance=a.data(d.vScrollBar[0],"jqxScrollBar").instance,d.hScrollInstance=a.data(d.hScrollBar[0],"jqxScrollBar").instance,d.gridtable=null,d.isNestedGrid=!!d.host.parent()&&9999==d.host.parent().css("z-index"),d.touchdevice=d.isTouchDevice(),d.localizestrings&&(d.localizestrings(),null!=d.localization&&d.localizestrings(d.localization,!1)),d.rowdetailstemplate&&(void 0==d.rowdetailstemplate.rowdetails&&(d.rowdetailstemplate.rowdetails="<div></div>"),void 0==d.rowdetailstemplate.rowdetailsheight&&(d.rowdetailstemplate.rowdetailsheight=200),void 0==d.rowdetailstemplate.rowdetailshidden&&(d.rowdetailstemplate.rowdetailshidden=!0)),d.showfilterrow&&!d.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(d.autorowheight&&!d.autoheight&&!d.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(d.virtualmode&&null==d.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(d.virtualmode&&!d.pageable&&d.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!d._testmodules()){if(d._builddataloadelement(),d._cachedcolumns=d.columns,d.columns&&d.columns.length>299&&(d.headerZIndex=d.columns.length+100),28!=d.rowsheight&&d._measureElement("cell"),(30!=d.columnsheight||d.columngroups)&&d._measureElement("column"),d.source){var h=d.source.datafields;if(null==h&&d.source._source&&(h=d.source._source.datafields),h)for(var k=0;k<d.columns.length;k++){var l=d.columns[k];if(l&&l.cellsformat&&l.cellsformat.length>2)for(var m=0;m<h.length;m++)if(h[m].name==l.datafield&&!h[m].format){h[m].format=l.cellsformat;break}}}d.databind(d.source),d.showtoolbar&&d.toolbar.css("visibility","inherit"),d.showstatusbar&&d.statusbar.css("visibility","inherit"),d._arrange(),d.pageable&&d._initpager&&d._initpager(),d.tableheight=null;var n=d.that,o=function(){n.content&&(n.content[0].scrollTop=0,n.content[0].scrollLeft=0),n.gridcontent&&(n.gridcontent[0].scrollLeft=0,n.gridcontent[0].scrollTop=0)};d.addHandler(d.content,"mousedown",function(){o()}),d.addHandler(d.content,"scroll",function(a){return o(),!1}),d.showfilterrow||(d.showstatusbar||d.showtoolbar||d.host.addClass("jqx-disableselect"),d.content.addClass("jqx-disableselect")),d.enablebrowserselection&&(d.content.removeClass("jqx-disableselect"),d.host.removeClass("jqx-disableselect")),d._resizeWindow(),d.disabled&&d.host.addClass(d.toThemeProperty("jqx-fill-state-disabled")),d.hasTransform=a.jqx.utilities.hasTransform(d.host),"logical"==d.scrollmode&&(d.vScrollInstance.thumbStep=d.rowsheight,d.vScrollInstance.step=d.rowsheight),a.jqx.isHidden(d.host)||(d.filterable||d.groupable||d.sortable)&&d._initmenu()}},_resizeWindow:function(){var b=this.that;if(null!=this.width&&this.width.toString().indexOf("%")!=-1||null!=this.height&&this.height.toString().indexOf("%")!=-1){this._updatesizeonwindowresize=!0,a.jqx.utilities.resize(this.host,function(c){var d=a(window).width(),e=a(window).height(),f=b.host.width(),g=b.host.height();if(b.autoheight&&(b._lastHostWidth=e),b._lastHostWidth!=f||b._lastHostHeight!=g){if(b.touchdevice&&b.editcell&&"orientationchange"!==c)return;b._updatesize(b._lastHostWidth!=f,b._lastHostHeight!=g)}b._lastWidth=d,b._lastHeight=e,b._lastHostWidth=f,b._lastHostHeight=g});var c=b.host.width(),d=b.host.height();b._lastHostWidth=c,b._lastHostHeight=d}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=a('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var b=a('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");b.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),b.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(b)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");c.addClass(this.toTP("jqx-widget")),a(document.body).append(c),"cell"==b?this._cellheight=c.height():this._columnheight=c.height(),c.remove()},_measureMenuElement:function(){var b=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");b.addClass(this.toTP("jqx-widget")),b.addClass(this.toTP("jqx-menu")),b.addClass(this.toTP("jqx-menu-item-top")),b.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&b.addClass(this.toTP("jqx-grid-menu-item-touch")),a(document.body).append(b);var c=b.outerHeight();return b.remove(),c},_measureElementWidth:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>"+b+"</span>");c.addClass(this.toTP("jqx-widget")),c.addClass(this.toTP("jqx-grid")),c.addClass(this.toTP("jqx-grid-column-header")),c.addClass(this.toTP("jqx-widget-header")),a(document.body).append(c);var d=c.outerWidth()+20;return c.remove(),d},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},_testmodules:function(){var b="",c=this.that,d=function(){""!=b.length&&(b+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(d(),b+=" jqxmenu.js"),this.host.jqxScrollBar||(d(),b+=" jqxscrollbar.js"),this.host.jqxButton||(d(),b+=" jqxbuttons.js"),a.jqx.dataAdapter||(d(),b+=" jqxdata.js"),this.pageable&&!this.gotopage&&(d(),b+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(d(),b+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(d(),b+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(d(),b+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(d(),b+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(d(),b+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(d(),b+=" jqxgrid.edit.aui.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(d(),b+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(d(),b+=" jqxgrid.selection.aui.js"),""!=b||this.editable||this.filterable||this.pageable){var e=[],f=function(a){switch(a){case"checkbox":c.host.jqxCheckBox||e.checkbox||(e.checkbox=!0,d(),b+=" jqxcheckbox.js");break;case"numberinput":c.host.jqxNumberInput||e.numberinput||(e.numberinput=!0,d(),b+=" jqxnumberinput.js");break;case"datetimeinput":c.host.jqxDateTimeInput||e.datetimeinput?c.host.jqxCalendar||e.calendar||(d(),b+=" jqxcalendar.js"):(d(),e.datetimeinput=!0,b+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":c.host.jqxComboBox||e.combobox?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.combobox=!0,b+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":c.host.jqxDropDownList||e.dropdownlist?c.host.jqxListBox||e.listbox||(d(),e.listbox=!0,b+=" jqxlistbox.js"):(d(),e.dropdownlist=!0,b+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&f("dropdownlist");for(var g=0;g<this.columns.length;g++)if(void 0!=this.columns[g]){var h=this.columns[g].columntype;if(f(h),this.filterable&&this.showfilterrow){var h=this.columns[g].filtertype;"checkedlist"!=h&&"bool"!=h||f("checkbox"),"date"==h&&f("datetimeinput")}}if(""!=b)throw new Error("jqxGrid: Missing references to the following module(s): "+b)}return!1},focus:function(){try{this.wrapper.focus();var a=this.that;setTimeout(function(){a.wrapper.focus()},25),this.focused=!0}catch(b){}},hiddenParent:function(){return a.jqx.isHidden(this.host)},getValidationInfo:function(){var a={row:null,datafield:null,validated:null};return this.editable&&this.editcell&&(a.datafield=this.editcell.datafield,a.row=this.getrowid(this.editcell.row),"selectedrow"==this.editmode?a.validated=!this.endrowedit(this.editcell.row):a.validated=this.editcell.validated),a},gotodspaging:function(a,b){var c,d=this._ds_pagesize;this.useDatasetPaging&&(void 0===a||a<0||a>this._ds_pagetotal-1||(c=a*d,this.source.bindgopage(c,d,b),this.scrolltop(0),this.scrollleft(0)))},_calculatedspaging:function(a,b,c){var d,e=b,f=this._ds_pagetotal,g=Math.floor(Math.abs(c/b))+(c%b>0?1:0),h=this._ds_pagenum;return void 0===a||a<0||void 0===b||b<=0||c<0?void(this.errordispaging&&this.errordspaging(a,b,totralrowcount)):(0==a?d=0:(d=Math.floor(Math.abs((a+1)/b))+((a+1)%b>0?1:0),d-=1),this._ds_pagesize=e,this._ds_pagetotal=g,this._ds_pagenum=d,this._ds_pageinit?void(this.updatedspaging&&this.updatedspaging(d,h,e,g,f,c)):(this.initdspaging&&this.initdspaging(d,e,g,c),void(this._ds_pageinit=!0)))},resize:function(a,b){this.width=a,this.height=b,this._updatesize(!0,!0)},_updatesize:function(b,c){if(!this._loading){var d=this.that;d._newmax=null;var e=d.host.width(),f=d.host.height();d._oldWidth||(d._oldWidth=e),d._oldHeight||(d._oldHeight=f),d._resizeTimer&&clearTimeout(d._resizeTimer);var g=5;d._resizeTimer=setTimeout(function(){if(d.resizingGrid=!0,!a.jqx.isHidden(d.host)){if(d.editcell&&(d.endcelledit(d.editcell.row,d.editcell.column,!0,!0),d._oldselectedcell=null),h!=d._oldHeight||1==c){var f=d.groupable&&d.groups.length>0,g=d.vScrollBar.css("visibility");if(!d.autoheight){if(d.virtualmode&&(d._pageviews=new Array),f||d.rowdetails||d.pageable){d._arrange(),d.prerenderrequired=!0;var h=Math.round(d.host.height())+2*d.rowsheight,i=(d._gettableheight(),Math.round(h/d.rowsheight)),j=Math.max(d.dataview.totalrows,d.dataview.totalrecords);d.pageable&&(j=d.pagesize,d.pagesize>Math.max(d.dataview.totalrows,d.dataview.totalrecords)&&d.autoheight?j=Math.max(d.dataview.totalrows,d.dataview.totalrecords):d.autoheight||d.dataview.totalrows<d.pagesize&&(j=Math.max(d.dataview.totalrows,d.dataview.totalrecords)));j*d.rowsheight,d._getpagesize();!d.pageable&&d.autoheight&&(i=j),d.virtualsizeinfo&&(d.virtualsizeinfo.visiblerecords=i),d.rendergridcontent(!0,!1),d._renderrows(d.virtualsizeinfo)}else{d._arrange(),d.virtualsizeinfo=d._calculatevirtualheight();var h=Math.round(d.host.height())+2*d.rowsheight;parseInt(h)>=parseInt(d._oldHeight)&&(d.prerenderrequired=!0),d._renderrows(d.virtualsizeinfo),d.rtl&&(d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths())}g!=d.vScrollBar.css("visibility")&&(d.vScrollInstance.setPosition(0),d._arrange(),d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths())}}if(e!=d._oldWidth||1==b){var k=!1;if(d.editcell&&d.editcell.editor)switch(d.editcell.columntype){case"dropdownlist":if(k=d.editcell.editor.jqxDropDownList("isOpened")||d.editcell.editor.jqxDropDownList("isanimating")&&!d.editcell.editor.jqxDropDownList("ishiding"))return d.editcell.editor.jqxDropDownList({openDelay:0}),d.editcell.editor.jqxDropDownList("open"),void d.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(k=d.editcell.editor.jqxComboBox("isOpened")||d.editcell.editor.jqxComboBox("isanimating")&&!d.editcell.editor.jqxComboBox("ishiding"))return d.editcell.editor.jqxComboBox({openDelay:0}),d.editcell.editor.jqxComboBox("open"),void d.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(k)return k=d.editcell.editor.jqxDateTimeInput("isOpened")||d.editcell.editor.jqxDateTimeInput("isanimating")&&!d.editcell.editor.jqxDateTimeInput("ishiding"),d.editcell.editor.jqxDateTimeInput({openDelay:0}),d.editcell.editor.jqxDateTimeInput("open"),void d.editcell.editor.jqxDateTimeInput({openDelay:250})}var l=d.hScrollBar.css("visibility");d._arrange(),d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths(),0==b&&d._oldWidth>e||c&&0!=d.dataview.rows.length||d._renderrows(d.virtualsizeinfo),l!=d.hScrollBar.css("visibility")&&d.hScrollInstance.setPosition(0)}d._oldWidth=e,d._oldHeight=h,d.resizingGrid=!1}},g)}},getTouches:function(b){return a.jqx.mobile.getTouches(b)},_updateTouchScrolling:function(){var b=this.that;if(b.isTouchDevice()){b.scrollmode="logical",b.vScrollInstance.thumbStep=b.rowsheight;var c=a.jqx.mobile.getTouchEventName("touchstart"),d=a.jqx.mobile.getTouchEventName("touchend"),e=a.jqx.mobile.getTouchEventName("touchmove");b.enablehover=!1,b.gridcontent&&(b.removeHandler(b.gridcontent,c+".touchScroll"),b.removeHandler(b.gridcontent,e+".touchScroll"),b.removeHandler(b.gridcontent,d+".touchScroll"),b.removeHandler(b.gridcontent,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b.gridcontent[0],b.vScrollInstance.max,function(a,c){null!=c&&"visible"==b.vScrollBar.css("visibility")&&b.vScrollInstance.setPosition(c),null!=a&&"visible"==b.hScrollBar.css("visibility")&&b.hScrollInstance.setPosition(a),b.vScrollInstance.thumbCapture=!0,b._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),b._overlayElement&&(b.removeHandler(b._overlayElement,c+".touchScroll"),b.removeHandler(b._overlayElement,e+".touchScroll"),b.removeHandler(b._overlayElement,d+".touchScroll"),b.removeHandler(b._overlayElement,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b._overlayElement[0],b.vScrollInstance.max,function(a,c){null!=c&&"visible"==b.vScrollBar.css("visibility")&&b.vScrollInstance.setPosition(c),null!=a&&"visible"==b.hScrollBar.css("visibility")&&b.hScrollInstance.setPosition(a),b.vScrollInstance.thumbCapture=!0,b._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,c,function(){b.editcell?b._overlayElement.css("visibility","hidden"):b._overlayElement.css("visibility","visible")}),this.addHandler(this.host,d,function(){b.editcell?b._overlayElement.css("visibility","hidden"):b._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var b=a.jqx.mobile.isTouchDevice();if(this.touchDevice=b,1==this.touchmode){if(a.jqx.browser.msie&&a.jqx.browser.version<9)return this.enablehover=!1,!1;b=!0,a.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=b}else 0==this.touchmode&&(b=!1);return b&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),b},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(b,c){if(this._cellscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=b){for(var d in b)d.toLowerCase()!==d&&(b[d.toLowerCase()]=b[d]);if(b.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=b.pagergotopagestring),b.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=b.pagershowrowsstring),b.pagerrangestring&&(this.gridlocalization.pagerrangestring=b.pagerrangestring),b.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=b.pagernextbuttonstring),b.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=b.pagerpreviousbuttonstring),b.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=b.pagerfirstbuttonstring),b.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=b.pagerlastbuttonstring),b.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=b.groupsheaderstring),b.sortascendingstring&&(this.gridlocalization.sortascendingstring=b.sortascendingstring),b.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=b.sortdescendingstring),b.sortremovestring&&(this.gridlocalization.sortremovestring=b.sortremovestring),b.groupbystring&&(this.gridlocalization.groupbystring=b.groupbystring),b.groupremovestring&&(this.gridlocalization.groupremovestring=b.groupremovestring),b.firstDay&&(this.gridlocalization.firstDay=b.firstDay),b.days&&(this.gridlocalization.days=b.days),b.months&&(this.gridlocalization.months=b.months),b.AM&&(this.gridlocalization.AM=b.AM),b.PM&&(this.gridlocalization.PM=b.PM),b.patterns&&(this.gridlocalization.patterns=b.patterns),b.percentsymbol&&(this.gridlocalization.percentsymbol=b.percentsymbol),b.currencysymbol&&(this.gridlocalization.currencysymbol=b.currencysymbol),b.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=b.currencysymbolposition),void 0!=b.decimalseparator&&(this.gridlocalization.decimalseparator=b.decimalseparator),void 0!=b.thousandsseparator&&(this.gridlocalization.thousandsseparator=b.thousandsseparator),b.filterclearstring&&(this.gridlocalization.filterclearstring=b.filterclearstring),b.filterstring&&(this.gridlocalization.filterstring=b.filterstring),b.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=b.filtershowrowstring),b.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=b.filtershowrowdatestring),b.filterselectallstring&&(this.gridlocalization.filterselectallstring=b.filterselectallstring),
b.filterchoosestring&&(this.gridlocalization.filterchoosestring=b.filterchoosestring),b.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=b.filterorconditionstring),b.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=b.filterandconditionstring),b.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=b.filterstringcomparisonoperators),b.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=b.filternumericcomparisonoperators),b.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=b.filterdatecomparisonoperators),b.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=b.filterbooleancomparisonoperators),b.emptydatastring&&(this.gridlocalization.emptydatastring=b.emptydatastring),b.filterselectstring&&(this.gridlocalization.filterselectstring=b.filterselectstring),b.todaystring&&(this.gridlocalization.todaystring=b.todaystring),b.clearstring&&(this.gridlocalization.clearstring=b.clearstring),b.validationstring&&(this.gridlocalization.validationstring=b.validationstring),b.loadtext&&(this.gridlocalization.loadtext=b.loadtext),b.addrowstring&&(this.gridlocalization.addrowstring=b.addrowstring),b.udpaterowstring&&(this.gridlocalization.udpaterowstring=b.udpaterowstring),b.deleterowstring&&(this.gridlocalization.deleterowstring=b.deleterowstring),b.resetrowstring&&(this.gridlocalization.resetrowstring=b.resetrowstring),b.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=b.everpresentrowplaceholder),b.personalizationWindow&&a.extend(this.gridlocalization.personalizationWindow,b.personalizationWindow),c!==!1){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var d in this._filterrowcache)a(this._filterrowcache[d]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={weekHeaderString:"Week","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter ",personalizationWindow:{windowLabel:"COLUMN CONTROL",save:"Save",clear:"Clear",cancel:"Cancel"}}},_getmenudefaultheight:function(){var b=this,c=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(c=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(c+=2);var d=b._measureMenuElement(),e=c*d+9;return b.filterable&&!b.showfilterrow&&b.showfiltermenuitems&&(e+=190,a.jqx.browser.msie&&a.jqx.browser.version<8&&(e+=20)),e},columnPersonalization:function(a,b){if(this.enablePersonalize){this._personalization||(this._personalization=new e(this));var c=a&&a.disableColumns?a.disableColumns:[],d=a&&a.hiddenColumns?a.hiddenColumns:[],f={disableColumns:c,hiddenColumns:d};this._personalization.columnPersonalization(f)}},customColumnPersonalization:function(a){if(this.enablePersonalize){this._personalization||(this._personalization=new e(this));var b=new f(this._personalization),c=this._personalization.getMainGridColumns(!0);b.setMetaData(c),a&&a(b)}},_savePersonalization:function(a){this._personalization.saveColumnPersonalizedData(a)},_applyPersonalizedColumnFromLSW:function(){if(this.enablePersonalize&&!this.host.hasClass(h.WINDOW_GRID)){var a=this,b=function(b){if(b){var c=a,d=c.columns.records,e=b.columninfo||[];if(!a._personalization.checkColumnPersonalizedData(b))for(var f=0,g=d.length;f<g;f++)for(var h=0,i=e.length;h<i;h++){var j=e[h];if(d[f].datafield==j.datafield){d[f].width=j.width,d[f].visibleindex=j.order,d[f].hidden=j.hidden;break}}var k=function(a,b){return a.visibleindex-b.visibleindex};d.sort(k)}},c=this._makeWidgetStorageArguments();c.loadResultCallback=b,this.$storage$.load(c)}},_makeWidgetStorageArguments:function(){var a=this,b={key:a.$storageKey$,widgetName:"jqxGrid",loadResultCallback:null,storageData:null};return window._lsw&&(b.requestParam=this.lswRequestParam),b},_initmenu:function(){function b(){a("#menuWrappergridmenu"+c.element.id).css("z-index",4980),c.removeHandler(a("#gridmenu"+c.element.id),"initialized",b)}var c=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var d="";this.isTouchDevice()&&(d="jqx-grid-menu-item-touch"),this.gridmenu=a('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var e=a("<ul></ul>"),f='<div class="jqx-grid-sortasc-icon"></div>',g=a('<li class="'+d+'">'+f+this.gridlocalization.sortascendingstring+"</li>"),h='<div class="jqx-grid-sortdesc-icon"></div>',i=a('<li class="'+d+'">'+h+this.gridlocalization.sortdescendingstring+"</li>"),j='<div class="jqx-grid-sortremove-icon"></div>',k=a('<li class="'+d+'">'+j+this.gridlocalization.sortremovestring+"</li>"),l='<div class="jqx-grid-groupby-icon"></div>',m=a('<li class="'+d+'">'+l+this.gridlocalization.groupbystring+"</li>"),n=a('<li class="'+d+'">'+l+this.gridlocalization.groupremovestring+"</li>"),o=a('<li type="separator"></li>'),p=a('<li class="filter '+d+'" style="height: 190px;" ignoretheme="true"><div class="filter"></div></li>'),q=this.gridlocalization.sortascendingstring.length,r=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>q&&(q=this.gridlocalization.sortdescendingstring.length,r=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>q&&(q=this.gridlocalization.sortremovestring.length,r=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>q&&(q=this.gridlocalization.groupbystring.length,r=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>q&&(q=this.gridlocalization.groupremovestring.length,r=this.gridlocalization.groupremovestring));var s=200;r=a.trim(r).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var t=a("<span>"+r+"</span>");t.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(t),s=t.outerWidth()+60,t.remove();var u=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(e.append(g),this.menuitemsarray[0]=g[0],e.append(i),this.menuitemsarray[1]=i[0],e.append(k),this.menuitemsarray[2]=k[0],u=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(e.append(m),this.menuitemsarray[3]=m[0],e.append(n),this.menuitemsarray[4]=n[0],u+=2);var v=this._measureMenuElement(),w=u*v+9,x=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=p[0],this.menuitemsarray[6]=p[0],e.append(o),e.append(p),w+=190,a.jqx.browser.msie&&a.jqx.browser.version<8&&(w+=20),this.isTouchDevice()&&(w+=30);var y=a(p).find("div:first");this.excelfilterpanel=a("<div></div>"),this.filterpanel=y,this.filtermenu=a(p),s+=20,this._initfilterpanel(this,y,"",s),this._initfilterpanel(this,this.excelfilterpanel,"",s,!0),x=!1,this.removeHandler(a(document),"click.menu"+c.element.id,c._closemenuafterclick,c),this.addHandler(a(document),"click.menu"+c.element.id,c._closemenuafterclick,c)}if(this.gridmenu.append(e),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.filterable&&(a("#listBoxfilter1"+this.element.id).css("z-index",4990),a("#listBoxfilter2"+this.element.id).css("z-index",4990),a("#listBoxfilter3"+this.element.id).css("z-index",4990),a("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(a("#gridmenu"+this.element.id),"initialized",b)),void 0==this.menuitemsarray[0]&&(w=65),this.removeHandler(a(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(a(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(a(window),"orientationchange.jqxgrid"+this.element.id,function(){c.gridmenu.jqxMenu("close")}),this.addHandler(a(window),"orientationchanged.jqxgrid"+this.element.id,function(){c.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(b){if(27==b.keyCode)c.gridmenu.jqxMenu("close");else if(13==b.keyCode&&c.filterable&&c._buildfilter){var d="block"==a(a.find("#filter1"+c.element.id)).jqxDropDownList("container").css("display"),e="block"==a(a.find("#filter2"+c.element.id)).jqxDropDownList("container").css("display"),f="block"==a(a.find("#filter3"+c.element.id)).jqxDropDownList("container").css("display"),g=a(a.find("#filterclearbutton"+c.element.id)).hasClass("jqx-fill-state-focus");if(g){var h=a.data(document.body,"contextmenu"+c.element.id).column;c._clearfilter(c,c.element,h),c.gridmenu.jqxMenu("close")}else if(!d&&!e&&!f){var h=a.data(document.body,"contextmenu"+c.element.id).column;c.gridmenu.jqxMenu("close"),c._buildfilter(c,p,h)}}}),"auto"!=this.popupwidth&&(s=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:s,height:w,autoCloseOnClick:x,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&(this.gridmenu.jqxMenu("_setItemProperty",p[0].id,"closeOnClick",!1),!a.jqx.browser.msie||a.jqx.browser.msie&&a.jqx.browser.version>7)){var z=this.gridmenu.jqxMenu("popupZIndex")+10;a("#listBoxfilter1"+this.element.id).css("z-index",z),a("#listBoxfilter2"+this.element.id).css("z-index",z),a("#listBoxfilter3"+this.element.id).css("z-index",z)}if(this.rtl){var A=this.that;a.each(e.find("li"),function(){a(this).addClass(A.toTP("jqx-rtl"))});var B=function(a){var b=a.find("div");b.css("float","right"),b.css("margin-left","4px"),b.css("margin-right","-4px")};B(k),B(i),B(g),B(m),B(n)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var b=this.gridlocalization.sortascendingstring.length,c=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>b&&(b=this.gridlocalization.sortdescendingstring.length,c=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>b&&(b=this.gridlocalization.sortremovestring.length,c=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>b&&(b=this.gridlocalization.groupbystring.length,c=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>b&&(b=this.gridlocalization.groupremovestring.length,c=this.gridlocalization.groupremovestring));var d=200;c=a.trim(c).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var e=a("<span>"+c+"</span>");e.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(e),d=e.outerWidth()+60,e.remove();var f=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(f=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(f+=2);var g=this._measureMenuElement(),h=f*g+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(h+=190,d+=20,a.jqx.browser.msie&&a.jqx.browser.version<8&&(h+=20),this.isTouchDevice()&&(h+=30)),void 0==this.menuitemsarray[0]&&(h=65),"auto"!=this.popupwidth&&(d=this.popupwidth),"auto"!=this.popupheight&&(h=this.popupheight),this.gridmenu.jqxMenu({width:d,height:h})},_closemenuafterclick:function(b){var c=null!=b?b.data:this,d=!1;if(void 0==b.target||void 0!=b.target&&void 0==b.target.className.indexOf)return void c.gridmenu.jqxMenu("close");if(b.target.className.indexOf("filter")==-1||b.target.className.indexOf("jqx-grid-cell-filter")!=-1){if(b.target.className.indexOf("jqx-grid-cell")!=-1)return void c.gridmenu.jqxMenu("close");if(!c._hasOpenedMenu||!a(b.target).ischildof(c.gridmenu)){var e=(c.host.coord(),c.gridmenu.coord()),f=b.pageX,g=b.pageY;if(a.each(a(b.target).parents(),function(){return null!=this.id&&this.id.indexOf&&this.id.indexOf("filter")!=-1?(d=!0,!1):this.className.indexOf&&this.className.indexOf("filter")!=-1&&this.className.indexOf("jqx-grid-cell-filter")==-1?(d=!0,!1):this.className.indexOf&&this.className.indexOf("jqx-grid-cell")!=-1?(c.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&this.className.indexOf("jqx-grid-column")!=-1?(c.gridmenu.jqxMenu("close"),!1):void 0}),!d){try{if("default"===c.filtermode){var h=a(a.find("#filter1"+c.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,i=new Date;if(i-h<100)return;var j=a(a.find("#filter3"+c.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(i-j<100)return;if("block"==a(a.find("#filter3"+c.element.id)).jqxDropDownList("container").css("display"))return;if("block"==a(a.find("#filter1"+c.element.id)).jqxDropDownList("container").css("display"))return;if("block"==a(a.find("#filter2"+c.element.id)).jqxDropDownList("container").css("display"))return;if(c._hasdatefilter&&"div"==a(".filtertext1"+c.element.id)[0].nodeName.toLowerCase()){if("block"==a(".filtertext1"+c.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==a(".filtertext2"+c.element.id).jqxDateTimeInput("container").css("display"))return}}else{var h=a(a.find("#filter1"+c.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,i=new Date;if(i-h<100)return;var j=a(a.find("#filter1"+c.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(i-j<100)return}}catch(k){}if(!(f>=e.left&&f<=e.left+c.gridmenu.width()&&g>=e.top&&g<=e.top+c.gridmenu.height())){var l=!1;if(c.columnmenuclosing){var m=a.data(document.body,"contextmenu"+c.element.id);if(m||(m={column:{displayfield:null}}),l=c.columnmenuclosing(c.gridmenu,m.column.displayfield,a(c.gridmenu).height()),l===!1)return}c.gridmenu.jqxMenu("close")}}}}},_handlemenueevents:function(){var b=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(a){b._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(c){for(var d=c.args,e=0;e<b.menuitemsarray.length;e++){var f=b.menuitemsarray[e];if(d==f){if(void 0!=a(d).attr("ignoretheme"))return;var g=a.data(document.body,"contextmenu"+b.element.id),h=g.column;b.filterable&&b.gridmenu.jqxMenu("close");var i=h.displayfield;if(null==i&&(i=h.datafield),null!=g)switch(e){case 0:b.sortby(i,"ascending",null);break;case 1:b.sortby(i,"descending",null);break;case 2:b.sortby(i,null,null);break;case 3:b.addgroup(i);break;case 4:b.removegroup(i);break;case 5:var j=a(b.menuitemsarray[6]);a(j).css("display","block");break;case 7:}break}}})},getdatainformation:function(){var a=this.dataview.totalrecords;return this.summaryrows&&(a+=this.summaryrows.length),{rowscount:a,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var b=this.that;this.hiddens=new Array;var c=this.hiddenboundrows;a.each(c,function(a){if(void 0!=this.index){var c=(this.index,b.getrowvisibleindex(a));b.hiddens[c]=this.hidden}})},_updaterowheights:function(){var b=this.that;this.heights=new Array;var c=this.heightboundrows;a.each(c,function(a){if(void 0!=this.index){var c=(this.index,b.getrowvisibleindex(a));b.heights[c]=this.height}})},_updaterowdetails:function(){var b=this.that;this.details=new Array;var c=this.detailboundrows;a.each(c,function(a){if(void 0!=this.index){var c=(this.index,b.getrowvisibleindex(a));b.details[c]=this.details}})},_getmenuitembyindex:function(a){return void 0==a?null:this.menuitemsarray[a]},openmenu:function(b){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var c=this.getcolumn(b);if(!c.menu)return!1;this.gridmenu||this._initmenu();var d=c.columnsmenu;a(c.element).trigger("mouseenter"),this.menuOwner=c;for(var e=this,f=0;f<e.columns.records.length;f++)e.columns.records[f].datafield!=b&&a(e.columns.records[f].element).trigger("mouseleave");setTimeout(function(){"block"==a(d)[0].style.display&&a(d).trigger("click"),e._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){var b=!1;if(this.columnmenuclosing){var c=a.data(document.body,"contextmenu"+this.element.id);if(c||(c={column:{displayfield:null}}),b=this.columnmenuclosing(this.gridmenu,c.column.displayfield,a(this.gridmenu).height()),b===!1)return}null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var c=a.data(document.body,"contextmenu"+this.element.id);if(null!=c&&this.autoshowcolumnsmenubutton){if(this.enableanimations){a(c.columnsmenu).animate({"margin-left":0},"fast",function(){a(c.columnsmenu).css("display","none")});var d=this.rtl?0:-32;c.column.iconscontainer.animate({"margin-left":d},"fast")}else{a(c.columnsmenu).css("display","none");var d=this.rtl?0:-32;c.column.iconscontainer.css("margin-left",d)}a.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null;var e=this._getmenuitembyindex(5);if(e){var f=a(e).find("#filter1"+this.element.id),g=a(e).find("#filter2"+this.element.id),h=a(e).find("#filter3"+this.element.id);f.length>0&&"default"===this.filtermode&&(f.jqxDropDownList("hideListBox"),g.length>0&&g.jqxDropDownList("hideListBox"),h.length>0&&h.jqxDropDownList("hideListBox"))}}},scrolloffset:function(a,b){null!=a&&null!=b&&void 0!=a&&void 0!=b&&(this.vScrollBar.jqxScrollBar("setPosition",a),this.hScrollBar.jqxScrollBar("setPosition",b))},scrollleft:function(a){null!=a&&void 0!=a&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",a)},scrolltop:function(a){null!=a&&void 0!=a&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",a)},beginupdate:function(a,b){this._updating=!0,this._datachanged=!1,a===!0&&(this._batchupdate=!0),b===!0&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)return void this.updatebounddata("data");if(1==this._datachanged){var a=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=a&&a<this.vScrollInstance.max&&this.scrolltop(a)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block")},hideloadelement:function(){a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var a=this.that;a.focusedfilter&&(a.focusedfilter.focus(),setTimeout(function(){if(a.focusedfilter.focus(),"input"==a.focusedfilter[0].nodeName.toLowerCase()){var b=a.focusedfilter.val().length;try{if("selectionStart"in a.focusedfilter[0])a.focusedfilter[0].setSelectionRange(b,b);else{var c=a.focusedfilter[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}catch(d){}}},50))},databind:function(b,c){if(this.loadingstate!==!0&&this._stopbindings!==!0){var d=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var e=this.that;null==b&&(b={}),b.recordstartindex||(b.recordstartindex=0),b.recordendindex||(b.recordendindex=0),void 0!=b.loadallrecords&&null!=b.loadallrecords||(b.loadallrecords=!0),void 0!=b.sortcomparer&&null!=b.sortcomparer||(b.sortcomparer=null),void 0!=b.filter&&null!=b.filter||(b.filter=null),void 0!=b.sort&&null!=b.sort||(b.sort=null),void 0!=b.data&&null!=b.data||(b.data=null);var f=null;if(null!=b&&(f=void 0!=b._source?b._source.url:b.url),this.dataview=this.dataview||new a.jqx.dataview,a.jqx.dataview.sort&&a.extend(this.dataview,new a.jqx.dataview.sort),a.jqx.dataview.grouping&&a.extend(this.dataview,new a.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!e.initializedcall){if(b._source&&this.sortable&&(void 0!=b._source.sortcolumn&&(this.sortcolumn=b._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=b._source.sortcolumn,b._source.sortcolumn=null),void 0!=b._source.sortdirection)){this.dataview.sortfielddirection=b._source.sortdirection;var g=b._source.sortdirection;if("a"==g||"asc"==g||"ascending"==g||1==g)var h=!0;else var h=!1;null!=g?this.sortdirection={ascending:h,descending:!h}:this.sortdirection={ascending:!1,descending:!1}}this.pageable&&b._source&&(void 0!=b._source.pagenum&&(this.dataview.pagenum=b._source.pagenum),void 0!=b._source.pagesize?(this.pagesize=b._source.pagesize,this.dataview.pagesize=b._source.pagesize):(this.dataview.pagesize=b._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(b.sortcolumn&&(this.dataview.sortfield=b.sortcolumn),b.sortdirection&&(this.dataview.sortfielddirection=b.sortdirection)),this.filterable&&this.columns&&a.each(this.columns,function(){this.filter&&e.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(b){if(!e.pageable&&e.virtualmode&&(e.loadondemand=!0),e._loading=!1,e.dataview.isupdating()&&e.dataview.resumeupdate(!1),e.pageable&&e.pagerrenderer){if(!e._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");e._initpager()}if(e.source&&e.source.sortcolumn&&e.sortby&&!e.virtualmode)e.render(),e.source._source.sort||e.sortby(e.source.sortcolumn,e.source.sortdirection,e.source.sortcomparer),e.source.sortcolumn=null,e._postrender("data");else{var f=e.vScrollInstance.value,g=e.hScrollInstance.value,h=e.source?e.source.datatype:"array";if("local"!=h||"array"!=h){var i=null==e.virtualsizeinfo||null!=e.virtualsizeinfo&&0==e.virtualsizeinfo.virtualheight;if("cells"==c){var j=!1;if(e.filterable&&e._initfilterpanel&&e.dataview.filters.length&&(j=!0),0==b)return e.vScrollInstance.isScrolling()||e.hScrollInstance.isScrolling()||(e._cellscache=new Array,e._pagescache=new Array,e._renderrows(e.virtualsizeinfo),e.showfilterrow&&e.filterable&&e.filterrow&&e._updatelistfilters(!0),e.showaggregates&&e._updateaggregates&&e._updateaggregates()),e.sortcolumn&&e.sortby(e.sortcolumn,e.dataview.sortfielddirection,e.source.sortcomparer),e.autoshowloadelement&&(a(e.dataloadelement).css("visibility","hidden"),a(e.dataloadelement).css("display","none")),e.virtualmode&&!e._loading&&(e.loadondemand=!0,e._renderrows(e.virtualsizeinfo)),void e._postrender("data");j?c="filter":void 0!=e.sortcolumn&&(c="sort")}!e.virtualmode||i||e.virtualmode&&e.pageable?1==e.initializedcall&&"pagechanged"==c?(f=0,e.groupable&&e.groups.length>0?(e._render(!0,!0,!1,!1,!1),e._updatecolumnwidths(),e._updatecellwidths(),e._renderrows(e.virtualsizeinfo),e._postrender("data")):(e.rendergridcontent(!0),e.pageable&&e.updatepagerdetails&&(e.updatepagerdetails(),e.autoheight?(e._updatepageviews(),e.autorowheight&&e._renderrows(this.virtualsizeinfo)):e.autorowheight&&(e._updatepageviews(),e._renderrows(this.virtualsizeinfo)))),e.showaggregates&&e._updateaggregates&&e._updateaggregates(),e._postrender("data")):"filter"==c?e.virtualmode?(e._render(!0,!0,!1,!1,!1),e._updatecolumnwidths(),e._updatecellwidths(),e._renderrows(e.virtualsizeinfo),e._updatefocusedfilter(),e._postrender("data")):(e._render(!0,!0,!1,!1,!1),e._updatecolumnwidths(),e._updatecellwidths(),e._renderrows(e.virtualsizeinfo),e._updatefocusedfilter(),e._postrender("data")):"sort"==c?(e.virtualmode?(e.rendergridcontent(!0),e.showaggregates&&e._updateaggregates&&e._updateaggregates(),e._postrender("data")):(e._render(!0,!0,!1,!1,!1),e.sortcolumn&&!e.source.sort&&e.sortby(e.sortcolumn,e.dataview.sortfielddirection,e.source.sortcomparer),e._postrender("data")),e.source.sort&&e._updatefocusedfilter()):"data"==c?(e._render(!0,!0,!1,!1,!1),e._postrender("data")):"state"==c?(e._render(!0,!0,!1,e.menuitemsarray&&e.menuitemsarray.length>0&&!e.virtualmode),e._postrender("data")):(e._render(!0,!0,!0,e.menuitemsarray&&e.menuitemsarray.length>0&&!e.virtualmode),e._postrender("data")):e.virtualmode&&1==b&&!e.pageable?(e._render(!0,!0,!1,!1,!1),e._updatefocusedfilter(),e._updatecolumnwidths(),e._updatecellwidths(),e._renderrows(e.virtualsizeinfo),e._postrender("data")):e.virtualmode&&!e.pageable&&0==b&&void 0!=c?(e.rendergridcontent(!0),e.showaggregates&&e._updateaggregates&&e._updateaggregates(),e._postrender("data")):e.virtualmode&&0==e.dataview.totalrecords&&e.dataview.filters.length>0?(e._render(!0,!0,!0,e.menuitemsarray&&!e.virtualmode),e._postrender("data")):(e._pagescache=new Array,e._renderrows(e.virtualsizeinfo),e._postrender("data")),e.vScrollInstance.value!=f&&f<=e.vScrollInstance.max&&e.vScrollInstance.setPosition(f),e.hScrollInstance.value!=g&&g<=e.hScrollInstance.max&&e.hScrollInstance.setPosition(g)}}if(e.autoshowloadelement&&(a(e.dataloadelement).css("visibility","hidden"),a(e.dataloadelement).css("display","none")),e.pageable&&(e.pagerrightbutton&&(e.pagerrightbutton.jqxButton({disabled:!1}),e.pagerleftbutton.jqxButton({disabled:!1}),e.pagershowrowscombo.jqxDropDownList({disabled:!1})),e.pagerfirstbutton&&(e.pagerfirstbutton.jqxButton({disabled:!1}),e.pagerlastbutton.jqxButton({disabled:!1}))),e._raiseEvent(11),e.initializedcall)e._updateTouchScrolling();else{var k=function(){if(e._raiseEvent(0),e.initializedcall=!0,e.isInitialized=!0,e.ready&&e.ready(),e.renderstatusbar&&e.renderstatusbar(e.statusbar),e.rendertoolbar&&e.rendertoolbar(e.toolbar),e._rendercelltexts&&e._rendercelltexts(),e._gridRenderElement){a(e._gridRenderElement).show("slow");var b=6e3+Math.floor(4e3*Math.random()+1),c=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();d[a.camelCase(c)](function(){a(e._gridRenderElement).hide("slow",function(){a(e._gridRenderElement).remove()})},b)}e.autoloadstate&&e.loadstate&&e.loadstate(null,!0)};if(a.jqx.isHidden(e.host)?(e.readyInterval&&clearInterval(e.readyInterval),e.readyInterval=setInterval(function(){a.jqx.isHidden(e.host)||e.__isRendered&&(clearInterval(e.readyInterval),e.readyInterval=null,k(),e._initmenu())},200)):k(),null!=e.width&&e.width.toString().indexOf("%")!=-1||null!=e.height&&e.height.toString().indexOf("%")!=-1,"hidden"==e.host.css("visibility")){a.jqx.browser.msie&&a.jqx.browser.version<8;"visible"==e.vScrollBar.css("visibility")&&e.vScrollBar.css("visibility","inherit"),e.autowidth||"visible"==e.hScrollBar.css("visibility")&&e.hScrollBar.css("visibility","inherit"),e._intervalTimer=setInterval(function(){"visible"==e.host.css("visibility")&&(e._updatesize(!0),clearInterval(e._intervalTimer))},100)}}},this.dataview.databind(b),this.dataview.isupdating()&&(void 0!=f?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(a,b){void 0!=a&&this.hScrollInstance.setPosition(a),void 0!=b&&this.vScrollInstance.setPosition(b)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(a){if(this.autoheight&&!this.pageable)return!0;var b=this._getpagesize(),c=Math.floor(a/b);if(this._pageviews[c]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0;var d=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){var c=Math.floor(a/b);if(this.dataview.pagenum!=c){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(c),d=!0}}var e=this.vScrollInstance.value,f=this._gettableheight()-this.rowsheight,g=b*(a/b-c);if(g=Math.round(g),this._pageviews[c]){var h=this._pageviews[c].top,i=h+g*this.rowsheight;if(this.rowdetails)for(var j=b*c;j<a;j++)this.details[j]&&0==this.details[j].rowdetailshidden&&(i+=this.details[j].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=i+this.rowsheight&&(i=this.vScrollInstance.max),
i<e?(this.scrolltop(i),d=!0):i>e+f+2&&(this.scrolltop(i-f),d=!0)}else if(this.pageable){var i=g*this.rowsheight;if(this.rowdetails)for(var j=b*c;j<b*c+g;j++)this.details[j]&&0==this.details[j].rowdetailshidden&&(i+=this.details[j].rowdetailsheight);(i<e||i>e+f)&&(this.scrollto(0,i),d=!0)}return d},ensurecellvisible:function(b,c){var d=this.that,e=this.hScrollBar.jqxScrollBar("value"),f=d.hScrollInstance.max;d.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(f=0);var g=this.ensurerowvisible(b),h=0;if(this.columns.records){var i=e;if("hidden"==this.hScrollBar.css("visibility"))return;var j=this.host.width(),k=0,l="visible"==this.vScrollBar.css("visibility")?20:0,m=!1;a.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==c){var a=0,b=d.rtl?f-e:i;return h+this.width>b+j-l?(a=h+this.width-j+l,d.rtl&&(a=f-a),d.scrollleft(a),m=!0):h<=b&&(a=h-this.width,d.rtl&&(a=f-a),d.scrollleft(a),m=!0),0==k?(d.rtl?d.scrollleft(f):d.scrollleft(0),m=!0):k==d.columns.records.length-1&&"visible"==d.hScrollBar.css("visibility")&&(d.rtl?d.scrollleft(d.hScrollBar.jqxScrollBar("min")):d.scrollleft(d.hScrollBar.jqxScrollBar("max")),m=!0),!1}k++,h+=this.width}),m||d.scrollleft(i)}return g},setrowheight:function(a,b){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==a||null==b)return!1;if(this.heightboundrows[a]={index:a,height:b},a=this.getrowvisibleindex(a),a<0)return!1;if(this.rows.records[a])this.rows.records[a].height=b;else{var c=new d(this,null);c.height=b,this.rows.replace(a,c)}return this.heights[a]=b,this.rendergridcontent(!0),!0},getrowheight:function(a){return null==a?null:(a=this.getrowvisibleindex(a),!(a<0)&&(this.rows.records[a]?this.rows.records[a].height:void 0))},setrowdetails:function(b,c,d,e){if(!(void 0==b||null==b||b<0)){var f=b+"_";if(this._rowdetailscache[f]){var g=this._rowdetailscache[f].element;a(g).remove(),this._rowdetailscache[f]=null}var h=this.dataview.generatekey();return this.detailboundrows[b]={index:b,details:{rowdetails:c,rowdetailsheight:d,rowdetailshidden:e,key:h}},b=this.getrowvisibleindex(b),!(b<0)&&this._setrowdetails(b,c,d,e,h)}},getcolumn:function(b){var c=null;return this.columns.records?a.each(this.columns.records,function(){if(this.datafield==b||this.displayfield==b)return c=this,!1}):this.columns&&a.each(this.columns,function(){if(this.datafield==b||this.displayfield==b)return c=this,!1}),c},_getcolumnindex:function(b){var c=-1;return this.columns.records&&a.each(this.columns.records,function(){if(c++,this.datafield==b)return!1}),c},_getcolumnat:function(a){var b=this.columns.records[a];return b},_getprevvisiblecolumn:function(a){for(var b=this.that;a>0;){a--;var c=b.getcolumnat(a);if(!c)return null;if(!c.hidden)return c}return null},_getnextvisiblecolumn:function(a){for(var b=this.that;a<this.columns.records.length;){a++;var c=b.getcolumnat(a);if(!c)return null;if(!c.hidden)return c}return null},getcolumnat:function(a){if(!isNaN(a)){var b=this.columns.records[a];return b}return null},_getcolumn:function(b){var c=null;return a.each(this._columns,function(){if(this.datafield==b||this.displayfield==b)return c=this,!1}),c},_setcolumnproperty:function(a,b,c){if(null==a||null==b||null==c)return null;b=b.toLowerCase();var d=this.getcolumn(a);if(null!=d){var e=d[b];d[b]=c;var f=this._getcolumn(a);switch(null!=f&&(f[b]=c),this._cellscache=new Array,b){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==b&&c!=e){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==d.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==b&&(this._initializeColumns(),this.enablePersonalize&&this._applyPersonalizedColumnFromLSW(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==b&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;d._width=null,d._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(a,b){if(null==a||null==b)return null;b=b.toLowerCase();var c=this.getcolumn(a);return c[b]},setcolumnproperty:function(a,b,c){this._setcolumnproperty(a,b,c)},getcolumnproperty:function(a,b){return this._getcolumnproperty(a,b)},hidecolumn:function(a){this._setcolumnproperty(a,"hidden",!0)},showcolumn:function(a){this._setcolumnproperty(a,"hidden",!1)},iscolumnvisible:function(a){return!this._getcolumnproperty(a,"hidden")},pincolumn:function(a){this._setcolumnproperty(a,"pinned",!0)},unpincolumn:function(a){this._setcolumnproperty(a,"pinned",!1)},iscolumnpinned:function(a){return this._getcolumnproperty(a,"pinned")},_setrowdetails:function(a,b,c,d,e){if(0==c&&(c=100),null==a||null==c)return!1;if(null!=e)this.details[a]={rowdetails:b,rowdetailsheight:c,rowdetailshidden:d,detailskey:e};else{for(var f=null!=this.details[a]?this.details[a].detailskey:null,g={rowdetails:b,rowdetailsheight:c,rowdetailshidden:d,detailskey:f},h=(this.that,0);h<this.detailboundrows.length;h++)if(void 0!=this.detailboundrows[h]){var i=this.detailboundrows[h];if(i.details.detailskey==f){i.details.rowdetailsheight=g.rowdetailsheight,i.details.rowdetailshidden=g.rowdetailshidden,i.details.rowdetails=g.rowdetails;break}}this.details[a]=g}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(a){return null!=a&&(a=this.getrowvisibleindex(a),this._getrowdetails(a))},_getrowdetails:function(a){return null!=a&&(!(a<0)&&(this.details[a]?this.details[a]:this.rowdetailstemplate?this.rowdetailstemplate:void 0))},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==a)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[a]=!1,a=this.getrowvisibleindex(a),a<0)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!1)},hiderowdetails:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[a]=!0,a=this.getrowvisibleindex(a),a<0)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!0)},_togglerowdetails:function(a){this.detailsVisibility||(this.detailsVisibility=new Array);var b=a.visibleindex,c=this._getrowdetails(b);if(null!=c){var d=this.vScrollInstance.value,e=!c.rowdetailshidden,f=this.getboundindex(a);void 0!=f&&(this.detailsVisibility[f]=e);var g=this._setrowdetailsvisibility(b,c,e);return 0!==d&&"hidden"!==this.vScrollBar.css("visibility")&&(d<=this.vScrollInstance.max?this.vScrollInstance.setPosition(d):this.vScrollInstance.setPosition(this.vScrollInstance.max)),g}return!1},_setrowdetailsvisibility:function(a,b,c){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[a])){this.details[a]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var d=this.dataview.generatekey();this.details[a].detailskey=d,this.detailboundrows[a]={index:a,details:this.details[a]}}if(null==b)return!1;this.details[a].rowdetailshidden=c;var e=this.details[a];return c?this._raiseEvent(21,{rowindex:a,details:e.rowdetails,height:e.rowdetailsheight}):this._raiseEvent(20,{rowindex:a,details:e.rowdetails,height:e.rowdetailsheight}),this._setrowdetails(a,e.rowdetails,e.rowdetailsheight,e.rowdetailshidden)},getrowvisibleindex:function(a){if(void 0==a||null==a||a<0)return!1;if(this.virtualmode){var b=this.dataview.loadedrecords[a];return void 0==b?-1:b.visibleindex}return this.getrowdisplayindex(a)},hiderow:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(void 0==a||null==a||a<0)&&(null!=a&&(this.hiddenboundrows[a]={index:a,hidden:!0},a=this.getrowvisibleindex(a),this._setrowvisibility(a,!0)))},showrow:function(a){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return!(void 0==a||null==a||a<0)&&(null!=a&&(this.hiddenboundrows[a]={index:a,hidden:!1},a=this.getrowvisibleindex(a),this._setrowvisibility(a,!1)))},isrowhiddenat:function(a){return null==a?null:(a=this.getrowvisibleindex(a),this.rows.records[a]?this.rows.records[a].hidden:void 0)},_setrowvisibility:function(a,b,c){return null!=a&&(this.hiddens[a]=b,!(void 0!=c&&!c)&&(this.rendergridcontent(!0),!0))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var a=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var b=this.that,c=new Array,e=new Array,f=b.groupable&&b.groups.length>0,g=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var h=this.dataview.pagesize;this.pageable&&f&&(h=this.dataview.rows.length);for(var i=0;i<h&&!(i>=this.dataview.rows.length);i++){var j=this.dataview.rows[i],k=null;b.rows.records[j.visibleindex]?(k=b.rows.records[j.visibleindex],k.setdata(j)):k=new d(b,j),k.hidden=this.hiddens[k.visibleindex],this.rowdetailstemplate&&(k.rowdetails=this.rowdetailstemplate.rowdetails,k.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,k.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var l=this.details[k.visibleindex];if(l?(k.rowdetails=l.rowdetails,k.rowdetailsheight=l.rowdetailsheight,k.rowdetailshidden=l.rowdetailshidden):this.rowdetailstemplate||(k.rowdetails=null),f&&this.pageable&&null!=k.parentbounddata){var m=c[k.parentbounddata.uniqueid];if(null!=m){var n=this._findgroupstate(m.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,k.parentbounddata,!n,!1),k.hidden=this.hiddens[k.visibleindex]}null!=m&&void 0!=m&&(k.parentrow=m,m.subrows[m.subrows.length++]=k)}if(!k.hidden){var o=j.visibleindex;this.heights[o]||(this.heights[o]=this.rowsheight),k.height=this.heights[o],this.rowdetails&&k.rowdetails&&!k.rowdetailshidden&&(k.height+=k.rowdetailsheight),c[k.uniqueid]=k,e[g++]=k,k.top=a,a+=k.height;var p=o;b.rows.replace(p,k)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=a),this.rows.resumeupdate(),e.length>0&&(this._pagescache[this.dataview.pagenum]=e)}}},_updateaddnewrowui:function(b){for(var c=this,d="bottom"!=c.everpresentrowposition?c.addnewrowtop:c.addnewrowbottom,e=c.columns.records.length,f=0,g=0;g<e;g++){var h=c.columns.records[g];h.addnewrowwidget&&h.addnewrowwidget.detach()}for(var g=0;g<e;g++){var h=c.columns.records[g],i=h.width;i<h.minwidth&&(i=h.minwidth),i>h.maxwidth&&(i=h.maxwidth);var j=a(d[0].cells[g]);j.css("left",f);var k=!0;j.width()==i&&(k=!1),b&&(k=!0),j.width(i),j[0].left=f,h.addnewrowwidget&&(j.html(""),j.append(h.addnewrowwidget)),h.hidden&&h.hideable?j.css("display","none"):f+=i}var l=c.everpresentrowactions.split(" ");c.addnewrowbutton.show(),c.addnewrowupdatebutton.show(),c.addnewrowresetbutton.show(),c.addnewrowdeletebutton.show(),l.indexOf("add")==-1&&l.indexOf("addBottom")==-1&&c.addnewrowbutton.hide(),l.indexOf("update")==-1&&c.addnewrowupdatebutton.hide(),l.indexOf("reset")==-1&&c.addnewrowresetbutton.hide(),l.indexOf("delete")==-1&&c.addnewrowdeletebutton.hide();var m=a(d.children()[0]);m.width(parseInt(f)+2),m.height(c.everpresentrowheight),m.css("max-height",c.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var a=this,b=a.columns.records.length,c=0;c<b;c++){var d=a.columns.records[c];d.addnewrowwidget&&(d.destroyeverpresentrowwidget?d.destroyeverpresentrowwidget(d.addnewrowwidget):d.addnewrowwidget.remove(),d.addnewrowwidget=null)}a.addnewrowbutton&&a.addnewrowbutton.remove(),a.addnewrowupdatebutton&&a.addnewrowupdatebutton.remove(),a.addnewrowdeletebutton&&a.addnewrowdeletebutton.remove(),a.addnewrowresetbutton&&a.addnewrowresetbutton.remove(),a.addnewrowpopup&&(a.addnewrowpopup.remove(),a.addnewrowpopup=null),a.addnewrowtop&&(a.addnewrowtop.remove(),a.addnewrowtop=null),a.addnewrowbottom&&(a.addnewrowbottom.remove(),a.addnewrowbottom=null)},_updateaddnewrow:function(){var b=this,c="bottom"!=b.everpresentrowposition?b.addnewrowtop:b.addnewrowbottom,d=a('<div style="position: relative;" id="row000'+b.element.id+'"></div>'),e=0,f=b.columns.records.length,g=b.toThemeProperty("jqx-grid-cell");g+=" "+b.toThemeProperty("jqx-grid-cell-add-new-row"),g+=" "+b.toThemeProperty("jqx-grid-cell-filter-row");var h=f+10,i=new Array;b.that;c[0].cells=i,d.height(b.everpresentrowheight),b.showfilterrow||"bottom"==b.everpresentrowposition?b.showfilterrow&&"bottom"!=b.everpresentrowposition&&c.css("max-height",b.everpresentrowheight-3+"px"):c.css("max-height",b.everpresentrowheight-1+"px"),d.css("max-height",b.everpresentrowheight+"px"),c.append(d);var j=a("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99999; display: none; position: absolute;'><div>").appendTo(a(document.body)),k=a("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+b.gridlocalization.addrowstring+"</button>"),l=a("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+b.gridlocalization.udpaterowstring+"</button>"),m=a("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+b.gridlocalization.deleterowstring+"</button>"),n=a("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+b.gridlocalization.resetrowstring+"</button>");j.addClass(b.toThemeProperty("jqx-popup")),j.addClass(b.toThemeProperty("jqx-rc-all")),j.addClass(b.toThemeProperty("jqx-fill-state-normal")),j.addClass(b.toThemeProperty("jqx-shadow")),j.append(k),j.append(l),j.append(m),j.append(n);var o=b.everpresentrowactions.split(" ");o.indexOf("add")==-1&&o.indexOf("addBottom")==-1&&k.hide(),o.indexOf("update")==-1&&l.hide(),o.indexOf("reset")==-1&&n.hide(),o.indexOf("delete")==-1&&m.hide(),b.addnewrowpopup=j,b.addnewrowbutton=k,b.addnewrowupdatebutton=l,b.addnewrowdeletebutton=m,b.addnewrowresetbutton=n,k.jqxButton({template:"success",theme:b.theme}),m.jqxButton({template:"danger",theme:b.theme}),l.jqxButton({template:"primary",theme:b.theme}),n.jqxButton({template:"warning",theme:b.theme}),l.mousedown(function(a){for(var c={},d={},e=0;e<f;e++){var g=b.columns.records[e];if(g.geteverpresentrowwidgetvalue){var h=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);d[g.datafield]=h,g.datafield!=g.displayfield&&(d[g.datafield]=h.value,d[g.displayfield]=h.label)}}for(var i=!1,e=0;e<f;e++){var g=b.columns.records[e];if(g.geteverpresentrowwidgetvalue){var h=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);if(g.createeverpresentrowwidget&&g.validateeverpresentrowwidgetvalue){var k=g.validateeverpresentrowwidgetvalue(g.displayfield,h,d),l=k,m=b.gridlocalization.validationstring;void 0!=l.message&&(m=l.message);var n="boolean"==typeof l?l:l.result;n?(g.addnewrowwidget.attr("title",""),g.addnewrowwidget.removeClass(b.toThemeProperty("jqx-input-invalid"))):(h="invalid editor state",g.addnewrowwidget.attr("title",m),g.addnewrowwidget.addClass(b.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==h||(a.preventDefault(),a.stopPropagation(),i=!0)}}if(i)return j.hide(),void b.focus();for(var e=0;e<f;e++){var g=b.columns.records[e];if(g.geteverpresentrowwidgetvalue){var h=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);c[g.datafield]=h,g.datafield!=g.displayfield&&(c[g.datafield]=h.value,c[g.displayfield]=h.label),g.reseteverpresentrowwidgetvalue&&g.reseteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget)}}if(b.selectedcells.length>0||b.selectedrowindexes.length>0){if(b.selectionmode.indexOf("cell")>=0)var o=b.getselectedcells()[0].rowindex;else var o=b.selectedrowindexes[0];var p=b.getrowdata(o);p&&b.updaterow(p.uid,c)}j.hide(),b.focus()}),m.mousedown(function(a){if(b.selectedcells.length>0||b.selectedrowindexes.length>0){if(b.selectionmode.indexOf("cell")>=0)var c=b.getselectedcells()[0].rowindex;else var c=b.selectedrowindexes[0];var d=b.getrowdata(c);d&&b.deleterow(d.uid)}for(var e=0;e<f;e++){var g=b.columns.records[e];g.reseteverpresentrowwidgetvalue&&g.reseteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget)}j.hide(),b.focus(),b.updateeverpresentrow()}),k.mousedown(function(a){for(var c={},d={},e=0;e<f;e++){var g=b.columns.records[e];if(g.geteverpresentrowwidgetvalue){var h=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);d[g.datafield]=h,g.datafield!=g.displayfield&&(d[g.datafield]=h.value,d[g.displayfield]=h.label),g.datafield!=g.displayfield&&(d[g.datafield]=h.label,d[g.displayfield]=h.value)}}for(var i=!1,e=0;e<f;e++){var g=b.columns.records[e];if(g.geteverpresentrowwidgetvalue){var h=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);if(g.createeverpresentrowwidget&&g.validateeverpresentrowwidgetvalue){var k=g.validateeverpresentrowwidgetvalue(g.displayfield,h,d),l=k,m=b.gridlocalization.validationstring;void 0!=l.message&&(m=l.message);var n="boolean"==typeof l?l:l.result;n?(g.addnewrowwidget.attr("title",""),g.addnewrowwidget.removeClass(b.toThemeProperty("jqx-input-invalid"))):(h="invalid editor state",g.addnewrowwidget.attr("title",m),g.addnewrowwidget.addClass(b.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==h||(a.preventDefault(),a.stopPropagation(),i=!0)}}if(i)return j.hide(),void b.focus();for(var e=0;e<f;e++){var g=b.columns.records[e];if(g.geteverpresentrowwidgetvalue){var h=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);c[g.datafield]=h,g.datafield!=g.displayfield&&(d[g.datafield]=h.label,d[g.displayfield]=h.value),g.reseteverpresentrowwidgetvalue&&g.reseteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget)}}var o=b.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";b.addrow(null,c,o),j.hide(),b.focus()}),n.mousedown(function(a){for(var c=0;c<f;c++){var d=b.columns.records[c];d.reseteverpresentrowwidgetvalue&&d.reseteverpresentrowwidgetvalue(d.displayfield,d.addnewrowwidget),d.addnewrowwidget&&(d.addnewrowwidget.attr("title",""),d.addnewrowwidget.removeClass(b.toThemeProperty("jqx-input-invalid")))}j.hide(),b.focus()});for(var p=0;p<f;p++){var q=b.columns.records[p],r=q.width;r<q.minwidth&&(r=q.minwidth),r>q.maxwidth&&(r=q.maxwidth);var s=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+g+'"></div>');if(d.append(s),s.css("left",e),b.rtl?(s.css("z-index",h++),s.css("border-left-width","1px")):s.css("z-index",h--),"auto"==r&&(r=0),s[0].style.width=parseFloat(r)+"px",s[0].left=e,q.hidden&&q.hideable?s.css("display","none"):e+=r,i[i.length]=s[0],q.checkboxcolumn){var t=b.toThemeProperty("jqx-grid-cell");t+=" "+b.toThemeProperty("jqx-grid-cell-filter-row"),t+=" "+b.toThemeProperty("jqx-grid-cell-pinned"),s.removeClass().addClass(t)}else{var u=!0;if(b.rtl){if(b.groupable){var v=b.showrowdetailscolumn&&b.rowdetails?1:0;b.groups.length+v+p>f-1&&(u=!1)}b.showrowdetailscolumn&&b.rowdetails&&p==f-1&&(u=!1)}else{if(b.groupable){var v=b.showrowdetailscolumn&&b.rowdetails?1:0;b.groups.length+v>p&&(u=!1)}b.showrowdetailscolumn&&b.rowdetails&&0==p&&(u=!1)}if(b.updateeverpresentrow=function(){var a=null;if(b.selectedcells.length>0||b.selectedrowindexes.length>0){if(b.selectionmode.indexOf("cell")>=0)var c=b.getselectedcells()[0].rowindex;else var c=b.selectedrowindexes[0];a=b.getrowdata(c)}if(a)for(var d=0;d<b.columns.records.length;d++){var e=b.columns.records[d];if(e.seteverpresentrowwidgetvalue){var f=b.getcelltext(c,e.displayfield);e.seteverpresentrowwidgetvalue(e.addnewrowwidget,f)}}},u)if(q.createeverpresentrowwidget){var w=function(){k.trigger("mousedown")};q.addnewrowwidget=q.createeverpresentrowwidget(q.datafield,s,j,w),q.initeverpresentrowwidget&&q.initeverpresentrowwidget(q.datafield,s,j)}else{b._measureElement("column");var x=b.everpresentrowheight/2-b._columnheight/2;if(x<0&&(x=6),x+="px","addButtonColumn"===q.datafield){var y=a('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+b.gridlocalization.addrowstring+"</a></div>");s.append(y),y.mousedown(function(){k.trigger("mousedown")});continue}if("resetButtonColumn"===q.datafield){var y=a('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+b.gridlocalization.resetrowstring+"</a></div>");s.append(y),y.mousedown(function(){n.trigger("mousedown")});continue}var z=function(c,d,e){var g=a('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(g[0].id=a.jqx.utilities.createId(),g.addClass(c.toThemeProperty("jqx-widget")),g.addClass(c.toThemeProperty("jqx-input")),g.addClass(c.toThemeProperty("jqx-widget-content")),g.addClass(c.toThemeProperty("jqx-enableselect")),g.addClass(c.toThemeProperty("jqx-grid-cell-add-new-row")),g.css("text-align",e.cellsalign),c.rtl&&g.css("direction","rtl"),c.disabled&&g.attr("disabled",!0),g.attr("disabled",!1),g.attr("placeholder",c.gridlocalization.everpresentrowplaceholder+e.text),g.appendTo(d),g.css("width","100%"),g.css("height",c.everpresentrowheight+"px"),g.css("line-height",c.everpresentrowheight+"px"),g.css("max-height",c.everpresentrowheight+"px"),g.css("margin","0px"),g.focus(function(){if(b.selectedcells.length>0||b.selectedrowindexes.length>0)if(b.selectionmode.indexOf("cell")>=0){b.getselectedcells()[0].rowindex}else{b.selectedrowindexes[0]}g.addClass(c.toThemeProperty("jqx-fill-state-focus"));var a=c.columns.records.indexOf(e);"columns"!==c.everpresentrowactionsmode&&j.css({display:"block",top:g.coord().top+c.everpresentrowheight-1,left:a>0?g.coord().left:g.coord().left-1});var d=j.children().width();if("right"===e.cellsalign){var d=k.width()+n.width();j.children().css("left",d-d+"px")}else j.children().css("left","0px");return c.content[0].scrollLeft=0,c.content[0].scrollTop=0,setTimeout(function(){c.content[0].scrollLeft=0,c.content[0].scrollTop=0},50),!1}),e.addnewrowwidget=g,e.reseteverpresentrowwidgetvalue||(e.reseteverpresentrowwidgetvalue=function(a,c){c.val(""),c.focus(),c.blur(),c.removeClass(b.toThemeProperty("jqx-input-invalid")),c.attr("title","")}),e.seteverpresentrowwidgetvalue||(e.seteverpresentrowwidgetvalue=function(a,b){a.val(b)}),!e.geteverpresentrowwidgetvalue){var h=e;e.geteverpresentrowwidgetvalue=function(c,d,e){var i=d.val();if(e!==!1&&h.validateeverpresentrowwidgetvalue){for(var j={},k=0;k<f;k++){var l=b.columns.records[k];if(l.geteverpresentrowwidgetvalue){var m=l.geteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget,!1);j[l.datafield]=m,l.datafield!=l.displayfield&&(j[l.datafield]=m.value,j[l.displayfield]=m.label)}}var n=h.validateeverpresentrowwidgetvalue(h.displayfield,i,j),o=n,p=b.gridlocalization.validationstring;void 0!=o.message&&(p=o.message);var q="boolean"==typeof o?o:o.result;if(!q)return g.addClass(b.toThemeProperty("jqx-input-invalid")),g.attr("title",p),"invalid editor state";g.removeClass(b.toThemeProperty("jqx-input-invalid")),g.attr("title","")}var r="string",s=b.source.datafields||(b.source._source?b.source._source.datafields:null);if(s){var t="";a.each(s,function(){if(this.name==h.displayfield)return this.type&&(t=this.type),!1}),t&&(r=t)}if("number"===r){var u=parseFloat(i);if(isNaN(u))return null}return"date"===r?a.jqx.dataFormat.tryparsedate(i,b.gridlocalization):"bool"===r||"boolean"===r?"true"===i||("1"==i||"false"!==i&&("0"!=i&&(i===!0?i:i===!1&&i))):i}}g.keydown(function(a){13===a.keyCode&&(b.everpresentrowactions.indexOf("add")>=0?k.trigger("mousedown"):b.everpresentrowactions.indexOf("update")>=0?l.trigger("mousedown"):b.everpresentrowactions.indexOf("delete")>=0&&m.trigger("mousedown"))}),g.blur(function(){g.removeClass(c.toThemeProperty("jqx-fill-state-focus")),j.css("display","none")}),e.initeverpresentrowwidget&&e.initeverpresentrowwidget(e.datafield,d,j)};z(this,s,q)}}}a.jqx.browser.msie&&a.jqx.browser.version<8&&d.css("z-index",h--),d.width(parseFloat(e)+2),c.addClass(g),c.css("border-bottom-width","0px"),b.showfilterrow?c.css("border-top-width","0px"):c.css("border-top-width","1px"),c.css("box-sizing","border-box"),c.css("border-right-width","0px")},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var a=this.host.height();if(this.columnsheader){var b=this.columnsheader.outerHeight();this.showheader||(b=0)}return a-=b,"visible"==this.hScrollBar[0].style.visibility&&(a-=this.hScrollBar.outerHeight()),this.pageable&&(a-=this.pager.outerHeight()),this._groupsheader()&&(a-=this.groupsheader.outerHeight()),this.showtoolbar&&(a-=this.toolbarheight),this.showstatusbar&&(a-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(a-=this.everpresentrowheight),a>0?(this.tableheight=a,a):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var a=Math.round(this.host.height())+2*this.rowsheight,b=Math.round(a/this.rowsheight);return b}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var a=(this.that,Math.round(this.host.height())+2*this.rowsheight),b=this._gettableheight(),c=Math.round(a/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var d=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(d=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?d=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(d=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var e=d*this.rowsheight,f=0,g=0,h=0,i=this._getpagesize(),j=i*this.rowsheight,k=0;if(!this.pageable&&this.autoheight&&(c=d),d+i>0)for(;k<=d+i;){if(f+=j,k-i<d&&k>=d){var l=k-d;l>0&&(h-=j,this._pageviews[g-1]={top:h,height:j-l*this.rowsheight});break}this._pageviews[g++]={top:h,height:j},h=f,k+=i}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var m=0;if(this.columns&&this.columns.records){for(var k=0;k<this.columns.records.length;k++)m+=isNaN(this.columns.records[k].width)?this.columns.records[k].minwidth:this.columns.records[k].width;!isNaN(m)&&parseInt(m)>this.host.width()&&(b-=30)}}return e>b&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:e}):this.vScrollBar.jqxScrollBar({max:e-b})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=i,this.dataview.updateview(),{visiblerecords:c,virtualheight:e}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var a=this.that,b=Math.round(this.host.height())+2*this.rowsheight,c=Math.round(b/this.rowsheight),d=Math.max(this.dataview.totalrows,this.dataview.totalrecords),e=d*this.rowsheight,f=0,g=0,h=0,i=0,j=0,k=this._getpagesize();if(this.pageable)this._updatepagedview&&(e=this._updatepagedview(d,e,0)),this.autoheight&&this._arrange();else for(var l=0;l<d;l++){var m={index:l,height:this.heights[l],hidden:this.hiddens[l],details:this.details[l]};if(void 0==this.heights[l]&&(this.heights[l]=this.rowsheight,m.height=this.rowsheight),void 0==this.hiddens[l]&&(this.hiddens[l]=!1,m.hidden=!1),void 0==this.details[l]&&(this.details[l]=null),m.height!=a.rowsheight&&(e-=a.rowsheight,e+=m.height),m.hidden)e-=m.height;else{g+=m.height;var n=0;this.rowdetails&&(this.rowdetailstemplate&&(m.details||(m.details=this.rowdetailstemplate)),m.details&&m.details.rowdetails&&!m.details.rowdetailshidden&&(n=m.details.rowdetailsheight,g+=n,e+=n)),f+=m.height+n}j++,(j>=k||l==d-1)&&(this._pageviews[h++]={top:i,height:g},g=0,i=f,j=0)}var o=this._gettableheight();if(e>o)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,e<0&&(e=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=o||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-o>0)if("deferred"!=this.scrollmode){var p=e-o,q=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:p}),p!=q&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.jqxScrollBar({value:0,max:e});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(c=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:c,virtualheight:e}}},updatebounddata:function(a){"data"==a||"sort"==a||"filter"==a||"cells"==a||"pagechanged"==a||"pagesizechanged"==a||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,a)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var a=this._pageviews[0].height;!this.virtualmode&&this.pageable||(a=this.virtualsizeinfo.virtualheight);var b=this._gettableheight();if(a>b)if(this.pageable&&this.gotopage&&(a=this._pageviews[0].height,a<0&&(a=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(a<=b||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),a-b>0){var c=a-b;this.vScrollBar.jqxScrollBar({max:c})}else this.vScrollBar.jqxScrollBar({value:0,max:a});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(b){if(1!=b){if(a.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.clearselection(!1,!1),this.databind(null),this.render()},_preparecolumngroups:function(){
var a=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var b=this,c=0;c<this.columngroups.length;c++)this.columngroups[c].parent=null,this.columngroups[c].groups=null;for(var c=0;c<this.columns.records.length;c++)this.columns.records[c].parent=null,this.columns.records[c].groups=null;for(var d=function(a){for(var c=0;c<b.columngroups.length;c++){var d=b.columngroups[c];if(d.name===a)return d}return null},c=0;c<this.columngroups.length;c++){var e=this.columngroups[c];if(e.groups||(e.groups=null),e.parentgroup){var f=d(e.parentgroup);f&&(e.parent=f,f.groups||(f.groups=new Array),f.groups.indexOf(e)===-1&&f.groups.push(e))}}for(var c=0;c<this.columns.records.length;c++){var e=this.columns.records[c];if(e.columngroup){var f=d(e.columngroup);f&&(f.groups||(f.groups=new Array),e.parent=f,f.groups.indexOf(e)===-1&&f.groups.push(e))}}for(var g=0,c=0;c<this.columns.records.length;c++){var e=this.columns.records[c],h=e;for(e.level=0;h.parent;)h=h.parent,e.level++;var h=e,i=e.level;for(g=Math.max(g,e.level);h.parent;)h=h.parent,h&&(h.level=--i)}for(var j=function(a){var b=new Array;if(a.columngroup&&b.push(a),a.groups)for(var c=0;c<a.groups.length;c++)if(a.groups[c].columngroup)b.push(a.groups[c]);else if(a.groups[c].groups)for(var d=j(a.groups[c]),e=0;e<d.length;e++)b.push(d[e]);return b},c=0;c<this.columngroups.length;c++){var e=this.columngroups[c],k=j(e);e.columns=k;for(var l=new Array,m=0,n=0;n<k.length;n++)l.push(this.columns.records.indexOf(k[n])),k[n].pinned&&m++;if(0!=m)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");l.sort(function(a,b){return a=parseInt(a),b=parseInt(b),a<b?-1:a>b?1:0});for(var o=1;o<l.length;o++)if(l[o]!=l[o-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+g,a=this.columngroupslevel*this.columnsheight}return a},_render:function(b,c,d,e,f){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(a.jqx.isHidden(this.host)){var g=this;return g.___hiddenTimer&&(clearInterval(g.___hiddenTimer),g.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){a.jqx.isHidden(g.host)||(clearInterval(g.___hiddenTimer),g.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0==c||c,this._newmax=null,d)if(this._requiresupdate||0!=e&&this._initmenu(),null==this.columns)this.columns=new a.jqx.collection(this.element);else{var h=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(a){var b=function(){h.columns=h._columns,h.render()};switch(a.type){case"add":b();break;case"update":if("index"===a.name){h.beginupdate();for(var c in a.newValue)h.setcolumnproperty(a.newValue.datafield,c,a.newValue[c]);h.endupdate()}else{var d=a.path.split(".");h.setcolumnproperty(h.columns[d[0]].datafield,a.name,a.newValue)}break;case"delete":b()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(a){h.render()}),this._initializeColumns(),this.enablePersonalize&&this._applyPersonalizedColumnFromLSW()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==e&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,a.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&(this.editable&&this._destroyeditors&&this._destroyeditors(),void 0!=this.table&&this._destroywidgets&&this._destroywidgets()),d?(this.filterrow&&this.filterrow.detach(),a.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||a('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&a.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||a('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var i=this.columnsheight;if(i=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(i+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(i+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(i+this.everpresentrowheight):this.columnsheader.height(i),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||a("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,d),this.groups.length>0&&this.groupable){var j=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=j&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==f||1==f)&&this._updatelistfilters(!d),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var b=a.jqx.utilities.getBrowser();if("msie"==b.browser&&parseInt(b.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=a("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var c=0;"checkbox"!=this.selectionmode&&"checkboxextended"!=this.selectionmode||(c+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var d=this._overlayElement.css("left");this._overlayElement.css("left",d+c)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=a("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=a("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(a){if(("filter"==a||"sort"==a||"group"==a)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(var b=0;b<this.details.length;b++)this.details[b]&&(this.details[b].rowdetailshidden=!0);for(var b=0;b<this.detailsVisibility.length;b++)!1===this.detailsVisibility[b]?this.showrowdetails(b):!0===this.detailsVisibility[b]&&this.hiderowdetails(b);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==a||"sort"==a)for(var b=0;b<this.dataview.loadedgroups.length;b++){var c=this.dataview.loadedgroups[b],d=0;for(var e in this.groupsVisibility)e==c.group&&this.groupsVisibility[e]&&(suspendgroupevents=!0,this._setgroupstate(c,!0,!1),d++);if(d>0){suspendgroupevents=!1;var f=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(f!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==a&&(this.groupsVisibility=new Array)},rendergridcontent:function(a,b){if(this.updating())return!1;void 0!=a&&null!=a||(a=!1),this._requiresupdate=a;var c=this.prerenderrequired;this.prerenderrequired&&this._arrange();var d=this.that,b=b;if(null!=b&&void 0!=b||(b=!0),this.tableheight=null,d.virtualsizeinfo=d.virtualsizeinfo||d._calculatevirtualheight(),d.pageable&&!d.autoheight&&d.dataview.totalrows<d.pagesize&&(d._requiresupdate=!0),b?d._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),d._renderrows(d.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),c){var e=this.tableheight;this._arrange(),e!=this.tableheight&&this.autoheight&&d._renderrows(d.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var b=this.host.width(),c=b,d="";if(void 0!=this.columns&&void 0!=this.columns.records){var e=this.that,f=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;a.each(this.columns.records,function(a,g){if(!this.hidden||!this.hideable)if(this.width.toString().indexOf("%")!=-1||void 0!=this._percentagewidth){var g=0,h="hidden"==e.vScrollBar[0].style.visibility?0:e.scrollbarsize+5;(e.scrollbarautoshow||0==e.scrollbarsize)&&(h=0);var i=c;g=parseFloat(this.width)*i/100,h+=f,void 0!=this._percentagewidth&&(g=parseFloat(this._percentagewidth)*(i-h)/100),g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),b-=g}else"auto"==this.width||this._width?d+=this.text:b-=this.width});var g=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>g)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var h=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var i=0;i<this.dataview.rows.length;i++)this.dataview.rows[i].group&&0===this.dataview.rows[i].level&&(h+=this.rowsheight);h>g?(b-=this.scrollbarsize+5,c-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(b-=this.scrollbarsize+5,c-=this.scrollbarsize+5)}else b-=this.scrollbarsize+5,c-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(b-=this.scrollbarsize+5,c-=this.scrollbarsize+5);var f=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(c-=f,this.columnsheader){var j=this.columnsheader.find("#columntable"+this.element.id);if(0!=j.length){var k=0,l=this,m=0;a.each(this.columns.records,function(e,f){var g=a(this.element);this.hidden||"none"!==this.element.style.display||(this.element.style.display="block");var h=!1,i=this.width;if(this.width.toString().indexOf("%")==-1&&void 0==this._percentagewidth||(i=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*c/100:parseFloat(this.width)*c/100,h=!0),"auto"==this.width||this._width||h)if(h)i<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth,this.width=i),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth,this.width=i),parseInt(g[0].style.width)!=i&&(g.width(i),this.width=i);else{var j=Math.floor(b*(this.text.length/d.length));m+=j,b-m<3&&b!=m?j+=2:e==l.columns.records.length-1&&m<b&&(j+=b-m),isNaN(j)&&(j=this.minwidth),j==1/0&&(j=0),j<0&&($element=a("<span>"+this.text+"</span>"),a(document.body).append($element),j=10+$element.width(),$element.remove()),j<this.minwidth&&(j=this.minwidth),j>this.maxwidth&&(j=this.maxwidth),this._width="auto",this.width=j,g.width(this.width)}else parseInt(g[0].style.width)!=this.width&&g.width(this.width);parseInt(g[0].style.left)!=k&&g.css("left",k),this.hidden&&this.hideable||(k+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+k),j.width(this.columnsheader.width()),0==k?this.columnsheader[0].style.visibility="hidden":this.columnsheader[0].style.visibility="inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var b=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var c=a('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');c[0].cells=new Array;var d=0,e=0,f="",g=this.host.width(),h=g,i=new Array,j=new Array,k=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(a.each(this.columns.records,function(a,c){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)f+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)g-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)g-=this.maxwidth;else if(this.width.toString().indexOf("%")!=-1){var c=0,d="hidden"==b.vScrollBar[0].style.visibility?0:b.scrollbarsize+5;d+=k,c=parseFloat(this.width)*(h-d)/100,c<this.minwidth&&"auto"!=this.minwidth&&(c=this.minwidth),c>this.maxwidth&&"auto"!=this.maxwidth&&(c=this.maxwidth),g-=c}else"string"==typeof this.width&&(this.width=parseInt(this.width)),g-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(b._haspinned&&(this.pinned=!0),i[i.length]=this):j[j.length]=this}),this.rtl){var l=0;i.reverse();for(var m=this.columns.records.length-1;m>=this.columns.records.length-i.length;m--)this.columns.replace(m,i[l++]);for(var n=0;n<j.length;n++)this.columns.replace(n,j[n])}else{for(var m=0;m<i.length;m++)this.columns.replace(m,i[m]);for(var n=0;n<j.length;n++)this.columns.replace(i.length+n,j[n])}var o=this.headerZIndex,p=b.groupable?b.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&p++;var q=b.columnsheader.height();this.showfilterrow&&(this.columngroups?q-=this.filterrowheight:q=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(q-=this.everpresentrowheight);var r=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>r&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var s=0;if(this.pageable){if(this.pageable)for(var t=0;t<this.dataview.rows.length;t++)this.dataview.rows[t].group&&0===this.dataview.rows[t].level&&(s+=this.rowsheight)}else var s=this.dataview.loadedrootgroups.length*this.rowsheight;s>r&&(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5)}else g-=this.scrollbarsize+5,h-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5);h-=k;var u=function(a,c){var d=b.columngroupslevel*b.columnsheight;return d-=c.level*b.columnsheight},v=document.createDocumentFragment(),w=this.columns.records.length;if(a.each(this.columns.records,function(i,j){this.height=b.columnsheight,b.columngroups&&b.columngroups.length&&(this.height=u(this.datafield,this),q=this.height);var k=b.toTP("jqx-grid-column-header")+" "+b.toTP("jqx-widget-header");b.rtl&&(k+=" "+b.toTP("jqx-grid-column-header-rtl"));var l=w+o,m=b.rtl?o++:o--,n=a('<div role="columnheader" style="z-index: '+m+';position: absolute; height: 100%;" class="'+k+'"><div style="height: 100%; width: 100%;"></div></div>');b.enableHeaderTooltips&&!this.checkboxcolumn&&(n[0].title=this.text),b.columngroups&&(n[0].style.height=q+"px",n[0].style.bottom="0px",this.pinned&&(n[0].style.zIndex=l)),this.uielement=n,""!=this.classname&&this.classname&&n.addClass(this.classname);var r=this.width,s=!1;if(null===this.width&&(this.width="auto"),this.width.toString().indexOf("%")==-1&&void 0==this._percentagewidth||(r=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*h/100:parseFloat(this.width)*h/100,s=!0),"auto"==this.width||this._width||s){if(s)r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth),void 0!=this._percentagewidth&&this.width.toString().indexOf("%")==-1||(this._percentagewidth=this.width),n.width(r),this.width=r;else if(!this.hidden){var t=Math.floor(g*(this.text.length/f.length));if(isNaN(t)&&(t=this.minwidth),t<0){var x=a("<span>"+this.text+"</span>");a(document.body).append(x),t=10+x.width(),x.remove()}t<this.minwidth&&(t=this.minwidth),t>this.maxwidth&&(t=this.maxwidth),this._width="auto",this.width=t,r=this.width,n.width(this.width)}}else r<this.minwidth&&"auto"!=this.minwidth&&(r=this.minwidth,this.width=r),r>this.maxwidth&&"auto"!=this.maxwidth&&(r=this.maxwidth,this.width=r),n[0].style.width=parseInt(r)+"px";this.hidden&&this.hideable&&n.css("display","none");var y=a(n.children()[0]),z=b.rtl?b.toTP("jqx-grid-column-menubutton")+" "+b.toTP("jqx-grid-column-menubutton-rtl"):b.toTP("jqx-grid-column-menubutton");z+=" "+b.toTP("jqx-icon-arrow-down");var A=a('<div style="height: '+q+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+z+'" style="width: 100%; height:100%;"></div></div>');b.enableanimations||A.css("margin-left",-16),b.rtl&&A.css("left","0px"),this.columnsmenu=A[0],c[0].cells[i]=n[0],A[0].style.width=parseInt(b.columnsmenuwidth)+"px";var B=b.columnsmenu,C=!1,D=!1,E=b.groupable&&p>0&&d<p||b.rowdetails&&d<p;if(b.rtl&&(E=b.groupable&&p>0&&d<p||b.rowdetails&&d<p,E&=i>b.columns.records.length-1-p),E)d++,B&=!1,this.sortable=!1,this.editable=!1,D=!0;else{var F=null!=this.renderer?this.renderer(this.text,this.align,q):b._rendercolumnheader(this.text,this.align,q,b);null==F&&(F=b._rendercolumnheader(this.text,this.align,q,b)),null!=this.renderer&&(F=a(F)),B&=!0,C=!0}if(b.WinJS?MSApp.execUnsafeLocalFunction(function(){y.append(a(F))}):this.renderer?y.append(a(F)):F&&(y[0].innerHTML=F),null!=F){var G=a('<div class="iconscontainer" style="height: '+q+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortascbutton")+" "+b.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortdescbutton")+" "+b.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');A.addClass(b.toTP("jqx-widget-header")),y.append(G);var H=G.children();this.sortasc=H[1],this.sortdesc=H[2],this.filtericon=H[0],this.iconscontainer=G,b.rtl&&(G.css("margin-left","0px"),G.css("left","0px"),a(this.sortasc).css("float","left"),a(this.filtericon).css("float","left"),a(this.sortdesc).css("float","left")),!b.autoshowfiltericon&&this.filterable&&a(this.filtericon).css("display","block")}if(this.element=n[0],B&&(b._handlecolumnsmenu(b,y,n,A,this),this.menu||A.hide()),v.appendChild(n[0]),b.groupable&&C){if(n[0].id=b.dataview.generatekey(),!b._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");b._handlecolumnstogroupsdragdrop(this,n)}b.columnsreorder&&this.draggable&&b._handlecolumnsdragreorder&&b._handlecolumnsdragreorder(this,n);var I=this;if(b.addHandler(n,"click",function(a){if(I.checkboxcolumn)return!0;if(b.sorttogglestates>0&&b._togglesort&&!b._loading){if(b.suspendClick)return!0;b._togglesort(I)}a.preventDefault(),b._raiseEvent(7,{column:I.getcolumnproperties(),datafield:I.datafield,originalEvent:a})}),I.resizable&&b.columnsresize&&!D){var J=!1,K="mousemove";b.isTouchDevice()&&b.touchmode!==!0&&(J=!0,K=a.jqx.mobile.getTouchEventName("touchstart")),b.addHandler(n,K,function(c){var d=parseInt(c.pageX),e=5,f=parseInt(n.coord().left);if(b.hasTransform&&(f=a.jqx.utilities.getOffset(n).left),b.resizing)return!0;if(b._handlecolumnsresize){if(J){var g=b.getTouches(c),h=g[0];return d=h.pageX,e=40,d>=f+I.width-e?(b.resizablecolumn={columnelement:n,column:I},n.css("cursor","col-resize")):(n.css("cursor",""),b.resizablecolumn=null),!0}var i=I.width;if(b.rtl&&(i=0),d>=f+i-e){if(d<=f+i+e)return b.resizablecolumn={columnelement:n,column:I},n.css("cursor","col-resize"),!1;n.css("cursor",""),b.resizablecolumn=null}else n.css("cursor",""),d<f+i-e&&(I._animating||I._menuvisible||n.mouseenter()),b.resizablecolumn=null}})}if(n.css("left",e),this.hidden&&this.hideable||(e+=r),I.rendered){var L=I.rendered(a(y[0].firstChild),I.align,q);L&&null!=G&&G.hide()}if(I.checkboxcolumn){if(G&&G.hide(),!b.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");y.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var M=y.find("div:first");M.jqxCheckBox({limitToggle:!0,hasThreeStates:!0,_canFocus:!1,disabled:b.disabled,disabledContainer:!0,theme:b.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),I.checkboxelement=M;var N=M.data().jqxCheckBox.instance;b._checkboxcolumn=I,N.updated=function(a,c,d){b._checkboxcolumnupdating=!0,b.disabled&&(M.jqxCheckBox({disabled:b.disabled}),c=d),c?b.selectallrows():b.unselectallrows(),b._checkboxcolumnupdating=!1}}}),e>0?this.columnsheader.width(2+e):this.columnsheader.width(e),c[0].appendChild(v),this.columnsrow=c,b.columnsheader.append(c),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?c.height(this.columngroupslevel*this.columnsheight):c.height(this.columnsheight),!this.filterrow){var x=a("<div style='position: relative !important; '></div>");x[0].id="filterrow."+this.element.id,x.height(this.filterrowheight),this.filterrow=x}this.filterrow.width(2+e),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?c.height(this.columngroupslevel*this.columnsheight):c.height(this.columnsheight),!this.addnewrowtop){var y=a("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");y[0].id="addnewrowtop."+this.element.id,y.height(this.everpresentrowheight),this.addnewrowtop=y}this.addnewrowtop.width(2+e),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var z=a("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");z[0].id="addnewrowbottom."+this.element.id,z.height(this.everpresentrowheight),this.addnewrowbottom=z}this.addnewrowbottom.width(2+e),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}0==e?c[0].style.visibility="hidden":c[0].style.visibility="inherit",c.width(e),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var b=0,c=0;c<this.columns.records.length;c++)this.columns.records[c].pinned&&b++;var d=this.headerZIndex-b+this.columns.records.length,e=this.that,f=e.toTP("jqx-grid-column-header")+" "+e.toTP("jqx-grid-columngroup-header")+" "+e.toTP("jqx-widget-header");e.rtl&&(f+=" "+e.toTP("jqx-grid-columngroup-header-rtl"));var g=this.columnsheader.find("#columntable"+this.element.id);g.find("jqx-grid-columngroup-header").remove();for(var h=0;h<this.columngroupslevel-1;h++)for(var c=0;c<this.columngroups.length;c++){var i=this.columngroups[c],j=i.level;if(j===h){var k=j*this.columnsheight,l=99999;if(i.groups){var m=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=m(d):d.hidden||(b+=d.width,l=Math.min(parseFloat(d.element.style.left),l))}return b};i.width=m(i),i.left=l;var n=this.columnsheight,o=d--,p=a('<div role="columnheader" style="z-index: '+o+';position: absolute;" class="'+f+'"></div>'),q=a(this._rendercolumnheader(i.text,i.align,this.columnsheight,this));if(i.renderer){var q=a("<div style='height: 100%; width: 100%;'></div>"),r=i.renderer(i.text,i.align,n);q.html(r)}p.append(q),p[0].style.left=l+"px",0===l&&(p[0].style.borderLeftColor="transparent"),p[0].style.top=k+"px",p[0].style.height=n+"px";var s=i.width-1;s<0&&(s=0),p[0].style.width=s+"px",g.append(p),i.element=p,i.rendered&&i.rendered(q,i.align,n)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var a=0;a<this.columngroups.length;a++){var b=this.columngroups[a],c=b.level,d=c*this.columnsheight,e=99999;if(b.groups){var f=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=f(d):d.hidden||(b+=d.width,e=Math.min(parseFloat(d.element.style.left),e))}return b};b.width=f(b),b.left=e;var g=this.columnsheight,h=b.element;h[0].style.left=e+"px",h[0].style.top=d+"px",h[0].style.height=g+"px";var i=b.width-1;this.enablemerge&&i++,i<0&&(i=0),h[0].style.width=i+"px"}}},_handlecolumnsmenu:function(b,c,d,e,f){b.dragmousedown=null,e[0].id=b.dataview.generatekey(),c.append(e),d[0].columnsmenu=e[0],f.element=d[0];var g=this.columnsmenuwidth+1,h=function(){if(!f.menu)return!1;if(!b.resizing){if(f._menuvisible&&b._hasOpenedMenu)return!1;if(f._animating=!0,b.menuitemsarray&&b.menuitemsarray.length>0)if(b.enableanimations){e.css("display","block"),e.stop(),f.iconscontainer.stop(),b.rtl?(e.css("margin-left",-g),e.animate({"margin-left":"0px"},"fast",function(){e.css("display","block"),f._animating=!1,f._menuvisible=!0})):(e.css("margin-left","0px"),e.animate({"margin-left":-g},"fast",function(){e.css("display","block"),f._animating=!1,f._menuvisible=!0}));var a=b.rtl?g:-(32+g);f.iconscontainer.animate({"margin-left":a},"fast")}else{e.css("display","block");var a=b.rtl?16:-48;f.iconscontainer.css("margin-left",a+"px"),f._animating=!1,f._menuvisible=!0}}},i="mouseenter";if(b.isTouchDevice()&&(i="touchstart"),b.addHandler(d,i,function(c){var e=parseInt(c.pageX),g=b.columnsresize&&f.resizable?3:0,i=parseInt(d.coord().left);b.hasTransform&&(i=a.jqx.utilities.getOffset(d).left);var j=f.width;if(b.rtl&&(j=0),0!=g&&e>=i+j-g&&e<=i+j+g)return!1;var k=b.vScrollInstance.isScrolling();f.menu&&b.autoshowcolumnsmenubutton&&!k&&!b.disabled&&h()}),!b.autoshowcolumnsmenubutton){e.css("display","block");var j=b.rtl?16:-48;f.iconscontainer.css("margin-left",j+"px"),b.rtl?e.css({"margin-left":"0px"}):e.css({"margin-left":-g})}b.addHandler(d,"mouseleave",function(c){if(b.menuitemsarray&&b.menuitemsarray.length>0&&f.menu){var d=a.data(document.body,"contextmenu"+b.element.id);if(void 0!=d&&e[0].id==d.columnsmenu.id)return;if(b.autoshowcolumnsmenubutton)if(b.enableanimations){b.rtl?e.css("margin-left","0px"):e.css("margin-left",-g),e.stop(),f.iconscontainer.stop(),b.rtl?e.animate({"margin-left":-g},"fast",function(){e.css("display","none"),f._menuvisible=!1}):e.animate({"margin-left":0},"fast",function(){e.css("display","none"),f._menuvisible=!1});var h=b.rtl?0:-32;f.iconscontainer.animate({"margin-left":h},"fast")}else{e.css("display","none");var h=b.rtl?0:-32;f.iconscontainer.css("margin-left",h+"px"),f._menuvisible=!1}}});var k=!0,l="",m=a(f.filtericon);b.addHandler(e,"mousedown",function(c){b.gridmenu||b._initmenu(),k=!a.data(b.gridmenu[0],"contextMenuOpened"+b.gridmenu[0].id),l=a.data(document.body,"contextmenu"+b.element.id),null!=l&&(l=l.column.datafield)}),b.addHandler(m,"mousedown",function(c){b.gridmenu||b._initmenu(),k=!a.data(b.gridmenu[0],"contextMenuOpened"+b.gridmenu[0].id),l=a.data(document.body,"contextmenu"+b.element.id),null!=l&&(l=l.column.datafield)});var n=function(){if(!f.menu)return!1;if(b.gridmenu||b._initmenu(),b.disabled)return!1;for(var c=0;c<b.columns.records.length;c++)b.columns.records[c].datafield!=f.datafield&&(b.columns.records[c]._menuvisible=!1);var d=e.coord(!0),g=e.height();if(!k&&(k=!0,l==f.datafield))return b._closemenu(),!1;var h=b.host.coord(!0);b.hasTransform&&(h=a.jqx.utilities.getOffset(b.host),d=a.jqx.utilities.getOffset(e)),h.left+b.host.width()>parseInt(d.left)+b.gridmenu.width()?b.gridmenu.jqxMenu("open",d.left,d.top+g):b.gridmenu.jqxMenu("open",e.width()+d.left-b.gridmenu.width(),d.top+g),b.gridmenu.width()<100&&b._arrangemenu(),b._hasOpenedMenu=!0;var i=b._getmenuitembyindex(0),j=b._getmenuitembyindex(1),m=b._getmenuitembyindex(2),n=b._getmenuitembyindex(3),o=b._getmenuitembyindex(4),p=b._getmenuitembyindex(5);if(null!=i&&null!=j&&null!=m){var q=f.sortable&&b.sortable;if(b.gridmenu.jqxMenu("disable",i.id,!q),b.gridmenu.jqxMenu("disable",j.id,!q),b.gridmenu.jqxMenu("disable",m.id,!q),void 0!=f.displayfield)if(b.sortcolumn==f.displayfield){var r=b.getsortinformation();q&&(r.sortdirection.ascending?b.gridmenu.jqxMenu("disable",i.id,!0):b.gridmenu.jqxMenu("disable",j.id,!0))}else b.gridmenu.jqxMenu("disable",m.id,!0)}if(null!=n&&null!=o&&(b.groupable&&f.groupable?b.groups&&b.groups.indexOf(f.datafield)!=-1?(b.gridmenu.jqxMenu("disable",n.id,!0),b.gridmenu.jqxMenu("disable",o.id,!1)):(b.gridmenu.jqxMenu("disable",n.id,!1),b.gridmenu.jqxMenu("disable",o.id,!0)):(b.gridmenu.jqxMenu("disable",o.id,!0),
b.gridmenu.jqxMenu("disable",n.id,!0))),null!=p){b.menuOwner=f,b._updatefilterpanel(b,p,f);var s=0;b.sortable&&b._togglesort&&b.showsortmenuitems&&(s+=3),b.groupable&&b.addgroup&&b.showgroupmenuitems&&(s+=2);var t=33*s+6,u=b._measureMenuElement(),t=s*u+14;a.jqx.browser.msie&&a.jqx.browser.version<8&&(t+=20,a(p).height(190)),b.isTouchDevice()&&(t+=10),b.filterable&&b.showfiltermenuitems&&(f.filterable?(b.gridmenu.height(t+190),a(p).css("display","block")):(b.gridmenu.height(t),a(p).css("display","none")))}if(b.columnmenuopening){var v=b.columnmenuopening(b.gridmenu,f.displayfield,b.gridmenu.height());!1===v&&b._closemenu()}a.data(document.body,"contextmenu"+b.element.id,{column:f,columnsmenu:e[0]})};b.addHandler(m,"click",function(a){return!!f.menu&&(b.showfilterrow||("block"!=e[0].style.display&&d.trigger("mouseenter"),setTimeout(function(){"block"!=e[0].style.display&&d.trigger("mouseenter"),n()},200)),!1)}),b.addHandler(e,"click",function(a){return!!f.menu&&(n(),!1)}),b.isTouchDevice()&&b.addHandler(e,a.jqx.mobile.getTouchEventName("touchstart"),function(a){return!!f.menu&&(b._hasOpenedMenu?b._closemenu():n(),!1)})},_removecolumnhandlers:function(b){var c=this.that,d=a(b.element);if(d.length>0){c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave");var e=a(b.filtericon);if(c.removeHandler(e,"mousedown"),c.removeHandler(e,"click"),c.removeHandler(d,"click"),c.removeHandler(d,"mousemove"),c.columnsreorder&&(c.removeHandler(d,"mousedown.drag"),c.removeHandler(d,"mousemove.drag")),c.removeHandler(d,"dragstart"),d[0].columnsmenu){var f=a(d[0].columnsmenu);c.removeHandler(f,"click"),c.removeHandler(f,"mousedown"),c.removeHandler(f,a.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(a,b,c,d){var e="7px";if(d.columngroups?(e=c/2-this._columnheight/2,e<0&&(e=6),e+="px"):30!=this.columnsheight&&(e=this.columnsheight/2-this._columnheight/2,e<0&&(e=6),e+="px"),this.enableellipsis)return"left"==b?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+b+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+e+"; margin-top: "+e+';"><span style="text-overflow: ellipsis; cursor: default;">'+a+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+b+"; margin-left: 2px; margin-right: 4px; margin-bottom: "+e+"; margin-top: "+e+';"><span style="text-overflow: ellipsis; cursor: default;">'+a+"</span></div>";if("center"==b||"middle"==b)return'<div style="padding-bottom: 2px; text-align: center; margin-top: '+e+';"><a href="#">'+a+"</a></div>";var f='<a style="margin-top: '+e+"; float: "+b+';" href="#">'+a+"</a>";return f},_renderrows:function(b,c,d){var e=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(e.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var f=this.source.totalrecords;isNaN(f)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=f&&(e.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||e.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?e.prerenderrequired=!0:this.pageable||(e.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?e.prerenderrequired=!0:this.pageable||(e.prerenderrequired=!0))),e._prerenderrows(b),e._requiresupdate&&(e._requiresupdate=!1,e._updatepageviews());var g=function(){e._loading||(e.WinJS?MSApp.execUnsafeLocalFunction(function(){e._rendervisualrows()}):e._rendervisualrows(),e.virtualmode&&e.showaggregates&&e._updateaggregates&&e.refreshaggregates())},h=a.jqx.browser.msie&&a.jqx.browser.version<10;if(this.virtualmode){var i=function(){if(e.rendergridrows){var a=e._startboundindex;void 0==a&&(a=0);var b=a+1+e.dataview.pagesize;if(null!=a&&null!=b){var d=!!e.source._source,f=d?e.source._source.recordstartindex:e.source.recordstartindex;if(f!=a||1==c){if(d){if(b>=e.source._source.totalrecords&&(b=e.source._source.totalrecords,a=b-e.dataview.pagesize-1,a<0&&(a=0),e.source._source.recordendindex==b&&e.source._source.recordstartindex==a))return;e.source._source.recordstartindex=a,e.source._source.recordendindex=b}else e.source.recordstartindex=a,e.source.recordendindex=b;e.updatebounddata("cells")}}}};this.loadondemand&&(g(),i(),this.loadondemand=!1);var j=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?g():this.autoheight?g():j||h||navigator&&navigator.userAgent.indexOf("Safari")!=-1?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){g()},5)):g()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var k=this._getfirstvisualrow();if(null!=k){var l=function(b){if(null==k)return"";var c="<table>",d=e.deferreddatafields;null==d&&e.columns.records.length>0&&(d=new Array,d.push(e.columns.records[0].displayfield));for(var f=0;f<d.length;f++){var g=d[f],h=e._getcolumnbydatafield(g);if(h){var i=e._getcellvalue(h,k);""!=h.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(i)?i=a.jqx.dataFormat.formatdate(i,h.cellsformat,e.gridlocalization):a.jqx.dataFormat.isNumber(i)&&(i=a.jqx.dataFormat.formatnumber(i,h.cellsformat,e.gridlocalization))),c+="<tr><td>"+i+"</td></tr>"}}return c+="</table>"},m=this.scrollfeedback?this.scrollfeedback(k.bounddata):l(k.bounddata);m!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=m,this._scrollelementcontent=m)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){e.hScrollInstance.isScrolling()||e.vScrollInstance.isScrolling()||(g(),e._scrollelement.css("visibility","hidden"),e._scrollelementoverlay.css("visibility","hidden"),clearInterval(e._scrolltimer),k&&e.ensurerowvisible(k.visibleindex))},100))}navigator&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")!=-1&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5);var j=void 0==this._browser?this._isIE10():this._browser;if((j||h)&&(this._updatedelay=5),j&&this.hScrollInstance.isScrolling())return void g();a.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0);var n=this.isTouchDevice();if(n&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)g();else{var o=this._jqxgridrendertimer;null!=o&&clearTimeout(o),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?o=setTimeout(function(){g()},this._updatedelay):(o=null,g()),this._jqxgridrendertimer=o):(this._jqxgridrendertimer=o,g())}}if(e.autorowheight&&!e.autoheight&&this._pageviews.length>0){var p=this._gettableheight(),q=this._pageviews[0].height;if(q>p)if(this.pageable&&this.gotopage&&(q=this._pageviews[0].height,q<0&&(q=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(q<=p||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),q-p>0){if("deferred"!=this.scrollmode){var r=q-p,s=this.vScrollInstance.max;if(this.vScrollBar.jqxScrollBar({max:r}),Math.round(r)!=Math.round(s)){var t=this.vScrollBar.jqxScrollBar("value");t>r&&this.vScrollBar.jqxScrollBar({value:0})}}}else this.vScrollBar.jqxScrollBar({value:0,max:q});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=q)}},scrolling:function(){var a=this.vScrollInstance.isScrolling(),b=this.hScrollInstance.isScrolling();return{vertical:a,horizontal:b}},_renderhorizontalscroll:function(){var a=this.hScrollInstance,b=a.value;"hidden"===this.hScrollBar.css("visibility")&&(a.value=0,b=0);var c=parseInt(b);if(null!=this.table){var d=this.table[0].rows.length,e=this.columnsrow,f=this.groupable&&this.groups.length>0?this.groups.length:0,g=this.columns.records.length-f,h=this.columns.records,i=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(c=a.max-c),i&&!this._haspinned){for(var j=0;j<d;j++)for(var k=this.table[0].rows[j],l=0;l<f+g;l++){var m=k.cells[l];if(void 0!=m){var n=h[l];if(n.pinned&&(m.style.marginLeft=c+"px",0==j)){var o=e[0].cells[l];o.style.marginLeft=c+"px"}}}this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px"}else if(this._haspinned||void 0==this._haspinned){for(var j=0;j<d;j++)for(var k=this.table[0].rows[j],l=0;l<f+g;l++){var m=k.cells[l];if(void 0!=m){var n=h[l];if(n.pinned){if(0==c&&""==m.style.marginLeft)continue;var p=null,q=null,r=null;if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(r=this.addnewrowtop[0].cells[l]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(q=this.filterrow[0].cells[l]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[l]),this.rtl){if(m.style.marginLeft=-parseInt(b)+"px",0==j){var o=e[0].cells[l];o.style.marginLeft=-parseInt(b)+"px",p&&(p.style.marginLeft=-parseInt(b)+"px"),q&&(q.style.marginLeft=-parseInt(b)+"px"),r&&(r.style.marginLeft=-parseInt(b)+"px")}}else if(m.style.marginLeft=c+"px",0==j){var o=e[0].cells[l];o.style.marginLeft=c+"px",p&&(p.style.marginLeft=c+"px"),q&&(q.style.marginLeft=c+"px"),r&&(r.style.marginLeft=c+"px")}}}}if(this.table[0].style.marginLeft=-c+"px","hidden"!==this.hScrollBar.css("visibility"))e[0].style.marginLeft=-c+"px";else{for(var s=e[0].cells,j=0,t=s.length;j<t;j++)if(h[j].pinned){var u=parseInt(s[j].style.marginLeft);isNaN(u)||(s[j].style.marginLeft=u-this.befScrollVal+"px")}this.befScrollVal=0,e[0].style.marginLeft=this.befScrollVal+"px"}}else 0==this._haspinned&&(this.table[0].style.marginLeft=-c+"px",e[0].style.marginLeft=-c+"px");if(this.showaggregates&&this.statusbar[0].cells){var v=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(v=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-c+v+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-c+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-c+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var b=0;b<this._rowdetailselementscache.length;b++)a(this._rowdetailselementscache[b]).css("display","none")},_getvisualcolumnsindexes:function(a,b,c,d,e,f){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:c+d};var g=0,h=-1,i=c+d,j=!1;if(this.autorowheight)return{start:0,end:c+d};if(!e)for(var k=0;k<c+d;k++){if(j||this.columns.records[k].pinned&&f&&(j=!0),this.columns.records[k].hidden||(g+=this.columns.records[k].width),g>=a&&h==-1&&(h=k),g>b+a){i=k;break}}return i++,i>c+d&&(i=c+d),(h==-1||j)&&(h=0),{start:h,end:i}},_getvirtualcolumnsindexes:function(a,b,c,d,e){if(this.rtl||this.editcell||this.exporting)return{start:0,end:c+d};var f=0,g=-1,h=c+d;if(this.autorowheight)return{start:0,end:c+d};if(!e)for(var i=0;i<c+d;i++){if(this.columns.records[i].hidden||(f+=this.columns.records[i].width),f>=a&&g==-1&&(g=i),f>b+a){h=i;break}}return h++,h>c+d&&(h=c+d),g==-1&&(g=0),{start:g,end:h}},_getfirstvisualrow:function(){var a=this.vScrollInstance,b=a.value,c=parseInt(b);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(c=0),!this.pageable){var d=this._findvisiblerow(c,this._pageviews);if(d==-1)return null;d!=this.dataview.pagenum?(this.dataview.pagenum=d,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var e=this._findvisiblerow(c,this._pagescache[this.dataview.pagenum]),f=this._pagescache[this.dataview.pagenum];if(f&&f[0])return f[e]},_rendervisualrows:function(){if(this.virtualsizeinfo){var b=this.vScrollInstance,c=this.hScrollInstance,d=b.value,e=c.value,f=parseInt(d),g=parseInt(e),h=this._gettableheight(),i=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(h+=29),"deferred"==this.scrollmode&&0!=this._newmax&&f>this._newmax&&null!=this._newmax&&(f=this._newmax);var j=b.isScrolling()||c.isScrolling()||this._keydown,k=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(f=0),!this.pageable){var l=this._findvisiblerow(f,this._pageviews);if(l==-1)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();l!=this.dataview.pagenum?(this.dataview.pagenum=l,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var m=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var n=this.columns.records.length-m,o=this._findvisiblerow(f,this._pagescache[this.dataview.pagenum]),p=this._pagescache[this.dataview.pagenum],q=o;q<0&&(q=0);var r=0,s=0,t=0,u=0,v=this.virtualsizeinfo.visiblerecords,w=this.groupable?this.groups.length:0,x=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(x+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(v=this.dataview.pagesize),k&&(x=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(x+=" "+this.toTP("jqx-touch")),this.autorowheight&&(x+=" jqx-grid-cell-wrap");var y=this.rowsheight,z=this._rendercell,A=!0,B=this._getvisualcolumnsindexes(g,i,m,n,k,!0),C=B.start,D=B.end,E=this._getvirtualcolumnsindexes(g,i,m,n,k),F=E.start,G=E.end;a.jqx.browser.msie&&a.jqx.browser.version<9;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(q=0),q>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=p?p[q].bounddata.boundindex:0,this._startvisibleindex=null!=p?p[q].bounddata.visibleindex:0;var H=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var I=function(a){return!(!a.parentNode||"#document-fragment"==a.parentNode.nodeName)},J=0;J<H.length;J++){for(var K=H[J],L=0;L<F;L++){var M=L;if(!this.columns.records[M].pinned&&null!=this.columns.records[M].datafield){var N=K.cells[M];I(N)&&N.parentNode.removeChild(N);var O=this.columns.records[M].element;this.columns.records[M]._rendered=!1,I(O)&&this.columnsrow[0].removeChild(O),this.filterrow&&I(this.filterrow[0].cells[M])&&this.columns.records[M].filterable&&this.filterrow[0].cells[M].parentNode.removeChild(this.filterrow[0].cells[M])}}for(var L=G;L<this.columns.records.length;L++){var M=L;if(!this.columns.records[M].pinned&&null!=this.columns.records[M].datafield){var N=K.cells[M];I(N)&&N.parentNode.removeChild(N);var O=this.columns.records[M].element;this.columns.records[M]._rendered=!1,I(O)&&this.columnsrow[0].removeChild(O),this.filterrow&&I(this.filterrow[0].cells[M])&&this.columns.records[M].filterable&&this.filterrow[0].cells[M].parentNode.removeChild(this.filterrow[0].cells[M])}}for(var L=F;L<G;L++){var M=L,N=K.cells[M];I(N)||K.appendChild(N);var O=this.columns.records[M].element;this.columns.records[M]._rendered=!0,I(O)||this.columnsrow[0].appendChild(O),this.filterrow&&!I(this.filterrow[0].cells[M])&&this.columns.records[M].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[M])}}for(var P=0;P<v&&s<v;P++){var Q,R={start:this._previsualcolumnsindexes.start,end:this._previsualcolumnsindexes.end};if(Q=P<=this._pinnedrow?void 0!=p?p[P]:null:void 0!=p?p[q+P]:null,null==Q){if(q=-P,this._pagescache[this.dataview.pagenum+1])p=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var S=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){p=void 0;break}this.dataview.pagenum++,p=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),p=this._pagescache[this.dataview.pagenum])}while(void 0==p&&this.dataview.pagenum<S)}void 0!=p&&(Q=p[q+P])}if(null!=Q){if(Q.hidden)continue;if(this._endboundindex=this._startboundindex+P,this._endvisibleindex=this._startvisibleindex+P,0==P){var T=Q.top;this._pinnedrow>=0&&(T=q*Q.height);for(var U=Math.abs(f-T),J=0;J<=this._pinnedrow;J++){var V=this.table[0].rows[J];V.style.top=U+"px"}this.table[0].style.top=-U+"px",u=-U}var K=this.table[0].rows[s];if(!K)continue;parseInt(K.style.height)!=Q.height&&(K.style.height=parseInt(Q.height)+"px"),t+=Q.height;var W=this.rowdetails&&Q.rowdetails,X=!Q.rowdetailshidden;W&&X&&(K.style.height=parseInt(Q.height-Q.rowdetailsheight)+"px",v++);var Y=this._isrowselected(A,Q);if(this.enhancedRendering){var N,Z=B.start-R.start;if(Z<-this._nonVisibleColumnCount){for(var J=R.end-1;J>=B.end+this._nonVisibleColumnCount;J--)N=K.cells[J],N.style.display="none";R.start=B.start,R.end=B.end+this._nonVisibleColumnCount}else if(Z>this._nonVisibleColumnCount){for(var J=R.start;J<B.start-this._nonVisibleColumnCount;J++)N=K.cells[J],N.style.display="none";R.start=B.start-this._nonVisibleColumnCount,R.end=B.end}}for(var L=C;L<D;L++){var M=L;this._rendervisualcell(z,x,Y,W,X,k,w,K,Q,M,s,j)}if(void 0!=Q.group&&this._rendergroup&&this._rendergroup(w,K,Q,m,n,s,i),this.autorowheight&&(this.autoheight||this.pageable)){for(var y=this.rowsheight,L=C;L<D;L++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[L].datafield&&this.editcell.row==this.getboundindex(Q)&&this.editcell.editor?y=Math.max(y,this.editcell.editor.height()):K.cells[L].firstChild&&(y=Math.max(y,8+parseInt(K.cells[L].firstChild.offsetHeight)));K.style.height=parseInt(y)+"px",this.heights[this._startboundindex+P]=y,W&&X&&(y+=Q.rowdetailsheight),Q.height=y}if(this.visiblerows[this.visiblerows.length]=Q,this.hittestinfo[this.hittestinfo.length]={row:Q,visualrow:K,details:!1},W&&X){s++;var K=this.table[0].rows[s];this._renderrowdetails(x,K,Q,m,n,s),this.visiblerows[this.visiblerows.length]=Q,this.hittestinfo[this.hittestinfo.length]={row:Q,visualrow:K,details:!0}}if(!this.autorowheight&&t+u>=h)break}else cansetheight=!0,this._clearvisualrow(g,k,s,m,n),t+r+u<=h&&(r+=y);s++}if(this._previsualcolumnsindexes.start=R.start,this._previsualcolumnsindexes.end=R.end,this._horizontalvalue=g,r>0&&"visible"==this.vScrollBar[0].style.visibility){var $=(parseInt(this.table.css("top")),this._pageviews[this._pageviews.length-1]),_=b.max,aa=$.top+$.height-h;"visible"==this.hScrollBar.css("visibility")&&(aa+=this.scrollbarsize+20),_==aa||this.autorowheight||aa>=0&&("deferred"!=this.scrollmode?(b.max=aa,b.setPosition(b.max)):this._newmax!=aa&&(this._newmax=aa,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var ba=0,ca=0,J=0;J<this.visiblerows.length;J++){var V=this.visiblerows[J];V.top=ba,ba+=V.height,ca+=V.height;var W=this.rowdetails&&V.rowdetails,X=!V.rowdetailshidden,K=this.table[0].rows[J];W&&X&&J++;for(var L=C;L<D;L++){var da=this.columns.records[L];if(!da.hidden&&!da.cellsrenderer){var ea=K.cells[L],fa=0;if(ea.firstChild){var fa=(V.height-parseInt(ea.firstChild.offsetHeight)-8)/2;if(W&&X)var fa=(V.height-V.rowdetailsheight-a(ea.firstChild).height()-8)/2}else var fa=(V.height-parseInt(a(ea).height())-8)/2;if(fa>=0&&(fa=parseInt(fa)+4,ea.firstChild&&ea.firstChild.className.indexOf("jqx-grid-groups-row")==-1&&"checkbox"!=da.columntype&&"button"!=da.columntype)){if(this.editable&&this.editcell&&this.editcell.column==da.datafield&&this.editcell.row==this.getboundindex(V))continue;ea.firstChild.style.marginTop=fa+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=ca),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){var ga=this;a.each(ga.toCompile,function(b,c){if(this.compiled)return!0;var d=this.cell;return!d||(a.jqx.angularCompile&&a.jqx.angularCompile(d,"<div>"+this.value+"</div>"),void(this.compiled=!0))})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var b=this.table[0].rows[0];if(b)for(var c=!1,d=0;d<b.cells.length;d++){var e=a(b.cells[d]);"none"==e.css("display")||c||e.width()!=this.host.width()&&e.text()!=this.gridlocalization.emptydatastring||(e[0].checkbox=null,e[0].button=null,c=!0,e[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var b=!1,c=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var d=this.table[0].rows[0];this.table[0].style.top="0px";for(var e=0;e<d.cells.length;e++){var f=a(d.cells[e]);if(!(this.columns.records[e].hidden&&"none"==f.css("display")||b)){f.css("display","block"),f[0].checkbox=null,f[0].button=null,f[0].className=c,b=!0,f[0].innerHTML="";var g=a("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");g.text(this.gridlocalization.emptydatastring),f.append(g);var h=0;this.oldhscroll||(h=parseInt(this.table[0].style.marginLeft),this.rtl&&(f.css("z-index",999),f.css("overflow","visible"))),g.css("left",-h-g.width()/2),g.css("top",this._gettableheight()/2-g.height()/2),a.jqx.browser.msie&&a.jqx.browser.version<8&&(g.css("margin-left","0px"),g.css("left",this.host.width()/2-g.width()/2));var i=Math.abs(parseInt(this.table[0].style.top));isNaN(i)&&(i=0),a(d).height(this._gettableheight()+i),f.css("margin-left","0px"),f.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}f.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var a=this.virtualsizeinfo.visiblerecords,b=this.hScrollInstance,c=b.value,d=parseInt(c),e=this.groupable&&this.groups.length>0;if(this.columns.records)for(var f=0;f<a;f++)this._clearvisualrow(d,e,f,0,this.columns.records.length)},_iscellselected:function(a,b,c){var d=!1,e=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(e=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var f=this.getrowboundindexbyid(b.bounddata.uid);if(f!=-1){for(var g in this.selectedcells)g==f+"_"+c&&(d=!0);return d}return!1}if(a&&null!=b.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||void 0==b.bounddata.dataindex)for(var g in this.selectedcells)g==e+b.bounddata.boundindex+"_"+c&&(d=!0);else for(var g in this.selectedcells)g==e+b.bounddata.dataindex+"_"+c&&(d=!0);else for(var g in this.selectedcells)if(g==e+b.bounddata.boundindex+"_"+c){d=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||void 0==b.bounddata.dataindex){for(var g in this.selectedcells)if(g==e+b.bounddata.boundindex+"_"+c){d=!0;break}}else for(var g in this.selectedcells)if(g==e+b.bounddata.dataindex+"_"+c){d=!0;break}}else for(var g in this.selectedcells)if(g==e+b.bounddata.boundindex==this.selectedrowindex){d=!0;break}return d},_isrowselected:function(a,b){var c=!1,d=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(d=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var e=this.getrowboundindexbyid(b.bounddata.uid);return void 0!=e&&e!=-1&&(this.selectedrowindexes.indexOf(e)!=-1&&(c=!0),c||(c=e==this.selectedrowindex&&this.selectedrowindex!=-1),c)}return a&&null!=b.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||void 0==b.bounddata.dataindex?this.selectedrowindexes.indexOf(d+b.bounddata.boundindex)!=-1&&(c=!0):this.selectedrowindexes.indexOf(d+b.bounddata.dataindex)!=-1&&(c=!0):this.selectedrowindexes.indexOf(d+b.bounddata.boundindex)!=-1&&(c=!0):this.dataview.filters.length>0?this.virtualmode||void 0==b.bounddata.dataindex?this.selectedrowindexes.indexOf(d+b.bounddata.boundindex)!=-1&&(c=!0):this.selectedrowindexes.indexOf(d+b.bounddata.dataindex)!=-1&&(c=!0):d+b.bounddata.boundindex==this.selectedrowindex&&(c=!0)),c},_rendervisualcell:function(b,c,d,e,f,g,h,i,j,k,l,m){var n=this.columns.records[k];if(n.hidden){var o=i.cells[k];return void(o.innerHTML="")}var p=this._getcellvalue(n,j),o=i.cells[k],q=c;if("none"==o.style.display&&(o.style.display="inline"),this.selectionmode.indexOf("cell")==-1&&"checkboxextended"!=this.selectionmode||"checkboxextended"==this.selectionmode&&1==d||(d=this.dataview.filters.length>0?!!this.selectedcells[j.bounddata.dataindex+"_"+n.datafield]:!!this.selectedcells[j.boundindex+"_"+n.datafield],this.editcell&&this.editcell.row===j.boundindex&&this.editcell.column===n.datafield&&"checkbox"!==n.columntype&&(d=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(d=this._iscellselected(!0,j,n.datafield))),""!=n.cellclassname&&n.cellclassname)if("string"==typeof n.cellclassname)q+=" "+n.cellclassname;else{var r=n.cellclassname(this.getboundindex(j),n.datafield,p,j.bounddata);r&&(q+=" "+r)}var s=this.showsortcolumnbackground&&this.sortcolumn&&n.displayfield==this.sortcolumn;if(s&&(q+=" "+this.toTP("jqx-grid-cell-sort")),n.filter&&this.showfiltercolumnbackground&&(q+=" "+this.toTP("jqx-grid-cell-filter")),j.bounddata.totalsrow&&(q+=" "+this.toTP("jqx-grid-cell-pinned")),(n.pinned&&this.showpinnedcolumnbackground||n.grouped)&&(g?j.bounddata.totalsrow||(q+=" "+this.toTP("jqx-grid-cell-pinned")):q+=" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==j.group){var t=j.visibleindex;t>=this.altstart&&(this.altstart+t)%(1+this.altstep)==0&&(q+=s?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),n.filter&&this.showfiltercolumnbackground&&(q+=" "+this.toTP("jqx-grid-cell-filter-alt")),n.pinned&&this.showpinnedcolumnbackground&&(q+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(k<=h){if(g||this.rowdetails||this.pageable&&this.virtualmode){var u=a(o),v=this.columns.records[k].width;o.style.width!=parseInt(v)+"px"&&u.width(v)}}else if((g||this.rowdetails)&&this._hiddencolumns){var u=a(o),v=this.columns.records[k].width;parseInt(o.style.width)!=v&&u.width(v)}var w=!0;if(this.rowdetails&&e&&(f&&!g?q+=" "+this.toTP("jqx-grid-details-cell"):g&&(q+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==j.group&&k==i.cells.length-h-1){var x=this.toThemeProperty("jqx-icon-arrow-down");if(f)q+=" "+this.toTP("jqx-grid-group-expand-rtl"),q+=" "+x;else{q+=" "+this.toTP("jqx-grid-group-collapse-rtl");var x=this.toThemeProperty("jqx-icon-arrow-left");q+=" "+x}return w=!1,o.title="",o.innerHTML="",void(o.className!=q&&(o.className=q))}}else if(void 0==j.group&&k==h&&!j.bounddata.totalsrow){var x=this.toThemeProperty("jqx-icon-arrow-down");if(f)q+=" "+this.toTP("jqx-grid-group-expand"),q+=" "+x;else{q+=" "+this.toTP("jqx-grid-group-collapse");var x=this.toThemeProperty("jqx-icon-arrow-right");q+=" "+x}return w=!1,o.title="",o.innerHTML="",void(o.className!=q&&(o.className=q))}return d&&w&&k>=h&&(q+=" "+this.toTP("jqx-grid-cell-selected"),q+=" "+this.toTP("jqx-fill-state-pressed")),o.className!=q&&(o.className=q),void 0!=j.group?(p="",o.title="",void(o.innerHTML="")):void b(this,n,j,p,o,m)},_rendercell:function(c,d,e,f,g,h){var i=f+"_"+d.visibleindex;if("number"==d.columntype||null!=d.cellsrenderer)var i=e.uniqueid+"_"+d.visibleindex;if("number"==d.columntype&&(f=e.visibleindex),c.editcell&&void 0==c.editrow)if("selectedrow"==c.editmode&&d.editable&&c.editable){if(c.editcell.row==c.getboundindex(e)&&c._showcelleditor)return void(c.hScrollInstance.isScrolling()||c.vScrollInstance.isScrolling()?c._showcelleditor(c.editcell.row,d,g,!1,!1):c._showcelleditor(c.editcell.row,d,g,c.editcell.init))}else if(c.editcell.row==c.getboundindex(e)&&c.editcell.column==d.datafield&&(c.editcell.element=g,c.editcell.editing&&c._showcelleditor))return void(c.hScrollInstance.isScrolling()||c.vScrollInstance.isScrolling()?c._showcelleditor(c.editcell.row,d,c.editcell.element,c.editcell.init,!1):c._showcelleditor(c.editcell.row,d,c.editcell.element,c.editcell.init));var j=c._defaultcellsrenderer(f,d),k=c._cellscache[i];if(k){if("checkbox"==d.columntype){if(c.host.jqxCheckBox){""===f&&(f=null);var l=b.createModule("exboolean",f,d.checkboxextensionvalue),m=0==g.innerHTML.toString().length;if(!g.checkbox||c.groupable||m?c._rendercheckboxcell(c,g,d,e,f):(g.checkboxrow=c.getboundindex(e),d.checkboxcolumn&&(l.setboolean(!1),c.dataview.filters.length>0&&!c.virtualmode&&void 0!=e.bounddata.dataindex?c.selectedrowindexes.indexOf(e.bounddata.dataindex)!=-1&&l.setboolean(!0):c.selectedrowindexes.indexOf(e.bounddata.boundindex)!=-1&&l.setboolean(!0)),f=l.val(),c.disabled||(g.checkboxinstance?g.checkboxinstance._setState(l.getboolean()):g.checkbox.jqxCheckBox("_setState",l.getboolean()))),null!=d.cellsrenderer){var n=d.cellsrenderer(c.getboundindex(e),d.datafield,f,j,d.getcolumnproperties(),e.bounddata);void 0!=n&&(g.innerHTML=n)}return}}else if("button"==d.columntype&&c.host.jqxButton)return""==f&&(f=!1),null!=d.cellsrenderer&&(f=d.cellsrenderer(c.getboundindex(e),d.datafield,f,j,d.getcolumnproperties(),e.bounddata)),""==g.innerHTML&&(g.buttonrow=c.getboundindex(e),g.button=null,c._renderbuttoncell(c,g,d,e,f)),void(g.button&&!c.groupable?(g.buttonrow=c.getboundindex(e),g.button.val(f)):c._renderbuttoncell(c,g,d,e,f));if(d.createwidget){if(""==g.innerHTML&&(g.widgetrow=c.getboundindex(e),g.widget=null,c._renderwidgetcell(c,g,d,e,f)),g.widget&&!c.groupable){if(g.widgetrow=c.getboundindex(e),!d.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");d.initwidget(c.getboundindex(e),d.datafield,f,g.firstChild)}else c._renderwidgetcell(c,g,d,e,f);return}var o=k.element;if(null!=d.cellsrenderer||g.childNodes&&0==g.childNodes.length||c.groupable||c.rowdetails)g.innerHTML!=o&&(g.innerHTML=o);else if(g.innerHTML.indexOf("editor")>=0)g.innerHTML=o;else if(h){var p=o.indexOf(">"),q=o.indexOf("</"),r=o.substring(p+1,q),s=g.childNodes[0];if(r.indexOf(">")>=0)g.innerHTML=o;else if(s.childNodes&&s.childNodes.length>1)g.innerHTML=o;else if(s.childNodes[0])r!=s.childNodes[0].nodeValue&&(r.indexOf("&")>=0?g.innerHTML=o:s.childNodes[0].nodeValue=r);else{var t=document.createTextNode(r);s.appendChild(t)}}else g.innerHTML!=o&&(g.innerHTML=o);return void(c.enabletooltips&&d.enabletooltips&&(g.title=k.title))}if("checkbox"==d.columntype)return c._rendercheckboxcell(c,g,d,e,f),c._cellscache[i]={element:"",title:f},void(c.enabletooltips&&d.enabletooltips&&(g.title=""+f));if("button"==d.columntype)return null!=d.cellsrenderer&&(f=d.cellsrenderer(c.getboundindex(e),d.datafield,f,j,d.getcolumnproperties(),e.bounddata)),c._renderbuttoncell(c,g,d,e,f),c._cellscache[i]={element:"",title:f},void(c.enabletooltips&&d.enabletooltips&&(g.title=""+f));if("number"==d.columntype&&(f=e.visibleindex),d.createwidget)return null!=d.cellsrenderer&&(f=d.cellsrenderer(c.getboundindex(e),d.datafield,f,j,d.getcolumnproperties(),e.bounddata)),c._renderwidgetcell(c,g,d,e,f),c._cellscache[i]={element:"",title:f},void(c.enabletooltips&&d.enabletooltips&&(g.title=f));var o=null;if(null!=d.cellsrenderer){if(o=d.cellsrenderer(c.getboundindex(e),d.datafield,f,j,d.getcolumnproperties(),e.bounddata),
o&&(o.indexOf("<jqx-")>=0||o.indexOf(" ng-")>=0))return void(c.toCompile&&c.toCompile.push({cell:g,value:o,row:c.getboundindex(e)}))}else o=j;null==o&&(o=j);var u=f;if(c.enabletooltips&&d.enabletooltips&&(""!=d.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(f)?u=a.jqx.dataFormat.formatdate(u,d.cellsformat,c.gridlocalization):a.jqx.dataFormat.isNumber(f)&&(u=a.jqx.dataFormat.formatnumber(u,d.cellsformat,c.gridlocalization))),g.title=u),c.WinJS)a(g).html(o);else{var v=g.innerHTML;if(v.indexOf("editor")>=0||null!=d.cellsrenderer||c.groupable||c.virtualmode)g.innerHTML=o;else if(v.length>0){var p=o.indexOf(">"),q=o.indexOf("</"),r=o.substring(p+1,q),s=g.childNodes[0];if(r.indexOf(">")>=0)g.innerHTML=o;else if(s.childNodes[0])r!=s.childNodes[0].nodeValue&&(r.indexOf("&")>=0||v.indexOf("span")>=0?g.innerHTML=o:s.childNodes[0].nodeValue=r);else{var t=document.createTextNode(r);s.appendChild(t)}}else v!=o&&(g.innerHTML=o)}return c._cellscache[i]={element:g.innerHTML,title:u},!0},_isIE10:function(){if(void 0==this._browser){var b=a.jqx.utilities.getBrowser();if("msie"==b.browser&&parseInt(b.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==b.browser){var c="Browser CodeName: "+navigator.appCodeName;c+="Browser Name: "+navigator.appName,c+="Browser Version: "+navigator.appVersion,c+="Platform: "+navigator.platform,c+="User-agent header: "+navigator.userAgent,c.indexOf("Zune 4.7")!=-1&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(b,c,d,e,f){a(c);c.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(c,d,e,f,g){if(c.host.jqxCheckBox){var h=a(d);""===g&&(g=!!e.threestatecheckbox&&null),null!==g||e.threestatecheckbox||(g=!1);var i=b.createModule("exboolean",g,e.checkboxextensionvalue);if(e.checkboxcolumn){var j=this.getboundindex(f);i.setboolean(!1),this.selectedrowindexes.indexOf(j)!=-1&&i.setboolean(!0)}if(g=i.val(),0==h.find(".jqx-checkbox").length){d.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',a(d.firstChild).jqxCheckBox({enableValueExtension:!0,setExtensionValue:e.checkboxextensionvalue,disabled:c.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:e.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:c.theme,checked:g}),this.enabletooltips&&e.enabletooltips&&(d.title=""+g),this.editable&&e.editable&&a(d.firstChild).jqxCheckBox({locked:!1}),e.checkboxcolumn&&a(d.firstChild).jqxCheckBox({locked:!1}),d.checkbox=a(d.firstChild),d.checkboxinstance=d.checkbox.data().jqxCheckBox.instance,d.checkboxrow=this.getboundindex(f);var k=a.data(d.firstChild,"jqxCheckBox").instance;k.updated=function(b,f,g){var h=g;if(c.disabled){f=g;for(var i=c.table[0].rows.length,j=c._getcolumnindex(e.datafield),k=0;k<i;k++){var l=c.table[0].rows[k].cells[j].firstChild;l&&a(l).jqxCheckBox({disabled:c.disabled})}}if(e.editable&&!c.disabled){var i=c.table[0].rows.length,j=c._getcolumnindex(e.datafield);if(void 0==c.editrow){if(e.cellbeginedit){var m=e.cellbeginedit(d.checkboxrow,e.datafield,e.columntype,h);if(0==m)return void c.setcellvalue(d.checkboxrow,e.datafield,h,!0)}if(e.cellvaluechanging){var n=e.cellvaluechanging(d.checkboxrow,e.datafield,e.columntype,g,f);void 0!=n&&(f=n)}if("selectedrow"!==c.editmode)for(var k=0;k<i;k++){var l=c.table[0].rows[k].cells[j].firstChild;l&&a(l).jqxCheckBox("destroy")}if(c.editcell&&0==c.editcell.validated)c.setcellvalue(d.checkboxrow,e.datafield,h,!0);else if("selectedrow"!==c.editmode||null==c.editcell){var o=c.getrowdata(d.checkboxrow);c._raiseEvent(17,{rowindex:d.checkboxrow,row:o,datafield:e.datafield,value:g,columntype:e.columntype}),c.setcellvalue(d.checkboxrow,e.datafield,f,!0),c._raiseEvent(18,{rowindex:d.checkboxrow,row:o,datafield:e.datafield,oldvalue:g,value:f,columntype:e.columntype})}else c.setcellvalue(d.checkboxrow,e.datafield,f,!1,!1);e.cellendedit&&e.cellendedit(d.checkboxrow,e.datafield,e.columntype,f)}}else e.checkboxcolumn&&(c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),c.disabled||(f?(c.selectedcells=[],c.selectrow(d.checkboxrow)):c.unselectrow(d.checkboxrow),c.autosavestate&&c.savestate&&c.savestate()))}}else d.checkboxrow=this.getboundindex(f),a(d.firstChild).jqxCheckBox("_setState",i.getboolean(),!(this.editable&&e.editable||e.checkboxcolumn))}},_renderwidgetcell:function(b,c,d,e,f){var g=a(c);if(0==g.find(".jqx-grid-widget").length){var h='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>';c.innerHTML=h,d.createwidget(e,d.datafield,f,c.firstChild),a(c.firstChild).attr("hideFocus","true"),a(c.firstChild).children().addClass("jqx-grid-widget"),c.widget=a(c.firstChild),c.widgetrow=b.getboundindex(e)}else d.initwidget(b.getboundindex(e),d.datafield,f,c.firstChild),c.widgetrow=b.getboundindex(e),a(c.firstChild).val(f)},_renderbuttoncell:function(b,c,d,e,f){if(b.host.jqxButton){var g=a(c);if(""==f&&(f=!1),0==g.find(".jqx-button").length){c.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',a(c.firstChild).val(f),a(c.firstChild).attr("hideFocus","true"),a(c.firstChild).jqxButton({disabled:b.disabled,theme:b.theme,height:b.rowsheight-4,width:d.width-4}),c.button=a(c.firstChild),c.buttonrow=b.getboundindex(e);var h=this.isTouchDevice();if(h){var i=a.jqx.mobile.getTouchEventName("touchend");b.addHandler(a(c.firstChild),i,function(a){d.buttonclick&&d.buttonclick(c.buttonrow,a)})}else b.addHandler(a(c.firstChild),"click",function(a){d.buttonclick&&d.buttonclick(c.buttonrow,a)})}else c.buttonrow=b.getboundindex(e),a(c.firstChild).val(f)}},_clearvisualrow:function(b,c,d,e,f){var g=this.toTP("jqx-grid-cell");c&&(g=" "+this.toTP("jqx-grid-group-cell")),g+=" "+this.toTP("jqx-grid-cleared-cell");for(var h=this.table[0].rows,i=0;i<e+f;i++)if(h[d]){var j=h[d].cells[i];j.className!=g&&(j.className=g);var k=this.columns.records[i];if(this._horizontalvalue!=b&&!k.pinned&&1==this.oldhscroll){j.style.marginLeft=-b+"px"}var l=k.width;l<k.minwidth&&(l=k.minwidth),l>k.maxwidth&&(l=k.maxwidth),parseInt(j.style.width)!=l&&("auto"!=l?a(j)[0].style.width=l+"px":a(j)[0].style.width=l),""!=j.title&&(j.title=""),""!=j.innerHTML&&(j.innerHTML="")}h[d]&&parseInt(h[d].style.height)!=this.rowsheight&&(h[d].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(a){var b=this._findgroup(a);return null!=b&&b.expanded},_findgroup:function(a){var b=null;return this.expandedgroups[a]?this.expandedgroups[a]:b},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(b){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[b])return this._columnsbydatafield[b];var c=b,d=null;return a.each(this.columns.records,function(){if(this.datafield==b||this.displayfield==b)return c=this.text,d=this,!1}),this._columnsbydatafield[b]={label:c,column:d},this._columnsbydatafield[b]},_getcolumnbydatafield:function(b){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[b])return this.__columnsbydatafield[b];var c=b,d=null;return a.each(this.columns.records,function(){if(this.datafield==b||this.displayfield==b)return c=this.text,d=this,!1}),this.__columnsbydatafield[b]=d,this.__columnsbydatafield[b]},isscrollingvertically:function(){var a=this.vScrollBar.jqxScrollBar("isScrolling");return a},_renderrowdetails:function(b,c,d,e,f,g){if(void 0!=c){var h=a(c),i=0,j=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var k=0;k<=f;k++){var l=a(c.cells[k]);l[0].innerHTML="",l[0].className="jqx-grid-details-cell"}var l=a(c.cells[i]);if(this.enhancedRendering&&"none"==l[0].style.display)for(var m=this.columns.records,n=e,o=f;n<o;n++)m[n].hidden||(c.cells[n].style.display="");if("none"==l[0].style.display){for(var p=c.cells[i],q=2,r=i;void 0!=p&&"none"==p.style.display&&q<10;)p=c.cells[r+q-1],q++;l=a(p)}if(this.rtl)for(var s=e;s<f;s++)c.cells[s].innerHTML="",c.cells[s].className="jqx-grid-details-cell";l.css("width","100%"),h.height(d.rowdetailsheight),l[0].className=b;var t=this.getboundindex(d),u=t+"_";if(this._rowdetailscache[u]){var v=this._rowdetailscache[u],w=v.html;if(this.initrowdetails){if(this._rowdetailscache[u].element){var x=this._rowdetailscache[u].element,y=l.coord(),z=this.gridcontent.coord(),A=parseInt(y.top)-parseInt(z.top),B=parseInt(y.left)-parseInt(z.left);this.rtl&&(B=0),a(x).css("top",A),a(x).css("left",B),a(x).css("display","block"),a(x).width(this.host.width()-j),this.layoutrowdetails&&this.layoutrowdetails(t,x,this.element,this.getrowdata(t))}}else l[0].innerHTML=w}else{l[0].innerHTML="",this.enablerowdetailsindent||(j=0);var C='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+j+'px;">'+d.rowdetails+"</div>";if(this.rtl)var C='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+j+'px;">'+d.rowdetails+"</div>";if(this._rowdetailscache[u]={id:c.id,html:C},this.initrowdetails){var x=a(C)[0];a(this.gridcontent).prepend(a(x)),a(x).css("position","absolute"),a(x).width(this.host.width()-j),a(x).height(l.height());var y=l.coord();a(x).css("z-index",9999),this.isTouchDevice()&&a(x).css("z-index",99999),a(x).addClass(this.toThemeProperty("jqx-widget-content"));var y=l.coord(),z=this.gridcontent.coord(),A=parseInt(y.top)-parseInt(z.top),B=parseInt(y.left)-parseInt(z.left);a(x).css("top",A),a(x).css("left",B),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var D=a(a(x).children()[0]);""!=D[0].id&&(D[0].id=D[0].id+t),this.initrowdetails(t,x,this.element,this.getrowdata(t)),this._rowdetailscache[u].element=x,this._rowdetailselementscache[t]=x}else l[0].innerHTML=C}}},_defaultcellsrenderer:function(b,c){""!=c.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(b)?b=a.jqx.dataFormat.formatdate(b,c.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(b)&&(b=a.jqx.dataFormat.formatnumber(b,c.cellsformat,this.gridlocalization)));var d="6px";if(28!=this.rowsheight&&(d=this.rowsheight/2-this._cellheight/2,d<0&&(d=4),d+="px"),this.enableellipsis){if("center"==c.cellsalign||"middle"==c.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+d+';">'+b+"</div>";if("left"==c.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+d+';">'+b+"</div>";if("right"==c.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+d+';">'+b+"</div>"}return"center"==c.cellsalign||"middle"==c.cellsalign?'<div style="text-align: center; margin-top: '+d+';">'+b+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+d+"; float: "+c.cellsalign+';">'+b+"</span>"},getcelltext:function(b,c){if(null==b||null==c)return null;var d=this.getcellvalue(b,c),e=this.getcolumn(c);return e&&""!=e.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(d)?d=a.jqx.dataFormat.formatdate(d,e.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(d)&&(d=a.jqx.dataFormat.formatnumber(d,e.cellsformat,this.gridlocalization))),d},getcelltextbyid:function(b,c){if(null==b||null==c)return null;var d=this.getcellvaluebyid(b,c),e=this.getcolumn(c);return e&&""!=e.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(d)?d=a.jqx.dataFormat.formatdate(d,e.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(d)&&(d=a.jqx.dataFormat.formatnumber(d,e.cellsformat,this.gridlocalization))),d},_getcellvalue:function(a,b){var c=null;return c=b.bounddata[a.datafield],null!=a.displayfield&&(c=b.bounddata[a.displayfield]),null==c&&(c=""),c},getcell:function(a,b){if(null==a||null==b)return null;if(void 0==a||a<0)return null;var c=parseInt(a),d=a,e="";return isNaN(c)||(d=this.getrowdata(c)),null!=d&&(e=d[b]),this._getcellresult(e,a,b)},getrenderedcell:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a,e="";return isNaN(c)||(d=this.getrenderedrowdata(c)),null!=d&&(e=d[b]),this._getcellresult(e,a,b)},_getcellresult:function(a,b,c){var d=this.getcolumn(c);if(null==d||void 0==d)return null;var e=d.getcolumnproperties(),f=e.hidden,g=e.width,h=e.pinned,i=e.cellsalign,j=e.cellsformat,k=this.getrowheight(b);return 0==k?null:{value:a,row:b,column:c,datafield:c,width:g,height:k,hidden:f,pinned:h,align:i,format:j}},setcellvaluebyid:function(a,b,c,d,e){var f=this.getrowboundindexbyid(a);return this.setcellvalue(f,b,c,d,e)},getcellvaluebyid:function(a,b){var c=this.getrowboundindexbyid(a);return this.getcellvalue(c,b)},setcellvalue:function(c,d,e,f,g){if(null==c||null==d)return!1;var h=parseInt(c),i=h,j=c;isNaN(h)||(j=this.getrowdata(h));var k=j[d];this.beforeSetCellValue(c,d,this.getcolumn(d).columntype,e,k)||(e=k);var l=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(l=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var m="",n="",o="";if(o=b.isObject(e)&&void 0!=e.value?e.value:e,null==j||j[d]===o)return this._updating||0==f||this._renderrows(this.virtualsizeinfo),!1;if(null!==j[d]||""!==e){var p=this._getcolumnbydatafield(d),q="string",r=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(r){var s="";a.each(r,function(){if(this.name==p.displayfield)return this.type&&(s=this.type),!1}),s&&(q=s),n=j[p.displayfield]}if(m=j[d],!p.nullable||null!=e&&""!==e&&p.nullable&&void 0===e.label){if(a.jqx.dataFormat.isNumber(m)||"number"==q||"float"==q||"int"==q||"decimal"==q&&"date"!=q)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&e&&e.indexOf&&e.indexOf(",")>=0&&(e=e.replace(",",".")),e=new Number(e),e=parseFloat(e),isNaN(e)&&(e=0);else if((a.jqx.dataFormat.isDate(m)||"date"==q)&&""!=e){var t=e;t=new Date(t),"Invalid Date"!=t&&null!=t?e=t:"Invalid Date"==t&&(t=new Date,e=t)}if(j[d]===e)return void(this._updating||0==f||this._renderrows(this.virtualsizeinfo));if("date"==q&&j[d]&&j[d].valueOf()===e.valueOf())return void(this._updating||0==f||this._renderrows(this.virtualsizeinfo))}var u=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(j[d]=e,u){var v=this.source._source.localdata;v._updating||(v._updating=!0,v[c][d]=e,v._updating=!1)}var w=this.getrenderedrowdata(h,!0);if(w){if(w[d]=e,null!=e&&null!=e.label){var p=this._getcolumnbydatafield(d);j[p.displayfield]=e.label,w[p.displayfield]=e.label,j[d]=e.value,w[d]=e.value,u&&!v._updating&&(v._updating=!0,v[c][d]=e.value,v[c][p.displayfield]=e.label,v._updating=!1)}if(l&&void 0!=j.dataindex&&(i=j.dataindex,this.dataview.cachedrecords[j.dataindex][d]=e,null!=e&&void 0!=e.label&&(this.dataview.cachedrecords[j.dataindex][d]=e.value,this.dataview.cachedrecords[j.dataindex][p.displayfield]=e.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var x=h;l&&void 0!=j.dataindex&&(x=j.dataindex);var y=this.source._source._localdata()[x];this.source.suspendKO=!0;var z=y;if(z[d]&&z[d].subscribe)null!=e&&null!=e.label?(z[p.displayfield](e.label),z[d](e.value)):z[d](e);else{var r=this.source._source.datafields,A=null;if(r&&a.each(r,function(){if(this.name==d)return A=this.map,!1}),null==A)null!=e&&null!=e.label?(z[d]=e.value,z[p.displayfield]=e.label):z[d]=e;else{var B=A.split(this.source.mapChar);if(B.length>0){for(var C=z,D=0;D<B.length-1;D++)C=C[B[D]];C[B[B.length-1]]=e}}this.source._source._localdata.replace(y,a.extend({},z))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var E=this.getsortinformation();this.sortcolumn==d&&(this.dataview.clearsortdata(),this.dataview.sortby(E.sortcolumn,E.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[d]&&(this.dataview.sortcache[d]=null);if(this._cellscache=new Array,this._pagescache=new Array,!this.source.updaterow||void 0!=g&&1!=g)var F=this.dataview.updaterow(this.getrowid(h),j,!1,!1);else{var F=!1,G=this.that,H=function(a){0==a&&(G.setcellvalue(c,d,m,!0,!1),m!=n&&G.setcellvalue(c,G.getcolumn(d).displayfield,n,!0,!1))};try{var I=this.getrowid(h);F=this.source.updaterow(I,j,H),void 0==F&&(F=!0)}catch(J){return F=!1,G.setcellvalue(c,d,m,!0,!1),void(m!=n&&G.setcellvalue(c,G.getcolumn(d).displayfield,n,!0,!1))}}var K=this.vScrollInstance.value;if(this._updating&&1!=f&&(f=!1),1==f||void 0==f){var G=this.that,L=function(){G.pageable&&G.updatepagerdetails&&(G.updatepagerdetails(),(G.autoheight||G.autorowheight)&&G._updatepageviews())},M=this.groupable&&this.groups.length>0;l&&!M?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),L(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!M?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),L(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&this.groups.indexOf(d)!=-1?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(K),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var N=this.getcolumn(d).filtertype;"list"!=N&&"checkedlist"!=N||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:c,datafield:d,newvalue:e,value:e,oldvalue:m}),!0}}},getcellvalue:function(a,b){if(null==a||null==b)return null;var c=parseInt(a),d=a;if(isNaN(c)||(d=this.getrowdata(c)),null!=d){var e=d[b];return e}return null},getrows:function(){var b=this.dataview.records.length;if(this.virtualmode){for(var c=new Array,d=0;d<this.dataview.records.length;d++){var e=this.dataview.records[d];e&&c.push(e)}void 0===this.dataview.records.length&&a.each(this.dataview.records,function(){var a=this;a&&c.push(a)});var f=0;return this.pageable&&(f=this.dataview.pagenum*this.dataview.pagesize),c.length>this.source._source.totalrecords-f?c.slice(0,this.source._source.totalrecords-f):c}if(this.dataview.sortdata){for(var c=new Array,d=0;d<b;d++){var g={};g=a.extend({},this.dataview.sortdata[d].value),c[d]=g}return c}return this.dataview.records},getrowboundindexbyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b&&b.boundindex)return this.getboundindex(b);for(var c=this.getboundrows(),d=0;d<c.length;d++)if(c[d]&&c[d].uid==a)return d;return-1},getrowdatabyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b)return b;var c=this.getrowboundindexbyid(a);return this.getboundrows()[c]},getrowdata:function(a){if(void 0==a&&(a=0),this.virtualmode){var b=this.dataview.records[a];return b}var b=this.getboundrows()[a];return b},getrenderedrowdata:function(a,b){if(void 0==a&&(a=0),this.virtualmode){var c=this.getrowvisibleindex(a),d=this.dataview.loadedrecords[c];return d}var c=this.getrowvisibleindex(a);if(c>=0){if(this.groupable&&this.groups.length>0)var d=this.dataview.loadedrecords[c];else{var d=this.dataview.loadedrecords[c];if(this.pageable&&(void 0==b||0==b))var d=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+a]}return d}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(a){for(var b=this.getdisplayrows(),c=0;c<b.length;c++)if(b[c])if(void 0!==b[c].dataindex){if(b[c].dataindex==a)return b[c].visibleindex}else if(b[c].boundindex==a)return b[c].visibleindex;return-1},getboundindex:function(a){var b=a.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&a.bounddata&&(b=this.getrowboundindexbyid(a.bounddata.uid)),this.dataview.filters.length>0&&(a.bounddata?void 0!==a.bounddata.dataindex&&(b=a.bounddata.dataindex):void 0!==a.dataindex&&(b=a.dataindex)),b},getrowboundindex:function(a){var b=this.getdisplayrows()[a];return b?void 0!==b.dataindex?b.dataindex:b.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(a){var b=this.getvisiblerows();return b?b[a]:null},getloadedrowdata:function(a){var b=this.getloadedrows();return b?b[a]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var a=[],b=0;b<this.dataview.pagesize;b++){var c=this.dataview.loadedrecords[b+this.dataview.pagesize*this.dataview.pagenum];if(void 0==c)break;a.push(c)}return a}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(var a=[],b=this._startvisibleindex;b<=this._endvisibleindex;b++){var c=this.dataview.loadedrecords[b];if(void 0==c)break;a.push(c)}return a}return this.dataview.loadedrecords},getrowid:function(a){if(void 0==a&&(a=0),this.virtualmode){var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];if(c)return c.uid}else{var c=null,d=this.dataview.filters.length>0;if(a>=0&&a<this.dataview.bounditems.length&&!d){if(this.groupable&&this.groups.length>0)var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];else var b=this.getrowvisibleindex(a),c=this.dataview.loadedrecords[b];if(c)return c.uid}if(this.dataview.filters.length>0){var c=this.getboundrows()[a];return c&&null!=c.uid?c.uid:null}}return null},_updateGridData:function(a){var b=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(b=!0),b?(this.dataview.refresh(),"updaterow"==a?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(c,d,e,f){var g=function(a,b){if(a==b)return!0;for(var c in a)if(a.hasOwnProperty&&a.hasOwnProperty(c)&&b.hasOwnProperty&&b.hasOwnProperty(c)){var d=a[c]+""==b[c]+"";if(!d)return!1}return!0};if(void 0!=c&&void 0!=d){var h=this.that,i=!1;h._datachanged=!0;var j=function(c,d,h){if(c._loading)throw new Error("jqxGrid: "+c.loadingerrormessage);var i=!1;if(a.isArray(d))a.each(d,function(a,b){i=c.dataview.updaterow(this,h[a],!1,f)}),c._cellscache=new Array,c._pagescache=new Array,c.dataview.refresh();else{var j=c.getrowdatabyid(d);c.beforeUpdateRow?c.beforeUpdateRow(d,b.copyObject(h),b.copyObject(j))&&(g(h,j)||(i=c.dataview.updaterow(d,h,void 0,f))):g(h,j)||(i=c.dataview.updaterow(d,h,void 0,f))}var k=c.vScrollInstance.value;if(void 0!=e&&1!=e||void 0!=c._updating&&0!=c._updating||c._updateGridData("updaterow"),c.showaggregates&&c._updatecolumnsaggregates&&c._updatecolumnsaggregates(),c.source&&c.source._knockoutdatasource&&!c._updateFromAdapter&&c.autokoupdates&&c.source._source._localdata){var l=c.dataview.recordsbyid["id"+d],m=c.dataview.records.indexOf(l),n=c.source._source._localdata()[m];c.source.suspendKO=!0,c.source._source._localdata.replace(n,a.extend({},l)),c.source.suspendKO=!1}var o=c.source&&c.source._source.localdata&&"observableArray"===c.source._source.localdata.name;if(o&&!c.source._source.localdata._updating){c.source._source.localdata._updating=!0;var p=c.getrowboundindexbyid(d);c.source._source.localdata.set(p,h),c.source._source.localdata._updating=!1}return c.vScrollInstance.setPosition(k),i};if(this.source.updaterow){var k=function(a){1==a||void 0==a?j(h,c,d):i=!1};try{i=this.source.updaterow(c,d,k),void 0==i&&(i=!0)}catch(l){i=!1}}else i=j(h,c,d);return i}return!1},deleterow:function(b,c){if(void 0!=b){this._datachanged=!0;var d=!1,e=this.that,f=this.getrowboundindexbyid(b),g=new Array;new Array;if(void 0!=f&&(this.selectedrowindexes.indexOf(f)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(f),1),this.selectedrowindex==f&&(this.selectedrowindex=-1),!this.virtualmode))if(e.selectionmode.indexOf("row")>=0||e.selectionmode.indexOf("checkbox")>=0)a.each(this.selectedrowindexes,function(){var a=e.getrowid(this);g.push(a)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(e.selectionmode.indexOf("cell")>=0)for(var h in e.selectedcells){var i=e.selectedcells[h],j=e.getrowid(i.rowindex);i.rowid=j}var k=function(b,d){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);var e=!1,h=b.vScrollInstance.value;if(a.isArray(d))a.each(d,function(){e=b.dataview.deleterow(this,!1)}),b._cellscache=new Array,b._pagescache=new Array,b.dataview.refresh();else var e=b.dataview.deleterow(d);if(!b.virtualmode)if(b.selectionmode.indexOf("row")>=0||b.selectionmode.indexOf("checkbox")>=0)a.each(g,function(){var a=b.getrowboundindexbyid(this);a!=-1&&b.selectrow(a,!1)});else{var i=new Array;for(var j in b.selectedcells){var k=b.selectedcells[j],l=k.rowid,m=b.getrowboundindexbyid(l);m!=-1&&(k.rowindex=m,i[m+"_"+k.datafield]=k)}b.selectedcells=i}void 0!=b._updating&&0!=b._updating||void 0!=c&&1!=c||setTimeout(function(){b._render(!0,!0,!0,!1),"visible"!=b.vScrollBar.css("visibility")&&(b._arrange(),b._updatecolumnwidths(),b._updatecellwidths(),b._renderrows(b.virtualsizeinfo))}),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.pop(rowdata),b.source.suspendKO=!1);var n=b.source&&b.source._source.localdata&&"observableArray"===b.source._source.localdata.name;if(n&&(b.source._source.localdata._updating||(b.source._source.localdata._updating=!0,b.source._source.localdata.splice(f,1),b.source._source.localdata._updating=!1)),b.dataview.sortby){var o=b.getsortinformation();o.sortcolumn&&(b.dataview.clearsortdata(),b.dataview.sortby(o.sortcolumn,o.sortdirection?o.sortdirection.ascending:null))}return b.vScrollInstance.setPosition(h),b._updateGridData(),e};if(this.source.deleterow){var l=function(a){1!=a&&void 0!=a||k(e,b)};try{this.source.deleterow(b,l),void 0==d&&(d=!0)}catch(m){d=!1}}else d=k(e,b);return d&&this._raiseEvent(27,{rowid:b}),d}return!1},addrow:function(b,c,d){if(void 0!=c){this._datachanged=!0,void 0==d&&(d="last");for(var e=!1,f=this.that,g=[],h=0,i=this.selectedrowindexes.length;h<i;h++)if(this.selectedrowindexes[h]!=-1){var j=this.getrowid(this.selectedrowindexes[h]);null===j&&void 0==j||g.push(j)}if(null==b){var k=this.dataview.filters&&this.dataview.filters.length>0,l=k?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(a.isArray(c)){var m=new Array;a.each(c,function(a,b){var d=f.dataview.getid(f.dataview.source.id,c[a],l+a);m.push(d)}),b=m}else for(b=this.dataview.getid(this.dataview.source.id,c,l);null!=this.dataview.recordsbyid["id"+b];)b++}var n=function(b,c,d,e){if(b._loading)throw new Error("jqxGrid: "+b.loadingerrormessage);var f=b.vScrollInstance.value,h=!1;a.isArray(d)?(a.each(d,function(a,d){void 0!=this.dataindex&&delete this.dataindex;var f=null;null!=c&&null!=c[a]&&(f=c[a]),h=b.dataview.addrow(f,this,e,!1)}),b._cellscache=new Array,b._pagescache=new Array,b.dataview.refresh()):(void 0!=d&&void 0!=d.dataindex&&delete d.dataindex,h=b.dataview.addrow(c,d,e)),void 0!=b._updating&&0!=b._updating||(b.selectedrowindexes=[],a.each(g,function(a,c){b.selectedrowindexes.push(b.dataview.recordsbyid["id"+c].boundindex)}),b.selectedrowindexes.length>0&&(b.selectedrowindex=b.selectedrowindexes[b.selectedrowindexes.length-1]),setTimeout(function(){b._render(!0,!0,!0,!1),b.invalidate()})),b.source&&b.source._knockoutdatasource&&!b._updateFromAdapter&&b.autokoupdates&&b.source._source._localdata&&(b.source.suspendKO=!0,b.source._source._localdata.push(d),b.source.suspendKO=!1);var i=b.source&&b.source._source.localdata&&"observableArray"===b.source._source.localdata.name;if(i&&!b.source._source.localdata._updating){b.source._source.localdata._updating=!0;var j=b.getrowboundindexbyid(c);b.source._source.localdata.set(j,d),b.source._source.localdata._updating=!1}return"deferred"!=b.scrollmode?b.vScrollInstance.setPosition(f):b.vScrollInstance.setPosition(0),h};if(this.source.addrow){var o=function(a,e){1!=a&&void 0!=a||(void 0!=e&&(b=e),n(f,b,c,d))};try{e=this.source.addrow(b,c,d,o),void 0==e&&(e=!0)}catch(p){e=!1}if(0==e)return!1}else n(this,b,c,d);return e}return!1},_findvisiblerow:function(a,b,c){void 0==a&&(a=parseInt(this.vScrollInstance.value));var d=0;void 0!=b&&null!=b||(b=this.rows.records);for(var e=b.length;d<=e;){var f=parseInt((d+e)/2),g=b[f];if(void 0==g)break;if(g.boundindex<=this._pinnedrow&&"number"==typeof c)if(g.top+c>a&&g.top+c+g.height>a)e=f-1;else{if(!(g.top+c<a&&g.top+c+g.height<a))return f;d=f+1}else if(g.top>a&&g.top+g.height>a)e=f-1;else{if(!(g.top<a&&g.top+g.height<a))return f;d=f+1}}return-1},_updatecellwidths:function(){var a=this.virtualsizeinfo;if(a){var b=this.that;if(void 0!=b.gridcontent){void 0==b.table&&(b.table=b.gridcontent.find("#contenttable"+b.element.id));var c=b.groupable&&b.groups.length>0,d=0,e=a.visiblerecords;if(b.pageable&&(b.autoheight||b.autorowheight)&&(e=b.dataview.pagesize,b.groupable&&(b.dataview.updateview(),e=b.dataview.rows.length)),b.groupable||b.pageable||!b.autoheight&&!b.autorowheight||(e=b.dataview.totalrecords),b.rowdetails&&(e+=b.dataview.pagesize),b.columns.records){for(var f=b.columns.records.length,g=b.table[0].rows,h=0;h<e;h++){var i=g[h];if(!i)break;for(var j=i.cells,k=0,l=0;l<f;l++){var m=b.columns.records[l],n=m.width,o=j[l];parseInt(o.style.left)!=k&&(o.style.left=k+"px"),parseInt(o.style.width)!=n&&(o.style.width=n+"px"),m.hidden&&m.hideable?o.style.display="none":k+=parseFloat(n)}0==d&&(b.table.width(parseFloat(k)+2),d=k)}b.showaggregates&&b._updateaggregates&&b._updateaggregates(),b.showfilterrow&&b.filterable&&b._updatefilterrowui&&b._updatefilterrowui(),b.showeverpresentrow&&b._updateaddnewrowui(),b._updatescrollbarsafterrowsprerender(),c&&b._renderrows(b.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var a=this.that,b=a.hScrollBar[0].style.visibility,c=0,d=a.vScrollBar[0].style.visibility;"visible"==d&&(c=a.scrollbarsize+3),0==a.scrollbarsize&&(c=0),a.scrollbarautoshow&&(c=0);var e=a.element.style.width;if(e=e.toString().indexOf("%")>=0?a.host.width():parseInt(e),parseInt(a.table[0].style.width)-2>e-c){if("visible"!=b&&(a.autowidth||(a.hScrollBar[0].style.visibility="visible"),a._arrange()),"visible"==d){if("deferred"==a.scrollmode||a.virtualmode)a._updatevscrollbarmax();else if(a.virtualsizeinfo){var f=a.virtualsizeinfo.virtualheight-a._gettableheight();!isNaN(f)&&f>0&&("hidden"!=b?a.vScrollBar.jqxScrollBar("max",f+a.scrollbarsize+4):a.vScrollBar.jqxScrollBar("max",f))}}else c=-2;a.hScrollBar.jqxScrollBar("max",c+a.table.width()-a.host.width())}else"hidden"!=b&&(a.hScrollBar.css("visibility","hidden"),a._arrange());a._renderhorizontalscroll()},_prerenderrows:function(b){var c=this.that;if(1==c.prerenderrequired){if(c.prerenderrequired=!1,c.editable&&c._destroyeditors&&c._destroyeditors(),void 0!=c.table&&c._destroywidgets&&c._destroywidgets(),void 0==c.gridcontent)return;c.gridcontent.find("#contenttable"+c.element.id).remove(),null!=c.table&&(c.table.remove(),c.table=null),c.table=a('<div id="contenttable'+c.element.id+'" style="overflow: hidden; position: relative;"></div>'),c.gridcontent.addClass(c.toTP("jqx-grid-content")),
c.gridcontent.addClass(c.toTP("jqx-widget-content")),c.gridcontent.append(c.table);var d=c.groupable&&c.groups.length>0,e=0;c.table[0].rows=new Array;var f=c.toTP("jqx-grid-cell");d&&(f=" "+c.toTP("jqx-grid-group-cell"));var g=b.visiblerecords;if(c.pageable&&(c.autoheight||c.autorowheight)&&(g=c.dataview.pagesize,c.groupable&&(c.dataview.updateview(),g=c.dataview.rows.length,g<c.dataview.pagesize&&(g=c.dataview.pagesize))),c.pageable||!c.autoheight&&!c.autorowheight||(g=c.dataview.totalrecords),c.groupable&&c.groups.length>0&&(c.autoheight||c.autorowheight)&&!c.pageable&&(g=c.dataview.rows.length),c.rowdetails&&(g+=c.autoheight||c.autorowheight?c.dataview.pagesize:g),!c.columns.records)return;var h=c.columns.records.length;a.jqx.browser.msie&&a.jqx.browser.version>8&&c.table.css("opacity","0.99"),a.jqx.browser.mozilla,navigator.userAgent.indexOf("Safari")!=-1&&c.table.css("opacity","0.99");var i=a.jqx.browser.msie&&a.jqx.browser.version<8;i&&c.host.attr("hideFocus","true");var j=c.tableZIndex;g*h>j&&(j=g*h);var k=(0==c.dataview.records.length,c.isTouchDevice(),"");c._hiddencolumns=!1;for(var l=0;l<g;l++){var m='<div role="row" style="position: relative; height:'+c.rowsheight+'px;" id="row'+l+c.element.id+'">';if(i){var m='<div role="row" style="position: relative; z-index: '+j+"; height:"+c.rowsheight+'px;" id="row'+l+c.element.id+'">';j--}for(var n=0,o=0;o<h;o++){var p=c.columns.records[o],q=p.width;if(q<p.minwidth&&(q=p.minwidth),q>p.maxwidth&&(q=p.maxwidth),c.rtl){var r=j-h+2*o,s='<div role="gridcell" style="left: '+n+"px; z-index: "+r+"; width:"+q+"px;";j--}else var s='<div role="gridcell" style="left: '+n+"px; z-index: "+j--+"; width:"+q+"px;";p.hidden&&p.hideable?(s+=" display: none;",c._hiddencolumns=!0,j++):(n+=q,this.enhancedRendering&&(s+="display: none;")),s+='" class="'+f+'">';var t=this._defaultcellsrenderer("",p);s+=t,s+="</div>",m+=s}0==e&&(c.table.width(parseInt(n)+2),e=n),m+="</div>",k+=m}c.WinJS?MSApp.execUnsafeLocalFunction(function(){c.table.html(k)}):c.table[0].innerHTML=k,c.table[0].rows=new Array;for(var u=c.table.children(),l=0;l<g;l++){var v=u[l];c.table[0].rows.push(v),v.cells=new Array;for(var w=a(v).children(),o=0;o<h;o++)v.cells.push(w[o])}if(0==g){var n=0;if(c.showemptyrow){var m=a('<div style="position: relative;" id="row0'+c.element.id+'"></div>');c.table.append(m),m.height(c.rowsheight),c.table[0].rows[0]=m[0],c.table[0].rows[0].cells=new Array}for(var o=0;o<h;o++){var p=c.columns.records[o],q=p.width;if(c.showemptyrow){var s=a('<div style="position: absolute; height: 100%; left: '+n+"px; z-index: "+j--+"; width:"+q+'px;" class="'+f+'"></div>');s.height(c.rowsheight),m.append(s),c.table[0].rows[0].cells[o]=s[0]}q<p.minwidth&&(q=p.minwidth),q>p.maxwidth&&(q=p.maxwidth),p.hidden&&p.hideable||(n+=q)}c.table.width(parseInt(n)+2),e=n}c._updatescrollbarsafterrowsprerender(),c.rendered&&c.rendered("rows"),c.toCompile=new Array,c._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var a=null,b=null;this.tableheight=null;var c=this.that,d=!1,e=!1;if(null!=c.width&&c.width.toString().indexOf("px")!=-1?a=c.width:void 0==c.width||isNaN(c.width)||(a=c.width),null!=c.width&&c.width.toString().indexOf("%")!=-1&&(a=c.width,d=!0),c.scrollbarautoshow&&(c.vScrollBar[0].style.display="none",c.hScrollBar[0].style.display="none",c.vScrollBar[0].style.zIndex=c.tableZIndex+c.headerZIndex,c.hScrollBar[0].style.zIndex=c.tableZIndex+c.headerZIndex),c.autowidth){for(var f=0,g=0;g<c.columns.records.length;g++){var h=c.columns.records[g].width;"auto"==h?(h=c._measureElementWidth(c.columns.records[g].text),f+=h):f+=h}"hidden"!=c.vScrollBar.css("visibility")&&(f+=c.scrollbarsize+4),a=f,c.width=a}null!=c.height&&c.height.toString().indexOf("px")!=-1?b=c.height:void 0==c.height||isNaN(c.height)||(b=c.height),null!=c.height&&c.height.toString().indexOf("%")!=-1&&(b=c.height,e=!0);var i=function(){var a=0,b=c.showheader&&null!=c.columnsheader?c.columnsheader.height()+2:0;return a+=b,c.pageable&&(a+=c.pagerheight),c._groupsheader()&&(a+=c.groupsheaderheight),c.showtoolbar&&(a+=c.toolbarheight),c.showstatusbar&&(a+=c.statusbarheight),c.showeverpresentrow&&"bottom"===c.everpresentrowposition&&(a+=c.everpresentrowheight),"visible"==c.hScrollBar[0].style.visibility&&(a+=20),a};if(c.autoheight&&c.virtualsizeinfo)if(c.pageable&&c.gotopage){var j=0;b=j+(c._pageviews[0]?c._pageviews[0].height:0),b+=i(),c.showemptyrow&&0==c.dataview.totalrecords&&(b+=c.rowsheight)}else{var j=c.host.height()-c._gettableheight();c._pageviews.length>0?(b=j+c._pageviews[c._pageviews.length-1].height+c._pageviews[c._pageviews.length-1].top,c.vScrollBar[0].style.visibility="hidden"):(b=i(),c.showemptyrow&&(b+=c.rowsheight))}else c.autoheight&&(b=c.dataview.totalrecords*c.rowsheight,c.pageable&&c.gotopage&&(b=c.pagesize*c.rowsheight),c._loading&&(b=250,c.dataloadelement.height(b)),b+=i(),b>1e4&&(b=1e4));null!=a?(a=parseInt(a),d?c.element.style.width=c.width:c.element.style.width!=parseInt(c.width)+"px"&&(c.element.style.width=parseInt(c.width)+"px"),d&&(a=c.host.width(),a<=2&&(a=600,c.host.width(a)),c._oldWidth||(c._oldWidth=a))):c.host.width(250),null!=b?(e||(b=parseInt(b)),e?c.element.style.height=c.height:c.element.style.height!=parseInt(b)+"px"&&(c.element.style.height=parseInt(b)+"px"),e&&!c.autoheight&&(b=c.host.height(),0==b&&(b=400,c.host.height(b)),c._oldHeight||(c._oldHeight=b))):c.host.height(250),c.autoheight&&(c.tableheight=null,c._gettableheight());var k=0;if(c.showtoolbar?(c.toolbar.width(a),c.toolbar.height(c.toolbarheight-1),c.toolbar.css("top",0),k+=c.toolbarheight,b-=parseInt(c.toolbarheight)):c.toolbar[0].style.height="0px",c.showstatusbar?(c.showaggregates?c.statusbar.width(c.table?Math.max(a,c.table.width()):a):c.statusbar.width(a),c.statusbar.height(c.statusbarheight)):c.statusbar[0].style.height="0px",c.showeverpresentrow&&"bottom"===c.everpresentrowposition?(c.addnewrow.width(a),c.addnewrow.height(c.everpresentrowheight)):c.addnewrow[0].style.height="0px",c._groupsheader()){c.groupsheader.width(a),c.groupsheader.height(c.groupsheaderheight),c.groupsheader.css("top",k);var l=c.groupsheader.height()+1;k+=l,b>l&&(b-=parseInt(l))}else{c.groupsheader[0].style.width!=a+"px"&&(c.groupsheader[0].style.width=parseInt(a)+"px"),c.groupsheader[0].style.height="0px",c.groupsheader[0].style.top!=k+"px"&&c.groupsheader.css("top",k);var l=c.showgroupsheader&&c.groupable?c.groupsheaderheight:0,m=k+l+"px";c.content[0].style.top!=m&&c.content.css("top",k+c.groupsheaderheight)}var n=c.scrollbarsize;isNaN(n)&&(n=parseInt(n),isNaN(n)?n="17px":n+="px"),n=parseInt(n);var o=4,p=2,q=0;"visible"==c.vScrollBar[0].style.visibility&&(q=n+o),"visible"==c.hScrollBar[0].style.visibility&&(p=n+o+2),0==n&&(q=0,p=0);var r=0;c.pageable&&(r=c.pagerheight,p+=c.pagerheight),c.showstatusbar&&(p+=c.statusbarheight,r+=c.statusbarheight),c.showeverpresentrow&&"bottom"===c.everpresentrowposition&&(p+=c.everpresentrowheight,r+=c.everpresentrowheight),c.hScrollBar[0].style.height!=n+"px"&&(c.hScrollBar[0].style.height=parseInt(n)+"px"),c.hScrollBar[0].style.top==k+b-o-n-r+"px"&&"0px"==c.hScrollBar[0].style.left||c.hScrollBar.css({top:k+b-o-n-r+"px",left:"0px"});var s=c.hScrollBar[0].style.width,t=!1,u=!1;0==q?s!=a-2+"px"&&(c.hScrollBar.width(a-2),t=!0):s!=a-n-o+"px"&&(c.hScrollBar.width(a-n-o+"px"),t=!0),c.autoheight||(c.vScrollBar[0].style.width!=n+"px"&&(c.vScrollBar.width(n),u=!0),c.vScrollBar[0].style.height!=parseInt(b)-p+"px"&&(c.vScrollBar.height(parseInt(b)-p+"px"),u=!0),c.vScrollBar[0].style.left==parseInt(a)-parseInt(n)-o+"px"&&c.vScrollBar[0].style.top==k+"px"||c.vScrollBar.css({left:parseInt(a)-parseInt(n)-o+"px",top:k})),c.rtl&&(c.vScrollBar.css({left:"0px",top:k}),"hidden"!=c.vScrollBar.css("visibility")&&c.hScrollBar.css({left:n+2}));var v=c.vScrollInstance;v.disabled=c.disabled,c.autoheight||u&&v.refresh();var w=c.hScrollInstance;w.disabled=c.disabled,t&&w.refresh(),c.autowidth&&(c.hScrollBar[0].style.visibility="hidden"),c.statusbarheight=parseInt(c.statusbarheight),c.toolbarheight=parseInt(c.toolbarheight);var x=function(a){if("visible"==a.vScrollBar[0].style.visibility&&"visible"==a.hScrollBar[0].style.visibility){a.bottomRight[0].style.visibility="visible",a.bottomRight.css({left:1+parseInt(a.vScrollBar.css("left")),top:parseInt(a.hScrollBar.css("top"))}),a.rtl&&a.bottomRight.css("left","0px"),a.bottomRight.width(parseInt(n)+3),a.bottomRight.height(parseInt(n)+4);var b=a.showeverpresentrow&&"bottom"==a.everpresentrowposition,c=b?a.everpresentrowheight:0;c>0&&!a.showaggregates&&(a.bottomRight.css("z-index",99),a.bottomRight.height(parseInt(n)+4+c),a.bottomRight.css({top:parseInt(a.hScrollBar.css("top"))-c})),a.showaggregates&&(a.bottomRight.css("z-index",99),a.bottomRight.height(parseInt(n)+4+a.statusbarheight+c),a.bottomRight.css({top:parseInt(a.hScrollBar.css("top"))-a.statusbarheight-c}))}else a.bottomRight[0].style.visibility="hidden"};if(x(this),c.content[0].style.width!=a-q+"px"&&c.content.width(a-q),c.content[0].style.height!=b-p+3+"px"&&c.content.height(b-p+3),c.scrollbarautoshow&&(c.content[0].style.width!=a+"px"&&c.content.width(a),c.content[0].style.height!=b+"px"&&c.content.height(b)),c.content[0].style.top!=k+"px"&&c.content.css("top",k),c.rtl&&(c.content.css("left",q),c.scrollbarautoshow&&c.content.css("left","0px"),c.table)){var y=c.table.width();y<a-q&&c.content.css("left",a-y)}if(c.showstatusbar&&(c.statusbar.css("top",k+b-c.statusbarheight-(c.pageable?c.pagerheight:0)),c.showaggregates&&("visible"==c.hScrollBar.css("visibility")&&(c.hScrollBar.css({top:k+b-o-n-r+c.statusbarheight+"px"}),c.statusbar.css("top",1+k+b-n-5-c.statusbarheight-(c.pageable?c.pagerheight:0))),x(this)),c.rtl&&("visible"!=c.hScrollBar.css("visibility")?c.statusbar.css("left",c.content.css("left")):c.statusbar.css("left","0px"))),c.showeverpresentrow&&"bottom"===c.everpresentrowposition&&(c.addnewrow.css("top",k+b-(c.showstatusbar?c.statusbarheight:0)-(c.pageable?c.pagerheight:0)-c.everpresentrowheight),c.rtl&&("visible"!=c.hScrollBar.css("visibility")?c.addnewrow.css("left",c.content.css("left")):c.addnewrow.css("left","0px"))),c.pageable?(c.pager.width(a),c.pager.height(c.pagerheight),c.pager.css("top",k+b-c.pagerheight-1)):c.pager[0].style.height="0px",null!=c.table){var z=-2;if("visible"==c.vScrollBar[0].style.visibility&&(z=c.scrollbarsize+3),"visible"==c.hScrollBar[0].style.visibility){var A=z+c.table.width()-c.host.width();A>=0&&c.hScrollBar.jqxScrollBar("max",A),"visible"==c.hScrollBar[0].style.visibility&&0==A&&(c.hScrollBar[0].style.visibility="hidden",c._arrange())}}a!=parseInt(c.dataloadelement[0].style.width)&&(c.dataloadelement[0].style.width=c.element.style.width),b!=parseInt(c.dataloadelement[0].style.height)&&(c.dataloadelement[0].style.height=c.element.style.height),c._hostwidth=a},_destroywidgets:function(){var b=this;a.each(this.columns.records,function(a,c){if(this.destroywidget)for(var d=b.table[0].rows,e=Math.min(b.getrows().length,d.length),f=0;f<e;f++){var g=d[f].cells[a],h=g.firstChild;void 0!=g&&null!=g&&void 0!=h&&null!=h&&null!=g.widget&&(this.destroywidget(h),g.widget=null,g.widgetrow=null)}})},destroy:function(){if(delete a.jqx.dataFormat.datescache,delete this.gridlocalization,a.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(a(window.top.document),"mouseup.grid"+this.element.id),this.editable&&this._destroyeditors&&this._destroyeditors(),void 0!=this.table&&this._destroywidgets&&this._destroywidgets(),this.table&&this.table[0]){for(var b=this.table[0].rows.length,c=0;c<b;c++){for(var d=this.table[0].rows[c],e=d.cells,f=e.length,g=0;g<f;g++)a(d.cells[g]).remove(),d.cells[g]=null,delete d.cells[g];d.cells=null,d.cells&&delete d.cells,a(this.table[0].rows[c]).remove(),this.table[0].rows[c]=null}try{delete this.table[0].rows}catch(h){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(var c=0;c<this.columns.records.length;c++){var i=this.columns.records[c];i.addnewrowwidget&&i.destroyeverpresentrowwidget&&i.destroyeverpresentrowwidget(i.addnewrowwidget),this._removecolumnhandlers(this.columns.records[c]),i.element&&(a(i.element).remove(),a(i.sortasc).remove(),a(i.sortdesc).remove(),a(i.filtericon).remove(),a(i.menu).remove(),i.element=null,i.uielement=null,i.sortasc=null,i.sortdesc=null,i.filtericon=null,i.menu=null,delete i.element,delete i.uielement,delete i.sortasc,delete i.sortdesc,delete i.filtericon,delete i.menu,delete this.columnsrow[0].cells[c])}try{delete this.columnsrow[0].cells}catch(h){}delete this.columnsrow}if(a.removeData(document.body,"contextmenu"+this.element.id),this._destroyfilterpanel&&this._destroyfilterpanel(),(this.enablePersonalize||this.enableRemotePersonalize)&&this._personalization&&this._personalization.destroy(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(a(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null,this.removeHandler(a(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(a(window),"orientationchanged.jqxgrid"+this.element.id)),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.removeHandler(this.pagershowrowscombo,"select"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(a(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(a(document),"selectstart."+this.element.id),this.removeHandler(a(document),"mousedown.resize"+this.element.id),this.removeHandler(a(document),"mouseup.resize"+this.element.id),this.removeHandler(a(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var j=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,k=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,l=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l)}if(this.removeHandler(a(document),"mousedown.reorder"+this.element.id),this.removeHandler(a(document),"mouseup.reorder"+this.element.id),this.removeHandler(a(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var j=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,k=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,l=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l)}if(this.removeHandler(a(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){var j="mousemove.grouping"+this.element.id,k="mousedown.grouping"+this.element.id,l="mouseup.grouping"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l)}if(this.columnsreorder){var j="mousemove.reorder"+this.element.id,k="mousedown.reorder"+this.element.id,l="mouseup.reorder"+this.element.id;this.removeHandler(a(document),j),this.removeHandler(a(document),k),this.removeHandler(a(document),l),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length)for(var m=this.menuitemsarray.length,c=0;c<m;c++)a(this.menuitemsarray[c]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.source&&this.source.destroy&&(this.source.destroy(),delete this.source),this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var b=this.source?this.source.datafields:null;null==b&&this.source&&this.source._source&&(b=this.source._source.datafields);var d=!!b&&b.length>0;if(this.autogeneratecolumns){var e=new Array;if(b)a.each(b,function(){var a={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};e.push(a)});else if(this.source.records.length>0){var f=this.source.records[0];for(var g in f)if("uid"!=g){var h={width:100,datafield:g,text:g};e.push(h)}}this.columns=e}if(this.columns&&this.columns.records)for(var i=0;i<this.columns.records.length;i++)this._removecolumnhandlers(this.columns.records[i]);var j=this.that,k=new a.jqx.collection(this.element),l=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&a.each(this.groups,function(a){var b=new c(j,this);b.visibleindex=l++,b.width=j.groupindentwidth,k.add(b),b.grouped=!0,b.filterable=!1,b.sortable=!1,b.editable=!1,b.resizable=!1,b.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn){var h=new c(j,this);h.visibleindex=l++,h.width=j.groupindentwidth,h.pinned=!0,h.editable=!1,h.filterable=!1,h.draggable=!1,h.groupable=!1,h.resizable=!1,k.add(h),j._haspinned=!0}if("checkbox"==this.selectionmode||"checkboxextended"==this.selectionmode){var h=new c(j,null);h.visibleindex=l++,h.width=j.groupindentwidth,h.checkboxcolumn=!0,h.editable=!1,h.columntype="checkbox",h.groupable=!1,h.draggable=!1,h.filterable=!1,h.resizable=!1,h.datafield="_checkboxcolumn",k.add(h)}var m=new Array;a.each(this.columns,function(a){if(void 0!=j.columns[a]){var b=new c(j,this);if(b.visibleindex=l++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(j._haspinned=!0),j.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(b.editable=!1,b.groupable=!1,b.draggable=!1,b.filterable=!1,b.resizable=!1,b.menu=!1)),null==this.datafield)j.source&&j.source._source&&"array"==j.source._source.datatype&&(d||(j.source._source.datafields?j.source._source.datafields.push({name:a.toString()}):(j.source._source.datafields=new Array,j.source._source.datafields.push({name:a.toString()}))),this.datafield=a.toString(),this.displayfield=a.toString(),b.datafield=this.datafield,b.displayfield=this.displayfield);else{if(m[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");m[this.datafield]=!0}k.add(b)}}),this.rtl&&k.records.reverse(),this.columns=k},_initializeRows:function(){var b=new a.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=b},_raiseEvent:function(b,c){if(void 0==c&&(c={owner:null}),this._trigger!==!1){var d=this.events[b];if(this._camelCase||(d=d.toLowerCase()),(2==b||15==b)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var e=this;setTimeout(function(){e.updateeverpresentrow()},50)}args=c,args.owner=this;var f=new a.Event(d);f.owner=this,f.args=args;var g=this.host.trigger(f);return c=f.args,g}},wheel:function(a,b){if(b.autoheight&&"visible"!=b.hScrollBar.css("visibility"))return a.returnValue=!0,!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),!!d&&(d=!1,a.returnValue=d,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){if("hidden"!=this.vScrollBar.css("visibility")){var b=this.vScrollInstance.value;a<0?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;if(b!=c)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var b=this.hScrollInstance.value;a>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max);var c=this.hScrollInstance.value;if(b!=c)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.value+this.rowsheight<=a.max?a.setPosition(parseInt(a.value)+this.rowsheight):a.setPosition(a.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.value-this.rowsheight>=a.min?a.setPosition(parseInt(a.value)-this.rowsheight):a.setPosition(a.min)}},_removeHandlers:function(){var b=this.that;b.removeHandler(a(window),"orientationchange.jqxgrid"+b.element.id),b.removeHandler(a(window),"orientationchanged.jqxgrid"+b.element.id),b.removeHandler(b.vScrollBar,"valueChanged"),b.removeHandler(b.hScrollBar,"valueChanged"),b.vScrollInstance.valueChanged=null,b.hScrollInstance.valueChanged=null;var c="mousedown.jqxgrid";b.isTouchDevice()&&(c=a.jqx.mobile.getTouchEventName("touchend")),b.removeHandler(b.host,"dblclick.jqxgrid"),b.removeHandler(b.host,c),b.removeHandler(b.content,"mousemove",b._mousemovefunc),b.removeHandler(b.host,"mouseleave.jqxgrid"),b.removeHandler(b.content,"mouseenter"),b.removeHandler(b.content,"mouseleave"),b.removeHandler(b.content,"mousedown"),b.removeHandler(b.content,"scroll"),b.removeHandler(b.content,"selectstart."+b.element.id),b.removeHandler(b.host,"dragstart."+b.element.id),b.removeHandler(b.host,"keydown.edit"+b.element.id),b.removeHandler(a(document),"keydown.edit"+b.element.id),b.removeHandler(a(document),"keyup.edit"+b.element.id),b._mousemovedocumentfunc&&b.removeHandler(a(document),"mousemove.selection"+b.element.id,b._mousemovedocumentfunc),b.removeHandler(a(document),"mouseup.selection"+b.element.id),b._mousewheelfunc&&b.removeHandler(b.host,"mousewheel",b._mousewheelfunc),b.editable&&b.removeHandler(a(document),"mousedown.gridedit"+b.element.id),b.host.off&&(b.content.off("mousemove"),b.host.off("mousewheel")),b.mouseupFuncForTop&&(b.removeHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop),b.mouseupFuncForTop=null,delete b.mouseupFuncForTop),b.mouseupFuncForColumnResizeOnTop&&(b.removeHandler(a(window.top.document),"mouseup",b.mouseupFuncForColumnResizeOnTop),b.mouseupFuncForColumnResizeOnTop=null,delete b.mouseupFuncForColumnResizeOnTop)},_addHandlers:function(){var b=this.that,c=b.isTouchDevice();c||b.addHandler(b.host,"dragstart."+b.element.id,function(a){return!1}),b.scrollbarautoshow&&(b.addHandler(b.host,"mouseenter.gridscroll"+b.element.id,function(a){b.vScrollBar.fadeIn("fast"),b.hScrollBar.fadeIn("fast")}),b.addHandler(b.host,"mouseleave.gridscroll"+b.element.id,function(a){b.vScrollInstance.isScrolling()||b.hScrollInstance.isScrolling()||(b.vScrollBar.fadeOut("fast"),b.hScrollBar.fadeOut("fast"))})),b.editable&&b.addHandler(a(document),"mousedown.gridedit"+b.element.id,function(c){if(b.focused=b._hittest(c.pageX,c.pageY),b.editable&&b.begincelledit&&b.editcell&&!b.vScrollInstance.isScrolling()&&!b.vScrollInstance.isScrolling()){var d=b.host.coord(),e=b.host.width(),f=b.host.height(),g=!1,h=!1,i=!1;if((c.pageY<d.top||c.pageY>d.top+f)&&(g=!0,h=!0),(c.pageX<d.left||c.pageX>d.left+e)&&(g=!0,i=!0),g){if(b.editcell&&b.editcell.editor)switch(b.editcell.columntype){case"datetimeinput":if(b.editcell.editor.jqxDateTimeInput&&b.editcell.editor.jqxDateTimeInput("container")&&"block"==b.editcell.editor.jqxDateTimeInput("container")[0].style.display){var j,k=b.editcell.editor.jqxDateTimeInput("container").coord().top,l=b.editcell.editor.jqxDateTimeInput("container").coord().top+b.editcell.editor.jqxDateTimeInput("container").height(),m=b.editcell.editor.jqxDateTimeInput("container"),n=m.coord(),o=n.left,p=o+m.width();if(m.hasClass("jqx-widget-content")||(j=m.children(".jqx-widget-content"),1==j.length&&(p=o+a(j[0]).width(),l=k+a(j[0]).height())),h&&(c.pageY<k||c.pageY>l))g=!0,b.editcell.editor.jqxDateTimeInput("close");else{if(!h||!(c.pageX<o||c.pageX>p))return;g=!0,b.editcell.editor.jqxDateTimeInput("close")}}break;case"combobox":if(b.editcell.editor.jqxComboBox&&b.editcell.editor.jqxComboBox("container")&&"block"==b.editcell.editor.jqxComboBox("container")[0].style.display){var j,k=b.editcell.editor.jqxComboBox("container").coord().top,l=b.editcell.editor.jqxComboBox("container").coord().top+b.editcell.editor.jqxComboBox("container").height(),m=b.editcell.editor.jqxComboBox("container"),n=m.coord(),o=n.left,p=o+m.width();if(m.hasClass("jqx-widget-content")||(j=m.children(".jqx-widget-content"),1==j.length&&(p=o+a(j[0]).width(),l=k+a(j[0]).height())),h&&(c.pageY<k||c.pageY>l))g=!0,b.editcell.editor.jqxComboBox("close");else{if(!h||!(c.pageX<o||c.pageX>p))return;g=!0,b.editcell.editor.jqxComboBox("close")}}break;case"dropdownlist":if(b.editcell.editor.jqxDropDownList&&b.editcell.editor.jqxDropDownList("container")&&"block"==b.editcell.editor.jqxDropDownList("container")[0].style.display){var j,k=b.editcell.editor.jqxDropDownList("container").coord().top,l=b.editcell.editor.jqxDropDownList("container").coord().top+b.editcell.editor.jqxDropDownList("container").height(),m=b.editcell.editor.jqxDropDownList("container"),n=m.coord(),o=n.left,p=o+m.width();if(m.hasClass("jqx-widget-content")||(j=m.children(".jqx-widget-content"),1==j.length&&(p=o+a(j[0]).width(),l=k+a(j[0]).height())),h&&(c.pageY<k||c.pageY>l))g=!0,b.editcell.editor.jqxDropDownList("close");else{if(!h||!(c.pageX<o||c.pageX>p))return;g=!0,b.editcell.editor.jqxDropDownList("close")}}break;case"template":case"custom":for(var q=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],r=function(d){var e=b.editcell.editor.data();if(e[d]&&e[d].instance.container&&"block"==e[d].instance.container[0].style.display){var f,i=e[d].instance,j=i.container.coord().top,k=i.container.coord().top+i.container.height(),l=i.container,m=l.coord(),n=m.left,o=n+l.width();return l.hasClass("jqx-widget-content")||(f=l.children(".jqx-widget-content"),1==f.length&&(o=n+a(f[0]).width(),k=j+a(f[0]).height())),h&&(c.pageY<j||c.pageY>k)?(g=!0,i.close(),!0):!(!h||!(c.pageX<n||c.pageX>o))&&(g=!0,i.close(),!0)}},s=0;s<q.length;s++){var t=r(q[s]);if(0==t)return}}b.focused=!1,b.endcelledit(b.editcell.row,b.editcell.column,!1,!0),b._oldselectedcell=null,setTimeout(function(){a(c.target).focus()},25)}}}),b.vScrollInstance.valueChanged=function(a){b.virtualsizeinfo&&(b._closemenu(),"physical"!=b.scrollmode?(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue):void 0!=b.currentScrollValue&&Math.abs(b.currentScrollValue-a.currentValue)>=5?(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue):(b._renderrows(b.virtualsizeinfo),b.currentScrollValue=a.currentValue),b.pageable||b.groupable||!b.dataview.virtualmode||(b.loadondemandupdate&&clearTimeout(b.loadondemandupdate),b.loadondemandupdate=setTimeout(function(){b.loadondemand=!0,b._renderrows(b.virtualsizeinfo)},100)),c&&(b._lastScroll=new Date)),b.useDynamicMode&&b.vScrollInstance.max==a.currentValue&&void 0==b.tmpv_datasetrequest&&(b.tmpv_datasetrequest=!0,setTimeout(function(){b.source.dataBind&&(b.source.bindgopage(),delete b.tmpv_datasetrequest)},200))},b.hScrollInstance.valueChanged=function(d){if(b.virtualsizeinfo){b._closemenu();var e=function(){b.befScrollVal=b.hScrollInstance.value,b._renderhorizontalscroll(),b._renderrows(b.virtualsizeinfo),b.editcell&&!b.editrow&&b._showcelleditor&&b.editcell.editing&&(b.hScrollInstance.isScrolling()||b._showcelleditor(b.editcell.row,b.getcolumn(b.editcell.column),b.editcell.element,b.editcell.init))};if(c)e();else{void 0==b._browser?b._isIE10():b._browser;navigator&&navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1?(b._hScrollTimer&&clearTimeout(b._hScrollTimer),b._hScrollTimer=setTimeout(function(){e()},1)):a.jqx.browser.msie?(b._hScrollTimer&&clearTimeout(b._hScrollTimer),b._hScrollTimer=setTimeout(function(){e()},.01)):e()}c&&(b._lastScroll=new Date)}},b._mousewheelfunc=b._mousewheelfunc||function(a){if(!b.editcell&&b.enablemousewheel)return b.wheel(a,b),!1},b.removeHandler(b.host,"mousewheel",b._mousewheelfunc),b.addHandler(b.host,"mousewheel",b._mousewheelfunc);var d="mousedown.jqxgrid";c&&(d=a.jqx.mobile.getTouchEventName("touchend")),b.addHandler(b.host,d,function(c){if(b.isTouchDevice()){if(b._newScroll=new Date,b._newScroll-b._lastScroll<500)return!1;if(a(c.target).ischildof(b.vScrollBar))return!1;if(a(c.target).ischildof(b.hScrollBar))return!1}b._mousedown=new Date;var d=b._handlemousedown(c,b);return b.isNestedGrid&&(b.resizablecolumn||b.columnsreorder||c.stopPropagation()),b._lastmousedown=new Date,d}),c||(b.addHandler(b.host,"dblclick.jqxgrid",function(c){if(b.editable&&b.begincelledit&&"dblclick"==b.editmode)b._handledblclick(c,b);else if(a.jqx.browser.msie&&a.jqx.browser.version<9){b._handlemousedown(c,b)}return b.mousecaptured=!1,b._lastmousedown=new Date,!0}),b._mousemovefunc=function(a){if(b._handlemousemove)return b._handlemousemove(a,b)},b.addHandler(b.content,"mousemove",b._mousemovefunc),
b._handlemousemoveselection&&(b._mousemovedocumentfunc=function(a){if(b._handlemousemoveselection)return b._handlemousemoveselection(a,b)},b.addHandler(a(document),"mousemove.selection"+b.element.id,b._mousemovedocumentfunc)),b.addHandler(a(document),"mouseup.selection"+b.element.id,function(a){b._handlemouseupselection&&b._handlemouseupselection(a,b)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e=null;window.parent&&document.referrer&&(e=document.referrer),e&&e.indexOf(document.location.host)!=-1&&window.top.document&&(b.mouseupFuncForTop=function(a){if(b._handlemouseupselection)try{b._handlemouseupselection(a,b)}catch(c){}},b.addHandler(a(window.top.document),"mouseup.grid"+b.element.id,eventHandle))}}catch(f){}b.focused=!1,c||(b.addHandler(b.content,"mouseenter",function(a){b.wrapper&&(b.wrapper.attr("tabindex",1),b.content.attr("tabindex",2)),b._overlayElement&&(b.vScrollInstance.isScrolling()||b.hScrollInstance.isScrolling()?b._overlayElement[0].style.visibility="visible":b._overlayElement[0].style.visibility="hidden")}),b.addHandler(b.content,"mouseleave",function(a){b._handlemousemove&&b.enablehover&&b._clearhoverstyle(),b._overlayElement&&(b._overlayElement[0].style.visibility="hidden")}),(b.groupable||b.columnsreorder)&&b.addHandler(a(document),"selectstart."+b.element.id,function(a){if(b.__drag===!0)return!1}),b.addHandler(b.content,"selectstart."+b.element.id,function(c){if(b.enablebrowserselection)return!0;if(b.showfilterrow&&a(c.target).ischildof(b.filterrow))return!0;if(b.showeverpresentrow){if(a(c.target).ischildof(b.addnewrow))return!0;if(b.addnewrowtop&&a(c.target).ischildof(b.addnewrowtop))return!0}return!!(c.target.className&&c.target.className.indexOf("jqx-grid-widget")>=0)||!!b.editcell&&void(c.stopPropagation&&c.stopPropagation())}),b.addHandler(a(document),"keyup.edit"+b.element.id,function(a){b._keydown=!1}),b.addHandler(a(document),"keydown.edit"+b.element.id,function(c){b._keydown=!b.editcell;var d=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(b.handlekeyboardnavigation&&(b.focused||c.target===b.element||a(c.target).ischildof(b.host))){var e=b.handlekeyboardnavigation(c);if(1==e)return!1}if(b.editable&&b.editcell&&(13!=d&&27!=d&&9!=d||b._handleeditkeydown&&(f=b._handleeditkeydown(c,b),9==d&&c.preventDefault&&c.preventDefault())),27==d&&(b.mousecaptured=!1,"visible"==b.selectionarea.css("visibility")&&b.selectionarea.css("visibility","hidden")),a.jqx.browser.msie&&a.jqx.browser.version<12&&b.focused&&!b.isNestedGrid){if(13==d&&0==f)return f;var f=!0,d=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(!b.editcell&&b.editable&&"programmatic"!=b.editmode&&b._handleeditkeydown&&(f=b._handleeditkeydown(c,b)),f&&b.keyboardnavigation&&b._handlekeydown)return f=b._handlekeydown(c,b),f||(c.preventDefault&&c.preventDefault(),void 0!=c.stopPropagation&&c.stopPropagation()),f}return!0}),b.addHandler(b.host,"keydown.edit"+b.element.id,function(c){var d=!0;if(b.handlekeyboardnavigation){var e=b.handlekeyboardnavigation(c);if(1==e)return!1}return b.editable&&!b.focused?d:(b.editable&&"programmatic"!=b.editmode&&b._handleeditkeydown&&(d=b._handleeditkeydown(c,b),b.isNestedGrid&&c.stopPropagation()),a.jqx.browser.msie&&a.jqx.browser.version<8?b.isNestedGrid&&d&&b.keyboardnavigation&&b._handlekeydown&&(d=b._handlekeydown(c,b),c.stopPropagation()):d&&b.keyboardnavigation&&b._handlekeydown&&(d=b._handlekeydown(c,b),b.isNestedGrid&&c.stopPropagation()),d||(c.preventDefault&&c.preventDefault(),void 0!=c.stopPropagation&&c.stopPropagation()),d)}))},_hittest:function(a,b,c){var d,e,f,g,h,i=c||"grid",j=!1;return d=this.host.offset(),e=d.left,f=d.top,g=this.host.outerWidth(),h=this.host.outerHeight(),"grid"==i&&a>=e&&a<=e+g&&b>=f&&b<=f+h&&(j=!0),j},_hittestrow:function(b,c){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==b&&(b=0),void 0==c&&(c=0);var d=this.vScrollInstance,e=this.hScrollInstance,f=d.value;"visible"!=this.vScrollBar.css("visibility")&&(f=0);var g=e.value;"visible"!=this.hScrollBar.css("visibility")&&(g=0),"deferred"==this.scrollmode&&null!=this._newmax&&f>this._newmax&&(f=this._newmax);var h=parseInt(f)+c;parseInt(g)+b;if(null!=this.visiblerows&&0!=this.visiblerows.length){var i=!1,j=this._findvisiblerow(h,this.visiblerows,parseInt(f));if(j>=0){var k=this.visiblerows[j],l=this.rowdetails&&k.rowdetails,m=!k.rowdetailshidden;if(l){var n=this.visiblerows[j-1];if(n==k&&(k=n,j--),m){var o=a(this.hittestinfo[j].visualrow).position().top+parseInt(this.table.css("top")),p=a(this.hittestinfo[j].visualrow).height();c>=o&&c<=o+p||(j++,k=this.visiblerows[j],i=!0)}}}return{index:j,row:k,details:i}}}},getcellatposition:function(b,c){var d=this.that,e=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0,g=this.showtoolbar?this.toolbarheight:0;f+=g;var h=this.host.coord();this.hasTransform&&(h=a.jqx.utilities.getOffset(this.host));var i=b-h.left,j=c-e-h.top-f,k=this._hittestrow(i,j),l=k.row,m=k.index,n=this.table[0].rows[m];if(this.dataview&&0==this.dataview.records.length){for(var o=this.table[0].rows,p=0,q=0;q<o.length;q++){if(j>=p&&j<p+this.rowsheight){n=o[q];break}p+=this.rowsheight}l={boundindex:q}}if(null==n)return!0;for(var r=this.hScrollInstance,s=r.value,t=0,q=(this.groupable?this.groups.length:0,0);q<n.cells.length;q++){var u=parseInt(a(this.columnsrow[0].cells[q]).css("left")),b=u-s;if(d.columns.records[q].pinned&&(b=u),!d.columns.records[q].hidden){var v=b+a(this.columnsrow[0].cells[q]).width();if(v>=i&&i>=b){t=q;break}}}if(null!=l){var w=this._getcolumnat(t);return{row:this.getboundindex(l),column:w.datafield,value:this.getcellvalue(this.getboundindex(l),w.datafield)}}return null},_handlemousedown:function(b,c){var d=c.selectionmode;if(null==b.target)return!0;if(c.disabled)return!0;if(a(b.target).ischildof(this.columnsheader)||a(b.target).ischildof(this.hScrollBar)||a(b.target).ischildof(this.vScrollBar))return!0;var e;b.which?e=3==b.which:b.button&&(e=2==b.button);var f;if(b.which?f=2==b.which:b.button&&(f=1==b.button),f)return!0;if(this.showstatusbar){if(a(b.target).ischildof(this.statusbar))return!0;if(b.target==this.statusbar[0])return!0}if(this.showtoolbar){if(a(b.target).ischildof(this.toolbar))return!0;if(b.target==this.toolbar[0])return!0}if(this.pageable){if(a(b.target).ischildof(this.pager))return!0;if(b.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&a(b.target).ischildof(this.pager))return!0;var g=this.showheader?this.columnsheader.height()+2:0,h=this._groupsheader()?this.groupsheader.height():0,i=this.showtoolbar?this.toolbarheight:0;h+=i;var j=this.host.coord();if(this.hasTransform){j=a.jqx.utilities.getOffset(this.host);var k=this._getBodyOffset();j.left-=k.left,j.top-=k.top}var l=parseInt(b.pageX),m=parseInt(b.pageY);if(this.isTouchDevice()){var n=c.getTouches(b),o=n[0];l=parseInt(o.pageX),m=parseInt(o.pageY),1==c.touchmode&&void 0!=o._pageX&&(l=parseInt(o._pageX),m=parseInt(o._pageY))}var p=l-j.left,q=m-g-j.top-h;if(this.pageable&&!this.autoheight&&this.gotopage){var r=this.pager.coord().top-j.top-h-g;if(q>r)return}var s=this._hittestrow(p,q);if(s&&!s.details){var t=s.row,u=s.index,v=b.target.className,w=this.table[0].rows[u];if(null==w)return c.editable&&c.begincelledit&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),!0;c.mousecaptured=!0,c.mousecaptureposition={left:b.pageX,top:b.pageY-h,clickedrow:w};var x=this.hScrollInstance,y=x.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(y=x.max-x.value);var z=-1,A=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(y-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(y=-parseInt(this.content.css("left"))));for(var B=0;B<w.cells.length;B++){var C=parseInt(a(this.columnsrow[0].cells[B]).css("left")),l=C-y;c.columns.records[B].pinned&&!c.rtl&&(l=C);var D=this._getcolumnat(B);if(null==D||!D.hidden){var E=l+a(this.columnsrow[0].cells[B]).width();if(E>=p&&p>=l){z=B,c.mousecaptureposition.clickedcell=B;break}}}if(this.rtl&&this._haspinned)for(var B=w.cells.length-1;B>=0&&c.columns.records[B].pinned;B--){var C=a(this.columnsrow[0].cells[B]).coord().left-this.host.coord().left,l=C,D=this._getcolumnat(B);if(null==D||!D.hidden){var E=l+a(this.columnsrow[0].cells[B]).width();if(E>=p&&p>=l){z=B,c.mousecaptureposition.clickedcell=B;break}}}if(null!=t&&z>=0){this._raiseEvent(1,{rowindex:this.getboundindex(t),visibleindex:t.visibleindex,row:t,group:t.group,rightclick:e,originalEvent:b});var D=this._getcolumnat(z),F=this.getcellvalue(this.getboundindex(t),D.datafield);if(this.editable&&this.editcell&&D.datafield==this.editcell.column&&this.getboundindex(t)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(t),column:D?D.getcolumnproperties():null,row:t,visibleindex:t.visibleindex,datafield:D?D.datafield:null,columnindex:z,value:F,rightclick:e,originalEvent:b}),D.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==D.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(u,D.datafield),!0}else if("button"==D.columntype&&this._overlayElement)return D.buttonclick&&D.buttonclick(w.cells[z].buttonrow,b),!0;var G=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(t)&&(this._raiseEvent(22,{rowindex:this.getboundindex(t),row:t,visibleindex:t.visibleindex,group:t.group,rightclick:e,originalEvent:b}),this._clickedcolumn==D.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(t),row:t,visibleindex:t.visibleindex,column:D?D.getcolumnproperties():null,datafield:D?D.datafield:null,columnindex:z,value:F,rightclick:e,originalEvent:b}),G=!0,this._clickedrowindex=-1,this._clickedcolumn=null,b.isPropagationStopped&&b.isPropagationStopped()))return!1;if(e)return!0;G||(this._clickedrowindex=this.getboundindex(t),this._clickedcolumn=D.datafield);var H=a.jqx.utilities.getBrowser();if("msie"==H.browser&&parseInt(H.version)<=7&&(0==z&&this.rowdetails&&(v="jqx-grid-group-collapse"),A>0&&z<=A&&(v="jqx-grid-group-collapse")),v.indexOf("jqx-grid-group-expand")!=-1||v.indexOf("jqx-grid-group-collapse")!=-1)this.rtl?A>0&&z>w.cells.length-A-1&&this._togglegroupstate?this._togglegroupstate(t.bounddata,!0):z==w.cells.length-1-A&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(t.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):A>0&&z<A&&this._togglegroupstate?this._togglegroupstate(t.bounddata,!0):z==A&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(t.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(t.boundindex!=-1){var I=this.selectedrowindexes.slice(0),J=!1;if("none"!=c.selectionmode&&c.selectionmode.indexOf("checkbox")==-1&&this._selectrowwithmouse){"multiplecellsadvanced"!=c.selectionmode&&"multiplecellsextended"!=c.selectionmode&&"multiplerowsextended"!=c.selectionmode&&"multiplerowsadvanced"!=c.selectionmode||b.ctrlKey||b.shiftKey||b.metaKey||(c.selectedrowindexes=new Array,c.selectedcells=new Array);var K=!1,L=this.getboundindex(t);c._oldselectedrow!==L&&"none"!==c.selectionmode||(K=!0),c.selectionmode.indexOf("cell")==-1?("singlerow"!=c.selectionmode||c.selectedrowindex!=L&&"singlerow"==c.selectionmode)&&(this._applyrowselection(L,!0,!1,null,D.datafield),this._selectrowwithmouse(c,s,I,D.datafield,b.ctrlKey||b.metaKey,b.shiftKey)):null!=D.datafield&&(this._selectrowwithmouse(c,s,I,D.datafield,b.ctrlKey||b.metaKey,b.shiftKey),b.shiftKey||this._applycellselection(L,D.datafield,!0,!1)),c._oldselectedcell&&c._oldselectedcell.datafield==c.selectedcell.datafield&&c._oldselectedcell.rowindex==c.selectedcell.rowindex&&(J=!0),c._oldselectedcell=c.selectedcell,c._oldselectedrow=L}else if("checkboxextended"==c.selectionmode){if(0==z)return!0;for(var M=this.getselectedrowindexes().slice(),B=0,N=M.length;B<N;B++)c.unselectrow(M[B]);c.selectionmode="multiplecellsadvanced",b.ctrlKey||b.shiftKey||(c.selectedrowindexes=new Array,c.selectedcells=new Array);var K=!1,L=this.getboundindex(t);c._oldselectedrow!==L&&"none"!==c.selectionmode||(K=!0),null!=D.datafield&&(this._selectrowwithmouse(c,s,I,D.datafield,b.ctrlKey,b.shiftKey),b.shiftKey||this._applycellselection(L,D.datafield,!0,!1)),c._oldselectedcell&&c._oldselectedcell.datafield==c.selectedcell.datafield&&c._oldselectedcell.rowindex==c.selectedcell.rowindex&&(J=!0),c._oldselectedcell=c.selectedcell,c._oldselectedrow=L}if(c.autosavestate&&c.savestate&&c.savestate(),c.editable&&c.begincelledit&&"programmatic"!=c.editmode){if(b.isPropagationStopped&&b.isPropagationStopped())return"checkboxextended"==d&&(c.selectionmode=d),!1;if("selectedrow"==c.editmode){if(K&&!c.editcell){if("checkbox"!==D.columntype){c.beginrowedit(this.getboundindex(t))}}else if(c.editcell&&!K&&"none"!=c.selectionmode){c.endrowedit(c.editcell.row)}}else{var L=this.getboundindex(t),O="click"==c.editmode||J&&"selectedcell"==c.editmode;if(c.selectionmode.indexOf("cell")==-1&&"dblclick"!=c.editmode&&(O=!0),O&&void 0!=t.boundindex&&D.editable){c.begincelledit(this.getboundindex(t),D.datafield,D.defaulteditorvalue);c.selectionmode.indexOf("cell")==-1&&"checkboxextended"!=c.selectionmode||c._applycellselection(L,D.datafield,!1,!1)}c.selectionmode.indexOf("cell")!=-1&&"selectedcell"==c.editmode&&!J&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),"dblclick"!=c.editmode||J||!c.editcell||c.editcell.row==L&&D.datafield==c.editcell.column||c.endcelledit(c.editcell.row,c.editcell.column,!1,!0)}return"checkboxextended"==d&&(c.selectionmode=d),!0}}}return"checkboxextended"==d&&(c.selectionmode=d),!0}},_columnPropertyChanged:function(a,b,c,d){},_rowPropertyChanged:function(a,b,c,d){},_serializeObject:function(b){if(null==b)return"";var c="";return a.each(b,function(a){var b=this;a>0&&(c+=", "),c+="[";var d=0;for(obj in b)d>0&&(c+=", "),c+="{"+obj+":"+b[obj]+"}",d++;c+="]"}),c},_validateCanUseLSW:function(){if(!this.$storage$)throw new Error("jqxGrid: Personalization of grid's columns can be applied only if WidgetStorage instance is set via '$storage$' property.");if(null===this.$storageKey$||void 0===this.$storageKey$)throw new Error("jqxGrid: Personalization of grid's columns can be applied only if Local Storage Key is set via '$storageKey$' property.")},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&(a._updatesize(!0,!0),a._resizeWindow(),a.virtualmode&&!a._loading?a.vScrollInstance.setPosition(0):setTimeout(function(){a._renderrows(a.virtualsizeinfo)},100))},propertyChangedHandler:function(c,d,e,f){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(c.batchUpdate&&c.batchUpdate.width&&c.batchUpdate.height&&2==Object.keys(c.batchUpdate).length))switch(d=d.toLowerCase()){case"editable":c.refresh();break;case"everpresentrowactionsmode":e!=f&&(c._removeaddnewrow(),c.render());break;case"everpresentrowactions":c._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":e!=f&&(c._removeaddnewrow(),c.render());break;case"rtl":c.content.css("left",""),c.columns=c._columns,c._filterrowcache=[],c.vScrollBar.jqxScrollBar({rtl:f}),c.hScrollBar.jqxScrollBar({rtl:f}),c._initpager&&c._initpager(),c._initgroupsheader&&c._initgroupsheader(),c.render();break;case"enablebrowserselection":c.showfilterrow||(c.showstatusbar||c.showtoolbar||c.host.addClass("jqx-disableselect"),c.content.addClass("jqx-disableselect")),c.enablebrowserselection&&(c.content.removeClass("jqx-disableselect"),c.host.removeClass("jqx-disableselect"));break;case"columnsheight":(30!=c.columnsheight||c.columngroups)&&c._measureElement("column"),c._render(!0,!0,!0,!1,!1);break;case"rowsheight":f!=e&&(30!=c.rowsheight&&c._measureElement("cell"),c.virtualsizeinfo=null,c.rendergridcontent(!0,!1),c.refresh());break;case"scrollMode":c.vScrollInstance.thumbStep=c.rowsheight;break;case"showdefaultloadelement":c._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":c._initmenu();break;case"touchmode":e!=f&&(c._removeHandlers(),c.touchDevice=null,c.vScrollBar.jqxScrollBar({touchMode:f}),c.hScrollBar.jqxScrollBar({touchMode:f}),c._updateTouchScrolling(),c._arrange(),c._updatecolumnwidths(),c._updatecellwidths(),c._addHandlers());break;case"autoshowcolumnsmenubutton":e!=f&&c._rendercolumnheaders();break;case"rendergridrows":e!=f&&c.updatebounddata();break;case"editmode":e!=f&&(c._removeHandlers(),c._addHandlers());break;case"source":c.updatebounddata(),c.virtualmode&&!c._loading&&(c.loadondemand=!0,c._renderrows(c.virtualsizeinfo));break;case"$bindmodel$":null==e&&null==c.$uipp$&&(c.$uipp$=b.createModule("uipp").UIPP),null==f?c.source.binddetach():(c.source._source?(c.source._source.datatype="binder",c.source._source.localdata=f,c.source._source.uipp=c.$uipp$):(c.source.datatype="binder",c.source.localdata=f,c.source.uipp=c.$uipp$,c.source=new a.jqx.dataAdapter(c.source)),c.updatebounddata());break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":c._initgroupsheader&&c._initgroupsheader();break;case"showgroupsheader":e!=f&&(c._arrange(),c._initgroupsheader&&c._initgroupsheader(),c._renderrows(c.virtualsizeinfo));break;case"theme":f!=e&&(a.jqx.utilities.setTheme(e,f,c.host),c.gridmenu&&c.gridmenu.jqxMenu({theme:f}),c.pageable&&c._updatepagertheme(),c.filterable&&c._updatefilterrowui(!0),c.showeverpresentrow&&c._updateaddnewrowui(!0));break;case"showtoolbar":case"toolbarheight":e!=f&&(c._arrange(),c.refresh());break;case"showstatusbar":e!=f&&(c.statusbar&&(f?c.statusbar.show():c.statusbar.hide()),c._arrange(),c.refresh());break;case"statusbarheight":e!=f&&(c._arrange(),c.refresh());break;case"filterable":case"showfilterrow":e!=f&&c.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":e!=f&&c.rendergridcontent();break;case"showrowdetailscolumn":e!=f&&c.render();break;case"scrollbarsize":e!=f&&c._arrange();break;case"width":case"height":e!=f&&(c._updatesize(!0,!0),c._resizeWindow(),c.virtualmode&&!c._loading?c.vScrollInstance.setPosition(0):setTimeout(function(){c._renderrows(c.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":e!=f&&c._renderrows(c.virtualsizeinfo);break;case"groupsheaderheight":e!=f&&(c._arrange(),c._initgroupsheader&&c._initgroupsheader());break;case"pagerheight":e!=f&&c._initpager();break;case"selectedrowindex":c.selectrow(f);break;case"selectionmode":e!=f&&("none"==f&&(c.selectedrowindexes=new Array,c.selectedcells=new Array,c.selectedrowindex=-1),c._renderrows(c.virtualsizeinfo),c._render(!1,!1,!0,!1,!1));break;case"showheader":f?c.columnsheader.css("display","block"):c.columnsheader.css("display","none");break;case"virtualmode":e!=f&&(c.dataview.virtualmode=c.virtualmode,c.dataview.refresh(!1),c._render(!1,!1,!1));break;case"columnsmenu":e!=f&&c.render();break;case"columngroups":c._render(!0,!0,!0,!1,!1);break;case"columns":if(c._serializeObject(c._cachedcolumns)!==c._serializeObject(f)){var g=!1;c.filterable&&e&&e.records&&a.each(e.records,function(){this.filter&&(g=!0),c.dataview.removefilter(this.displayfield,this.filter)}),c._columns=null,c._filterrowcache=[],c.render(),g&&c.applyfilters(),c._cachedcolumns=c.columns,c.removesort&&c.removesort()}else c[d]=e;break;case"autoheight":e!=f&&c._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":e!=f&&c._initpager&&(c.pagershowrowscombo&&(c.pagershowrowscombo.jqxDropDownList("destroy"),c.pagershowrowscombo=null),c.pagerrightbutton&&(c.removeHandler(c.pagerrightbutton,"mousedown"),c.removeHandler(c.pagerrightbutton,"mouseup"),c.removeHandler(c.pagerrightbutton,"click"),c.pagerrightbutton.jqxButton("destroy"),c.pagerrightbutton=null),c.pagerleftbutton&&(c.removeHandler(c.pagerleftbutton,"mousedown"),c.removeHandler(c.pagerleftbutton,"mouseup"),c.removeHandler(c.pagerleftbutton,"click"),c.pagerleftbutton.jqxButton("destroy"),c.removeHandler(a(document),"mouseup.pagerbuttons"+c.element.id),c.pagerleftbutton=null),c.pagerdiv.remove(),c._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(e!=f){if(c._loading)throw new Error("jqxGrid: "+c.loadingerrormessage);if(!c.host.jqxDropDownList||!c.host.jqxListBox)return void c._testmodules();if(c._initpager){if("pageable"!=d&&"pagermode"!=d&&"string"==typeof f){var h="The expected value type is: Int.";if("pagesize"!=d)var h="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+d+". "+h)}c.dataview.pageable=c.pageable,c.dataview.pagenum=0,c.dataview.pagesize=c._getpagesize(),c.virtualmode&&c.updatebounddata(),c.dataview.refresh(!0),c._initpager(),"pagesizeoptions"==d&&null!=f&&f.length>0&&(c.pagesize=parseInt(f[0]),c.dataview.pagesize=parseInt(f[0]),c.prerenderrequired=!0,c._requiresupdate=!0,c.dataview.pagenum=-1,c.gotopage(0))}c._render(!1,!1,!1)}break;case"groups":c._serializeObject(e)!==c._serializeObject(f)&&(c.dataview.groups=f,c._refreshdataview(),c._render(!0,!0,!0,!1));break;case"groupable":e!=f&&(c.dataview.groupable=c.groupable,c.dataview.pagenum=0,c.dataview.refresh(!1),c._render(!1,!1,!0));break;case"renderstatusbar":null!=f&&c.renderstatusbar(c.statusbar);break;case"rendertoolbar":null!=f&&c.rendertoolbar(c.toolbar);break;case"disabled":f?c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")):c.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled")),a.jqx.aria(c,"aria-disabled",c.disabled);var i=c._checkboxcolumn;if(c.selectionmode.indexOf("check")>-1&&i){i.checkboxcolumn&&i.checkboxelement&&i.checkboxelement.jqxCheckBox({disabled:f});for(var j=c.table[0].rows.length,k=c._getcolumnindex(i.datafield),l=0;l<j;l++){var m=c.table[0].rows[l].cells[k].firstChild;m&&a(m).jqxCheckBox({disabled:f})}}c.pageable&&(c.pagerrightbutton&&(c.pagerrightbutton.jqxButton({disabled:f}),c.pagerleftbutton.jqxButton({disabled:f}),c.pagershowrowscombo.jqxDropDownList({disabled:f}),c.pagergotoinput.attr("disabled",f)),c.pagerfirstbutton&&(c.pagerfirstbutton.jqxButton({disabled:f}),c.pagerlastbutton.jqxButton({disabled:f}))),c.vScrollBar.jqxScrollBar({disabled:f}),c.hScrollBar.jqxScrollBar({disabled:f}),c.filterable&&c.showfilterrow&&c._updatefilterrowui(!0),c.showeverpresentrow&&c._updateaddnewrowui(!0);break;case"enableheadertooltips":f!=e&&a.each(this.columns.records,function(a,b){b.uielement[0].title=f?b.text:""});break;case"pinned":this._applyPinnedSetting(),c._render();break;case"enablemerge":f&&(this._validateMergeabilityOfCells(),this._functionReplaceHelperForCellMerge.replaceFunctions(f)),c.refresh();break;case"enablepersonalize":f&&this._validateCanUseLSW()}},_applyPinnedSetting:function(){var a=this.pinned.length;if(a>0&&(this._pinnedrow=this.pinned[0],2==a)){var b=this.pinned[1];if(b>=0)for(var c=0,d=this.columns.length;c<d;c++)c<=b?this.columns[c].pinned=!0:this.columns[c].pinned=!1}}}),a.jqx.collection=function(a){return this.records=new Array,this.owner=a,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(a){},this.clear=function(){this.records=new Array},this.replace=function(a,b){this.records[a]=b,this.updating||this._raiseEvent({type:"replace",element:b})},this.isempty=function(a){return void 0==this.records[a]},this.initialize=function(a){a<1&&(a=1),this.records[a-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(a){return this.records.indexOf(a)},this.add=function(a){return null!=a&&(this.records[this.records.length]=a,this.updating||this._raiseEvent({type:"add",element:a}),!0)},this.insertAt=function(a,b){return null!=a&&void 0!=a&&(null!=b&&(a>=0&&(a<this.records.length?(this.records.splice(a,0,b),this.updating||this._raiseEvent({type:"insert",index:a,element:b}),!0):this.add(b))))},this.remove=function(a){if(null==a||void 0==a)return!1;var b=this.records.indexOf(a);return b!=-1&&(this.records.splice(b,1),this.updating||this._raiseEvent({type:"remove",element:a}),!0)},this.removeAt=function(a){if(null==a||void 0==a)return!1;if(a<0)return!1;if(a<this.records.length){var b=this.records[a];return this.records.splice(a,1),this.updating||this._raiseEvent({type:"removeAt",index:a,element:b}),!0}return!1},this},a.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this._bindreadindex=-1,this._bindreadcount=-1,this._bindrowcount=-1,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that,delete this._bindreadindex,delete this._bindreadcount,delete this._bindrowcount},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(a){this.suspend=!1,void 0==a&&(a=!0),this.refresh(a)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(b,c){var d=!!b._source,e=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),d?(e=b,b=b._source):e=new a.jqx.dataAdapter(b,{autoBind:!1});var f=function(a){e.recordids=[],e.records=new Array,e.cachedrecords=new Array,e.originaldata=new Array,e._options.virtualmode=a.virtualmode,e._options.totalrecords=a.totalrecords,e._options.originaldata=a.originaldata,e._options.recordids=a.recordids,e._options.cachedrecords=new Array,e._options.pagenum=a.pagenum,e._options.pageable=a.pageable,void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async),void 0!=b.updaterow&&(e._options.updaterow=b.updaterow),void 0!=b.addrow&&(e._options.addrow=b.addrow),void 0!=b.deleterow&&(e._options.deleterow=b.deleterow),0==a.pagesize&&(a.pagesize=10),e._options.pagesize=a.pagesize},g=function(c){if(c.totalrecords=e.totalrecords,c._bindreadindex=e.bindreadindex,c._bindreadcount=e.bindreadcount,c._bindrowcount=e.bindrowcount,c.virtualmode){var d={startindex:c.pagenum*c.pagesize,endindex:c.pagenum*c.pagesize+c.pagesize};if(void 0!=b.recordstartindex&&(d.startindex=parseInt(b.recordstartindex)),void 0!=b.recordendindex?d.endindex=parseInt(b.recordendindex):c.grid.pageable||(d.endindex=d.startindex+100,c.grid.autoheight&&(d.endindex=d.startindex+c.totalrecords)),b.recordendindex||(c.grid.pageable?d={startindex:c.pagenum*c.pagesize,endindex:c.pagenum*c.pagesize+c.pagesize}:(d.endindex=d.startindex+100,c.grid.autoheight&&(d.endindex=d.startindex+c.totalrecords))),d.data=e.records,c.grid.rendergridrows&&c.totalrecords>0){var f=0;if(b.records=c.grid.rendergridrows(d),b.records.length&&(f=b.records.length),b.records&&!b.records[d.startindex]){var g=new Array,h=d.startindex;a.each(b.records,function(){g[h]=this,h++,f++}),b.records=g}if(0==f&&b.records&&a.each(b.records,function(){f++}),f>0&&f<d.endindex-d.startindex&&!c.grid.groupable)for(var i=b.records[0],j=0;j<d.endindex-d.startindex-f;j++){var k={};for(obj in i)k[obj]="";b.records.push&&b.records.push(k)}}b.records&&0!=c.totalrecords||(b.records=new Array),c.originaldata=b.records,c.records=b.records,c.cachedrecords=b.records}else if(c.originaldata=e.originaldata,c.records=e.records,c.recordids=e.recordids,c.cachedrecords=e.cachedrecords,"dataset"==b.datatype||"binder"==b.datatype){c.grid.getselectedrowindex()>-1&&(!c.grid.useDynamicMode||c.grid.useDynamicMode&&0==c._bindreadindex)&&c.grid.clearselection(),c.sortdata=null;for(var j=0,l=c.records.length;j<l;j++)c.records[j].uid=j}};f(this),this.source=b,void 0!==c&&(uniqueId=c);var h=this.that;switch(b.datatype){case"local":case"array":default:if(null==b.localdata&&(b.localdata=[]),null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&e.dataBind();var i=function(c){if(void 0!=c&&""!=c){var d=e._changedrecords[0];if(d){var f=new Array;a.each(e._changedrecords,function(a){var b=this.index,d=this.record;switch(h.grid._updateFromAdapter=!0,c){case"update":var g=h.grid.getrowid(b);return a==e._changedrecords.length-1?h.grid.updaterow(g,d):h.grid.updaterow(g,d,!1),void(h.grid._updateFromAdapter=!1);case"add":return h.grid.addrow(null,d),void(h.grid._updateFromAdapter=!1);case"remove":var g=h.grid.getrowid(b);return void f.push(g)}}),f.length>0&&(h.grid.deleterow(f,!1),h.grid._updateFromAdapter=!1)}if("update"==c)return}var i=h.totalrecords;g(h,c),null===b.localdata.notifier&&"observableArray"==b.localdata.name&&(b.localdata.notifier=function(c){if(!this._updating){this._updating=!0;var d=h.grid.getrowid(c.index);switch(c.type){case"add":var f=a.extend({},c.object[c.index]),g=e.getid(b.id,f,c.index);0===c.index?h.grid.addrow(g,f,"first"):h.grid.addrow(g,f);break;case"delete":h.grid.deleterow(d);break;case"update":if(c.path&&c.path.split(".").length>1){var i=c.path.split(".");h.grid.setcellvalue(c.index,i[i.length-1],c.newValue)}else{var f=a.extend({},c.object[c.index]);h.grid.updaterow(d,f)}}this._updating=!1}}),"updateData"==c?(h.refresh(),h.grid._updateGridData()):(b.recordstartindex&&this.virtualmode?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(i!=h.totalrecords))};i(),e.bindBindingUpdate(h.grid.element.id,i)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&e.dataBind();var i=function(a){var c=h.totalrecords;g(h),"updateData"==a?(h.refresh(),h.grid._updateGridData()):(b.recordstartindex&&h.virtualmode?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(c!=h.totalrecords))};return i(),void e.bindBindingUpdate(h.grid.element.id,i)}for(var j=[],k=0,l={},m=0;m<this.filters.length;m++){var n=this.filters[m].datafield,o=this.filters[m].filter;if(o.getfilters){var p=o.getfilters();l[n+"operator"]=o.operator;for(var q=0;q<p.length;q++){p[q].datafield=n;var r=p[q].value;if("datefilter"==p[q].type)if(p[q].value&&p[q].value.toLocaleString){var s=this.grid.getcolumn(p[q].datafield);if(s&&s.cellsformat){var t=this.grid.source.formatDate(p[q].value,s.cellsformat,this.grid.gridlocalization);t?l["filtervalue"+k]=t:l["filtervalue"+k]=p[q].value.toLocaleString()}else l["filtervalue"+k]=r.toString()}else l["filtervalue"+k]=r.toString();else l["filtervalue"+k]=r.toString(),p[q].data&&(l["filterid"+k]=p[q].data.toString()),p[q].id&&(l["filterid"+k]=p[q].id.toString());l["filtercondition"+k]=p[q].condition,l["filteroperator"+k]=p[q].operator,
l["filterdatafield"+k]=n;var u={label:r.toString()};p[q].data&&(u.value=p[q].data.toString()),p[q].id?u.value=p[q].id.toString():u.value=r.toString(),u.condition=p[q].condition,u.operator=0==p[q].operator?"and":"or",u.field=n,u.type=p[q].type;var v=!1;if(j.length>0)for(var w=0;w<j.length;w++){var x=j[w];if(x.field==n){x.filters.push(u),v=!0;break}}v||(j.push({field:n,filters:[]}),j[j.length-1].filters.push(u)),k++}}}l.filterGroups=j,l.filterscount=k,l.groupscount=h.groups.length;for(var m=0;m<h.groups.length;m++)l["group"+m]=h.groups[m];void 0==b.recordstartindex&&(b.recordstartindex=0),void 0!=b.recordendindex&&0!=b.recordendindex||(h.grid.height&&h.grid.height.toString().indexOf("%")==-1?(b.recordendindex=parseInt(h.grid.height)/h.grid.rowsheight,b.recordendindex+=2,b.recordendindex=parseInt(b.recordendindex)):(b.recordendindex=a(window).height()/h.grid.rowsheight,b.recordendindex=parseInt(b.recordendindex)),this.pageable&&(b.recordendindex=this.pagesize)),this.pageable&&(b.recordstartindex=this.pagenum*this.pagesize,b.recordendindex=(this.pagenum+1)*this.pagesize),a.extend(l,{sortdatafield:h.sortfield,sortorder:h.sortfielddirection,pagenum:h.pagenum,pagesize:h.grid.pagesize,recordstartindex:b.recordstartindex,recordendindex:b.recordendindex});var y=e._options.data;e._options.data?a.extend(e._options.data,l):(b.data&&a.extend(l,b.data),e._options.data=l);var i=function(){var c=a.jqx.browser.msie&&a.jqx.browser.version<9,d=function(){var a=h.totalrecords;g(h),b.recordstartindex&&h.virtualmode?h.updateview(b.recordstartindex,b.recordstartindex+h.pagesize):h.refresh(),h.update(a!=h.totalrecords)};if(c)try{d()}catch(e){}else d()};e.unbindDownloadComplete(h.grid.element.id),e.bindDownloadComplete(h.grid.element.id,i),!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind?e.dataBind():h.grid.isInitialized||h.grid.autobind||i(),e._options.data=y;break;case"dataset":case"binder":if(null!=b.localdata){e.unbindBindingUpdate(h.grid.element.id),e.dataBind();var i=function(a){var b=h.totalrecords;if("deleterow"!=a&&"addrow"!=a&&"updaterow"!=a&&"loaderror"!=a&&g(h),"updateData"==a)h.refresh(),h.grid._updateGridData();else if("addrow"==a){var c=arguments[1],d=c.rowindex,e=c.row;h.grid.addrow(null,e,d)}else if("updaterow"==a){var c=arguments[1],d=c.rowindex,e=c.row,f=h.grid.getrowid(d);h.grid.updaterow(f,e)}else if("deleterow"==a){var c=arguments[1],d=c.rowindex,f=h.grid.getrowid(d);h.grid.deleterow(f)}else if("selectrow"==a){var c=arguments[1],d=c.rowindex;h.grid.selectrow(d)}else if("loaderror"==a);else{if("load"==a&&h.grid.useDynamicMode&&h.grid.enableAutoFillDataInDynamicMode){var i=h.grid.rowsheight,j=h.grid._gettableheight(),k=Math.floor(j/i),l=h.records.length;if(h.totalrecords>l&&k>l)return h.totalrecords<k?k=h.totalrecords:k+=1,void h.grid.source.bindgopage(0,k)}h.refresh(),"reset"==a&&(h.grid._updateGridData(),h.grid.vScrollInstance.setPosition(0),h.grid.hScrollInstance.setPosition(0),h.grid.useDatasetPaging&&(h.grid._ds_pageinit=!1)),h.update(b!=h.totalrecords),h.grid.useDatasetPaging&&h.grid._calculatedspaging(h._bindreadindex,h._bindreadcount,h._bindrowcount)}},z=function(){h.grid.autoshowloadelement&&h.grid.showloadelement()},A=function(){h.grid.hideloadelement(),h.refresh(),h.grid._updateGridData()};return i(),e.bindBindingUpdate(h.grid.element.id,i),e.bindLoadingBegin(h.grid.element.id,z),void e.bindLoadingEnd(h.grid.element.id,A)}}},this.getid=function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e}return d},this.getvaluebytype=function(b,c){var d=b;if("date"==c.type){var e=new Date(b);b=("NaN"==e.toString()||"Invalid Date"==e.toString())&&a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):e,null==b&&(b=d)}else if("float"==c.type){var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else"bool"==c.type&&(null!=b&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b||0!=b&&"");return b},this.setpaging=function(a){void 0!=a.pageSize&&(this.pagesize=a.pageSize),void 0!=a.pageNum&&(this.pagenum=Math.min(a.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(a,b){for(var c=-1,d=0;d<this.filters.length;d++)if(this.filters[d].datafield==a){c=d;break}c==-1?this.filters[this.filters.length]={filter:b,datafield:a}:this.filters[c]={filter:b,datafield:a}},this.removefilter=function(a){for(var b=0;b<this.filters.length;b++)if(this.filters[b].datafield==a){this.filters.splice(b,1);break}},this.getItemFromIndex=function(a){return this.records[a]},this.updaterow=function(b,c,d,e){var f=this.filters&&this.filters.length>0&&!this.virtualmode;if(!f&&void 0!=c&&void 0!=b){c.uid=b,c[this.source.id]||(c[this.source.id]=c.uid);var g=this.recordsbyid["id"+b],h=this.records.indexOf(g);if(h==-1)return!1;if(this.records[h]=c,this.cachedrecords&&(this.cachedrecords[h]=c),!e&&("dataset"==this.source.datatype||"binder"==this.source.datatype)&&this.source.localdata){var i,j=this.grid.source,k=this.source.datafields,l={},m=j.getvaluebytype;a.each(k,function(a,b){i=m(c[b.name],this,!0),void 0==i||null==i?l[b.name]=null:l[b.name]=i}),j.bindupdaterow(h,l)}return 1!=d&&void 0!=d||this.refresh(),this.changedrecords[c.uid]={Type:"Update",OldData:g,Data:c},!0}if(this.filters&&this.filters.length>0){for(var n=this.cachedrecords,g=null,h=-1,o=0;o<n.length;o++)if(n[o].uid==b){g=n[o],h=o;break}if(g){var p=this.that;for(var q in c)p.cachedrecords[h][q]=c[q];if(!e&&("dataset"==this.source.datatype||"binder"==this.source.datatype)&&this.source.localdata){var i,j=this.grid.source,k=this.source.datafields,l={},m=j.getvaluebytype;a.each(k,function(a,b){i=m(c[b.name],this,!0),void 0==i||null==i?l[b.name]=null:l[b.name]=i}),j.bindupdaterow(h,l)}return 1!=d&&void 0!=d||this.refresh(),!0}}return!1},this.addrow=function(b,c,d,e){if(void 0!=c){if(a.isEmptyObject(c)&&this.source&&this.source.datafields&&a.each(this.source.datafields,function(){var a="";"number"==this.type&&(a=null),"date"==this.type&&(a=null),"bool"!=this.type&&"boolean"!=this.type||(a=!1),c[this.name]=a}),!b||this.recordsbyid["id"+b]){c.uid=this.getid(this.source.id,c,this.totalrecords);for(var f=this.recordsbyid["id"+c.uid];null!=f;){var g=Math.floor(1e4*Math.random()).toString();c.uid=g,f=this.recordsbyid["id"+g]}}else c.uid=b;if(c[this.source.id]||void 0!=this.source.id&&(c[this.source.id]=c.uid),"last"==d?this.records.push(c):"number"==typeof d&&isFinite(d)?this.records.splice(d,0,c):this.records.splice(0,0,c),("dataset"==this.source.datatype||"binder"==this.source.datatype)&&this.source.localdata){var h,i=this.grid.source,j=this.source.datafields,k={},l=i.getvaluebytype;a.each(j,function(a,b){h=l(c[b.name],this,!0),void 0==h||null==h?k[b.name]=null:k[b.name]=h}),i.bindaddrow(d,k)}return this.filters&&this.filters.length>0&&("last"==d?this.cachedrecords.push(c):"number"==typeof d&&isFinite(d)?this.cachedrecords.splice(d,0,c):this.cachedrecords.splice(0,0,c)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=e&&void 0!=e||this.refresh(),this.changedrecords[c.uid]={Type:"New",Data:c},!0}return!1},this.deleterow=function(a,b){if(void 0!=a){var c=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+a]&&!c){var d=this.recordsbyid["id"+a],e=this.records.indexOf(d);if(this.changedrecords[a]={Type:"Delete",Data:this.records[e]},this.records.splice(e,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),("dataset"==this.source.datatype||"binder"==this.source.datatype)&&this.source.localdata){var f=this.grid.source;f.binddeleterow(e)}return 1!=b&&void 0!=b||this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var g=this.cachedrecords,d=null,e=-1,h=0;h<g.length;h++)if(g[h].uid==a){d=g[h],e=h;break}if(d){if(("dataset"==this.source.datatype||"binder"==this.source.datatype)&&this.source.localdata){var f=this.grid.source;f.binddeleterow(e)}return this.cachedrecords.splice(e,1),1!=b&&void 0!=b||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}}return!1}return!1},this.reload=function(b,c,d,e,f,g,h){var i=this.that,j=new Array,k=b,l=c,m=d,n=e,o=l.length,p=0,q=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c};var r=Object.size(k);this.totalrecords=r,a.each(this.records,function(b){var c=this,d=0;return a.each(c,function(a,b){i.columns[d++]=a}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();var g=0;if(!this.groupable)return void this.updateview();var h=this.totalrecords}else var g=0,h=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var s=g;s=this.loadgrouprecords(0,g,h,m,q,n,l,o,j)}else p=this.loadflatrecords(g,h,m,q,n,l,o,j);return o>q&&l.splice(q,o-q),this.groups.length>0&&this.groupable?this.totalrows=s:this.totalrows=p,j},this.loadflatrecords=function(b,c,d,e,f,g,h,i){var j=this.that,k=b,l=b;c=Math.min(c,this.totalrecords);for(var m=null!=this.sortdata,n=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||""==this.source.datatype),m?this.sortdata:this.records),o=b;o<c;o++){var p={};m?(p=a.extend({},n[o].value),id=p[j.uniqueId],p.boundindex=n[o].index,void 0==p.uid&&(p.uid=j.getid(j.source.id,p,p.boundindex)),j.recordsbyid["id"+p.uid]=n[o].value,j.recordsbyid["id"+p.uid]&&(j.recordsbyid["id"+p.uid].boundindex=p.boundindex),j.loadedrecords[k]=p,p.uniqueid=j.generatekey(),j.bounditems[p.boundindex]=p):(p=new Object(n[o]),id=p[j.uniqueId],p.boundindex=k,j.loadedrecords[k]=p,void 0==p.uid&&(p.uid=j.getid(j.source.id,p,k)),j.recordsbyid["id"+p.uid]=n[o],j.recordsbyid["id"+p.uid]&&(j.recordsbyid["id"+p.uid].boundindex=p.boundindex),p.uniqueid=j.generatekey(),j.bounditems[this.bounditems.length]=p),(e>=h||id!=g[e][j.uniqueId]||f&&f[id])&&(i[i.length]=e),g[e]=p,e++,p.visibleindex=l,l++,k++}if(j.grid.summaryrows){var q=k;a.each(j.grid.summaryrows,function(){var b=a.extend({},this);b.boundindex=c++,j.loadedrecords[q]=b,b.uniqueid=j.generatekey(),j.bounditems[j.bounditems.length]=b,g[e]=b,e++,b.visibleindex=l,l++,q++})}return l},this.updateview=function(a,b){var c=this.that,d=this.pagesize*this.pagenum,e=0,f=new Array,g=this.filters,h=this.updated,i=f.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var j=this.pagesize*(1+this.pagenum);return j>this.totalrecords&&(j=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,j,g,e,h,f,i,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),g,e,h,f,i,[]),this.totalrows=f.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var k=this.pagesize;0==k&&(k=Math.min(100,this.totalrecords));var l=k*this.pagenum;if(0==this.loadedrecords.length&&(l=0),null!=a&&null!=b?this.loadflatrecords(a,b,g,e,h,f,i,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),g,e,h,f,i,[]),this.totalrows=this.loadedrecords.length,this.rows=f,f.length>=k)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)f=this._updategroupsinpage(c,g,d,e,i,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var m=this.pagesize*this.pagenum;m<this.pagesize*(1+this.pagenum);m++){var n=m<this.loadedrecords.length?this.loadedrecords[m]:null;null!=n&&((!this.pagesize||d>=this.pagesize*this.pagenum&&d<=this.pagesize*(this.pagenum+1))&&(f[e]=n,e++),d++)}if((0==f.length||f.length<this.pagesize)&&!this.pageable&&this.virtualmode){e=f.length;for(var o=f.length,m=this.pagesize*this.pagenum;m<this.pagesize*(1+this.pagenum)-o;m++){var n={};n.boundindex=m+o,n.visibleindex=m+o,n.uniqueid=c.generatekey(),n.empty=!0,c.bounditems[m+o]=n,f[e]=n,e++}}this.rows=f},this.generatekey=function(){var a=function(){return 16*(1+Math.random())|0};return""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(b){if(!this.suspend){void 0==b&&(b=!0);var c=this.rows.length,d=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var e="",f=this.cachedrecords.length,g=new Array;this.totalrecords=0;var h=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var i=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)g=this.source.filter(this.filters,h,f),void 0==g&&(g=new Array),this.records=g;else if(null==this.source.filter||void 0==this.source.filter){for(var j=0;j<f;j++){for(var k=h[j],l=void 0,m=0;m<i;m++){var e=this.filters[m].filter,n=k[this.filters[m].datafield],o=e.evaluate(n);if(this.grid.filter){var p=this.grid.filter(n,k,this.filters[m].datafield,e,o);void 0!==p&&(o=p)}l=void 0==l?o:"or"==e.operator?l||o:l&&o}l?(g[g.length]=a.extend({dataindex:j},k),this._dataIndexToBoundIndex[j]={boundindex:g.length-1}):this._dataIndexToBoundIndex[j]=null}this.records=g}if(this.sortfield){var q=this.sortfield;if(this.sortcache[q]){this.sortdata=null;var r=this.sortcache[q].direction;return this.sortcache[q]=null,void this.sortby(this.sortfield,r)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var h=this.cachedrecords;if(this.records=h,this.sortfield){var q=this.sortfield;if(this.sortcache[q]){this.sortdata=null;var r=this.sortcache[q].direction;return this.sortcache[q]=null,void this.sortby(this.sortfield,r)}}}var s=this.reload(this.records,this.rows,this.filter,this.updated,b);this.updated=null,null!=this.rowschangecallback&&(d!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),c!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:c,current:rows.length}}),(s.length>0||c!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:c,current:rows.length,diff:s}}))}},this},e.prototype={init:function(){},destroy:function(){this.$jqxWindow&&this.$jqxWindow.jqxWindow("destroy")},columnPersonalization:function(a){var b=this.mainGrid;this.disableColumns=a.disableColumns,this.hiddenColumns=a.hiddenColumns,void 0===b._$jqxwndColPersonal?this.$jqxWindow=this._createPersonalizedWindow():(this.$jqxWindow=b._$jqxwndColPersonal,this.windowMinWidth=this._calculateWindowWidth(),this.$jqxWindow.jqxWindow({width:this.windowMinWidth}),this.$jqxWindow.jqxWindow({position:"center"}),this.$jqxWindow.find(".jqx-window-content").prepend("<div class="+h.WINDOW_GRID+"></div>")),this._createPersonalizedGrid(),this.$jqxWindow.jqxWindow("open")},_createPersonalizedWindow:function(){var b,c=this,d=null,e=c.mainGrid,f=e.element.id+"_jqxColumnPersonalWindow",g=100,i="<div class="+h.WINDOW+" id="+f+"><div class="+h.WINDOW_TITLE+">"+e.gridlocalization.personalizationWindow.windowLabel+"</div><div><div class="+h.WINDOW_GRID+"></div><div><div class="+h.WINDOW_BUTTON_AREA+"><input type='button' class="+h.WINDOW_SAVE_BUTTON+" value='"+e.gridlocalization.personalizationWindow.save+"'/><input type='button' class="+h.WINDOW_CANCEL_BUTTON+" value='"+e.gridlocalization.personalizationWindow.cancel+"'/></div></div></div></div>";this.windowGridHeight=e.host.find(".jqx-grid-header").outerHeight(!0)+2*e.columnsheight,e.hScrollBar&&(this.windowGridHeight+=e.hScrollBar.outerHeight(!0)),b=this.windowGridHeight+g;var j=a(window).width();return c.windowMinWidhth=c._calculateWindowWidth(),d=a(i).jqxWindow({height:b,width:c.windowMinWidhth,maxWidth:j,theme:"",resizable:!1,isModal:!0,modalOpacity:.3,autoOpen:!1,position:"center"}),d.on("close",function(){d.find("."+h.WINDOW_GRID).jqxGrid("destroy")}),d.find("."+h.WINDOW_CANCEL_BUTTON).jqxButton().on("click",function(){d.jqxWindow("close")}),d.find("."+h.WINDOW_SAVE_BUTTON).jqxButton().on("click",function(){var a=c.$jqxWindow.windowGridThis,b=a.columns.records,d=a.getrowdata(0);c.saveColumnPersonalizedData(b,d)}),e._$jqxwndColPersonal=d,d},_createPersonalizedGrid:function(){for(var b,c,d=function(a){var b=a.columngroups,c=[],d={};if(!b)return null;for(var e=0;e<b.length;e++)d={},d.text=b[e].text,d.name=b[e].name,d.align=b[e].align,b[e].parentgroup&&(d.parentgroup=b[e].parentgroup),c.push(d);return c},e=this.mainGrid,f=this.getMainGridColumns(),g=d(e),i=[],j=[],k={},l=[],m={},n=0,o=f.length;n<o;n++)c=f[n],m={columntype:"checkbox",text:c.text,datafield:c.datafield,width:isNaN(c.width)?e._measureElementWidth(c.text):c.width,visibleindex:c.order,align:c.align,hidden:a.inArray(c.datafield,this.hiddenColumns)>=0,editable:!(a.inArray(c.datafield,this.disableColumns)>=0)},null!=c.datafield&&void 0!=c.datafield||(m.editable=!1),c.columngroup&&(m.columngroup=c.columngroup),l.push(m),i.push({name:c.datafield}),k[c.datafield]=!c.hidden;j.push(k),l.sort(function(a,b){return a.visibleindex-b.visibleindex});var p=new a.jqx.dataAdapter({datatype:"json",datafields:i,localdata:j});b=this.$jqxWindow.find("."+h.WINDOW_GRID).jqxGrid({width:this.windowMinWidhth-10,height:this.windowGridHeight,source:p,editable:!0,columnsresize:!0,columnsreorder:!0,columngroups:g,columns:l,selectionmode:"singlecell"}),this.$jqxWindow.windowGridThis=b.data("jqxGrid").instance},saveColumnPersonalizedData:function(a,c){for(var d=this.mainGrid,e=function(a,b){var c,e=[],f=0;"checkbox"!=d.selectionmode&&"checkboxextended"!=d.selectionmode||(f=1);for(var g=0,h=a.length;g<h;g++)c={},a[g].datafield?(c.datafield=a[g].datafield,c.width=a[g].width,c.order=f++,b?c.hidden=!b[a[g].datafield]:c.hidden=a[g].hidden,a[g].columngroup&&(c.columngroup=a[g].columngroup),e.push(c)):f++;return e},f=function(a){var b,c=a.columngroups,d=[];if(null==c)return d;for(var e=0,f=c.length;e<f;e++)b={},b.name=c[e].name,b.level=c[e].level,c[e].parentgroup&&(b.parentgroup=c[e].parentgroup),d.push(b);return d},g={columninfo:e(a,c),columngroupinfo:f(d)},h=0,i=g.columninfo,j=0,k=i.length;j<k;j++)i[j].hidden||h++;if(0==h&&(i[0].hidden=!1,d._raiseEvent(26)),d.beforeSavePersonalization){var l=b.copyObject(i),m=d.beforeSavePersonalization(l);if(void 0==m)return;if(0==m)return void(this.$jqxWindow&&this.$jqxWindow.jqxWindow("close"))}var n=d._makeWidgetStorageArguments();n.storageData=g,d.$storage$.save(n),d._updating=!0,this.__applyPersonalizedColumnAttr(i),d._updating=!1,this._isCheckColumnPersonalizedData=!0,d.render(),this.$jqxWindow&&this.$jqxWindow.jqxWindow("close"),d.afterSavePersonalization&&d.afterSavePersonalization()},__applyPersonalizedColumnAttr:function(a){var b=this.mainGrid;if(a)for(var c=0,d=a.length;c<d;c++)b.setcolumnindex(a[c].datafield,a[c].order,!1),b._setcolumnproperty(a[c].datafield,"width",a[c].width),b._setcolumnproperty(a[c].datafield,"hidden",a[c].hidden)},getMainGridColumns:function(a){var b,c=this.mainGrid,d=c.columns.records||[],e=[],f=0;for("checkbox"!=c.selectionmode&&"checkboxextended"!=c.selectionmode||(f=1),colLength=d.length;f<colLength;f++)b={},b.datafield=d[f].datafield,b.width=isNaN(d[f].width)?c._measureElementWidth(d[f].text):d[f].width,b.order=f,b.hidden=d[f].hidden,a?b.pinned=d[f].pinned:(b.align=d[f].align,b.text=d[f].text),d[f].columngroup&&(b.columngroup=d[f].columngroup),e.push(b);return e},_calculateWindowWidth:function(){var b=a(window).width(),c=1e3,d=c;return b<=c&&(d=3*parseInt(b/4)),d+10},checkColumnPersonalizedData:function(a){var b=this.mainGrid,c=b._columns,d=a.columninfo||[],e=a.columngroupinfo||[],f=b.columngroups||[];if(this._isCheckColumnPersonalizedData)return!1;for(var g=0,h=0;h<c.length;h++)c[h].datafield&&g++;if(this._isCheckColumnPersonalizedData=!0,g!=d.length)return!0;if(f.length!=e.length)return!0;for(var i=0,j=0,k=0,l=c.length;k<l;k++)for(var m=0,n=d.length;m<n;m++)if(c[k].datafield==d[m].datafield){if(c[k].columngroup||d[m].columngroup){if(c[k].columngroup&&d[m].columngroup&&c[k].columngroup==d[m].columngroup){i++;break}return!0}i++;break}if(i!=g)return!0;for(var o=0,p=f.length;o<p;o++)for(var m=0,q=e.length;m<q;m++)if(f[o].name==e[m].name){if(f[o].parentgroup||e[m].parentgroup){if(f[o].parentgroup&&e[m].parentgroup&&f[o].parentgroup==e[m].parentgroup){j++;break}return!0}j++;break}return j!=f.length}},f.prototype={init:function(a){a&&(this._personalization=a)},destroy:function(){this._columns=null,this._columnsKeyMap=null,this._saveMetaData=null},setMetaData:function(a){for(var b=0,c=a.length;b<c;b++){var d={},e=a[b].datafield;d.datafield=e,d.width=a[b].width,d.order=parseInt(a[b].order),d.hidden=a[b].hidden,d.columngroup=a[b].columngroup,this._columns.push(d),this._columnsKeyMap[e]=b}},getMetaData:function(){return this._columns},setVisible:function(a,b){var c=this._columnsKeyMap[a];c>-1&&this._updateMetaData(c,"hidden",b)},_updateMetaData:function(a,b,c){var d=this._columns[a];d[b]=c},getVisible:function(a){var b=this._columnsKeyMap[a];return!this._columns[b].hidden},setOrder:function(a,b){for(var c=0,d=this._columns.length;c<d;c++){var e=this._columns[c];e.datafield!=a?e.order>=b&&this._updateMetaData(c,"order",e.order+1):this._updateMetaData(c,"order",b)}},getOrder:function(a){var b=this._columnsKeyMap[a];return this._columns[b].order},getField:function(a){var c=this._columnsKeyMap[a];return b.copyObject(this._columns[c])},save:function(){var a=this.getMetaData();this._personalization.saveColumnPersonalizedData.call(this._personalization,a)}}}(jqxBaseFramework,A),function(a){function b(b){var b=b,c=this;this.verticalMergeList=[],this.horizontalMergeList=[],this.merge=function(b,d,e,f){c.collectVerticalMergeInfo(d,e,f+1),c.collectHorizontalMergeInfo(d,e,f+1),a.each(c.verticalMergeList,function(a,d){c.mergeVertical(d,b)}),a.each(c.horizontalMergeList,function(a,d){c.mergeHorizontal(d,b)})},this.collectVerticalMergeInfo=function(a,d,e){for(var f=0;f<e;f++){var g=f+d,h=g+1,i=void 0!=a?a[g]:null,j=void 0!=a?a[h]:null;if(null==i||null==j)break;if(void 0==i.bounddata||void 0==j.bounddata)break;for(var k=0,l=b.verticalMerge.length;k<l;k++){var m=b._getcolumnindex(b.verticalMerge[k]),n=b.columns.records[m];if(!n.hidden&&i.bounddata[n.datafield]==j.bounddata[n.datafield]){var o={start:{rowindex:g-d,cellindex:m,datafield:n.datafield},end:{rowindex:h-d,cellindex:m,datafield:n.datafield},direction:"v"};c.addMergeInfo(o)}}}},this.collectHorizontalMergeInfo=function(d,e,f){for(var g=0;g<b.horizontalMerge.length;g++){var h=[];a.each(b.horizontalMerge[g],function(a,c){var d=b.getcolumn(c);if(void 0==d||null==d)throw new Error("Horizontal Merge is prevented because column '"+c+"' dose not exists.");h.push(d)});for(var i=0;i<f;i++){var j=i+e,k=void 0!=d?d[j]:null;if(null==k)break;var l=!0,m=h[0],n=null;if(m.pinned||m.hidden)l=!1;else{for(var o=1;o<h.length;o++)if(n=h[o],k.bounddata[m.datafield]!=k.bounddata[n.datafield]){l=!1;break}if(l){var p={start:{rowindex:i,cellindex:m.visibleindex,datafield:m.datafield},end:{rowindex:i,cellindex:h[h.length-1].visibleindex,datafield:n.datafield},direction:"h"};c.addMergeInfo(p)}}}}},this.clear=function(){c.verticalMergeList=[],c.horizontalMergeList=[]},this.mergeVertical=function(a,c){var d=a.start.rowindex,e=a.end.rowindex,f=a.start.cellindex,g=c[d].cells[f],h=e-d+1,i=h*b.rowsheight;g.style.zIndex=1,g.style.height=i+"px"},this.mergeHorizontal=function(b,c){for(var d=b.start.rowindex,e=b.start.cellindex,f=b.end.cellindex,g=c[d],h=g.cells[e],i=0,j=e;j<=f;j++)i+=parseInt(a(g.cells[j]).outerWidth());i=parseInt(i),h.style.zIndex=1,h.style.width=i+"px"},this.getRootCellAmongMergedCells=function(d,e){function f(a){var c={},d=b.hittestinfo[a.start.rowindex];return c.row=d.row,c.cell=b._getcolumnat(a.start.cellindex),c.details=d.details,c.visualrow=d.visualrow,c.visualrowindex=a.start.rowindex,c.visualcellindex=a.start.cellindex,c.visualcell=c.visualrow.cells[a.start.cellindex],c.datafield=a.start.datafield,c}var g=null;return a.each(c.verticalMergeList,function(a,b){if(d>=b.start.rowindex&&d<=b.end.rowindex&&e==b.start.cellindex)return void(g=f(b))}),g||a.each(c.horizontalMergeList,function(a,b){if(e>=b.start.cellindex&&e<=b.end.cellindex&&d==b.start.rowindex)return void(g=f(b))}),g},this.addMergeInfo=function(a){var b=c._findMergeInfoSibling(a);"v"===a.direction?null==b?c.verticalMergeList.push(a):b.end.rowindex=a.end.rowindex:"h"===a.direction&&(null==b?c.horizontalMergeList.push(a):b.end.cellindex=a.end.cellindex)},this._findMergeInfoSibling=function(a){function b(a){for(var b=a.start.rowindex,d=a.start.cellindex,e=0,f=c.verticalMergeList.length;e<f;e++){var g=c.verticalMergeList[e];if(g.start.cellindex==d&&b>=g.start.rowindex&&b<=g.end.rowindex)return g}return null}function d(a){for(var b=a.start.rowindex,d=a.start.cellindex,e=0,f=c.horizontalMergeList.length;e<f;e++){var g=c.horizontalMergeList[e];if(g.start.rowindex==b&&d>=g.start.cellindex&&d<=g.end.cellindex)return g}return null}var e=null;return"v"===a.direction?e=b(a):"h"===a.direction&&(e=d(a)),e}}function c(b){var b=b,c=[],d={},e=b._getFunctionsToBeReplacedForCellMerge();for(var f in e)c.push(f),d[f]=b[f];this.replaceFunctions=function(f){var g;if(f){if(a.jqx.browser.msie&&a.jqx.browser.version<8)throw new Error("Windows Internet Explorer "+a.jqx.browser.version+" dose not support cell merge feature. Please try to disable jqxGrid's 'enableMerge' option");g=e}else g=d;a.each(c,function(a,c){b[c]=g[c]})}}a.extend(a.jqx._jqxGrid.prototype,{_getFunctionsToBeReplacedForCellMerge:function(){var b={_prerenderrows:function(b){var c=this.that;if(1==c.prerenderrequired){if(c.prerenderrequired=!1,c.editable&&c._destroyeditors&&c._destroyeditors(),void 0!=c.table&&c._destroywidgets&&c._destroywidgets(),void 0==c.gridcontent)return;c.gridcontent.find("#contenttable"+c.element.id).remove(),null!=c.table&&(c.table.remove(),c.table=null),c.table=a('<div id="contenttable'+c.element.id+'" style="overflow: hidden; position: relative;"></div>'),c.gridcontent.addClass(c.toTP("jqx-grid-content")),c.gridcontent.addClass(c.toTP("jqx-widget-content")),c.gridcontent.append(c.table);var d=c.groupable&&c.groups.length>0,e=0;c.table[0].rows=new Array;var f=c.toTP("jqx-grid-cell");d&&(f=" "+c.toTP("jqx-grid-group-cell"));var g=b.visiblerecords;if(c.pageable&&(c.autoheight||c.autorowheight)&&(g=c.dataview.pagesize,c.groupable&&(c.dataview.updateview(),g=c.dataview.rows.length,g<c.dataview.pagesize&&(g=c.dataview.pagesize))),c.pageable||!c.autoheight&&!c.autorowheight||(g=c.dataview.totalrecords),c.groupable&&c.groups.length>0&&(c.autoheight||c.autorowheight)&&!c.pageable&&(g=c.dataview.rows.length),c.rowdetails&&(g+=c.autoheight||c.autorowheight?c.dataview.pagesize:g),!c.columns.records)return;var h=c.columns.records.length;a.jqx.browser.msie&&a.jqx.browser.version>8&&c.table.css("opacity","0.99"),a.jqx.browser.mozilla,navigator.userAgent.indexOf("Safari")!=-1&&c.table.css("opacity","0.99");var i=a.jqx.browser.msie&&a.jqx.browser.version<8;i&&c.host.attr("hideFocus","true");var j=(0==c.dataview.records.length,c.isTouchDevice(),"");c._hiddencolumns=!1;for(var k=0;k<g;k++){for(var l='<div role="row" style="position: relative; height:'+c.rowsheight+'px;" id="row'+k+c.element.id+'">',m=0,n=0;n<h;n++){var o=c.columns.records[n],p=o.width;if(p<o.minwidth&&(p=o.minwidth),p>o.maxwidth&&(p=o.maxwidth),this.enhancedRendering)if(c.rtl)var q='<div role="gridcell" style="left: '+m+"px;; width:"+p+"px; box-sizing:border-box;  display:none";else var q='<div role="gridcell" style="left: '+m+"px; width:"+p+"px; box-sizing:border-box;  display:none";else if(c.rtl)var q='<div role="gridcell" style="left: '+m+"px;; width:"+p+"px; box-sizing:border-box";else var q='<div role="gridcell" style="left: '+m+"px; width:"+p+"px; box-sizing:border-box";o.hidden&&o.hideable?(q+=" display: none;",c._hiddencolumns=!0):(m+=p,this.enhancedRendering&&(q+="display: none;")),q+='" class="'+f+'">';var r=this._defaultcellsrenderer("",o);q+=r,q+="</div>",l+=q}0==e&&(c.table.width(parseInt(m)+2),e=m),l+="</div>",j+=l}c.WinJS?MSApp.execUnsafeLocalFunction(function(){c.table.html(j)}):c.table[0].innerHTML=j,c.table[0].rows=new Array;for(var s=c.table.children(),k=0;k<g;k++){var t=s[k];c.table[0].rows.push(t),t.cells=new Array;for(var u=a(t).children(),n=0;n<h;n++)t.cells.push(u[n])}if(0==g){var m=0;if(c.showemptyrow){var l=a('<div style="position: relative;" id="row0'+c.element.id+'"></div>');c.table.append(l),l.height(c.rowsheight),c.table[0].rows[0]=l[0],c.table[0].rows[0].cells=new Array}for(var n=0;n<h;n++){var o=c.columns.records[n],p=o.width;if(c.showemptyrow){var q=a('<div style="position: absolute; height: 100%; left: '+m+"px; z-index: "+zindex--+"; width:"+p+'px;" class="'+f+'"></div>');q.height(c.rowsheight),l.append(q),c.table[0].rows[0].cells[n]=q[0]}p<o.minwidth&&(p=o.minwidth),p>o.maxwidth&&(p=o.maxwidth),o.hidden&&o.hideable||(m+=p)}c.table.width(parseInt(m)+2),e=m}c._updatescrollbarsafterrowsprerender(),c.rendered&&c.rendered("rows"),c.toCompile=new Array,c._addoverlayelement()}},_handlemousedown:function(b,c){var d=c.selectionmode;if(null==b.target)return!0;if(c.disabled)return!0;if(a(b.target).ischildof(this.columnsheader)||a(b.target).ischildof(this.hScrollBar)||a(b.target).ischildof(this.vScrollBar))return!0;var e;b.which?e=3==b.which:b.button&&(e=2==b.button);var f;if(b.which?f=2==b.which:b.button&&(f=1==b.button),f)return!0;if(this.showstatusbar){if(a(b.target).ischildof(this.statusbar))return!0;if(b.target==this.statusbar[0])return!0}if(this.showtoolbar){if(a(b.target).ischildof(this.toolbar))return!0;if(b.target==this.toolbar[0])return!0}if(this.pageable){if(a(b.target).ischildof(this.pager))return!0;if(b.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&a(b.target).ischildof(this.pager))return!0;var g=this.showheader?this.columnsheader.height()+2:0,h=this._groupsheader()?this.groupsheader.height():0,i=this.showtoolbar?this.toolbarheight:0;h+=i;var j=this.host.coord();if(this.hasTransform){j=a.jqx.utilities.getOffset(this.host);var k=this._getBodyOffset();j.left-=k.left,j.top-=k.top}var l=parseInt(b.pageX),m=parseInt(b.pageY);if(this.isTouchDevice()){var n=c.getTouches(b),o=n[0];l=parseInt(o.pageX),m=parseInt(o.pageY),1==c.touchmode&&void 0!=o._pageX&&(l=parseInt(o._pageX),m=parseInt(o._pageY))}var p=l-j.left,q=m-g-j.top-h;if(this.pageable&&!this.autoheight&&this.gotopage){var r=this.pager.coord().top-j.top-h-g;if(q>r)return}var s=this._hittestrow(p,q);if(s&&!s.details){var t=s.row,u=s.index,v=b.target.className,w=this.table[0].rows[u];if(null==w)return c.editable&&c.begincelledit&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),!0;c.mousecaptured=!0,c.mousecaptureposition={left:b.pageX,top:b.pageY-h,clickedrow:w};var x=this.hScrollInstance,y=x.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(y=x.max-x.value);var z=-1,A=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(y-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(y=-parseInt(this.content.css("left"))));for(var B=0;B<w.cells.length;B++){var C=parseInt(a(this.columnsrow[0].cells[B]).css("left")),l=C-y;c.columns.records[B].pinned&&!c.rtl&&(l=C);
var D=this._getcolumnat(B);if(null==D||!D.hidden){var E=l+a(this.columnsrow[0].cells[B]).width();if(E>=p&&p>=l){z=B,c.mousecaptureposition.clickedcell=B;break}}}if(this.rtl&&this._haspinned)for(var B=w.cells.length-1;B>=0&&c.columns.records[B].pinned;B--){var C=a(this.columnsrow[0].cells[B]).coord().left-this.host.coord().left,l=C,D=this._getcolumnat(B);if(null==D||!D.hidden){var E=l+a(this.columnsrow[0].cells[B]).width();if(E>=p&&p>=l){z=B,c.mousecaptureposition.clickedcell=B;break}}}if(this.enableMerge){var F=this._cellMergeHelper.getRootCellAmongMergedCells(s.index,z);F&&(t=s.row=F.row,u=s.index=F.visualrowindex,s.details=F.details,w=F.visualrow,z=F.visualcellindex,D=F.cell)}if(null!=t&&z>=0){this._raiseEvent(1,{rowindex:this.getboundindex(t),visibleindex:t.visibleindex,row:t,group:t.group,rightclick:e,originalEvent:b});var D=this._getcolumnat(z),G=this.getcellvalue(this.getboundindex(t),D.datafield);if(this.editable&&this.editcell&&D.datafield==this.editcell.column&&this.getboundindex(t)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(t),column:D?D.getcolumnproperties():null,row:t,visibleindex:t.visibleindex,datafield:D?D.datafield:null,columnindex:z,value:G,rightclick:e,originalEvent:b}),D.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==D.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(u,D.datafield),!0}else if("button"==D.columntype&&this._overlayElement)return D.buttonclick&&D.buttonclick(w.cells[z].buttonrow,b),!0;var H=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(t)&&(this._raiseEvent(22,{rowindex:this.getboundindex(t),row:t,visibleindex:t.visibleindex,group:t.group,rightclick:e,originalEvent:b}),this._clickedcolumn==D.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(t),row:t,visibleindex:t.visibleindex,column:D?D.getcolumnproperties():null,datafield:D?D.datafield:null,columnindex:z,value:G,rightclick:e,originalEvent:b}),H=!0,this._clickedrowindex=-1,this._clickedcolumn=null,b.isPropagationStopped&&b.isPropagationStopped()))return!1;if(e)return!0;H||(this._clickedrowindex=this.getboundindex(t),this._clickedcolumn=D.datafield);var I=a.jqx.utilities.getBrowser();if("msie"==I.browser&&parseInt(I.version)<=7&&(0==z&&this.rowdetails&&(v="jqx-grid-group-collapse"),A>0&&z<=A&&(v="jqx-grid-group-collapse")),v.indexOf("jqx-grid-group-expand")!=-1||v.indexOf("jqx-grid-group-collapse")!=-1)this.rtl?A>0&&z>w.cells.length-A-1&&this._togglegroupstate?this._togglegroupstate(t.bounddata,!0):z==w.cells.length-1-A&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(t.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):A>0&&z<A&&this._togglegroupstate?this._togglegroupstate(t.bounddata,!0):z==A&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(t.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(t.boundindex!=-1){var J=this.selectedrowindexes.slice(0),K=!1;if("none"!=c.selectionmode&&c.selectionmode.indexOf("checkbox")==-1&&this._selectrowwithmouse){"multiplecellsadvanced"!=c.selectionmode&&"multiplecellsextended"!=c.selectionmode&&"multiplerowsextended"!=c.selectionmode&&"multiplerowsadvanced"!=c.selectionmode||b.ctrlKey||b.shiftKey||b.metaKey||(c.selectedrowindexes=new Array,c.selectedcells=new Array);var L=!1,M=this.getboundindex(t);c._oldselectedrow!==M&&"none"!==c.selectionmode||(L=!0),c.selectionmode.indexOf("cell")==-1?("singlerow"!=c.selectionmode||c.selectedrowindex!=M&&"singlerow"==c.selectionmode)&&(this._applyrowselection(M,!0,!1,null,D.datafield),this._selectrowwithmouse(c,s,J,D.datafield,b.ctrlKey||b.metaKey,b.shiftKey)):null!=D.datafield&&(this._selectrowwithmouse(c,s,J,D.datafield,b.ctrlKey||b.metaKey,b.shiftKey),b.shiftKey||this._applycellselection(M,D.datafield,!0,!1,s.index)),c._oldselectedcell&&c._oldselectedcell.datafield==c.selectedcell.datafield&&c._oldselectedcell.rowindex==c.selectedcell.rowindex&&(K=!0),c._oldselectedcell=c.selectedcell,c._oldselectedrow=M}else if("checkboxextended"==c.selectionmode){if(0==z)return!0;for(var N=this.getselectedrowindexes().slice(),B=0,O=N.length;B<O;B++)c.unselectrow(N[B]);c.selectionmode="multiplecellsadvanced",b.ctrlKey||b.shiftKey||(c.selectedrowindexes=new Array,c.selectedcells=new Array);var L=!1,M=this.getboundindex(t);c._oldselectedrow!==M&&"none"!==c.selectionmode||(L=!0),null!=D.datafield&&(this._selectrowwithmouse(c,s,J,D.datafield,b.ctrlKey,b.shiftKey),b.shiftKey||this._applycellselection(M,D.datafield,!0,!1)),c._oldselectedcell&&c._oldselectedcell.datafield==c.selectedcell.datafield&&c._oldselectedcell.rowindex==c.selectedcell.rowindex&&(K=!0),c._oldselectedcell=c.selectedcell,c._oldselectedrow=M}if(c.autosavestate&&c.savestate&&c.savestate(),c.editable&&c.begincelledit&&"programmatic"!=c.editmode){if(b.isPropagationStopped&&b.isPropagationStopped())return"checkboxextended"==d&&(c.selectionmode=d),!1;if("selectedrow"==c.editmode){if(L&&!c.editcell){if("checkbox"!==D.columntype){c.beginrowedit(this.getboundindex(t))}}else if(c.editcell&&!L&&"none"!=c.selectionmode){c.endrowedit(c.editcell.row)}}else{var M=this.getboundindex(t),P="click"==c.editmode||K&&"selectedcell"==c.editmode;if(c.selectionmode.indexOf("cell")==-1&&"dblclick"!=c.editmode&&(P=!0),P&&void 0!=t.boundindex&&D.editable){c.begincelledit(this.getboundindex(t),D.datafield,D.defaulteditorvalue);c.selectionmode.indexOf("cell")==-1&&"checkboxextended"!=c.selectionmode||c._applycellselection(M,D.datafield,!1,!1)}c.selectionmode.indexOf("cell")!=-1&&"selectedcell"==c.editmode&&!K&&c.editcell&&c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),"dblclick"!=c.editmode||K||!c.editcell||c.editcell.row==M&&D.datafield==c.editcell.column||c.endcelledit(c.editcell.row,c.editcell.column,!1,!0)}return"checkboxextended"==d&&(c.selectionmode=d),!0}}}return"checkboxextended"==d&&(c.selectionmode=d),!0}},_handlemousemove:function(b,c){if(!c.vScrollInstance.isScrolling()&&!c.hScrollInstance.isScrolling()){var d,e,f,g,h;if(c.enablehover||"multiplerows"==c.selectionmode){d=this.showheader?this.columnsheader.height()+2:0,e=this._groupsheader()?this.groupsheader.height():0;var i=this.showtoolbar?this.toolbarheight:0;if(e+=i,f=this.host.coord(),this.hasTransform){f=a.jqx.utilities.getOffset(this.host);var j=this._getBodyOffset();f.left-=j.left,f.top-=j.top}g=b.pageX-f.left,h=b.pageY-d-f.top-e}if("multiplerowsextended"!=c.selectionmode&&"multiplecellsextended"!=c.selectionmode&&"multiplecellsadvanced"!=c.selectionmode&&"checkboxextended"!=c.selectionmode||1!=c.mousecaptured){if(!c.enablehover)return!0;if(!c.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var k=this._hittestrow(g,h);if(k){var l=k.row,m=k.index;if((this.hoveredrow==-1||m==-1||this.hoveredrow!=m||this.selectionmode.indexOf("cell")!=-1||this.selectionmode.indexOf("checkbox")!=-1)&&(this._clearhoverstyle(),m!=-1&&void 0!=l)){var n=this.hittestinfo[m].visualrow;if(null!=n&&!(this.hittestinfo[m].details||b.clientX>a(n).width()+a(n).coord().left)){var o=0,p=n.cells.length;if(c.rowdetails&&c.showrowdetailscolumn?this.rtl?(p-=1,p-=this.groups.length):o=1+this.groups.length:this.groupable&&(this.rtl?p-=this.groups.length:o=this.groups.length),0!=n.cells.length){var q=n.cells[o].className;if(!(l.group||this.selectionmode.indexOf("row")>=0&&q.indexOf("jqx-grid-cell-selected")!=-1))if(this.hoveredrow=m,this.selectionmode.indexOf("cell")==-1&&this.selectionmode.indexOf("checkbox")==-1)for(var r=o;r<p;r++){var s=n.cells[r];a(s).addClass(this.toTP("jqx-grid-cell-hover")),a(s).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(s,b.pageX,b.pageY)}else{var t=-1,u=this.hScrollInstance,v=u.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(v=u.max-u.value);for(var r=o;r<p;r++){var w=parseInt(a(this.columnsrow[0].cells[r]).css("left"))-v;this.columns.records[r].pinned&&!this.rtl&&(w=parseInt(a(this.columnsrow[0].cells[r]).css("left")));var x=w+a(this.columnsrow[0].cells[r]).width();if(x>=g&&g>=w){t=r;break}}if(t!=-1){var s=n.cells[t];if(this.cellhover&&this.cellhover(s,b.pageX,b.pageY),s.className.indexOf("jqx-grid-cell-selected")==-1){if(this.editcell){var y=this._getcolumnat(t);if(y&&this.editcell.row==m&&this.editcell.column==y.datafield)return}if("checkboxextended"!=this.selectionmode||0!=t){if(this.enableMerge){var z=this._cellMergeHelper.getRootCellAmongMergedCells(m,t);z&&(s=z.visualcell,n=z.visualrow)}a(s).addClass(this.toTP("jqx-grid-cell-hover")),a(s).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}},_rendercolumnheaders:function(){var b=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var c=a('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');c[0].cells=new Array;var d=0,e=0,f="",g=this.host.width(),h=g,i=new Array,j=new Array,k=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(a.each(this.columns.records,function(a,c){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)f+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)g-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)g-=this.maxwidth;else if(this.width.toString().indexOf("%")!=-1){var c=0,d="hidden"==b.vScrollBar[0].style.visibility?0:b.scrollbarsize+5;d+=k,c=parseFloat(this.width)*(h-d)/100,c<this.minwidth&&"auto"!=this.minwidth&&(c=this.minwidth),c>this.maxwidth&&"auto"!=this.maxwidth&&(c=this.maxwidth),g-=c}else"string"==typeof this.width&&(this.width=parseInt(this.width)),g-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(b._haspinned&&(this.pinned=!0),i[i.length]=this):j[j.length]=this}),this.rtl){var l=0;i.reverse();for(var m=this.columns.records.length-1;m>=this.columns.records.length-i.length;m--)this.columns.replace(m,i[l++]);for(var n=0;n<j.length;n++)this.columns.replace(n,j[n])}else{for(var m=0;m<i.length;m++)this.columns.replace(m,i[m]);for(var n=0;n<j.length;n++)this.columns.replace(i.length+n,j[n])}var o=this.headerZIndex,p=b.groupable?b.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&p++;var q=b.columnsheader.height();this.showfilterrow&&(this.columngroups?q-=this.filterrowheight:q=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(q-=this.everpresentrowheight);var r=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>r&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var s=0;if(this.pageable){if(this.pageable)for(var t=0;t<this.dataview.rows.length;t++)this.dataview.rows[t].group&&0===this.dataview.rows[t].level&&(s+=this.rowsheight)}else var s=this.dataview.loadedrootgroups.length*this.rowsheight;s>r&&(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5)}else g-=this.scrollbarsize+5,h-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(g-=this.scrollbarsize+5,h-=this.scrollbarsize+5);h-=k;var u=function(a,c){var d=b.columngroupslevel*b.columnsheight;return d-=c.level*b.columnsheight},v=document.createDocumentFragment(),w=this.columns.records.length;if(a.each(this.columns.records,function(i,j){this.height=b.columnsheight,b.columngroups&&b.columngroups.length&&(this.height=u(this.datafield,this),q=this.height);var k=b.toTP("jqx-grid-column-header")+" "+b.toTP("jqx-widget-header");b.rtl&&(k+=" "+b.toTP("jqx-grid-column-header-rtl"));var l=w+o,m=(b.rtl?o++:o--,a('<div role="columnheader" style="box-sizing:border-box; position: absolute; height: 100%;" class="'+k+'"><div style="height: 100%; width: 100%;"></div></div>'));b.enableHeaderTooltips&&!this.checkboxcolumn&&(m[0].title=this.text),b.columngroups&&(m[0].style.height=q+"px",m[0].style.bottom="0px",this.pinned&&(m[0].style.zIndex=l)),this.uielement=m,""!=this.classname&&this.classname&&m.addClass(this.classname);var n=this.width,r=!1;if(null===this.width&&(this.width="auto"),this.width.toString().indexOf("%")==-1&&void 0==this._percentagewidth||(n=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*h/100:parseFloat(this.width)*h/100,r=!0),"auto"==this.width||this._width||r){if(r)n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),void 0!=this._percentagewidth&&this.width.toString().indexOf("%")==-1||(this._percentagewidth=this.width),m.width(n),this.width=n;else if(!this.hidden){var s=Math.floor(g*(this.text.length/f.length));if(isNaN(s)&&(s=this.minwidth),s<0){var t=a("<span>"+this.text+"</span>");a(document.body).append(t),s=10+t.width(),t.remove()}s<this.minwidth&&(s=this.minwidth),s>this.maxwidth&&(s=this.maxwidth),this._width="auto",this.width=s,n=this.width,m.width(this.width)}}else n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth,this.width=n),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth,this.width=n),m[0].style.width=parseInt(n)+"px";this.hidden&&this.hideable&&m.css("display","none");var x=a(m.children()[0]),y=b.rtl?b.toTP("jqx-grid-column-menubutton")+" "+b.toTP("jqx-grid-column-menubutton-rtl"):b.toTP("jqx-grid-column-menubutton");y+=" "+b.toTP("jqx-icon-arrow-down");var z=a('<div style="height: '+q+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+y+'" style="width: 100%; height:100%;"></div></div>');b.enableanimations||z.css("margin-left",-16),b.rtl&&z.css("left","0px"),this.columnsmenu=z[0],c[0].cells[i]=m[0],z[0].style.width=parseInt(b.columnsmenuwidth)+"px";var A=b.columnsmenu,B=!1,C=!1,D=b.groupable&&p>0&&d<p||b.rowdetails&&d<p;if(b.rtl&&(D=b.groupable&&p>0&&d<p||b.rowdetails&&d<p,D&=i>b.columns.records.length-1-p),D)d++,A&=!1,this.sortable=!1,this.editable=!1,C=!0;else{var E=null!=this.renderer?this.renderer(this.text,this.align,q):b._rendercolumnheader(this.text,this.align,q,b);null==E&&(E=b._rendercolumnheader(this.text,this.align,q,b)),null!=this.renderer&&(E=a(E)),A&=!0,B=!0}if(b.WinJS?MSApp.execUnsafeLocalFunction(function(){x.append(a(E))}):this.renderer?x.append(a(E)):E&&(x[0].innerHTML=E),b.enableHeaderTooltips&&1!=this.checkboxcolumn&&m.jqxTooltip({content:m[0].textContent}),null!=E){var F=a('<div class="iconscontainer" style="height: '+q+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortascbutton")+" "+b.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+b.toTP("jqx-widget-header")+'" style="height: '+q+'px; float: right; display: none; width: 16px;"><div class="'+b.toTP("jqx-grid-column-sortdescbutton")+" "+b.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');z.addClass(b.toTP("jqx-widget-header")),x.append(F);var G=F.children();this.sortasc=G[1],this.sortdesc=G[2],this.filtericon=G[0],this.iconscontainer=F,b.rtl&&(F.css("margin-left","0px"),F.css("left","0px"),a(this.sortasc).css("float","left"),a(this.filtericon).css("float","left"),a(this.sortdesc).css("float","left")),!b.autoshowfiltericon&&this.filterable&&a(this.filtericon).css("display","block")}if(this.element=m[0],A&&(b._handlecolumnsmenu(b,x,m,z,this),this.menu||z.hide()),v.appendChild(m[0]),b.groupable&&B){if(m[0].id=b.dataview.generatekey(),!b._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");b._handlecolumnstogroupsdragdrop(this,m)}b.columnsreorder&&this.draggable&&b._handlecolumnsdragreorder&&b._handlecolumnsdragreorder(this,m);var H=this;if(b.addHandler(m,"click",function(a){if(H.checkboxcolumn)return!0;if(b.sorttogglestates>0&&b._togglesort&&!b._loading){if(b.suspendClick)return!0;b._togglesort(H)}a.preventDefault(),b._raiseEvent(7,{column:H.getcolumnproperties(),datafield:H.datafield,originalEvent:a})}),H.resizable&&b.columnsresize&&!C){var I=!1,J="mousemove";b.isTouchDevice()&&b.touchmode!==!0&&(I=!0,J=a.jqx.mobile.getTouchEventName("touchstart")),b.addHandler(m,J,function(c){var d=parseInt(c.pageX),e=5,f=parseInt(m.coord().left);if(b.hasTransform&&(f=a.jqx.utilities.getOffset(m).left),b.resizing)return!0;if(b._handlecolumnsresize){if(I){var g=b.getTouches(c),h=g[0];return d=h.pageX,e=40,d>=f+H.width-e?(b.resizablecolumn={columnelement:m,column:H},m.css("cursor","col-resize")):(m.css("cursor",""),b.resizablecolumn=null),!0}var i=H.width;if(b.rtl&&(i=0),d>=f+i-e){if(d<=f+i+e)return b.resizablecolumn={columnelement:m,column:H},m.css("cursor","col-resize"),!1;m.css("cursor",""),b.resizablecolumn=null}else m.css("cursor",""),d<f+i-e&&(H._animating||H._menuvisible||m.mouseenter()),b.resizablecolumn=null}})}if(m.css("left",e),this.hidden&&this.hideable||(e+=n),H.rendered){var K=H.rendered(a(x[0].firstChild),H.align,q);K&&null!=F&&F.hide()}if(H.checkboxcolumn){if(F&&F.hide(),!b.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");x.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var L=x.find("div:first");L.jqxCheckBox({limitToggle:!0,hasThreeStates:!0,_canFocus:!1,disabled:b.disabled,disabledContainer:!0,theme:b.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),H.checkboxelement=L;var M=L.data().jqxCheckBox.instance;b._checkboxcolumn=H,M.updated=function(a,c,d){b._checkboxcolumnupdating=!0,b.disabled&&(L.jqxCheckBox({disabled:b.disabled}),c=d),c?b.selectallrows():b.unselectallrows(),b._checkboxcolumnupdating=!1}}}),e>0?this.columnsheader.width(2+e):this.columnsheader.width(e),c[0].appendChild(v),this.columnsrow=c,b.columnsheader.append(c),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?c.height(this.columngroupslevel*this.columnsheight):c.height(this.columnsheight),!this.filterrow){var x=a("<div style='position: relative !important; '></div>");x[0].id="filterrow."+this.element.id,x.height(this.filterrowheight),this.filterrow=x}this.filterrow.width(2+e),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?c.height(this.columngroupslevel*this.columnsheight):c.height(this.columnsheight),!this.addnewrowtop){var y=a("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");y[0].id="addnewrowtop."+this.element.id,y.height(this.everpresentrowheight),this.addnewrowtop=y}this.addnewrowtop.width(2+e),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var z=a("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");z[0].id="addnewrowbottom."+this.element.id,z.height(this.everpresentrowheight),this.addnewrowbottom=z}this.addnewrowbottom.width(2+e),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}0==e?c[0].style.visibility="hidden":c[0].style.visibility="inherit",c.width(e),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var b=0,c=0;c<this.columns.records.length;c++)this.columns.records[c].pinned&&b++;var d=this.that,e=d.toTP("jqx-grid-column-header")+" "+d.toTP("jqx-grid-columngroup-header")+" "+d.toTP("jqx-widget-header");d.rtl&&(e+=" "+d.toTP("jqx-grid-columngroup-header-rtl"));var f=this.columnsheader.find("#columntable"+this.element.id);f.find("jqx-grid-columngroup-header").remove();for(var g=0;g<this.columngroupslevel-1;g++)for(var c=0;c<this.columngroups.length;c++){var h=this.columngroups[c],i=h.level;if(i===g){var j=i*this.columnsheight,k=99999;if(h.groups){var l=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=l(d):d.hidden||(b+=d.width,k=Math.min(parseFloat(d.element.style.left),k))}return b};h.width=l(h),h.left=k;var m=this.columnsheight,n=a('<div role="columnheader" style="box-sizing:border-box; position: absolute;" class="'+e+'"></div>');n.css("border-left-width",0);var o=a(this._rendercolumnheader(h.text,h.align,this.columnsheight,this));if(h.renderer){var o=a("<div style='height: 100%; width: 100%;'></div>"),p=h.renderer(h.text,h.align,m);o.html(p)}n.append(o),n[0].style.left=k+"px",0===k&&(n[0].style.borderLeftColor="transparent"),n[0].style.top=j+"px",n[0].style.height=m+"px";var q=h.width-1;q<0&&(q=0),n[0].style.width=q+"px",f.append(n),h.element=n,h.rendered&&h.rendered(o,h.align,m)}}}}},_rendervisualrows:function(b){if(this.virtualsizeinfo){b&&this._cellMergeHelper.clear();var c=this.vScrollInstance,d=this.hScrollInstance,e=c.value,f=d.value,g=parseInt(e),h=parseInt(f),i=this._gettableheight(),j=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(i+=29),"deferred"==this.scrollmode&&0!=this._newmax&&g>this._newmax&&null!=this._newmax&&(g=this._newmax);var k=c.isScrolling()||d.isScrolling()||this._keydown,l=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(g=0),!this.pageable){var m=this._findvisiblerow(g,this._pageviews);if(m==-1)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();m!=this.dataview.pagenum?(this.dataview.pagenum=m,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var n=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var o=this.columns.records.length-n,p=this._findvisiblerow(g,this._pagescache[this.dataview.pagenum]),q=this._pagescache[this.dataview.pagenum],r=p;r<0&&(r=0);var s=r,t=-1,u=q,v=0,w=0,x=0,y=0,z=this.virtualsizeinfo.visiblerecords,A=this.groupable?this.groups.length:0,B=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(B+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(z=this.dataview.pagesize),l&&(B=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(B+=" "+this.toTP("jqx-touch")),this.autorowheight&&(B+=" jqx-grid-cell-wrap");var C=this.rowsheight,D=this._rendercell,E=!0,F=this._getvisualcolumnsindexes(h,j,n,o,l,!0),G=F.start,H=F.end,I=this._getvirtualcolumnsindexes(h,j,n,o,l),J=I.start,K=I.end;a.jqx.browser.msie&&a.jqx.browser.version<9;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(r=0),r>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=q?q[r].bounddata.boundindex:0,this._startvisibleindex=null!=q?q[r].bounddata.visibleindex:0;var L=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var M=function(a){return!(!a.parentNode||"#document-fragment"==a.parentNode.nodeName)},N=0;N<L.length;N++){for(var O=L[N],P=0;P<J;P++){var Q=P;if(!this.columns.records[Q].pinned&&null!=this.columns.records[Q].datafield){var R=O.cells[Q];M(R)&&R.parentNode.removeChild(R);var S=this.columns.records[Q].element;this.columns.records[Q]._rendered=!1,M(S)&&this.columnsrow[0].removeChild(S),this.filterrow&&M(this.filterrow[0].cells[Q])&&this.columns.records[Q].filterable&&this.filterrow[0].cells[Q].parentNode.removeChild(this.filterrow[0].cells[Q])}}for(var P=K;P<this.columns.records.length;P++){var Q=P;if(!this.columns.records[Q].pinned&&null!=this.columns.records[Q].datafield){var R=O.cells[Q];M(R)&&R.parentNode.removeChild(R);var S=this.columns.records[Q].element;this.columns.records[Q]._rendered=!1,M(S)&&this.columnsrow[0].removeChild(S),this.filterrow&&M(this.filterrow[0].cells[Q])&&this.columns.records[Q].filterable&&this.filterrow[0].cells[Q].parentNode.removeChild(this.filterrow[0].cells[Q])}}for(var P=J;P<K;P++){var Q=P,R=O.cells[Q];M(R)||O.appendChild(R);var S=this.columns.records[Q].element;this.columns.records[Q]._rendered=!0,M(S)||this.columnsrow[0].appendChild(S),this.filterrow&&!M(this.filterrow[0].cells[Q])&&this.columns.records[Q].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[Q])}}for(var T=0;T<z&&w<z;T++){var U,V={start:this._previsualcolumnsindexes.start,end:this._previsualcolumnsindexes.end};if(U=T<=this._pinnedrow?void 0!=q?q[T]:null:void 0!=q?q[r+T]:null,null==U){if(r=-T,this._pagescache[this.dataview.pagenum+1])q=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var W=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){q=void 0;break}this.dataview.pagenum++,q=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),q=this._pagescache[this.dataview.pagenum])}while(void 0==q&&this.dataview.pagenum<W)}void 0!=q&&(U=q[r+T])}if(null!=U){if(U.hidden)continue;if(this._endboundindex=this._startboundindex+T,this._endvisibleindex=this._startvisibleindex+T,0==T){var X=U.top;this._pinnedrow>=0&&(X=r*U.height);for(var Y=Math.abs(g-X),N=0;N<=this._pinnedrow;N++){var Z=this.table[0].rows[N];Z.style.top=Y+"px"}this.table[0].style.top=-Y+"px",y=-Y}var O=this.table[0].rows[w];if(!O)continue;parseInt(O.style.height)!=U.height&&(O.style.height=parseInt(U.height)+"px"),x+=U.height;var $=this.rowdetails&&U.rowdetails,_=!U.rowdetailshidden;$&&_&&(O.style.height=parseInt(U.height-U.rowdetailsheight)+"px",z++);var aa=this._isrowselected(E,U);if(this.enhancedRendering){var R,ba=F.start-V.start;if(ba<-this._nonVisibleColumnCount){for(var N=V.end-1;N>=F.end+this._nonVisibleColumnCount;N--)R=O.cells[N],R.style.display="none";V.start=F.start,V.end=F.end+this._nonVisibleColumnCount}else if(ba>this._nonVisibleColumnCount){for(var N=V.start;N<F.start-this._nonVisibleColumnCount;N++)R=O.cells[N],R.style.display="none";V.start=F.start-this._nonVisibleColumnCount,V.end=F.end}}for(var P=G;P<H;P++){var Q=P;this._rendervisualcell(D,B,aa,$,_,l,A,O,U,Q,w,k)}if(void 0!=U.group&&this._rendergroup&&this._rendergroup(A,O,U,n,o,w,j),this.autorowheight&&(this.autoheight||this.pageable)){for(var C=this.rowsheight,P=G;P<H;P++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[P].datafield&&this.editcell.row==this.getboundindex(U)&&this.editcell.editor?C=Math.max(C,this.editcell.editor.height()):O.cells[P].firstChild&&(C=Math.max(C,8+parseInt(O.cells[P].firstChild.offsetHeight)));O.style.height=parseInt(C)+"px",this.heights[this._startboundindex+T]=C,$&&_&&(C+=U.rowdetailsheight),U.height=C}if(this.visiblerows[this.visiblerows.length]=U,this.hittestinfo[this.hittestinfo.length]={row:U,visualrow:O,details:!1},$&&_){w++;var O=this.table[0].rows[w];this._renderrowdetails(B,O,U,n,o,w),this.visiblerows[this.visiblerows.length]=U,this.hittestinfo[this.hittestinfo.length]={row:U,visualrow:O,details:!0}}if(!this.autorowheight&&x+y>=i)break}else cansetheight=!0,this._clearvisualrow(h,l,w,n,o),x+v+y<=i&&(v+=C);w++}if(this._previsualcolumnsindexes.start=V.start,this._previsualcolumnsindexes.end=V.end,t<0&&(t=w),this._horizontalvalue=h,v>0&&"visible"==this.vScrollBar[0].style.visibility){var ca=(parseInt(this.table.css("top")),this._pageviews[this._pageviews.length-1]),da=c.max,ea=ca.top+ca.height-i;"visible"==this.hScrollBar.css("visibility")&&(ea+=this.scrollbarsize+20),da==ea||this.autorowheight||ea>=0&&("deferred"!=this.scrollmode?(c.max=ea,c.setPosition(c.max)):this._newmax!=ea&&(this._newmax=ea,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var fa=0,ga=0,N=0;N<this.visiblerows.length;N++){var Z=this.visiblerows[N];Z.top=fa,fa+=Z.height,ga+=Z.height;var $=this.rowdetails&&Z.rowdetails,_=!Z.rowdetailshidden,O=this.table[0].rows[N];$&&_&&N++;for(var P=G;P<H;P++){var ha=this.columns.records[P];if(!ha.hidden&&!ha.cellsrenderer){var ia=O.cells[P],ja=0;if(ia.firstChild){var ja=(Z.height-parseInt(ia.firstChild.offsetHeight)-8)/2;if($&&_)var ja=(Z.height-Z.rowdetailsheight-a(ia.firstChild).height()-8)/2}else var ja=(Z.height-parseInt(a(ia).height())-8)/2;if(ja>=0&&(ja=parseInt(ja)+4,ia.firstChild&&ia.firstChild.className.indexOf("jqx-grid-groups-row")==-1&&"checkbox"!=ha.columntype&&"button"!=ha.columntype)){if(this.editable&&this.editcell&&this.editcell.column==ha.datafield&&this.editcell.row==this.getboundindex(Z))continue;ia.firstChild.style.marginTop=ja+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=ga),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){var ka=this;a.each(ka.toCompile,function(b,c){if(this.compiled)return!0;var d=this.cell;return!d||(a.jqx.angularCompile&&a.jqx.angularCompile(d,"<div>"+this.value+"</div>"),void(this.compiled=!0))})}this.enableMerge&&this._cellMergeHelper.merge(this.table[0].rows,u,s,t)}}},_renderrows:function(b,c,d){var e=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(e.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var f=this.source.totalrecords;isNaN(f)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=f&&(e.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||e.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?e.prerenderrequired=!0:this.pageable||(e.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?e.prerenderrequired=!0:this.pageable||(e.prerenderrequired=!0))),e._prerenderrows(b),e._requiresupdate&&(e._requiresupdate=!1,e._updatepageviews());var g=function(){e._loading||(e.WinJS?MSApp.execUnsafeLocalFunction(function(){e._rendervisualrows(!0)}):e._rendervisualrows(!0),e.virtualmode&&e.showaggregates&&e._updateaggregates&&e.refreshaggregates())},h=a.jqx.browser.msie&&a.jqx.browser.version<10;if(this.virtualmode){var i=function(){if(e.rendergridrows){var a=e._startboundindex;void 0==a&&(a=0);var b=a+1+e.dataview.pagesize;if(null!=a&&null!=b){var d=!!e.source._source,f=d?e.source._source.recordstartindex:e.source.recordstartindex;if(f!=a||1==c){if(d){if(b>=e.source._source.totalrecords&&(b=e.source._source.totalrecords,
a=b-e.dataview.pagesize-1,a<0&&(a=0),e.source._source.recordendindex==b&&e.source._source.recordstartindex==a))return;e.source._source.recordstartindex=a,e.source._source.recordendindex=b}else e.source.recordstartindex=a,e.source.recordendindex=b;e.updatebounddata("cells")}}}};this.loadondemand&&(g(),i(),this.loadondemand=!1);var j=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?g():this.autoheight?g():j||h||navigator&&navigator.userAgent.indexOf("Safari")!=-1?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){g()},5)):g()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var k=this._getfirstvisualrow();if(null!=k){var l=function(b){if(null==k)return"";var c="<table>",d=e.deferreddatafields;null==d&&e.columns.records.length>0&&(d=new Array,d.push(e.columns.records[0].displayfield));for(var f=0;f<d.length;f++){var g=d[f],h=e._getcolumnbydatafield(g);if(h){var i=e._getcellvalue(h,k);""!=h.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(i)?i=a.jqx.dataFormat.formatdate(i,h.cellsformat,e.gridlocalization):a.jqx.dataFormat.isNumber(i)&&(i=a.jqx.dataFormat.formatnumber(i,h.cellsformat,e.gridlocalization))),c+="<tr><td>"+i+"</td></tr>"}}return c+="</table>"},m=this.scrollfeedback?this.scrollfeedback(k.bounddata):l(k.bounddata);m!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=m,this._scrollelementcontent=m)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){e.hScrollInstance.isScrolling()||e.vScrollInstance.isScrolling()||(g(),e._scrollelement.css("visibility","hidden"),e._scrollelementoverlay.css("visibility","hidden"),clearInterval(e._scrolltimer),k&&e.ensurerowvisible(k.visibleindex))},100))}navigator&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")!=-1&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5);var j=void 0==this._browser?this._isIE10():this._browser;if((j||h)&&(this._updatedelay=5),j&&this.hScrollInstance.isScrolling())return void g();a.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0);var n=this.isTouchDevice();if(n&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)g();else{var o=this._jqxgridrendertimer;null!=o&&clearTimeout(o),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?o=setTimeout(function(){g()},this._updatedelay):(o=null,g()),this._jqxgridrendertimer=o):(this._jqxgridrendertimer=o,g())}}if(e.autorowheight&&!e.autoheight&&this._pageviews.length>0){var p=this._gettableheight(),q=this._pageviews[0].height;if(q>p)if(this.pageable&&this.gotopage&&(q=this._pageviews[0].height,q<0&&(q=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(q<=p||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),q-p>0){if("deferred"!=this.scrollmode){var r=q-p,s=this.vScrollInstance.max;if(this.vScrollBar.jqxScrollBar({max:r}),Math.round(r)!=Math.round(s)){var t=this.vScrollBar.jqxScrollBar("value");t>r&&this.vScrollBar.jqxScrollBar({value:0})}}}else this.vScrollBar.jqxScrollBar({value:0,max:q});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=q)}},_rendervisualcell:function(b,c,d,e,f,g,h,i,j,k,l,m){var n=this.columns.records[k];if(n.hidden){var o=i.cells[k];return void(o.innerHTML="")}var p=this._getcellvalue(n,j),o=i.cells[k],q=c;if(o.style.height=this.rowsheight+"px",o.style.zIndex=0,o.style.width=n.width+"px","none"==o.style.display&&(o.style.display="inline"),this.selectionmode.indexOf("cell")==-1&&"checkboxextended"!=this.selectionmode||"checkboxextended"==this.selectionmode&&1==d||(d=this.dataview.filters.length>0?!!this.selectedcells[j.bounddata.dataindex+"_"+n.datafield]:!!this.selectedcells[j.boundindex+"_"+n.datafield],this.editcell&&this.editcell.row===j.boundindex&&this.editcell.column===n.datafield&&"checkbox"!==n.columntype&&(d=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(d=this._iscellselected(!0,j,n.datafield))),""!=n.cellclassname&&n.cellclassname)if("string"==typeof n.cellclassname)q+=" "+n.cellclassname;else{var r=n.cellclassname(this.getboundindex(j),n.datafield,p,j.bounddata);r&&(q+=" "+r)}var s=this.showsortcolumnbackground&&this.sortcolumn&&n.displayfield==this.sortcolumn;if(s&&(q+=" "+this.toTP("jqx-grid-cell-sort")),n.filter&&this.showfiltercolumnbackground&&(q+=" "+this.toTP("jqx-grid-cell-filter")),j.bounddata.totalsrow&&(q+=" "+this.toTP("jqx-grid-cell-pinned")),(n.pinned&&this.showpinnedcolumnbackground||n.grouped)&&(g?j.bounddata.totalsrow||(q+=" "+this.toTP("jqx-grid-cell-pinned")):q+=" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==j.group){var t=j.visibleindex;t>=this.altstart&&(this.altstart+t)%(1+this.altstep)==0&&(q+=s?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),n.filter&&this.showfiltercolumnbackground&&(q+=" "+this.toTP("jqx-grid-cell-filter-alt")),n.pinned&&this.showpinnedcolumnbackground&&(q+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(k<=h){if(g||this.rowdetails||this.pageable&&this.virtualmode){var u=a(o),v=this.columns.records[k].width;o.style.width!=parseInt(v)+"px"&&u.width(v)}}else if((g||this.rowdetails)&&this._hiddencolumns){var u=a(o),v=this.columns.records[k].width;parseInt(o.style.width)!=v&&u.width(v)}var w=!0;if(this.rowdetails&&e&&(f&&!g?q+=" "+this.toTP("jqx-grid-details-cell"):g&&(q+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==j.group&&k==i.cells.length-h-1){var x=this.toThemeProperty("jqx-icon-arrow-down");if(f)q+=" "+this.toTP("jqx-grid-group-expand-rtl"),q+=" "+x;else{q+=" "+this.toTP("jqx-grid-group-collapse-rtl");var x=this.toThemeProperty("jqx-icon-arrow-left");q+=" "+x}return w=!1,o.title="",o.innerHTML="",void(o.className!=q&&(o.className=q))}}else if(void 0==j.group&&k==h&&!j.bounddata.totalsrow){var x=this.toThemeProperty("jqx-icon-arrow-down");if(f)q+=" "+this.toTP("jqx-grid-group-expand"),q+=" "+x;else{q+=" "+this.toTP("jqx-grid-group-collapse");var x=this.toThemeProperty("jqx-icon-arrow-right");q+=" "+x}return w=!1,o.title="",o.innerHTML="",void(o.className!=q&&(o.className=q))}return d&&w&&k>=h&&(q+=" "+this.toTP("jqx-grid-cell-selected"),q+=" "+this.toTP("jqx-fill-state-pressed")),o.className!=q&&(o.className=q),void 0!=j.group?(p="",o.title="",void(o.innerHTML="")):void b(this,n,j,p,o,m)}};return b},_createCellMergeHelper:function(){this._cellMergeHelper=new b(this)},_createFunctionReplaceHelperForCellMerge:function(){this._functionReplaceHelperForCellMerge||(this._functionReplaceHelperForCellMerge=new c(this))},_validateMergeabilityOfCells:function(){if(this.editable)throw new Error("Cell merge feature cannot be applied within jqxGrid's editable state. Please disable 'editable' option.");if(this._pinnedrow>0)throw new Error("Cell merge feature cannot be applied within jqxGrid's pinned state. Please do not set pinned option.");for(var a=0,b=this.columns.length;a<b;a++)if(this.columns[a].pinned)throw new Error("Cell merge feature cannot be applied within jqxGrid's column pinned state. Please do not set column pinned option.");return!0}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{_calculateaggregate:function(b,c,d,e){var f=b.aggregates;if(f||(f=c),f){for(var g=new Array,h=0;h<f.length;h++)"count"!=f[h]&&(g[g.length]=b.cellsformat);if(this.source&&this.source.getAggregatedData){if(void 0==e&&(e=this.getrows()),this.virtualmode){var e=new Array;a.each(this.source._source.records,function(){e.push(this)})}if(void 0==d||1==d){var i=this.source.getAggregatedData([{name:b.datafield,aggregates:f,formatStrings:g}],this.gridlocalization,e);return i}var i=this.source.getAggregatedData([{name:b.datafield,aggregates:f}],this.gridlocalization,e);return i}}return null},getcolumnaggregateddata:function(b,c,d,e){var f=this.getcolumn(b),g=void 0!=d&&0!=d&&d;if(null==c)return"";if(c&&!a.isArray(c))return c;var h=f.aggregates;f.aggregates=null;var i=this._calculateaggregate(f,c,g,e),j={};return i&&(j=i[b]),f.aggregates=h,j},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(b,c,d){var e=this;if(c)if(d.children().remove(),d.html(""),b.aggregatesrenderer){if(c){var f=b.aggregatesrenderer(c[b.datafield],b,d,this.getcolumnaggregateddata(b.datafield,c[b.datafield]));d.html(f)}}else a.each(c,function(){var b=this;for(var c in b){var f=a('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),g=c;g=e._getaggregatename(g),f.html(g+":"+b[c]),e.rtl&&f.addClass(e.toThemeProperty("jqx-rtl")),d.append(f)}});else if(d.children().remove(),d.html(""),b.aggregatesrenderer){var g={};b.aggregates&&(g=this.getcolumnaggregateddata(b.datafield,b.aggregates));var f=b.aggregatesrenderer({},b,d,null);d.html(f)}},_getaggregatetype:function(a){switch(a){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return a}var b=a;for(var c in a){b=c;break}return b},_getaggregatename:function(a){var b=a;switch(a){case"min":b="Min";break;case"max":b="Max";break;case"count":b="Count";break;case"avg":b="Avg";break;case"product":b="Product";break;case"var":b="Var";break;case"stdevp":b="StDevP";break;case"stdev":b="StDev";break;case"varp":b="VarP";case"sum":b="Sum"}if(a===b&&"string"!=typeof b)for(var c in a){b=c;break}return b},_updatecolumnsaggregates:function(){var b=this.getrows(),c=this.columns.records.length;if(void 0!=this.statusbar[0].cells)for(var d=0;d<c;d++){var e=a(this.statusbar[0].cells[d]),f=this.columns.records[d],g=this._calculateaggregate(f,null,!0,b);this._updatecolumnaggregates(f,g,e)}},_updateaggregates:function(){var b=a('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),c=0,d=this.columns.records.length,e=this.toThemeProperty("jqx-grid-cell");this.rtl&&(e+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),c=-1),e+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var f=d+10,g=new Array;this.statusbar[0].cells=g;for(var h=this.getrows(),i=0;i<d;i++){var j=this.columns.records[i],k=this._calculateaggregate(j,j.aggregates,!0,h),l=j.width;l<j.minwidth&&(l=j.minwidth),l>j.maxwidth&&(l=j.maxwidth);var m=e;j.cellsalign&&(m+=" "+this.toThemeProperty("jqx-"+j.cellsalign+"-align"));var n=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+m+'"></div>');b.append(n),n.css("left",c),this.rtl?n.css("z-index",f++):n.css("z-index",f--),n.width(l),n[0].left=c,j.hidden&&j.hideable?n.css("display","none"):c+=l,g[g.length]=n[0],this._updatecolumnaggregates(j,k,n)}a.jqx.browser.msie&&a.jqx.browser.version<8&&b.css("z-index",f--),b.width(parseFloat(c)+2),b.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(b),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(e),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{getcolumnindex:function(a){var b=this.getcolumn(a),c=this.columns.records.indexOf(b);return c},setcolumnindex:function(b,c,d){var e=this.getcolumn(b);if(!(e.pinned||e.hidden||e.checkboxcolumn||e.grouped)){var f=this.columns.records.indexOf(e);this.columns.records.splice(f,1),this.columns.records.splice(c,0,e);var g=0,h=this.headerZIndex;this.columnsrow.children().detach();var i=this.toThemeProperty("jqx-grid-cell");i+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),this.filterrow&&(a(this.filterrow.children()[0]).children().detach(),this.filterrow[0].cells=[]);var j=this,k=null;if(void 0!=j.filterrow)var k=a(j.filterrow.children()[0]);this.columnsrow[0].cells=[];var l=!1;if(a.each(this.columns.records,function(b,c){var d=this.uielement;j.columnsrow.append(d),j.rtl?d.css("z-index",h++):d.css("z-index",h--);var e=this.width;if(d.css("left",g),j.columnsrow[0].cells[j.columnsrow[0].cells.length]=d[0],j.filterrow){var f=a('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+i+'"></div>');k.append(f),f.css("left",g),f.css("z-index",h+1),f.width(this.width),f[0].left=g,f.append(this._filterwidget),j.filterrow[0].cells[j.filterrow[0].cells.length]=f[0]}this.hidden&&(l=!0),this.hidden&&this.hideable||(g+=e)}),this.groupable){var m=this.groups.length;m>0&&f-m>=0&&(f-=m,c-=m)}this.rowdetails&&f-1>=0&&(f--,c--),"checkbox"!=this.selectionmode&&"checkboxextended"!=this.selectionmode||f-1>=0&&(f--,c--);var e=this._columns[f];this._columns.splice(f,1),this._columns.splice(c,0,e),this._raiseEvent(24,{columntext:e.text,datafield:e.datafield,oldindex:f,newindex:c}),0!=d&&(l||"checkbox"==e.columntype?(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths()):(this._updatecolumnwidths(),this._updatecellwidths()),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this.showeverpresentrow&&this._updateaddnewrowui(),this._rendercolumngroups(),this._renderrows(this.virtualsizeinfo))}},_pinnedColumnsLength:function(){var b=0;return a.each(this.columns.records,function(){this.pinned&&b++,this.grouped&&b++}),"checkbox"!=this.selectionmode&&"checkboxextended"!=this.selectionmode||b++,b},_handlecolumnsreorder:function(){var b=this,c=-1,d=!1;if(b.columnsreorder){var e="mousemove.reorder"+this.element.id,f="mousedown.reorder"+this.element.id,g="mouseup.reorder"+this.element.id,h=!1;this.isTouchDevice()&&this.touchmode!==!0&&(h=!0,e=a.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,g=a.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(a){if(b.resizing)return!0;if(null!=b.reordercolumn){var e=parseInt(a.pageX),f=parseInt(a.pageY);if(h){var g=b.getTouches(a),i=g[0];void 0!=i&&(e=parseInt(i.pageX),f=parseInt(i.pageY))}var j=b.host.coord(),k=parseInt(j.left),l=parseInt(j.top);void 0!=b.dragmousedownoffset&&null!=b.dragmousedownoffset||(b.dragmousedownoffset={left:0,top:0});var m=parseInt(e)-parseInt(b.dragmousedownoffset.left),n=parseInt(f)-parseInt(b.dragmousedownoffset.top);if(b.reordercolumn.css({left:m+"px",top:n+"px"}),d=!1,e>=k&&e<=k+b.host.width()&&f>=l&&f<=l+b.host.height()&&(d=!0),c=-1,d){b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-dragcancel-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-drag-icon"));var o=b.columnsheader.coord(),p=o.top+b.columnsheader.height();null!=b.columnsdropline&&(f>=o.top&&f<=p?c=b._handlereordercolumnsdroplines(e):b.columnsdropline.fadeOut("slow"))}else null!=b.columnsdropline&&b.columnsdropline.fadeOut("slow"),b.reordercolumnicon.removeClass(b.toThemeProperty("jqx-grid-drag-icon")),b.reordercolumnicon.addClass(b.toThemeProperty("jqx-grid-dragcancel-icon"));if(h)return a.preventDefault(),a.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(a(document),f),this.addHandler(a(document),f,function(c){if(b.resizing)return!0;b.columnsbounds=new Array;var d=b.host.coord().left,e=b.host.coord().top;b.showtoolbar&&(e+=b.toolbarheight),b.groupable&&b.showgroupsheader&&(e+=b.groupsheaderheight);var f=0;a.each(b.columns.records,function(c){var g=this;if(g.hidden)return b.columnsbounds[b.columnsbounds.length]={top:e,column:g,left:d,width:0,height:2+b.rowsheight},!0;0==f&&(d=b.rtl?"hidden"!=b.hScrollBar.css("visibility")?parseInt(b.host.coord().left)-b.hScrollInstance.max+b.hScrollInstance.value:parseInt(b.host.coord().left)+b.hScrollInstance.value:parseInt(b.host.coord().left)-b.hScrollInstance.value),f++;var h=2+b.columnsheight;b.columnshierarchy&&(e=a(g.uielement).coord().top,h=a(g.uielement).height()),b.columnsbounds[b.columnsbounds.length]={top:e,column:g,left:d,width:g.width,height:h},d+=g.width})}),this.removeHandler(a(document),g),this.addHandler(a(document),g,function(e){if(b.resizing)return!0;b.__drag=!1,a(document.body).removeClass("jqx-disableselect");var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];f=parseInt(j.pageX),g=parseInt(j.pageY)}var k=b.host.coord(),l=(parseInt(k.left),parseInt(k.top));b.groupsheader.height();if(b.showtoolbar&&(l+=b.toolbarheight),b.columndragstarted=!1,b.dragmousedown=null,null!=b.reordercolumn){var m=a.data(b.reordercolumn[0],"reorderrecord"),n=b.columns.records.indexOf(b.getcolumn(m));b.reordercolumn.remove(),b.reordercolumn=null;var o=0;if(o+=b._pinnedColumnsLength(),null!=m){if(d&&c!=-1){var p=c.index;if(p>=o){var q=b.columns.records[p];if(void 0!=q){var r=b.columns.records.indexOf(b.getcolumn(q.datafield));if(null==q.datafield)var r=b.columns.records.indexOf(b.getcolumnbytext(q.text));if(b.columngroups){var s=q;if(n<r&&"before"==c.position&&(s=b.columns.records[r-1]),s.columngroup!=b.getcolumn(m).columngroup)return void(null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null))}n<r?"before"==c.position?b.setcolumnindex(m,r-1):b.setcolumnindex(m,r):n>r&&b.setcolumnindex(m,r),b.autosavestate&&b.savestate&&b.savestate()}}}null!=b.columnsdropline&&(b.columnsdropline.remove(),b.columnsdropline=null)}}})}},getcolumnbytext:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){if(this.text==b)return c=this,!1}),c},_handlereordercolumnsdroplines:function(b){var c=this,d=-1,e=c._pinnedColumnsLength(),f=parseInt(c.host.coord().left),g=f+c.host.width(),h="hidden"!=c.vScrollBar.css("visibility")?19:0;return c.rtl||(h=0),a.each(c.columnsbounds,function(a){if(a>=e){if(0==this.width)return!0;if(b<=this.left+this.width/2)return b>g?(c.columnsdropline.fadeOut(),!1):(c.columnsdropline.css("left",h+parseInt(this.left)+"px"),c.columnsdropline.css("top",parseInt(this.top)+"px"),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"before"},!1);if(b>=this.left+this.width/2){if(this.left+this.width>g)return c.columnsdropline.fadeOut(),!1;c.columnsdropline.css("left",h+1+this.left+this.width),c.columnsdropline.css("top",this.top),c.columnsdropline.height(this.height),c.columnsdropline.fadeIn("slow"),d={index:a,position:"after"}}}}),d},_createreordercolumn:function(b,c,d){var e=this,f=c;e.reordercolumn&&e.reordercolumn.remove(),e.columnsdropline&&e.columnsdropline.remove(),e.reordercolumn=a("<div></div>");var g=b.clone();e.reordercolumn.css("z-index",999999),g.css("border-width","1px"),g.css("opacity","0.4");var h=a(g.find("."+e.toThemeProperty("jqx-grid-column-menubutton")));h.length>0&&h.css("display","none");var i=a(g.find(".jqx-icon-close"));i.length>0&&i.css("display","none"),e.reordercolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),e.reordercolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon")),e.reordercolumn.css("float","left"),e.reordercolumn.css("position","absolute");e.host.coord();g.width(b.width()+16),e.reordercolumn.append(g),e.reordercolumn.height(b.height()),e.reordercolumn.width(g.width()),e.reordercolumn.append(e.reordercolumnicon),a(document.body).append(e.reordercolumn),g.css("margin-left",0),g.css("left",0),g.css("top",0),e.reordercolumn.css("left",f.left+e.dragmousedown.left),e.reordercolumn.css("top",f.top+e.dragmousedown.top),void 0!=d&&d&&(e.columnsdropline=a('<div style="z-index: 9999; display: none; position: absolute;"></div>'),e.columnsdropline.width(2),e.columnsdropline.addClass(e.toThemeProperty("jqx-grid-group-drag-line")),a(document.body).append(e.columnsdropline))},_handlecolumnsdragreorder:function(b,c){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var d,e=this,f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0);var g="mousedown.drag",d="mousemove.drag";f?(g=a.jqx.mobile.getTouchEventName("touchstart")+".drag",d=a.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(c,"dragstart",function(a){return!1}),this.addHandler(c,g,function(c){if(0==b.draggable)return!0;if(e.resizing)return!0;e.__drag=!0;var d=c.pageX,g=c.pageY;if(f){var h=e.getTouches(c),i=h[0];d=i.pageX,g=i.pageY}e.dragmousedown={left:d,top:g};var j=a(c.target).coord();return e.dragmousedownoffset={left:parseInt(d)-parseInt(j.left),top:parseInt(g-j.top)},!0}),this.addHandler(c,d,function(g){if(!b.draggable)return!0;if(void 0==b.datafield)return!0;if(b.pinned)return!0;if(e.resizing)return!0;if(e.dragmousedown){var h=g.pageX,i=g.pageY;if(f){var j=e.getTouches(g),k=j[0];void 0!=k&&(h=k.pageX,i=k.pageY)}if(d={left:h,top:i},!e.columndragstarted&&null==e.reordercolumn){var l=Math.abs(d.left-e.dragmousedown.left),m=Math.abs(d.top-e.dragmousedown.top);(l>3||m>3)&&(e._createreordercolumn(c,d,!0),a(document.body).addClass("jqx-disableselect"),a.data(e.reordercolumn[0],"reorderrecord",b.datafield))}}})}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{autoresizecolumns:function(b,c){"cells"!=b&&"all"!=b&&"column"!=b&&(b="all");var d=this.that,e=this.getrows();this.pageable&&(e=this.dataview.rows,this.groupable&&(e=this.dataview.records)),c=void 0==c?0:parseInt(c);var f=e.length;if(void 0==f&&void 0!=e){var g=new Array;a.each(e,function(a){g.push(this)}),e=g,f=e.length}var h=a("<span></span>");h.addClass(this.toThemeProperty("jqx-widget")),h.addClass(this.toThemeProperty("jqx-grid-cell")),a(document.body).append(h);var i=[],j=[],k=[],l=[],m=d.host.width();"hidden"!=d.vScrollBar[0].style.visibility&&(m-=this.scrollbarsize+5),m<0&&(m=0);for(var n=0;n<f;n++)for(var o=e[n],p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];if(!(q.hidden||this.groups.length>0&&p<=this.groups.length-1)){void 0==j[q.displayfield]&&(j[q.displayfield]=0),void 0==k[q.displayfield]&&(k[q.displayfield]="");var r=o[q.displayfield];if(""!=q.cellsformat)a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(r)?r=a.jqx.dataFormat.formatdate(r,q.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(r)&&(r=a.jqx.dataFormat.formatnumber(r,q.cellsformat,this.gridlocalization)));else if(q.cellsrenderer){var s=d._defaultcellsrenderer(r,q),t=q.cellsrenderer(n,q.datafield,r,s,q.getcolumnproperties(),o);void 0!=t&&(r=a(t).text())}if((void 0==b||"cells"==b||"all"==b)&&null!=r){var i=r.toString().length,u=r.toString(),v=u.replace(/[^A-Z]/g,"").length;if(i>j[q.displayfield]&&(j[q.displayfield]=i,k[q.displayfield]=r,l[q.displayfield]=v),i>0&&i>=v){var w=20*v+15*(i-v),x=20*l[q.displayfield]+15*(j[q.displayfield]-l[q.displayfield]);w>x&&w>0&&x>0&&(j[q.displayfield]=i,k[q.displayfield]=r,l[q.displayfield]=v)}}if("column"==b||"all"==b){if(q.text.toString().length>j[q.displayfield]){k[q.displayfield]=q.text,j[q.displayfield]=q.text.length;var u=q.text.toString(),v=u.replace(/[^A-Z]/g,"").length;l[q.displayfield]=v}var r=q.text,i=r.toString().length,u=r.toString(),v=u.replace(/[^A-Z]/g,"").length;if(i>0&&i>=v){var w=20*v+15*(i-v),x=20*l[q.displayfield]+15*(j[q.displayfield]-l[q.displayfield]);w>x&&w>0&&x>0&&(j[q.displayfield]=i,k[q.displayfield]=r,l[q.displayfield]=v)}}}}if(this.columns.records){for(var p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];if(q.displayfield){void 0==k[q.displayfield]&&(k[q.displayfield]=q.text),h[0].className.indexOf("jqx-grid-column-header")>=0&&h.removeClass(this.toThemeProperty("jqx-grid-column-header")),k[q.displayfield]==q.text&&h.addClass(this.toThemeProperty("jqx-grid-column-header")),h[0].innerHTML=k[q.displayfield].toString();var y=h.outerWidth()+10;if(h.children().length>0&&(y=h.children().outerWidth()+10),a.jqx.browser.msie&&a.jqx.browser.version<8&&(y+=10),this.filterable&&this.showfilterrow&&(y+=5),y+=c,y>q.maxwidth&&(y=q.maxwidth),void 0!=q._width&&(q.__width=q._width),q._width=null,"auto"==q.maxwidth||y<=q.maxwidth){var z=q.width;y<q.minwidth&&(y=q.minwidth),q.width=y,void 0!=q._percentagewidth&&(q._percentagewidth=null),this._raiseEvent(14,{columntext:q.text,column:q.getcolumnproperties(),datafield:q.datafield,displayfield:q.displayfield,oldwidth:z,newwidth:y})}}}h.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(var p=0;p<this.columns.records.length;p++){var q=this.columns.records[p];void 0!=q.__width&&(q._width=q.__width)}}},autoresizecolumn:function(b,c,d){if("cells"!=c&&"all"!=c&&"column"!=c&&(c="all"),void 0==b)return!1;var e=this.getrows();this.pageable&&(e=this.dataview.rows,this.groupable&&(e=this.dataview.records));var f=this.getcolumn(b);if(void 0==f)return!1;d=void 0==d?0:parseInt(d);var g=e.length,h=a("<span></span>");h.addClass(this.toThemeProperty("jqx-widget")),h.addClass(this.toThemeProperty("jqx-grid-cell")),a(document.body).append(h);var i=0,j="",k=0,l=this.that,m=l.host.width();if("hidden"!=l.vScrollBar[0].style.visibility&&(m-=this.scrollbarsize+5),m<0&&(m=0),void 0==c||"cells"==c||"all"==c)for(var n=0;n<g;n++){var o=e[n][f.displayfield];if(""!=f.cellsformat)a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(o)?o=a.jqx.dataFormat.formatdate(o,f.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(o)&&(o=a.jqx.dataFormat.formatnumber(o,f.cellsformat,this.gridlocalization)));else if(f.cellsrenderer){var p=f.cellsrenderer(n,f,o);void 0!=p&&(o=a(p).text())}if(null!=o){var q=o.toString().length,r=o.toString(),s=r.replace(/[^A-Z]/g,"").length;if(q>i&&(i=q,j=o,k=s),q>0&&q>=s){var t=20*s+15*(q-s),u=20*k+15*(i-k);t>u&&t>0&&u>0&&(i=q,j=o,k=s)}}}if("column"==c||"all"==c){f.text.toString().length>i&&(j=f.text);var o=f.text.toString(),q=o.toString().length,r=o.toString(),s=r.replace(/[^A-Z]/g,"").length;if(q>0&&q>=s){var t=20*s+15*(q-s),u=20*k+15*(i-k);t>u&&t>0&&u>0&&(i=q,j=o,k=s)}}void 0==j&&(j=f.text),h[0].innerHTML=j,j==f.text&&h.addClass(this.toThemeProperty("jqx-grid-column-header"));var v=h.outerWidth()+10;if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(v+=5),this.filterable&&this.showfilterrow&&(v+=5),v+=d,h.remove(),v>f.maxwidth&&(v=f.maxwidth),"auto"==f.maxwidth||v<=f.maxwidth){var w=f.width;v<f.minwidth&&(v=f.minwidth),f.width=v,void 0!=f._width&&(f.__width=f._width),f._width=null,void 0!=f._percentagewidth&&(f._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:f.text,column:f.getcolumnproperties(),datafield:b,displayfield:f.displayfield,oldwidth:w,newwidth:v}),this._renderrows(this.virtualsizeinfo),void 0!=f._width&&(f._width=f.__width)}},_handlecolumnsresize:function(){var b=this.that;if(this.columnsresize){var c=!1;b.isTouchDevice()&&b.touchmode!==!0&&(c=!0);var d="mousemove.resize"+this.element.id,e="mousedown.resize"+this.element.id,f="mouseup.resize"+this.element.id;if(c)var d=a.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,e=a.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(a(document),d),this.addHandler(a(document),d,function(d){var e=a.data(document.body,"contextmenu"+b.element.id);if(null!=e&&b.autoshowcolumnsmenubutton)return!0;if(null!=b.resizablecolumn&&!b.disabled&&b.resizing&&null!=b.resizeline){var f=(b.resizablecolumn.columnelement,b.host.coord()),g=parseInt(b.resizestartline.coord().left),h=g-b._startcolumnwidth,i=b.resizablecolumn.column.minwidth;i="auto"==i?0:parseInt(i);var j=b.resizablecolumn.column.maxwidth;j="auto"==j?0:parseInt(j);var k=d.pageX;if(c){var l=b.getTouches(d),m=l[0];k=m.pageX}h+=i;var n=j>0?g+j:0,o=0==j||b._startcolumnwidth+k-g<j;if(b.rtl)var o=!0;if(o)if(b.rtl){if(k>=f.left&&k<=f.left+b.host.width()&&(b.resizeline.css("left",k),c))return!1}else if(k>=f.left&&k>=h&&(0!=n&&d.pageX<n?b.resizeline.css("left",k):0==n&&b.resizeline.css("left",k),c))return!1}return!(!c&&null!=b.resizablecolumn)&&void 0}),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(c){var d=a.data(document.body,"contextmenu"+b.element.id);if(null!=d&&b.autoshowcolumnsmenubutton)return!0;if(null!=b.resizablecolumn&&!b.disabled){var e=b.resizablecolumn.columnelement;if(e.coord().top+e.height()+5<c.pageY)return void(b.resizablecolumn=null);if(e.coord().top-5>c.pageY)return void(b.resizablecolumn=null);if(b._startcolumnwidth=b.resizablecolumn.column.width,b.resizablecolumn.column._width=null,a(document.body).addClass("jqx-disableselect"),a(document.body).addClass("jqx-position-reset"),b.host.addClass("jqx-disableselect"),b.content.addClass("jqx-disableselect"),b._mouseDownResize=new Date,b.resizing=!0,b._lastmouseDownResize&&b.columnsautoresize&&b._lastmouseDownResize-b._mouseDownResize<300&&b._lastmouseDownResize-b._mouseDownResize>-500){var f=b.resizablecolumn.column;if(f.resizable){var g=(b.resizablecolumn.column.width,b.hScrollBar[0].style.visibility);return b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove(),b.resizablecolumn=null,b.columndragstarted=!1,b.dragmousedown=null,b.__drag=!1,b.autoresizecolumn(f.displayfield,"all"),g!=b.hScrollBar[0].style.visibility&&b.hScrollInstance.setPosition(0),b.rtl&&b._arrange(),b.autosavestate&&b.savestate&&b.savestate(),c.stopPropagation(),b.suspendClick=!0,setTimeout(function(){b.suspendClick=!1},100),!1}}b._lastmouseDownResize=new Date,b._resizecolumn=b.resizablecolumn.column,b.resizeline=b.resizeline||a('<div style="position: absolute;"></div>'),b.resizestartline=b.resizestartline||a('<div style="position: absolute;"></div>'),b.resizebackground=b.resizebackground||a('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),b.resizebackground.css("opacity",.01),b.resizebackground.css("cursor","col-resize"),b.resizeline.css("cursor","col-resize"),b.resizestartline.css("cursor","col-resize"),b.resizeline.addClass(b.toThemeProperty("jqx-grid-column-resizeline")),b.resizestartline.addClass(b.toThemeProperty("jqx-grid-column-resizestartline")),a(document.body).append(b.resizeline),a(document.body).append(b.resizestartline),a(document.body).append(b.resizebackground);var h=b.resizablecolumn.columnelement.coord();b.resizebackground.css("left",b.host.coord().left),b.resizebackground.css("top",b.host.coord().top),b.resizebackground.width(b.host.width()),b.resizebackground.height(b.host.height()),b.resizebackground.css("z-index",9999);var i=function(a){b.rtl?a.css("left",parseInt(h.left)):a.css("left",parseInt(h.left)+b._startcolumnwidth);var c=b._groupsheader(),d=c?b.groupsheader.height():0,e=b.showtoolbar?b.toolbarheight:0;d+=e;var f=b.showstatusbar?b.statusbarheight:0;d+=f;var g=0;b.pageable&&(g=b.pagerheight);var i="visible"==b.hScrollBar.css("visibility")?17:0;a.css("top",parseInt(h.top)),a.css("z-index",99999),b.columngroups?a.height(b.host.height()+b.resizablecolumn.columnelement.height()-g-d-i-b.columngroupslevel*b.columnsheight):a.height(b.host.height()-g-d-i),b.enableanimations?a.show("fast"):a.show()};i(b.resizeline),i(b.resizestartline),b.dragmousedown=null}});var g=function(){if(a(document.body).removeClass("jqx-disableselect"),a(document.body).removeClass("jqx-position-reset"),(b.showfilterrow||b.showstatusbar||b.showtoolbar||b.enablebrowserselection)&&(b.host.removeClass("jqx-disableselect"),b.content.removeClass("jqx-disableselect")),b.resizing){b._mouseUpResize=new Date;
var c=b._mouseUpResize-b._mouseDownResize;if(c<200)return b.resizing=!1,void(null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")&&(b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove()));if(b.resizing=!1,!b.disabled){var d=b.host.width();if("hidden"!=b.vScrollBar[0].style.visibility&&(d-=20),d<0&&(d=0),null!=b._resizecolumn&&null!=b.resizeline&&"block"==b.resizeline.css("display")){var e=parseInt(b.resizeline.css("left")),f=parseInt(b.resizestartline.css("left")),g=b._startcolumnwidth+e-f;if(b.rtl)var g=b._startcolumnwidth-e+f;var h=b._resizecolumn.width;b._closemenu(),g<b._resizecolumn.minwidth&&(g=b._resizecolumn.minwidth),b._resizecolumn.width=g,void 0!=b._resizecolumn._percentagewidth&&(b._resizecolumn._percentagewidth=g/d*100);for(var i=0;i<b._columns.length;i++)if(b._columns[i].datafield===b._resizecolumn.datafield){b._columns[i].width=b._resizecolumn.width,b._columns[i].width<b._resizecolumn.minwidth&&(b._columns[i].width=b._resizecolumn.minwidth);break}var j=b.hScrollBar[0].style.visibility;b._updatecolumnwidths(),b._updatecellwidths(),b._raiseEvent(14,{columntext:b._resizecolumn.text,column:b._resizecolumn.getcolumnproperties(),datafield:b._resizecolumn.datafield,oldwidth:h,newwidth:g}),b._renderrows(b.virtualsizeinfo),b.autosavestate&&b.savestate&&b.savestate(),j!=b.hScrollBar[0].style.visibility&&b.hScrollInstance.setPosition(0),b.rtl&&b._arrange(),b._resizecolumn=null,b.resizeline.hide(),b.resizestartline.hide(),b.resizebackground.remove(),b.resizablecolumn=null}else b.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var h=null;null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(h=document.referrer),h&&h.indexOf(document.location.host)!=-1&&window.top.document&&(b.mouseupFuncForColumnResizeOnTop=function(a){g()},b.addHandler(a(window.top.document),"mouseup",b.mouseupFuncForColumnResizeOnTop))}}catch(i){}this.removeHandler(a(document),f),this.addHandler(a(document),f,function(c){var d=a.data(document.body,"contextmenu"+b.element.id);return!(null==d||!b.autoshowcolumnsmenubutton)||void g()})}}})}(jqxBaseFramework),function(a,b){a.extend(a.jqx._jqxGrid.prototype,{_handledblclick:function(b,c){if(null!=b.target&&!c.disabled&&!a(b.target).ischildof(this.columnsheader)){var d;if(b.which?d=3==b.which:b.button&&(d=2==b.button),!d){var e;if(b.which?e=2==b.which:b.button&&(e=1==b.button),!e){var f=this.showheader?this.columnsheader.height()+2:0,g=this._groupsheader()?this.groupsheader.height():0,h=this.showtoolbar?this.toolbarheight:0;g+=h;var i=this.host.offset(),j=b.pageX-i.left,k=b.pageY-f-i.top-g,l=this._hittestrow(j,k);if(l){var m=l.row,n=l.index,o=b.target.className,p=this.table[0].rows[n];if(null!=p){c.mousecaptured=!0,c.mousecaptureposition={left:b.pageX,top:b.pageY-g};for(var q=this.hScrollInstance,r=q.value,s=0,t=(this.groupable?this.groups.length:0,0);t<p.cells.length;t++){var u=parseInt(a(this.columnsrow[0].cells[t]).css("left")),v=u-r;c.columns.records[t].pinned&&(v=u);var w=this._getcolumnat(t);if(null==w||!w.hidden){var x=v+a(this.columnsrow[0].cells[t]).width();if(x>=j&&j>=v){s=t;break}}}if(null!=m){var w=this._getcolumnat(s);o.indexOf("jqx-grid-group-expand")==-1&&o.indexOf("jqx-grid-group-collapse")==-1&&m.boundindex!=-1&&c.begincelledit(c.getboundindex(m),w.datafield,w.defaulteditorvalue)}}}}}}},_getpreveditablecolumn:function(a){for(var b=this;a>0;){a--;var c=b.getcolumnat(a);if(!c)return null;if(c.editable&&!c.hidden)return c}return null},_getnexteditablecolumn:function(a){for(var b=this;a<this.columns.records.length;){a++;var c=b.getcolumnat(a);if(!c)return null;if(c.editable&&!c.hidden)return c}return null},_handleeditkeydown:function(c,d){if(d.handlekeyboardnavigation){var e=d.handlekeyboardnavigation(c);if(1==e)return!0}var f=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(d.editEvent=c,d.showfilterrow&&d.filterable&&this.filterrow&&a(c.target).ischildof(this.filterrow))return!0;if(c.target.className&&c.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(d.pageable&&a(c.target).ischildof(this.pager))return!0;if(this.showtoolbar&&a(c.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&a(c.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&a(c.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&a(c.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&a(c.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===f)return this.endrowedit(this.editcell.row,!1),!1;if(27===f)return this.endrowedit(this.editcell.row,!0),!1;if(32==f&&this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype){var g=this.getcolumn(this._currentColumn);if(g.editable){var h=!this.getcellvalue(this.editcell.row,g.datafield),i=this.getrowdata(this.editcell.row),j=this.editcell.row,i=d.getrowdata(d.editcell.row);this.setcellvalue(this.editcell.row,g.datafield,h,!1);var k=this._focusedColumn,l=this._currentColumn,m=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(j,!1),this._currentColumn=l,this._focusedColumn=k,this._currentEditableColumn=m,this._renderrows(),this.selectcell(j,g.datafield),this._oldselectedcell=this.selectedcell,k){var n=this;setTimeout(function(){n.selectcell(j,g.datafield),n._oldselectedcell=n.selectedcell,a(n._checkboxCells[g.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}}if(9===f){var o=this.editcell.datafield,p=this._getcolumnindex(o);this._currentEditableColumn?p=this._currentEditableColumn:this._currentEditableColumn=p;var g=this._getnexteditablecolumn(p);if(c.shiftKey&&(g=this._getpreveditablecolumn(p)),g){var p=this._getcolumnindex(g.datafield);if(this.editcell[g.datafield]){this._currentEditableColumn=p;var q=this.editcell[g.datafield].editor;q&&(q.data().jqxWidget&&q.data().jqxWidget.focus?q.data().jqxWidget.focus():q.focus()),this._focusedColumn=g.datafield,this._currentColumn=g.datafield}else if("checkbox"==g.columntype)return this._currentColumn=g.datafield,this._currentEditableColumn=p,this.selectcell(this.editcell.row,g.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[g.datafield]&&a(this._checkboxCells[g.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(f>=33&&f<=40&&"multiplecellsadvanced"==d.selectionmode){var q="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),r=d._selection(q),s=q.val().length;r.length>0&&"datetimeinput"!=this.editcell.columntype&&(d._cancelkeydown=!0),r.start>0&&37==f&&(d._cancelkeydown=!0),r.start<s&&39==f&&"datetimeinput"!=this.editcell.columntype&&(d._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==f&&r.start+r.length<s&&(d._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==f||39==f&&"multiplecellsadvanced"==d.selectionmode)&&(d._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(d._cancelkeydown=!0);if(32==f&&"checkbox"==d.editcell.columntype){var g=d.getcolumn(d.editcell.datafield);if(g.editable){var h,t=d.getcellvalue(d.editcell.row,d.editcell.column),u=b.createModule("exboolean",t,g.checkboxextensionvalue),v=u.getboolean();if(v?(u.setboolean(!1),h=g.threestatecheckbox?null:u.val()):null===v&&g.threestatecheckbox?(u.setboolean(!1),h=u.val()):(u.setboolean(!0),h=u.val()),g.cellbeginedit){var w=g.cellbeginedit(d.editcell.row,g.datafield,g.columntype,t);if(0==w)return!1}var i=d.getrowdata(d.editcell.row);return d.setcellvalue(d.editcell.row,d.editcell.column,h,!0),d._raiseEvent(18,{rowindex:d.editcell.row,row:i,datafield:d.editcell.column,oldvalue:t,value:h,columntype:"checkbox"}),!1}}if(9==f){var x=this.editcell.row,o=this.editcell.column,y=o,p=d._getcolumnindex(o),z=!1,A=d.getrowvisibleindex(x);this.editchar="";var B=this.editcell.validated;if(!this.editcell.validated)var B=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0!=B){if(c.shiftKey){var g=d._getpreveditablecolumn(p);if(g)o=g.datafield,z=!0,d.selectionmode.indexOf("cell")==-1&&"checkboxextended"!=d.selectionmode||(d.selectprevcell(x,y),d._oldselectedcell=d.selectedcell,setTimeout(function(){d.ensurecellvisible(A,o)},10));else{var C=d._getlastvisiblecolumn();z=!0,o=C.displayfield,x--,d.selectionmode.indexOf("cell")==-1&&"checkboxextended"!=d.selectionmode||(d.clearselection(),d.selectcell(x,o),d._oldselectedcell=d.selectedcell,setTimeout(function(){d.ensurecellvisible(A,o)},10))}}else{var g=d._getnexteditablecolumn(p);if(g)o=g.datafield,z=!0,d.selectionmode.indexOf("cell")==-1&&"checkboxextended"!=d.selectionmode||(d.selectnextcell(x,y),d._oldselectedcell=d.selectedcell,setTimeout(function(){d.ensurecellvisible(A,o)},10));else{var D=d._getfirstvisiblecolumn();z=!0,o=D.displayfield,x++,d.selectionmode.indexOf("cell")!=-1?(d.clearselection(),d.selectcell(x,o),d._oldselectedcell=d.selectedcell,setTimeout(function(){d.ensurecellvisible(A,o)},10)):"checkboxextended"==d.selectionmode&&(D=d._getnexteditablecolumn(d._getcolumnindex(D.datafield)),o=D.displayfield,d.clearselection(),d.selectcell(x,o),d._oldselectedcell=d.selectedcell,setTimeout(function(){d.ensurecellvisible(A,o)},10))}}if(!z)return null!=this.editcell&&(d.endcelledit(x,o,!1),this._renderrows(this.virtualsizeinfo)),!0;d.begincelledit(x,o),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==f){var E=this.selectedcell;if(E)var F=this.getrowvisibleindex(E.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode){var G=d.getselectedcell();if(null!=G&&d.selectcell&&null==this.editcell&&G.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=G.datafield){var A=this.getrowvisibleindex(G.rowindex),H=this.dataview.loadedrecords[A+1];if(H&&(!this.pageable||this.pageable&&A+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(H),G.datafield);var G=this.getselectedcell();this.ensurecellvisible(H.visibleindex,G.datafield)}}else if(null!=E){var I=this.dataview.loadedrecords[F+1];if(I)if(!this.pageable||this.pageable&&F+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(I),G.datafield);else if(this.pageable&&F+1>=this.pagesize){this.clearselection(!1);var I=this.dataview.loadedrecords[F];this.selectcell(this.getboundindex(I),G.datafield)}}}return!1}if(27==f)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var J=!1;if(113==f&&(J=!0),!c.ctrlKey&&!c.altKey&&!c.metaKey){if(f>=48&&f<=57&&(this.editchar=String.fromCharCode(f),J=!0),189===f&&(J=!0),f>=65&&f<=90){this.editchar=String.fromCharCode(f);var K=!1;c.shiftKey?K=c.shiftKey:c.modifiers&&(K=!!(4&c.modifiers)),K||(this.editchar=this.editchar.toLowerCase()),J=!0}else f>=96&&f<=105&&(this.editchar=f-96,this.editchar=this.editchar.toString(),J=!0);var L=a(".jqx-grid").length;J=J&&(1==L||L>1&&d.focused);var M=a.data(document.body,"jqxgrid.edit");if(void 0!==M&&""!==M&&(13===f||J)&&M!=d.element.id)return!0}if((13==f||J)&&d.getselectedrowindex){var x=d.getselectedrowindex();if("selectedrow"===d.editmode)return d.beginrowedit(x),!1;switch(d.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(x>=0){for(var o="",N=0;N<d.columns.records.length;N++){var g=d.getcolumnat(N);if(g.editable){o=g.datafield;break}}"selectedrow"===d.editmode?d.beginrowedit(x):d.begincelledit(x,o)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":var G=d.getselectedcell();if(null!=G){var g=d._getcolumnbydatafield(G.datafield);"checkbox"!=g.columntype&&d.begincelledit(G.rowindex,G.datafield)}break;case"checkboxextended":case"multiplecellsadvanced":var G=d.getselectedcell();if(null!=G)if(13==f){if(d.selectcell){var A=this.getrowvisibleindex(G.rowindex);if(A+1<d.dataview.totalrecords){var H=this.dataview.loadedrecords[A+1];if(H){this.clearselection(!1),this.selectcell(this.getboundindex(H),G.datafield);var G=this.getselectedcell();this.ensurecellvisible(H.visibleindex,G.datafield)}}}}else"selectedrow"!==d.editmode&&d.begincelledit(G.rowindex,G.datafield)}return!1}if(46==f){var O=d.getselectedcells();if(d.selectionmode.indexOf("cell")==-1&&d._getcellsforcopypaste&&(O=d._getcellsforcopypaste()),null!=O&&O.length>0){for(var P=0;P<O.length;P++){var G=O[P];if(G.datafield){var g=d.getcolumn(G.datafield),Q=d.getcellvalue(G.rowindex,G.datafield);if(""!==Q&&g.editable&&d.enablekeyboarddelete){var R=null;if("checkbox"==g.columntype&&(g.threestatecheckbox||(R=!1)),g.cellbeginedit){var w=g.cellbeginedit(G.rowindex,g.datafield,g.columntype,R);if(0==w)return!1}var i=d.getrowdata(G.rowindex);if(d._raiseEvent(17,{rowindex:G.rowindex,row:i,datafield:G.datafield,value:Q}),P==O.length-1?(d.setcellvalue(G.rowindex,G.datafield,R,!0),g.displayfield!=g.datafield&&d.setcellvalue(G.rowindex,g.displayfield,R,!0)):(d.setcellvalue(G.rowindex,G.datafield,R,!1),g.displayfield!=g.datafield&&d.setcellvalue(G.rowindex,g.displayfield,R,!0)),g.cellendedit){g.cellendedit(G.rowindex,g.datafield,g.columntype,R)}d._raiseEvent(18,{rowindex:G.rowindex,row:i,datafield:G.datafield,oldvalue:Q,value:R})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==f){var G=d.getselectedcell();if(null!=G){var g=d.getcolumn(G.datafield);if("checkbox"==g.columntype&&g.editable){var h,t=d.getcellvalue(G.rowindex,G.datafield),u=b.createModule("exboolean",t,g.checkboxextensionvalue),v=u.getboolean();if(v?(u.setboolean(!1),h=g.threestatecheckbox?null:u.val()):null===v&&g.threestatecheckbox?(u.setboolean(!1),h=u.val()):(u.setboolean(!0),h=u.val()),g.cellbeginedit){var w=g.cellbeginedit(G.rowindex,g.datafield,g.columntype,t);if(0==w)return!1}var i=d.getrowdata(G.rowindex);return d._raiseEvent(17,{rowindex:G.rowindex,row:i,datafield:G.datafield,value:t,columntype:"checkbox"}),d.setcellvalue(G.rowindex,G.datafield,h,!0),d._raiseEvent(18,{rowindex:G.rowindex,row:i,datafield:G.datafield,oldvalue:t,value:h,columntype:"checkbox"}),!1}}}}return!0},begincelledit:function(b,c,d,e,f){var g=this.getcolumn(c);if(this._cellscache=new Array,null!=c&&"number"!=g.columntype&&"button"!=g.columntype&&!g.createwidget){if(this.groupable){if(this.groups.indexOf(c)>=0)return;if(this.groups.indexOf(g.displayfield)>=0)return}if(void 0==this.editrow){if(this.editcell){if(this.editcell.row==b&&this.editcell.column==c)return!0;if("selectedrow"===this.editmode&&this.editcell.row==b)return;var h=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0==h)return}var i="checkbox"==g.columntype||"button"==g.columntype||g.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),g.editable){if(g.cellbeginedit){var j=this.getcell(b,c),k=g.cellbeginedit(b,c,g.columntype,null!=j?j.value:null);if(0==k)return}var l=this.getrowvisibleindex(b);if(this.editcell=this.getcell(b,c),this.editcell&&(this.editcell.visiblerowindex=l,!this.editcell.editing)){if(i||(this.editcell.editing=!0),this.editcell.columntype=g.columntype,this.editcell.defaultvalue=d,void 0!=g.defaultvalue&&(this.editcell.defaultvalue=g.defaultvalue),this.editcell.init=!0,"checkbox"!=g.columntype&&"selectedrow"!=this.editmode){var m=this.getrowdata(b);this._raiseEvent(17,{rowindex:b,row:m,datafield:g.datafield,value:this.editcell.value,columntype:g.columntype})}if(a.data(document.body,"jqxgrid.edit",this.element.id),!i){var n=this.getrowvisibleindex(b);e!==!1&&(this.autorowheight||this.ensurecellvisible(n,g.datafield)),f!==!1&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return;this.editcell.editor=null,this.editcell.editing=!1,f!==!1&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var a=document.body,b=document.documentElement;return b=b.clientHeight?b:a,b.scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var a=document.body,b=document.documentElement;return b=b.clientHeight?b:a,b.scrollLeft},endcelledit:function(b,c,d,e,f){if(void 0!=b&&void 0!=c||(this.editcell&&(b=this.editcell.row,c=this.editcell.column),void 0==d&&(d=!0)),this.editcell){var g=this.getcolumn(c),h=this;if("selectedrow"===h.editmode)return void this.endrowedit(b,d);var i=function(){if(0!=f){if(h.isTouchDevice())return;if(!h.isNestedGrid){var a=h.getScrollTop(),b=h.getScrollLeft();try{h.element.focus(),h.content.focus(),a!=h.getScrollTop()&&window.scrollTo(b,a),setTimeout(function(){h.element.focus(),h.content.focus(),a!=h.getScrollTop()&&window.scrollTo(b,a)},10)}catch(c){}}}};if("checkbox"==g.columntype||"button"==g.columntype||g.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var j=this._geteditorvalue(g),k=function(a){if(a._hidecelleditor(),g.cellendedit&&g.cellendedit(b,c,g.columntype,a.editcell.value,j),a.editchar=null,g.displayfield!=g.datafield){var d=a.getcellvalue(a.editcell.row,g.displayfield),f=a.editcell.value;oldvalue={value:f,label:d}}else oldvalue=a.editcell.value;var h=a.getrowdata(b);a._raiseEvent(18,{rowindex:b,row:h,datafield:c,displayfield:g.displayfield,oldvalue:j,value:j,columntype:g.columntype}),a.editcell.editor=null,a.editcell.editing=!1,a.editcell=null,(e||void 0==e)&&a._renderrows(a.virtualsizeinfo),i(),a.enablebrowserselection||(a.host.addClass("jqx-disableselect"),a.content.addClass("jqx-disableselect"))};if(d)return k(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),g.cellvaluechanging){var l=g.cellvaluechanging(b,c,g.columntype,this.editcell.value,j);void 0!=l&&(j=l)}if(g.validation){var m=this.getcell(b,c);try{var n=g.validation(m,j),o=this.gridlocalization.validationstring;void 0!=n.message&&(o=n.message);var p="boolean"==typeof n?n:n.result;if(!p)return void 0!=n.showmessage&&1!=n.showmessage||this._showvalidationpopup(b,c,o),this.editcell.validated=!1,!1}catch(q){return this._showvalidationpopup(b,c,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(g.displayfield!=g.datafield){var r=this.getcellvalue(this.editcell.row,g.displayfield),s=this.editcell.value;oldvalue={value:s,label:r}}else oldvalue=this.editcell.value;var t=this.getrowdata(b);if(g.cellendedit){var u=g.cellendedit(b,c,g.columntype,this.editcell.value,j);if(0==u)return this._raiseEvent(18,{rowindex:b,row:t,datafield:c,displayfield:g.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:g.columntype}),k(this),!1}return this._raiseEvent(18,{rowindex:b,row:t,datafield:c,displayfield:g.displayfield,oldvalue:oldvalue,value:j,columntype:g.columntype}),this._hidecelleditor(!1),void 0!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(b,c,j,e),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),a.jqx.browser.msie||i(),a.data(document.body,"jqxgrid.edit",""),!0}},beginrowedit:function(b){var c=this;c._oldselectedrow=b,this._cellscache=new Array;var d=!1;if("selectedrow"!=this.editmode&&(d=!0),d){var e=this.editmode;this.editmode="selectedrow"}var f=null;a.each(this.columns.records,function(a,d){if(c.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;f||(f=this.datafield);var e=c.getcell(b,this.datafield);c.begincelledit(b,this.datafield,null,!1,!1);var g=c.getrowdata(b);c._raiseEvent(17,{rowindex:b,row:g,datafield:this.datafield,value:e.value,columntype:this.columntype})}}),c.editcell&&(c.editcell.init=!0),this._renderrows(this.virtualsizeinfo),d&&(this.editmode=e),f&&c.editcell&&setTimeout(function(){if(c.editcell){var a=c.editcell[f].editor;a&&(a.data().jqxWidget&&a.data().jqxWidget.focus?a.data().jqxWidget.focus():a.focus())}},25)},endrowedit:function(c,d){var e=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(void 0==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var f=!1;if("selectedrow"!=this.editmode&&(f=!0),f){var g=this.editmode;this.editmode="selectedrow"}var h=!1,i={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var j=0;j<this.columns.records.length;j++){var k=this.columns.records[j];if(k.editable&&!k.hidden&&"checkbox"!=k.columntype&&!k.createwidget){var l=this._geteditorvalue(k),m=function(a){a._hidecelleditor();var b=a.getcellvalue(a.editcell.row,k.displayfield);if(k.cellendedit&&k.cellendedit(c,p,k.columntype,b,l),a.editchar=null,k.displayfield!=k.datafield){var d=a.getcellvalue(a.editcell.row,k.displayfield),e=b;n={value:e,label:d}}else n=b;var f=a.getrowdata(c);a._raiseEvent(18,{rowindex:c,row:f,datafield:p,displayfield:k.displayfield,oldvalue:b,value:b,columntype:k.columntype}),a.editcell.editing=!1};if(d)m(this);else{if(k.cellvaluechanging){var n=this.getcellvalue(this.editcell.row,k.displayfield),o=k.cellvaluechanging(c,p,k.columntype,n,l);void 0!=o&&(l=o)}var p=k.datafield;if(k.validation){var q=this.getcell(c,k.datafield);try{var r=k.validation(q,l),s=this.gridlocalization.validationstring;void 0!=r.message&&(s=r.message);var t="boolean"==typeof r?r:r.result;if(!t){void 0!=r.showmessage&&1!=r.showmessage||this._showvalidationpopup(c,p,s),h=!0,this.editcell[k.datafield].validated=!1;continue}}catch(u){this._showvalidationpopup(c,p,this.gridlocalization.validationstring),this.editcell[k.datafield].validated=!1,h=!0;continue}}if(k.displayfield!=k.datafield){var v=this.getcellvalue(this.editcell.row,k.displayfield),w=this.editcell.value;n={value:w,label:v}}else n=this.getcellvalue(this.editcell.row,k.displayfield);i[k.datafield]={newvalue:l,oldvalue:n}}}}var x={},y={};if(!h){this._hidecelleditor(!1);for(var j=0;j<this.columns.records.length;j++){var k=this.columns.records[j],p=k.datafield;if(!k.hidden&&k.editable){var z=this.getrowdata(c);if(!k.createwidget)if("checkbox"!=k.columntype){if(i[k.datafield]){var l=i[k.datafield].newvalue,n=i[k.datafield].oldvalue;if(k.cellendedit){var A=k.cellendedit(c,p,k.columntype,n,l);if(0==A){this._raiseEvent(18,{rowindex:c,row:z,datafield:p,displayfield:k.displayfield,oldvalue:n,value:n,columntype:k.columntype}),m(this);continue}}this.source.updaterow||this._raiseEvent(18,{rowindex:c,row:z,datafield:k.datafield,displayfield:k.displayfield,oldvalue:n,value:l,columntype:k.columntype}),x[k.datafield]=l,y[k.datafield]=n}}else{var l=this.getcellvalue(c,k.displayfield);this._raiseEvent(18,{rowindex:c,row:z,datafield:k.datafield,displayfield:k.displayfield,oldvalue:l,value:l,columntype:k.columntype})}}}var B=this.getrowid(c),z=b.copyObject(this.getrowdata(c));if(a.each(x,function(a,b){if(b&&void 0!=b.label){var c=e.getcolumn(a);z[c.displayfield]=b.label,z[c.datafield]=b.value}else z[a]=b}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),a.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow&&!d){var C=!1,e=this,t=function(b){var d=e.source.updaterow;e.source.updaterow=null,0==b?(a.each(y,function(a,b){if(b&&void 0!=b.label){var c=e.getcolumn(a);z[c.displayfield]=b.label,z[c.datafield]=b.value}else z[a]=b}),e.updaterow(B,z)):e.updaterow(B,z);for(var f=0;f<e.columns.records.length;f++){var g=e.columns.records[f];g.datafield;e._raiseEvent(18,{rowindex:c,datafield:g.datafield,row:z,displayfield:g.displayfield,oldvalue:y[g.datafield],value:z[g.displayfield],columntype:g.columntype})}e.source.updaterow=d};try{C=this.source.updaterow(B,z,t),void 0==C&&(C=!0)}catch(u){return void(C=!1)}}else d||this.updaterow(B,z,void 0,d),this._renderrows(this.virtualsizeinfo)}return f&&(this.editmode=g),h},_selection:function(a){if("selectionStart"in a[0]){var b=a[0],c=b.selectionEnd-b.selectionStart;return{start:b.selectionStart,end:b.selectionEnd,length:c,text:b.value}}var d=document.selection.createRange();if(null==d)return{start:0,end:b.value.length,length:0};var e=a[0].createTextRange(),f=e.duplicate();e.moveToBookmark(d.getBookmark()),f.setEndPoint("EndToStart",e);var c=d.text.length;return{start:f.text.length,end:f.text.length+d.text.length,length:c,text:d.text}},_setSelection:function(a,b,c){if("selectionStart"in c[0])c[0].focus(),c[0].setSelectionRange(a,b);else{var d=c[0].createTextRange();d.collapse(!0),d.moveEnd("character",b),d.moveStart("character",a),d.select()}},findRecordIndex:function(a,b,c){var c=c;if(b)for(var d=c.length,e=0;e<d;e++){var f=c[e],g=f.label;if(a==g)return e}return-1},_destroyeditors:function(){var b=this;this.columns.records&&(a.each(this.columns.records,function(c,d){var e=a.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var f=b.editors["dropdownlist_"+e];f&&(f.jqxDropDownList("destroy"),b.editors["dropdownlist_"+e]=null);break;case"combobox":var g=b.editors["combobox_"+e];g&&(g.jqxComboBox("destroy"),b.editors["combobox_"+e]=null);break;case"datetimeinput":var h=b.editors["datetimeinput_"+this.datafield];h&&(h.jqxDateTimeInput("destroy"),b.editors["datetimeinput_"+e]=null);break;case"numberinput":var i=b.editors["numberinput_"+e];i&&(i.jqxNumberInput("destroy"),b.editors["numberinput_"+e]=null);break;case"custom":case"template":if(this.destroyeditor&&b.editors["templateeditor_"+e]&&(this.destroyeditor(b.editors["templateeditor_"+e]),b.editors["templateeditor_"+e]=null),this.destroyeditor)for(var j=b.getrows().length,k=0;k<j;k++)b.editors["customeditor_"+e+"_"+k]&&(this.destroyeditor(b.editors["customeditor_"+e+"_"+k],k),b.editors["customeditor_"+e+"_"+k]=null);break;case"textbox":default:var l=b.editors["textboxeditor_"+e];l&&(b.removeHandler(l,"keydown"),b.editors["textbox_"+e]=null)}}),b.editors=new Array)},_showcelleditor:function(c,d,e,f,g){if(void 0!=e&&null!=this.editcell){if("checkbox"==d.columntype&&d.editable)return void("selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[d.datafield]=e));void 0==g&&(g=!0),"selectedrow"==this.editmode&&(this.editchar="",g=!1);var h=d.datafield,i=a(e),j=this,k=this.editcell.editor,l=this.getcellvalue(c,h),m=this.getcelltext(c,h),n=this.hScrollInstance,o=n.value,p=parseInt(o);this.columns.records.indexOf(d);if(this.editcell.element=e,0==this.editcell.validated){var q="";this.validationpopup&&(q=this.validationpopup.text()),this._showvalidationpopup(c,h,q)}var r=function(a){j.hScrollInstance.isScrolling()||j.vScrollInstance.isScrolling()||g&&(j.isTouchDevice()||(a&&a.focus(),0!=j.gridcontent[0].scrollTop&&(j.scrolltop(Math.abs(j.gridcontent[0].scrollTop)),j.gridcontent[0].scrollTop=0),0!=j.gridcontent[0].scrollLeft&&(j.gridcontent[0].scrollLeft=0)))},s=function(a){return a instanceof b.getModule("bindmodel")};switch(d.columntype){case"dropdownlist":if(this.host.jqxDropDownList){e.innerHTML="";var t=a.trim(d.datafield).split(" ").join(""),u=a.trim(d.displayfield).split(" ").join("");t.indexOf(".")!=-1&&(t=t.replace(".","")),u.indexOf(".")!=-1&&(u=u.replace(".",""));var v=this.editors["dropdownlist_"+t];if(k=void 0==v?a("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):v,k.css("top",a(e).parent().position().top),this.oldhscroll?k.css("left",-p+parseInt(a(e).position().left)):k.css("left",parseInt(a(e).position().left)),d.pinned&&k.css("left",p+parseInt(a(e).position().left)),void 0==v){if(k.prependTo(this.table),k[0].id="dropdownlisteditor"+this.element.id+t,s(d.bindmodel)){var w=!d.createeditor;k.jqxDropDownList({$bindmodel$:d.bindmodel,enableBrowserBoundsDetection:!0,keyboardSelection:!1,rtl:this.rtl,autoDropDownHeight:w,theme:this.theme,width:i.width()-2,height:i.height()-2,displayMember:u,valueMember:h})}else{var x=!!this.source._source,y=null;if(x){var z={localdata:this.source.records,datatype:this.source.datatype,async:!1};y=new a.jqx.dataAdapter(z,{autoBind:!1,async:!1,uniqueDataFields:[u],autoSort:!0,autoSortField:u})}else y=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[u],async:!1,autoSort:!0,autoSortField:u});var w=!d.createeditor;k.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:w,theme:this.theme,width:i.width()-2,height:i.height()-2,displayMember:u,valueMember:h})}this.editors["dropdownlist_"+t]=k,d.createeditor&&d.createeditor(c,l,k)}d._requirewidthupdate&&k.jqxDropDownList({width:i.width()-2});var A=k.jqxDropDownList("listBox").visibleItems;d.createeditor||(A.length<8?k.jqxDropDownList("autoDropDownHeight",!0):k.jqxDropDownList("autoDropDownHeight",!1));var l=this.getcellvalue(c,u),B=this.findRecordIndex(l,u,A);if(f&&(void 0!=l&&null!=l&&""!=l?k.jqxDropDownList("selectIndex",B,!0):k.jqxDropDownList("selectIndex",-1)),!this.editcell)return;void 0!=this.editcell.defaultvalue&&k.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),g&&k.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){e.innerHTML="";var t=a.trim(d.datafield).split(" ").join(""),u=a.trim(d.displayfield).split(" ").join("");t.indexOf(".")!=-1&&(t=t.replace(".","")),u.indexOf(".")!=-1&&(u=u.replace(".",""));var C=this.editors["combobox_"+t];if(k=void 0==C?a("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):C,k.css("top",a(e).parent().position().top),this.oldhscroll?k.css("left",-p+parseInt(a(e).position().left)):k.css("left",parseInt(a(e).position().left)),d.pinned&&k.css("left",p+parseInt(a(e).position().left)),void 0==C){if(k.prependTo(this.table),k[0].id="comboboxeditor"+this.element.id+t,s(d.bindmodel)){var w=!d.createeditor;k.jqxComboBox({$bindmodel$:d.bindmodel,enableBrowserBoundsDetection:!0,keyboardSelection:!1,rtl:this.rtl,autoDropDownHeight:w,theme:this.theme,width:i.width()-2,height:i.height()-2,displayMember:u,valueMember:h})}else{var x=!!this.source._source,y=null;if(x){var z={localdata:this.source.records,datatype:this.source.datatype,async:!1};y=new a.jqx.dataAdapter(z,{autoBind:!1,async:!1,uniqueDataFields:[u],autoSort:!0,autoSortField:u})}else y=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[u],async:!1,autoSort:!0,autoSortField:u});var w=!d.createeditor;k.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:w,theme:this.theme,width:i.width()-2,height:i.height()-2,displayMember:u,valueMember:h})}k.removeAttr("tabindex"),k.find("div").removeAttr("tabindex"),this.editors["combobox_"+t]=k,d.createeditor&&d.createeditor(c,l,k)}d._requirewidthupdate&&k.jqxComboBox({width:i.width()-2});var A=k.jqxComboBox("listBox").visibleItems;d.createeditor||(A.length<8?k.jqxComboBox("autoDropDownHeight",!0):k.jqxComboBox("autoDropDownHeight",!1));var l=this.getcellvalue(c,u),B=this.findRecordIndex(l,u,A);if(f&&(void 0!=l&&null!=l&&""!=l?(k.jqxComboBox("selectIndex",B,!0),k.jqxComboBox("val",l)):(k.jqxComboBox("selectIndex",-1),k.jqxComboBox("val",l))),!this.editcell)return;void 0!=this.editcell.defaultvalue&&k.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&k.jqxComboBox("input").val(this.editchar),g&&setTimeout(function(){if(r(k.jqxComboBox("input")),k)if(k.jqxComboBox("_setSelection",0,0),j.editchar)k.jqxComboBox("_setSelection",1,1),
j.editchar=null;else if(k.jqxComboBox("input")){var a=k.jqxComboBox("input").val();k.jqxComboBox("_setSelection",0,a.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){e.innerHTML="";var t=a.trim(d.datafield).split(" ").join("");t.indexOf(".")!=-1&&(t=t.replace(".",""));var D=this.editors["datetimeinput_"+t];if(k=void 0==D?a("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):D,k.show(),k.css("top",a(e).parent().position().top),this.oldhscroll?k.css("left",-p+parseInt(a(e).position().left)):k.css("left",parseInt(a(e).position().left)),d.pinned&&k.css("left",p+parseInt(a(e).position().left)),void 0==D){k.prependTo(this.table),k[0].id="datetimeeditor"+this.element.id+t;var E={calendar:this.gridlocalization};s(d.bindmodel)?k.jqxDateTimeInput({$bindmodel$:d.bindmodel,firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:E,_editor:!0,theme:this.theme,rtl:this.rtl,width:i.width(),height:i.height(),formatString:d.cellsformat}):k.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:E,_editor:!0,theme:this.theme,rtl:this.rtl,width:i.width(),height:i.height(),formatString:d.cellsformat}),this.editors["datetimeinput_"+t]=k,d.createeditor&&d.createeditor(c,l,k)}if(d._requirewidthupdate&&k.jqxDateTimeInput({width:i.width()-2}),f){if(""!=l&&null!=l){var F=new Date(l);"Invalid Date"==F&&this.source.getvaluebytype&&(F=this.source.getvaluebytype(l,{name:d.datafield,type:"date"})),k.jqxDateTimeInput("setDate",F)}else k.jqxDateTimeInput("setDate",null);void 0!=this.editcell.defaultvalue&&k.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(g){var G=this.editEvent;setTimeout(function(){r(k.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(k.jqxDateTimeInput("_selectGroup",0),j.editchar&&j.editchar.length>0){var a=parseInt(j.editchar);if(!isNaN(a)&&G){var b=G.charCode?G.charCode:G.keyCode?G.keyCode:0;k.jqxDateTimeInput("_handleKeyPress",G,b)}}},25)},10)}}break;case"numberinput":if(this.host.jqxNumberInput){e.innerHTML="";var t=a.trim(d.datafield).split(" ").join("");t.indexOf(".")!=-1&&(t=t.replace(".",""));var H=this.editors["numberinput_"+t];if(k=void 0==H?a("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):H,k.show(),k.css("top",a(e).parent().position().top),this.oldhscroll?k.css("left",-p+parseInt(a(e).position().left)):k.css("left",parseInt(a(e).position().left)),d.pinned&&k.css("left",p+parseInt(a(e).position().left)),void 0==H){k.prependTo(this.table),k[0].id="numbereditor"+this.element.id+t;var I="",J="left",K=2;d.cellsformat?d.cellsformat.indexOf("c")!=-1?(I=this.gridlocalization.currencysymbol,J=this.gridlocalization.currencysymbolposition,J="before"==J?"left":"right",d.cellsformat.length>1&&(K=parseInt(d.cellsformat.substring(1),10))):d.cellsformat.indexOf("p")!=-1&&(I=this.gridlocalization.percentsymbol,J="right",d.cellsformat.length>1&&(K=parseInt(d.cellsformat.substring(1),10))):K=0,s(d.bindmodel)?k.jqxNumberInput({$bindmodel$:d.bindmodel,decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:K,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:i.width()-1,height:i.height()-1,spinButtons:!0,symbol:I,symbolPosition:J}):k.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:K,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:i.width()-1,height:i.height()-1,spinButtons:!0,symbol:I,symbolPosition:J}),this.editors["numberinput_"+t]=k,d.createeditor&&d.createeditor(c,l,k)}if(d._requirewidthupdate&&k.jqxNumberInput({width:i.width()-2}),f){if(""!=l&&null!=l){var L=l;k.jqxNumberInput("setDecimal",L)}else k.jqxNumberInput("setDecimal",0);if(void 0!=this.editcell.defaultvalue&&k.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var M=parseInt(this.editchar);isNaN(M)||k.jqxNumberInput("setDecimal",M)}g&&setTimeout(function(){if(r(k.jqxNumberInput("numberInput")),k.jqxNumberInput("_setSelectionStart",0),j.editchar)d.cellsformat.length>0?k.jqxNumberInput("_setSelectionStart",2):k.jqxNumberInput("_setSelectionStart",1),j.editchar=null;else{var a=k.jqxNumberInput("spinButtons");if(a){var b=k.jqxNumberInput("numberInput").val();j._setSelection(k.jqxNumberInput("numberInput")[0],b.length,b.length)}else{var b=k.jqxNumberInput("numberInput").val();j._setSelection(k.jqxNumberInput("numberInput")[0],0,b.length)}k.jqxNumberInput("selectAll")}},10)}}break;case"custom":e.innerHTML="";var t=a.trim(d.datafield).split(" ").join("");t.indexOf(".")!=-1&&(t=t.replace(".",""));var N=this.editors["customeditor_"+t+"_"+c];if(k=void 0==N?a("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):N,k.show(),k.css("top",a(e).parent().position().top),this.oldhscroll?k.css("left",-p+parseInt(a(e).position().left)):k.css("left",parseInt(a(e).position().left)),d.pinned&&k.css("left",p+parseInt(a(e).position().left)),void 0==N){k.prependTo(this.table),k[0].id="customeditor"+this.element.id+t+"_"+c,this.editors["customeditor_"+t+"_"+c]=k;var O=i.width()-1,P=i.height()-1;k.width(O),k.height(P),d.createeditor&&d.createeditor(c,l,k,m,O,P,this.editchar)}d._requirewidthupdate&&k.width(i.width()-2);break;case"template":e.innerHTML="";var t=a.trim(d.datafield).split(" ").join("");t.indexOf(".")!=-1&&(t=t.replace(".",""));var Q=this.editors["templateeditor_"+t];if(k=void 0==Q?a("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):Q,k.show(),k.css("top",a(e).parent().position().top),this.oldhscroll?k.css("left",-p+parseInt(a(e).position().left)):k.css("left",parseInt(a(e).position().left)),d.pinned&&k.css("left",p+parseInt(a(e).position().left)),void 0==Q){k.prependTo(this.table),k[0].id="templateeditor"+this.element.id+t,this.editors["templateeditor_"+t]=k;var O=i.width()-1,P=i.height()-1;k.width(O),k.height(P),d.createeditor&&d.createeditor(c,l,k,m,O,P,this.editchar)}d._requirewidthupdate&&k.width(i.width()-2);break;case"textbox":default:e.innerHTML="",k=this.editors["textboxeditor_"+d.datafield]||a("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"),k[0].id="textboxeditor"+this.element.id+d.datafield,k.appendTo(i),this.rtl&&k.css("direction","rtl"),(f||""==k[0].className)&&(k.addClass(this.toThemeProperty("jqx-input")),k.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?k.val(this.editchar):(""!=d.cellsformat&&(l=this.getcelltext(c,h)),void 0==l&&(l=""),k.val(l)),void 0!=this.editcell.defaultvalue&&k.val(this.editcell.defaultvalue),k.width(i.width()+1),k.height(i.height()+1),d.createeditor&&d.createeditor(c,l,k),""!=d.cellsformat&&(d.cellsformat.indexOf("p")==-1&&d.cellsformat.indexOf("c")==-1&&d.cellsformat.indexOf("n")==-1&&d.cellsformat.indexOf("f")==-1||this.editors["textboxeditor_"+d.datafield]||k.keydown(function(a){var b=a.charCode?a.charCode:a.keyCode?a.keyCode:0,c=String.fromCharCode(b),e=parseInt(c);if(isNaN(e))return!0;if(j._selection(k).length>0)return!0;var f="",g=k.val();if(d.cellsformat.length>1){var h=parseInt(d.cellsformat.substring(1));isNaN(h)&&(h=0)}else var h=0;if(h>0&&g.indexOf(j.gridlocalization.decimalseparator)!=-1&&j._selection(k).start>g.indexOf(j.gridlocalization.decimalseparator))return!0;for(var i=0;i<g.length-h;i++){var l=g.substring(i,i+1);null!=l.match(/^[0-9]+$/)&&(f+=l)}return!(f.length>=11)&&void 0}))),this.editors["textboxeditor_"+d.datafield]=k,f&&g&&setTimeout(function(){r(k),j.editchar?(j._setSelection(k[0],1,1),j.editchar=null):j._setSelection(k[0],0,k.val().length)},25)}k&&(k[0].style.zIndex=1+parseInt(e.style.zIndex),a.jqx.browser.msie&&a.jqx.browser.version<8&&(k[0].style.zIndex=1+this.columns.records.length+e.style.zIndex),k.css("display","block"),this.editcell.editor=k,this.editcell[h]?this.editcell[h].editor=k:(this.editcell[h]={},this.editcell[h].editor=k)),f&&d.initeditor&&d.initeditor(c,l,k,m,this.editchar),j.isTouchDevice()||setTimeout(function(){j.content&&(j.content[0].scrollTop=0,j.content[0].scrollLeft=0),j.gridcontent&&(j.gridcontent[0].scrollLeft=0,j.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(a,b,c){try{if("selectionStart"in a)a.setSelectionRange(b,c);else{var d=a.createTextRange();d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d.select()}}catch(e){}},_hideeditors:function(){if(null!=this.editcells){var a=this;for(var b in this.editcells)a.editcell=a.editcells[b],a._hidecelleditor()}},_hidecelleditor:function(a){if(this.editcell){if("selectedrow"===this.editmode){for(var b=0;b<this.columns.records.length;b++){var c=this.columns.records[b];if(this.editcell[c.datafield]&&this.editcell[c.datafield].editor){this.editcell[c.datafield].editor.hide();var d=this.editcell[c.datafield].editor;switch(c.columntype){case"dropdownlist":d.jqxDropDownList({closeDelay:0}),d.jqxDropDownList("hideListBox"),d.jqxDropDownList({closeDelay:300});break;case"combobox":d.jqxComboBox({closeDelay:0}),d.jqxComboBox("hideListBox"),d.jqxComboBox({closeDelay:300});break;case"datetimeinput":d.jqxDateTimeInput("isOpened")&&(d.jqxDateTimeInput({closeDelay:0}),d.jqxDateTimeInput("hideCalendar"),d.jqxDateTimeInput({closeDelay:300}));break;case"custom":case"template":c.closeeditor&&c.closeeditor(d)}}}return void(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()))}if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var e=this.editcell.editor;e.jqxDateTimeInput("isOpened")&&(e.jqxDateTimeInput({closeDelay:0}),e.jqxDateTimeInput("hideCalendar"),e.jqxDateTimeInput({closeDelay:300}));break;case"custom":case"template":for(var f=this.columns.records,g=0,h=f.length;g<h;g++)f[g].datafield==this.editcell.datafield&&f[g].closeeditor&&f[g].closeeditor(this.editcell.editor)}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=a&&this.element.focus()}}},_geteditorvalue:function(b){var c=new String;if(!this.editcell)return null;var d=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[b.datafield])var d=this.editcell[b.datafield].editor;if(d){switch(b.columntype){case"textbox":default:if(c=d.val(),""!=b.cellsformat){var e="string",f=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(f){var g="";a.each(f,function(){if(this.name==b.displayfield)return this.type&&(g=this.type),!1}),g&&(e=g)}var h="number"===e||"float"===e||"int"===e||"integer"===e,i="date"===e||"time"===e;if(h||"string"===e&&(b.cellsformat.indexOf("p")!=-1||b.cellsformat.indexOf("c")!=-1||b.cellsformat.indexOf("n")!=-1||b.cellsformat.indexOf("f")!=-1)){if(""===c&&b.nullable)return"";c.indexOf(this.gridlocalization.currencysymbol)>-1&&(c=c.replace(this.gridlocalization.currencysymbol,""));var j=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);e!=-1;)d=d.replace(b,c),e=d.indexOf(b);return d},k=c;if(k=new Number(k),!isNaN(k))return k;c=j(c,this.gridlocalization.thousandsseparator,""),c=c.replace(this.gridlocalization.decimalseparator,"."),c.indexOf(this.gridlocalization.percentsymbol)>-1&&(c=c.replace(this.gridlocalization.percentsymbol,""));for(var l="",m=0;m<c.length;m++){var n=c.substring(m,m+1);"-"===n&&(l+="-"),"."===n&&(l+="."),null!=n.match(/^[0-9]+$/)&&(l+=n)}c=l,c=c.replace(/ /g,""),c=new Number(c),c=parseFloat(c),isNaN(c)&&(c="")}if(i||"string"===e&&(b.cellsformat.indexOf("H")!=-1||b.cellsformat.indexOf("m")!=-1||b.cellsformat.indexOf("M")!=-1||b.cellsformat.indexOf("y")!=-1||b.cellsformat.indexOf("h")!=-1||b.cellsformat.indexOf("d")!=-1)){if(""===c&&b.nullable)return"";var o=c;a.jqx.dataFormat&&(c=a.jqx.dataFormat.tryparsedate(o,this.gridlocalization)),"Invalid Date"!=c&&null!=c||(c="")}}b.displayfield!=b.datafield&&(c={label:c,value:c});break;case"checkbox":d.jqxCheckBox&&(c=d.jqxCheckBox("checked"));break;case"datetimeinput":if(d.jqxDateTimeInput){if(d.jqxDateTimeInput({isEditing:!1}),d.jqxDateTimeInput("_validateValue"),c=d.jqxDateTimeInput("getDate"),null==c)return null;c=new Date(c.toString()),b.displayfield!=b.datafield&&(c={label:c,value:c})}break;case"dropdownlist":if(d.jqxDropDownList){var p=d.jqxDropDownList("selectedIndex"),q=d.jqxDropDownList("listBox").getVisibleItem(p);c=b.displayfield!=b.datafield?q?{label:q.label,value:q.value}:"":q?q.label:"",void 0!=c&&null!=c||(c="")}break;case"combobox":if(d.jqxComboBox){if(c=d.jqxComboBox("val"),b.displayfield!=b.datafield){var q=d.jqxComboBox("getSelectedItem");null!=q&&(c={label:q.label,value:q.value})}void 0!=c&&null!=c||(c="")}break;case"numberinput":if(d.jqxNumberInput){this.touchdevice&&d.jqxNumberInput("_doTouchHandling");var r=d.jqxNumberInput("getDecimal");d.jqxNumberInput("enableBigDecimal")?c=r:(c=new Number(r),c=parseFloat(c)),isNaN(c)&&(c=0),null===r&&(c=null),b.displayfield!=b.datafield&&(c={label:c,value:c})}}b.geteditorvalue&&(c="selectedrow"==this.editmode?b.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,b.datafield),d):b.geteditorvalue(this.editcell.row,this.editcell.value,d))}return c},hidevalidationpopups:function(){this.popups&&(a.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(b,c,d){if(void 0==d)var d=this.gridlocalization.validationstring;var e=a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),f=a("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");e.html(d),f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),e.addClass(this.toThemeProperty("jqx-grid-validation")),e.addClass(this.toThemeProperty("jqx-rc-all")),e.prependTo(this.table),f.prependTo(this.table);for(var g=this.hScrollInstance,h=g.value,i=parseInt(h),j=this.getcolumn(c).uielement,k=null,l=0;l<this.hittestinfo.length;l++)b===this.hittestinfo[l].row.visibleindex&&(k=this.hittestinfo[l]);if(!k){this.ensurerowvisible(b);var m=this;return e.remove(),f.remove(),void setTimeout(function(){for(var a=null,e=0;e<m.hittestinfo.length;e++)b===m.hittestinfo[e].row.visibleindex&&(a=m.hittestinfo[e]);a&&m.showvalidationpopup(b,c,d)},25)}var n=a(k.visualrow);e.css("top",parseInt(n.position().top)+30+"px");var o=parseInt(e.css("top"));f.css("top",o-12),f.removeClass(),f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var p=!1;o>=this._gettableheight()&&(f.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),o=parseInt(n.position().top)-this.rowsheight-5,o<0&&(o=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=!0),e.css("top",o+"px"),f.css("top",o+e.outerHeight()-9));var q=-i+parseInt(a(j).position().left);f.css("left",i+q+30);var r=e.width();if(r+q>this.host.width()-20){var s=r+q-this.host.width()+40;q-=s}p?e.css("left",i+parseInt(a(j).position().left)-e.outerWidth()):e.css("left",i+q),e.show(),f.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:e,validationrow:f}},_showvalidationpopup:function(b,c,d){var e=this.editcell,f=this.editcell.editor;if("selectedrow"==this.editmode){var e=this.editcell[c];if(e&&e.editor){f=e.editor;var g=this._getfirstvisualrow().visibleindex,h=this.getrowvisibleindex(b),i=h-g,j=parseInt(this._gettableheight()/this.rowsheight);if(g+j<h)return;e.element=this.table[0].rows[i].cells[this._getcolumnindex(c)]}}if(f&&!(this.validationpopup&&a.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===c&&void 0===d&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(d);else{var k=a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),l=a("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");k.html(d),l.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),k.addClass(this.toThemeProperty("jqx-grid-validation")),k.addClass(this.toThemeProperty("jqx-rc-all")),k.prependTo(this.table),l.prependTo(this.table),this.validationpopup=k,this.validationpopuparrow=l}var m=this.hScrollInstance,n=m.value,o=parseInt(n);this.validationpopup.css("top",parseInt(a(e.element).parent().position().top)+(this.rowsheight+5)+"px");var p=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",p-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var q=this._gettableheight(),r=!1;p>=q&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=parseInt(a(e.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(p=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(a(e.editor).position().top)-this.rowsheight-5),p<0&&(p=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),r=!0),this.validationpopup.css("top",p+"px"),this.validationpopuparrow.css("top",p+this.validationpopup.outerHeight()-9));var s=-o+parseInt(a(e.element).position().left);this.validationpopuparrow.css("left",o+s+30);var t=this.validationpopup.width();if(t+s>this.host.width()-20){var u=t+s-this.host.width()+40;s-=u}r?this.validationpopup.css("left",o+parseInt(a(e.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",o+s),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework,A),function(a){a.extend(a.jqx._jqxGrid.prototype,{exportdata:function(b,c,d,e,f,g,h){if(!a.jqx.dataAdapter.ArrayExporter)throw"jqxGrid: Missing reference to jqxdata.export.js!";void 0==d&&(d=!0);var i=this;if(void 0==e){var e=this.getrows();if(0==e.length)throw"No data to export."}this.exporting=!0,this.pageable||(this.loadondemand=!0),this.altrows&&this._renderrows(this.virtualsizeinfo),this._renderrows(this.virtualsizeinfo);var j=void 0!=f&&f,k={},l={},m=this.host.find(".jqx-grid-cell:first"),n=this.host.find(".jqx-grid-cell-alt:first");m.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),m.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),n.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),m.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),m.removeClass(this.toThemeProperty("jqx-fill-state-hover")),n.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),n.removeClass(this.toThemeProperty("jqx-fill-state-hover"));for(var o="cell",p=1,q="column",r=1,s=[],t=0;t<this.columns.records.length;t++){var u=this.columns.records[t];if(""!=u.cellclassname)if(u.customCellStyles=new Array,"string"==typeof u.cellclassname)for(var v=0;v<e.length;v++)u.customCellStyles[v]=u.cellclassname;else for(var v=0;v<e.length;v++){var w=this.getrowboundindex(v),x=u.cellclassname(w,u.displayfield,e[v][u.displayfield],e[v]);x&&(u.customCellStyles[v]=x)}}var y=new Array,z=null,A=null,B=null;if(a.each(this.columns.records,function(c){var f=a(i.table[0].rows[0].cells[c]);if(i.table[0].rows.length>1){var g=a(i.table[0].rows[1].cells[c]);B||(B=g)}A||(A=f);var h=this,m=function(a){if(a.removeClass(i.toThemeProperty("jqx-grid-cell-selected")),a.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),a.removeClass(i.toThemeProperty("jqx-grid-cell-hover")),a.removeClass(i.toThemeProperty("jqx-fill-state-hover")),h.customCellStyles)for(var b in h.customCellStyles)a.removeClass(h.customCellStyles[b])};if(m(f),g&&m(g),null==this.displayfield)return!0;i.showaggregates&&i.getcolumnaggregateddata&&s.push(i.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,e));var n=i._getexportcolumntype(this);!this.exportable||this.hidden&&!j||(k[this.displayfield]={},k[this.displayfield].text=this.text,k[this.displayfield].width=parseInt(this.width),isNaN(k[this.displayfield].width)&&(k[this.displayfield].width=60),k[this.displayfield].formatString=this.cellsformat,k[this.displayfield].localization=i.gridlocalization,k[this.displayfield].type=n,k[this.displayfield].cellsAlign=this.cellsalign,k[this.displayfield].hidden=!d,k[this.displayfield].displayfield=this.displayfield,y.push(k[this.displayfield])),o="cell"+p;var t=a(this.element);if(void 0==this.element&&(t=a(this.uielement)),z){if(!h._rendered){t=z,f=A,g=B;var u=i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");f[0].className=u,u+=i.toTP("jqx-grid-cell-alt"),g&&(g[0].className=u)}}else z=t;if(q="column"+r,"html"==b||"xls"==b||"pdf"==b){var v=function(a,c,d,e,f,g,h,i,m){l[a]={},void 0!=c&&(l[a]["font-size"]=c.css("font-size"),l[a]["font-weight"]=c.css("font-weight"),l[a]["font-style"]=c.css("font-style"),l[a]["background-color"]=g._getexportcolor(c.css("background-color")),l[a].color=g._getexportcolor(c.css("color")),l[a]["border-color"]=g._getexportcolor(c.css("border-top-color")),d?l[a]["text-align"]=f.align:(l[a]["text-align"]=f.cellsalign,l[a].formatString=f.cellsformat,l[a].dataType=n),"html"!=b&&"pdf"!=b||(l[a]["border-top-width"]=c.css("border-top-width"),l[a]["border-left-width"]=c.css("border-left-width"),l[a]["border-right-width"]=c.css("border-right-width"),l[a]["border-bottom-width"]=c.css("border-bottom-width"),l[a]["border-top-style"]=c.css("border-top-style"),l[a]["border-left-style"]=c.css("border-left-style"),l[a]["border-right-style"]=c.css("border-right-style"),l[a]["border-bottom-style"]=c.css("border-bottom-style"),d?(0==h&&(l[a]["border-left-width"]=c.css("border-right-width")),l[a]["border-top-width"]=c.css("border-right-width"),l[a]["border-bottom-width"]=c.css("border-bottom-width")):0==h&&(l[a]["border-left-width"]=c.css("border-right-width")),l[a].height=c.css("height")),!f.exportable||f.hidden&&!j||(1==i?(k[f.displayfield].customCellStyles||(k[f.displayfield].customCellStyles=new Array),k[f.displayfield].customCellStyles[m]=a):d?k[f.displayfield].style=a:e?k[f.displayfield].cellAltStyle=a:k[f.displayfield].cellStyle=a))};if(v(q,t,!0,!1,this,i,c),r++,v(o,f,!1,!1,this,i,c),i.altrows&&(o="cellalt"+p,v(o,g,!1,!0,this,i,c)),this.customCellStyles){for(var w in h.customCellStyles)f.removeClass(h.customCellStyles[w]);for(var w in h.customCellStyles)f.addClass(h.customCellStyles[w]),v(o+h.customCellStyles[w],f,!1,!1,this,i,c,!0,w),f.removeClass(h.customCellStyles[w])}p++}}),a.each(this.columns.records,function(a){k[this.displayfield]&&(k[this.displayfield].columnsDataFields=y)}),this.showaggregates){var C=[],D="xls"==b?"_AG":"",E=this.groupable?this.groups.length:0;this.rowdetails&&E++,"checkbox"===this.selectionmode&&E++,s.length>0&&(a.each(this.columns.records,function(a){if(this.aggregates)for(var b=0;b<this.aggregates.length;b++)if(C[b]||(C[b]={}),C[b]){var c=i._getaggregatename(this.aggregates[b]),d=i._getaggregatetype(this.aggregates[b]),e=s[a-E];e&&(C[b][this.displayfield]=D+c+": "+e[d])}}),a.each(this.columns.records,function(a){for(var b=0;b<C.length;b++)void 0==C[b][this.displayfield]&&(C[b][this.displayfield]=D)})),a.each(C,function(){e.push(this)})}var F=this,G=a.jqx.dataAdapter.ArrayExporter(e,k,l);if(void 0==c){this._renderrows(this.virtualsizeinfo);var H=G.exportTo(b);return this.showaggregates&&a.each(C,function(){e.pop(this)}),setTimeout(function(){F.exporting=!1},50),H}G.exportToFile(b,c,g,h),this.showaggregates&&a.each(C,function(){e.pop(this)}),this._renderrows(this.virtualsizeinfo),setTimeout(function(){F.exporting=!1},50)},_getexportcolor:function(a){var b=a;if("transparent"==a&&(b="#FFFFFF"),b&&b.toString()||(b="#FFFFFF"),b.toString().indexOf("rgb")!=-1){var c=b.split(",");if(b.toString().indexOf("rgba")!=-1){var d=parseInt(c[0].substring(5)),e=parseInt(c[1]),f=parseInt(c[2]),g=parseInt(c[3].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return 0==d&&0==e&&0==f&&0==g?"#ffffff":"#"+i}var d=parseInt(c[0].substring(4)),e=parseInt(c[1]),f=parseInt(c[2].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return"#"+i}if(b.toString().indexOf("#")!=-1&&4==b.toString().length){var j=b.toString().substring(1,4);b+=j}return b},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(a){var b=parseInt(a).toString(16);return 1==b.length&&(b="0"+b),b.toUpperCase()},_getexportcolumntype:function(b){var c=this,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){if(this.name==b.displayfield)return this.type&&(f=this.type),!1}),f)return f}if(null!=b){if(void 0==this.dataview.cachedrecords)return d;var g=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return g=this[b.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return d;if(g=this.dataview.cachedrecords[0][b.displayfield],null!=g&&""==g.toString())return"string"}if(null!=g){if(b.cellsformat.indexOf("c")!=-1)return"number";if(b.cellsformat.indexOf("n")!=-1)return"number";if(b.cellsformat.indexOf("p")!=-1)return"number";if(b.cellsformat.indexOf("d")!=-1)return"date";if(b.cellsformat.indexOf("y")!=-1)return"date";if(b.cellsformat.indexOf("M")!=-1)return"date";if(b.cellsformat.indexOf("m")!=-1)return"date";if(b.cellsformat.indexOf("t")!=-1)return"date";if("boolean"==typeof g)d="boolean";else if(a.jqx.dataFormat.isNumber(g))d="number";else{var h=new Date(g);if("NaN"==h.toString()||"Invalid Date"==h.toString())if(a.jqx.dataFormat){if(h=a.jqx.dataFormat.tryparsedate(g),null!=h){if(h&&h.getFullYear()&&1970==h.getFullYear()&&0==h.getMonth()&&1==h.getDate()){var i=new Number(g);return isNaN(i)?"string":"number"}return"date"}d="string"}else d="string";else d="date"}}}return d}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{_updatefilterrowui:function(b){var c=this.columns.records.length,d=0,e=this;if(this.filterrow){for(var f=0;f<c;f++){var g=this.columns.records[f],h=g.width;h<g.minwidth&&(h=g.minwidth),h>g.maxwidth&&(h=g.maxwidth);var i=a(this.filterrow[0].cells[f]);i.css("left",d);var j=!0;if(i.width()==h&&(j=!1),b&&(j=!0),i.width(h),i[0].left=d,g.hidden&&g.hideable?i.css("display","none"):d+=h,j)if(g.createfilterwidget&&"custom"==g.filtertype)g.createfilterwidget(g,i);else if(g.filterable){var k=function(b,c){var d=a(c.children()[0]);d.width(h-10),d.attr("disabled",b.disabled)};switch(g.filtertype){case"number":case"input":a(i.children()[0]).width(h),i.find("input").width(h-30),i.find("input").attr("disabled",e.disabled),a(i.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:e.theme,disabled:e.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?a(i.children()[0]).jqxDateTimeInput({theme:e.theme,disabled:e.disabled,width:h-10}):k(this,i);break;case"textbox":case"default":k(this,i);break;case"list":case"checkedlist":this.host.jqxDropDownList?a(i.children()[0]).jqxDropDownList({theme:e.theme,disabled:e.disabled,width:h-10}):k(this,i);break;case"bool":case"boolean":this.host.jqxCheckBox?a(i.children()[0]).jqxCheckBox({theme:e.theme,disabled:e.disabled}):k(this,i)}}}var l=a(this.filterrow.children()[0]);l.width(parseInt(d)+2),l.height(this.filterrowheight)}},clearfilterrow:function(b){if(this._disablefilterrow=!0,this.columns.records){for(var c=this.columns.records.length,d=0;d<c;d++){var e=this.columns.records[d],f=a(this.filterrow[0].cells[d]);if(("string"!=typeof b||e.displayfield==b)&&e.filterable){var g=function(b,c){var d=a(c.children()[0]);d.val(""),d[0]&&(b["_oldWriteText"+d[0].id]="")};switch(e.filtertype){case"number":case"input":if(f.find("input").val(""),this.host.jqxDropDownList){var h=a(a(a(f).children()[0]).children()[1]);h.jqxDropDownList("clearSelection");var i=0;if(0==i){var j=(this._getfiltersbytype("number"==e.filtertype?"number":"string"),new a.jqx.filter),k=j.getoperatorsbyfiltertype("number"==e.filtertype?"numberfilter":"stringfilter");null!=e.filtercondition?(i=k.indexOf(e.filtercondition.toUpperCase()),i==-1&&(i="number"==e.filtertype?0:2)):i="number"==e.filtertype?0:2}h.jqxDropDownList({selectedIndex:i}),h.jqxDropDownList("ensureVisible",i)}break;case"date":case"range":this.host.jqxDateTimeInput?a(f.children()[0]).jqxDateTimeInput("setDate",null):g(this,f);break;case"textbox":case"default":g(this,f);break;case"list":this.host.jqxDropDownList?a(f.children()[0]).jqxDropDownList("clearSelection"):g(this,f);break;case"checkedlist":this.host.jqxDropDownList?a(f.children()[0]).jqxDropDownList("checkAll",!1):g(this,f);break;case"bool":case"boolean":this.host.jqxCheckBox?a(f.children()[0]).jqxCheckBox({checked:null}):g(this,f)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var b=this.columns.records.length,c=this.that,d=0;d<b;d++){var e=new a.jqx.filter,f=this.columns.records[d];if(f.filterable&&null!==f.datafield){var g=c._getcolumntypebydatafield(f),h=c._getfiltertype(g),i=1,j=!0,k=(f.filtertype,function(a,b,d){var e=!0;if(a._filterwidget){var f=a._filterwidget.val();if(""!=f){var g="equal";if("stringfilter"==b)var g="contains";if("numericfilter"==b&&","==c.gridlocalization.decimalseparator&&f.indexOf(c.gridlocalization.decimalseparator)>=0&&(f=f.replace(c.gridlocalization.decimalseparator,".")),"stringfilter"!=b){var h=0;if(f.indexOf(">")!=-1&&(g="greater_than",h=1),f.indexOf("<")!=-1&&(g="less_than",h=1),f.indexOf("=")!=-1&&("greater_than"==g?(g="greater_than_or_equal",h=2):"less_than"==g?(g="less_than_or_equal",h=2):(g="equal",h=1)),0!=h&&(f=f.substring(h),f.length<1))return!1}if(void 0!=a.filtercondition&&(g=a.filtercondition),"datefilter"==b)var j=d.createfilter(b,f,g,null,a.cellsformat,c.gridlocalization);else var j=d.createfilter(b,f,g);d.addfilter(i,j)}else e=!1}return e});switch(f.filtertype){case"range":case"date":if(f._filterwidget.jqxDateTimeInput)if("range"==f.filtertype){var l=f._filterwidget.jqxDateTimeInput("getRange");if(null!=l&&null!=l.from&&null!=l.to){var m="GREATER_THAN_OR_EQUAL",n=new Date(0);n.setHours(0),n.setMinutes(0),n.setFullYear(l.from.getFullYear(),l.from.getMonth(),l.from.getDate());var o=new Date(0);o.setHours(0),o.setMinutes(0),o.setFullYear(l.to.getFullYear(),l.to.getMonth(),l.to.getDate()),o.setHours(l.to.getHours()),o.setMinutes(l.to.getMinutes()),o.setSeconds(l.to.getSeconds());var p=e.createfilter(h,n,m);e.addfilter(0,p);var q="LESS_THAN_OR_EQUAL",r=e.createfilter(h,o,q);e.addfilter(0,r)}else j=!1}else{var l=f._filterwidget.jqxDateTimeInput("getDate");if(null!=l){var n=new Date(0);n.setHours(0),n.setMinutes(0),n.setFullYear(l.getFullYear(),l.getMonth(),l.getDate());var m="EQUAL";void 0!=f.filtercondition&&(m=f.filtercondition);var p=e.createfilter(h,n,m);e.addfilter(0,p)}else j=!1}else j=k(f,h,e);break;case"input":if(f._filterwidget){var l=f._filterwidget.find("input").val(),s=f._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),t=e.getoperatorsbyfiltertype(h)[s];
if(c.updatefilterconditions){var u=c.updatefilterconditions(h,e.getoperatorsbyfiltertype(h));void 0!=u&&e.setoperatorsbyfiltertype(h,u);var t=e.getoperatorsbyfiltertype(h)[s]}var v="NULL"==t||"NOT_NULL"==t,w="EMPTY"==t||"NOT_EMPTY"==t;void 0!=l&&l.length>0||v||w?(p=e.createfilter(h,l,t,null,f.cellsformat,c.gridlocalization),e.addfilter(0,p)):j=!1}else j=!1;break;case"number":if(f._filterwidget){var l=f._filterwidget.find("input").val();","==c.gridlocalization.decimalseparator&&l.indexOf(c.gridlocalization.decimalseparator)>=0&&(l=l.replace(c.gridlocalization.decimalseparator,"."));var s=f._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),t=e.getoperatorsbyfiltertype(h)[s];if(c.updatefilterconditions){var u=c.updatefilterconditions(h,e.getoperatorsbyfiltertype(h));void 0!=u&&e.setoperatorsbyfiltertype(h,u);var t=e.getoperatorsbyfiltertype(h)[s]}var v="NULL"==t||"NOT_NULL"==t,w="EMPTY"==t||"NOT_EMPTY"==t;void 0!=l&&l.length>0||v||w?(p=e.createfilter(h,new Number(l),t,null,f.cellsformat,c.gridlocalization),e.addfilter(0,p)):j=!1}else j=!1;break;case"textbox":case"default":j=k(f,h,e);break;case"bool":case"boolean":if(f._filterwidget.jqxCheckBox){var l=f._filterwidget.jqxCheckBox("checked");if(null!=l){var m="equal",x=e.createfilter(h,l,m);e.addfilter(i,x)}else j=!1}else j=k(f,h,e);break;case"list":var y=f._filterwidget.jqxDropDownList("listBox");if(y.selectedIndex>0){var z=y.getItem(y.selectedIndex),l=z.label,A=z.value,m="equal";""===l&&(m="NULL");var x=e.createfilter(h,l,m);e.addfilter(i,x),A!==l&&(x.data=A)}else j=!1;break;case"checkedlist":if(f._filterwidget.jqxDropDownList){var y=f._filterwidget.jqxDropDownList("listBox"),B=y.getCheckedItems();if(0==B.length){for(var C=1;C<y.items.length;C++){var l=y.items[C].label,A=y.items[C].value,m="not_equal";""===l&&(m="NULL");var x=e.createfilter(h,l,m);A!==l&&(x.data=A),e.addfilter(0,x)}j=!0}else if(B.length!=y.items.length)for(var C=0;C<B.length;C++){var l=B[C].label,A=B[C].value,m="equal";""===l&&(m="NULL");var x=e.createfilter(h,l,m);A!==l&&(x.data=A),e.addfilter(i,x)}else j=!1}else j=k(f,h,e)}this._loading||(j?this.addfilter(f.displayfield,e,!1):this.removefilter(f.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var b=a('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),c=0,d=this.columns.records.length,e=this.toThemeProperty("jqx-grid-cell");e+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),e+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var f=d+10,g=new Array,h=this.that;this.filterrow[0].cells=g,b.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(b),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var i=!1,j=new Array,k=document.createDocumentFragment(),l=0;l<d;l++){var m=this.columns.records[l],n=m.width;n<m.minwidth&&(n=m.minwidth),n>m.maxwidth&&(n=m.maxwidth);var o=document.createElement("div");o.style.overflow="hidden",o.style.position="absolute",o.style.height="100%",o.className=e,o=a(o),k.appendChild(o[0]),o[0].style.left=c+"px",this.rtl?(o.css("z-index",f++),o.css("border-left-width","1px")):o.css("z-index",f--),"auto"==n&&(n=0),o[0].style.width=parseFloat(n)+"px",o[0].left=c,m.hidden&&m.hideable?o.css("display","none"):c+=n,g[g.length]=o[0];var p=!0;if(this.rtl){if(this.groupable){var q=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+q+l>d-1&&(p=!1)}this.showrowdetailscolumn&&this.rowdetails&&l==d-1&&(p=!1)}else{if(this.groupable){var q=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+q>l&&(p=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==l&&(p=!1)}if(p)if("custom"==m.filtertype&&m.createfilterwidget){var r=function(){h._applyfilterfromfilterrow()};m.createfilterwidget(m,o,r)}else m.filterable&&(this._filterrowcache[m.datafield]?(i=!0,o.append(this._filterrowcache[m.datafield]),m._filterwidget=this._filterrowcache[m.datafield]):(this._addfilterwidget(m,o,n),j[m.datafield]=m._filterwidget))}b[0].appendChild(k),this._filterrowcache=j,a.jqx.browser.msie&&a.jqx.browser.version<8&&b.css("z-index",f--),b.width(parseFloat(c)+2),this.filterrow.addClass(e),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),i&&this._updatefilterrowui(!0)},_addfilterwidget:function(b,c,d){for(var e=this.that,f="",g="",h=0;h<e.dataview.filters.length;h++){var i=e.dataview.filters[h];if(i.datafield&&i.datafield==b.datafield){var h=i.filter.getfilters()[0];f=h.value,"range"===b.filtertype&&(f={from:f,to:i.filter.getfilters()[1].value}),g=h.condition,b.filtercondition=g;break}}var j=function(c,e){var g=a('<input autocomplete="off" type="textarea"/>');g[0].id=a.jqx.utilities.createId(),g.addClass(c.toThemeProperty("jqx-widget")),g.addClass(c.toThemeProperty("jqx-input")),g.addClass(c.toThemeProperty("jqx-rc-all")),g.addClass(c.toThemeProperty("jqx-widget-content")),c.rtl&&g.css("direction","rtl"),c.disabled&&g.attr("disabled",!0),g.attr("disabled",!1),g.appendTo(e),g.width(d-10),g.height(c.filterrowheight-10),g.css("margin","4px"),g.css("box-sizing","border-box"),b.createfilterwidget&&b.createfilterwidget(b,e,g),b._filterwidget=g,g.focus(function(){return c.content[0].scrollLeft=0,setTimeout(function(){c.content[0].scrollLeft=0},10),c.focusedfilter=g,g.addClass(c.toThemeProperty("jqx-fill-state-focus")),!1}),g.blur(function(){g.removeClass(c.toThemeProperty("jqx-fill-state-focus"))}),g.keydown(function(a){"13"==a.keyCode&&c._applyfilterfromfilterrow(),g[0]._writeTimer&&clearTimeout(g[0]._writeTimer),g[0]._writeTimer=setTimeout(function(){c._loading||(c["_oldWriteText"+g[0].id]||(c["_oldWriteText"+g[0].id]=""),c["_oldWriteText"+g[0].id].length>0&&c["_oldWriteText"+g[0].id]!=g.val()?(c._applyfilterfromfilterrow(),c["_oldWriteText"+g[0].id]=g.val()):0==c["_oldWriteText"+g[0].id].length&&(c._applyfilterfromfilterrow(),c["_oldWriteText"+g[0].id]=g.val()))},b.filterdelay),c.focusedfilter=g}),c.host.removeClass("jqx-disableselect"),c.content.removeClass("jqx-disableselect"),g.val(f)};switch(null!=b.datatype&&("number"==b.filtertype&&("string"!=b.datatype&&"date"!=b.datatype&&"bool"!=b.datatype||(b.filtertype="textbox")),"date"==b.filtertype&&("string"!=b.datatype&&"number"!=b.datatype&&"bool"!=b.datatype||(b.filtertype="textbox")),"bool"==b.filtertype&&("string"!=b.datatype&&"number"!=b.datatype&&"date"!=b.datatype||(b.filtertype="textbox"))),b.filtertype){case"number":case"input":var k=a("<div></div>");k.width(c.width()),k.height(this.filterrowheight),c.append(k);var d=c.width()-21,l=function(c,d,g){var h=a('<input style="float: left;" autocomplete="off" type="textarea"/>');return e.rtl&&(h.css("float","right"),h.css("direction","rtl")),h[0].id=a.jqx.utilities.createId(),h.addClass(e.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-widget-content")),h.appendTo(c),h.width(d-16),e.disabled&&h.attr("disabled",!0),h.attr("disabled",!1),h.height(e.filterrowheight-10),h.css("margin","4px"),h.css("margin-right","2px"),h.focus(function(){e.focusedfilter=h,h.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),h.blur(function(){h.removeClass(e.toThemeProperty("jqx-fill-state-focus"))}),h.keydown(function(a){"13"==a.keyCode&&e._applyfilterfromfilterrow(),h[0]._writeTimer&&clearTimeout(h[0]._writeTimer),h[0]._writeTimer=setTimeout(function(){e._loading||e["_oldWriteText"+h[0].id]!=h.val()&&(e._applyfilterfromfilterrow(),e["_oldWriteText"+h[0].id]=h.val())},b.filterdelay),e.focusedfilter=h}),h.val(f),h};l(k,d);var m=e._getfiltersbytype("number"==b.filtertype?"number":"string"),n=a("<div class='filter' style='float: left;'></div>");n.css("margin-top","4px"),n.appendTo(k),e.rtl&&n.css("float","right");var o=0;if(null!=b.filtercondition){var h=new a.jqx.filter,p=h.getoperatorsbyfiltertype("number"==b.filtertype?"numericfilter":"stringfilter"),q=p.indexOf(b.filtercondition.toUpperCase());q!=-1&&(o=q)}var r=180;if("input"==b.filtertype&&(r=240,0==o)){var q=m.indexOf("contains")||2;q!=-1&&null==b.filtercondition&&(o=q)}n.jqxDropDownList({disabled:e.disabled,touchMode:e.touchmode,rtl:e.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:o,width:18,height:21,dropDownHeight:150,dropDownWidth:r,source:m,theme:e.theme}),n.jqxDropDownList({selectionRenderer:function(a){return""}}),n.jqxDropDownList("setContent",""),n.find(".jqx-dropdownlist-content").hide(),b.createfilterwidget&&b.createfilterwidget(b,c,k),b._filterwidget=k;var s=null;this.addHandler(n,"select",function(){var a=n.jqxDropDownList("getSelectedItem").label;b._filterwidget.find("input").val().length>0&&!e.refreshingfilter&&e._applyfilterfromfilterrow(),"input"!=b.filtertype||e.refreshingfilter?0!=b._filterwidget.find("input").val().length||e.refreshingfilter||"null"!=s&&"not null"!=s&&"null"!=a&&"not null"!=a||e._applyfilterfromfilterrow():e._applyfilterfromfilterrow(),s=a});break;case"textbox":case"default":default:j(this,c);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var t=a("<div></div>");t.css("margin","4px"),t.appendTo(c);var u={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};t.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:e.disabled,localization:u,rtl:e.rtl,showFooter:!0,formatString:b.cellsformat,selectionMode:b.filtertype,value:null,theme:this.theme,width:d-10,height:this.filterrowheight-10}),b.createfilterwidget&&b.createfilterwidget(b,c,t),f&&f.from?t.jqxDateTimeInput("setRange",f.from,f.to):f&&f.toString().length>1&&t.val(f),b._filterwidget=t,this.addHandler(t,"valueChanged",function(a){e.refreshingfilter||(e._applyfilterfromfilterrow(),e.focusedfilter=null)})}else j(this,c);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var v=this._getfilterdataadapter(b),w=!1,n=a("<div></div>");n.css("margin","4px");var x=b.datafield,y="checkedlist"==b.filtertype,r=d<150?220:"auto";v.dataBind();var z=v.records,A=z.length<8;w=A,n.appendTo(c),n.jqxDropDownList({placeHolder:e.gridlocalization.filterchoosestring,disabled:e.disabled,touchMode:e.touchmode,rtl:e.rtl,checkboxes:y,dropDownWidth:r,source:v.records,autoDropDownHeight:A,theme:this.theme,width:d-10,height:this.filterrowheight-10,displayMember:b.displayfield,valueMember:x}),b.createfilterwidget&&b.createfilterwidget(b,c,n);var B=n.jqxDropDownList("listBox");if(y){n.jqxDropDownList({selectionRenderer:function(){var a='<span class="'+e.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+e.gridlocalization.filterselectstring+"</span>";return a}});var C=a('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+e.gridlocalization.filterselectstring+"</span>");if(C.addClass(this.toThemeProperty("jqx-item")),void 0!=B){w||B.host.height(200),B.insertAt(e.gridlocalization.filterselectallstring,0),n.jqxDropDownList("setContent",C);var D=!0;new Array;B.checkAll(!1),e.addHandler(B.host,"checkChange",function(a){if(n[0]._selectionChanged=!0,D)if(a.args.label!=e.gridlocalization.filterselectallstring){D=!1,B.host.jqxListBox("checkIndex",0,!0,!1);var b=B.host.jqxListBox("getCheckedItems"),c=B.host.jqxListBox("getItems");1==b.length?B.host.jqxListBox("uncheckIndex",0,!0,!1):c.length!=b.length&&B.host.jqxListBox("indeterminateIndex",0,!0,!1),D=!0}else D=!1,a.args.checked?B.host.jqxListBox("checkAll",!1):B.host.jqxListBox("uncheckAll",!1),D=!0})}}else B.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),n.jqxDropDownList({selectedIndex:0});b._filterwidget=n;n.jqxDropDownList("dropdownlistWrapper");"list"==b.filtertype?this.addHandler(n,"select",function(a){e.refreshingfilter||a.args&&"none"!=a.args.type&&(e._applyfilterfromfilterrow(),e.focusedfilter=null)}):this.addHandler(n,"close",function(a){n[0]._selectionChanged&&(e._applyfilterfromfilterrow(),e.focusedfilter=null,n[0]._selectionChanged=!1)})}else j(this,c);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var E=a('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');E.appendTo(c),E.jqxCheckBox({disabled:e.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),b.createfilterwidget&&b.createfilterwidget(b,c,E),f===!0||"true"==f?E.jqxCheckBox({checked:!0}):f!==!1&&"false"!=f||E.jqxCheckBox({checked:!1}),b._filterwidget=E,this.addHandler(E,"change",function(a){e.refreshingfilter||a.args&&(e.focusedfilter=null,e._applyfilterfromfilterrow())})}else j(this,c)}},_getfilterdataadapter:function(b){var c=!!this.source._source;if(c){var d={localdata:a.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},e=this;dataadapter=new a.jqx.dataAdapter(d,{autoBind:!1,autoSort:!0,autoSortField:b.displayfield,async:!1,uniqueDataFields:[b.displayfield],beforeLoadComplete:function(a){var c=new Array;if(b.cellsformat){for(var d=e._getcolumntypebydatafield(b),f=0;f<a.length;f++){c.push(a[f]);var g=a[f][b.displayfield];a[f][b.displayfield+"JQValue"]=g,"date"===d?null!=g?a[f][b.displayfield]=dataadapter.formatDate(g,b.cellsformat,e.gridlocalization):a[f][b.displayfield]="":"number"!==d&&"float"!==d&&"int"!==d||(null!=g?a[f][b.displayfield]=dataadapter.formatNumber(g,b.cellsformat,e.gridlocalization):a[f][b.displayfield]="")}return c}return a}})}else dataadapter=new a.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[b.displayfield],autoSort:!0,autoSortField:b.displayfield,async:!1});if(b.filteritems&&b.filteritems.length>0){var d={localdata:b.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new a.jqx.dataAdapter(d,{autoBind:!1,async:!1})}else if(b.filteritems){if(b.filteritems._source)return b.filteritems._options.autoBind=!1,b.filteritems._options.async=!1,b.filteritems;if(a.isFunction(b.filteritems))return b.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var b=this.that,c=this.columns.records.length,d=0;d<c;d++){var e=this.columns.records[d];if(e.filterable&&e.filter){var f=e.filter.getfilters();if(f.length>0){var g=f[0].value,h=e._filterwidget,i=e._filterwidget.parent();if(null!=h)switch(e.filtertype){case"number":if(i.find("input").val(g),this.host.jqxDropDownList){var j=e.filter.getoperatorsbyfiltertype("numericfilter");h.find(".filter").jqxDropDownList("selectIndex",j.indexOf(f[0].condition))}break;case"input":if(i.find("input").val(g),this.host.jqxDropDownList){var j=e.filter.getoperatorsbyfiltertype("stringfilter");h.find(".filter").jqxDropDownList("selectIndex",j.indexOf(f[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){var g=e.filter.getfilterat(0).filtervalue;if(void 0!=g){if(e.filter.getfilterat(1))var k=e.filter.getfilterat(1).filtervalue;else k=g;"range"==e.filtertype?a(i.children()[0]).jqxDateTimeInput("setRange",new Date(g),new Date(k)):a(i.children()[0]).jqxDateTimeInput("setDate",new Date(g))}}else h.val(g);break;case"textbox":case"default":h.val(g),b["_oldWriteText"+h[0].id]=g;break;case"bool":case"boolean":this.host.jqxCheckBox?a(i.children()[0]).jqxCheckBox({checked:g}):h.val(g)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var b=(this.that,this.columns.records.length),c=0;c<b;c++){var d=this.columns.records[c];if(d.filterable){var e=d._filterwidget;if("list"==d.filtertype||"checkedlist"==d.filtertype)this.removeHandler(e,"select"),this.removeHandler(e,"close"),e.jqxDropDownList("destroy");else if("date"==d.filtertype||"range"==d.filtertype)this.removeHandler(e,"valueChanged"),e.jqxDateTimeInput("destroy");else if("bool"==d.filtertype)this.removeHandler(e,"change"),e.jqxCheckBox("destroy");else if("number"==d.filtertype){var f=e.find(".jqx-input");this.removeHandler(f,"keydown");var g=a(e.children()[1]);g.jqxDropDownList("destroy")}else this.removeHandler(e,"keydown");e.remove()}}},_updatelistfilters:function(b,c){for(var d=this.that,e=this.columns.records.length,f=0;f<e;f++){var g=this.columns.records[f];if(g.filterable&&("list"==g.filtertype||"checkedlist"==g.filtertype)){var h=g._filterwidget;if(b){var i=this._getfilterdataadapter(g);h.jqxDropDownList({source:i});var j=h.jqxDropDownList("getItems"),k=!0;if(j.length!=i.records.length+1&&(k=!1),k)for(var l=1;l<j.length;l++)if(j[l].label!=i.records[l-1][g.displayfield]){k=!1;break}if(k&&!c)continue}else if(void 0==g.filter){h.jqxDropDownList("renderSelection");continue}var m="checkedlist"==g.filtertype,j=h.jqxDropDownList("getItems"),n=h.jqxDropDownList("listBox");if(h.jqxDropDownList("dataBind"),m){h.jqxDropDownList({selectionRenderer:function(){return d.gridlocalization.filterselectstring}}),null==n.getItem(this.gridlocalization.filterselectallstring)&&n.insertAt(this.gridlocalization.filterselectallstring,0);var o=a('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(o.addClass(this.toThemeProperty("jqx-item")),h.jqxDropDownList("setContent",o),n.checkAll(!1),g.filter){for(var p=g.filter.getfilters(),l=0;l<n.items.length;l++){var q=n.items[l].label,r=void 0;a.each(p,function(){var a;"NOT_EQUAL"==this.condition?a=q!=this.value:"EQUAL"==this.condition&&(a=q==this.value),r=void 0==r&&void 0!==a?a:"EQUAL"==this.condition?r||a:r&&a}),r?n.checkIndex(l,!1,!1):n.uncheckIndex(l,!1,!1)}n._updateCheckedItems();var s=n.getCheckedItems().length;n.items.length!=s&&s>0&&n.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==n.getItem(this.gridlocalization.filterselectallstring)&&n.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),h.jqxDropDownList({selectedIndex:0}),g.filter){for(var p=g.filter.getfilters(),t=-1,l=0;l<n.items.length;l++){var q=n.items[l].label;a.each(p,function(){return"NOT_EQUAL"==this.condition||(q==this.value?(t=l,!1):void 0)})}t!=-1&&n.selectIndex(t)}j.length<8?h.jqxDropDownList("autoDropDownHeight",!0):h.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var b=this.that;if(this.filterable){if(!this.columns.records)return;a.each(this.columns.records,function(c,d){var e=!1;b.autoshowfiltericon?this.filter?(a(this.filtericon).show(),e=!0):a(this.filtericon).hide():this.filterable&&(a(this.filtericon).show(),e=!0),"right"!=this.align||this.renderer||this.element&&(e?this.element.firstChild.firstChild.style.marginRight="18px":this.element.firstChild.firstChild.style.marginRight="2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var b=this.source._source.datafields;if(b)for(var c=0;c<this.columns.records.length;c++){var d=this.columns.records[c];if(!d.datatype){var e="";a.each(b,function(){if(this.name==d.displayfield)return this.type&&(e=this.type),!1}),""!=e?d.datatype=e:d.datatype=""}}}},_getcolumntypebydatafield:function(b){var c=this.that,d="string",e=c.source.datafields||(c.source._source?c.source._source.datafields:null);if(e){var f="";if(a.each(e,function(){if(this.name==b.displayfield)return this.type&&(f=this.type),!1}),f)return f}if(null!=b){if(void 0==this.dataview.cachedrecords)return d;var g=null;if(this.virtualmode)a.each(this.dataview.cachedrecords,function(){return g=this[b.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return d;if(g=this.dataview.cachedrecords[0][b.displayfield],null!=g&&""==g.toString())return"string"}if(null!=g)if("boolean"==typeof g)d="boolean";else if(a.jqx.dataFormat.isNumber(g))d="number";else{var h=new Date(g);if("NaN"==h.toString()||"Invalid Date"==h.toString())if(a.jqx.dataFormat){if(h=a.jqx.dataFormat.tryparsedate(g),null!=h){if(h&&h.getFullYear()&&1970==h.getFullYear()&&0==h.getMonth()&&1==h.getDate()){var i=new Number(g);return isNaN(i)?"string":"number"}return"date"}d="string"}else d="string";else d="date"}}return d},_getfiltersbytype:function(a){var b=this.that,c="";switch(a){case"number":case"float":case"int":c=b.gridlocalization.filternumericcomparisonoperators;break;case"date":c=b.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":c=b.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:c=b.gridlocalization.filterstringcomparisonoperators}return c},_getfiltertype:function(a){var b="stringfilter";switch(a){case"number":case"int":case"float":case"decimal":b="numericfilter";break;case"boolean":case"bool":b="booleanfilter";break;case"date":case"time":case"range":b="datefilter";break;case"string":case"input":b="stringfilter"}return b},_buildfilter:function(b,c,d){var e=a(c).find(".filter1"),f=a(c).find(".filter2"),g=a(c).find(".filter3"),h=a(c).find(".filtertext1"+b.element.id),i=a(c).find(".filtertext2"+b.element.id),j=h.val(),k=i.val();j&&(j=j.trim()),k&&(k=k.trim());var l=b._getcolumntypebydatafield(d),m=(b._getfiltersbytype(l),new a.jqx.filter),n=b._getfiltertype(l);if("default"===b.filtermode&&"list"!==d.filtertype&&"checkedlist"!==d.filtertype){var o=e.jqxDropDownList("selectedIndex"),p=f.jqxDropDownList("selectedIndex"),q=g.jqxDropDownList("selectedIndex"),r=null,s=null;if(b.updatefilterconditions){var t=b.updatefilterconditions(n,m.getoperatorsbyfiltertype(n));void 0!=t&&m.setoperatorsbyfiltertype(n,t)}var u=!1,v=m.getoperatorsbyfiltertype(n)[o],g=m.getoperatorsbyfiltertype(n)[q],w="NULL"==v||"NOT_NULL"==v,x="EMPTY"==v||"NOT_EMPTY"==v;void 0==v&&(v=m.getoperatorsbyfiltertype(n)[0]),void 0==g&&(g=m.getoperatorsbyfiltertype(n)[0]),(j.length>0||w||x)&&(r=m.createfilter(n,j,v,null,d.cellsformat,b.gridlocalization),m.addfilter(p,r),u=!0);var y="NULL"==g||"NOT_NULL"==g,z="EMPTY"==g||"NOT_EMPTY"==g;if((k.length>0||y||z)&&(s=m.createfilter(n,k,g,null,d.cellsformat,b.gridlocalization),m.addfilter(p,s),u=!0),u){var A=d.displayfield;this.addfilter(A,m,!0)}else this._clearfilter(b,c,d)}else if("excel"===b.filtermode||"list"===d.filtertype||"checkedlist"===d.filtertype){var B=!1,C=e.data().jqxListBox.instance,D="excel"===this.filtermode||"checkedlist"===d.filtertype,E=C.getCheckedItems();if(!D)var E=C.getSelectedItems();if(0==E.length){for(var F=1;F<C.items.length;F++){var G=C.items[F].value;void 0===G&&(G="");var H="not_equal";if(G&&G.indexOf&&(G.indexOf("|")>=0||G.indexOf(" AND ")>=0||G.indexOf(" OR ")>=0||G.indexOf(" and ")>=0||G.indexOf(" or ")>=0)){G=G.replace("|",""),G=G.replace("AND",""),G=G.replace("OR",""),G=G.replace("and",""),G=G.replace("or","");var H="equal"}if("datefilter"==n)var I=m.createfilter(n,G,H,null,d.cellsformat,b.gridlocalization);else var I=m.createfilter(n,G,H,null);m.addfilter(0,I)}B=!0}else if(E.length!=C.items.length){B=!0;for(var F=0;F<E.length;F++)if(b.gridlocalization.filterselectallstring!==E[F].value){var G=E[F].value;void 0===G&&(G="");var H="equal";if("datefilter"==n)var I=m.createfilter(n,G,H,null,d.cellsformat,b.gridlocalization);else var I=m.createfilter(n,G,H,null);var J=1;m.addfilter(J,I)}}else B=!1;if(B){var A=d.displayfield;this.addfilter(A,m,!0)}else{var A=d.displayfield;this.removefilter(A,!0)}}},_clearfilter:function(a,b,c){var d=c.displayfield;this.removefilter(d,!0)},addfilter:function(a,b,c){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var d=this.getcolumn(a),e=this._getcolumn(a);void 0!=d&&null!=d&&(d.filter=b,e.filter=b,this.dataview.addfilter(a,b),1==c&&void 0!=c&&this.applyfilters("add"))},removefilter:function(a,b){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var c=this.getcolumn(a),d=this._getcolumn(a);void 0!=c&&null!=c&&null!=c.filter&&(this.dataview.removefilter(a,c.filter),c.filter=null,d.filter=null,this.showfilterrow&&this.clearfilterrow(a),1!=b&&b===!1||this.applyfilters("remove"))},applyfilters:function(b){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var c=-1;this.pageable?(c=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=c)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof b&&a.isEmptyObject(b)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var d=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,d,null,!1,!1):this.sortby(this.sortcolumn,d,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof b&&a.isEmptyObject(b)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var a=new Array,b=0;b<this.dataview.filters.length;b++){var c=this.getcolumn(this.dataview.filters[b].datafield);a[b]={filter:this.dataview.filters[b].filter,datafield:c.datafield,displayfield:c.displayfield,filtercolumn:c.datafield,filtercolumntext:c.text}}return a},clearfilters:function(b){var c=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var d=1==b||b!==!1;a.each(this.columns.records,function(){c.removefilter(this.displayfield,!d)})}b!==!1&&(1!=b&&b===!1||this.applyfilters("clear"))},_destroyfilterpanel:function(){var b=this.filterpanel,c=this.excelfilterpanel,d=[],e=[],f=[],g=[],h=[],i=[],j=[];b&&(d=b.find("#filterclearbutton"+this.element.id),e=b.find("#filterbutton"+this.element.id),f=b.find("#filter1"+this.element.id),g=b.find("#filter2"+this.element.id),h=b.find("#filter3"+this.element.id),i=a(a.find(".filtertext1"+this.element.id)),j=a(a.find(".filtertext2"+this.element.id))),i.length>0&&j.length>0&&(i.removeClass(),j.removeClass(),i.remove(),j.remove()),d.length>0&&(d.jqxButton("destroy"),this.removeHandler(d,"click")),e.length>0&&(e.jqxButton("destroy"),this.removeHandler(e,"click")),f.length>0&&f.jqxDropDownList("destroy"),g.length>0&&g.jqxDropDownList("destroy"),h.length>0&&h.jqxDropDownList("destroy"),c&&(d=c.find("#filterclearbutton"+this.element.id),e=c.find("#filterbutton"+this.element.id),f=c.find("#filter1"+this.element.id+"ex")),f.length>0&&f.jqxListBox("destroy"),d.length>0&&(d.jqxButton("destroy"),this.removeHandler(d,"click")),e.length>0&&(e.jqxButton("destroy"),this.removeHandler(e,"click"))},_updatefilterpanel:function(b,c,d){null!=b&&void 0!=b||(b=this);var e=b._getcolumntypebydatafield(d),f=b._getfiltersbytype(e);if(!b.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");b.filterpanel.detach(),b.excelfilterpanel.detach(),d.filterpanel&&d.filterpanel.detach(),a(c).children().detach();var g=a(b.menuitemsarray[6]);if(a(g).css("height","190px"),d.createfilterpanel&&!d.filterpanel){var h=a("<div class='filter' style='margin-left: 7px;'></div>");a(c).append(h),d.createfilterpanel(d.displayfield,h),d.filterpanel=h}"list"===d.filtertype||"checkedlist"===d.filtertype?a(c).append(b.excelfilterpanel):"custom"!==d.filtertype?a(c).append(b.filterpanel):d.filterpanel&&a(c).append(d.filterpanel);var i=a(c),j=i.find("#filterclearbutton"+b.element.id),k=i.find("#filterbutton"+b.element.id),l=i.find(".filter1"),m=i.find(".filter2"),n=i.find(".filter3"),o=i.find(".filtertext1"+b.element.id),p=i.find(".filtertext2"+b.element.id);if(this._hasdatefilter&&"list"!==d.filtertype&&"checkedlist"!==d.filtertype&&"custom"!==d.filtertype){var q=o.parent(),r=p.parent();if(q.children().remove(),r.children().remove(),"date"==d.filtertype){b._showwhere.text(b.gridlocalization.filtershowrowdatestring);var s=a("<div class='filtertext1"+b.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");q.append(s);var t=function(a){var c={calendar:b.gridlocalization,todayString:b.gridlocalization.todaystring,clearString:b.gridlocalization.clearstring};a.jqxDateTimeInput({disabled:b.disabled,firstDayOfWeek:b.gridlocalization.firstDay,localization:c,rtl:b.rtl,width:b._filterpanelwidth-15,height:23,value:null,formatString:d.cellsformat,theme:b.theme})};t(s);var s=a("<div class='filtertext2"+b.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");r.append(s),t(s)}else{b._showwhere.text(b.gridlocalization.filtershowrowstring);var s=a("<input class='filtertext1"+b.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");q.append(s);var t=function(a){a.addClass(b.toThemeProperty("jqx-input")),a.addClass(b.toThemeProperty("jqx-widget-content")),a.addClass(b.toThemeProperty("jqx-rc-all")),a.width(b._filterpanelwidth-21)};t(s);var s=a("<input class='filtertext2"+b.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");r.append(s),t(s)}var o=i.find(".filtertext1"+b.element.id),p=i.find(".filtertext2"+b.element.id)}if("date"!=d.filtertype?(o.val(""),p.val("")):(o.val(null),p.val(null)),this.removeHandler(k,"click"),this.addHandler(k,"click",function(){b._buildfilter(b,c,d),b._closemenu()}),this.removeHandler(j,"click"),this.addHandler(j,"click",function(){b._clearfilter(b,c,d),b._closemenu()}),this.removeHandler(k,"keydown"),this.addHandler(k,"keydown",function(a){13===a.keyCode&&(b._buildfilter(b,c,d),b._closemenu())}),this.removeHandler(j,"keydown"),this.addHandler(j,"keydown",function(a){13===a.keyCode&&(b._clearfilter(b,c,d),b._closemenu())}),this.removeHandler(o,"keydown"),this.addHandler(o,"keydown",function(a){13===a.keyCode&&k.trigger("click"),27===a.keyCode&&b._closemenu()}),this.removeHandler(p,"keydown"),this.addHandler(p,"keydown",function(a){13===a.keyCode&&k.trigger("click"),27===a.keyCode&&b._closemenu()}),"default"===this.filtermode&&"list"!==d.filtertype&&"checkedlist"!==d.filtertype&&"custom"!==d.filtertype){if(l.jqxDropDownList("source")!=f&&(l.jqxDropDownList({enableBrowserBoundsDetection:!1,source:f}),n.jqxDropDownList({enableBrowserBoundsDetection:!1,source:f})),"boolean"==e||"bool"==e)l.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),n.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var u=!1;f&&f.length&&f.length<5&&(u=!0),l.jqxDropDownList({autoDropDownHeight:u,selectedIndex:2}),n.jqxDropDownList({autoDropDownHeight:u,selectedIndex:2})}m.jqxDropDownList({selectedIndex:0});var v=d.filter,w=new a.jqx.filter,x="";switch(e){case"number":case"int":case"float":case"decimal":x="numericfilter",y=w.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":x="booleanfilter",y=w.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":x="datefilter",y=w.getoperatorsbyfiltertype("datefilter");break;case"string":x="stringfilter",y=w.getoperatorsbyfiltertype("stringfilter")}if(null!=v){var q=v.getfilterat(0),r=v.getfilterat(1);v.getoperatorat(0);if(b.updatefilterconditions){
var y=[],z=b.updatefilterconditions(x,y);if(void 0!=z){for(var A=0;A<z.length;A++)z[A]=z[A].toUpperCase();v.setoperatorsbyfiltertype(x,z),y=z}}var B="default";if(null!=q){var C=y.indexOf(q.comparisonoperator),D=q.filtervalue;o.val(D),l.jqxDropDownList({selectedIndex:C,animationType:B})}if(null!=r){var E=y.indexOf(r.comparisonoperator),F=r.filtervalue;p.val(F),n.jqxDropDownList({selectedIndex:E,animationType:B})}void 0==v.getoperatorat(0)?m.jqxDropDownList({selectedIndex:0,animationType:B}):"and"==v.getoperatorat(0)||0==v.getoperatorat(0)?m.jqxDropDownList({selectedIndex:0}):m.jqxDropDownList({selectedIndex:1})}b.updatefilterpanel&&b.updatefilterpanel(l,n,m,o,p,k,j,v,x,y),(!this._hasdatefilter||this._hasdatefilter&&"date"!=d.filtertype)&&(this.touchdevice||(o.focus(),setTimeout(function(){o.focus()},10)))}else if("excel"===this.filtermode||"list"===d.filtertype||"checkedlist"===d.filtertype){var G=b._getfilterdataadapter(d),x=b._getfiltertype(e),H="excel"===this.filtermode||"checkedlist"===d.filtertype;if(l.jqxListBox("focus"),this.removeHandler(l,"keyup"),this.addHandler(l,"keyup",function(a){13===a.keyCode&&k.trigger("click"),27===a.keyCode&&b._closemenu()}),d.cellsformat?l.jqxListBox({checkboxes:H,displayMember:d.displayfield,valueMember:d.displayfield+"JQValue",source:G}):l.jqxListBox({checkboxes:H,displayMember:d.displayfield,valueMember:d.displayfield,source:G}),H){l.jqxListBox("insertAt",b.gridlocalization.filterselectallstring,0);var I=l.data().jqxListBox.instance;I.checkAll(!1);if(d.filter){I.uncheckAll(!1);for(var J=d.filter.getfilters(),K=0;K<I.items.length;K++){var L=I.items[K].value;a.each(J,function(){if("NOT_EQUAL"==this.condition){if(L!=this.value)return I.uncheckIndex(K,!1,!1),!1;if(null!=L&&null!=this.value&&L.toString()!=this.value.toString())return I.uncheckIndex(K,!1,!1),!1}else if("EQUAL"==this.condition){if(L==this.value)return I.checkIndex(K,!1,!1),!1;if(null!=L&&null!=this.value&&L.toString()==this.value.toString())return I.checkIndex(K,!1,!1),!1}})}I._updateCheckedItems();var M=I.getCheckedItems().length;I.items.length!=M&&M>0&&I.host.jqxListBox("indeterminateIndex",0,!0,!1),M===I.items.length-1&&I.host.jqxListBox("checkIndex",0,!0,!1)}}else if(d.filter){var I=l.data().jqxListBox.instance;I.clearSelection();for(var J=d.filter.getfilters(),K=0;K<I.items.length;K++){var L=I.items[K].value;a.each(J,function(){if("NOT_EQUAL"==this.condition){if(L!=this.value)return I.unselectIndex(K,!1,!1),!1}else if("EQUAL"==this.condition&&L==this.value)return I.selectIndex(K,!0,!1),!1})}I._renderItems()}}},_initfilterpanel:function(b,c,d,e,f){null!=b&&void 0!=b||(b=this),c[0].innerHTML="";var g=a("<div class='filter' style='margin-left: 7px;'></div>");c.append(g);var h=a("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");h.text(b.gridlocalization.filtershowrowstring),this._showwhere=h;var i=f?"ex":"",j=a("<div class='filter filter1' id='filter1"+b.element.id+i+"'></div>"),k=a("<div class='filter filter2' id='filter2"+b.element.id+i+"' style='margin-bottom: 3px;'></div>"),l=a("<div class='filter filter3' id='filter3"+b.element.id+i+"'></div>"),m=b._getcolumntypebydatafield(d);if(!j.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var n=b._getfiltersbytype(m);if(this._hasdatefilter=!1,this._filterpanelwidth=e,this.columns&&this.columns.records){for(var o=0;o<this.columns.records.length;o++)if("date"==this.columns.records[o].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(var o=0;o<this.columns.length;o++)if("date"==this.columns[o].filtertype){this._hasdatefilter=!0;break}var p=a("<div class='filter'><input class='filtertext1"+b.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),q=p.find("input");q.addClass(this.toThemeProperty("jqx-input")),q.addClass(this.toThemeProperty("jqx-widget-content")),q.addClass(this.toThemeProperty("jqx-rc-all")),q.width(e-21);var r=a("<div class='filter'><input class='filtertext2"+b.element.id+"' style='height: 23px; margin-top: 3px;' type='text'></input></div>"),s=r.find("input");s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-widget-content")),s.addClass(this.toThemeProperty("jqx-rc-all")),s.width(e-21),b.rtl&&(q.css("direction","rtl"),s.css("direction","rtl"));var t=a("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),u=a('<span tabIndex=0 id="filterbutton'+b.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+b.gridlocalization.filterstring+"</span>");t.append(u);var v=a('<span tabIndex=0 id="filterclearbutton'+b.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+b.gridlocalization.filterclearstring+"</span>");t.append(v),u.jqxButton({height:20,theme:b.theme}),v.jqxButton({height:20,theme:b.theme});var w=function(a){if(a){if(a.text().indexOf("case sensitive")!=-1){var c=a.text();c=c.replace("case sensitive","match case"),a.text(c)}return a.css("font-family",b.host.css("font-family")),a.css("font-size",b.host.css("font-size")),a.css("top","2px"),a.css("position","relative"),a}return""};if("default"!==this.filtermode||f){if("excel"===this.filtermode||f){g.append(h),g.append(j),j.attr("tabindex",0),j.jqxListBox({rtl:b.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:e-15,height:130,theme:b.theme});var x=!0;b.addHandler(j,"checkChange",function(a){if(x)if(a.args.label!=b.gridlocalization.filterselectallstring){x=!1,j.jqxListBox("checkIndex",0,!0,!1);var c=j.jqxListBox("getCheckedItems"),d=j.jqxListBox("getItems");1==c.length?j.jqxListBox("uncheckIndex",0,!0,!1):d.length!=c.length&&j.jqxListBox("indeterminateIndex",0,!0,!1),x=!0}else x=!1,a.args.checked?j.jqxListBox("checkAll",!1):j.jqxListBox("uncheckAll",!1),x=!0})}}else{g.append(h),g.append(j),j.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:b.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:e-15,height:23,dropDownHeight:150,dropDownWidth:e-15,selectionRenderer:w,source:n,theme:b.theme}),g.append(p);var y=new Array;y[0]=b.gridlocalization.filterandconditionstring,y[1]=b.gridlocalization.filterorconditionstring,k.jqxDropDownList({_checkForHiddenParent:!1,rtl:b.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:23,source:y,selectionRenderer:w,theme:b.theme}),g.append(k),l.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:b.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:e-15,height:23,dropDownHeight:150,dropDownWidth:e-15,selectionRenderer:w,source:n,theme:b.theme}),g.append(l),g.append(r)}g.append(t),b.updatefilterpanel&&b.updatefilterpanel(j,l,k,p,r,u,v,null,null,n)}})}(jqxBaseFramework),function(a){a.jqx.dataview.grouping=function(){this.loadgrouprecords=function(b,c,d,e,f,g,h,i,j){for(var k=b,l=this,m=new Array,n=0;n<l.groups.length;n++)m[n]=l.generatekey();var o=new Array,p=0,m=m,q=new Array,r=c,s=c,t=l.groups.length;this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var u=null!=this.sortdata,v=u?this.sortdata:this.records;if(this.pageable){var w=new Array,x=0;v[c]||(a.each(v,function(a,b){w[c+a++]=this}),v=w)}if(this.virtualmode){for(var w=new Array,x=0,r=0;r<d-c;r++)v[r]?w[c+x++]=v[r]:v[c+x]&&(w[c+x]=v[c+x],x++);r=0,v=w}for(var y=c;y<d;y++){var z={};z=u?a.extend({},v[y].value):a.extend({},v[y]),id=z[l.uniqueId],(f>=i||id!=h[f][l.uniqueId]||g&&g[id])&&(j[j.length]=f);for(var A=new Array,B=0,n=0;n<t;n++){var C=l.groups[n],D=z[C];null==D&&(D=""),A[B++]={value:D,hash:m[n]}}if(A.length!=t)break;for(var E=null,F="",G=-1,H=0;H<A.length;H++){G++;var I=A[H].value,J=A[H].hash;if(F=F+"_"+J+"_"+I,void 0==q[F]||null==q[F]){if(null==E)E={group:I,subItems:new Array,subGroups:new Array,level:0},o[p++]=E,E.uniqueid=l.generatekey(),l.loadedgroupsByKey[I]=E;else{var K={group:I,subItems:new Array,subGroups:new Array,parentItem:E,level:E.level+1};l.loadedgroupsByKey[E.uniqueid+"_"+I]=K,K.uniqueid=l.generatekey(),E.subGroups[E.subGroups.length++]=K,E=K}q[F]=E}else E=q[F]}null!=E?(void 0==z.uid&&(z.uid=this.getid(this.source.id,z,r)),u?(z.boundindex=v[y].index,this.recordsbyid["id"+z.uid]=v[y].value):(z.boundindex=r,this.recordsbyid["id"+z.uid]=v[y]),this.bounditems[z.boundindex]=z,this.sortedgroups[r]=z,z.uniqueid=l.generatekey(),z.parentItem=E,z.level=E.level+1,E.subItems[E.subItems.length++]=z):(void 0==z.uid&&(z.uid=this.getid(this.source.id,z,r)),u?(z.boundindex=v[y].index,this.recordsbyid["id"+z.uid]=v[y].value):(z.boundindex=r,this.recordsbyid["id"+z.uid]=v[y]),this.sortedgroups[r]=z,this.bounditems[z.boundindex]=z,z.uniqueid=l.generatekey()),f++,r++,s++}var L=function(a,c,d){for(var e=0;e<c.subItems.length;e++)c.subItems[e].visibleindex=b+d,a.rows[d]=c.subItems[e],a.loadedrecords[d]=c.subItems[e],d++;return d},M=function(a,c,d){var e=1,f=a.grid.columns.records?a.grid.columns.records:a.grid.columns;if(1==a.aggregates)for(var g=0;g<f.length;g++)f[g].aggregates&&(e=Math.max(e,f[g].aggregates.length));var h=function(c){if(1==a.aggregates)for(var g=function(e){var g=c,h={},i=function(b){for(var c=0;c<f.length;c++)if(f[c].aggregates)for(var d=a.grid.getcolumnaggregateddata(f[c].datafield,f[c].aggregates,!0,b),g=0;g<f[c].aggregates.length;g++)if(f[c].aggregates[e]){var i=f[c],j=f[c].aggregates[e],k=j;k=a.grid._getaggregatename(k);var l=k+":"+d[j];h[i.datafield]=l}};if(null!=g)if(h.level=g.level,h.visibleindex=b+d,h.uniqueid=a.generatekey(),a.rows[d]=h,a.loadedrecords[d++]=h,h.totalsrow=!0,c.subItems.length>0){g=c.subItems[c.subItems.length-1],h.parentItem=g.parentItem,h.parentItem.subItems&&(h.parentItem.subItems[h.parentItem.subItems.length]=h);var j=[],k=function(){for(var a=0;a<c.subItems.length;a++)c.subItems[a].totalsrow||(j[j.length]=c.subItems[a])};k(c),i(j)}else if(c.subGroups.length>0){g=c.subGroups[c.subGroups.length-1],h.level=g.level,h.parentItem=c,c.subGroups[c.subGroups.length]=h;var j=[],k=function(a){if(!a.totalsrow){for(var b=0;b<a.subItems.length;b++)a.subItems[b].totalsrow||(j[j.length]=a.subItems[b]);for(var b=0;b<a.subGroups.length;b++)k(a.subGroups[b])}};k(c),i(j)}},h=0;h<e;h++)g(h)};for(var i in c.subGroups){var j=c.subGroups[i];j.subGroups&&(a.loadedgroups[a.loadedgroups.length]=j,j.visibleindex=b+d,a.rows[d]=j,a.loadedrecords[d]=j,d++,j.subGroups.length>0?d=M(a,j,d):j.subItems.length>0&&(d=L(a,j,d)))}return c.subItems.length>0&&(d=L(a,c,d)),h(c),d},N=o.length;this.loadedgroups=new Array,this.rows=new Array;for(var k=0,r=0;r<N;r++){var C=o[r];this.loadedrootgroups[r]=C,this.loadedgroups[this.loadedgroups.length]=C,C.visibleindex=b+k,this.rows[k]=C,this.loadedrecords[k]=C,k++,k=M(this,C,k)}return k},this._updategroupsinpage=function(b,c,d,e,f,g,h){var i=new Array,j=[];if(this.groupable&&this.groups.length>0){for(var k=0,l=new Array,m=new Array,n=0;n<b.groups.length;n++)m[n]=b.generatekey();var o=0,p=new Array,q=0;h>this.totalrecords&&(h=this.totalrecords);for(var r=g;r<h;r++){var s=a.extend({},b.sortedgroups[r]);if(id=s[b.uniqueId],!b.pagesize||d>=b.pagesize*b.pagenum&&d<b.pagesize*(b.pagenum+1)){(e>=f||id!=i[e][b.uniqueId]||updated&&updated[id])&&(j[j.length]=e);for(var t=new Array,u=0,n=0;n<b.groups.length;n++){var v=b.groups[n],w=s[v];null==w&&(w=""),t[u++]={value:w,hash:m[n]}}if(t.length!=b.groups.length)break;for(var x=null,y="",z=-1,A=0;A<t.length;A++){z++;var B=t[A].value,C=t[A].hash;if(y=y+"_"+C+"_"+B,void 0==l[y]||null==l[y]){if(null==x){x={group:B,subItems:new Array,subGroups:new Array,level:0},p[q++]=x;var D=b.loadedgroupsByKey[B];void 0!=D&&(x.visibleindex=D.visibleindex,x.uniqueid=D.uniqueid)}else{var E={group:B,subItems:new Array,subGroups:new Array,parentItem:x,level:x.level+1},D=b.loadedgroupsByKey[x.uniqueid+"_"+B];E.visibleindex=D.visibleindex,E.uniqueid=D.uniqueid,x.subGroups[x.subGroups.length++]=E,x=E}l[y]=x}else x=l[y]}null!=x&&(s.parentItem=x,s.level=x.level+1,x.subItems[x.subItems.length++]=s),e++}o++,d++}for(var F=function(b,c,d){for(var e=0;e<c.subItems.length;e++)i[d]=a.extend({},c.subItems[e]),d++;return d},G=function(a){var b=!1;for(subGroup in a.subGroups){var c=a.subGroups[subGroup];if(c.subGroups){if(c.subGroups.length>0){var d=G(c);if(d)return b=!0,!0}if(c.subItems.length>0)return b=!0,!0}}return a.subItems.length>0?(b=!0,!0):b},H=function(a,b,c){var d=1,e=a.grid.columns.records?a.grid.columns.records:a.grid.columns;if(1==a.aggregates)for(var f=0;f<e.length;f++)e[f].aggregates&&(d=Math.max(d,e[f].aggregates.length));var g=function(b){if(1==a.aggregates)for(var f=function(d){var f=b,g={},h=function(b){for(var c=0;c<e.length;c++)if(e[c].aggregates)for(var f=a.grid.getcolumnaggregateddata(e[c].datafield,e[c].aggregates,!0,b),h=0;h<e[c].aggregates.length;h++)if(e[c].aggregates[d]){var i=e[c],j=e[c].aggregates[d],k=j;k=a.grid._getaggregatename(k);var l=k+":"+f[j];g[i.datafield]=l}};if(null!=f)if(g.level=f.level,g.visibleindex=c,g.uniqueid=a.generatekey(),i[c]=g,a.loadedrecords[c++]=g,g.totalsrow=!0,b.subItems.length>0){f=b.subItems[b.subItems.length-1],g.parentItem=f.parentItem,g.parentItem.subItems&&(g.parentItem.subItems[g.parentItem.subItems.length]=g);var j=[],k=function(){for(var a=0;a<b.subItems.length;a++)b.subItems[a].totalsrow||(j[j.length]=b.subItems[a])};k(b),h(j)}else if(b.subGroups.length>0){f=b.subGroups[b.subGroups.length-1],g.level=f.level,g.parentItem=b,b.subGroups[b.subGroups.length]=g;var j=[],k=function(a){if(!a.totalsrow){for(var b=0;b<a.subItems.length;b++)a.subItems[b].totalsrow||(j[j.length]=a.subItems[b]);for(var b=0;b<a.subGroups.length;b++)k(a.subGroups[b])}};k(b),h(j)}},g=0;g<d;g++)f(g)};for(subGroup in b.subGroups){var h=b.subGroups[subGroup];h.subGroups&&G(h)&&(i[c]=h,c++,h.subGroups.length>0?c=H(a,h,c):h.subItems.length>0&&(c=F(a,h,c)),g(h))}return b.subItems.length>0&&(c=F(a,b,c)),g(b),c},o=0;o<p.length;o++){var v=p[o];G(v)&&(i[k]=v,k++,k=H(this,v,k))}}return i}},a.extend(a.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var b=this,c=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||a('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var d=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var e=new Array;if(d>0)a.each(this.groups,function(c){var f=this,g=b._getColumnText(this),h=g.label,i=b._rendergroupcolumn(h,f);if(i.addClass(b.toThemeProperty("jqx-grid-group-column")),b.groupsheaderdiv.append(i),b.closeablegroups){var j=a(i.find(".jqx-icon-close"));b.isTouchDevice()&&b.touchmode!==!0?b.addHandler(j,"touchstart",function(){return b.removegroupat(c),!1}):b.addHandler(j,"click",function(){return b.removegroupat(c),!1})}if(b.sortable&&b.addHandler(i,"click",function(){var a=b.getcolumn(f);return null!=a&&b._togglesort(a),!1}),e[e.length]=i,b._handlegroupstocolumnsdragdrop(this,i),c<d-1){var k=i.height(),l=a('<div style="float: left; position: relative;"></div>');b.rtl&&l.css("float","right"),l.width(b.groupindentwidth/3),l.height(1),l.css("top",k/2),l.addClass(b.toThemeProperty("jqx-grid-group-column-line")),b.groupsheaderdiv.append(l)}});else{var f=a('<div style="position: relative;">'+c+"</div>");this.groupsheaderdiv.append(f),this.rtl&&f.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=e,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var b=this,c=this.groupsheaderdiv.children().outerHeight(),d=(this.groupsheader.height()-c)/2;this.groupsheaderdiv.css("top",d),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",d)):(this.groupsheaderdiv.css("left",d),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),a.each(this._groupheaders,function(a){var c=this.coord();b.groupheadersbounds[a]={left:c.left,top:c.top,width:this.outerWidth(),height:this.outerHeight(),index:a}})},addgroup:function(a){if(a){var b=this;b.groups!==b.dataview.groups&&(b.dataview.groups=b.groups),b.groups[b.groups.length]=a,b.refreshgroups(),this._raiseEvent(12,{type:"Add",index:b.groups[b.groups.length],groups:b.groups})}},insertgroup:function(a,b){if(void 0!=a&&null!=a&&a>=0&&a<=this.groups.length&&b){var c=this;c.groups!==c.dataview.groups&&(c.dataview.groups=c.groups),c.groups.splice(a,0,b.toString()),c.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:a,groups:c.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(a,b){var c=this._getGroupIndexByDataField(a);this.insertgroup(c+1,b)},_insertbeforegroup:function(a,b){var c=this._getGroupIndexByDataField(a);this.insertgroup(c,b)},removegroupat:function(a){if(a>=0&&null!=a&&void 0!=a){var b=this;return b.groups!==b.dataview.groups&&(b.dataview.groups=b.groups),b.groups.splice(a,1),b.refreshgroups(),b.virtualmode&&b.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:a,groups:b.groups}),!0}return!1},cleargroups:function(){var a=this;return a.groups=[],a.dataview.groups=a.groups,a.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:a.groups}),!0},removegroup:function(a){if(null==a)return!1;var b=this.groups.indexOf(a.toString());return this.removegroupat(b)},getrootgroupscount:function(){var a=this.dataview.loadedrootgroups.length;return a},collapsegroup:function(a){if(a>=0&&a.toString().indexOf(".")===-1)return this._setrootgroupstate(a,!1);var b=a.toString().split("."),c=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var d=0;d<b.length;d++){var a=parseInt(b[d]);if(0==d){var c=this.dataview.loadedrootgroups[a];this.groupsVisibility[c.group]=null}else{var e=c.subGroups[a];e&&(c=e,d==b.length-1&&(this._setgroupstate(c,!1,!0),this.groupsVisibility[c.group]=null))}}},expandgroup:function(a){if(a>=0&&a.toString().indexOf(".")===-1)return this._setrootgroupstate(a,!0);for(var b=a.toString().split("."),c=null,d=0;d<b.length;d++){var a=parseInt(b[d]);if(0==d){var c=this.dataview.loadedrootgroups[a];this._setrootgroupstate(a,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[c.group]=c}else{var e=c.subGroups[a];e&&(c=e,this._setgroupstate(c,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[c.group]=c)}}},collapseallgroups:function(a){this._setbatchgroupstate(!1,a)},expandallgroups:function(a){this._setbatchgroupstate(!0,a)},isgroupexpanded:function(a){var b=this.dataview.loadedrootgroups[a];if(null==b)return null;var c=this.expandedgroups[b.uniqueid].expanded;return c},getgroup:function(b){var c=this.dataview.loadedrootgroups[b];if(null==c)return null;var d=this.expandedgroups[c.uniqueid].expanded,e=c.group,f=c.level,g=new Array;this._getsubgroups(g,c);var h=this,i={group:e,level:f,expanded:d,subgroups:g};if(c.subItems){var j=new Array;a.each(c.subItems,function(){var a=this.boundindex;j[j.length]=h.getrowdata(a)}),j.length>0&&(i.subrows=j)}return i},getrootgroups:function(){for(var a=this.dataview.loadedrootgroups.length,b=new Array,c=0;c<a;c++)b[c]=this.getgroup(c);return b},_getsubgroups:function(b,c){var d=this;for(obj in c.subGroups){var e=c.subGroups[obj],f=d.expandedgroups[e.uniqueid].expanded,g=e.group,h=e.level;if(b[b.length]={group:g,level:h,expanded:f},e.subItems){var i=new Array;a.each(e.subItems,function(){var a=this.boundindex;i[i.length]=d.getrowdata(a)}),b[b.length-1].subrows=i}if(e.subGroups){var j=new Array;d._getsubgroups(j,e)}}return b},_setbatchgroupstate:function(a,b){var c=this;for(obj in this.dataview.loadedrootgroups)c._setrootgroupstate(obj,a,!1,!0);if(0==b)return c._requiresupdate=!0,c._renderrows(c.virtualsizeinfo),!0;var d=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(d!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(a,b,c,d){if(void 0==a||null==a||a<0)return!1;if(!this.groupable||0==this.groups.length)return!1;var e=void 0==c||c;if(a>=0&&a<this.dataview.loadedrootgroups.length){var f=this.dataview.loadedrootgroups[a];if(this.pageable){for(var g=new Array,h=0;h<this.dataview.rows.length;h++)null!=this.dataview.rows[h].group&&0===this.dataview.rows[h].level&&g.push(this.dataview.rows[h]);if(f=g[a],!f)return}return this._setgroupstate(f,b,e,d)}return!1},_togglegroupstate:function(a,b){if(null==a||void 0==a)return!1;var c=this.vScrollInstance.value,d=this.expandedgroups[a.uniqueid];d=void 0!=d&&d.expanded,d=!d,this.groupsVisibility||(this.groupsVisibility=new Array),d?this.groupsVisibility[a.group]=a:this.groupsVisibility[a.group]=null;var e=this._setgroupstate(a,d,b);return this._newmax=null,0!==c&&"hidden"!==this.vScrollBar.css("visibility")&&(c<=this.vScrollInstance.max?this.vScrollInstance.setPosition(c):this.vScrollInstance.setPosition(this.vScrollInstance.max)),e},_setgroupstate:function(a,b,c,d){if(null==a||void 0==a)return!1;var e=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var f=this.expandedgroups[a.uniqueid];if(void 0==f&&(f={expanded:!1},e=!0),f.expanded!=b&&(e=!0),e){if(this.expandedgroups[a.uniqueid]={expanded:b,group:a},this._setsubgroupsvisibility(this,a,!b,d),c){var g=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(g!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return void 0!=this.suspendgroupevents&&0!=this.suspendgroupevents||(b?this._raiseEvent(4,{group:a.group,parentgroup:a.parentItem?a.parentItem.group:null,level:a.level,visibleindex:a.visibleindex}):this._raiseEvent(5,{group:a.group,parentgroup:a.parentItem?a.parentItem.group:null,level:a.level,visibleindex:a.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(a,b,c){for(var d=0;d<b.subItems.length;d++)a._setrowvisibility(b.subItems[d].visibleindex,c,!1)},_setsubgroupsvisibility:function(a,b,c,d){if(null!=b.parentItem){if(this.hiddens[b.parentItem.visibleindex])return}else if(null==b.parentItem&&this.hiddens[b.visibleindex])return;for(subGroup in b.subGroups){var e=b.subGroups[subGroup];c||a._setrowvisibility(e.visibleindex,c,!1);var f=!c;d?this.expandedgroups[e.uniqueid]={expanded:f,group:e}:f=void 0!=a.expandedgroups[e.uniqueid]&&a.expandedgroups[e.uniqueid].expanded,e.subGroups&&(e.subGroups.length>0?a._setsubgroupsvisibility(a,e,!f||c,d):e.subItems.length>0&&a._setgroupitemsvisibility(a,e,!f||c)),c&&a._setrowvisibility(e.visibleindex,c,!1)}b.subItems&&b.subItems.length>0&&a._setgroupitemsvisibility(a,b,c)},_handlecolumnsdragdrop:function(){var b=this,c=-1,d=!1;if(b.groupable){var e="mousemove.grouping"+this.element.id,f="mousedown.grouping"+this.element.id,g="mouseup.grouping"+this.element.id,h=!1;this.isTouchDevice()&&this.touchmode!==!0&&(h=!0,e=a.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,f=a.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,g=a.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(a(document),e),this.addHandler(a(document),e,function(e){if(!b.showgroupsheader)return!0;if(null!=b.dragcolumn){var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];f=parseInt(j.pageX),g=parseInt(j.pageY)}var k=b.host.coord(),l=parseInt(k.left),m=parseInt(k.top);void 0!=b.dragmousedownoffset&&null!=b.dragmousedownoffset||(b.dragmousedownoffset={left:0,top:0});var n=parseInt(f)-parseInt(b.dragmousedownoffset.left),o=parseInt(g)-parseInt(b.dragmousedownoffset.top);if(b.dragcolumn.css({left:n+"px",top:o+"px"}),d=!1,f>=l&&f<=l+b.host.width()&&g>=m&&g<=m+b.host.height()&&(d=!0),c=-1,d){b.dragcolumnicon.removeClass(b.toThemeProperty("jqx-grid-dragcancel-icon")),b.dragcolumnicon.addClass(b.toThemeProperty("jqx-grid-drag-icon"));var p=b.groupsheader.coord(),q=p.top+b.groupsheader.height(),r=a.data(b.dragcolumn[0],"datarecord");if(r)var s=b.groups.indexOf(r.toString());else var s=-1;var t=s==-1||b.groups.length>1&&s>-1;null!=b.dropline&&(g>=p.top&&g<=q?t&&(c=b._handlegroupdroplines(f)):b.dropline.fadeOut("slow"))}else null!=b.dropline&&b.dropline.fadeOut("slow"),b.dragcolumnicon.removeClass(b.toThemeProperty("jqx-grid-drag-icon")),b.dragcolumnicon.addClass(b.toThemeProperty("jqx-grid-dragcancel-icon"));if(h)return e.preventDefault(),e.stopPropagation(),!1}}),this.removeHandler(a(document),g),this.addHandler(a(document),g,function(e){if(!b.showgroupsheader)return!0;b.__drag=!1,a(document.body).removeClass("jqx-disableselect");var f=parseInt(e.pageX),g=parseInt(e.pageY);if(h){var i=b.getTouches(e),j=i[0];f=parseInt(j.pageX),g=parseInt(j.pageY)}var k=b.host.coord(),l=(parseInt(k.left),parseInt(k.top)),m=b.groupsheader.height();if(b.showtoolbar&&(l+=b.toolbarheight),b.dragstarted=!1,b.dragmousedown=null,null!=b.dragcolumn){var n=a.data(b.dragcolumn[0],"datarecord");if(b.dragcolumn.remove(),b.dragcolumn=null,null!=n){if(!b.getcolumn(n).groupable)return void(null!=b.dropline&&(b.dropline.remove(),b.dropline=null));if(d)if(c!=-1){var o=c.index,p=b.groups[o],q=b._getGroupIndexByDataField(n);q!=o&&(void 0!=q&&q>=0&&b.groups.splice(q,1),"before"==c.position?b.rtl?b._insertaftergroup(p,n):b._insertbeforegroup(p,n):b.rtl?b._insertbeforegroup(p,n):b._insertaftergroup(p,n))}else if(0==b.groups.length)g>l&&g<=l+m&&b.addgroup(n);else if(g>l+m){var q=b._getGroupIndexByDataField(n);b.removegroupat(q)}null!=b.dropline&&(b.dropline.remove(),b.dropline=null)}}})}},_getGroupIndexByDataField:function(a){for(var b=0;b<this.groups.length;b++)if(this.groups[b]==a)return b;return-1},_isColumnInGroups:function(a){for(var b=0;b<this.groups.length;b++)if(this.groups[b]==a)return!0;return!1},_handlegroupdroplines:function(b){var c=this,d=-1;return a.each(c.groupheadersbounds,function(a){if(b<=this.left+this.width/2){var e=this.left-3;return a>0&&(e=this.left-1-c.groupindentwidth/6),c.dropline.css("left",e),c.dropline.css("top",this.top),c.dropline.height(this.height),c.dropline.fadeIn("slow"),d={index:a,position:"before"},c.rtl&&(d={index:c.groupheadersbounds.length-1-a,position:"before"}),!1}b>=this.left+this.width/2&&(c.dropline.css("left",1+this.left+this.width),c.dropline.css("top",this.top),c.dropline.height(this.height),c.dropline.fadeIn("slow"),d={index:a,position:"after"},c.rtl&&(d={index:c.groupheadersbounds.length-1-a,position:"after"}))}),d},_handlegroupstocolumnsdragdrop:function(b,c){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var d,e=this,f="mousedown",g="mousemove",h=!1;this.isTouchDevice()&&this.touchmode!==!0&&(h=!0,f=a.jqx.mobile.getTouchEventName("touchstart"),g=a.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(c,"dragstart",function(a){return!1}),this.addHandler(c,f,function(b){if(!e.showgroupsheader)return!0;var c=b.pageX,d=b.pageY;if(e.__drag=!0,e.dragmousedown={left:c,top:d},h){var f=e.getTouches(b),g=f[0];c=g.pageX,d=g.pageY,e.dragmousedown={left:c,top:d},b.preventDefault&&b.preventDefault()}var i=a(b.target).coord();e.dragmousedownoffset={left:parseInt(c)-parseInt(i.left),top:parseInt(d-i.top)}}),this.addHandler(c,g,function(f){if(!e.showgroupsheader)return!0;if(e.dragmousedown){if(d={left:f.pageX,top:f.pageY},h){var g=e.getTouches(f),i=g[0];d={left:i.pageX,top:i.pageY}}if(!e.dragstarted&&null==e.dragcolumn){var j=Math.abs(d.left-e.dragmousedown.left),k=Math.abs(d.top-e.dragmousedown.top);(j>3||k>3)&&(e._createdragcolumn(c,d,!0),a(document.body).addClass("jqx-disableselect"),a.data(e.dragcolumn[0],"datarecord",b),f.preventDefault&&f.preventDefault())}}})},_createdragcolumn:function(b,c,d){var e=this,f=c;e.dragcolumn=a("<div></div>");var g=b.clone();e.dragcolumn.css("z-index",999999),g.css("border-width","1px"),g.css("opacity","0.4");var h=a(g.find("."+e.toThemeProperty("jqx-grid-column-menubutton")));h.length>0&&h.css("display","none");var i=a(g.find(".jqx-icon-close"));i.length>0&&i.css("display","none"),e.dragcolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),e.dragcolumnicon.addClass(e.toThemeProperty("jqx-grid-drag-icon")),e.dragcolumn.css("float","left"),e.dragcolumn.css("position","absolute");e.host.coord();g.width(b.width()+16),e.dragcolumn.append(g),e.dragcolumn.height(b.height()),e.dragcolumn.width(g.width()),e.dragcolumn.append(e.dragcolumnicon),a(document.body).append(e.dragcolumn),g.css("margin-left",0),g.css("left",0),g.css("top",0),e.dragcolumn.css("left",f.left+e.dragmousedown.left),e.dragcolumn.css("top",f.top+e.dragmousedown.top),void 0!=d&&d&&(e.dropline=a('<div style="display: none; position: absolute;"></div>'),e.dropline.width(2),e.dropline.addClass(e.toThemeProperty("jqx-grid-group-drag-line")),a(document.body).append(e.dropline))},iscolumngroupable:function(a){return this._getcolumnproperty(a,"groupable")},_handlecolumnstogroupsdragdrop:function(b,c){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var d,e=this,f=!1;this.isTouchDevice()&&this.touchmode!==!0&&(f=!0);var g="mousedown.drag",d="mousemove.drag";f?(g=a.jqx.mobile.getTouchEventName("touchstart")+".drag",d=a.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(c,"dragstart",function(a){return!1}),this.addHandler(c,g,function(d){if(!e.showgroupsheader)return!0;if(e.__drag=!0,e._isColumnInGroups(b.displayfield))return"col-resize"!=c.css("cursor"),!0;if(0==b.groupable)return!0;var g=d.pageX,h=d.pageY;if(f){var i=e.getTouches(d),j=i[0];g=j.pageX,h=j.pageY}e.dragmousedown={left:g,top:h},f&&d.preventDefault&&d.preventDefault();var k=a(d.target).coord();e.dragmousedownoffset={left:parseInt(g)-parseInt(k.left),top:parseInt(h-k.top)}}),this.addHandler(c,d,function(g){if(!e.showgroupsheader)return!0;if(e._isColumnInGroups(b.displayfield))return"col-resize"!=c.css("cursor"),!0;if(e.dragmousedown){var h=g.pageX,i=g.pageY;if(f){var j=e.getTouches(g),k=j[0];h=k.pageX,i=k.pageY}if(d={left:h,top:i},!e.dragstarted&&null==e.dragcolumn){var l=Math.abs(d.left-e.dragmousedown.left),m=Math.abs(d.top-e.dragmousedown.top);(l>3||m>3)&&(e._createdragcolumn(c,d,!0),a.data(e.dragcolumn[0],"datarecord",b.displayfield),g.preventDefault&&g.preventDefault())}}})},_rendergroupcolumn:function(b,c){var d=a('<div style="float: left; position: relative;"></div>');if(this.rtl&&d.css("float","right"),null!=this.groupcolumnrenderer&&(d[0].innerHTML=this.groupcolumnrenderer(b),d.addClass(this.toThemeProperty("jqx-grid-group-column")),d.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==d[0].innerHTML&&(d[0].innerHTML='<a style="float: left;" href="#">'+b+"</a>"),this.rtl&&(d[0].innerHTML='<a style="float: right;" href="#">'+b+"</a>");var e=this.rtl?"left":"right",f='<div style="float: '+e+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(a.jqx.browser.msie&&a.jqx.browser.version<8&&(f='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){var f='<div style="float: '+e+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';a.jqx.browser.msie&&a.jqx.browser.version<8&&(f='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>');
}d[0].innerHTML+=f}else""==d[0].innerHTML&&(d[0].innerHTML='<a href="#">'+b+"</a>");if(this.sortable){var g=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),h=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var g=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),h=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){var g=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),h=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var g=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),h=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}g.css("display","none"),h.css("display","none"),a.jqx.browser.msie&&a.jqx.browser.version<8&&(g.css("float","left"),h.css("float","left")),d.append(g),d.append(h),a.data(document.body,"groupsortelements"+c,{sortasc:g,sortdesc:h})}return d.addClass(this.toThemeProperty("jqx-fill-state-normal")),d.addClass(this.toThemeProperty("jqx-grid-group-column")),d},_rendergroup:function(b,c,d,e,f,g,h){var i=c,j=c.cells[d.level];this.rtl&&(j=c.cells[c.cells.length-1-d.level]);var k=this._findgroupstate(d.uniqueid);if(d.bounddata.subGroups.length>0||d.bounddata.subItems.length>0){var l=this.rtl?"-rtl":"",m=this.toThemeProperty("jqx-icon-arrow-right");l&&(m=this.toThemeProperty("jqx-icon-arrow-left")),k?j.className+=" "+this.toThemeProperty("jqx-grid-group-expand"+l)+" "+this.toThemeProperty("jqx-icon-arrow-down"):j.className+=" "+this.toThemeProperty("jqx-grid-group-collapse"+l)+" "+m}var n=this._getColumnText(this.groups[d.level]).label,o=this.groupindentwidth,p=this.rowdetails&&this.showrowdetailscolumn?(1+b)*o:b*o,q=h-p,r=d.level+1;this.rtl&&(r=0);for(var s=i.cells[r],t=2;void 0!=s&&"none"==s.style.display&&t<i.cells.length-1;)s=i.cells[r+t-1],t++;var u=a(s);if(s){if(s.style.width=parseInt(q)+"px",s.className.indexOf("jqx-grid-cell-filter")!=-1&&u.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),s.className.indexOf("jqx-grid-cell-sort")!=-1&&u.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),s.className.indexOf("jqx-grid-cell-pinned")!=-1&&u.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var v={group:d.group,level:d.level,parent:d.bounddata.parentItem,subGroups:d.bounddata.subGroups,subItems:d.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[d.level]).column},w=this.groupsrenderer(n+": "+d.group,d.group,k,v);if(w)s.innerHTML=w;else{var x=d.bounddata.subItems.length>0?d.bounddata.subItems.length:d.bounddata.subGroups.length;if(this.showgroupaggregates){var y=d.bounddata.subItems.length>0?d.bounddata.subItems:d.bounddata.subGroups;x=0;for(var z=0;z<y.length;z++)y[z].totalsrow||x++}s.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+n+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+d.group+" ("+x+")</span></div>"}}else{var A=this._getcolumnbydatafield(this.groups[d.level]),B=d.group;if(null==A)throw new Error("jqxGrid: Unable to find '"+this.groups[d.level]+"' group in the Grid's columns collection.");A.cellsformat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(B)?B=a.jqx.dataFormat.formatdate(B,A.cellsformat,this.gridlocalization):a.jqx.dataFormat.isNumber(B)&&(B=a.jqx.dataFormat.formatnumber(B,A.cellsformat,this.gridlocalization)));var x=d.bounddata.subItems.length>0?d.bounddata.subItems.length:d.bounddata.subGroups.length;if(this.showgroupaggregates){var y=d.bounddata.subItems.length>0?d.bounddata.subItems:d.bounddata.subGroups;x=0;for(var z=0;z<y.length;z++)y[z].totalsrow||x++}s.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+n+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+B+" ("+x+")</span></div>"}if(this.rtl){A||(A=this._getcolumnbydatafield(this.groups[d.level]));var C="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,D="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,p=this.rowdetails&&this.showrowdetailscolumn?(2+d.level)*o:(1+d.level)*o;s.style.width=h+parseInt(C)-p-D+"px",u.addClass(this.toThemeProperty("jqx-rtl"));var E=a(c.cells[c.cells.length-1]).css("z-index");u.css("z-index",E);var F=u.find("div"),q=F.width();F.css("left","100%");var G=null!=this.columns.records[c.cells.length-2-d.level]&&this.columns.records[c.cells.length-2-d.level].pinned;if(this.table.width()<h&&(h=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(h+=this.vScrollBar.outerWidth())),A.pinned||G)this.rowdetails&&this.showrowdetailscolumn&&(h+=30),F.css("margin-left",-q),s.style.width=h+C-p-D+"px";else{var C="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;s.style.width=h+C-p-D+"px";var q=F.width();F.css("margin-left",-q)}}}}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{_initpager:function(){var b=this.that,c=this.gridlocalization.pagergotopagestring,d=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),e=(this.pagerheight-20)/2;if(this.pagerdiv=this.pagerdiv||a('<div style="line-height: 20px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var f=this.pagerrenderer();null!=f&&this.pagerdiv.append(a(f)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",e),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||a('<div style="margin-right: 12px; width: 27px; height: 20px; float: right;"><input style="margin-top: 0px; text-align: right; height:20px; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||a('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||a('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||a('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=a('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||a('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var g=a("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");g.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(g);var h=a("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(h),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var i=this.rtl?"right":"left";this.pagerbuttons.css("float",i),this.pagerlastbutton.css("float",i),this.pagerfirstbutton.css("float",i),this.pagerrightbutton.css("float",i),this.pagerleftbutton.css("float",i),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var j=a("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");j.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(j);var k=a("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");k.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(k),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var l=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:l,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:20,theme:this.theme});for(var m=0,n=0;n<l.length;n++)this.pagesize>=l[n]&&(m=n);this.pagershowrows[0].innerHTML=d,this.pagergoto[0].innerHTML=c,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:m}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var b=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(a){if(a.args){b.vScrollInstance&&b.vScrollInstance.setPosition(0),null!=b.editcell&&b.endcelledit&&b.endcelledit(b.editcell.row,b.editcell.column,!0,!1);var c=a.args.index,d=b.dataview.pagenum*b.dataview.pagesize,e=l[c],f=b.pagesize;b.pagesize=parseInt(e),isNaN(b.pagesize)&&(b.pagesize=10),e>=100?b.pagershowrowscombo.jqxDropDownList({width:"auto"}):b.pagershowrowscombo.jqxDropDownList({width:44}),b.dataview.pagesize=b.pagesize;var g=Math.floor(d/b.dataview.pagesize);b.prerenderrequired=!0,b._requiresupdate=!0,b._raiseEvent(10,{pagenum:g,oldpagesize:f,pagesize:b.dataview.pagesize}),b.gotopage(g),b.autoheight&&b._updatesizeonwindowresize&&(b._updatesize(!0),setTimeout(function(){b._updatesize(!0)},500))}});var o=this.pagergotoinput.find("input");o.addClass(this.toThemeProperty("jqx-grid-pager-input")),o.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(o,"keydown"),this.removeHandler(o,"change"),this.addHandler(o,"keydown",function(a){if(a.keyCode>=65&&a.keyCode<=90)return!1;if("13"==a.keyCode){var c=o.val();return c=parseInt(c),isNaN(c)||b.gotopage(c-1),!1}}),this.addHandler(o,"change",function(){var a=o.val();a=parseInt(a),isNaN(a)||b.gotopage(a-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){k.addClass(b.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){j.addClass(b.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){k.removeClass(b.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){j.removeClass(b.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){k.addClass(b.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){k.removeClass(b.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){j.addClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){j.removeClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(a(document),"mouseup.pagerbuttons"+this.element.id,function(){k.removeClass(b.toThemeProperty("jqx-icon-arrow-right-selected")),j.removeClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){b.pagerrightbutton.jqxButton("disabled")||(b.rtl?b.gotoprevpage():b.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){b.pagerleftbutton.jqxButton("disabled")||(b.rtl?b.gotonextpage():b.gotoprevpage())});var p=this;if("simple"===this.pagermode){var q=this.pagerfirstbutton,r=this.pagerlastbutton;this.addHandler(r,"mouseenter",function(){h.addClass(p.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(q,"mouseenter",function(){g.addClass(p.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(r,"mouseleave",function(){h.removeClass(p.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(q,"mouseleave",function(){g.removeClass(p.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(r,"mousedown",function(){h.addClass(p.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(q,"mousedown",function(){g.addClass(p.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(r,"mouseup",function(){h.removeClass(p.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(q,"mouseup",function(){g.removeClass(p.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(a(document),"mouseup.pagerbuttons"+this.element.id,function(){k.removeClass(p.toThemeProperty("jqx-icon-arrow-right-selected")),j.removeClass(p.toThemeProperty("jqx-icon-arrow-left-selected")),h&&(h.removeClass(p.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(p.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(q,"click",function(){if(!q.jqxButton("disabled"))if(p.rtl){var a=p.dataview.totalrecords,b=Math.ceil(a/p.pagesize);p.gotopage(b-1)}else p.gotopage(0)}),this.addHandler(r,"click",function(){if(!r.jqxButton("disabled"))if(p.rtl)p.gotopage(0);else{var a=p.dataview.totalrecords,b=Math.ceil(a/p.pagesize);p.gotopage(b-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var b=this.pagergotoinput.find("input");b.removeClass(),b.addClass(this.toThemeProperty("jqx-grid-pager-input")),b.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var c=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");c.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(c);var d=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(d),"simple"==this.pagermode){a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var e=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");e.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(e);var f=a("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");f.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(f),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var g=function(a,b){a.removeHandler(b,"mouseenter"),a.removeHandler(b,"mouseleave"),a.removeHandler(b,"mousedown"),a.removeHandler(b,"mouseup")};g(this,this.pagerrightbutton),g(this,this.pagerleftbutton);var h=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){d.addClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){c.addClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){d.removeClass(h.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){c.removeClass(h.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){d.addClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){d.removeClass(h.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){c.addClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){c.removeClass(h.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(a){if(null!=a&&void 0!=a||(a=0),a==-1&&(a=0),!(a<0)){var b=this.dataview.totalrecords;this.summaryrows&&(b+=this.summaryrows.length);var c=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:a,pagesize:this.dataview.pagesize});var d=Math.ceil(b/this.pagesize);if(a>=d&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),a>0&&(a=d-1),a<0&&(a=0)),(this.dataview.pagenum!=a||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(a,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=a,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var e=a*this.dataview.pagesize,f=e+this.dataview.pagesize;if(null!=e&&null!=f)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:a,oldpagenum:c,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var g=this.host.height()-this._gettableheight();height=g+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:a,oldpagenum:c,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var a=this.dataview.totalrecords;this.summaryrows&&(a+=this.summaryrows.length);var b=Math.ceil(a/this.pagesize);this.gotopage(b-1)}},gotonextpage:function(){var a=this.dataview.totalrecords;this.summaryrows&&(a+=this.summaryrows.length);var b=Math.ceil(a/this.pagesize);this.dataview.pagenum<b-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var b=this.dataview.pagenum*this.pagesize,c=(this.dataview.pagenum+1)*this.pagesize;c>=this.dataview.totalrecords&&(c=this.dataview.totalrecords);var d=this.dataview.totalrecords;this.summaryrows&&(d+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(c=d)),b++;var e=Math.ceil(d/this.dataview.pagesize);if(e>=1&&e--,e++,"simple"!==this.pagermode){var f=this.pagergotoinput.find("input");f.val(this.dataview.pagenum+1)}else{var g="",h=this.pagerbuttonscount;0!=h&&h||(h=5);var i=0;for(this.rtl&&(i=h-1);this.rtl&&i>=0||!this.rtl&&i<h;){var j=1+i,k=this.dataview.pagenum/h,l=Math.floor(k);j+=l*h;var m=this.toTP("jqx-grid-pager-number");if(m+=" "+this.toTP("jqx-rc-all"),j>e)break;if(this.rtl||0==i&&j>h&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+j)+"'>...</a>"),this.dataview.pagenum===j-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(i===h-1){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),e>=1+j&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+j)+"'>...</a>")}this.dataview.pagenum===j-1&&(m+=" "+this.toTP("jqx-fill-state-pressed")),g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+j+"'>"+j+"</a>"}else if(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+j+"'>"+j+"</a>",i===h-1){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),e>=1+j&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(1+j)+"'>...</a>")}if(this.rtl){var m=this.toTP("jqx-grid-pager-number");m+=" "+this.toTP("jqx-rc-all"),0==i&&j>h&&(g+="<a class='"+m+"' tabindex=-1 href='javascript:;' data-page='"+(-1+j)+"'>...</a>")}this.rtl?i--:i++}var n=this.pagerbuttons.find("a");this.removeHandler(n,"click"),this.removeHandler(n,"mouseenter"),this.removeHandler(n,"mouseleave"),this.pagerbuttons[0].innerHTML=g;var o=this,p=function(){o.addHandler(n,"click",function(b){var c=a(b.target).attr("data-page");return o.gotopage(parseInt(c)-1),!1}),o.addHandler(n,"mouseenter",function(b){a(b.target).addClass(o.toTP("jqx-fill-state-hover"))}),o.addHandler(n,"mouseleave",function(b){a(b.target).removeClass(o.toTP("jqx-fill-state-hover"))})},n=this.pagerbuttons.find("a");p(n)}this.pagergotoinput.attr("title","1 - "+e),0==c&&c<b&&(b=0),this.rtl?this.pagerdetails[0].innerHTML=d+this.gridlocalization.pagerrangestring+c+"-"+b:this.pagerdetails[0].innerHTML=b+"-"+c+this.gridlocalization.pagerrangestring+d,b>c&&this.gotoprevpage()}},_updatepagedview:function(a,b,c){var d=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var e=this.dataview.rows.length,f=0;f<e;f++){var g=this.dataview.rows[f].visibleindex,h={index:g,height:this.heights[g],hidden:this.hiddens[g],details:this.details[g]};if(void 0==this.heights[g]&&(this.heights[g]=this.rowsheight,h.height=this.rowsheight),void 0==this.hiddens[g]&&(this.hiddens[g]=!1,h.hidden=!1),void 0==this.details[g]&&(this.details[g]=null),h.height!=d.rowsheight&&(b-=d.rowsheight,b+=h.height),h.hidden)b-=h.height;else{c+=h.height;var i=0;this.rowdetails&&h.details&&h.details.rowdetails&&!h.details.rowdetailshidden&&(i=h.details.rowdetailsheight,c+=i,b+=i)}}return this._pageviews[0]={top:0,height:c},b}})}(jqxBaseFramework),function(a,b){a.extend(a.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var a=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var b=this.dataview.loadedrecords,c=0;c<a;c++){var d=b[c];if(d){var e=this.getboundindex(d);void 0!=e&&(this.selectedrowindexes[c]=e)}else this.selectedrowindexes[c]=c}this.selectionmode.indexOf("checkbox")==-1||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,this.selectionmode.indexOf("checkbox")!=-1&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,this.selectionmode.indexOf("checkbox")==-1||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,this.selectionmode.indexOf("checkbox")!=-1&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(a,b){this._applyrowselection(a,!0,b),b!==!1&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if(this.selectionmode.indexOf("checkbox")!=-1){var a=this.getrows();if(a&&this._checkboxcolumn){if(0===a.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var b=a.length;this.groupable&&(b=this.dataview.loadedrecords.length),this.virtualmode&&(b=this.source._source.totalrecords);var c=this.selectedrowindexes.length;c===b?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===c?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(a,b){this._applyrowselection(a,!1,b),b!==!1&&this._updatecheckboxselection()},selectcell:function(a,b){this._applycellselection(a,b,!0)},unselectcell:function(a,b){this._applycellselection(a,b,!1)},clearselection:function(a,b){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,b!==!1)for(var c=0;c<this.selectedrowindexes.length;c++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[c]});return this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode&&"checkboxextended"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1===a?void(this._trigger=!0):(this._renderrows(this.virtualsizeinfo),this._trigger=!0,void("checkbox"!=this.selectionmode&&"checkboxextended"!=this.selectionmode||this._raiseEvent(3,{rowindex:this.selectedrowindexes})))},getselectedrowindex:function(){if(this.selectedrowindex==-1||void 0==this.selectedrowindex)for(var a=0;a<this.selectedrowindexes.length;a++)return this.selectedrowindexes[a];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedrowids:function(){var b=this.getselectedrowindexes(),c=[],d=this;return a.each(b,function(a,b){c.push(d.getrowid(b))}),c},getselectedrowid:function(){return this.getrowid(this.getselectedrowindex())},getselectedcell:function(){if(!this.selectedcell)return null;var a=this.selectedcell;return a.row=this.selectedcell.rowindex,a.column=this.selectedcell.datafield,a.value=this.getcellvalue(a.row,a.column),a},getselectedcells:function(){var a=new Array;for(var b in this.selectedcells)a[a.length]=this.selectedcells[b];return a},_getcellsforcopypaste:function(){var a=new Array;if(this.selectionmode.indexOf("cell")==-1)for(var b=this.selectedrowindexes,c=0;c<b.length;c++)for(var d=b[c],e=0;e<this.columns.records.length;e++)if("_checkboxcolumn"!==this.columns.records[e].datafield){var f=(d+"_"+this.columns.records[e].datafield,{rowindex:d,datafield:this.columns.records[e].datafield});a.push(f)}return a},deleteselection:function(){var a=this,b=a.getselectedcells();if(this.selectionmode.indexOf("cell")==-1&&"checkboxextended"!=this.selectionmode&&(b=this._getcellsforcopypaste()),null!=b&&b.length>0){for(var c=0;c<b.length;c++){var d=b[c],e=a.getcolumn(d.datafield),f=a.getcellvalue(d.rowindex,d.datafield);
if(e&&e.editable&&""!==f){var g=null;"checkbox"==e.columntype&&(e.threestatecheckbox||(g=!1)),a._raiseEvent(17,{rowindex:d.rowindex,datafield:d.datafield,value:f}),c==b.length-1?(a.setcellvalue(d.rowindex,d.datafield,g,!0),e.displayfield!=e.datafield&&a.setcellvalue(d.rowindex,e.displayfield,g,!0)):(a.setcellvalue(d.rowindex,d.datafield,g,!1),e.displayfield!=e.datafield&&a.setcellvalue(d.rowindex,e.displayfield,g,!0)),a._raiseEvent(18,{rowindex:d.rowindex,datafield:d.datafield,oldvalue:f,value:g})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var b="",c=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var d=c.getselectedcells();"checkboxextended"==this.selectionmode?0==c.selectedcells.length&&(d=this._getcellsforcopypaste()):this.selectionmode.indexOf("cell")==-1&&(d=this._getcellsforcopypaste());var e=new Array;if(null!=d&&d.length>0){for(var f=999999999999999,g=-1,h=0;h<d.length;h++){var i=d[h],j=c.getcolumn(i.datafield);if(null!=j&&j.clipboard&&(!j.hidden||this.copytoclipboardhiddencolumns)){e.indexOf(j.text)==-1&&e.push(j.text);var k=c.getcelltext(i.rowindex,j.displayfield),l=this.getrowdisplayindex(i.rowindex);this.clipboardselection[l]||(this.clipboardselection[l]={}),this.clipboardselection[l][j.displayfield]=k,this.logicalclipboardselection[l]||(this.logicalclipboardselection[l]={}),this.logicalclipboardselection[l][j.displayfield]=k,j.displayfield!=j.datafield&&(this.logicalclipboardselection[l][j.datafield]=c.getcellvalue(i.rowindex,j.datafield)),f=Math.min(f,l),g=Math.max(g,l)}}for(var m=new Array,n=f;n<=g;n++)if(this.logicalclipboardselection[n]){var o=a.extend({},this.logicalclipboardselection[n]);m.push(o)}if(this.logicalclipboardselection=m,this.copytoclipboardwithheaders){for(var p=0;p<e.length;p++)p>0&&(b+="\t"),b+=e[p];b+="\r\n"}for(var n=f;n<=g;n++){var q=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[n]&&(a.each(this.clipboardselection[n],function(a,d){q>0&&(b+="\t");var e=d;null==d&&(e=""),c._clipboardselection[c._clipboardselection.length-1][q]=e,q++,b+=e}),n<g&&(b+="\r\n"))}}return this.clipboardselectedtext=b,b},pasteselection:function(){var b=this.getselectedcells(),c=this;if(this._oldselectedcell=null,this.selectionmode.indexOf("cell")==-1&&"checkboxextended"!=this.selectionmode&&(b=this._getcellsforcopypaste()),null!=b&&b.length>0){var d=b[0].rowindex,e=this.getrowdisplayindex(d),f=b[0].datafield,g=this._getcolumnindex(f);this.selectedrowindexes=new Array,this.selectedcells=new Array;var h={data:[],errors:[]},i=(b.length,0),j=new Array;this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(var k=0;k<this._clipboardselection.length;k++){i+=this._clipboardselection[k].length,j[k]=new Array;for(var l=0;l<this._clipboardselection[k].length;l++){var m=this._clipboardselection[k][l];j[k].push(m)}}if(i<b.length){for(var n=new Array,k=0;k<b.length;k++){var o=b[k];n[o.rowindex]||(n[o.rowindex]=new Array),n[o.rowindex].push(o)}for(var p=0,q=0,k=0;k<n.length;k++)if(n[k])for(var l=0;l<n[k].length;l++){var o=n[k][l],r=o.rowindex,s=g,t=this.getcolumn(o.datafield);if(0!=t.editable&&"_checkboxcolumn"!==t.datafield&&!t.hidden){var m="";void 0==j[p][q]&&(q=0),m=j[p][q];var u=m;if(q++,"datetimeinput"===t.columntype)t.cellsformat?(C=a.jqx.dataFormat.parsedate(m,t.cellsformat),C||(D=!0)):D=!0;else if(t.cellsformat&&(t.cellsformat.indexOf("p")!=-1||t.cellsformat.indexOf("c")!=-1||t.cellsformat.indexOf("n")!=-1||t.cellsformat.indexOf("f")!=-1)){m.indexOf(this.gridlocalization.currencysymbol)>-1&&(m=m.replace(this.gridlocalization.currencysymbol,""));var v=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);e!=-1;)d=d.replace(b,c),e=d.indexOf(b);return d};m=v(m,this.gridlocalization.thousandsseparator,""),m=m.replace(this.gridlocalization.decimalseparator,"."),m.indexOf(this.gridlocalization.percentsymbol)>-1&&(m=m.replace(this.gridlocalization.percentsymbol,""));for(var w="",x=0;x<m.length;x++){var y=m.substring(x,x+1);"-"===y&&(w+="-"),"."===y&&(w+="."),null!=y.match(/^[0-9]+$/)&&(w+=y)}m=w,m=m.replace(/ /g,""),m=new Number(m),isNaN(m)&&(m="",D=!0),C=m}D&&(C="",h.errors.push({column:{columnType:t.columntype,columnIndex:s,text:t.text,datafield:t.datafield,cellsFormat:t.cellsformat,displayfield:t.displayfield},pasteValue:u,convertValue:C,rowIndex:r})),h.data.push({column:{columnType:t.columntype,columnIndex:s,text:t.text,datafield:t.datafield,cellsFormat:t.cellsformat,displayfield:t.displayfield},pasteValue:u,convertValue:C,rowIndex:r}),s++,p++,j[p]||(p=0)}}if(c.validatePaste){var z=c.validatePaste(h.errors);if(z!==!0)return}h.data.length>0&&a.each(h.data,function(a,b){c._raiseEvent(17,{rowindex:b.rowIndex,datafield:b.column.datafield,value:b.convertValue}),c.setcellvalue(b.rowIndex,b.column.datafield,b.convertValue,!1);var d=b.convertValue;if(t.displayfield!=t.datafield&&this.logicalclipboardselection){var e=this.logicalclipboardselection[A][t.datafield];void 0!=b&&(this.setcellvalue(r,t.datafield,e,!1),d=e)}c._raiseEvent(18,{rowindex:b.rowIndex,datafield:b.column.datafield,oldvalue:c.getcellvalue(b.rowIndex,b.column.datafield),value:d}),c._applycellselection(b.rowIndex,b.column.datafield,!0,!1)})}else{if(!this._clipboardselection)return;for(var A=0;A<this._clipboardselection.length;A++)for(var B=0;B<this._clipboardselection[A].length;B++){var s=g,t=this.getcolumnat(g+B);if(t&&0!=t.editable&&"_checkboxcolumn"!==t.datafield&&!t.hidden){var r=this.getrowboundindex(e+A),o=this.getcell(r,t.datafield),m=null;m=this._clipboardselection[A][B];var u=m,C=m,D=!1;if(null!=m){if("datetimeinput"===t.columntype)t.cellsformat?(C=a.jqx.dataFormat.parsedate(m,t.cellsformat),C||(D=!0)):D=!0;else if(t.cellsformat&&(t.cellsformat.indexOf("p")!=-1||t.cellsformat.indexOf("c")!=-1||t.cellsformat.indexOf("n")!=-1||t.cellsformat.indexOf("f")!=-1)){m.indexOf(this.gridlocalization.currencysymbol)>-1&&(m=m.replace(this.gridlocalization.currencysymbol,""));var v=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);e!=-1;)d=d.replace(b,c),e=d.indexOf(b);return d};m=v(m,this.gridlocalization.thousandsseparator,""),m=m.replace(this.gridlocalization.decimalseparator,"."),m.indexOf(this.gridlocalization.percentsymbol)>-1&&(m=m.replace(this.gridlocalization.percentsymbol,""));for(var w="",x=0;x<m.length;x++){var y=m.substring(x,x+1);"-"===y&&(w+="-"),"."===y&&(w+="."),null!=y.match(/^[0-9]+$/)&&(w+=y)}m=w,m=m.replace(/ /g,""),m=new Number(m),isNaN(m)&&(m="",D=!0),C=m}D&&(C="",h.errors.push({column:{columnType:t.columntype,columnIndex:s,text:t.text,datafield:t.datafield,cellsFormat:t.cellsformat,displayfield:t.displayfield},pasteValue:u,convertValue:C,rowIndex:r})),h.data.push({column:{columnType:t.columntype,columnIndex:s,text:t.text,datafield:t.datafield,cellsFormat:t.cellsformat,displayfield:t.displayfield},pasteValue:u,convertValue:C,rowIndex:r})}s++}}if(c.validatePaste){var z=c.validatePaste(h.errors);if(z!==!0)return}h.data.length>0&&a.each(h.data,function(a,b){c._raiseEvent(17,{rowindex:b.rowIndex,datafield:b.column.datafield,value:b.convertValue}),c.setcellvalue(b.rowIndex,b.column.datafield,b.convertValue,!1);var d=b.convertValue;if(t.displayfield!=t.datafield&&this.logicalclipboardselection){var e=this.logicalclipboardselection[A][t.datafield];void 0!=b&&(this.setcellvalue(r,t.datafield,e,!1),d=e)}c._raiseEvent(18,{rowindex:b.rowIndex,datafield:b.column.datafield,oldvalue:c.getcellvalue(b.rowIndex,b.column.datafield),value:d}),c._applycellselection(b.rowIndex,b.column.datafield,!0,!1)})}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(a,b,c,d,e){if(null==a)return!1;if(b&&("dataset"==this.source._source.datatype||"binder"==this.source._source.datatype)&&this.source._source.localdata){var f=this.source;f.bindselectrow(a)}var g=this.selectedrowindex;if("singlerow"==this.selectionmode&&(b?this._raiseEvent(2,{rowindex:a,row:this.getrowdata(a)}):this._raiseEvent(3,{rowindex:a,row:this.getrowdata(a)}),this._raiseEvent(3,{rowindex:g}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==d&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var h=this.getrowdata(a);h&&void 0!==h.dataindex?a=h.dataindex:h&&void 0===h.dataindex&&void 0!=h.uid&&(a=this.getrowboundindexbyid(h.uid))}var i=this.selectedrowindexes.indexOf(a);if(b)this.selectedrowindex=a,i==-1?(this.selectedrowindexes.push(a),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:a,row:this.getrowdata(a)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(i,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(a)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(i>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var j=this.selectedrowindexes[i];this.selectedrowindexes.splice(i,1),this._raiseEvent(3,{rowindex:j,row:this.getrowdata(a)}),this.selectedrowindex=-1}return(void 0==c||c)&&this._rendervisualrows(),!0},_applycellselection:function(a,b,c,d){if(null==a)return!1;if(void 0==a||a<0)return!1;if(null==b)return!1;if(c&&this.source&&("dataset"==this.source._source.datatype||"binder"==this.source._source.datatype)&&this.source._source.localdata){var e=this.source;e.bindselectrow(a)}this.selectedrowindex;if("singlecell"==this.selectionmode){var f=this.selectedcell;null!=f&&this._raiseEvent(16,{rowindex:f.rowindex,datafield:f.datafield}),this.selectedcells=new Array}if("multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode||"checkboxextended"==this.selectionmode){var f=this.selectedcell;null!=f&&this._raiseEvent(16,{rowindex:f.rowindex,datafield:f.datafield})}var g=a+"_"+b;if(this.dataview.filters.length>0){var h=this.getrowdata(a);if(h&&void 0!==h.dataindex){a=h.dataindex;var g=a+"_"+b}else if(h&&void 0===h.dataindex&&h.uid){a=this.getrowboundindexbyid(h.uid);var g=a+"_"+b}}var i={rowindex:a,datafield:b};return c?(this.selectedcell=i,this.selectedcells[g]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode&&"checkboxextended"!=this.selectionmode||(delete this.selectedcells[g],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,i)):(this.selectedcells[g]=i,this.selectedcells.length++,this._raiseEvent(15,i))):(delete this.selectedcells[g],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,i)),(void 0==d||d)&&this._rendervisualrows(),!0},_getcellindex:function(b){var c=-1;return a.each(this.selectedcells,function(){if(c++,this[b])return!1}),c},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&this.hoveredrow!=-1&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var a=this.table.find(".jqx-grid-cell-hover");a.length>0&&(a.removeClass(this.toTP("jqx-grid-cell-hover")),a.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var b=this.table[0].rows.length,c=this.table[0].rows,d=this.toTP("jqx-grid-cell-selected"),e=this.toTP("jqx-fill-state-pressed"),f=this.toTP("jqx-grid-cell-hover"),g=this.toTP("jqx-fill-state-hover"),h=0;h<b;h++)for(var i=c[h],j=i.cells.length,k=i.cells,l=0;l<j;l++){var m=k[l],n=a(m);m.className.indexOf("jqx-grid-cell-selected")!=-1&&(n.removeClass(d),n.removeClass(e)),m.className.indexOf("jqx-grid-cell-hover")!=-1&&(n.removeClass(f),n.removeClass(g))}},_selectpath:function(a,b){var c=this,d=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0,e=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0;if(d<=e){var f=this._getcolumnindex(this._lastClickedCell.column),g=this._getcolumnindex(b),h=Math.min(f,g),i=Math.max(f,g);this.selectedcells=new Array;for(var j=this.dataview.loadedrecords,k=d;k<=e;k++)for(var l=h;l<=i;l++){var a=j[k];this._applycellselection(c.getboundindex(a),c._getcolumnat(l).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(a){if("multiplerowsextended"==this.selectionmode){var b=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0,c=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0,d=this.dataview.loadedrecords;if(b<=c){this.selectedrowindexes=new Array;for(var e=b;e<=c;e++){var a=d[e],f=this.getrowboundindex(e);this._applyrowselection(f,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(a,b,c,d,e,f){var g=b.row;if(void 0!=g){var h=b.index;if(void 0!=this.hittestinfo[h]){var i=this.hittestinfo[h].visualrow;if(!this.hittestinfo[h].details){i.cells[0].className;if(!g.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||this.selectionmode.indexOf("multiple")!=-1&&(1==f||1==e)){var j=this.getboundindex(g);if(this.dataview.filters.length>0){var k=this.getrowdata(j);if(k&&(j=k.dataindex,void 0==j))var j=this.getboundindex(g)}var l=c.indexOf(j)!=-1,m=this.getboundindex(g)+"_"+d;if(this.selectionmode.indexOf("cell")!=-1){var n=void 0!=this.selectedcells[m];if(void 0!=this.selectedcells[m]&&n?this._selectcellwithstyle(a,!1,h,d,i):this._selectcellwithstyle(a,!0,h,d,i),f&&void 0==this._lastClickedCell){var o=this.getselectedcells();o&&o.length>0&&(this._lastClickedCell={row:o[0].rowindex,column:o[0].datafield})}f&&this._lastClickedCell&&(this._selectpath(g.visibleindex,d),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(l?e?this._applyrowselection(this.getboundindex(g),!1):this._selectrowwithstyle(a,i,!1,d):this._selectrowwithstyle(a,i,!0,d),f&&void 0==this._lastClickedCell){var p=this.getselectedrowindexes();p&&p.length>0&&(this._lastClickedCell={row:p[0],column:d})}if(f&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var q=this._lastClickedCell?Math.min(this._lastClickedCell.row,g.visibleindex):0,r=this._lastClickedCell?Math.max(this._lastClickedCell.row,g.visibleindex):0,s=this.dataview.loadedrecords,t=q;t<=r;t++){var g=s[t];g&&this._applyrowselection(this.getboundindex(g),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(a,i,!0,d),this.selectionmode.indexOf("cell")!=-1&&this._selectcellwithstyle(a,!0,h,d,i);f||(this._lastClickedCell={row:g.visibleindex,column:d})}}}}},_selectcellwithstyle:function(b,c,d,e,f){var g=a(f.cells[b._getcolumnindex(e)]);g.removeClass(this.toTP("jqx-grid-cell-hover")),g.removeClass(this.toTP("jqx-fill-state-hover")),c?(g.addClass(this.toTP("jqx-grid-cell-selected")),g.addClass(this.toTP("jqx-fill-state-pressed"))):(g.removeClass(this.toTP("jqx-grid-cell-selected")),g.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(b,c,d,e){var f=c.cells.length,g=0;b.rowdetails&&b.showrowdetailscolumn?this.rtl?(f-=1,f-=this.groups.length):g=1+this.groups.length:this.groupable&&(this.rtl?f-=this.groups.length:g=this.groups.length);for(var h=g;h<f;h++){var i=c.cells[h];d?(a(i).removeClass(this.toTP("jqx-grid-cell-hover")),a(i).removeClass(this.toTP("jqx-fill-state-hover")),b.selectionmode.indexOf("cell")==-1&&(a(i).addClass(this.toTP("jqx-grid-cell-selected")),a(i).addClass(this.toTP("jqx-fill-state-pressed")))):(a(i).removeClass(this.toTP("jqx-grid-cell-hover")),a(i).removeClass(this.toTP("jqx-grid-cell-selected")),a(i).removeClass(this.toTP("jqx-fill-state-hover")),a(i).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(b,c){if(c.hScrollInstance.isScrolling()||c.vScrollInstance.isScrolling())return!1;if(c.mousecaptured&&("multiplerowsextended"==c.selectionmode||"multiplecellsextended"==c.selectionmode||"multiplecellsadvanced"==c.selectionmode||"checkboxextended"==c.selectionmode)){if(c.multipleselectionbegins){var d=c.multipleselectionbegins(b);if(d===!1)return!0}var e=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0,g=this.showtoolbar?this.toolbar.height():0;f+=g;var h=this.host.coord();if(this.hasTransform){h=a.jqx.utilities.getOffset(this.host);var i=this._getBodyOffset();h.left-=i.left,h.top-=i.top}"0px"===this.host.css("border-top-width")&&(f-=2);var j=b.pageX,k=b.pageY-f;if(Math.abs(this.mousecaptureposition.left-j)>3||Math.abs(this.mousecaptureposition.top-k)>3){var l=parseInt(this.columnsheader.coord().top);this.hasTransform&&(l=a.jqx.utilities.getOffset(this.columnsheader).top),j<h.left&&(j=h.left),j>h.left+this.host.width()&&(j=h.left+this.host.width());var m=h.top+e;k<m&&(k=m+5);var n=parseInt(Math.min(c.mousecaptureposition.left,j)),o=-5+parseInt(Math.min(c.mousecaptureposition.top,k)),p=parseFloat(Math.abs(c.mousecaptureposition.left-j)),q=parseInt(Math.abs(c.mousecaptureposition.top-k));if(n-=h.left,o-=h.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==c.selectionmode){var j=n,r=j+p,s=c.hScrollInstance,t=s.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(t=s.max-s.value),"hidden"!=this.vScrollBar[0].style.visibility);var u=c.table[0].rows[0],v=0,w=c.mousecaptureposition.clickedcell,x=w,y=!1,z=0,A=u.cells.length;c.mousecaptureposition.left<=b.pageX&&(z=w);for(var B=!1,C=z;C<A;C++){var D=parseFloat(a(this.columnsrow[0].cells[C]).css("left")),E=D-t;if(!c.columns.records[C].pinned||c.columns.records[C].hidden){if(B){y=!0,x--;break}var F=this._getcolumnat(C);if(!(null!=F&&F.hidden||c.groupable&&c.groups.length>0&&C<c.groups.length)){var G=E+a(this.columnsrow[0].cells[C]).width();if(c.mousecaptureposition.left>b.pageX){if(G>=j&&j>=E){x=C,y=!0;break}}else if(G>=r&&r>=E){x=C,y=!0;break}}}else{C==w&&(B=!0);var G=D+a(this.columnsrow[0].cells[C]).width();if(c.mousecaptureposition.left>b.pageX){if(G>=j&&j>=E){x=C,y=!0;break}}else if(G>=r&&r>=E){x=C,y=!0;break}}}y||(c.mousecaptureposition.left>b.pageX?a.each(this.columns.records,function(a,b){return!!(c.groupable&&c.groups.length>0&&a<c.groups.length)||(this.pinned||this.hidden?void 0:(x=a,!1))}):(!c.groupable||c.groupable&&!c.groups.length>0)&&(x=u.cells.length-1));var H=w;w=Math.min(w,x),x=Math.max(H,x),o+=5,o+=f;for(var I=(c.table[0].rows.indexOf(c.mousecaptureposition.clickedrow),0),J=-1,K=-1,L=0,C=0;C<c.table[0].rows.length;C++){var M=a(c.table[0].rows[C]);0==C&&(L=M.coord().top);var N=M.height(),O=L-h.top;if(J==-1&&O+N>=o){for(var P=!1,Q=0;Q<c.groups.length;Q++){var R=M[0].cells[Q].className;if(R.indexOf("jqx-grid-group-collapse")!=-1||R.indexOf("jqx-grid-group-expand")!=-1){P=!0;break}}if(P)continue;J=C}if(L+=N,c.groupable&&c.groups.length>0){for(var P=!1,Q=0;Q<c.groups.length;Q++){var R=M[0].cells[Q].className;if(R.indexOf("jqx-grid-group-collapse")!=-1||R.indexOf("jqx-grid-group-expand")!=-1){P=!0;break}}if(P)continue;for(var v=0,S=c.groups.length;S<M[0].cells.length;S++){var T=M[0].cells[S];""==a(T).html()&&v++}if(v==M[0].cells.length-c.groups.length)continue}if(J!=-1&&(I+=N),O+N>o+q){K=C;break}}if(J!=-1){o=a(c.table[0].rows[J]).coord().top-h.top-f-2;var U=0;this.filterable&&this.showfilterrow&&(U=this.filterrowheight),parseFloat(c.table[0].style.top)<0&&o<this.rowsheight+U&&(o-=parseFloat(c.table[0].style.top),I+=parseFloat(c.table[0].style.top)),q=I;var V=a(this.columnsrow[0].cells[w]),W=a(this.columnsrow[0].cells[x]);if(n=parseFloat(V.css("left")),p=parseFloat(W.css("left"))-parseFloat(n)+W.width()-2,n-=t,B&&(n+=t),c.editcell&&c.editable&&c.endcelledit&&(w!=x||J!=K)){if(0==c.editcell.validated)return;c.endcelledit(c.editcell.row,c.editcell.column,!0,!0)}}}this.selectionarea.width(p),this.selectionarea.height(q),this.selectionarea.css("left",n),this.selectionarea.css("top",o)}}},_handlemouseupselection:function(b,c){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return c.mousecaptured=!1,!0;if(c.mousecaptured&&("multiplerowsextended"==c.selectionmode||"multiplerowsadvanced"==c.selectionmode||"multiplecellsextended"==c.selectionmode||"multiplecellsadvanced"==c.selectionmode||"checkboxextended"==c.selectionmode)&&(c.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var d=this.showheader?this.columnsheader.height()+2:0,e=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(e-=2);var f=this.showtoolbar?this.toolbar.height():0;e+=f;var g=this.selectionarea.coord(),h=this.host.coord();this.hasTransform&&(h=a.jqx.utilities.getOffset(this.host),g=a.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(e-=2);var i=g.left-h.left,j=g.top-d-h.top-e,k=j,l=i+this.selectionarea.width(),m=i,n=new Array,o=new Array;if("multiplerowsextended"==c.selectionmode){for(;j<k+this.selectionarea.height();){var p=this._hittestrow(i,j),q=p.row,r=p.index;r!=-1&&(o[r]||(o[r]=!0,n[n.length]=p)),j+=20}var k=0;a.each(n,function(){var a=this.row;"none"!=c.selectionmode&&c._selectrowwithmouse&&(b.ctrlKey||b.metaKey?c._applyrowselection(c.getboundindex(a),!0,!1,!1):0==k?c._applyrowselection(c.getboundindex(a),!0,!1,!0):c._applyrowselection(c.getboundindex(a),!0,!1,!1),k++)})}else{"multiplecellsadvanced"==c.selectionmode&&(j+=2);var s=c.hScrollInstance,t=s.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(t=s.max-s.value),"hidden"!=this.vScrollBar[0].style.visibility&&(t-=this.scrollbarsize+4));var u=c.table[0].rows[0],v=c.selectionarea.height();!b.ctrlKey&&!b.metaKey&&v>0&&(c.selectedcells=new Array);for(var w=v;j<k+w;){var p=c._hittestrow(i,j);if(p){var q=p.row,r=p.index;if(r!=-1&&!o[r]){o[r]=!0;for(var x=0,y=0;y<u.cells.length;y++){var z=parseInt(a(c.columnsrow[0].cells[y]).css("left")),A=z-t;this.columns.records[y].pinned&&(A=z);var B=A+a(c.columnsrow[0].cells[y]).width();if(this.columns.records[y].pinned)x=B;else if(l<x)break;if(m>=A&&m<=B||l>=A&&l<=B||A>=m&&A<=l){var C=c._getcolumnat(y);c._applycellselection(c.getboundindex(q),C.datafield,!0,!1,C.hidden)}}}j+=5}else j+=5}}c.autosavestate&&c.savestate&&c.savestate(),c._renderrows(c.virtualsizeinfo)}}},selectprevcell:function(a,b){var c=this._getcolumnindex(b),d=(this.columns.records.length,this._getprevvisiblecolumn(c));null!=d&&(this.clearselection(),this.selectcell(a,d.datafield))},selectnextcell:function(a,b){var c=this._getcolumnindex(b),d=(this.columns.records.length,this._getnextvisiblecolumn(c));null!=d&&(this.clearselection(),this.selectcell(a,d.datafield))},_getfirstvisiblecolumn:function(){for(var a=this.columns.records.length,b=0;b<a;b++){var c=this.columns.records[b];if(!c.hidden&&null!=c.datafield)return c}return null},_getlastvisiblecolumn:function(){for(var a=this.columns.records.length,b=a-1;b>=0;b--){var c=this.columns.records[b];if(!c.hidden&&null!=c.datafield)return c}return null},_handlekeydown:function(b,c){if(c.groupable&&c.groups.length>0,c.disabled)return!1;var d=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(c.editcell&&"multiplecellsadvanced"!=c.selectionmode)return!0;if(c.editcell&&"multiplecellsadvanced"==c.selectionmode){if(!(d>=33&&d<=40))return!0;if(b.altKey)return c._cancelkeydown=!1,!0;if(void 0!=c._cancelkeydown&&0!=c._cancelkeydown)return c._cancelkeydown=!1,!0;if("selectedrow"===c.editmode)return!0;if(c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),c._cancelkeydown=!1,c.editcell&&!c.editcell.validated)return c._rendervisualrows(),c.endcelledit(c.editcell.row,c.editcell.column,!1,!0),!1}if("none"==c.selectionmode)return!0;if(c.showfilterrow&&c.filterable&&this.filterrow&&a(b.target).ischildof(c.filterrow))return!0;if(c.showeverpresentrow){if(c.addnewrowtop&&a(b.target).ischildof(c.addnewrowtop))return!0;if(c.addnewrowbottom&&a(b.target).ischildof(c.addnewrowbottom))return!0}if(b.target.className&&b.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(c.pageable&&a(b.target).ischildof(this.pager))return!0;if(this.showtoolbar&&a(b.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&a(b.target).ischildof(this.statusbar))return!0;var e=!1;if(b.altKey)return!0;if((b.ctrlKey||b.metaKey)&&this.clipboard){var f=String.fromCharCode(d).toLowerCase();if(this.clipboardbegin){var g=null;if("c"==f?g=this.clipboardbegin("copy",this.copyselection()):"x"==f?g=this.clipboardbegin("cut",this.copyselection()):"v"==f&&(g=this.clipboardbegin("paste")),g===!1)return!1}if("c"==f||this.editable&&"x"==f){var h=this.copyselection();if("c"==f&&this.clipboardend&&this.clipboardend("copy"),"x"==f&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",h);else{var i=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');i.val(h),a("body").append(i),i.select(),setTimeout(function(){document.designMode="off",i.select(),i.remove(),c.focus()},100)}if("c"==f&&a.jqx.browser.msie)return!1;if("c"==f)return!0}else if("v"==f){var j=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');a("body").append(j),j.select();var k=this;return setTimeout(function(){k._clipboardselection=new Array;var a=j.val();if(0==a.length&&window.clipboardData){j.val(window.clipboardData.getData("Text"));var a=j.val()}for(var b=a.split("\n"),c=0;c<b.length;c++)if(b[c].split("\t").length>0){var d=b[c].split("\t");if(1==d.length&&c==b.length-1&&""==d[0])continue;d.length>0&&k._clipboardselection.push(d)}k.editable&&k.pasteselection(),j.remove(),k.focus()},100),!0}if(this.editable&&"x"==f)return this.deleteselection(),this.host.focus(),!1}var l=Math.round(c._gettableheight()),m=Math.round(l/c.rowsheight),n=c.getdatainformation();switch(c.selectionmode){case"singlecell":case"checkboxextended":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var o=c.getselectedcell();if(null!=o){var p=this.getrowvisibleindex(o.rowindex),q=p,r=o.datafield,s=c._getcolumnindex(r),t=(c.columns.records.length,function(a,d,f,g){var h=function(a,b){var d=c.dataview.loadedrecords[a];if(c.groupable&&c.groups.length>0){var h=a;"up"==g&&h++,"down"==g&&h--;for(var d=c.getdisplayrows()[h],i=function(a){return!!a.group&&(c.expandedgroups[a.uniqueid]?c.expandedgroups[a.uniqueid].expanded:void 0)},j=1,k=!0;k&&j<300&&(k=!1,"down"==g?d=c.getdisplayrows()[h+j]:"up"==g&&(d=c.getdisplayrows()[h-j]),d);){d&&d.group&&(k=!0);for(var l=d.parentItem;l;)l&&!i(l)&&(k=!0),l=l.parentItem;if(!k)break;j++}if(300==j&&(d=null),c.pageable){var m=!1;if(d){for(var n=0;n<c.dataview.rows.length;n++)c.dataview.rows[n].boundindex==d.boundindex&&(m=!0);m||(d=null)}}}if(void 0!=d&&null!=b){(f||void 0==f)&&c.clearselection();var o=c.getboundindex(d);return c.selectcell(o,b),c._oldselectedcell=c.selectedcell,e=!0,c.ensurecellvisible(a,b),!0}return!1};h(a,d)||(c.ensurecellvisible(a,d),h(a,d),c.virtualmode&&c.host.focus());var i=c.groupable&&c.groups.length>0;if(!i)if(b.shiftKey&&9!=b.keyCode){if(("multiplecellsextended"==c.selectionmode||"multiplecellsadvanced"==c.selectionmode||"checkboxextended"==c.selectionmode)&&c._lastClickedCell){c._selectpath(a,d);var j=c.dataview.loadedrecords[a],k=c.getboundindex(j);return void(c.selectedcell={rowindex:k,datafield:d})}}else b.shiftKey||(c._lastClickedCell={row:a,column:d})}),u=b.shiftKey&&"singlecell"!=c.selectionmode&&"multiplecells"!=c.selectionmode,v=function(){t(0,r,!u)},w=function(){var a=n.rowscount-1;t(a,r,!u)},x=9==d&&!b.shiftKey,y=9==d&&b.shiftKey;if(c.rtl){var z=x;x=y,y=z}if((x||y)&&(u=!1),(x||y)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;var A=b.ctrlKey||b.metaKey;if(A&&37==d){var B=c._getfirstvisiblecolumn(s);null!=B&&t(q,B.datafield)}else if(A&&39==d){var C=c._getlastvisiblecolumn(s);null!=C&&t(q,C.datafield)}else if(39==d||x){var D=c._getnextvisiblecolumn(s);if(null!=D)t(q,D.datafield,!u);else if(x){var E=c._getfirstvisiblecolumn();"checkboxextended"==c.selectionmode&&(E=c._getnextvisiblecolumn(c._getcolumnindex(E.datafield))),d=40,r=E.displayfield}else e=!0}else if(37==d||y){var B=c._getprevvisiblecolumn(s);if("checkboxextended"==c.selectionmode&&B.checkboxcolumn&&(B=null),null!=B)t(q,B.datafield,!u);else if(y){var F=c._getlastvisiblecolumn();d=38,r=F.displayfield}else e=!0}else if(36==d)v();else if(35==d)w();else if(33==d)if(q-m>=0){var G=q-m;t(G,r,!u)}else v();else if(34==d)if(n.rowscount>q+m){var G=q+m;t(G,r,!u)}else w();38==d&&(A?v():q>0?t(q-1,r,!u,"up"):e=!0),40==d&&(A?w():n.rowscount>q+1||c.groupable&&c.groups.length>0?t(q+1,r,!u,"down"):e=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var q=c.getselectedrowindex();if(null==q||q==-1)return!0;q=this.getrowvisibleindex(q);var H=function(a,f,g){var h=function(a){var b=c.dataview.loadedrecords[a];if(c.groupable&&c.groups.length>0){"up"==g&&a++,"down"==g&&a--;for(var b=c.getdisplayrows()[a],d=function(a){return!!a.group&&(c.expandedgroups[a.uniqueid]?c.expandedgroups[a.uniqueid].expanded:void 0)},h=1,i=!0;i&&h<300&&(i=!1,"down"==g?b=c.getdisplayrows()[a+h]:"up"==g&&(b=c.getdisplayrows()[a-h]),b);){b&&b.group&&(i=!0);for(var j=b.parentItem;j;)j&&!d(j)&&(i=!0),j=j.parentItem;if(!i)break;h++}if(300==h&&(b=null),c.pageable){var k=!1;if(b){for(var l=0;l<c.dataview.rows.length;l++)c.dataview.rows[l].boundindex==b.boundindex&&(k=!0);k||(b=null)}}}if(void 0!=b){var m=c.getboundindex(b),n=c.selectedrowindex;(f||void 0==f)&&c.clearselection(),c.selectedrowindex=n,c.selectrow(m,!1);var o=c.ensurerowvisible(a);return(!o||c.autoheight||c.groupable)&&c._rendervisualrows(),e=!0,!0}return!1};h(a)||(c.ensurerowvisible(a),h(a,f),c.virtualmode&&setTimeout(function(){h(a,f)},25),c.virtualmode&&c.host.focus());var i=c.groupable&&c.groups.length>0;if(!i)if(b.shiftKey&&9!=d){if("multiplerowsextended"==c.selectionmode&&c._lastClickedCell)return c._selectrowpath(a),void(c.selectedrowindex=c.getrowboundindex(a))}else b.shiftKey||(c._lastClickedCell={row:a},c.selectedrowindex=c.getrowboundindex(a))},u=b.shiftKey&&"singlerow"!=c.selectionmode&&"multiplerows"!=c.selectionmode,v=function(){H(0,!u)},w=function(){var a=n.rowscount-1;H(a,!u)},A=b.ctrlKey||b.metaKey;if(36==d||A&&38==d)v();else if(35==d||A&&40==d)w();else if(33==d)if(q-m>=0){var G=q-m;H(G,!u)}else v();else if(34==d)if(n.rowscount>q+m){var G=q+m;H(G,!u)}else w();else 38==d?q>0?H(q-1,!u,"up"):e=!0:40==d&&(n.rowscount>q+1||c.groupable&&c.groups.length>0?H(q+1,!u,"down"):e=!0)}return!e||(c.autosavestate&&c.savestate&&c.savestate(),!1)},_handlemousemove:function(b,c){if(!c.vScrollInstance.isScrolling()&&!c.hScrollInstance.isScrolling()){var d,e,f,g,h;if(c.enablehover||"multiplerows"==c.selectionmode){d=this.showheader?this.columnsheader.height()+2:0,e=this._groupsheader()?this.groupsheader.height():0;var i=this.showtoolbar?this.toolbarheight:0;if(e+=i,f=this.host.coord(),this.hasTransform){f=a.jqx.utilities.getOffset(this.host);var j=this._getBodyOffset();f.left-=j.left,f.top-=j.top}g=b.pageX-f.left,h=b.pageY-d-f.top-e}if("multiplerowsextended"!=c.selectionmode&&"multiplecellsextended"!=c.selectionmode&&"multiplecellsadvanced"!=c.selectionmode&&"checkboxextended"!=c.selectionmode||1!=c.mousecaptured){if(!c.enablehover)return!0;if(!c.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var k=this._hittestrow(g,h);if(k){var l=k.row,m=k.index;if((this.hoveredrow==-1||m==-1||this.hoveredrow!=m||this.selectionmode.indexOf("cell")!=-1||this.selectionmode.indexOf("checkbox")!=-1)&&(this._clearhoverstyle(),m!=-1&&void 0!=l)){var n=this.hittestinfo[m].visualrow;if(null!=n&&!(this.hittestinfo[m].details||b.clientX>a(n).width()+a(n).coord().left)){var o=0,p=n.cells.length;if(c.rowdetails&&c.showrowdetailscolumn?this.rtl?(p-=1,p-=this.groups.length):o=1+this.groups.length:this.groupable&&(this.rtl?p-=this.groups.length:o=this.groups.length),0!=n.cells.length){var q=n.cells[o].className;if(!(l.group||this.selectionmode.indexOf("row")>=0&&q.indexOf("jqx-grid-cell-selected")!=-1))if(this.hoveredrow=m,this.selectionmode.indexOf("cell")==-1&&this.selectionmode.indexOf("checkbox")==-1)for(var r=o;r<p;r++){
var s=n.cells[r];a(s).addClass(this.toTP("jqx-grid-cell-hover")),a(s).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(s,b.pageX,b.pageY)}else{var t=-1,u=this.hScrollInstance,v=u.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(v=u.max-u.value);for(var r=o;r<p;r++){var w=parseInt(a(this.columnsrow[0].cells[r]).css("left"))-v;this.columns.records[r].pinned&&!this.rtl&&(w=parseInt(a(this.columnsrow[0].cells[r]).css("left")));var x=w+a(this.columnsrow[0].cells[r]).width();if(x>=g&&g>=w){t=r;break}}if(t!=-1){var s=n.cells[t];if(this.cellhover&&this.cellhover(s,b.pageX,b.pageY),s.className.indexOf("jqx-grid-cell-selected")==-1){if(this.editcell){var y=this._getcolumnat(t);if(y&&this.editcell.row==m&&this.editcell.column==y.datafield)return}"checkboxextended"==this.selectionmode&&0==t||(a(s).addClass(this.toTP("jqx-grid-cell-hover")),a(s).addClass(this.toTP("jqx-fill-state-hover")))}}}}}}}}}}}})}(jqxBaseFramework,A),function(a){a.jqx.dataview.sort=function(){this.sortby=function(b,c,d){var e=Object.prototype.toString;if(null==b||null==c)return this.sortdata=null,this.sortcache={},this.grid._pagescache=new Array,this.grid._cellscache=new Array,void this.refresh();void 0==c&&(c=!0),c="a"==c||"asc"==c||"ascending"==c||1==c;var f=b;this.sortfield=b,this.sortfielddirection=c?"asc":"desc",void 0==this.sortcache&&(this.sortcache={}),this.sortdata=[];var g=[],h=!1;if("constructor"==f&&(f=""),!this.virtualmode&&null!=this.sortcache[f]){var i=this.sortcache[f];g=i._sortdata,i.direction==c?g.reverse():(!i.direction&&c&&g.reverse(),h=!0),g.length<this.totalrecords&&(this.sortcache={},h=!1,g=[])}Object.prototype.toString="function"==typeof b?b:function(){return this[b]};var j=this.records,k=(this.that,"");if(this.source.datafields&&a.each(this.source.datafields,function(){if(this.name==b)return this.type&&(k=this.type),!1}),0==g.length)if(j.length)for(var l=j.length,m=0;m<l;m++){var n=j[m];if(null!=n){var o=n,p=o.toString();g.push({sortkey:p,value:o,index:m})}}else{var q=!1;for(var r in j){var n=j[r];if(void 0==n){q=!0;break}var o=n;g.push({sortkey:o.toString(),value:o,index:r})}q&&a.each(j,function(a,b){g.push({sortkey:b.toString(),value:b,index:a})})}if(!h)if(null==d){this._sortcolumntype=k;var s=this;g.sort(function(a,b){return s._compare(a,b,k)})}else g.sort(d);c||g.reverse(),Object.prototype.toString=e,this.sortdata=g,this.sortcache[f]={_sortdata:g,direction:c},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(b,c,d){var b=b.sortkey,c=c.sortkey;if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return-1;if(null!==b&&null===c)return 1;if(a.jqx.dataFormat)if(d&&""!=d)switch(d){case"number":case"int":case"float":return b<c?-1:b>c?1:0;case"date":case"time":return b<c?-1:b>c?1:0;case"string":case"text":b=String(b).toLowerCase(),c=String(c).toLowerCase()}else{if(a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return b<c?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return b<c?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase())}try{if(b<c)return-1;if(b>c)return 1}catch(e){}return 0},this._equals=function(a,b){return 0===this._compare(a,b)}},a.extend(a.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var b=this.that,c=this.getsortcolumn();if(this.sortdirection){var d=function(c,d){var e=b.getcolumn(c);e&&(d.ascending?a.jqx.aria(e.element,"aria-sort","ascending"):d.descending?a.jqx.aria(e.element,"aria-sort","descending"):a.jqx.aria(e.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&d(this._oldsortinfo.column,{ascending:!1,descending:!1}),d(c,this.sortdirection)}this._oldsortinfo={column:c,direction:this.sortdirection},this.sortdirection&&a.each(this.columns.records,function(d,e){var f=a.data(document.body,"groupsortelements"+this.displayfield);null==c||this.displayfield!=c?(a(this.sortasc).hide(),a(this.sortdesc).hide(),null!=f&&(f.sortasc.hide(),f.sortdesc.hide())):b.sortdirection.ascending?(a(this.sortasc).show(),a(this.sortdesc).hide(),null!=f&&(f.sortasc.show(),f.sortdesc.hide())):(a(this.sortasc).hide(),a(this.sortdesc).show(),null!=f&&(f.sortasc.hide(),f.sortdesc.show()))})},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(a,b,c,d,e){if(this._loading&&e!==!1)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==a&&(b=null,a=this.sortcolumn),void 0!=a){var f=this.that;if(void 0==c&&null!=f.source.sortcomparer&&(c=f.source.sortcomparer),"a"==b||"asc"==b||"ascending"==b||1==b?ascending=!0:ascending=!1,null!=b?f.sortdirection={ascending:ascending,descending:!ascending}:f.sortdirection={ascending:!1,descending:!1},null!=b?f.sortcolumn=a:f.sortcolumn=null,f.source.sort||f.virtualmode){if(f.dataview.sortfield=a,null==b?f.dataview.sortfielddirection="":f.dataview.sortfielddirection=ascending?"asc":"desc",f.source.sort&&!this._loading)return f.source.sort(a,b),void f._raiseEvent(6,{sortinformation:f.getsortinformation()})}else f.dataview.sortby(a,b,c);if(d===!1)return;f.groupable&&f.groups.length>0?(f._render(!0,!1,!1),f._updategroupheadersbounds&&f.showgroupsheader&&f._updategroupheadersbounds(),f._postrender("sort")):(f.pageable&&f.dataview.updateview(),f._updaterowsproperties(),f.rendergridcontent(!0),f._postrender("sort")),f._raiseEvent(6,{sortinformation:f.getsortinformation()})}},_togglesort:function(a){var b=this.that;if(!this.disabled&&a.sortable&&b.sortable){var c=b.getsortinformation(),d=null;null!=c.sortcolumn&&c.sortcolumn==a.displayfield?(d=c.sortdirection.ascending,d=b.sorttogglestates>1?1!=d&&null:!d):d=!0,b.sortby(a.displayfield,d,null)}}})}(jqxBaseFramework),function(a){a.extend(a.jqx._jqxGrid.prototype,{savestate:function(b){var c=this.getstate();return void 0===b||a.isEmptyObject(b)||(b.indexOf("sort")==-1&&(delete c.sortcolumn,delete c.sortdirection),b.indexOf("pager")==-1&&(delete c.pagenum,delete c.pagesizeoptions,delete c.pagesize),b.indexOf("selection")==-1&&(delete c.selectedcells,delete c.selectedrowindexes,delete c.selectedrowindex),b.indexOf("grouping")==-1&&delete c.groups,b.indexOf("filter")==-1&&delete c.filters,a.each(this.columns.records,function(a){var d=c.columns[this.datafield];b.indexOf("hidden_columns")==-1&&delete d.hidden,b.indexOf("reorder")==-1&&delete d.index,b.indexOf("columns_width")==-1&&delete d.width,b.indexOf("columns_text")==-1&&delete d.text,b.indexOf("alignment")==-1&&(delete d.align,delete d.cellsalign)})),window.localStorage&&(window.localStorage["jqxGrid"+this.element.id]=this._stringify(c)),this._savedstate=c,c},loadstate:function(b,c){var d="";if(void 0!=b&&void 0!=b.width)d=b;else if(window.localStorage){var e=window.localStorage["jqxGrid"+this.element.id];if(e)var d=a.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var d=this._savedstate;if(null!=d&&""!==d){(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&this.source.beginUpdate();var f=d;if(void 0!==f.width&&(this.width=f.width),void 0!==f.height&&(this.height=f.height),this.pageable&&(void 0!=f.pagesize&&(this.pagesize=f.pagesize,this.dataview.pagesize=f.pagesize),void 0!=f.pagenum&&(this.dataview.pagenum=f.pagenum),void 0!=f.pagesizeoptions&&(this.pagesizeoptions=f.pagesizeoptions),this.pagesizeoptions)){for(var g=0,h=0;h<this.pagesizeoptions.length;h++)this.pagesize>=this.pagesizeoptions[h]&&(g=h);this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList({selectedIndex:g})}if(this.sortable)if(this._loading&&(this._loading=!1),f.sortdirection){if(f.sortdirection.ascending||f.sortdirection.descending){this.dataview.sortfield=f.sortcolumn;var i=f.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=i,this.source.sortcolumn=f.sortcolumn,this.source.sortdirection=i,this.sortby(f.sortcolumn,i)}}else null==this.dataview.sortfield||"asc"!=this.dataview.sortfielddirection&&"desc"!=this.dataview.sortfielddirection||this.sortby(this.dataview.sortfield,null);this.groupable&&f.groups&&(this.dataview.groups=f.groups,this.groups=f.groups),this.loadingstate=!0,this.virtualsizeinfo&&this._loadselectionandcolumnwidths(f),this.loadingstate=!1,(this.virtualmode||this.source._source.url&&""!=this.source._source.url)&&(1==c?this.source.endUpdate(!1):(this.source.endUpdate(!1),(this.virtualmode||this.source._source.filter||this.source._source.sort)&&this.updatebounddata("state")))}},_loadselectionandcolumnwidths:function(b){this.loadingstate=!0;var c="";if(void 0!=b&&void 0!=b.width)c=b;else if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id])var c=a.parseJSON(window.localStorage["jqxGrid"+this.element.id])}else if(this._savedstate)var c=this._savedstate;if(null!=c&&""!=c){var d=this._loading;this._loading=!1;var e=c,f=this,g=!1,h=[];h.length=0;if(a.each(this.columns.records,function(a){var b=e.columns[this.datafield];if(void 0!=b){if(this.text!=b.text&&(g=!0),this.hidden!=b.hidden&&(g=!0),void 0!==b.width&&(this.width=b.width,this._width&&(this._width=null),this._percentagewidth&&(this._percentagewidth=null)),void 0!==b.hidden&&(this.hidden=b.hidden),void 0!==b.pinned&&(this.pinned=b.pinned),void 0!==b.groupable&&(this.groupable=b.groupable),void 0!==b.resizable&&(this.resizable=b.resizable),this.draggable=b.draggable,void 0!==b.text&&(this.text=b.text),void 0!==b.align&&(this.align=b.align),void 0!==b.cellsalign&&(this.cellsalign=b.cellsalign),f._columns)for(var c=0;c<f._columns.length;c++)f._columns[c].datafield==this.datafield&&(void 0!==b.hidden&&(f._columns[c].hidden=b.hidden),void 0!==b.width&&(f._columns[c].width=b.width));void 0!==b.index&&(h[this.datafield]=b.index,h.length++)}}),h.length>0){if(this.setcolumnindex){var i=this.rowdetails?1:0;i+=this.groupable?this.groups.length:0;for(var j=new Array,k=0;k<this.columns.records.length;k++)j.push(this.columns.records[k]);for(var l=0,m=new Array,k=0;k<j.length;k++){var n=j[k],o=h[n.datafield];if(this.groupable&&n.grouped)l++;else if(0==k&&this.rowdetails)l++;else if(k!==o||this.groupable||this.rowdetails){var p=l+o;m.push({column:n,key:p})}}m.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0}),m.reverse(),a.each(m,function(a,b){var c=this.key;f.setcolumnindex(this.column.datafield,c,!1)})}this.prerenderrequired=!0,this.groupable&&this._refreshdataview(),this.rendergridcontent(!0),this._updatefilterrowui&&this.filterable&&this.showfilterrow&&this._updatefilterrowui(),this._renderrows(this.virtualsizeinfo)}if(this.filterable&&void 0!==e.filters){this.clearfilters&&(this._loading=!1,this.clearfilters(!1));for(var q="",r=new a.jqx.filter,k=0;k<e.filters.filterscount;k++){var s=e.filters["filtercondition"+k],t=e.filters["filterdatafield"+k],n=this.getcolumn(t);if(t!=q&&(r=new a.jqx.filter),q=t,n&&n.filterable){var u=e.filters["filtervalue"+k],v=e.filters["filteroperator"+k],w=e.filters["filtertype"+k];if("datefilter"==w)var x=r.createfilter(w,u,s,null,n.cellsformat,this.gridlocalization);else var x=r.createfilter(w,u,s);if(r.addfilter(v,x),this.showfilterrow){var y=n._filterwidget,z=n._filterwidget.parent();if(null!=y)switch(n.filtertype){case"number":if(z.find("input").val(u),this.host.jqxDropDownList){var A=r.getoperatorsbyfiltertype("numericfilter");y.find(".filter").jqxDropDownList("selectIndex",A.indexOf(s))}break;case"date":this.host.jqxDateTimeInput?a(z.children()[0]).jqxDateTimeInput("setDate",u):y.val(u);break;case"range":if(this.host.jqxDateTimeInput){var B=e.filters["filtervalue"+(k+1)],w=e.filters["filtertype"+k],x=r.createfilter(w,B,"LESS_THAN_OR_EQUAL");r.addfilter(v,x);var C=new Date(u),D=new Date(B);isNaN(C)&&(C=a.jqx.dataFormat.tryparsedate(u)),isNaN(D)&&(D=a.jqx.dataFormat.tryparsedate(u)),a(z.children()[0]).jqxDateTimeInput("setRange",C,D),k++}else y.val(u);break;case"textbox":case"default":y.val(u),f["_oldWriteText"+y[0].id]=u;break;case"list":if(this.host.jqxDropDownList){var E=a(z.children()[0]).jqxDropDownList("getItems"),o=-1;a.each(E,function(a){if(this.value==u)return o=a,!1}),a(z.children()[0]).jqxDropDownList("selectIndex",o)}else y.val(u);break;case"checkedlist":this.host.jqxDropDownList||y.val(u);break;case"bool":case"boolean":this.host.jqxCheckBox?a(z.children()[0]).jqxCheckBox({checked:u}):y.val(u)}}this.addfilter(t,r)}}e.filters&&e.filters.filterscount>0&&(this.applyfilters(),this.showfilterrow&&a.each(this.columns.records,function(){if("checkedlist"==this.filtertype&&this.filterable&&f.host.jqxDropDownList){var b=this,c=b._filterwidget,d=(c.jqxDropDownList("getItems"),c.jqxDropDownList("listBox"));if(d.checkAll(!1),b.filter){d.uncheckAll(!1);for(var e=b.filter.getfilters(),g=0;g<d.items.length;g++){var h=d.items[g].label;a.each(e,function(){return"NOT_EQUAL"==this.condition||void(h==this.value&&d.checkIndex(g,!1,!1))})}d._updateCheckedItems();var i=d.getCheckedItems().length;d.items.length!=i&&i>0&&d.host.jqxListBox("indeterminateIndex",0,!0,!1)}}})),this.pageable&&void 0!==e.pagenum&&(this.gotopage&&!this.virtualmode?(this.dataview.pagenum=-1,this.gotopage(e.pagenum)):this.gotopage&&this.virtualmode&&this.gotopage(e.pagenum))}if(e.selectedrowindexes&&e.selectedrowindexes&&e.selectedrowindexes.length>0&&(this.selectedrowindexes=e.selectedrowindexes,this.selectedrowindex=e.selectedrowindex,"checkbox"===this.selectionmode&&this._updatecheckboxselection()),e.selectedcells&&this._applycellselection&&a.each(e.selectedcells,function(){f._applycellselection(this.rowindex,this.datafield,!0,!1)}),this.groupable&&void 0!==e.groups)return this._refreshdataview(),this.render(),this._loading=d,void(this.loadingstate=!1);if(g){if(this.prerenderrequired=!0,this.rendergridcontent(!0),this._loading=d,this.loadingstate=!1,this.updating())return!1}else this._loading=d,this._updatecolumnwidths(),this._updatecellwidths(),this.loadingstate=!1;this.loadingstate=!1,this._loading=d,this._renderrows(this.virtualsizeinfo)}this.loadingstate=!1},getstate:function(){var b=this.getdatainformation(),c={};if(c.width=this.width,c.height=this.height,c.pagenum=b.paginginformation.pagenum,c.pagesize=b.paginginformation.pagesize,c.pagesizeoptions=this.pagesizeoptions,c.sortcolumn=b.sortinformation.sortcolumn,c.sortdirection=b.sortinformation.sortdirection,null!=this.selectionmode&&this.getselectedcells)if(this.selectionmode.toString().indexOf("cell")!=-1){var d=this.getselectedcells(),e=new Array;a.each(d,function(){e.push({datafield:this.datafield,rowindex:this.rowindex})}),c.selectedcells=e}else{var f=this.getselectedrowindexes();c.selectedrowindexes=f,c.selectedrowindex=this.selectedrowindex}var g={},h=0;if(this.dataview.filters)for(var i=0;i<this.dataview.filters.length;i++){var j=this.dataview.filters[i].datafield,k=this.dataview.filters[i].filter,l=k.getfilters();g[j+"operator"]=k.operator;for(var m=0;m<l.length;m++){if(l[m].datafield=j,"datefilter"==l[m].type)if(l[m].value&&l[m].value.toLocaleString){var n=this.getcolumn(l[m].datafield);if(n.cellsformat){var o=this.source.formatDate(l[m].value,n.cellsformat,this.gridlocalization);o?g["filtervalue"+h]=o:g["filtervalue"+h]=l[m].value.toLocaleString()}else g["filtervalue"+h]=l[m].value.toLocaleString()}else g["filtervalue"+h]=l[m].value;else g["filtervalue"+h]=l[m].value;g["filtercondition"+h]=l[m].condition,g["filteroperator"+h]=l[m].operator,g["filterdatafield"+h]=j,g["filtertype"+h]=l[m].type,h++}}g.filterscount=h,c.filters=g,c.groups=this.groups,c.columns={};var p=0;return this.columns.records&&a.each(this.columns.records,function(a,b){if(!this.datafield)return!0;var d={};d.width=this.width,d.hidden=this.hidden,d.pinned=this.pinned,d.groupable=this.groupable,d.resizable=this.resizable,d.draggable=this.draggable,d.text=this.text,d.align=this.align,d.cellsalign=this.cellsalign,d.index=p++,c.columns[this.datafield]=d}),c},_stringify:function(a){if(window.JSON&&"function"==typeof window.JSON.stringify){var b=this,c="";try{c=window.JSON.stringify(a)}catch(d){return b._str("",{"":a})}return c}var c=this._str("",{"":a});return c},_quote:function(a){var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+a.replace(b,function(a){var b=c[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(a){for(var b,c=a.length,d=[],b=0;b<c;b++)d.push(this._str(b,a)||"null");return"["+d.join(",")+"]"},_stringifyObject:function(a){var b,c,d=[],e=this;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c=e._str(b,a),c&&d.push(e._quote(b)+":"+c));return"{"+d.join(",")+"}"},_stringifyReference:function(a){switch(Object.prototype.toString.call(a)){case"[object Array]":return this._stringifyArray(a)}return this._stringifyObject(a)},_stringifyPrimitive:function(a,b){switch(b){case"string":return this._quote(a);case"number":return isFinite(a)?a:"null";case"boolean":return a}return"null"},_str:function(a,b){var c=b[a],d=typeof c;return c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(a),d=typeof c),/(number|string|boolean)/.test(d)||!c&&"object"===d?this._stringifyPrimitive(c,d):this._stringifyReference(c)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxInput","",{}),a.extend(a.jqx._jqxInput.prototype,{defineInstance:function(){var b=this,c={disabled:!1,filter:b._filter,sort:b._sort,highlight:b._highlight,dropDownWidth:null,renderer:b._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2e4,items:8,minLength:1,maxLength:null,clearButtonTarget:null,_$clearButton:null,readonly:!1};return a.extend(!0,this,c),c},createInstance:function(){var b=this;if("none"!==b.host.css("display")&&document.body.contains(b.element)!==!1||(b._initiallyHidden=!0),b._popupHelper=a(b.$popup),b.render(),this.$dataBinders$)for(var c in this.$dataBinders$){var d=this.$dataBinders$[c];if(d){var e=this.bindDataBinder(c);d.unbindCallbackFunc(this.element.id),d.bindCallbackFunc(this.element.id,e),d.dataBind()}}},render:function(){var b=this;if(this.clearButtonTarget){var c=a(this.clearButtonTarget,this.host);c.size()>0&&(this._$clearButton=a(c[0]),this._$clearButton.addClass("aui-input-clear-normal"),this._addClearButtonEvent(),this._hideClearButton())}if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var d=b.element.getElementsByTagName("input"),e=!1;if(a.each(d,function(){var b=this.type;if(null==b||"text"===b||"textarea"===b)return d=a(this),e=!0,!1}),!e)throw new Error("jqxInput: Missing Text Input in the Input Group");if(d.length>0){this.baseHost=a(this.element),b.baseElement=b.element;var f=this.host.data();this.host=d,this.element=d[0],this.host.data(f),b.baseElement.className+=" "+b.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group");var g=this.baseHost.children();a.each(g,function(c){var d="jqx-input-group-addon";a(this).removeClass(b.toThemeProperty("jqx-rc-all")),0===c&&(d+=" jqx-rc-l"),c===g.length-1&&(d+=" jqx-rc-r"),this==b.element||b._$clearButton?b._$clearButton&&this!=b.element&&this!=b._$clearButton[0]&&(d+=" jqx-fill-state-normal"):d+=" jqx-fill-state-normal",this.className+=" "+b.toThemeProperty(d)})}}this.addHandlers(),this.rtl&&(b.element.className+=" "+b.toThemeProperty("jqx-rtl")),b.element.setAttribute("role","textbox"),a.jqx.aria(this,"aria-autocomplete","both"),a.jqx.aria(this,"aria-disabled",this.disabled),a.jqx.aria(this,"aria-readonly",!1),a.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&a.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},bindDataBinder:function(a){var b=this;b.baseHost?b.baseHost.id:b.element.id;if("value"==a)return function(a){var c,d=arguments[1];"update"==a?(c=void 0==d.value?"":d.value,b.val(c)):"load"==a&&(c=void 0==d.records?"":d.records,b.element.value=c)}},_updateSource:function(){var b=this,c=function(a){if(void 0===a)return null;if("string"==typeof a||a instanceof String)return{label:a,value:a};if("string"!=typeof a&&a instanceof String==!1){var c="",d="";return""!==b.displayMember&&void 0!==b.displayMember&&a[b.displayMember]&&(c=a[b.displayMember]),""!==b.valueMember&&void 0!==b.valueMember&&(d=a[b.valueMember]),""===c&&(c=a.label),""===d&&(d=a.value),{label:c,value:d}}return a},d=function(a){for(var b=[],d=0;d<a.length;d++)b[d]=c(a[d]);return b};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){b.source=d(b.adapter.records)});else{var e={};this.adapter._options.data?a.extend(b.adapter._options.data,e):(this.source._source.data&&a.extend(e,this.source._source.data),this.adapter._options.data=e),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){b.source=d(b.adapter.records)})}return void this.source.dataBind()}a.isFunction(this.source)||(this.source=d(this.source))},_refreshClasses:function(b){var c=b?"addClass":"removeClass",d="jqx-widget-content jqx-input jqx-widget",e="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";a.jqx.browser.msie&&(e+=" jqx-noshadow"),this.roundedCorners&&(d+=" jqx-rc-all",e+=" jqx-rc-all"),this.disabled?d+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.readonly?d+=" aui-fill-state-readonly":this.host.removeClass(this.toThemeProperty("aui-fill-state-readonly")),this.host[c](this.toThemeProperty(d)),this._popupHelper[c](this.toThemeProperty(e))},selectAll:function(){var a=this.host;setTimeout(function(){if("selectionStart"in a[0])a[0].focus(),a[0].setSelectionRange(0,a[0].value.length);else{var b=a[0].createTextRange();b.collapse(!0),b.moveEnd("character",a[0].value.length),b.moveStart("character",0),b.select()}},10)},selectLast:function(){var a=this.host;this.selectStart(a[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(a){var b=this.host;setTimeout(function(){if("selectionStart"in b[0])b[0].focus(),b[0].setSelectionRange(a,a);else{var c=b[0].createTextRange();c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select()}},10)},focus:function(){try{var a=this;a.element.focus(),setTimeout(function(){a.element.focus()},25)}catch(b){}},resize:function(a,b){this.width=a,this.height=b,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height&&(this.baseElement.style.height=this._toPx(this.height));var b=this,c=a.jqx.browser.msie&&a.jqx.browser.version<9,d=0;if(a.each(this.baseHost.children(),function(){this.style.height="100%",this===b.element||b._$clearButton?b._$clearButton&&this!==b.element&&this!==b._$clearButton[0]&&(d+=a(this).outerWidth(),a(this).css("width",a(this).outerWidth()+"px")):d+=a(this).outerWidth()+2}),b._addonsWidth=d,c){var e=Math.max(0,b.baseElement.offsetHeight-2);b.element.style.width=Math.max(0,b.baseElement.offsetWidth-d-1)+"px",b.element.style.minHeight=e+"px",b.element.style.lineHeight=e+"px"}else b.element.style.width="calc(100% - "+d+"px)";a.jqx.utilities.resize(b.baseHost,function(){if(c&&"string"==typeof b.width&&b.width.indexOf("%")!==-1&&!b._initiallyHidden)b.element.style.width=b.baseElement.offsetWidth-b._addonsWidth-1+"px";else if(b._initiallyHidden){if(b._addonsWidth=b._getAddonsWidth(),c){b.element.style.width=b.baseElement.offsetWidth-b._addonsWidth-1+"px";var a=b.baseElement.offsetHeight-2;b.element.style.minHeight=a+"px",b.element.style.lineHeight=a+"px"}else b.element.style.width="calc(100% - "+b._addonsWidth+"px)";b._initiallyHidden=!1}})}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height)),this._$clearButton&&this._$clearButton.css("height",this.height);this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.readonly?this.element.setAttribute("readonly",!0):this.element.removeAttribute("readonly"),this.maxLength&&this.element.setAttribute("maxlength",this.maxLength),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){var b=this;"placeholder"in this.element&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)?b.element.setAttribute("placeHolder",b.placeHolder):""===b.element.value&&(b.element.value=b.placeHolder)},destroy:function(){this.clearButtonTarget&&this.removeHandler(a(document),"mousedown."+this.host.attr("id")),this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2===Object.keys(c).length&&a.refresh()},propertyChangedHandler:function(b,c,d,e){if("width"===c&&e!==d)return void(b.baseHost?(b.baseElement.style.width=b._toPx(e),a.jqx.browser.msie&&a.jqx.browser.version<9&&(b.element.style.width=b.baseElement.offsetWidth-b._addonsWidth-1+"px")):b.element.style.width=b._toPx(e));if("placeHolder"===c)return"placeholder"in b.element&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)||b.element.value!==d||(b.element.value=""),void b._refreshPlaceHolder();if(!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2===Object.keys(b.batchUpdate).length)){if("theme"===c&&a.jqx.utilities.setTheme(d,e,b.host),"opened"===c)return void(e?b.open():b.close());"source"===c&&(b._oldsource=e,b._updateSource()),"displayMember"!==c&&"valueMember"!==c||(b.source=b._oldsource,b._updateSource()),"disabled"===c&&a.jqx.aria(b,"aria-disabled",b.disabled),"value"===c&&(b.element.value=e),b.refresh()}},select:function(a,b,c){var d=this._find("jqx-fill-state-pressed",this._popupHelper),e=d.getAttribute("data-value"),f=d.getAttribute("data-name");return this.element.value=this.renderer(f,this.element.value),this.selectedItem={label:f,value:e},this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",f),this._raiseEvent("0",{item:{label:f,value:e},label:f,value:e}),this._raiseEvent("3",{type:c,item:{label:f,value:e},label:f,value:e}),this.value=f,this.close()},val:function(a){return 0===arguments.length||null!=a&&"object"==typeof a&&!a.label&&!a.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:(void 0!=a&&this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(a),a&&a.label?(this.selectedItem={label:a.label,value:a.value},this.element.setAttribute("data-value",a.value),this.element.setAttribute("data-label",a.label),this.value=a,this.element.value=a.label,this.element.value):(this.value=a,this.element.value=a,this.element.setAttribute("data-value",a),this.element.setAttribute("data-label",a),a&&a.label?this._raiseEvent("3",{type:null,item:{label:a.label,value:a.value},label:a.label,value:a.value}):this._raiseEvent("3",{type:null,item:{label:a,value:a},label:a,value:a}),this.element.value))},_raiseEvent:function(b,c){void 0===c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,e.args=c,e.preventDefault&&e.preventDefault();var f=this.host.trigger(e);return f},_renderer:function(a){return a},open:function(){if(!a.jqx.isHidden(this.host)){var b=a.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var c=this.element.id+"_popup";this.$popup.id=c,a.jqx.aria(this,"aria-owns",c),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(b.top+b.height),this.$popup.style.left=this._toPx(b.left),this.$popup.style.display="block";var d=0,e=this._popupHelper.children();return a.each(e,function(){d+=a(this).outerHeight()+1}),this.$popup.style.height=this._toPx(d),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!1),this},suggest:function(){var b;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(b=a.isFunction(this.source)?this.source(this.query,a.proxy(this.load,this)):this.source,b?this.load(b):this)},load:function(a){for(var b=this,c=[],d=0;d<a.length;d++){var e=a[d];b.filter(e)&&c.push(e)}return c=this.sort(c),c.length?this._render(c.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(b){var c=this.query,d=b;switch(null!=b.label?d=b.label:this.displayMember&&(d=b[this.displayMember]),this.searchMode){case"none":break;default:return a.jqx.string.containsIgnoreCase(d,c);case"contains":return a.jqx.string.contains(d,c);case"equals":return a.jqx.string.equals(d,c);case"equalsignorecase":return a.jqx.string.equalsIgnoreCase(d,c);case"startswith":return a.jqx.string.startsWith(d,c);case"startswithignorecase":return a.jqx.string.startsWithIgnoreCase(d,c);case"endswith":return a.jqx.string.endsWith(d,c);case"endswithignorecase":return a.jqx.string.endsWithIgnoreCase(d,c)}},_sort:function(a){for(var b=[],c=[],d=[],e=0;e<a.length;e++){var f=a[e],g=f;f.label?g=f.label:this.displayMember&&(g=f[this.displayMember]),0===g.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?b.push(f):g.toString().indexOf(this.query)>=0?c.push(f):g.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&d.push(f)}return b.concat(c,d)},_highlight:function(a){var b=this.query;b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var c=new RegExp("("+b+")","ig");return a.replace(c,function(a,b){return"<b>"+b+"</b>"})},_render:function(b){var c=this,d=c._popupHelper.children();if(d.length>0)for(var e=0;e<d.length;e++)a(d[e]).remove();var f=function(a,b){var d,e,f=a,g=document.createElement("li"),h=document.createElement("a");h.setAttribute("href","#"),g.appendChild(h),void 0!==a.value&&null!==a.value?void 0!==a.label&&null!==a.label?(d=a.label,e=a.value):(d=a.value,e=a.value):void 0!==a.label&&null!==a.label?(d=a.label,e=a.label):void 0!==c.displayMember&&""!==c.displayMember?(d=a[c.displayMember],e=a[c.valueMember]):(d=a,e=a),g.setAttribute("data-value",e),g.setAttribute("data-name",d),a.label?f=a.label:c.displayMember&&(f=a[c.displayMember]),h.innerHTML=c.highlight(f);var i="";c.rtl&&(i=" jqx-rtl"),0===b&&(i+=" jqx-fill-state-pressed"),g.className=c.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+i),c.$popup.appendChild(g),c.addHandler(g,"mouseenter",function(a){c.mouseenter(a)})},g=function(a){for(var b=0;b<a.length;b++)f(a[b],b)};return g(b),this.dropDownWidth?this.$popup.style.width=c._toPx(c.dropDownWidth):this.$popup.style.width=c._toPx(c.element.offsetWidth-6),this},next:function(){var b=this._find("jqx-fill-state-pressed",this._popupHelper),c=b.nextSibling;a(b).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c||(c=this.$popup.firstChild),c.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var b=this._find("jqx-fill-state-pressed",this._popupHelper),c=b.previousSibling;a(b).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c||(c=this.$popup.lastChild),c.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var a=this,b=".jqxInput"+a.element.id;a.addHandler(a.host,"focus"+b,function(){a.onFocus()}),a.addHandler(a.host,"blur"+b,function(){
a.onBlur()}),a.addHandler(a.host,"change"+b,function(b){if(!b.args){b.stopPropagation(),b.preventDefault();var c,d,e=a.val();e&&e.label?(c=e.label,d=e.val):(c=e,d=e),a._raiseEvent("3",{type:"keyboard",item:{label:c,value:d},label:c,value:d}),a.value=c}}),a.addHandler(a.host,"keypress"+b,function(b){a.keypress(b)}),a.addHandler(a.host,"keyup"+b,function(b){a.keyup(b)}),a.addHandler(a.host,"keydown"+b,function(b){a.keydown(b)}),a.addHandler(a.$popup,"mousedown"+b,function(b){a.click(b)})},removeHandlers:function(){var a=this,b=".jqxInput"+a.element.id;a.removeHandler(a.host,"change"+b),a.removeHandler(a.host,"focus"+b),a.removeHandler(a.host,"blur"+b),a.removeHandler(a.host,"keypress"+b),a.removeHandler(a.host,"keyup"+b),a.removeHandler(a.host,"keydown"+b),a.removeHandler(a.$popup,"mousedown"+b)},move:function(a){if(this.opened){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.shiftKey||(a.preventDefault(),this.prev());break;case 40:a.shiftKey||(a.preventDefault(),this.next())}a.stopPropagation()}},keydown:function(b){var c=[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,91,92,93,112,113,114,115,116,117,118,119,120,121,122,123,144,145];this._$clearButton&&!this.readonly&&(a.inArray(b.keyCode,c)==-1?this._showClearButton():8==b.keyCode&&1==this.host.val().length&&this._hideClearButton());var d=[40,38,9,13,27];this.suppressKeyPressRepeat=d.indexOf(b.keyCode)!==-1,this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(a,this,"keyboard");break;case 27:if(!this.opened)return;this.close();break;default:var b=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){b.suggest()},300)}a.stopPropagation(),a.preventDefault()},clear:function(){this.val("")},onBlur:function(){var b=this;setTimeout(function(){b.close()},150),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),"placeholder"in b.element&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)||""!==b.element.value&&b.element.value!==b.placeHolder||(b.element.value=b.placeHolder),b._$clearButton?(b.host.removeClass("aui-input-focus"),b.host.removeClass("aui-fill-state-readonly-focus"),b._$clearButton.addClass("aui-input-clear-normal"),b._$clearButton.removeClass("aui-input-clear-focus")):(b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.host.removeClass(b.toThemeProperty("aui-fill-state-readonly-focus"))),this.val(this.host.val())},onFocus:function(){var b=this;b.element.className+=" "+b.toThemeProperty("jqx-fill-state-focus"),"placeholder"in b.element&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)||b.element.value!==b.placeHolder||(b.element.value=""),b._$clearButton?(b.host.addClass("aui-input-focus"),b.host.addClass("aui-fill-state-readonly-focus"),b._$clearButton.removeClass("aui-input-clear-normal"),b._$clearButton.addClass("aui-input-clear-focus"),b.host.val().length>0&&!b.readonly&&b._showClearButton()):(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.host.addClass(b.toThemeProperty("aui-fill-state-readonly-focus")))},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(a,this,"mouse")},mouseenter:function(b){a(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),b.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(a){return"number"==typeof a?a+"px":a},_find:function(a,b){for(var c=b.children(),d=0;d<c.length;d++){var e=c[d];if(e.className.indexOf(a)!==-1)return e}},_getAddonsWidth:function(){for(var b=this,c=b.baseHost.children(),d=0,e=0;e<c.length;e++)c[e]!==b.element&&(d+=a(c[e]).outerWidth());return d},hide:function(){this.baseHost&&this.baseHost.css("display","none")},show:function(){this.baseHost&&this.baseHost.css("display","block")},_showClearButton:function(){this.host.addClass("aui-input"),this._$clearButton.show(),this._resizeInputBox()},_hideClearButton:function(){this.host.removeClass("aui-input"),this._$clearButton.css("display","none"),this._resizeInputBox()},_addClearButtonEvent:function(){var b=this;b._$clearButton.on("click",function(){b.clear(),b._hideClearButton()}),b.addHandler(a(document),"mousedown."+this.host.attr("id"),function(a){if(!b._$clearButton.is(":visible"))return!0;var c=b.host.offset(),d=c.top,e=d+b.host.outerHeight(),f=c.left,g=f+b.host.outerWidth()+b._$clearButton.outerWidth(),h=a.pageX,i=a.pageY;return h<f||h>g?(b._hideClearButton(),!0):!(i<d||i>e)||(b._hideClearButton(),!0)})},_resizeInputBox:function(){var b=this,c=0;b.baseHost&&(b.baseHost&&a.each(b.baseHost.children(),function(){b._$clearButton.is(":visible")?this!=b.element&&(c+=a(this).outerWidth()):this!==b.element&&this!==b._$clearButton[0]&&(c+=a(this).outerWidth())}),b.host.css("width",b.baseHost.width()-c+"px"))}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxKanban","",{}),a.extend(a.jqx._jqxKanban.prototype,{defineInstance:function(){var b={animationDelay:100,columnRenderer:null,columns:null,connectWith:null,headerWidth:30,headerHeight:30,height:400,handle:null,itemRenderer:null,ready:null,resources:null,rtl:!1,source:null,template:"<div class='jqx-kanban-item' id=''><div class='jqx-kanban-item-color-status'></div><div class='jqx-kanban-item-avatar'></div><div class='jqx-kanban-item-text'></div><div class='jqx-kanban-item-footer'></div></div>",templateContent:{id:0,status:"work",text:"New text",content:"New content",tags:"New, tags",color:"green",resourceId:0,className:""},width:600,verticalTextOrientation:"topToBottom",_kanbanId:null,_dropKanbanId:null,_connectWith:null,_kanbanColumns:null,_selectedItemId:null,_selectedItemValues:null,_draggedItemId:null,_draggedItemValues:null,_selectedColumn:null,_source:null,_resourcesLength:null,_items:[],_ie8:a.jqx.browser.msie&&8==a.jqx.browser.version,_ie7:a.jqx.browser.msie&&a.jqx.browser.version<8,_parentsTag:null,_columns:[],_collapsedColumns:0,_expandedColumns:null,_columnBorders:[1,1,1,1],_css_color_names:["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],_clearing:"<div class='jqx-kanban-clearing'></div>",_commonItem:{id:null,name:"no name",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURZSUlJWVlZaWlpeXl5iYmJmZmZubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3uDg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvUOQQAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AABbSSURBVHherVsHQ9tIE+XO2NimF9N7KAklhN6SkARS6IRqwGBblsn//wffe29Wsh1M4L67t9JqJa/mzcyuGjPU/HoOD8VikWvBf3goPjz88h6KaGHBns8jWIAC+6Djwy8cKWDVYdROzFN4VoGHX6Goou9THEiKRb/gefl8LpfL5nJ5wPO8gu+THuRAAf0Ek/I0nlPASTEvQA3foxp+/j7z4/uryXhdJBL/O9Y7NvPlayabL1gv6FFgL3fun/ECBegAktPxHjTxvfzJfFcsEklEk3/V1UaidbFoNBaNdy4e5TyQFwvUgSMmOEFP4QVDIC/8gmex+L6XvVptjcYT8URdtLY2Fk0kY7V1ddF4XTISaWidvcxDBSyeKf3vh4BTinI0sQoFL3v0irTxZF0ykUhgE48kkpFEYzQWT2InmRw8y3uYDBqv/0IB2GHCfEyronc4HI/X1ycbkrAaCiTjiWR9MpHEUl9fF4MKiYbY6Ak0kNK8Iv79EACmgV+4mydVUpyNdfVJq7TfUJ+ob0jWNzYkmpOJdxnOhZe54EWTsFjEtpD/0d6UbKivr29oaMBar6ZqHWpobKhvbGzEtrG+70uOGnBGOjlP4lkF8rjt4LIqFLJTTU3JDogXmpqaWKOw1gbHUDU3NjfXJ7teZ3VB/AdzgMOJCeinO5ubm5uSEC80NUMFoLmlGQsrAa2m5ra2pobmvhsPV+1/Mwlx4/Ev+9oaG1NNrY3iaW1tBZkjNegQNm0tLW1trW3tjf3pAhT490NQ9DH+3m1/S3tbcyuMA1GINsA10W5Fu72tvaOjDaq0drX13PCu7OQ8iWcVKBR/+d5NT3tbR3t7a6q9pb0dFGi3ocYmgPa439aR6kh1ptqbO7p6b3FPdHKexLMKAN7NUHtXZ2tHV0dXW1cHCIAUoGYq1WlgAwfZ7OruTHX3tHeOXnv/TgGy4zmcfd3ek+rshWDI78IGS5e2bseOiFrAtrsr1d2bms1Kg2Akqg1IFQXQDR1Jzgup6N8vdPa19kFkd7fJ7+7pwQ4qrKgq0dvTo6W7p7ert2f2vmBmsOINzXGUUFUBquBOwLNvt6e/fQhUBpJWolelr9eKVURfd3/X6DdP7wf/WAGBV6BfyIz3dPf3dzuhWPr6y8oj9OsYfuof6O3v6568xqsSZZlR9G0lHisgZj79UeMlJ7/eNzgAof0D/QMDA/2PgIPlCPcHuQ73DX7Am5IEOjiWEI8UYB/effmCVfSK3uXAcB/kDEHgIIUSEv4bhhysOTg4PDg8NDQyPDR2AXY9muAFSHc0IaoqgNsv3Y8B8PML/cMDgyMDFDoEkUODwy/DyPDw6PDQyMjwEsaAxjg3OJoQ1eYAX0PdHbhwChkD46OwBxgdhcCRCoz+XoBXXInR4dGRV69OYQrZ5YAXKUB20mMK5LfHXg2NjA+PjjmhJvnPGBvDMjrO1sTY+OSWx7dJWk84khBVFLAJAx1wD8y9GpNEiiTGx8afx8TE+IQ1uI5NZPG2/NQIVFHA2OWFh8IJiSWMMLGVmKjE5OSka3BhNTlxjFd5J9BxlKHaJDQFOAbemokIxGrvCbxWUQtgrZ3Jqcn3VEAavOQ+4MyHAije9JSEBSjbIYvhTUWxA4YprK+nX7/FW9XLFbCOTodrKUAxwhQlPgP0mSKmCTbeTM1e6z1dCjzC7wqIHSsc8eAX9mcljJAw1CrTM08VABtt1ZqZfTMzu89vNpr0vAJmvl4nMQTethOJGvbMzsxgwVq1PIF3+OWLJ6tkmCMK8UgBeZ89cRv0PpXLrc7xtgp4dA5Ac25udn72k2YhhT6jADuYAtzCA0vlDJVklO5ArhDvKjA3Nz//7t1KXp9KlPvoJbWKAqSnvlBgYW72N4kh5p/CAgt+1nZ+YWFhfn6RX6xOsqMK8UgBMsMLbPieJFUHJAuLlWWxrK0CLC2UPPAyBZwPfO/dMmUslaQuLi0tVpTHWLbiOrDH2pJ9rUquowrxeAgcpMA8TjeSkMzJd2XlEZYd3C4PrGEOmE+fUcCYHaTACgiXVyqKbVZWXXkEHlxbDcva+trKyga+E82pEOzIAjxSQJ1s63tbK6slWVZss762LuHrADeVZX1jfcO11zbX11c/u691k+3YHKoqoBUPI+8bRBkJwC2bku/KJrFBqFUV7zd2TQFnnGNzKFOAP5YU0F9kvm+8d1Kq4f1T+PABq2u+f7/5cV/PY8nFxtE5PKGAKt+/oIxNFYhiCfYCfCjHR8A1Q3z88HHrouDuhNTixQrgxdTPQaYTFAISWUJslZVPW8CnCuDA53s+2v+BAuwmnxW97VAcRROfysunz4/gun9yjS+fP2/t4O3e5P5DBfBdekiRKp+/qLg9dwz4UgXbXLdRo9re/nxUKPIvyf9EAfoLc+DBvwGpQbIAii8rPBKUnW0WVWHhknYKQDgZHJ3DIwUAU4DfJUXvGyRWYucP+IqiqlR2vu7m+IdbKSA4OodqCtANcD/eyh8KxxCx89UqbSrAY1+/VRRWxPfvbGPz/di+C9wA/EGBcg3MY7gVeDu7Oz92vv6QVAilREEsxPey8gPHUX4Qu1i+f9v7tntvf7eWQIh1ZAGeUsCh6J/u/IBAMGol0HIFJLsBsFMV30/dHwzh1H+qAHUuZkGy95R0w164DVoAdrAc/jjI0QFYnAKOK8QfPYBTioX0t30JlPg9bIS9vX2Vx3DH9ncP9nf3D/Yv8Z0vQf9UAZrPyveOacze/sEBxO1rrcQB4JrA4cEhDxxgc3iwd4ABwAhoCkqB30fgGQW4LWT3Dg/3Dg4ByTUccT1i/Rh2+Pjw6OTgOIOXaz5Z+X0qkY4rxDOTECj4V8cQeQwcoYGFYPv4+OTkREfVdgUHsMffjo9Prz1ezu597P9UAB9IJ4dnhySjdG6Inz9PqhUc/3l6eopfj36eHl5gAHA/1Ri8QIHqGuDE/MXPsxPIlewQP1VOzyoKcHaGxjlbab4Nk5mjr/r/UgD35FzaRJ5DtlGUcF5ZABw7v7g4O7/Wq6AtpgC2jirEswrYifmrSwiG3LOLcxTC6hAgDloXF5eXWDH+YtZioh7Rv0AB3kJ4MaahwmUVXFWWK/S7Ai4ubmB/QdTGL20cURme9wBWKpG/T19epdNpMARFSF9XFBy/xpq+us3zA9tJsEVwVCGenwN2Kp6O95B8fXN9nb5BHRSgbBfQ5jqTUfhU5/Nk1wAcVYgXTEJTAHek3H2GFDc3t4C1rP0bMnc5D+NvHyN0vUQ4JRxViMcKWHe3UU0JOuZ7mdu735DJuAaB9j2WHMzXS6VC/oEMSnhGAUIqoyNrO5dt90LjF7z7u/v7bNbWEFnsAmzCev1Z0E4OHKBKcDQhqihAZ9lZ7my3Z7uelyORCImcIR+0vNLFr1O1DS1wJGV4pMAv/WXZEP5xC1LQ5G0VXvA9L5/Lo0Ih2GQKA7YFzyMNTxWfzsZp2nGzwNEEeKQAGQINeKJr0qRQEEaiAIgerNoDuW+PfhrNru4UnQtainqBApSv09gXF5I7n7tqqY0GtPSpBGAtOwvXHjZODTvFJD3wD3DWqEQ1BSBEJ0uMhAQnB4pQCWyphX7W72y539VyW51px6mG4wlRZQjcuTzJ9HH7rFHxO48m8hf9oJ7sg0WDpGNC2BDUdjQhqiig00ys5HKY7ZDA4XEPePWlVAIN6wCoj41kIDSA9svwaAicQH6XkQVfJ5kPt1m1ZXdoI0fKepJMB90uUWCez3tdNcEvJH+BAvQ7hfMvFLrqb2ORpvnzPGZ6mSiRYIcBcu48wEk6zvcfTg0vd77wOp2TiuoQwPGEqOIBE42HGb7MsteRWCReWxefPc4w/gboZ5+DwqmvncAVhQKVx3Hv7mguVlvXeKw/j/maSzYOjqaExwrQhRxkDH3uriYajUf+jkUisWjr7HE2n+dFpx4aAH5zQg3coiUd7PB8Pns81xKJRCPxRO18Fq5hFgQmg3VxPCGqTUKzMnN5E4kk/o7ESF8XrY3WRlqmdzOWtEUVlatEbeAO44bp+czuTHMkGmemUSxaVzd8gy8jGx6T7WhCVFMAKhfxCtRTlwQ9mOsSNbHa2ggGIhqJ9s9sX9zhvq9boO6GVuP2fHe6/XYkFovXJ2LxeCKSrE8k6+PxH9m8/+DZJKB0xxOgqgIwLH/2Ohb5K1obgwNq/05gHOLxv/6CDnUxNDvHpnc+795kbvF0zmQy14c729PjPY0gZ1ZPrK6hsS7RHE/U1yeTTYkZvJyR3c1ExxOgxu5NFVME/s9dDCfgfHgeczAK+zkEcGwkCrdGY3GscHEdM5fizKiKJ0nNrCaY3diYTDY0JBsakw3NjcnWZPc3TB13rYqFK00lWQ3t1UH9rrVY8A5fJepitVEBTqhziAvgI6tymgz1sFX5RJZR1MAsnybm2qBqaGlrXsnaF4r9uQ4M/EZV9VAjckBewk/M18sfjiaT8TiYwW2kpAUnrCQcLUiZycS0JuMFcZDhA/qWltaW1lRLR1N7U9ctnpW8i+lVnQowQGweAKCBTKcSuPxzOwPNyQaqANCxJVOFEiXTlwCwKZWHGUVM5cFiiTVtbe3NqbauVHtvyxbuprixkY4kwZA/1EAbkEMbbHllw/6dwfpkSxM0IJQsliRh4GD5l5aanTLVUZJTSTUCk1062npT7V2pVFfn4p2H26YuYHO66QAPuMkhRXBd574OtrQ3NjZDAxK6UZV7yUda8ZI1IBYt6QJil1vDdJb2/s5UP3a7R/bg/zxpjAqDANYapwht5zzwM9u9za1NHXBjo0iZLyZOy9kSZwuTltrarRgl03pIya3LqmG6C7NaUr297b39fT29vUt8W4cHoABVcAoYOCkxTQrXWz1t3alUawoqmJnK0FKmltE6yEzHSi6QdncpzYaslt2ihJa+np7+oYGege6Rvv6RSyV0BBoAUsCaROFqa6i3o7Mr1dWR6mgjL1O1zEzn3hR5O62InLRBMo/xWkaN0D8w2M/Mk4GhgeGhoeGRoa/ZIIhpjM4DOoD5d74x0NMNaXRhpwhhqYzVqMpOS1iStWWkzLAJsmost2WQpZRboqyO0dHRd3d8inEkRGoK8PaA6Vm4WR0c7IPLaFBPV6cZG8JIy33c4yxVOg1I+2muslxAPExOB8vsAEZHxxdwo9FjVD4o4jI0D+D5e7421NsHh8mMvh7aSzrnYBE6WA8jpqVDMDQw1hG7FBNjtjQMpV+8erXL70ZRstJ9AMCr1znsH++H8nQfzAmTpoyRqxiJ0FDZ6mCcI5VpJuCdYE4Hkx+Y/jA+NYOnIx1gs6DGmrj/369MDI2OjA5zssAiZi9VmCq6gLfkXuN0Hg6g1I5SfofLeVCKxZvJN2f801mgAYdAE8Lbn4B7JGpkFDKhBGevkpbETd9aIdivRDr2apykgCWc0F5HKij9wXIbZqam19yrImjpAb4uYVDySxOTo2OTTFmB2yB7ZNhGVXwAc4bKs3iYWCM2g5kq2rI0jzevlfdg+RTKa5iam569LuANRTAFOAreLU57MzHGkRqfYMbO6EjAG1gKShWa6fJ0SGpctkGDiSS0NczkmJmZZqJBkH4wMzO7yRuy6HUV4LrEQ/jL9OS0k8GUmcmJMVwzXJytobUkDXkJ+ZeWGiUhVuZegE2wPAPV7+ZmF6703MWHOK4CPn+gwP3y5GsMz9RriIE4yJWNmMIl0sDB+NVImbIS2howlidavH0rauY1qMzPzy+9fbe08EHviLj760bETeFkdmpmdnp2xjJfIPYNrhixGqiSIy1LlTFbmVgS0BqjwRIq5lmClIPFxeXFhaV3eDTzdQRK+LwK4IH8NhyE8yWM04XOECUqx1kCWN2UErHjI+bmAtoAYmUCglIJgNWlhaW1Hwzm8oUIHuBl6N+szs1zkObmNVC0ZWa6RCo6o+RPhPGpdrY6RsA4DSJl0N8lFSyvrqxtrC5nefHxpcSeht7RMrM1FuagAMZKQjkczATCuDhOkpZ8PIfpxFE1DzNVQ0kWSpsALdMbQEzS1ZVVlwWwpjj8xubq2h6zDMFtb0RFbwf9ca7ljEAktXCsNpVIy6kkBWWtIw5JXXIFF0fLmL/LNgB1GOF/v7b5/uPGHR5+tL2Gr6p+7sPq0vLi8tLCCkQt0YSFBRsM8VaOajCsQVoHKeVhJVDATNLJ1PW1UmYBQ+2bjOlvfvwA/q1T3IwwB3EfgBaF0+V1eImughQaAiwwV6dEKweTUKSECFWB11gtaYKpDUZLVsKF3V3MfesTI9+KZ/t4Lce3q/d1A7oyN0Ies8yQpcUF0MLH5pSAldbqdzlZw2ooS6MwUhaF/0XKwLui3YYvXy7wSY0LAQoU/ZuNDxtKTYAMJ251bWW5ZKu5lw7mbJKhASpMtSSHUnaBaMMg/5fPDHF/UfR5e+c7vhh9fZh4/sF7dJaboAQBPTbWmTETYLXE6CgBx7opD0OAkdLDInXMQejdMRsYh77iU5AK4BpAZypLJSDB0j82NaxlxBWsNq7GCJRMNfLPLtwPLkerwDdD3Yo3M/aMzwReBZgKV9vUgOdRDvTYomgNyKbMDShJKlcFrDzr0xaTGZTeYLkFNLUiyB+G01kz5KxA8N6Pa94IoIB/CDWVbrC9LRM+y5iPdK7Rvi8ljdBSOjaAS3BQ9kIFFMZnmN0RB7ykdiHgY34p4n3A22N/O83UwIBBNvxgxPRKkDDySYkcMJSdpHY5lEIQ8AJlQW8XdFZceY8x3r29g1vdiPz0992vSgzAxFCmghyiUSFhANCKtIzW+mNkQesYLcIfhvVlKWpGmMm6v6/YroV2j08xDWuKhTN0wYlYJeXbN5O6Y+kijpae4eGAEtzOs0ZclklgZsLRiq8HYNQ5iPoqtHt8dHKa42v5/cG+xf3NR7u7MIJq2Pwtt9XSM4zQchoeuZju3WOYHUUISAMounvK+C4255e+X+Nf7R26mLwUdwABbQWxsxQ6ycMsro/4oLeNqVDG6cCAtiLK4FR9dspoK5aLs4vTgl/jnaLTgUZFCQKBEnu7JKUrUJWRUkvB3CszAZ7vKAHZarQw2WLMYcyX0V2GWdPnl5c3fk3u9PT4VLF2nEgxTBOAZOgBUvI6biMNjWWCAsHIPikZwHcQJRCEuh2ti+xeWMT1Ip2+vLq59GtuzxmVPkF3nAjFIeiIUg/24Ql6w1I1xElLSSsrCWUMkFKxewbXFd0W45mFmY3XSBlovUpfX6cJBj1vr72aNPr8vDzheZIAWcoTOD4Eq8vaIEQo/UqDKm7wkTE0lS6+vGARr+LJCvUCDLReX9/cMOyZubm7Td/f11xdoRf6alw0PSwL4PRY7t2nLoRjJq+NqWjZ2zhRXRix2Zq+Ilf6RqSkVKzVAqsMcLJiDLKGsWbogIWuohoSC1fQ4hNcrY7WnPzbfDqDlYGDL+XeAOZmchpvJpNhXBNQ5DOrWGcu79Wwz42C0NQk8AcHD4RkMkKXm+CmkhHKUNR0ryglBaBEEBJgIxNjq2zd3+f479L5vAduNDy/JpOhcgxG394y7i3NKRZzE56gr0ktWlZUUi4jQGlmilN2olIYWZDFBDkJRVj5D9v5HEOwOa9YI5dgRXenCAAVrkGHgTQiMGKVarSQtWP8jc/ixwzjOsKQ2OKssNyAX7I45j/U0D82JjifUgJ/UAPzsjTAXJFu4kRN9zqQ07ZGf5/lf6T/BlIQbpcHMAB4HMMpaOeDDk7W3R1pMDWclSIUSGGdUHNMaY3+Dd7BTKaFFFsBdLQGfvJkPxRQ30ACXWe/Z+8ZHlJctjrsC/9P4HePPnsE2yvtU8TDw0Pxf9HojR+SZp5gAAAAAElFTkSuQmCC"},_events:["initialized","itemSelected","itemCreated","itemMoved","itemReceived","columnSelected","columnUnselected","columnCollapsed","columnExpanded","itemAttrClicked","columnAttrClicked"]};return this===a.jqx._jqxKanban.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var b=this;a("#"+b.element.id).empty(),b._createKanban()},_createKanban:function(){var a=this;a._ie8Plugin(),a._kanbanId=a.element.id;var b=function(){a._getParent(),a._createKanbanField(),a._createKanbanLayout(),a._addCSS();var b=function(){a._setKanbanConnections(),a._transformToSortable(),a._addEventHandlers(),a._rtlCheck(),a._refreshEventHandlers(),a._recalculateContainersHeight(),a._handlerExpandCollapse(),a._raiseEvent("0"),a._ready()};a._populateKanban(b)};a._serializeSource(b)},propertyChangedHandler:function(b,c,d,e){return"width"===c?(b.host.width(e-4),that._recalculateContainersHeight(),void that._calculateExpandedColumnsWidth()):"height"===c?void b.host.height(e):(a("#"+b.element.id).empty(),void b._createKanban())},_getParent:function(){var a=this;a._parentsTag=a.host.parent().get(0).tagName.toLowerCase()},_createKanbanField:function(){var b=this,c=b.columns.length;if(null==b.width&&null==b.height)"body"==b._parentsTag?(b.width=a(window).innerWidth(),b.height=a(window).innerHeight(),(b._ie7||b._ie8)&&b.host.height(b.height),b.host.addClass(this.toThemeProperty("jqx-kanban-full-frame"))):(b.width=b.host.parent().width(),b.height=b.host.parent().height(),b.host.addClass(this.toThemeProperty("jqx-kanban-in-frame")));else if(null!=b.width&&null==b.height){if(b.width<=b.headerWidth*c)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");b.host.width(b.width)}else if(null!=b.heigth&&null==b.width){if(b.height<=b.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");b.host.heigth(b.heigth)}else{if(b.width<=b.headerWidth*c)throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width");if(b.height<=b.headerHeight)throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight");b.host.width(b.width),b.host.height(b.height)}b.host.addClass(this.toThemeProperty("jqx-widget"))},_createKanbanLayout:function(){var b=this,c=b.columns.length;b._expandedColumns=c;for(var d=b._calculateColumnDimensions(c),e=b._calculateContainerDimensions(c),f=0;f<c;f++){var g=a("<div id='"+b._kanbanId+"-column-"+f+"' class='jqx-kanban-column' data-column-data-field='"+b.columns[f].dataField+"' style='width:"+d[0]+"; height:"+d[1]+";'></div>");void 0===b.columns[f].maxItems&&(b.columns[f].maxItems=9999),b._columns.push(g),b.host.append(g);var h="jqx-kanban-column-vertical-container",i=b.columns[f].collapseDirection;i||(i="left"),"right"==i&&(h="jqx-kanban-column-vertical-container-inverse");var j=b.columns[f].iconClassName?b.toThemeProperty(b.columns[f].iconClassName):"",k=j?"<div class='"+b.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+j+"'></div></div>":"",l=j?"<div class='"+b.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+j+"'></div></div>":"",m=a("<div id='"+b._kanbanId+"-column-header-collapsed-"+f+"' data-kanban-column-header-collapsed='"+f+"' class='"+b.toThemeProperty("jqx-kanban-column-header-collapsed")+"'><div class='"+h+"'><span class='"+b.toThemeProperty("jqx-kanban-column-header-title")+"'>"+b.columns[f].text+"</span><span class='"+b.toThemeProperty("jqx-kanban-column-header-status")+"'></span></div>"+k+"<div class='"+b.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+b.toThemeProperty("jqx-window-collapse-button "+("right"==i?"jqx-icon-arrow-left":"jqx-icon-arrow-right"))+"'></div></div></div>");g.append(m);var n=a("<div id='"+b._kanbanId+"-column-header-"+f+"' data-kanban-column-header='"+f+"' class='"+b.toThemeProperty("jqx-kanban-column-header")+"'><span class='"+b.toThemeProperty("jqx-kanban-column-header-title")+"'>"+b.columns[f].text+"</span><span class='"+b.toThemeProperty("jqx-kanban-column-header-status")+"'></span>"+l+"<div class='"+b.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+b.toThemeProperty("jqx-window-collapse-button "+("right"==i?"jqx-icon-arrow-right":"jqx-icon-arrow-left"))+"'></div></div></div>");b.rtl&&(n.find(".jqx-kanban-column-header-button").addClass("jqx-kanban-column-header-button-rtl"),n.find(".jqx-kanban-column-header-custom-button").addClass("jqx-kanban-column-header-custom-button-rtl")),n.outerHeight(b.headerHeight),n.css("line-height",b.headerHeight+"px"),g.append(n);var o=a("<div id='"+b._kanbanId+"-column-container-"+f+"' data-kanban-column-container='"+b.columns[f].dataField+"' class='jqx-kanban-column-container' style='height:"+e[1]+"; overflow-y: auto;'></div>");if(g.append(o),g.data("kanban-column-collapsed",!1),b.columns[f].headerElement=n,b.columns[f].collapsedHeaderElement=m,b.columnRenderer&&b.columnRenderer(n,m,b.columns[f]),"left"==i){var p=n.find(".jqx-kanban-column-header-title").width();p+=n.find(".jqx-kanban-column-header-status").width(),p-=10,g.find(".jqx-kanban-column-header-title").css("left",-p+"px"),g.find(".jqx-kanban-column-header-status").css("left",-p+"px")}b.columns[f].collapsible===!1&&g.find(".jqx-kanban-column-header-button").hide()}1==c&&b.host.find(".jqx-kanban-column-header-button").hide()},_calculateColumnDimensions:function(b){var c=this,d=[],e=100/b,f=100,g=100;return 0==this.host.height()&&this.host.height(400),0==this.host.width()&&this.host.width(600),c._ie7?(e=this.host.width()/b-(this._columnBorders[1]+this._columnBorders[3]),f=this.host.height()-(this._columnBorders[0]+this._columnBorders[2]),g=f-this.headerHeight,e+="px",f+="px",g+="px"):(g=this.host.height()-a("#"+c._kanbanId+" div.jqx-kanban-column-header").outerHeight(),e+="%",f+="%",g+="px"),d.push(e),d.push(f),d.push(g),d},_calculateContainerDimensions:function(a){var b=this,c=[],d=100,e=100;return b._ie7?(d=this.host.width()/a-20,e=this.host.height()-this.headerHeight,d+="px",e+="px"):(e=this.host.height()-this.headerHeight,d+="%",e+="px"),c.push(d),c.push(e),c},_recalculateContainersHeight:function(){for(var b=this,c=document.getElementById(b._kanbanId+"-column-header-0"),d=0,e=0;e<b.columns.length;e++)if(!b.columns[e].collapsed){d=e,c=b.columns[e].headerElement[0];break}var f=parseInt(getComputedStyle(c).getPropertyValue("margin-top")),g=parseInt(getComputedStyle(c).getPropertyValue("margin-Bottom")),h=document.getElementById(b._kanbanId+"-column-container-"+d),i=parseInt(getComputedStyle(h).getPropertyValue("margin-top")),j=parseInt(getComputedStyle(h).getPropertyValue("margin-Bottom")),k=c.offsetHeight+f+g,l=i+j,m=this.host.height()-k-l;a("#"+b._kanbanId+" div.jqx-kanban-column-container").outerHeight(m)},_addCSS:function(){var b=this;if(a(b.host).addClass(b.toThemeProperty("jqx-kanban")),a("#"+b._kanbanId+" div.jqx-kanban-column").addClass(b.toThemeProperty("jqx-widget-content")),a("#"+b._kanbanId+" div.jqx-kanban-column-header").addClass(b.toThemeProperty("jqx-widget-header")),a("#"+b._kanbanId+" div.jqx-kanban-column-header-collapsed").addClass(b.toThemeProperty("jqx-widget-header")),a("#"+b._kanbanId+" div.jqx-kanban-column-container").addClass(b.toThemeProperty("jqx-widget-content")),b._ie8||b._ie7?a("#"+b._kanbanId+"-column-0").addClass(b.toThemeProperty("jqx-kanban-column-first")):(b._columnBorders[0]=a("#"+b._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2),b._columnBorders[1]=a("#"+b._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-right-width").slice(0,-2),b._columnBorders[2]=a("#"+b._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-bottom-width").slice(0,-2),b._columnBorders[3]=a("#"+b._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2)),"bottomToTop"==b.verticalTextOrientation){var c=a("#"+b._kanbanId).find(".jqx-kanban-column-vertical-container");c.removeClass("jqx-kanban-column-vertical-container"),c.addClass("jqx-kanban-column-vertical-container-inverse")}},_rtlCheck:function(){var b=this;1==b.rtl&&(a(b.host).addClass(b.toThemeProperty("jqx-kanban-rtl")),a("#"+b._kanbanId+" div.jqx-kanban-column-container").addClass(b.toThemeProperty("jqx-kanban-rtl")),a("#"+b._kanbanId+" div.jqx-kanban-item-keyword").addClass(b.toThemeProperty("jqx-kanban-item-keyword-rtl")))},_serializeSource:function(a){var b=this;b._source=[],b._sourceKeys=[];var c=function(c){if(c){for(var d=0;d<c.length;d++){var e={};e.id=void 0!=c[d].id?c[d].id:b.element.id+"_"+d,e.status=c[d].status||b.templateContent.status,e.text=c[d].text||b.templateContent.text,e.content=c[d].content||b.templateContent.content,e.tags=c[d].tags||b.templateContent.tags,e.color=c[d].color||b.templateContent.color,e.resourceId=c[d].resourceId||b.templateContent.resourceId,e.className=c[d].className||b.templateContent.className,b._source.push(e),b._sourceKeys[e.id]=e}a()}},d=b.source&&b.source.dataBind;if(d){var e=b.element.id;if(b.source.unbindBindingUpdate(e),b.source.dataBind(),0==b.source.records.length){var f=function(){c(b.source.records)};b.source.unbindDownloadComplete(e),b.source.bindDownloadComplete(e,f)}else c(b.source.records);return b.source.unbindBindingUpdate(e),void b.source.bindBindingUpdate(e,function(){c(b.source.records)})}c(b.source)},_populateKanban:function(b){var c=this,d=0;null!==c._source&&(d=c._source.length||0),c._resources=new Array;var e=function(e){if(c._resources=e,null!==e&&void 0!==e){c._resourcesLength=e.length;for(var f=0;f<c._resourcesLength;f++)1==e[f].common&&(c._commonItem=e[f])}for(var f=0;f<d;f++){var g=a(c.template);g.data("kanban-item-id",c._source[f].id);for(var h=c._commonItem,i=0;i<c._resourcesLength;i++)e[i].id==c._source[f].resourceId&&(h=e[i]);var j="<img class='jqx-kanban-item-avatar-image' alt='"+h.name+"' title='"+h.name+"' src='"+h.image+"' />";g.addClass(c.toThemeProperty("jqx-rc-all")),g.find(".jqx-kanban-item-avatar").append(j),""!=c.theme&&g.addClass(c.toThemeProperty("jqx-kanban-item"));var k=c.host.find("[data-kanban-column-container='"+c._source[f].status+"']");g.find(".jqx-kanban-item-color-status").css({"background-color":c._source[f].color}),c.rtl&&(g.find(".jqx-kanban-item-color-status").addClass("jqx-kanban-item-color-status-rtl"),g.find(".jqx-kanban-item-avatar").addClass("jqx-kanban-item-avatar-rtl")),g.find(".jqx-kanban-item-text").append(c._source[f].text),g.find(".jqx-kanban-item-content").append(c._source[f].content);var l="",m=[];null!==c._source[f].tags&&void 0!==c._source[f].tags&&(m=c._source[f].tags.replace(/\,\s/g,",").split(",")),m.forEach(function(a){l=l+"<div class='"+c.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+a+"</div>"}),l+=c._clearing,g.find(".jqx-kanban-item-footer").append(l),g.append(c._clearing),g.attr("id",c._kanbanId+"_"+c._source[f].id),null!==c._source[f].className&&void 0!==c._source[f].className&&g.addClass(c.toThemeProperty(c._source[f].className)),c.itemRenderer&&c.itemRenderer(g,c._source[f],h),k.append(g),c._items[c._source[f].id]=g}b()},f=c.resources&&c.resources.dataBind;if(f){var g=c.element.id;if(c.resources.dataBind(),0==c.resources.records.length){var h=function(){e(c.resources.records)};c.resources.unbindDownloadComplete(g),c.resources.bindDownloadComplete(g,h)}else e(c.resources.records);return c.resources.unbindBindingUpdate(g),void c.resources.bindBindingUpdate(g,function(){e(c.resources.records)})}c._resources=c.resources,e(c.resources),a("#"+c._kanbanId+" div.jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content"))},_ready:function(){var a=this;null!=a.ready&&"function"==typeof a.ready&&a.ready()},collapseColumn:function(a){for(var b=0;b<this.columns.length;b++)if(this.columns[b].dataField==a)return this._collapseColumn(b),!0;return!1},expandColumn:function(a){for(var b=0;b<this.columns.length;b++)if(this.columns[b].dataField==a)return this._expand(b),!0;return!1},_collapseColumn:function(b){var c=this,d=b||0;a("#"+c._kanbanId+"-column-header-collapsed-"+d).addClass(c.toThemeProperty("jqx-kanban-column-header-collapsed-show")),a("#"+c._kanbanId+"-column-header-"+d).addClass(c.toThemeProperty("jqx-kanban-column-hide")),a("#"+c._kanbanId+"-column-container-"+d).addClass(c.toThemeProperty("jqx-kanban-column-hide")),(c._ie8||c._ie7)&&(a("#"+c._kanbanId+" .jqx-kanban-column-vertical-container").addClass(c.toThemeProperty("jqx-kanban-column-vertical-container-ie8-fix")),a("#"+c._kanbanId+" .jqx-kanban-column-vertical-container-inverse").addClass(c.toThemeProperty("jqx-kanban-column-vertical-container-inverse-ie8-fix"))),c._columns[d].data("kanban-column-collapsed",!0),c.columns[d].collapsed=!0,c._calculateExpandedColumnsWidth(),c._raiseEvent("7",{column:c.columns[d]})},_expandColumn:function(b){var c=this,d=b||0;a("#"+c._kanbanId+"-column-header-collapsed-"+d).removeClass(c.toThemeProperty("jqx-kanban-column-header-collapsed-show")),a("#"+c._kanbanId+"-column-header-"+d).removeClass(c.toThemeProperty("jqx-kanban-column-hide")),a("#"+c._kanbanId+"-column-container-"+d).removeClass(c.toThemeProperty("jqx-kanban-column-hide")),c.columns[d].collapsed=!1,c._columns[d].data("kanban-column-collapsed",!1),c._calculateExpandedColumnsWidth(),c._raiseEvent("8",{column:c.columns[d]})},_calculateExpandedColumnsWidth:function(){var a=this,b=a._columns.length;a._collapsedColumns=0,a._expandedColumns=0;for(var c=0,d=a.headerWidth,e=0;e<b;e++)1==a._columns[e].data("kanban-column-collapsed")?a._collapsedColumns++:a._expandedColumns++;c=(a.host.width()-a.headerWidth*a._collapsedColumns)/a._expandedColumns;var f=c-(this._columnBorders[1]+this._columnBorders[3]);if(a._ie7&&(c=f,d=a.headerWidth-2),a.width&&a.width.toString().indexOf("%")>=0)for(var g=(a.host.width()+2)/100,h=1/g,i=d*h,e=0;e<b;e++)1==a._columns[e].data("kanban-column-collapsed")?a._columns[e][0].style.width=i+"%":a._columns[e][0].style.width=c*h+"%";else for(var e=0;e<b;e++)1==a._columns[e].data("kanban-column-collapsed")?a._columns[e].outerWidth(d):a._columns[e].outerWidth(c)},_handlerExpandCollapse:function(){var b=this;b.addHandler(a("#"+b._kanbanId+" .jqx-kanban-column-header"),"click",function(c){var d=a(this).parent().index(),e=b.columns[d],f={attribute:"title",column:e,cancelToggle:!1};if(a(c.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)var f={attribute:"button",column:e,cancelToggle:!1};if(b._raiseEvent("10",f),!f.cancelToggle&&b._expandedColumns>1){if(e.collapsible===!1)return;b._collapseColumn(d)}}),b.addHandler(a("#"+b._kanbanId+" .jqx-kanban-column-header-collapsed"),"click",function(c){var d=a(this).parent().index(),d=a(this).parent().index(),e=b.columns[d],f={
attribute:"title",cancelToggle:!1,column:e};if(a(c.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0)var f={attribute:"button",cancelToggle:!1,column:e};b._raiseEvent("10",f),f.cancelToggle||b._expandColumn(d)})},_setKanbanConnections:function(){var a=this;if(a._kanbanColumns="#"+a._kanbanId+" div.jqx-kanban-column-container",a._connectWith=a._kanbanColumns,null!=a.connectWith){var b=a.connectWith.replace(/\,\s/g,",").split(",");b.forEach(function(b){a._connectWith=a._connectWith+", "+b+" div.jqx-kanban-column-container"})}},_transformToSortable:function(){for(var b=this,c=0;c<a(b._kanbanColumns).length;c++)a(a(b._kanbanColumns)[c]).jqxSortable({connectWith:b._connectWith,maxItems:b.columns[c].maxItems||9999,cancel:".jqx-kanban-column-container-cancel",placeholderShow:"jqx-kanban-item-placeholder",revert:b.animationDelay,cursor:"move",tolerance:"pointer",containment:"window"});a.jqx.utilities.resize(b.host,null,!0),a.jqx.utilities.resize(b.host,function(){for(var c=0;c<a(b._kanbanColumns).length;c++)a(a(b._kanbanColumns)[c]).jqxSortable({containment:"window"})}),null!==b.handle&&(a(b._kanbanColumns).jqxSortable({handle:"."+b.handle}),a("#"+b._kanbanId+" ."+b.handle).addClass("jqx-kanban-handle"))},_calculateItemsPerColumn:function(a){},_calculateRestrictions:function(){},_redrawColumnHeader:function(a,b){},addItem:function(b){var c=this,d=b.id,e=null!=c._source?c._source.length:0;void 0==d&&(d=e);var f=c._kanbanId+"_"+d;c._source=null!=c._source?c._source:[];var g=null;c._css_color_names.indexOf(b.color)>-1?g=b.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(b.color)?g=b.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(b.color)&&(g="#"+b.color);var h={id:d,status:b.status||c.templateContent.status,text:b.text||c.templateContent.text,content:b.content||c.templateContent.content,tags:b.tags||c.templateContent.tags,color:g||c.templateContent.color,resourceId:b.resourceId||c.templateContent.resourceId,className:b.className||c.templateContent.className},i=this.getColumn(h.status);if(i.maxItems||(i.maxItems=9999),!(i.maxItems<this.getColumnItems(i.dataField).length+1)){for(var j=c._commonItem,k=0;k<c._resources.length;k++)c._resources[k].id==h.resourceId&&(j=c._resources[k]);var l=c.host.find("[data-kanban-column-container='"+h.status+"']"),b=a(c.template);""!=c.theme&&b.addClass(c.toThemeProperty("jqx-kanban-item")),b.find(".jqx-kanban-item-color-status").css({"background-color":h.color});var m="<img class='jqx-kanban-item-avatar-image' alt='"+j.name+"' title='"+j.name+"' src='"+j.image+"' />";b.find(".jqx-kanban-item-avatar").append(m),b.find(".jqx-kanban-item-text").append(h.text),b.find(".jqx-kanban-item-content").append(h.content);var n=h.tags.replace(/\,\s/g,",").split(","),o="";n.forEach(function(a){o=o+"<div class='"+c.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+a+"</div>"}),o+="<div style='clear:both'></div>",b.find(".jqx-kanban-item-footer").append(o),l.append(b),a("#"+c._kanbanId+" .jqx-kanban-item").removeClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),a("#"+c._kanbanId+" .jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content jqx-rc-all")),b.attr("id",f),c._source[e]=h,c._sourceKeys[d]=h,b.data("kanban-item-id",e),null!==h.className&&void 0!==h.className&&b.addClass(this.toThemeProperty(h.className)),c.itemRenderer&&c.itemRenderer(b,h,j);var i=this.getColumn(h.status);i&&c.columnRenderer&&(c.columnRenderer(i.headerElement,i.collapsedHeaderElement,i),c._updateColumnTitle(i)),c._raiseEvent("2",{itemId:f}),c._refreshEventHandlers()}},_updateColumnTitle:function(a){if("left"==a.collapseDirection){var b=a.headerElement.find(".jqx-kanban-column-header-title").width();b+=a.headerElement.find(".jqx-kanban-column-header-status").width(),b-=10,a.headerElement.find(".jqx-kanban-column-header-title").css("left",-b+"px"),a.headerElement.find(".jqx-kanban-column-header-status").css("left",-b+"px")}},_selectItem:function(b){var c=this,d=b.data.self;d._selectedItemId=a(c).attr("id"),a("#"+d._kanbanId+" .jqx-kanban-item").removeClass(d.toThemeProperty("jqx-kanban-item-selected")),a(c).addClass(d.toThemeProperty("jqx-kanban-item-selected"));var e=a(this).data().kanbanItemId;d._selectedId=e,d._raiseEvent("1",{item:d._sourceKeys[e]}),d._refreshEventHandlers()},selectItem:function(b){var c=this,d=a("#"+c._kanbanId+"_"+b);0!=d.length&&(a("#"+self._kanbanId+" .jqx-kanban-item").removeClass(self.toThemeProperty("jqx-kanban-item-selected")),a(d).addClass(c.toThemeProperty("jqx-kanban-item-selected")),c._selectedId=b)},_selectColumn:function(b){for(var c,d,e=this,f=b.data.self,g=a(e).attr("data-column-data-field"),h=f.columns.length,i=0;i<h;i++)f.columns[i].dataField==g&&(d=i),f.columns[i].dataField==f._selectedColumn&&(c=i);a("#"+f._kanbanId+" .jqx-kanban-column").removeClass(f.toThemeProperty("jqx-kanban-column-selected")),a(e).addClass(f.toThemeProperty("jqx-kanban-column-selected")),null!=f._selectedColumn&&f._selectedColumn!=g&&f._raiseEvent("6",{column:f._selectedColumn,dataField:c}),f._selectedColumn=g,f._raiseEvent("5",{column:f._selectedColumn,dataField:d})},getSelectedColumn:function(){var a=this;return a._selectedColumn},_removeSourceIndexById:function(b){var c=this,d=-1;a.each(c._source,function(a,c){if(this&&this.id==b)return d=a,!1}),d!=-1&&c._source.splice(d,1),c._sourceKeys[b]=null,delete c._sourceKeys[b]},removeItem:function(b){var c=this,d="#"+c._kanbanId+"_"+b,e=b.toString().replace(c._kanbanId+"_","");a(d).remove();var f=this.getColumn(c._sourceKeys[b].status);c._items[e]=null,c._removeSourceIndexById(b),c._sourceKeys[b]=null,f&&c.columnRenderer&&(c.columnRenderer(f.headerElement,f.collapsedHeaderElement,f),c._updateColumnTitle(f)),c._selectedItemId=null},updateItem:function(b,c){var d=this,e=a("#"+d._kanbanId+"_"+b);if(0!=e.length){var f=e.data("kanban-item-id"),g=d._sourceKeys[f],h=g.className||"",i=null;d._css_color_names.indexOf(c.color)>-1?i=c.color:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(c.color)?i=c.color:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(c.color)?i="#"+c.color:c.color&&(i=c.color);var j={id:g.id,status:g.status,text:c.text||g.text,content:c.content||g.content,tags:c.tags||g.tags,color:i||g.color,resourceId:c.resourceId||g.resourceId,className:c.className||g.className};d._source[f]=j,d._sourceKeys[f]=j;for(var k=d._commonItem,l=0;l<d._resources.length;l++)d._resources[l].id==j.resourceId&&(k=d._resources[l]);var m="<img class='jqx-kanban-item-avatar-image' alt='"+k.name+"' title='"+k.name+"' src='"+k.image+"' />";e.find(".jqx-kanban-item-avatar").html(m),e.find(".jqx-kanban-item-color-status").css({"background-color":j.color}),e.find(".jqx-kanban-item-text").html(j.text),e.find(".jqx-kanban-item-content").html(j.content);var n=j.tags.replace(/\,\s/g,",").split(","),o="";n.forEach(function(a){o=o+"<div class='"+d.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+a+"</div>"}),o+="<div style='clear:both'></div>",e.find(".jqx-kanban-item-footer").html(o),null!==j.className&&void 0!==j.className&&(e.removeClass(this.toThemeProperty(h)),e.addClass(this.toThemeProperty(j.className))),d.itemRenderer&&d.itemRenderer(e,j,k);var p=this.getColumn(j.status);p&&d.columnRenderer&&(d.columnRenderer(p.headerElement,p.collapsedHeaderElement,p),d._updateColumnTitle(p))}},getSelectedItem:function(){var a=this,b=a._sourceKeys[a._selectedId];return b},getColumn:function(a){for(var b=0;b<this.columns.length;b++)if(this.columns[b].dataField==a)return this.columns[b];return null},getColumnItems:function(a){for(var b=this,c=[],d=b._source.length,e=0;e<d;e++)null!=b._source[e]&&b._source[e].status==a&&c.push(b._source[e]);return c},getItems:function(){var a=this;return null!==a._source?a._source.filter(function(a){return null!=a}):null},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(a){for(var b=0;b<this.length;b++)a.apply(this,[this[b],b,this])}),window.getComputedStyle||(window.getComputedStyle=function(a,b){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this})},_addEventHandlers:function(){var b=this;b.addHandler(a(window),"resize.kanban"+b.element.id,function(a){b._recalculateContainersHeight(),b._calculateExpandedColumnsWidth()}),b.addHandler(a(b._kanbanColumns),"start",function(c){b._selectedItemId=c.args.item[0].id,b._draggedItemId=b._selectedItemId,b._draggedItemDataId=a("#"+b._draggedItemId).data().kanbanItemId,b._draggedItemValues=b._sourceKeys[b._draggedItemDataId],b._selectedItemValues=b._draggedItemValues;var d=a("#"+b._draggedItemId).height();a(".jqx-kanban-item-placeholder").height(d)}),b.addHandler(a(b._kanbanColumns),"stop",function(c){for(var d=a("#"+b._draggedItemId).parent().attr("data-kanban-column-container"),e=d,f=null,g=0;g<b.columns.length;g++)if(b.columns[g].dataField==e){f=b.columns[g];break}if(b._sourceKeys[b._draggedItemDataId]){for(var h=null,i=a("#"+b._kanbanId).jqxKanban("columns"),j=b._sourceKeys[b._draggedItemDataId].status,g=0;g<i.length;g++)if(i[g].dataField==j){h=i[g];break}if(b._kanbanId!==b._dropKanbanId){b._raiseEvent("3",{oldParentId:b._kanbanId,newParentId:b._dropKanbanId,itemId:b._selectedId,newColumn:f,oldColumn:h,itemData:b._draggedItemValues});b._source.length;b._draggedItemValues.status=d,a("#"+b._dropKanbanId).trigger("_itemReceived",[b._selectedItemId,b._kanbanId,b._dropKanbanId,b._draggedItemValues,b._selectedId,f,h]),b._sourceKeys[b._draggedItemDataId]=null}else b._raiseEvent("3",{newColumn:f,oldColumn:h,oldParentId:b._kanbanId,newParentId:b._dropKanbanId,itemId:b._selectedId,itemData:b._draggedItemValues}),b._raiseEvent("4",{newColumn:f,oldColumn:h,oldParentId:b._kanbanId,newParentId:b._dropKanbanId,itemId:b._selectedId,itemData:b._draggedItemValues}),b._sourceKeys[b._draggedItemDataId].status=d;if(b.columnRenderer)for(var g=0;g<b.columns.length;g++)b.columns[g].dataField==e&&(b.columnRenderer(b.columns[g].headerElement,b.columns[g].collapsedHeaderElement,b.columns[g]),b._updateColumnTitle(b.columns[g])),b.columns[g].dataField==j&&(b.columnRenderer(b.columns[g].headerElement,b.columns[g].collapsedHeaderElement,b.columns[g]),b._updateColumnTitle(b.columns[g]))}b._draggedItemDataId=null,b._draggedItemId=null,b._draggedItemValues=null}),b.addHandler(a(b._kanbanColumns),"sort",function(c){b._dropKanbanId=a(".jqx-kanban-item-placeholder").parent().parent().parent().attr("id")}),b.addHandler(a(b.host),"_itemReceived",function(c,d,e,f,g){b._raiseEvent("4",{itemId:d,oldParentId:e,newParentId:f,itemData:g});var h=a("#"+d),i=a(b.template);""!=b.theme&&i.addClass(b.toThemeProperty("jqx-kanban-item")),i.data("kanban-item-id",g.id);for(var j=b._commonItem,k=0;k<b._resources.length;k++)b._resources[k].id==g.resourceId&&(j=b._resources[k]);var l="<img class='jqx-kanban-item-avatar-image' alt='"+j.name+"' title='"+j.name+"' src='"+j.image+"' />";i.find(".jqx-kanban-item-avatar").append(l),i.find(".jqx-kanban-item-text").append(g.text),i.find(".jqx-kanban-item-color-status").css({"background-color":g.color}),i.find(".jqx-kanban-item-content").append(g.content);var m=g.tags.replace(/\,\s/g,",").split(","),n="";m.forEach(function(a){n=n+"<div class='"+b.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+a+"</div>"}),n+="<div style='clear:both'></div>",i.find(".jqx-kanban-item-footer").append(n),i.attr("id",b._kanbanId+"_"+g.id),h.replaceWith(i),a("#"+f+" div.jqx-kanban-item").addClass(b.toThemeProperty("jqx-widget-content")),null!==g.className&&void 0!==g.className&&i.addClass(b.toThemeProperty(g.className)),a("#"+f+" div.jqx-kanban-item").removeClass(b.toThemeProperty("jqx-kanban-item-selected")),a("#"+d).addClass(b.toThemeProperty("jqx-kanban-item-selected")),a("#"+f).jqxKanban("_refreshEventHandlers"),b._source.push(g);var o=a("#"+f).jqxKanban("getInstance"),p=a("#"+e).jqxKanban("getInstance");if(o._sourceKeys[g.id]=g,p._removeSourceIndexById(g.id),o.columnRenderer)for(var q=0;q<o.columns.length;q++)o.columnRenderer(o.columns[q].headerElement,o.columns[q].collapsedHeaderElement,o.columns[q]);if(p.columnRenderer)for(var q=0;q<p.columns.length;q++)p.columnRenderer(p.columns[q].headerElement,p.columns[q].collapsedHeaderElement,p.columns[q])}),b.addHandler(a("#"+b._kanbanId+" .jqx-kanban-item"),"click",b._selectItem,{self:this}),b.addHandler(a("#"+b._kanbanId+" .jqx-kanban-column"),"click",b._selectColumn,{self:this}),b.addHandler(a(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click",function(){for(var c="jqx-kanban-item-color-status jqx-kanban-item-avatar jqx-kanban-item-text jqx-kanban-item-content jqx-kanban-item-keyword jqx-kanban-item-template-content".split(" "),d=a(this).attr("class").split(" "),e=d.length,f=null,g=a(this).parents(".jqx-kanban-item").data().kanbanItemId,h={attribute:null,item:b._sourceKeys[g],itemId:g},i=0;i<e;i++)c.indexOf(d[i])>-1&&(f=d[i]);switch(f){case"jqx-kanban-item-color-status":h.attribute="colorStatus";break;case"jqx-kanban-item-avatar":h.attribute="avatar";break;case"jqx-kanban-item-text":h.attribute="text";break;case"jqx-kanban-item-content":h.attribute="content";break;case"jqx-kanban-item-keyword":h.attribute="keyword";break;case"jqx-kanban-item-template-content":h.attribute="template"}b._raiseEvent("9",h)})},destroy:function(){var b=this;a.jqx.utilities.resize(b.host,null,!0),b._removeEventHandlers(),b.host.remove()},_removeEventHandlers:function(){var b=this;b.removeHandler(a(window),"resize.kanban"+b.element.id),b.removeHandler(a(b._kanbanColumns),"start"),b.removeHandler(a(b._kanbanColumns),"stop"),b.removeHandler(a(b._kanbanColumns),"sort"),b.removeHandler(a(b.host),"_itemReceived"),b.removeHandler(a("#"+b._kanbanId+" .jqx-kanban-item"),"click"),b.removeHandler(a("#"+b._kanbanId+" .jqx-kanban-column"),"click"),b.removeHandler(a(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click")},_refreshEventHandlers:function(){var a=this;a._removeEventHandlers(),a._addEventHandlers()},_raiseEvent:function(b,c){that=this;var d=a.Event(that._events[b]);return d.args=c,that.host.trigger(d)},_getEvent:function(a){return that=this,that._isTouchDevice?that._touchEvents[a]:a}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxKnob","",{}),a.extend(a.jqx._jqxKnob.prototype,{defineInstance:function(){var b={type:"circle",allowValueChangeOnClick:!0,allowValueChangeOnDrag:!0,allowValueChangeOnMouseWheel:!0,changing:null,dragEndAngle:-1,dragStartAngle:-1,disabled:!1,dial:{style:"transparent",innerRadius:0,outerRadius:0,gradientType:null,gradientStops:null,startAngle:null,endAngle:null},endAngle:360,height:400,labels:{type:"digits",step:null,rotate:!1,offset:null,style:"",visible:!1},marks:{type:"",thickness:1,size:"10%",colorProgress:"transparent",colorRemaining:"transparent",minorInterval:1,majorInterval:5,offset:"80%",majorSize:"15%"},min:0,max:100,progressBar:{size:"10%",offset:"60%",color:"transparent",background:"transparent"},pointer:{color:{color:"transparent",border:null,gradientType:null,gradientStops:null},thickness:1,size:"",type:"",visible:!1},pointerGrabAction:"normal",renderEngine:"",rotation:"clockwise",startAngle:0,spinner:{color:"transparent",innerRadius:0,outerRadius:0,marks:{step:1,rotate:!1,color:"transparent",size:0,steps:10,thickness:1,offset:0}},style:{fill:"transparent",stroke:"transparent"},_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:a.jqx.mobile.getTouchEventName("touchstart")},step:1,snapToStep:!0,value:0,width:400};return this===a.jqx._jqxKnob.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var b=this;b._hostInit(),b._ie8Plugin(),b._validateProperties(),b._initValues(),b._refresh(),a.jqx.utilities.resize(b.host,function(){b.widgetSize=Math.min(b.host.width(),b.host.height()),b._refresh()})},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]+".jqxKnob"+this.element.id:a+".jqxKnob"+this.element.id},_ie8Plugin:function(){"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(a){for(var b=0;b<this.length;b++)a.apply(this,[this[b],b,this])}),window.getComputedStyle||(window.getComputedStyle=function(a,b){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this})},createColorGradient:function(a,b,c){return this._getGradient(a,b,c)},destroy:function(){var b=this;b.removeHandler(a(document),"mousemove.jqxKnob"+b.host[0].id),b.removeHandler(a(document),"blur.jqxKnob"+b.host[0].id),b.removeHandler(a(document),"mouseup.jqxKnob"+b.host[0].id),b.host.empty(),b.host.remove()},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&a._refresh()},propertyChangedHandler:function(a,b,c,d){if(!(a.batchUpdate&&a.batchUpdate.width&&a.batchUpdate.height&&2==Object.keys(a.batchUpdate).length)){if("disabled"===b&&a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),"value"===b)return void a._setValue(d,"propertyChange");a._validateProperties(),a._refresh()}},val:function(a){var b=this;return 0==arguments.length?b.value:void b._setValue(a,null)},_isPointerGrabbed:!1,_pointerGrabbedIndex:-1,_attatchPointerEventHandlers:function(){var b=this;b.addHandler(b.host,this._getEvent("mousedown"),function(c){if("pointer"!==b.pointerGrabAction||c.target.id===b._pointerID){if(b._isTouchDevice){var d=a.jqx.position(c);c.clientX=d.left,c.clientY=d.top}if("progressBar"===b.pointerGrabAction){var e={x:c.clientX,y:c.clientY},f=b.host[0].getBoundingClientRect(),g=b.widgetSize,h={x:f.left+g/2,y:f.top+g/2},i=b._calculateAngleFromCoordinates(e,h,b.rotation),j=b._calculateDistance(e,h);if(i<b.startAngle&&(i+=360),i>b.endAngle&&i-b.endAngle!==360+b.startAngle-i)return;var k=b._getScale(b.progressBar.offset,"w",g/2),l=b._getScale(b.progressBar.size,"w",g/2);if(j<k||j>k+l)return}return b._isPointerGrabbed=!0,b.allowValueChangeOnClick===!0&&b._mouseMovePointer(c),c.preventDefault(),c.stopPropagation(),!1}});var c=null;b.addHandler(a(document),this._getEvent("mousemove"),function(a){if(b.allowValueChangeOnDrag&&(c&&clearTimeout(c),c=setTimeout(function(){b._mouseMovePointer(a)}),b._isPointerGrabbed))return!1}),b.addHandler(a(document),"blur.jqxKnob"+b.host[0].id,function(){b._isPointerGrabbed=!1,b._pointerGrabbedIndex=-1}),b.addHandler(a(document),this._getEvent("mouseup"),function(a){b._isPointerGrabbed&&(b._isPointerGrabbed=!1,b._pointerGrabbedIndex=-1,b._raiseEvent(0,{originalEvent:a,value:b.value}))}),b.addHandler(b.host,"wheel",function(a){if(b.allowValueChangeOnMouseWheel){var c=0;return a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail?c=-a.detail/3:a.originalEvent&&a.originalEvent.deltaY&&(c=a.originalEvent.deltaY),c>0?b._increment():b._decrement(),!1}})},_mouseMovePointer:function(b){var c=this;if(!c.disabled&&c._isPointerGrabbed){if(c._isTouchDevice){var d=a.jqx.position(b);b.clientX=d.left,b.clientY=d.top}var e={x:b.clientX,y:b.clientY},f=c.host[0].getBoundingClientRect(),g=c.widgetSize,h={x:f.left+g/2,y:f.top+g/2},i=c._calculateAngleFromCoordinates(e,h,c.rotation),j=c._calculateValueFromAngle(i,c.dragStartAngle,c.dragEndAngle,c.min,c.max);if(c.value.length&&c._pointerGrabbedIndex===-1)for(var k=0;k<c.value.length;k++){if(j<=c.value[k]){c._pointerGrabbedIndex=k;break}if(k===c.value.length-1)c._pointerGrabbedIndex=k;else if(j<=c.value[k+1]){var l=c.value[k]+(c.value[k+1]-c.value[k])/2;c._pointerGrabbedIndex=j<=l?k:k+1;break}}if(c.pointer&&c.pointer.length>1){if(1==c._pointerGrabbedIndex){var m=c._calculateAngleFromValue(c.value[0],c.dragStartAngle,c.dragEndAngle,c.min,c.max),n=c._calculateAngleFromValue(c.max,c.dragStartAngle,c.dragEndAngle,c.min,c.max),i=c._calculateAngleFromValue(j,c.dragStartAngle,c.dragEndAngle,c.min,c.max);if(i<=m)return;if(i>=n)return}if(0==c._pointerGrabbedIndex){var n=c._calculateAngleFromValue(c.value[1],c.dragStartAngle,c.dragEndAngle,c.min,c.max),m=c._calculateAngleFromValue(c.min,c.dragStartAngle,c.dragEndAngle,c.min,c.max),i=c._calculateAngleFromValue(j,c.dragStartAngle,c.dragEndAngle,c.min,c.max);if(i<=m)return;if(i>=n)return}}if(c.changing){var o=c.value.slice(0);o[c._pointerGrabbedIndex]=j;var p=c.changing(c.value,o);if(p===!1)return}c._setValue(j,"mouse")}},_getScale:function(a,b,c){return a&&a.toString().indexOf("%")>=0?(a=parseInt(a,10)/100,"object"==typeof c?c[b]()*a:c*a):parseInt(a,10)},_hostInit:function(){var b=this;this._isTouchDevice=a.jqx.mobile.isTouchDevice();var c=b.host;c.width(b.width),c.height(b.height),c.css("position","relative"),b.host.addClass(b.toThemeProperty("jqx-widget jqx-knob")),b.dragStartAngle==-1&&(b.dragStartAngle=b.startAngle),b.dragEndAngle==-1&&(b.dragEndAngle=b.endAngle),b.dragStartAngle<b.startAngle&&(b.dragStartAngle=b.startAngle),b.dragEndAngle>b.endAngle&&(b.dragEndAngle=b.endAngle),b.widgetSize=Math.min(b.host.width(),b.host.height())},_initRenderer:function(b){if(!a.jqx.createRenderer)throw"jqxKnob: Please include a reference to jqxdraw.js";return a.jqx.createRenderer(this,b)},_initValues:function(){var a=this;a.marks&&(a.marks.style&&""!==a.marks.style&&("line"!==a.marks.style||a.marks.thickness||(a.marks.thickness=1),a.marks.size||(a.marks.size="5%"),a.marks.offset||(a.marks.offset="85%")),a.marks.majorInterval&&void 0===a.marks.majorSize&&(a.marks.majorSize="10%")),a._marksList=a._getMarksArray(a.marks),a.spinner&&(a._spinnerMarksList=a._getMarksArray(a.spinner.marks))},_calculateAngleFromValue:function(b,c,d,e,f){return a.jqx.browser.msie&&a.jqx.browser.version<9?"circle"!=this.type?e!=f?parseInt((b-e)/(f-e)):0:e!=f?parseInt((b-e)/(f-e)*(d-c)):0:"circle"!=this.type?e!=f?(b-e)/(f-e):0:e!=f?(b-e)/(f-e)*(d-c):0},_calculateAngleFromCoordinates:function(a,b,c){var d=a.x-b.x,e=a.y-b.y;return e>0?"clockwise"===c?90-180*Math.atan(d/e)/Math.PI:270+180*Math.atan(d/e)/Math.PI:e<0?"clockwise"===c?270-180*Math.atan(d/e)/Math.PI:90+180*Math.atan(d/e)/Math.PI:d>=0?0:180},_calculateValueFromAngle:function(a,b,c,d,e){a<b&&(a+=360);var f=d;return a>c?a-c<360+b-a&&(f=e):f=d+(a-b)*(e-d)/(c-b),f},_calculateDistance:function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},_drawBackground:function(){var a,b,c,d=this,e=d.renderer;a=d.widgetSize,b=a/2;var f=d.style.strokeWidth?d.style.strokeWidth:0;if(b-=f/2,d.style){var c=d._getColor(d.style.fill),g=d._getColor(d.style.stroke),f=d.style.strokeWidth?d.style.strokeWidth:1;"circle"!=d.type?e.rect(0,0,this.host.width(),this.host.height(),{fill:c,stroke:g,"stroke-width":f}):e.circle(a/2,a/2,b,{fill:c,stroke:g,"stroke-width":f})}},_drawDial:function(){var a=this;if(a.dial){var b,c,d,e,f,g,h,i=a.renderer,j=a.widgetSize,k=0;b=c=j/2,e=a._getScale(a.dial.outerRadius,"w",j/2),d=a._getScale(a.dial.innerRadius,"w",j/2),null!=a.dial.startAngle&&null!=a.dial.endAngle?(f="clockwise"===a.rotation?360-a.dial.endAngle:a.dial.startAngle,g="clockwise"===a.rotation?360-a.dial.startAngle:a.dial.endAngle):(f="clockwise"===a.rotation?360-a.endAngle:a.startAngle,g="clockwise"===a.rotation?360-a.startAngle:a.endAngle),h=a._getColor(a.dial.style.fill);var l=a._getColor(a.dial.style.stroke)||"",m=a.dial.style.strokeWidth||0;i.pieslice(b,c,d,e,f,g,k,{fill:h,stroke:l,"stroke-width":m})}},_getMarksArray:function(a){if(void 0==a)return[];var b,c,d=this,e={},f=d.max,g=d.min,h=f-g,i=a.minorInterval,j=a.majorInterval,k=function(a){return parseFloat(a.toPrecision(12))};if(i){for(b=0;b<h;b+=i)c=k(g+b),e[c]={type:"minor"};e[f]={type:"minor"}}if(j){for(b=0;b<h;b+=j)c=k(g+b),e[c]={type:"major"};e[f]={type:"major"}}if(!i&&!j){var l=d.step;if(l){for(b=0;b<h;b+=l)c=k(g+b),e[c]={type:"minor"};e[f]={type:"minor"}}}return e},_drawMarks:function(){var b=this;if(b.marks){var c=b.renderer,d=b.widgetSize,e=b.marks&&null!=b.marks.colorRemaining?b.marks.colorRemaining:"transparent";e=b._getColor(e),b._dialMarks=[];var f,g,h=b.marks.type;h||(h="line");var i=b._getScale(b.marks.offset,"w",d/2),j=b._marksList;a.each(j,function(j,k){if(b.dragEndAngle-b.dragStartAngle!==360||j!=b.max)if(g=b.dragStartAngle+b._calculateAngleFromValue(j,b.dragStartAngle,b.dragEndAngle,b.min,b.max),"circle"===h){var l=b._getScale(b.marks.size,"w",d/2),m=b._getPointerPosition({x:d/2,y:d/2},i,g,b.rotation);b._dialMarks.push(c.circle(m.x,m.y,l,{fill:e}))}else if("line"===h){f="major"===k.type&&null!==b.marks.majorSize&&void 0!==b.marks.majorSize?b._getScale(b.marks.majorSize,"w",d/2):b._getScale(b.marks.size,"w",d/2);var n=b._getScale(b.marks.thickness,"w",d/2),o=b._getPointerPosition({x:d/2,y:d/2},i,g,b.rotation),p=b._getPointerPosition({x:d/2,y:d/2},i+f,g,b.rotation);a.jqx.browser.msie&&a.jqx.browser.version<9?b._dialMarks.push(c.line(parseInt(o.x),parseInt(o.y),parseInt(p.x),parseInt(p.y),{stroke:e,"stroke-width":n})):b._dialMarks.push(c.line(o.x,o.y,p.x,p.y,{stroke:e,"stroke-width":n}))}})}},_drawProgressBars:function(){var b=this;if(b.progressBar){b._progressBar=b._progressBar||[];for(var c=0;c<b._progressBar.length;c++)a(b._progressBar[c]).remove();if(b._progressBar=[],b._isArray(b.progressBar.style)){var d=b.value[0],e=b.value[1],f=b.progressBar.style[0],g=b.progressBar.style[1];if(b._progressBar.push(b._drawProgressBar(b.max,b.progressBar.background,"background")),b.progressBar.ranges)for(var c=0;c<b.progressBar.ranges.length;c++){var h=b.progressBar.ranges[c].startValue,i=b.progressBar.ranges[c].endValue;b._progressBar.push(b._drawProgressBarFromToValue(h,i,b.progressBar.ranges[c],"background"))}b._progressBar.push(b._drawProgressBar(d,f)),b._progressBar.push(b._drawProgressBarFromEndToStart(e,g))}else{if(b._progressBar.push(b._drawProgressBar(b.max,b.progressBar.background,"background")),b.progressBar.ranges)for(var c=0;c<b.progressBar.ranges.length;c++){var h=b.progressBar.ranges[c].startValue,i=b.progressBar.ranges[c].endValue;b._progressBar.push(b._drawProgressBarFromToValue(h,i,b.progressBar.ranges[c],"background"))}b._progressBar.push(b._drawProgressBar(b.value,b.progressBar.style))}}},_drawProgressBarFromEndToStart:function(a,b){var c,d,e,f,g,h,i,j,k=this,l=k.renderer,m=k.widgetSize,n=k._getScale(k.progressBar.offset,"w",m/2),o=0;c=k._getScale(k.progressBar.size,"w",m/2),e=f=m/2,g=n,h=n+c;var p=k._getColor(b.fill)||"transparent",q=k._getColor(b.stroke)||"transparent";d=k.dragStartAngle+k._calculateAngleFromValue(a,k.dragStartAngle,k.dragEndAngle,k.min,k.max),i=k.dragStartAngle;var r=b.strokeWidth?b.strokeWidth:1;if(k.endAngle!=d)return"clockwise"===k.rotation?l.pieslice(e,f,g,h,360-k.endAngle,360-d,o,{fill:p,stroke:q,"stroke-width":r}):l.pieslice(e,f,g,h,j,d,o,{fill:p,stroke:q,"stroke-width":r})},_drawProgressBarFromToValue:function(a,b,c,d){var e,f,g,h,i,j,k,l=this,m=l.renderer,n=l.widgetSize,o=l._getScale(l.progressBar.offset,"w",n/2),p=0;e=l._getScale(l.progressBar.size,"w",n/2),g=h=n/2,i=o,j=o+e;var q=l._getColor(c.fill)||"transparent",r=l._getColor(c.stroke)||"transparent";if(f=l.dragStartAngle+l._calculateAngleFromValue(b,l.dragStartAngle,l.dragEndAngle,l.min,l.max),k=l.dragStartAngle+l._calculateAngleFromValue(a,l.dragStartAngle,l.dragEndAngle,l.min,l.max),k!=f){var s=1;"background"==d&&(s=0);var t=c.strokeWidth?c.strokeWidth:s;if("circle"!=l.type){if("rect"==l.type){var u=f*(this.host.height()-2*o),v=this.host.height()-2*o;return m.rect(g-e/2,o+v-u,e,u,{fill:q,stroke:r,"stroke-width":t})}return m.rect(o,h-e/2,this.host.width()-2*o,e,{fill:q,stroke:r,"stroke-width":t})}return"clockwise"===l.rotation?m.pieslice(g,h,i,j,360-f,360-k,p,{fill:q,stroke:r,"stroke-width":t}):m.pieslice(g,h,i,j,k,f,p,{fill:q,stroke:r,"stroke-width":t})}},_drawProgressBar:function(a,b,c){var d,e,f,g,h,i,j,k=this,l=k.renderer,m=k.widgetSize,n=k._getScale(k.progressBar.offset,"w",m/2),o=0;d=k._getScale(k.progressBar.size,"w",m/2),f=g=m/2,h=n,i=n+d;var p=k._getColor(b.fill)||"transparent",q=k._getColor(b.stroke)||"transparent";if(e=k.dragStartAngle+k._calculateAngleFromValue(a,k.dragStartAngle,k.dragEndAngle,k.min,k.max),j=k.dragStartAngle,j!=e){var r=1;"background"==c&&(r=0);var s=b.strokeWidth?b.strokeWidth:r;if("circle"!=k.type){if("rect"==k.type){var t=e*(this.host.height()-2*n),u=this.host.height()-2*n;return l.rect(f-d/2,n+u-t,d,t,{fill:p,stroke:q,"stroke-width":s})}return l.rect(n,g-d/2,this.host.width()-2*n,d,{fill:p,stroke:q,"stroke-width":s})}return"clockwise"===k.rotation?l.pieslice(f,g,h,i,360-e,360-j,o,{opacity:b.opacity||1,fill:p,stroke:q,"stroke-width":s}):l.pieslice(f,g,h,i,j,e,o,{opacity:b.opacity||1,fill:p,stroke:q,"stroke-width":s})}},_drawLabels:function(){var b=this;b._labels=[];var c=b.renderer,d=b.widgetSize;if(void 0===b.labels.visible&&(b.labels.visible=!0),b.labels.visible===!0){var e,f=b._getScale(b.labels.offset,"w",d/2),g=b.labels.type?b.labels.type:"digits",h=b.labels.style,i=h&&h.fill?b._getColor(h.fill):"#333";if("digits"===g){var j=[];if(b.labels.customLabels)for(e=0;e<b.labels.customLabels.length;e++)j.push(b.labels.customLabels[e].value);else{var k=b.labels.step||b.step;for(e=b.min;e<b.max;e+=k)j.push(e);b.dragEndAngle-360<b.dragStartAngle&&j.push(b.max)}for(e=0;e<j.length;e++){var l=b.labels.customLabels?b.labels.customLabels[e].text:j[e].toString();b.labels.formatFunction&&(l=b.labels.formatFunction(l));var m=b.dragStartAngle,n=b.dragEndAngle,o=m+b._calculateAngleFromValue(j[e],m,n,b.min,b.max),p=b._getPointerPosition({x:d/2,y:d/2},f,o,b.rotation);if(a.jqx.browser.msie&&a.jqx.browser.version<9){var q=c.measureText(l,0,{"class":this.toThemeProperty("jqx-knob-label")}),r=b.labels.rotate?90-o:0;c.text(l,p.x-q.width/2,p.y-q.height/2,q.width,q.height,r,{"class":this.toThemeProperty("jqx-knob-label")},!1)}else{var q=c.measureText(l,0,{style:{fill:i},"class":this.toThemeProperty("jqx-knob-label")}),r=b.labels.rotate?90-o:0;c.text(l,p.x-q.width/2,p.y-q.height/2,q.width,q.height,r,{style:{fill:i},"class":this.toThemeProperty("jqx-knob-label")},!1)}}}}},_drawPointers:function(){var b=this;if(b._pointers=b._pointers||[],b._pointers.forEach(function(b,c,d){a(b).remove(),d.splice(c,1)}),b.pointer)if(b._isArray(b.pointer))for(var c=0;c<b.progressBar.style.length;c++)b.pointer[c].visible!==!1&&b._pointers.push(b._drawPointer(b.value[c],b.pointer[c]));else{if(b.pointer.visible===!1)return;b._pointers.push(b._drawPointer(b.value,b.pointer))}},_drawPointer:function(a,b){var c=this;b.id=b.id||c._getID();var d=c.renderer,e=c.widgetSize,f=b.type;f||(f="circle"),b.style||(b.style={fill:"#feaf4e",stroke:"#feaf4e"});var g,h,i,j=c._getColor(b.style.fill),k=b.style.stroke||"",l=c._getScale(b.offset,"w",e/2),m=c.dragStartAngle+c._calculateAngleFromValue(a,c.dragStartAngle,c.dragEndAngle,c.min,c.max);if("circle"===f){var n=c._getScale(b.size,"w",e/2),o=c._getPointerPosition({x:e/2,y:e/2},l,m,c.rotation);i=d.circle(o.x,o.y,n,{id:b.id,fill:j,stroke:k})}else if("line"===f){g=c._getScale(b.size,"w",e/2),h=b.thickness;var p=c._getPointerPosition({x:e/2,y:e/2},l,m,c.rotation),q=c._getPointerPosition({x:e/2,y:e/2},l+g,m,c.rotation);i=d.line(p.x,p.y,q.x,q.y,{id:b.id,stroke:j,"stroke-width":h})}else if("arc"===f){g=c._getScale(b.size,"w",e/2);var r,s,t,u,v,w,x=0,y=(c.dragEndAngle-c.dragStartAngle)/c._steps.length;r=s=e/2,t=l,u=l+g,v="clockwise"===c.rotation?360-(m+y/2):m-y/2,w="clockwise"===c.rotation?360-(m-y/2):m+y/2,i=d.pieslice(r,s,t,u,v,w,x,{id:b.id,fill:j,stroke:k})}else if("arrow"===f){g=c._getScale(b.size,"w",e/2),h=b.thickness;var z=c._getPointerPosition({x:e/2,y:e/2},g,m,c.rotation),A=c._getPointerPosition({x:e/2,y:e/2},l,m,c.rotation),B=c._getPointerPosition({
x:A.x,y:A.y},h/2,m-90,c.rotation),C=c._getPointerPosition({x:A.x,y:A.y},h/2,m+90,c.rotation),D="M "+z.x+","+z.y+" L "+B.x+","+B.y+" L "+C.x+","+C.y+" "+z.x+","+z.y;i=this.renderer.path(D,{id:b.id,stroke:k,fill:j})}return i},_rotateSpinnerMarks:function(b){var c=this,d=c.spinner.marks;if(d){if(d.rotate===!1)return;var e=c.renderer,f=c.widgetSize,g=d&&null!=d.colorRemaining?d.colorRemaining:"transparent";g=c._getColor(g);var h,i,j=d.type;j||(j="line");for(var k=c._getScale(d.offset,"w",f/2),l=0;l<c._spinnerMarks.length;l++)a(c._spinnerMarks[l]).remove();c._spinnerMarks=[];var m=c._spinnerMarksList;a.each(m,function(a,l){if(c.endAngle-c.startAngle!==360||a!=c.max){if(i=b+c._calculateAngleFromValue(a,c.startAngle,c.endAngle,c.min,c.max),i<c.startAngle)return!0;if(i>c.endAngle&&i<c.startAngle+360)return!0;if("circle"===j){var m=c._getScale(d.size,"w",f/2),n=c._getPointerPosition({x:f/2,y:f/2},k,i,c.rotation);c._spinnerMarks.push(e.circle(n.x,n.y,m,{fill:g}))}else if("line"===j){h="major"===l.type&&null!==d.majorSize&&void 0!==d.majorSize?c._getScale(d.majorSize,"w",f/2):c._getScale(d.size,"w",f/2);var o=c._getScale(d.thickness,"w",f/2),p=c._getPointerPosition({x:f/2,y:f/2},k,i,c.rotation),q=c._getPointerPosition({x:f/2,y:f/2},k+h,i,c.rotation);c._spinnerMarks.push(e.line(p.x,p.y,q.x,q.y,{stroke:g,"stroke-width":o}))}}})}},_drawSpinnerMarks:function(b){var c=this;if(b){var d=c.renderer,e=c.widgetSize,f=b&&null!=b.colorRemaining?b.colorRemaining:"transparent";f=c._getColor(f),c._spinnerMarks=[];var g,h,i=b.type;i||(i="line");var j=c._getScale(b.offset,"w",e/2),k=c._spinnerMarksList;a.each(k,function(a,k){if(c.dragEndAngle-c.dragStartAngle!==360||a!=c.max)if(h=c.startAngle+c._calculateAngleFromValue(a,c.startAngle,c.endAngle,c.min,c.max),"circle"===i){var l=c._getScale(b.size,"w",e/2),m=c._getPointerPosition({x:e/2,y:e/2},j,h,c.rotation);c._spinnerMarks.push(d.circle(m.x,m.y,l,{fill:f}))}else if("line"===i){g="major"===k.type&&null!==b.majorSize&&void 0!==b.majorSize?c._getScale(b.majorSize,"w",e/2):c._getScale(b.size,"w",e/2);var n=c._getScale(b.thickness,"w",e/2),o=c._getPointerPosition({x:e/2,y:e/2},j,h,c.rotation),p=c._getPointerPosition({x:e/2,y:e/2},j+g,h,c.rotation);c._spinnerMarks.push(d.line(o.x,o.y,p.x,p.y,{stroke:f,"stroke-width":n}))}})}},_drawSpinner:function(){var a=this;if(a.spinner){var b=a.renderer,c=a.widgetSize;a.spinner.style||(a.spinner.style={fill:"#dfe3e9",stroke:"#dfe3e9"});var d,e,f=a._getColor(a.spinner.style.fill),g=a.spinner.style.stroke||"";d=e=c/2;var h=a._getScale(a.spinner.outerRadius,"w",c/2),i=a._getScale(a.spinner.innerRadius,"w",c/2),j=f.strokeWidth?f.strokeWidth:2;if(b.pieslice(d,e,i,h,360-a.endAngle,360-a.startAngle,0,{"stroke-width":j,fill:f,stroke:g}),a.spinner.marks){return void a._drawSpinnerMarks(a.spinner.marks)}}},_getColor:function(a){return a&&"object"==typeof a?this._getGradient(a.color,a.gradientType,a.gradientStops):a},_getGradient:function(a,b,c){return b&&null!=c&&"object"==typeof c&&("linear"===b?a=this.renderer._toLinearGradient(a,!0,c):"linearHorizontal"===b?a=this.renderer._toLinearGradient(a,!1,c):"radial"===b&&(a=this.renderer._toRadialGradient(a,c))),a},_isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},_events:["slide","change"],_raiseEvent:function(b,c){var d=this._events[b],e=a.Event(d);return e.args=c,this.host.trigger(e)},_movePointers:function(){for(var a,b=this,c=0;c<b._pointers.length;c++)1!==b._pointers.length?(a=b.dragStartAngle+b._calculateAngleFromValue(b.value[c],b.dragStartAngle,b.dragEndAngle,b.min,b.max),b._pointers[c]=b._movePointer(b._pointers[c],b.pointer[c],a,b.value[c])):(a=b.dragStartAngle+b._calculateAngleFromValue(b.value,b.dragStartAngle,b.dragEndAngle,b.min,b.max),b._pointers[0]=b._movePointer(b._pointers[0],b.pointer,a,b.value))},_movePointer:function(b,c,d,e){var f,g=this,h=g.renderer,i=g.widgetSize,j=c.type;j||(j="circle");var k=g._getScale(c.offset,"w",i/2);if("circle"===j){var l=g._getPointerPosition({x:i/2,y:i/2},k,d,g.rotation);h.attr(b,{cx:l.x,cy:l.y}),a.jqx.browser.msie&&a.jqx.browser.version<9&&(a("#"+c.id).remove(),b=g._drawPointer(e,c))}else if("line"===j){f=g._getScale(c.size,"w",i/2);var m=g._getPointerPosition({x:i/2,y:i/2},k,d,g.rotation),n=g._getPointerPosition({x:i/2,y:i/2},k+f,d,g.rotation);h.attr(b,{x1:m.x,y1:m.y,x2:n.x,y2:n.y}),a.jqx.browser.msie&&a.jqx.browser.version<9&&(a("#"+c.id).remove(),b=g._drawPointer(e,c))}else if("arrow"===j){f=g._getScale(c.size,"w",i/2);var o=c.thickness,p=g._getPointerPosition({x:i/2,y:i/2},f,d,g.rotation),q=g._getPointerPosition({x:i/2,y:i/2},k,d,g.rotation),r=g._getPointerPosition({x:q.x,y:q.y},o/2,d-90,g.rotation),s=g._getPointerPosition({x:q.x,y:q.y},o/2,d+90,g.rotation),t="M "+p.x+","+p.y+" L "+r.x+","+r.y+" L "+s.x+","+s.y+" "+p.x+","+p.y;h.attr(b,{d:t}),a.jqx.browser.msie&&a.jqx.browser.version<9&&(a("#"+c.id).remove(),b=g._drawPointer(e,c))}else"arc"===j&&(a("#"+c.id).remove(),b=g._drawPointer(c));return g.progressBar&&b.parentNode.appendChild(b.parentNode.removeChild(b)),b},_getPointerPosition:function(b,c,d,e){return a.jqx.browser.msie&&a.jqx.browser.version<9?{x:parseInt(b.x+c*Math.sin(Math.PI/180*(d+90))),y:"clockwise"===e?parseInt(b.y+c*Math.sin(Math.PI/180*d)):parseInt(b.y-c*Math.sin(Math.PI/180*d))}:{x:b.x+c*Math.sin(Math.PI/180*(d+90)),y:"clockwise"===e?b.y+c*Math.sin(Math.PI/180*d):b.y-c*Math.sin(Math.PI/180*d)}},_getID:function(){var a=function(){return 16*(1+Math.random())|0};return""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},_decrement:function(){this._setValue(this.value-this.step,"mouse")},_increment:function(){this._setValue(this.value+this.step,"mouse")},_refresh:function(){var b=this;b.disabled&&b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.renderer||(b._isVML=!1,b.host.empty(),b._initRenderer(b.host)),b.removeHandler(a(document),"mousemove.jqxKnob"+b.host[0].id),b.removeHandler(a(document),"blur.jqxKnob"+b.host[0].id),b.removeHandler(a(document),"mouseup.jqxKnob"+b.host[0].id),b.removeHandler(b.host,"wheel"),b.removeHandler(b.host,"mousedown"),b.host.empty(),b._initRenderer(b.host);var c=b.renderer;if(c){b._steps=[];for(var d=0;d<=(b.max-b.min)/b.step;d++)b._steps.push(b.min+b.step*d);b._initValues(),b._render()}},_render:function(){var a=this;a._drawBackground(),a._drawDial(),a._drawMarks(),a._drawLabels(),a._drawSpinner(),a._drawProgressBars(),a._updateMarksColor(),a._updateSpinnerMarksColor(),a._drawPointers(),a._attatchPointerEventHandlers()},_setValue:function(b,c){var d=this,e=d.value;if(isNaN(b)&&(b=d.min),b>d.max?b=d.max:b<d.min&&(b=d.min),d.snapToStep)for(var f=d._steps,g=0;g<f.length;g++)if(b<f[g]){b=0===g?f[g]:f[g]-b<b-f[g-1]?f[g]:f[g-1];break}if(b!=e){if(a.isArray(d.value)){if(d._pointerGrabbedIndex!=-1){if(1==d._pointerGrabbedIndex){d.value[0];d.value[d._pointerGrabbedIndex]=b}if(0==d._pointerGrabbedIndex){d.value[1];d.value[d._pointerGrabbedIndex]=b}d.value[d._pointerGrabbedIndex]=b}}else d.value=b;d._updateProgressBarColor(),d._updateMarksColor(),d._updateSpinnerMarksColor();var h=d.dragStartAngle+d._calculateAngleFromValue(b,d.dragStartAngle,d.dragEndAngle,d.min,d.max);d._rotateSpinnerMarks(h),d._movePointers(),d._raiseEvent(1,{value:d.value,type:c})}},_updateMarksColor:function(){var b=this;if(b.marks&&(b.marks.colorProgress||b.marks.colorRemaining)){var c=b.renderer,d=[];a.each(b._marksList,function(a){return b.endAngle-b.startAngle===360&&a==b.max?void d.push(a):void d.push(a)});for(var e=b._getColor(b.marks.colorProgress),f=b._getColor(b.marks.colorRemaining),g=b.value.length?b.value[0]:b.value,h=0;h<b._dialMarks.length;h++)d[h]>g?"circle"===b.marks.type?c.attr(b._dialMarks[h],{fill:f}):c.attr(b._dialMarks[h],{stroke:f}):"circle"===b.marks.type?c.attr(b._dialMarks[h],{fill:e}):c.attr(b._dialMarks[h],{stroke:e}),b.progressBar&&b.marks.drawAboveProgressBar&&b._dialMarks[h].parentNode.appendChild(b._dialMarks[h].parentNode.removeChild(b._dialMarks[h]))}},_updateSpinnerMarksColor:function(){var b=this;if(b.spinner&&b.spinner.marks&&b.spinner.marks&&(b.spinner.marks.colorProgress||b.spinner.marks.colorRemaining)){var c=b.renderer,d=[];a.each(b._spinnerMarksList,function(a){b.endAngle-b.startAngle===360&&a==b.max||d.push(a)});for(var e=b._getColor(b.spinner.marks.colorProgress),f=b._getColor(b.spinner.marks.colorRemaining),g=b.value.length?b.value[0]:b.value,h=0;h<b._spinnerMarks.length;h++)d[h]>g?"circle"===b.spinner.marks.type?c.attr(b._spinnerMarks[h],{fill:f}):c.attr(b._spinnerMarks[h],{stroke:f}):"circle"===b.spinner.marks.type?c.attr(b._spinnerMarks[h],{fill:e}):c.attr(b._spinnerMarks[h],{stroke:e})}},_updateProgressBarColor:function(){var a=this;a.progressBar&&a._drawProgressBars()},_validateProperties:function(){var a=this,b=function(a,b){if(a&&"string"==typeof a){var c=a;return a={fill:c,stroke:c}}return a||(a={},a.fill=b,a.stroke=b),a&&a.fill&&!a.stroke&&(a.stroke=a.fill),a&&!a.fill&&a.stroke&&(a.fill=a.stroke),a&&!a.fill&&(a.fill=b),a&&!a.stroke&&(a.stroke=b),a};if(a.dial&&(a.dial.style=b(a.dial.style,"#dddddd")),a.style&&(a.style=b(a.style,"#dddddd")),a.progressBar&&(a.progressBar.style=b(a.progressBar.style,"transparent"),a.progressBar.background=b(a.progressBar.background,"transparent")),a.spinner&&(a.spinner.style=b(a.spinner.style,"transparent")),a.pointer&&(a.pointer.style=b(a.pointer.style,"transparent")),a.startAngle>=a.endAngle)throw new Error("jqxKnob: The end angle must be bigger than the start angle!");if(a.startAngle<0||a.startAngle>360)throw new Error("jqxKnob: Start angle must be between 0 and 360");if(a.endAngle>a.startAngle+360)throw new Error("jqxKnob: End angle must be between startAngle and startAngle + 360");if(a.dial&&a.dial.color&&"transparent"!==a.dial.color&&(!a.dial.outerRadius||!a.dial.innerRadius))throw new Error("jqxKnob: Dial options innerRadius and outerRadius need to be specified");if(a._isArray(a.pointer)||a._isArray(a.value)){if(!a._isArray(a.pointer))throw new Error("jqxKnob: If the value is an array, the pointer must also be an array.");if(!a._isArray(a.value))throw new Error("jqxKnob: If the pointer is an array, the value must also be an array.");if(a.pointer.length!==a.value.length)throw new Error("jqxKnob: The pointer and value array sizes must match.");if(a.progressBar&&(!a._isArray(a.progressBar.style)||a.progressBar.style.length!==a.pointer.length))throw new Error("jqxKnob: progressBar color must be an array with the same number of elements as the pointer and value.")}return!0}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxDockingLayout","jqxLayout",{}),a.extend(a.jqx._jqxDockingLayout.prototype,{defineInstance:function(){var b={events:["float","dock"]};return this.base&&(this.base.dockingLayout=this),this===a.jqx._jqxDockingLayout.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var b=this;if(!b.base.host.jqxWindow)throw new Error("jqxDockingLayout: Missing reference to jqxwindow.js.");b._oldIE=a.jqx.browser.msie&&a.jqx.browser.version<9,b._addClasses(),b.base._initiallyHidden!==!0&&(b._createOverlay(),b._createEdgeOverlays())},loadLayout:function(b){if(void 0!==b&&a.isEmptyObject(b)===!1){for(var c=this.base,d=c.element.id,e=c._find(document.body,"."+d+"FloatGroup"),f=0;f<e.length;f++){var g=a(e[f]);g.off(),g.jqxWindow("destroy")}c.loadLayout(b)}},destroy:function(){for(var b=this,c=b.base,d=c.element.id,e=c._find(document.body,"."+d+"FloatGroup"),f=0;f<e.length;f++){var g=a(e[f]);g.off(),g.jqxWindow("destroy")}b._removeHandlers(),c.destroy()},addFloatGroup:function(a,b,c,d,e,f,g){var h=this.base,i={type:"floatGroup",width:a,height:b,position:c,items:[],programmaticallyAdded:!0},j={type:d,title:e,content:f,initContent:g};i.items.push(j),h.layout.push(i),h.render()},_raiseEvent:function(b,c){void 0===c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,e.args=c,e.preventDefault&&e.preventDefault();var f=this.base.host.trigger(e);return f},_addClasses:function(){var a=this.base;a.host.addClass(a.toThemeProperty("jqx-docking-layout"))},_removeHandlers:function(){var b=this,c=b.base,d=c.element.id;b.removeHandler(a(document),"mousemove.jqxDockingLayout"+d),b.removeHandler(c.host,"mouseleave.jqxDockingLayout"+d),c._touchDevice&&(b.removeHandler(a(document),"touchmove.jqxDockingLayout"+d),b.removeHandler(a(document),"touchend.jqxDockingLayout"+d))},_removeByDragHandler:function(b,c,d,e,f){void 0===e&&(e=b.args.draggedIndex),void 0===f&&(f=!0);var g=this,h=g.base,i=c.items,j=i[e],k=h._find(c.widget,".jqx-ribbon-content-section")[e],l=h._detachChildNodes(k);d.hasClass("jqx-ribbon")||(d=a(h._find(d,".jqx-ribbon")[0])),g.base._suppressResizeHandler=!0,g._createFloatGroup(b,j.title,l,"documentGroup",c,j),g.base._closeDocumentPanel(e,i,c,d,f),g.base._suppressResizeHandler=!1},_floatTabbedGroup:function(b,c,d){for(var e,f,g=this,h=g.base,i=[],j=a(h._find(c,".jqx-ribbon")[0]),k=h._find(j,".jqx-ribbon-content-section"),l=0;l<b.items.length;l++){var m=b.items[l],n=h._detachChildNodes(k[l]);m.selected&&(e=m.title,f=l),i.push(n)}g._createFloatGroup(d,e,i,"tabbedGroup",b,null,f),g.base._close(b),d&&(d.target.style.cursor="")},_addTabbedGroupHandlers:function(b,c){function d(a){j===!0&&g._clickedToResize!==!0&&(f._floatTabbedGroup(b,c,a),j=!1)}var e,f=this,g=f.base,h=g.element.id,i=g._find(c,".jqx-layout-window-header")[0],j=!1,k=g._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];f.addHandler(i,k[0]+".jqxDockingLayout"+h,function(a){if(b.allowDrag!==!1&&(j=!0,a.target.style.cursor="move",g._touchDevice)){var c=a.originalEvent.touches[0];e=document.elementFromPoint(c.pageX,c.pageY)}}),f.addHandler(i,k[1]+".jqxDockingLayout"+h,function(a){j=!1,a.target.style.cursor=""}),g._touchDevice?f.addHandler(a(document),"touchmove.jqxDockingLayout"+h,function(a){g._clickedToResize===!0&&a.preventDefault();var b=a.originalEvent.touches[0];e!==document.elementFromPoint(b.pageX,b.pageY)&&d({pageX:b.pageX,pageY:b.pageY,target:e})}):f.addHandler(i,"mouseleave.jqxDockingLayout"+h,function(a){d({pageX:a.pageX,pageY:a.pageY,target:a.target})})},_floatAutoHideGroup:function(a,b,c,d){var e=this,f=e.base._detachChildNodes(c);e._createFloatGroup(d,b,f,"autoHideGroup",a,a),e.base._close(a)},_addAutoHideGroupHandlers:function(b,c,d,e){function f(a){k===!0&&(h._floatAutoHideGroup(b,d,e,a),k=!1,a.target.style.cursor="")}var g,h=this,i=h.base,j=i.element.id,k=!1,l=i._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];h.addHandler(c,l[0]+".jqxDockingLayout"+j,function(a){if(b.parent.allowDrag!==!1&&(k=!0,a.target.style.cursor="move",i._touchDevice)){var c=a.originalEvent.touches[0];g=document.elementFromPoint(c.pageX,c.pageY)}}),h.addHandler(c,l[1]+".jqxDockingLayout"+j,function(a){k=!1,a.target.style.cursor=""}),i._touchDevice?h.addHandler(a(document),"touchmove.jqxDockingLayout"+j,function(a){i._clickedToResize===!0&&a.preventDefault();var b=a.originalEvent.touches[0];g!==document.elementFromPoint(b.pageX,b.pageY)&&f({pageX:b.pageX,pageY:b.pageY,target:g})}):h.addHandler(c,"mouseleave.jqxDockingLayout"+j,function(a){f({pageX:a.pageX,pageY:a.pageY,target:a.target})})},_createFloatGroup:function(b,c,d,e,f,g,h){var i,j,k,l,m,n,o=this,p=o.base,q=document.createElement("div");if(q.className=p.toThemeProperty("jqx-docking-layout-group-floating")+" "+p.element.id+"FloatGroup",q.innerHTML="<div></div><div></div>",document.body.appendChild(q),q=a(q),"documentGroup"===e)b&&(i=b.args.x,j=b.args.y),k=f.widget.width(),l=f.widget.height(),m=d;else if("tabbedGroup"===e){b&&(i=b.pageX,j=b.pageY),k=f.widget.width(),l=f.widget.height(),m="",n=document.createElement("div");var r=document.createElement("div"),s=document.createElement("ul");s.className="jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(o.rtl?"rtl":"ltr");for(var t=0;t<f.items.length;t++){var u=f.items[t],v=document.createElement("div"),w=document.createElement("li");w.innerHTML=u.title,s.appendChild(w);for(var x=0;x<d[t].length;x++)d[t][x].appendTo(v);r.appendChild(v)}n.appendChild(s),n.appendChild(r),n=a(n),m=n}else"autoHideGroup"===e&&(b&&(i=b.pageX,j=b.pageY),k=a(p._find(f.parent.widget,".jqx-ribbon-content")[0]).width(),l=f.parent.widget.height(),m=d);if(!i&&!j){var y=p.host.offset();i=(p.host.width()-k)/2+y.left+100,j=(p.host.height()-l)/2+y.top+10}q.on("moved close",function(a){o._hideOverlays();var b=q.current;"moved"===a.type?(b.position.x=a.args.x,b.position.y=a.args.y,b._overlayGroup&&o._updateOverlayGroup(b._overlayGroup),o._clearTextSelection(),o._windowCreate=!1,o._hideOverlays()):(p._raiseEvent("4",{element:q,floatGroup:q.current}),b._overlayGroup&&(b._overlayGroup.removed=!0,o._updateOverlayGroups()),b.removed=!0,p._updateLayout(p.layout))}),q.on("resized",function(b){var c=q.current,d=a(this).offset();c.width=b.args.width,c.height=b.args.height,c.position.x=d.left,c.position.y=d.top,c._overlayGroup&&o._updateOverlayGroup(c._overlayGroup)}),q.jqxWindow({theme:p.theme,title:c,content:m,width:k,maxWidth:null,height:l,maxHeight:null,position:{x:i-100,y:j-10},closeButtonAction:"close",rtl:p.rtl,initContent:function(){var a,d=this._header,k=p._touchDevice?"touchstart":"mousedown";a="autoHideGroup"===e?f.parent:f,b&&(o._draggedWindow={fromGroup:a,fromPanel:g,title:c,element:q},d.trigger("mousedown",[i,j]),o._windowDragged=!0,o._windowCreate=!0,o._interval(),p.resizable&&(p._overlay[0].style.display="block"),o._showEdgeOverlays()),d.on(k,function(){o._windowDragged=!0,q.current._overlayGroup&&(q.current._overlayGroup.self=!0),o._interval(),p.resizable&&(p._overlay[0].style.display="block"),o._draggedWindow={fromGroup:a,fromPanel:g,title:c,element:q},o._showEdgeOverlays()}),d.on("mouseup",function(){o._hideOverlays(),o._windowCreate=!1}),"tabbedGroup"===e&&(n.jqxRibbon({theme:p.theme,width:"100%",height:"100%",position:"bottom",selectedIndex:h,selectionMode:"click",animationType:"none",rtl:p.rtl,reorder:!0,_suppressReorder:!1,_removeByDrag:!0}),n.on("select",function(a){if(!a.owner.widgetName||"jqxRibbon"===a.owner.widgetName){var b=q.current.items[0].items[a.args.selectedIndex];q.jqxWindow("setTitle",b.title),b.selected=!0}}),n.on("unselect",function(a){a.owner.widgetName&&"jqxRibbon"!==a.owner.widgetName||(q.current.items[0].items[a.args.unselectedIndex].selected=!1)}),n.on("reorder",function(a){p._swapPanelsInLayout(q.current.items[0].items,a.args.newIndex,a.args.oldIndex)}),n.on("_removeByDrag",function(a){o._removeByDragHandler(a,q.current.items[0],n),1===q.current.items[0].items.length&&n.jqxRibbon({_removeByDrag:!1})}))}});var z,A,B={type:"floatGroup",parent:{type:"host"},widget:q,position:{x:i-100,y:j-10},index:p.layout.length,width:k,height:l};if(q.current=B,g)B.items=[],p._copyItem(g,B.items),z=B.items,A=B;else{B.items=[{type:"tabbedGroup",items:[],parent:B,widget:n}],z=B.items[0].items;for(var C=0;C<f.items.length;C++)p._copyItem(f.items[C],z);A=B.items[0]}for(var D=0;D<z.length;D++)z[D].parent=A;p.layout.push(B),o._raiseEvent("0",{item:B}),o._trackFloatGroups()},_interval:function(){var a=this;if(a._oldIE===!0){var b=a._overlayWidth,c=a._overlayHeight;a._oldIEInterval=setInterval(function(){a._checkPosition(b,c),a._windowCreate&&a._draggedWindow.element.jqxWindow("move",a._x-50,a._y-10)},1e3)}},_createOverlay:function(){function b(b,c,d,f){e._dropOverlay.style.display="block",e._dropOverlay.style.width=b+"px",e._dropOverlay.style.height=c+"px",a(e._dropOverlay).offset({left:d,top:f})}function c(c){if(c=e._closest(c,"jqx-docking-layout-overlay-square"),i=c,!a(f._find(c,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled")){var d=e._dropToGroup.element.width(),g=e._dropToGroup.element.height(),h=e._dropToGroup.element.offset();c.hasClass("jqx-docking-layout-overlay-square-top")?b(d,g/2,h.left,h.top):c.hasClass("jqx-docking-layout-overlay-square-left")?b(d/2,g,h.left,h.top):c.hasClass("jqx-docking-layout-overlay-square-center")&&!e._overlayCenter.hasClass("jqx-docking-layout-square-disabled")?b(d,g,h.left,h.top):c.hasClass("jqx-docking-layout-overlay-square-right")?b(d/2,g,h.left+d/2,h.top):c.hasClass("jqx-docking-layout-overlay-square-bottom")?b(d,g/2,h.left,h.top+g/2):f._touchDevice&&(e._dropOverlay.style.display="none",i=!1)}}function d(b){var c=e._dropToGroup.settings;if(a(f._find(b,".jqx-docking-layout-overlay-inner-square")[0]).hasClass("jqx-fill-state-disabled"))return void e._hideOverlays();if(b.hasClass("jqx-docking-layout-overlay-square-top"))e._dropHandler(0,"vertical","height","top");else if(b.hasClass("jqx-docking-layout-overlay-square-left"))e._dropHandler(0,"horizontal","width","left");else if(b.hasClass("jqx-docking-layout-overlay-square-center")){var d,g,h=e._getDraggedWindowInformation(),i=h.title,j=h.content;if("documentGroup"===c.type?(d=c.widget,g="documentPanel"):"tabbedGroup"===c.type&&(d="floatGroup"===c.parent.type?c.widget:a(f._find(c.widget,".jqx-ribbon")[0]),g="layoutPanel"),"layoutGroup"===c.type)e._dropToEmptyLayoutGroup(h);else for(var k=0;k<i.length;k++){d.jqxRibbon({_suppressReorder:!0}),d.jqxRibbon("addAt",f._find(d,".jqx-ribbon-content-section").length,{title:i[k],content:j[k]},!0);var l=c.items.length,m={type:g,title:i[k],parent:c,index:l,detachedContent:h.content[k],docked:!0};c.items.push(m),f._addRightClickHandler(a(f._find(d,".jqx-ribbon-item")[l]),{current:m}),d.jqxRibbon({_suppressReorder:!1})}"floatGroup"===c.parent.type&&c.widget.jqxRibbon({_removeByDrag:!0}),e._clearTextSelection(),e._raiseEvent("1",{position:"center",item:c})}else b.hasClass("jqx-docking-layout-overlay-square-right")?e._dropHandler(1,"horizontal","width","right"):b.hasClass("jqx-docking-layout-overlay-square-bottom")&&e._dropHandler(1,"vertical","height","bottom");e._removeFloatGroupObject(e._draggedWindow.element.current),e._draggedWindow.element.remove(),e._hideOverlays()}var e=this,f=e.base,g=f.element.id;e._overlay=document.createElement("div"),e._overlay.className=f.toThemeProperty("jqx-docking-layout-overlay"),e._overlay.innerHTML='<div class="jqx-docking-layout-overlay-section"><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-top")+'"><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+f.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+f.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-top")+'"></div></div></div></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-left")+'"><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+f.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+f.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-left")+'"></div></div></div></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-center")+'"><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+f.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-highlight")+'"></div></div></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-right")+'"><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+f.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+f.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-right")+'"></div></div></div></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-bottom")+'"><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+f.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+f.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-bottom")+'"></div></div></div></div><div class="'+f.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div>',e._overlay=a(e._overlay);var h=f._find(e._overlay,".jqx-docking-layout-overlay-square-center")[0];e._overlayCenter=a(h.firstChild),e._dropOverlay=document.createElement("div"),e._dropOverlay.className=e.toThemeProperty("jqx-docking-layout-drop-overlay"),e._dropOverlayHelper=a(e._dropOverlay),f._ie7?a("body").append(e._overlay,e._dropOverlay):(f.element.appendChild(e._overlay[0]),f.element.appendChild(e._dropOverlay)),e._overlayWidth=e._overlay[0].offsetWidth,e._overlayHeight=e._overlay[0].offsetHeight,e._overlay[0].style.display="none",e._addOverlayHandlers(),e._squares=[f._find(e._overlay,".jqx-docking-layout-overlay-square-top")[0],f._find(e._overlay,".jqx-docking-layout-overlay-square-left")[0],h,f._find(e._overlay,".jqx-docking-layout-overlay-square-right")[0],f._find(e._overlay,".jqx-docking-layout-overlay-square-bottom")[0]],e._sansCenter=[a(f._find(a(e._squares[0]),".jqx-docking-layout-overlay-inner-square")[0]),a(f._find(a(e._squares[1]),".jqx-docking-layout-overlay-inner-square")[0]),a(f._find(a(e._squares[3]),".jqx-docking-layout-overlay-inner-square")[0]),a(f._find(a(e._squares[4]),".jqx-docking-layout-overlay-inner-square")[0])];var i=!1;f._touchDevice?(e.addHandler(a(document),"touchmove.jqxDockingLayout"+g,function(b){if(e._windowDragged){b.preventDefault();var d=b.originalEvent.touches[0],f=a(document.elementFromPoint(d.pageX,d.pageY));c(f)}}),e.addHandler(a(document),"touchend.jqxDockingLayout"+g,function(){i!==!1&&(d(i),i=!1)})):a.each(e._squares,function(){e.addHandler(this,"mouseenter.jqxDockingLayout"+g,function(){c(a(this))}),e.addHandler(this,"mouseleave.jqxDockingLayout"+g,function(){e._dropOverlay.style.display="none"}),e.addHandler(this,"mouseup.jqxDockingLayout"+g,function(){d(a(this))})})},_addOverlayHandlers:function(){var b=this,c=b._overlayWidth,d=b._overlayHeight;b.base._touchDevice?b.addHandler(a(document),"touchmove.jqxDockingLayout"+b.base.element.id,function(a){var e=a.originalEvent.touches[0];b._x=e.pageX,b._y=e.pageY,b._windowDragged&&!b._oldIE&&(b._checkPosition(c,d),b._windowCreate&&b._draggedWindow.element.jqxWindow("move",e.pageX-50,e.pageY-10))}):b.addHandler(a(document),"mousemove.jqxDockingLayout"+b.base.element.id,function(a){b._x=a.pageX,b._y=a.pageY,b._windowDragged&&!b._oldIE&&(b._checkPosition(c,d),b._windowCreate&&b._draggedWindow.element.jqxWindow("move",a.pageX-50,a.pageY-10))})},_checkPosition:function(a,b){for(var c=this,d=c.base,e=c._x,f=c._y,g=0;g<d._overlayGroups.length;g++){var h=d._overlayGroups[g];if(!h.self){var i=h.width,j=h.height,k=h.offset,l=k.left,m=k.top;if(e>=l&&e<=l+i&&f>=m&&f<=m+j){if(("documentGroup"===h.settings.type&&"documentGroup"===c._draggedWindow.fromGroup.type||"tabbedGroup"===h.settings.type&&("tabbedGroup"===c._draggedWindow.fromGroup.type||"autoHideGroup"===c._draggedWindow.fromGroup.type)||"layoutGroup"===h.settings.type)&&h.settings.allowDrop!==!1)c._overlayCenter.removeClass(d.toThemeProperty("jqx-fill-state-disabled"));else if(c._overlayCenter.addClass(d.toThemeProperty("jqx-fill-state-disabled")),"floatGroup"===h.settings.parent.type)return;for(var n=0;n<c._sansCenter.length;n++)"floatGroup"===h.settings.parent.type?c._sansCenter[n].addClass(d.toThemeProperty("jqx-fill-state-disabled")):c._sansCenter[n].removeClass(d.toThemeProperty("jqx-fill-state-disabled"));return c._overlay[0].style.display="block",c._overlay.offset({left:parseInt(l+i/2-a/2,10),top:parseInt(m+j/2-b/2,10)}),void(c._dropToGroup=h)}}}c._overlay[0].style.display="none"},_dropHandler:function(b,c,d,e){var f,g,h=this,i=h.base,j=h._dropToGroup.settings,k=j.parent,l=h._getDraggedWindowInformation(),m=l.title,n=l.content,o=l.groupType,p=l.itemType,q=[];if(k.orientation===c){f=j.index+b,g={type:o,parent:k},g[d]=h._draggedWindow.element[d]();for(var r=0;r<m.length;r++)q.push({type:p,title:m[r],parent:g,prevent:!0,selected:h._getFloatGroupItemSelection(r),detachedContent:n[r],docked:!0});g.items=q,h._setOptimalDimension(d,g,j),k.items.splice(f,0,g)}else{var s,t;"width"===d?(s="height",t="minHeight"):(s="width",t="minWidth");var u={type:"layoutGroup",orientation:c,parent:j.parent,index:j.index};u[s]=j[s],j[t]&&(u[t]=j[t]),j.parent.items.splice(j.index,1),j.parent.items.splice(j.index,0,u),j.parent=u,g={type:o,parent:u};for(var v=0;v<m.length;v++)q.push({type:p,title:m[v],parent:g,prevent:!0,selected:h._getFloatGroupItemSelection(v),detachedContent:n[v],docked:!0});g.items=q,delete j[s],j[d]="50%",g[d]="50%",u.items=[j],u.items.splice(0+b,0,g)}i.render();for(var w=i._find(g.widget,".jqx-ribbon-content-section"),x=0;x<w.length;x++)for(var y=a(w[x]),z=n[x],A=0;A<z.length;A++)n[x][A].appendTo(y);h._clearTextSelection(),i._raiseEvent("1",{item:j}),h._raiseEvent("1",{position:e,item:g})},_setOptimalDimension:function(a,b,c){var d,e=this,f="width"===a?"minWidth":"minHeight",g=c[f]||e.base["minGroup"+a.charAt(0).toUpperCase()+a.slice(1)],h=c.parent.widget[a]();d=parseFloat(c[a])-g/h*100;var i=b[a]/h*100;if(d<i){b[a]=parseFloat(c[a])/2+"%",b[f]=parseInt(parseFloat(b[a])/100*h,10),c[a]=parseFloat(c[a])-parseFloat(b[a])+"%";var j=parseInt(parseFloat(c[a])/100*h,10);j<g&&(c[f]=j)}else b[a]=i+"%",c[a]=parseFloat(c[a])-i+"%"},_dropToEmptyLayoutGroup:function(a){var b=this,c=b._dropToGroup.settings,d=a.groupType,e={type:d,items:[],parent:c},f=a.content;"horizontal"===c.orientation?e.width="100%":"vertical"===c.orientation&&(e.height="100%");for(var g=0;g<a.title.length;g++){var h={type:a.itemType,title:a.title[g],parent:e,prevent:!0,selected:b._getFloatGroupItemSelection(g),detachedContent:f[g],docked:!0};e.items.push(h)}c.items.push(e),b.base.render();for(var i=b.base._find(e.widget,".jqx-ribbon-content-section"),j=0;j<i.length;j++)for(var k=0;k<f[j].length;k++)f[j][k].appendTo(i[j])},_getFloatGroupItemSelection:function(a){var b,c=this;return b=!!c._draggedWindow.fromPanel||c._draggedWindow.element.current.items[0].items[a].selected},_createEdgeOverlays:function(){function b(b){var e,f,g="left"===b||"right"===b?"horizontal":"vertical",h='<div class="'+d.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-mini-window-edge-"+g)+'"><div class="'+d.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header jqx-docking-layout-overlay-inner-square-header-"+g)+'"></div><div class="'+d.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-inner-square-content-"+g)+'"></div></div>',i='<div class="'+d.toThemeProperty("jqx-docking-layout-overlay-square-edge-arrow-container jqx-docking-layout-overlay-square-edge-arrow-container-"+g)+'"><div class="'+d.toThemeProperty("jqx-fill-state-pressed jqx-docking-layout-overlay-square-edge-arrow jqx-docking-layout-overlay-square-edge-arrow-"+b)+'"></div></div>';
return f="left"===b||"top"===b?h+i:i+h,e=document.createElement("div"),e.className=d.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-edge"),e.innerHTML='<div class="'+d.toThemeProperty("jqx-docking-layout-overlay-inner-square-edge")+'">'+f+"</div>",d._ie7?document.body.appendChild(e):d.element.appendChild(e),c._edgeOverlays.push(e),a(e)}var c=this,d=c.base;c._edgeOverlays=[],c._leftOverlay=b("left"),c._rightOverlay=b("right"),c._topOverlay=b("top"),c._bottomOverlay=b("bottom"),c._addEdgeOverlaysHandlers()},_addEdgeOverlaysHandlers:function(){function b(b,c,d,e){f._dropOverlay.style.display="block",f._dropOverlay.style.width=b,f._dropOverlay.style.height=c,a(f._dropOverlay).offset({left:d,top:e})}function c(c){switch(e=g.host.offset(),c=f._closest(a(c),"jqx-docking-layout-overlay-square-edge")[0],i=c,c){case f._leftOverlay[0]:b("100px",g.host.height()+"px",e.left,e.top);break;case f._rightOverlay[0]:b("100px",g.host.height()+"px",e.left+g.host.width()-100,e.top);break;case f._topOverlay[0]:b(g.host.width()+"px","100px",e.left,e.top);break;case f._bottomOverlay[0]:b(g.host.width()+"px","100px",e.left,e.top+g.host.height()-100);break;default:g._touchDevice&&(i=!1)}}function d(a){switch(a){case f._leftOverlay[0]:f._dropToEdge("left",0,"horizontal","width");break;case f._rightOverlay[0]:f._dropToEdge("right",g.layout[0].items.length-1,"horizontal","width");break;case f._topOverlay[0]:f._dropToEdge("top",0,"vertical","height");break;case f._bottomOverlay[0]:f._dropToEdge("bottom",g.layout[0].items.length-1,"vertical","height")}}var e,f=this,g=f.base,h=g.element.id,i=!1;g._touchDevice?(f.addHandler(a(document),"touchmove.jqxDockingLayout"+h,function(b){if(f._windowDragged){b.preventDefault();var d=b.originalEvent.touches[0],e=a(document.elementFromPoint(d.pageX,d.pageY));c(e)}}),f.addHandler(a(document),"touchend.jqxDockingLayout"+h,function(){i!==!1&&(d(i),i=!1)})):a.each(f._edgeOverlays,function(){f.addHandler(this,"mouseenter.jqxDockingLayout"+h,function(){c(this)}),f.addHandler(this,"mouseleave.jqxDockingLayout"+h,function(){f._dropOverlay.style.display="none"}),f.addHandler(this,"mouseup.jqxDockingLayout"+h,function(){d(this)})})},_dropToEdge:function(a,b,c,d){var e,f,g=this,h=g.base,i=h.layout[0],j=g._getDraggedWindowInformation(),k=j.title,l=j.content,m=j.groupType,n=j.itemType,o=[];if(g._removeFloatGroupObject(g._draggedWindow.element.current),i.orientation===c){e={type:m,parent:i},e[d]=g._draggedWindow.element[d]();for(var p=0;p<k.length;p++)o.push({type:n,title:k[p],parent:e,prevent:!0,selected:g._getFloatGroupItemSelection(p),detachedContent:l[p],docked:!0});e.items=o,f=i.items[b],g._setOptimalDimension(d,e,f),"left"===a||"top"===a?i.items.splice(b,0,e):i.items.push(e)}else{var q,r;"width"===d?(q="height",r="minHeight"):(q="width",r="minWidth");var s={type:"layoutGroup",orientation:c,parent:i.parent,index:i.index};e={type:m,parent:s};for(var t=0;t<k.length;t++)o.push({type:n,title:k[t],parent:e,prevent:!0,selected:g._getFloatGroupItemSelection(t),detachedContent:l[t],docked:!0});e.items=o,delete i[q],delete e[q],e[d]="50%",i[d]="50%",i.parent=s,"left"===a||"top"===a?s.items=[e,i]:s.items=[i,e],h.layout[0]=s,f=i}h.render();for(var u=h._find(e.widget,".jqx-ribbon-content-section"),v=0;v<u.length;v++)for(var w=0;w<l[v].length;w++)l[v][w].appendTo(u[v]);g._clearTextSelection(),h._raiseEvent("1",{item:f}),g._raiseEvent("1",{position:a+"-edge",item:e}),g._draggedWindow.element.remove(),g._hideOverlays()},_showEdgeOverlays:function(){function a(b){if(b.items&&0!==b.items.length){var c=b.orientation,d=b.items[0],e=b.items[b.items.length-1];"horizontal"===c?("autoHideGroup"===d.type?g=g&&!1:"layoutGroup"===d.type&&a(d),"autoHideGroup"===e.type?h=h&&!1:"layoutGroup"===e.type&&a(e)):"vertical"===c&&("autoHideGroup"===d.type?i=i&&!1:"layoutGroup"===d.type&&a(d),"autoHideGroup"===e.type?j=j&&!1:"layoutGroup"===e.type&&a(e))}}var b=this,c=b.base,d=c.host.width(),e=c.host.height(),f=c.host.offset(),g=!0,h=!0,i=!0,j=!0;a(c.layout[0]),g&&(b._leftOverlay[0].style.display="block"),h&&(b._rightOverlay[0].style.display="block"),i&&(b._topOverlay[0].style.display="block"),j&&(b._bottomOverlay[0].style.display="block"),b._leftOverlay.offset({left:f.left+5,top:f.top+e/2-20}),b._rightOverlay.offset({left:f.left+d-40,top:f.top+e/2-20}),b._topOverlay.offset({left:f.left+d/2-20,top:f.top+5}),b._bottomOverlay.offset({left:f.left+d/2-20,top:f.top+e-40})},_hideOverlays:function(){var a=this,b=a.base;a._windowDragged=!1,a._oldIE===!0&&clearInterval(a._oldIEInterval),b.resizable&&setTimeout(function(){a.base._overlay[0].style.display="none"},0),a._overlay[0].style.display="none";for(var c=0;c<a._edgeOverlays.length;c++)a._edgeOverlays[c].style.display="none";a._dropOverlay.style.display="none"},_getDraggedWindowInformation:function(){var a,b,c=this,d=c.base,e=[],f=[];if(c._draggedWindow.fromPanel)e.push(c._draggedWindow.title),f.push(d._detachChildNodes(d._find(c._draggedWindow.element,".jqx-window-content")[0]));else for(var g=d._find(c._draggedWindow.element,".jqx-ribbon-content-section"),h=0;h<c._draggedWindow.element.current.items[0].items.length;h++){var i=c._draggedWindow.element.current.items[0].items[h];e.push(i.title),f.push(d._detachChildNodes(g[h]))}return"documentGroup"===c._draggedWindow.fromGroup.type?(a="documentGroup",b="documentPanel"):(a="tabbedGroup",b="layoutPanel"),{title:e,content:f,groupType:a,itemType:b}},_removeFloatGroupObject:function(a){var b=this.base;a.removed=!0,b._updateLayout(b.layout)},_trackFloatGroups:function(){for(var a=this,b=a.base,c=1;c<b.layout.length;c++){var d=b.layout[c];if("tabbedGroup"===d.items[0].type){var e=d.items[0].widget,f={element:e,width:e.width(),height:e.height(),offset:e.offset(),settings:d.items[0]};d._overlayGroup=f,b._overlayGroups.push(f)}}},_updateOverlayGroup:function(a){if(a){var b=a.element;a.width=b.width(),a.height=b.height(),a.offset=b.offset(),a.self=!1}},_updateOverlayGroups:function(){for(var a=this.base._overlayGroups,b=a.length-1;b>=0;b--){var c=a[b];c.removed===!0&&a.splice(b,1)}},_clearTextSelection:function(){try{document.selection?document.selection.empty():window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}catch(a){}},_closest:function(b,c){if(b.hasClass(c))return b;for(var d=a(b[0].parentNode);null!==d[0]&&"#document"!==d[0].nodeName;){if(d.hasClass(c))return d;d=a(d[0].parentNode)}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxListBox","",{}),a.extend(a.jqx._jqxListBox.prototype,{defineInstance:function(){var b={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:a.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"],enableContextMenu:!0,_contextMenu:null,_showCheckedItemsFirst:!1};return this===a.jqx._jqxListBox.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){var c=this;15!=a.jqx.utilities.scrollBarSize&&(c.scrollBarSize=a.jqx.utilities.scrollBarSize),null==c.width&&(c.width=200),null==c.height&&(c.height=200),c.renderListBox();var d=c;a.jqx.utilities.resize(c.host,function(){d._updateSize()},!1,c._checkForHiddenParent)},_createContextMenu:function(){var b=this,c=[{label:"Check all",id:"checkAll"},{label:"Uncheck all",id:"uncheckAll"}],d="listBoxContextMenu"+b.element.id,e="<div id='"+d+"' style='visibility : hidden'></div>";a("body").append(e),b._contextMenu=a("#"+d).jqxMenu({width:"120px",height:"60px",popupZIndex:999999999999,source:c,autoOpenPopup:!1,mode:"popup",animationShowDelay:0,animationShowDuration:0,animationHideDuration:0,animationHideDelay:0}),a(b.host).on("contextmenu",function(a){return!1}),b._contextMenu.on("itemclick",function(c){if("checkAll"===c.args.id){var d=0;a.each(b.items,function(){var a=this;a.disabled||b.checkIndex(d),d++})}else"uncheckAll"===c.args.id&&b.uncheckAll()})},_openContextMenu:function(b,c){var d=parseInt(b),e=parseInt(c);if(null!=this._contextMenu){var f=a(window).scrollTop(),g=a(window).scrollLeft();this.getCheckedItems().length==this.items.length?(this._contextMenu.jqxMenu("disable","checkAll",!0),this._contextMenu.jqxMenu("disable","uncheckAll",!1)):0==this.getCheckedItems().length?(this._contextMenu.jqxMenu("disable","checkAll",!1),this._contextMenu.jqxMenu("disable","uncheckAll",!0)):(this._contextMenu.jqxMenu("disable","checkAll",!1),this._contextMenu.jqxMenu("disable","uncheckAll",!1)),this._contextMenu.jqxMenu("open",d+5+g,e+5+f)}},_closeContextMenu:function(){null!=this._contextMenu&&this._contextMenu.jqxMenu("close")},_destroyContextMenu:function(){null!==this._contextMenu&&(a(this.host).off("contextmenu"),this._contextMenu.off(),this._contextMenu.jqxMenu("destroy")),this._contextMenu=null},resize:function(a,b){this.width=a,this.height=b,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var b=this,c=b.element.nodeName.toLowerCase();if("select"==c||"ul"==c||"ol"==c){b.field=b.element,b.field.className&&(b._className=b.field.className);var d={title:b.field.title};b.field.id.length?d.id=b.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":d.id=a.jqx.utilities.createId()+"_jqxListBox";var e=a("<div></div>",d);b.width||(b.width=a(b.field).width()),b.height||(b.height=a(b.field).outerHeight()),b.element.style.cssText=b.field.style.cssText,a(b.field).hide().after(e);var f=b.host.data();if(b.host=e,b.host.data(f),b.element=e[0],b.element.id=b.field.id,b.field.id=d.id,b._className&&(b.host.addClass(b._className),a(b.field).removeClass(b._className)),b.field.tabIndex){var g=b.field.tabIndex;b.field.tabIndex=-1,b.element.tabIndex=g}}else if(b.host.find("li").length>0||b.host.find("option").length>0){var h=a.jqx.parseSourceTag(that.element);b.source=h.items}b.element.innerHTML="";var b=b,i=b.element.className;i+=" "+b.toThemeProperty("jqx-listbox"),i+=" "+b.toThemeProperty("jqx-reset"),i+=" "+b.toThemeProperty("jqx-rc-all"),i+=" "+b.toThemeProperty("jqx-widget"),i+=" "+b.toThemeProperty("jqx-widget-content"),b.element.className=i;var j=!1;null!=b.width&&b.width.toString().indexOf("%")!=-1&&(b.host.width(b.width),j=!0),null!=b.height&&b.height.toString().indexOf("%")!=-1&&(b.host.height(b.height),0==b.host.height()&&b.host.height(200),j=!0),null!=b.width&&b.width.toString().indexOf("px")!=-1?b.host.width(b.width):void 0==b.width||isNaN(b.width)||(b.element.style.width=parseInt(b.width)+"px"),null!=b.height&&b.height.toString().indexOf("px")!=-1?b.host.height(b.height):void 0==b.height||isNaN(b.height)||(b.element.style.height=parseInt(b.height)+"px"),b.multiple||b.multipleextended||b.checkboxes?a.jqx.aria(b,"aria-multiselectable",!0):a.jqx.aria(b,"aria-multiselectable",!1);var k="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+b.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+b.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+b.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";b.host.attr("role","listbox"),b.element.innerHTML=k,b._checkForHiddenParent&&(b._addInput(),b.host.attr("tabIndex")||b.host.attr("tabIndex",1)),b.filter=a(b.element.firstChild.firstChild.firstChild),b.filterInput=a(b.filter[0].firstChild),b.filterInput.attr("placeholder",b.filterPlaceHolder),b.filterInput.addClass(b.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),b.addHandler(b.filterInput,"keyup.textchange",function(a){13==a.keyCode?b._search(a):b.filterDelay>0&&(b._filterTimer&&clearTimeout(b._filterTimer),b._filterTimer=setTimeout(function(){b._search(a)},b.filterDelay)),a.stopPropagation()});var l=a(b.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!b.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!l.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var m=parseInt(b.host.height())/2;0==m&&(m=10),b.vScrollBar=l.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:b.rtl,theme:b.theme,touchMode:b.touchMode,largestep:m});var n=a(b.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(b.hScrollBar=n.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:b.rtl,touchMode:b.touchMode,theme:b.theme}),b.content=a(b.element.firstChild.firstChild.firstChild.nextSibling),b.content[0].id="listBoxContent"+b.element.id,b.bottomRight=a(b.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(b.toThemeProperty("jqx-listbox-bottomright")).addClass(b.toThemeProperty("jqx-scrollbar-state-normal")),b.bottomRight[0].id="bottomRight"+b.element.id,b.vScrollInstance=a.data(b.vScrollBar[0],"jqxScrollBar").instance,b.hScrollInstance=a.data(b.hScrollBar[0],"jqxScrollBar").instance,b.isTouchDevice()&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)){var o=a("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");b.content.parent().append(o),b.overlayContent=b.host.find(".overlay"),b.filterable&&b.overlayContent.css("top","30px")}b._updateTouchScrolling(),b.host.addClass("jqx-disableselect"),b.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(a,b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+c+")","ig"),function(a,b){return"<b>"+b+"</b>"})},_addInput:function(){var b=this.host.attr("name");b&&this.host.attr("name",""),this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b)},_updateTouchScrolling:function(){var b=this;if(this.isTouchDevice()){b.enableHover=!1;var c=this.overlayContent?this.overlayContent:this.content;this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(a(c),a.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(a(c),"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(c,b.vScrollInstance.max,function(a,c){if(null!=c&&"hidden"!=b.vScrollBar.css("visibility")){b.vScrollInstance.value;b.vScrollInstance.setPosition(c),b._lastScroll=new Date}if(null!=a&&"hidden"!=b.hScrollBar.css("visibility")){b.hScrollInstance.value;b.hScrollInstance.setPosition(a),b._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=b.vScrollBar.css("visibility")&&"visible"!=b.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,this.element.id):a.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(a.jqx.browser.msie&&a.jqx.browser.version<9)return!1;this.touchDevice=!0,b=!0,a.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(b=!1);return b&&0!=this.touchModeStyle&&(this.scrollBarSize=a.jqx.utilities.touchScrollBarSize),b&&this.host.addClass(this.toThemeProperty("jqx-touch")),b},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&(a._cachedItemHtml=new Array,a.refresh())},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&d!=e&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)){if("_renderOnDemand"==c&&(b._render(!1,!0),b.selectedIndex!=-1)){var f=b.selectedIndex;b.selectedIndex=-1,b._stopEvents=!0,b.selectIndex(f,!1,!0),b.selectedIndex==-1&&(b.selectedIndex=f),b._stopEvents=!1}if("filterable"==c&&b.refresh(),"filterHeight"==c&&b._arrange(),"filterPlaceHolder"==c&&b.filterInput.attr("placeholder",e),"renderer"==c&&(b._cachedItemHtml=new Array,b.refresh()),"itemHeight"==c&&b.refresh(),"source"!=c&&"checkboxes"!=c||(null==e&&d&&d.unbindBindingUpdate&&(d.unbindBindingUpdate(b.element.id),d.unbindDownloadComplete(b.element.id)),b.clearSelection(),b.refresh()),"scrollBarSize"!=c&&"equalItemsWidth"!=c||e!=d&&b._updatescrollbars(),"disabled"==c&&(b._renderItems(),b.vScrollBar.jqxScrollBar({disabled:e}),b.hScrollBar.jqxScrollBar({disabled:e})),"touchMode"==c||"rtl"==c){if(b._removeHandlers(),b.vScrollBar.jqxScrollBar({touchMode:e}),b.hScrollBar.jqxScrollBar({touchMode:e}),"touchMode"==c&&!(a.jqx.browser.msie&&a.jqx.browser.version<9)){var g=a("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");b.content.parent().append(g),b.overlayContent=b.host.find(".overlay")}b.filterable&&b.filterInput&&("rtl"==c&&e?b.filterInput.addClass(b.toThemeProperty("jqx-rtl")):"rtl"!=c||e||b.filterInput.removeClass(b.toThemeProperty("jqx-rtl")),b._arrange()),b._updateTouchScrolling(),b._addHandlers(),b._render(!1)}if(this.updating||"width"!=c&&"height"!=c||b._updateSize(),"theme"==c&&d!=e&&(b.hScrollBar.jqxScrollBar({theme:b.theme}),b.vScrollBar.jqxScrollBar({theme:b.theme}),b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-listbox")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.host.addClass(b.toThemeProperty("jqx-reset")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.refresh()),"selectedIndex"==c&&(b.clearSelection(),b.selectIndex(e,!0)),"displayMember"==c||"valueMember"==c){if(d!=e){var h=b.selectedIndex;b.refresh(),b.selectedIndex=h,b.selectedIndexes[h]=h}b._renderItems()}"autoHeight"==c&&(d!=e?b._render(!1):(b._updatescrollbars(),b._renderItems())),b._checkForHiddenParent&&a.jqx.isHidden(b.host)&&a.jqx.utilities.resize(this.host,function(){b._updateSize()},!1,b._checkForHiddenParent),"enableContextMenu"==c&&(e||this._destroyContextMenu()),"_showCheckedItemsFirst"==c&&d!=e&&b._updateCheckedItems()}},loadFromSelect:function(b){if(null!=b){var c="#"+b,d=a(c);if(d.length>0){var e=a.jqx.parseSourceTag(d[0]),f=e.items,g=e.index;this.source=f,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=g,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(b){var c=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var d=function(a){if(1==a&&c.selectedIndex!=-1){var b=c.selectedIndex;c.selectedIndex=-1,c._stopEvents=!0,c.selectIndex(b,!1,!0),c.selectedIndex==-1&&(c.selectedIndex=b),c._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),a.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,b),void d(b);if((this.autoBind||!this.autoBind&&!b)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==b),d(b),this.$dataBinders$)for(var e in this.$dataBinders$){var f=this.$dataBinders$[e];if(f){var g=this.bindDataBinder(e,b);f.unbindCallbackFunc(this.element.id),f.bindCallbackFunc(this.element.id,g),f.dataBind()}}this.$dataBinders$||this._raiseEvent("6")}},bindDataBinder:function(b,c){var d=this;return"value"==b?function(a){var b=arguments[1]||{};if("load"==a||"reset"==a){var c=A.isNil(b.records)?-1:b.records,e=d.getItemByValue(c),f=e?e.index:-1;d.selectIndex(f,!1,!0,!1,"api")}else if("update"==a){var e=d.getItemByValue(b.value),f=e?e.index:-1;d.selectIndex(f,!1,!0,!1,"api")}else"load_end"==a&&d._raiseEvent("6")}:"source"==b?function(b){var e=arguments[1]||{};if("update"==b){var f,g,h=e.oldValue;f=A.isObject(h)&&!A.isArray(h)?d.valueMember?h[d.valueMember]:h.value:h,g=d.getItemByValue(f),d.updateItem(e.value,g)}else if("insert"==b){var i=e.index;void 0==i?d.addItem(e.value):d.insertItem(e.value,i)}else if("delete"==b){var j,k,l=e.value;j=A.isObject(l)&&!A.isArray(l)?d.valueMember?l[d.valueMember]:l.value:l,k=d.getItemByValue(j),d.removeItem(k)}else if("load_end"==b)d._raiseEvent("6");else if(d.source=void 0!=e.records&&a.isArray(e.records)?e.records:null,d.items=d.loadItems(d.source),d._render(!1,1==c),1==c&&d.selectedIndex!=-1){var m=d.selectedIndex;d.selectedIndex=-1,d._stopEvents=!0,d.selectIndex(m,!1,!0),d.selectedIndex==-1&&(d.selectedIndex=m),d._stopEvents=!1}}:void 0},loadSelectTag:function(){var b=a.jqx.parseSourceTag(this.field);this.source=b.items,this.selectedIndex==-1&&(this.selectedIndex=b.index)},_render:function(a,b){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==a||a)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(a,b){this.filterable&&(b-=this.filterHeight,b<0&&(b=0));var c=parseInt(this.vScrollInstance.value),d=this._searchFirstVisibleIndex(b+c,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[d]&&this.renderedVisibleItems[d].isGroup)return null;if(this.renderedVisibleItems.length>0){var e=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(e.height+e.top<b+c)return null}return d=this._searchFirstVisibleIndex(b+c),this.visibleItems[d]},_searchFirstVisibleIndex:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var c=0;void 0!=b&&null!=b||(b=this.visibleItems);for(var d=b.length;c<=d;){mid=parseInt((c+d)/2);var e=b[mid];if(void 0==e)break;if(e.initialTop>a&&e.initialTop+e.height>a)d=mid-1;else{if(!(e.initialTop<a&&e.initialTop+e.height<=a))return mid;c=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var b=this.isTouchDevice(),c=this.vScrollInstance,d=this.hScrollInstance,e=parseInt(c.value),f=parseInt(d.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(f=d.max-f);var g=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),h=g+parseInt(d.max),i=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(i=0),"visible"!=this.hScrollBar[0].style.visibility&&(h=g);var j=(this._getVirtualItemsCount(),new Array),k=0,l=parseInt(this.element.style.height)+2;this.element.style.height.indexOf("%")!=-1&&(l=this.host.outerHeight()),isNaN(l)&&(l=0);var m=0,n=0,o=0;if(0==c.value||0==this.visibleItems.length)for(var p=0;p<this.items.length;p++){var q=this.items[p];if(q.visible){q.top=-e,q.initialTop=-e,!q.isGroup&&q.visible&&(this.visibleItems[n++]=q,q.visibleIndex=n-1),this.renderedVisibleItems[o++]=q,q.left=-f;var r=q.top+q.height;r>=0&&q.top-q.height<=l&&(j[k++]={index:p,item:q}),e-=q.height,e--}}var e=0,n=0,o=0,s=[],t=!1;if(this._showCheckedItemsFirst){for(var u=[],v=[],w=this.items,x=0;x<w.length;x++)w[x].visible&&w[x].checked?u.push(w[x]):v.push(w[x]);s=u.concat(v),t=!0}else t=!0,s=this.items;if(t)for(var x=0;x<s.length;x++){var q=s[x];q.visible&&(q.top=-e,q.initialTop=-e,!q.isGroup&&q.visible&&(this.visibleItems[n]=q,q.visibleIndex=n++),this.renderedVisibleItems[o++]=q,e-=q.height,e--)}var y=e>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,z=0;k=0;for(var A=this.vScrollInstance.value,B=0;z<100+l;){var q=this.renderedVisibleItems[y];if(void 0==q)break;if(q.visible){q.left=-f;var r=q.top+q.height-A;r>=0&&q.initialTop-A-q.height<=2*l&&(j[k++]={index:y,item:q})}if(y++,q.visible&&(z+=q.initialTop-A+q.height-z),B++,B>this.items.length-1)break}if(!this._renderOnDemand)for(var C=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),D=this.toThemeProperty("jqx-listitem-state-group"),E=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),F=0,G=this,p=0;p<this.visualItems.length;p++){var H=this.visualItems[p],I=function(){var a=H[0].firstChild;if(G.checkboxes&&(a=H[0].lastChild),null!=a&&(a.style.visibility="hidden",a.className=""),G.checkboxes){var b=H.find(".chkbox");b.css({visibility:"hidden"})}};if(p<j.length){var q=j[p].item;if(q.initialTop-A>=l){I();continue}var J=a(H[0].firstChild);if(this.checkboxes&&(J=a(H[0].lastChild)),0==J.length)continue;if(null==J[0])continue;J[0].className="",J[0].style.display="block",J[0].style.visibility="inherit";var K="";if(K=!q.isGroup&&!this.selectedIndexes[q.index]>=0?C:D,(q.disabled||this.disabled)&&(K+=" "+E),this.roundedcorners&&(K+=" "+this.toThemeProperty("jqx-rc-all")),b&&(K+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),J[0].className=K,this.renderer)if(q.key||(q.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[q.key])J[0].innerHTML!=this._cachedItemHtml[q.key]&&(J[0].innerHTML=this._cachedItemHtml[q.key]);else{var L=this.renderer(q.index,q.label,q.value);J[0].innerHTML=L,this._cachedItemHtml[q.key]=J[0].innerHTML}else{if(this.itemHeight!==-1){var M=2+2*parseInt(J.css("padding-top"));J[0].style.lineHeight=q.height-M+"px",J.css("vertical-align","middle")}null!=q.html&&q.html.toString().length>0?J[0].innerHTML=q.html:null!=q.label||null!=q.value?null!=q.label?(J[0].innerHTML!==q.label&&(J[0].innerHTML=q.label),""==a.trim(q.label)&&(J[0].innerHTML=this.emptyString,""==this.emptyString&&(J[0].style.height=q.height-8+"px")),this.incrementalSearch||q.disabled||void 0!=this.searchString&&""!=this.searchString&&(J[0].innerHTML=this._highlight(q.label.toString(),this.searchString))):null===q.label?(J[0].innerHTML=this.emptyString,""==this.emptyString&&(J[0].style.height=q.height-8+"px")):J[0].innerHTML!==q.value?J[0].innerHTML=q.value:""==q.label&&(J[0].innerHTML=" "):""!=q.label&&null!=q.label||(J[0].innerHTML="",J[0].style.height=q.height-8+"px")}if(H[0].style.left=q.left+"px",H[0].style.top=q.initialTop-A+"px",q.element=J[0],q.title&&(J[0].title=q.title),this.equalItemsWidth&&!q.isGroup){if(0==m){var N=parseInt(h),O=parseInt(J.outerWidth())-parseInt(J.width());N-=O;var P=1;P=null!=P?parseInt(P):0,N-=2*P,m=N,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(m-=18)}g>this.virtualSize.width?(J[0].style.width=m+"px",q.width=m):(J[0].style.width=-4+this.virtualSize.width+"px",q.width=this.virtualSize.width-4)}else J.width()<this.host.width()&&J.width(this.host.width()-2);if(this.rtl&&(J[0].style.textAlign="right"),this.autoItemsHeight&&(J[0].style.whiteSpace="pre-line",J.width(m),q.width=m),F=0,this.checkboxes&&!q.isGroup){0==F&&(F=(q.height-16)/2,F++);var Q=a(H.children()[0]);Q[0].item=q,this.rtl?"0px"!=J[0].style.left&&(J[0].style.left="0px"):"18px"!=J[0].style.left&&(J[0].style.left="18px"),this.rtl&&Q.css("left",8+q.width+"px"),Q[0].style.top=F+"px",Q[0].style.display="block",Q[0].style.visibility="inherit";var R=q.checked,S=q.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";if(Q[0].firstChild&&Q[0].firstChild.firstChild&&Q[0].firstChild.firstChild.firstChild&&Q[0].firstChild.firstChild){var T="jqx-checkbox-checked",U="jqx-checkbox-indeterminate";R?(Q.addClass(T),Q.removeClass(U),Q[0].firstChild.firstChild.firstChild.className=S):R===!1?(Q.removeClass(T),Q.removeClass(U),Q[0].firstChild.firstChild.firstChild.className=""):null===R&&(Q.removeClass(T),Q.addClass(U),Q[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))}a.jqx.ariaEnabled&&(R?H[0].setAttribute("aria-selected",!0):H[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var Q=a(H.children()[0]);Q.css({display:"none",visibility:"inherit"})}!q.disabled&&(!this.filterable&&this.selectedIndexes[q.visibleIndex]>=0||q.selected&&this.filterable)?(J.addClass(this.toThemeProperty("jqx-listitem-state-selected")),J.addClass(this.toThemeProperty("jqx-fill-state-pressed")),a.jqx.ariaEnabled&&(H[0].setAttribute("aria-selected",!0),this._activeElement=H[0])):this.checkboxes||a.jqx.ariaEnabled&&H[0].removeAttribute("aria-selected")}else I()}}},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},_calculateVirtualSize:function(b){if(!this._renderOnDemand){var c=0,d=2,e=0,f=document.createElement("span");this.equalItemsWidth&&a(f).css("float","left"),f.style.whiteSpace="pre";var g=0,h=void 0===b?this.host.outerHeight():b+2;document.body.appendChild(f);var i=this.items.length,j=this.host.width();if(this.autoItemsHeight&&(j-=10,"hidden"!=this.vScrollBar.css("visibility")&&(j-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||i>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var e=0;e<i;e++){var k=this.items[e];if((!k.isGroup||""!=k.label||""!=k.html)&&k.visible){var l="";if(l+=k.isGroup?this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),l+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(l+=" "+this.toThemeProperty("jqx-touch")),f.className=l,this.autoItemsHeight){f.style.whiteSpace="pre-line";var m=this.checkboxes?-20:0;f.style.width=m+j+"px"}if(this.renderer){var n=this.renderer(k.index,k.label,k.value);f.innerHTML=n}else null!=k.html&&k.html.toString().length>0?f.innerHTML=k.html:null==k.label&&null==k.value||(null!=k.label?(f.innerHTML=k.label,
""==k.label&&(f.innerHTML="Empty")):f.innerHTML=k.value);var o=f.offsetHeight,p=f.offsetWidth;this.itemHeight>-1&&(o=this.itemHeight),k.height=o,k.width=p,o++,d+=o,c=Math.max(c,p),d<=h&&g++}}else{for(var d=0,q=0,r="",s=0,t=0,u=-1,e=0;e<i;e++){var k=this.items[e];if((!k.isGroup||""!=k.label||""!=k.html)&&k.visible){u++;var l="";if(0==u){if(l+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),l+=" "+this.toThemeProperty("jqx-fill-state-normal"),l+=" "+this.toThemeProperty("jqx-widget"),l+=" "+this.toThemeProperty("jqx-listbox"),l+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(l+=" "+this.toThemeProperty("jqx-touch"),l+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),f.className=l,this.autoItemsHeight){f.style.whiteSpace="pre-line";var m=this.checkboxes?-20:0;f.style.width=m+j+"px"}null==k.html||""==k.label||null==k.label?f.innerHTML="Item":null!=k.html&&k.html.toString().length>0?f.innerHTML=k.html:null==k.label&&null==k.value||(null!=k.label?null!=k.label.toString().match(new RegExp("\\w"))||null!=k.label.toString().match(new RegExp("\\d"))?f.innerHTML=k.label:f.innerHTML="Item":f.innerHTML=k.value);var o=1+f.offsetHeight;this.itemHeight>-1&&(o=this.itemHeight),q=o}void 0!=s&&(t=s),null!=k.html&&k.html.toString().length>0?(s=Math.max(s,k.html.toString().length),t!=s&&(r=k.html)):null!=k.label?(s=Math.max(s,k.label.length),t!=s&&(r=k.label)):null!=k.value&&(s=Math.max(s,k.value.length),t!=s&&(r=k.value)),k.height=q,d+=q,d++,d<=h&&g++}}f.innerHTML=r,c=f.offsetWidth}return d+=2,g<10&&(g=10),this.filterable&&(d+=this.filterHeight),f.parentNode.removeChild(f),{width:c,height:d,itemsPerPage:g}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var a=parseInt(this.host.height())/5;return a>this.items.length&&(a=this.items.length),a}return this.virtualItemsCount},_addItems:function(b){if(!this._renderOnDemand){var c=this;if(1!=c.updatingListBox){if(void 0==c.items||0==c.items.length)return c.virtualSize={width:0,height:0,itemsPerPage:0},c._updatescrollbars(),c.renderedVisibleItems=new Array,void(c.itemswrapper&&c.itemswrapper.children().remove());var d=c.host.height();if(0==b){var e=c._calculateVirtualSize(d),f=2*e.itemsPerPage;c.autoHeight&&(f=c.items.length),c.virtualItemsCount=Math.min(f,c.items.length);e.width;return c.virtualSize=e,void c._updatescrollbars()}var g=this,h=0;c.visibleItems=new Array,c.renderedVisibleItems=new Array,c._removeHandlers(),c.allowDrag&&c._enableDragDrop&&(c.itemswrapper=null),null==c.itemswrapper&&(c.content[0].innerHTML="",c.itemswrapper=a('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),c.itemswrapper[0].style.height=2*d+"px",c.content[0].appendChild(c.itemswrapper[0]));var e=c._calculateVirtualSize(d),f=2*e.itemsPerPage;c.autoHeight&&(f=c.items.length),c.virtualItemsCount=Math.min(f,c.items.length);var c=this;e.width;c.virtualSize=e;var i=Math.max(c.host.width(),17+e.width);c.itemswrapper[0].style.width=i+"px";for(var j=0,k="",l=a.jqx.browser.msie&&a.jqx.browser.version<9,m=l?' unselectable="on"':"",n=j;n<c.virtualItemsCount;n++){var o=c.items[n],p="listitem"+n+c.element.id;if(k+="<div"+m+" role='option' id='"+p+"' class='jqx-listitem-element'>",c.checkboxes){k+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var q='<div class="'+c.toThemeProperty("jqx-checkbox-default")+" "+c.toThemeProperty("jqx-fill-state-normal")+" "+c.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',r=o.checked?" "+c.toThemeProperty("jqx-checkbox-check-checked"):"";q+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+r+'"></span>',q+="</div></div>",k+=q,k+="</div>"}k+="<span"+m+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}g.WinJS?c.itemswrapper.html(k):c.itemswrapper[0].innerHTML=k;for(var s=c.itemswrapper.children(),n=j;n<c.virtualItemsCount;n++){var o=c.items[n],t=a(s[n]);if(c.allowDrag&&c._enableDragDrop&&t.addClass("draggable"),c.checkboxes){a(t.children()[0]);t.css("float","left");var u=a(t[0].firstChild);u.css("float","left")}t[0].style.height=o.height+"px",t[0].style.top=h+"px",h+=o.height+1,c.visualItems[n]=t}if(c._addHandlers(),c._updatescrollbars(),c.autoItemsHeight){var e=c._calculateVirtualSize(d),f=2*e.itemsPerPage;c.autoHeight&&(f=c.items.length),c.virtualItemsCount=Math.min(f,c.items.length);var c=this;e.width;c.virtualSize=e,c._updatescrollbars()}a.jqx.browser.msie&&a.jqx.browser.version<8&&(c.host.attr("hideFocus",!0),c.host.find("div").attr("hideFocus",!0))}}},_updatescrollbars:function(){var b=this;if(b.virtualSize){var c=b.virtualSize.height,d=b.virtualSize.width,e=b.vScrollInstance,f=b.hScrollInstance;b._arrange(!1);var g=!1,h=b.host.outerWidth(),i=b.host.outerHeight(),j=0;if(d>h&&(j=b.hScrollBar.outerHeight()+2),c+j>i){var k=e.max;e.max=2+parseInt(c)+j-parseInt(i-2),"inherit"!=b.vScrollBar[0].style.visibility&&(b.vScrollBar[0].style.visibility="inherit",g=!0),k!=e.max&&e._arrange()}else"hidden"!=b.vScrollBar[0].style.visibility&&(b.vScrollBar[0].style.visibility="hidden",g=!0,e.setPosition(0));var l=0;"hidden"!=b.vScrollBar[0].style.visibility&&(l=b.scrollBarSize+6);var m=b.checkboxes?20:0;if(b.autoItemsHeight)b.hScrollBar[0].style.visibility="hidden";else if(d>=h-l-m){var n=f.max;"inherit"==b.vScrollBar[0].style.visibility?f.max=m+l+parseInt(d)-b.host.width()+4:f.max=m+parseInt(d)-b.host.width()+6,"inherit"!=b.hScrollBar[0].style.visibility&&(b.hScrollBar[0].style.visibility="inherit",g=!0),n!=f.max&&f._arrange(),"inherit"==b.vScrollBar[0].style.visibility&&(e.max=2+parseInt(c)+b.hScrollBar.outerHeight()+2-parseInt(b.host.height()))}else"hidden"!=b.hScrollBar[0].style.visibility&&(b.hScrollBar[0].style.visibility="hidden",g=!0);f.setPosition(0),g&&b._arrange(),b.itemswrapper&&(b.itemswrapper[0].style.width=Math.max(0,Math.max(h-2,17+d))+"px",b.itemswrapper[0].style.height=Math.max(0,2*i)+"px");var o=b.isTouchDevice();o&&("visible"!=b.vScrollBar.css("visibility")&&"visible"!=b.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,b.element.id):a.jqx.mobile.setTouchScroll(!0,b.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(a){for(var b=0;b<this.selectedIndexes.length;b++)this.selectedIndexes[b]&&this.selectedIndexes[b]!=-1&&this._raiseEvent("1",{index:b,type:"api",item:this.getVisibleItem(b),originalEvent:null}),this.selectedIndexes[b]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=a&&this._renderItems()},unselectIndex:function(a,b){if(!isNaN(a)){this.selectedIndexes[a]=-1;for(var c=!1,d=0;d<this.selectedIndexes.length;d++){var e=this.selectedIndexes[d];e!=-1&&void 0!=e&&(c=!0)}if(!c){this.selectedValue=null,this.selectedIndex=-1;var f=this.getVisibleItem(a);f&&this.selectedValues[f.value]&&(this.selectedValues[f.value]=null)}void 0!=b&&1!=b||(this._renderItems(),this._raiseEvent("1",{index:a,type:"api",item:this.getVisibleItem(a),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:a,type:"api",item:this.getItem(a)})}},getInfo:function(){var a=this,b=this.getItems(),c=this.getVisibleItems(),d=function(){var b=a.vScrollInstance.value;a.filterable&&(b-=a.filterHeight);for(var d=new Array,e=0;e<c.length;e++){var f=c[e];if(f){var g=f.initialTop,h=f.height,i=!0;(g+h-b<0||g-b>=a.host.height())&&(i=!1),i&&d.push(f)}}return d}();return{items:b,visibleItems:c,viewItems:d}},getItem:function(b){if(b==-1||isNaN(b)||"string"==typeof b)return b===-1?null:this.getItemByValue(b);var c=null;a.each(this.items,function(){if(this.index==b)return c=this,!1});return c},getVisibleItem:function(a){return a==-1||isNaN(a)||"string"==typeof a?a===-1?null:this.getItemByValue(a):this.visibleItems[a]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(b<0||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0||this.filterable)var e=this.getVisibleItem(b);if(null!=e){a(e.checkBoxElement);e.checked=!0,void 0!=c&&1!=c||this._updateCheckedItems()}void 0!=d&&1!=d||this._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e})}},getCheckedItems:function(){if(!this.checkboxes)return null;var b=new Array;if(void 0!=this.items)return a.each(this.items,function(){this.checked&&(b[b.length]=this)}),b},checkAll:function(b){if(this.checkboxes&&!this.disabled){var c=this;a.each(this.items,function(){var a=this;b!==!1&&a.checked!==!0&&c._raiseEvent(3,{label:a.label,value:a.value,checked:!0,item:a}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(b){if(this.checkboxes&&!this.disabled){var c=this;a.each(this.items,function(){var a=this;b!==!1&&a.checked!==!1&&(this.checked=!1,c._raiseEvent(3,{label:a.label,value:a.value,checked:!1,item:a})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(b<0||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0||this.filterable)var e=this.getVisibleItem(b);if(null!=e){a(e.checkBoxElement);e.checked=!1,void 0!=c&&1!=c||this._updateCheckedItems()}void 0!=d&&1!=d||this._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})}},indeterminateIndex:function(b,c,d){if(this.checkboxes&&!isNaN(b)&&!(b<0||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0||this.filterable)var e=this.getVisibleItem(b);if(null!=e){a(e.checkBoxElement);e.checked=null,void 0!=c&&1!=c||this._updateCheckedItems()}void 0!=d&&1!=d||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var a=this.getVisibleItems(),b=this.selectedIndexes,c=[];for(var d in b)b[d]!=-1&&(c[c.length]=a[d]);return c},getSelectedItem:function(){var a=this.getSelectedItems();return a&&a.length>0?a[0]:null},_updateCheckedItems:function(){var b=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=b,this._renderItems();var c=a.data(this.element,"hoveredItem");null!=c&&(a(c).addClass(this.toThemeProperty("jqx-listitem-state-hover")),a(c).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(b){if(null!=this.visibleItems){if(b&&b.value&&(b=b.value),this.itemsByValue)return this.itemsByValue[a.trim(b).split(" ").join("?")];for(var c=this.visibleItems,d=0;d<c.length;d++)if(c[d].value==b)return c[d]}},checkItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.checkIndex(b.visibleIndex,!0)}return!1},uncheckItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.uncheckIndex(b.visibleIndex,!0)}return!1},indeterminateItem:function(a){if(null!=a){var b=this._getItemByParam(a);return this.indeterminateIndex(b.visibleIndex,!0)}return!1},val:function(a){if(this.input){var b=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return"number"!=typeof a&&("date"!=typeof a&&("boolean"!=typeof a&&"string"!=typeof a))};if(b(a)||0==arguments.length)return this.input.val();var c=this.getItemByValue(a);return null!=c&&this.selectItem(c),this.input?this.input.val():void 0}},selectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.selectIndex(a.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.unselectIndex(a.visibleIndex,!0)}return!1},selectIndex:function(a,b,c,d,e,f){if(!isNaN(a)){var g=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(a<-1||a>=this.visibleItems.length||null!=this.visibleItems[a]&&this.visibleItems[a].disabled||this.disabled)){if(!(this.multiple||this.multipleextended||this.selectedIndex!=a||d||this.checkboxes))return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),i&&(this.selectedValue=i.value,this.selectedValues[i.value]=i.value)));if(this.checkboxes){this._updateCheckedItems();var h=g;this.selectedIndex!=a||this.multiple||(h=-1),void 0==e&&(e="none");var i=this.getItem(a),j=this.getItem(h);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),j=this.getVisibleItem(h)),this._raiseEvent("1",{index:h,type:e,item:j,originalEvent:f}),this.selectedIndex=a,this.selectedIndexes[h]=-1,this.selectedIndexes[a]=a,i&&(this.selectedValue=i.value,this.selectedValues[i.value]=i.value),this._raiseEvent("0",{index:a,type:e,item:i,originalEvent:f}),void this._renderItems()}this.focused=!0;var k=!1;this.selectedIndex!=a&&(k=!0);var h=g;this.selectedIndex!=a||this.multiple||(h=-1),void 0==e&&(e="none");var i=this.getItem(a),j=this.getItem(h);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),j=this.getVisibleItem(h)),void 0!=d&&d)this._raiseEvent("1",{index:h,type:e,item:j,originalEvent:f}),this.selectedIndex=a,this.selectedIndexes[h]=-1,this.selectedIndexes[a]=a,i&&(this.selectedValue=i.value,this.selectedValues[i.value]=i.value),this._raiseEvent("0",{index:a,type:e,item:i,originalEvent:f});else{var l=this,m=function(a,b,c,d,e,f){if(l._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}),l.selectedIndex=a,l.$dataBinders$&&l.$dataBinders$.value){var g=e?e.value:"";l.$dataBinders$.value.updateItem(g)}l.selectedIndexes=[],b=a,l.selectedIndexes[a]=a,l.selectedValues=new Array,e&&(l.selectedValues[e.value]=e.value),l._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f})},n=function(a,b,c,d,e,f){void 0==l.selectedIndexes[a]||l.selectedIndexes[a]==-1?(l.selectedIndexes[a]=a,l.selectedIndex=a,e&&(l.selectedValues[e.value]=e.value,l._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f}))):(b=l.selectedIndexes[a],d=l.getVisibleItem(b),d&&(l.selectedValues[d.value]=null),l.selectedIndexes[a]=-1,l.selectedIndex=-1,l._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==e&&(this.clearSelection(!1),l._clickedIndex=a),n(a,h,e,j,i,f);else if(this._shiftKey){void 0==l._clickedIndex&&(l._clickedIndex=h);var o=Math.min(l._clickedIndex,a),p=Math.max(l._clickedIndex,a);this.clearSelection(!1);for(var q=o;q<=p;q++)l.selectedIndexes[q]=q,l.selectedValues[l.getVisibleItem(q).value]=l.getVisibleItem(q).value,l._raiseEvent("0",{index:q,type:e,item:this.getVisibleItem(q),originalEvent:f});"keyboard"!=e?l.selectedIndex=l._clickedIndex:l.selectedIndex=a}}else"keyboard"!=e&&"mouse"!=e?(n(a,h,e,j,i,f),l._clickedIndex=a):(this.clearSelection(!1),l._clickedIndex=a,m(a,h,e,j,i,f));else this.multiple?n(a,h,e,j,i,f):(i&&(this.selectedValue=i.value),m(a,h,e,j,i,f))}return void 0!=c&&1!=c||this._renderItems(),void 0!=b&&null!=b&&1==b&&this.ensureVisible(a),this._raiseEvent("2",{index:a,item:i,oldItem:j,type:e,originalEvent:f}),this._updateInputSelection(),k}}},_updateInputSelection:function(){this._syncSelection();var b=new Array;if(this.input&&(this.selectedIndex==-1?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),b.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var c=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),d="";if(c){for(var e=0;e<c.length;e++)void 0!=c[e]&&(d+=e==c.length-1?c[e].value:c[e].value+",",b.push(c[e].value));this.input.val(d)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?a.each(this.field,function(c,d){a(this).removeAttr("selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this).attr("selected",!0)}):a.each(this.items,function(c,d){a(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=b.indexOf(this.value)>=0,this.selected&&a(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(a){if(isNaN(a))return!1;if(!this.items)return!1;if(a<0||a>=this.items.length)return!1;var b=this.vScrollInstance.value,c=0;this.filterable&&(c=this.filterHeight);var d=this.visibleItems[a];if(void 0==d)return!0;var e=d.initialTop,f=d.height;return!(e-b<c||e-b+c+f>=this.host.outerHeight())},_itemsInPage:function(){var b=0,c=this;return this.items&&a.each(this.items,function(){return!(this.initialTop+this.height>=c.content.height())&&void b++}),b},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(a){for(indx=a+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(a){for(indx=a-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(a){var b=this,c=b.filterInput.val();if(9!=a.keyCode&&"none"!=b.searchMode&&null!=b.searchMode&&"undefined"!=b.searchMode&&16!=a.keyCode&&17!=a.keyCode&&20!=a.keyCode)return 37!=a.keyCode&&39!=a.keyCode&&void(a.altKey||18==a.keyCode||a.keyCode>=33&&a.keyCode<=40||(a.ctrlKey||a.metaKey||b.ctrlKey)&&88!=a.keyCode&&86!=a.keyCode||c!==b.searchString&&b._updateItemsVisibility(c))},_updateItemsVisibility:function(b){var c=this.getItems();if(void 0==c)return{index:-1,matchItem:new Array};var d=this,e=-1,f=new Array,g=0;a.each(c,function(c){var h="";if(!this.isGroup){h=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",h=h.toString();var i=!1;switch(d.searchMode){case"containsignorecase":i=a.jqx.string.containsIgnoreCase(h,b);break;case"contains":i=a.jqx.string.contains(h,b);break;case"equals":i=a.jqx.string.equals(h,b);break;case"equalsignorecase":i=a.jqx.string.equalsIgnoreCase(h,b);break;case"startswith":i=a.jqx.string.startsWith(h,b);break;case"startswithignorecase":i=a.jqx.string.startsWithIgnoreCase(h,b);break;case"endswith":i=a.jqx.string.endsWith(h,b);break;case"endswithignorecase":i=a.jqx.string.endsWithIgnoreCase(h,b)}i||(this.visible=!1),i&&(f[g++]=this,this.visible=!0,e=this.visibleIndex),""==b&&(this.visible=!0,i=!1)}}),d.renderedVisibleItems=new Array,d.visibleItems=new Array,d.vScrollInstance.setPosition(0,!0),d._addItems(!1),d._renderItems();for(var h=0;h<d.items.length;h++)d.selectedIndexes[h]=-1;d.selectedIndex=-1;for(var i in d.selectedValues){var b=d.selectedValues[i],j=d.getItemByValue(b);j&&j.visible&&(d.selectedIndex=j.visibleIndex,d.selectedIndexes[j.visibleIndex]=j.visibleIndex)}d._syncSelection(),d.filterChange&&d.filterChange(b)},_getMatches:function(b,c){if(void 0==b||0==b.length)return-1;void 0==c&&(c=0);var d=this.getItems(),e=this,f=-1;return a.each(d,function(d){var g="";if(!this.isGroup){g=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var h=!1;switch(e.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(g,b);break;case"contains":h=a.jqx.string.contains(g,b);break;case"equals":h=a.jqx.string.equals(g,b);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(g,b);break;case"startswith":h=a.jqx.string.startsWith(g,b);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(g,b);break;case"endswith":h=a.jqx.string.endsWith(g,b);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(g,b)}if(h&&this.visibleIndex>=c)return f=this.visibleIndex,!1}}),f},findItems:function(b){var c=this.getItems(),d=this,e=0,f=new Array;return a.each(c,function(c){var g="";if(!this.isGroup){g=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var h=!1;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(g,b);break;case"contains":h=a.jqx.string.contains(g,b);break;case"equals":h=a.jqx.string.equals(g,b);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(g,b);break;case"startswith":h=a.jqx.string.startsWith(g,b);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(g,b);break;case"endswith":h=a.jqx.string.endsWith(g,b);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(g,b)}h&&(f[e++]=this)}}),f},_syncSelection:function(){var a=this;if(a.filterable){if(a.items)for(var b=0;b<a.items.length;b++){var c=a.items[b];c.selected=!1}for(var b=0;b<a.visibleItems.length;b++){var c=a.visibleItems[b];a.selectedIndexes&&a.selectedIndexes[b]==c.visibleIndex&&(c.selected=!0)}a.itemswrapper&&a._renderItems()}},_handleKeyDown:function(a){var b=a.keyCode,c=this,d=c.selectedIndex,e=c.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||a.target!=this.filterInput[0])){var f=function(){(c.multiple||c.checkboxes)&&c.clearSelection(!1)};if(a.altKey&&(b=-1),32==b&&this.checkboxes){var g=this.getItem(d);return null!=g&&(c._updateItemCheck(g,d),a.preventDefault()),c._searchString="",c.selectIndex(g.visibleIndex,!1,!0,!0,"keyboard",a),void c._renderItems()}if(c.incrementalSearch){var h=-1;c._searchString||(c._searchString=""),(8==b||46==b)&&c._searchString.length>=1&&(c._searchString=c._searchString.substr(0,c._searchString.length-1));var i=String.fromCharCode(b),j=!isNaN(parseInt(i)),k=!1;if(b>=65&&b<=97||j||8==b||32==b||46==b){a.shiftKey||(i=i.toLocaleLowerCase());var l=1+c.selectedIndex;8!=b&&32!=b&&46!=b&&(c._searchString.length>0&&c._searchString.substr(0,1)==i?(l=1+c.selectedIndex,c._searchString+=i):c._searchString+=i),32==b&&(c._searchString+=" ");var m=this._getMatches(c._searchString,l);if(h=m,h==c._lastMatchIndex||h==-1){var m=this._getMatches(c._searchString,0);h=m}if(c._lastMatchIndex=h,h>=0){var n=function(){f(),c.selectIndex(h,!1,!1,!1,"keyboard",a);var b=c.isIndexInView(h);b?c._renderItems():c.ensureVisible(h)};c._toSelectTimer&&clearTimeout(c._toSelectTimer),c._toSelectTimer=setTimeout(function(){n()},c.incrementalSearchKeyDownDelay)}k=!0}if(void 0!=c._searchTimer&&clearTimeout(c._searchTimer),27!=b&&13!=b||(c._searchString=""),c._searchTimer=setTimeout(function(){c._searchString="",c._renderItems()},c.incrementalSearchDelay),h>=0)return;if(k)return!1}if(33==b){var o=c._itemsInPage();c.selectedIndex-o>=0?(f(),c.selectIndex(e-o,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(32==b&&this.checkboxes){var g=this.getItem(d);null!=g&&(c._updateItemCheck(g,d),a.preventDefault()),c._searchString=""}if(36==b&&(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),35==b&&(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),34==b){var o=c._itemsInPage();c.selectedIndex+o<c.visibleItems.length?(f(),c.selectIndex(e+o,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(38==b){if(c._searchString="",!(c.selectedIndex>0))return!1;var p=c._prevItemIndex(c.selectedIndex);if(p==c.selectedIndex||p==-1)return!0;f(),c.selectIndex(p,!1,!1,!1,"keyboard",a)}else if(40==b){if(c._searchString="",!(c.selectedIndex+1<c.visibleItems.length))return!1;var p=c._nextItemIndex(c.selectedIndex);if(p==c.selectedIndex||p==-1)return!0;f(),c.selectIndex(p,!1,!1,!1,"keyboard",a)}if(35==b||36==b||38==b||40==b||34==b||33==b){var q=c.isIndexInView(c.selectedIndex);return q?c._renderItems():c.ensureVisible(c.selectedIndex),!1}return!0}},_updateItemCheck:function(a,b){if(!this.disabled)switch(1==a.checked?a.checked=!(!a.hasThreeStates||!this.hasThreeStates)&&null:a.checked=null!=a.checked,a.checked){case!0:this.checkIndex(b);break;case!1:this.uncheckIndex(b);break;default:this.indeterminateIndex(b)}},wheel:function(a,b){if(b.autoHeight||!b.enableMouseWheel)return a.returnValue=!0,!0;if(b.disabled)return!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),!!d&&(d=!1,a.returnValue=d,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){var b=this.vScrollInstance.value;a<0?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;return b!=c},focus:function(){try{this.focused=!0,this.host.focus();var a=this;setTimeout(function(){a.host.focus()},25)}catch(b){}},_removeHandlers:function(){this.removeHandler(a(document),"keydown.listbox"+this.element.id),this.removeHandler(a(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var a=this;if(a._arrange(),a.host.height()!=a._oldheight||a.host.width()!=a._oldwidth){a.host.width()!=a._oldwidth;if(a.autoItemsHeight)a._render(!1);else if(a.items)if(a.items.length>0&&a.virtualItemsCount*a.items[0].height<a._oldheight-2)a._render(!1);else{var b=a.vScrollInstance.value;a._updatescrollbars(),a._renderItems(),b<a.vScrollInstance.max?a.vScrollInstance.setPosition(b):a.vScrollInstance.setPosition(a.vScrollInstance.max)}a._oldwidth=a.host.width(),a._oldheight=a.host.height()}},_addHandlers:function(){var b=this;this.focused=!1;var c=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(c){a.jqx.browser.msie&&a.jqx.browser.version>9?setTimeout(function(){b._renderItems()},1):b._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){b._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(a){b.wheel(a,b)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(a(document),"keydown.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey||a.metaKey,b._shiftKey=a.shiftKey}),this.addHandler(a(document),"keyup.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey||a.metaKey,b._shiftKey=a.shiftKey}),this.addHandler(this.host,"keydown",function(a){return b._handleKeyDown(a)}),this.addHandler(this.content,"mouseleave",function(c){b.focused=!1;var d=a.data(b.element,"hoveredItem");null!=d&&(a(d).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(d).removeClass(b.toThemeProperty("jqx-fill-state-hover")),a.data(b.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(a){b.disabled||(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!0)}),this.addHandler(this.content,"blur",function(a){b.focused=!1,b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(a){b.disabled||(b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!0)}),this.addHandler(this.host,"blur",function(c){a.jqx.browser.msie&&a.jqx.browser.version<9&&b.focused||(b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.focused=!1)}),this.addHandler(this.content,"mouseenter",function(a){b.focused=!0});var d=a.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var e=b.isTouchDevice()&&this.touchMode!==!0,f=e?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"),function(c){if(!b.enableSelection)return!0;if(e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!0;var d=a.jqx.mobile.getTouches(c),f=d[0];if(void 0!=f){var g=b.host.offset(),h=parseInt(f.pageX),i=parseInt(f.pageY);1==b.touchMode&&void 0!=f._pageX&&(h=parseInt(f._pageX),i=parseInt(f._pageY)),h-=g.left,i-=g.top;var j=b._hitTest(h,i);if(null!=j&&!j.isGroup){if(b._newScroll=new Date,b._newScroll-b._lastScroll<500)return!1;if(b.checkboxes)return void b._updateItemCheck(j,j.visibleIndex);if(j.html.indexOf("href")==-1)return b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c),c.preventDefault&&c.preventDefault(),b.content.trigger("click"),!1;setTimeout(function(){return b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c),b.content.trigger("click"),!1},100)}}});else{var g=!1;this.addHandler(this.content,f,function(c){if(!b.enableSelection)return!0;if(g=!0,e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!1;if(b.focused=!0,!b.isTouchDevice()&&b.focusable&&b.host.focus(),c.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=c.target){var h=c.target,i=a(h).offset(),j=b.host.offset();if(d){var k=a.jqx.mobile.getLeftPos(h),l=a.jqx.mobile.getTopPos(h);i.left=k,i.top=l,k=a.jqx.mobile.getLeftPos(b.element),l=a.jqx.mobile.getTopPos(b.element),j.left=k,j.top=l}var m=parseInt(i.top)-parseInt(j.top),n=parseInt(i.left)-parseInt(j.left),o=b._hitTest(n,m);if(null!=o&&!o.isGroup){if("mousedown"==f){var p=!1;if(c.which?p=3==c.which:c.button&&(p=2==c.button),p&&b.checkboxes&&b.enableContextMenu)return null===b._contextMenu&&b._createContextMenu(),b._openContextMenu(c.clientX,c.clientY),!1}var q=function(a,c){if(b._shiftKey||(b._clickedIndex=a.visibleIndex),b.checkboxes)if(n=20+c.pageX-i.left,b.rtl){"hidden"!=b.hScrollBar.css("visibility")?b.hScrollInstance.max:b.host.width();n<=b.host.width()-20&&(b.allowDrag?setTimeout(function(){b._dragItem||g||(b._updateItemCheck(a,a.visibleIndex),b.selectIndex(a.visibleIndex,!1,!0,!1,"mouse",c))},200):(b._updateItemCheck(a,a.visibleIndex),b.selectIndex(a.visibleIndex,!1,!0,!1,"mouse",c)))}else n+b.hScrollInstance.value>=20&&(b.allowDrag?setTimeout(function(){b._dragItem||g||(b._updateItemCheck(a,a.visibleIndex),b.selectIndex(a.visibleIndex,!1,!0,!1,"mouse",c))},200):(b._updateItemCheck(a,a.visibleIndex),b.selectIndex(a.visibleIndex,!1,!0,!1,"mouse",c)));else b.selectIndex(a.visibleIndex,!1,!0,!1,"mouse",c)};o.disabled||(o.html.indexOf("href")!=-1?setTimeout(function(){q(o,c)},100):q(o,c))}if("mousedown"==f){var p=!1;return c.which?p=3==c.which:c.button&&(p=2==c.button),!!p||(b._closeContextMenu(),!1)}}return!0})}this.addHandler(this.content,"mouseup",function(a){b.vScrollInstance.handlemouseup(b,a),g=!1}),a.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(a){return!1})}var c=this.isTouchDevice();this.enableHover&&!c&&(this._mousemovefunc=function(e){if(c)return!0;if(!b.enableHover)return!0;1==a.jqx.browser.msie&&a.jqx.browser.version<9?0:1;if(null==e.target)return!0;if(b.disabled)return!0;b.focused=!0;var f=b.vScrollInstance.isScrolling();if(!f&&e.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=e.target){var g=e.target,h=a(g).offset(),i=b.host.offset();if(d){var j=a.jqx.mobile.getLeftPos(g),k=a.jqx.mobile.getTopPos(g);
h.left=j,h.top=k,j=a.jqx.mobile.getLeftPos(b.element),k=a.jqx.mobile.getTopPos(b.element),i.left=j,i.top=k}var l=parseInt(h.top)-parseInt(i.top),m=parseInt(h.left)-parseInt(i.left),n=b._hitTest(m,l);if(null!=n&&!n.isGroup&&!n.disabled){var o=a.data(b.element,"hoveredItem");null!=o&&(a(o).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(o).removeClass(b.toThemeProperty("jqx-fill-state-hover"))),a.data(b.element,"hoveredItem",n.element);var p=a(n.element);p.addClass(b.toThemeProperty("jqx-listitem-state-hover")),p.addClass(b.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(a){void 0==a&&(a=!0);var b=this,c=null,d=null,e=b.filterable?b.filterHeight:0,f=function(a){return a=b.host.height(),0==a&&(a=200,b.host.height(a)),a};null!=b.width&&b.width.toString().indexOf("px")!=-1?c=b.width:void 0==b.width||isNaN(b.width)||(c=b.width),null!=b.height&&b.height.toString().indexOf("px")!=-1?d=b.height:void 0==b.height||isNaN(b.height)||(d=b.height),null!=b.width&&b.width.toString().indexOf("%")!=-1&&(b.host.css("width",b.width),c=b.host.width()),null!=b.height&&b.height.toString().indexOf("%")!=-1&&(b.host.css("height",b.height),d=f(d)),null!=c&&(c=parseInt(c),parseInt(b.element.style.width)!=parseInt(b.width)&&b.host.width(b.width)),b.autoHeight?b.virtualSize&&("hidden"!=b.hScrollBar.css("visibility")?(b.host.height(b.virtualSize.height+parseInt(b.scrollBarSize)+3),b.height=b.virtualSize.height+parseInt(b.scrollBarSize)+3,d=b.height):(b.host.height(b.virtualSize.height),b.height=b.virtualSize.height,d=b.virtualSize.height)):null!=d&&(d=parseInt(d),parseInt(b.element.style.height)!=parseInt(b.height)&&(b.host.height(b.height),f(d)));var g=b.scrollBarSize;isNaN(g)&&(g=parseInt(g),isNaN(g)?g="17px":g+="px"),g=parseInt(g);var h=4,i=2,j=1;if(b.vScrollBar&&("hidden"!=b.vScrollBar[0].style.visibility?j=g+h:b.vScrollInstance.setPosition(0),0==g&&(j=1,i=1),b.hScrollBar)){"hidden"!=b.hScrollBar[0].style.visibility?i=g+h:b.hScrollInstance.setPosition(0),b.autoItemsHeight&&(b.hScrollBar[0].style.visibility="hidden",i=0),null==d&&(d=0);var k=parseInt(d)-h-g;k<0&&(k=0),parseInt(b.hScrollBar[0].style.height)!=g&&(parseInt(g)<0&&(g=0),b.hScrollBar[0].style.height=parseInt(g)+"px"),b.hScrollBar[0].style.top!=k+"px"&&(b.hScrollBar[0].style.top=k+"px",b.hScrollBar[0].style.left="0px");var l=c-g-h;l<0&&(l=0);var m=l+"px";if(b.hScrollBar[0].style.width!=m&&(b.hScrollBar[0].style.width=m),j<=1&&c>=2&&(b.hScrollBar[0].style.width=parseInt(c-2)+"px"),g!=parseInt(b.vScrollBar[0].style.width)&&(b.vScrollBar[0].style.width=parseInt(g)+"px"),parseInt(d)-i!=parseInt(b.vScrollBar[0].style.height)){var n=parseInt(d)-i;n<0&&(n=0),b.vScrollBar[0].style.height=n+"px"}null==c&&(c=0);var o=parseInt(c)-parseInt(g)-h+"px";o!=b.vScrollBar[0].style.left&&(parseInt(o)>=0&&(b.vScrollBar[0].style.left=o),b.vScrollBar[0].style.top="0px");var p=b.vScrollInstance;p.disabled=b.disabled,a&&p._arrange();var q=b.hScrollInstance;if(q.disabled=b.disabled,a&&q._arrange(),"hidden"!=b.vScrollBar[0].style.visibility&&"hidden"!=b.hScrollBar[0].style.visibility?(b.bottomRight[0].style.visibility="inherit",b.bottomRight[0].style.left=1+parseInt(b.vScrollBar[0].style.left)+"px",b.bottomRight[0].style.top=1+parseInt(b.hScrollBar[0].style.top)+"px",b.rtl&&b.bottomRight.css({left:0}),b.bottomRight[0].style.width=parseInt(g)+3+"px",b.bottomRight[0].style.height=parseInt(g)+3+"px"):b.bottomRight[0].style.visibility="hidden",parseInt(b.content[0].style.width)!=parseInt(c)-j){var r=parseInt(c)-j;r<0&&(r=0),b.content[0].style.width=r+"px"}if(b.rtl&&(b.vScrollBar.css({left:"0px",top:"0px"}),b.hScrollBar.css({left:b.vScrollBar.width()+2+"px"}),"hidden"!=b.vScrollBar[0].style.visibility?b.content.css("margin-left",4+b.vScrollBar.width()):(b.content.css("margin-left",0),b.hScrollBar.css({left:"0px"})),b.filterable&&b.filterInput&&b.filterInput.css({left:b.vScrollBar.width()+6+"px"})),parseInt(b.content[0].style.height)!=parseInt(d)-i){var s=parseInt(d)-i;s<0&&(s=0),b.content[0].style.height=s+"px",b.content[0].style.top="0px"}e>0&&(b.content[0].style.top=e+"px",b.content[0].style.height=parseInt(b.content[0].style.height)-e+"px"),b.filterable?(b.filterInput[0].style.height=e-6+"px",b.filterInput[0].style.top="3px",b.rtl||(b.filterInput[0].style.left=parseInt(b.content.css("left"))+3+"px"),b.filterInput[0].style.width=parseInt(b.content.css("width"))-7+"px",b.filter[0].style.display="block"):b.filter[0].style.display="none",b.overlayContent&&(b.overlayContent.width(parseInt(c)-j),b.overlayContent.height(parseInt(d)-i))}},ensureVisible:function(b,c){if(isNaN(b)){var d=this.getItemByValue(b);d&&(b=d.index)}var e=this.isIndexInView(b);if(e){if(c)for(indx=0;indx<this.visibleItems.length;indx++){var d=this.visibleItems[indx];if(d.visibleIndex==b&&!d.isGroup){var f=this.vScrollInstance.value,g=d.initialTop;this.filterable&&(g=this.filterHeight+2+d.initialTop),f+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(g)}}}else{if(b<0)return;if(this.autoHeight){var h=a.data(this.vScrollBar[0],"jqxScrollBar").instance;h.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var d=this.visibleItems[indx];if(d.visibleIndex==b&&!d.isGroup){var h=a.data(this.vScrollBar[0],"jqxScrollBar").instance,f=h.value,i=this.filterable?this.filterHeight+2:0,j="hidden"===this.hScrollBar.css("visibility"),k=j?0:this.scrollBarSize+4;if(d.initialTop<f)h.setPosition(d.initialTop),0==indx&&h.setPosition(0);else if(d.initialTop+d.height>f+this.host.height()-i){var l=this.host.height();if(this.filterable?h.setPosition(this.filterHeight+2+d.initialTop+d.height+2-l+k):(h.setPosition(d.initialTop+d.height+2-l+k),indx===this.visibleItems.length-1&&h.setPosition(h.max)),c){var f=h.value,g=d.initialTop;this.filterable&&(g=this.filterHeight+2+d.initialTop),f+l<h.max&&h.setPosition(g)}}break}}}this._renderItems()},scrollTo:function(a,b){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(b),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(a)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value+a.largestep<=a.max?(a.setPosition(a.value+a.largestep),!0):(a.setPosition(a.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value-a.largestep>=a.min?(a.setPosition(a.value-a.largestep),!0):a.value!=a.min&&(a.setPosition(a.min),!0)},databind:function(b,c){this.records=new Array;var d=!!b._source,e=new a.jqx.dataAdapter(b,{autoBind:!1});d&&(e=b,b=b._source);var f=function(a){void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async)},g=function(b,c){var d=function(c){var d=null;if("string"==typeof c)var e=c,f=c,g="";else if(void 0!=b.displayMember&&""!=b.displayMember)var f=c[b.valueMember],e=c[b.displayMember];var g="";if(b.groupMember?g=c[b.groupMember]:c&&void 0!=c.group&&(g=c.group),b.searchMember?d=c[b.searchMember]:c&&void 0!=c.searchLabel&&(d=c.searchLabel),b.valueMember||b.displayMember||"string"==a.type(c)&&(e=f=c.toString()),c&&void 0!=c.label)var e=c.label;if(c&&void 0!=c.value)var f=c.value;var h=!1;c&&void 0!=c.checked&&(h=c.checked);var i="";c&&void 0!=c.html&&(i=c.html);var j=!0;c&&void 0!=c.visible&&(j=c.visible);var k=!1;c&&void 0!=c.disabled&&(k=c.disabled);var l=!1;c&&void 0!=c.hasThreeStates&&(l=c.hasThreeStates);var m={};return m.label=e,m.value=f,m.searchLabel=d,m.html=i,m.visible=j,m.originalItem=c,m.group=g,m.groupHtml="",m.disabled=k,m.checked=h,m.hasThreeStates=l,m};if(void 0!=c){var f=e._changedrecords[0];if(f)return void a.each(e._changedrecords,function(){var a=this.index,e=this.record;if("remove"!=c)var f=d(e);switch(c){case"update":b.updateAt(f,a);break;case"add":b.insertAt(f,a);break;case"remove":b.removeAt(a)}})}b.records=e.records;for(var g=b.records.length,h=new Array,i=0;i<g;i++){var j=b.records[i],k=d(j);k.index=i,h[i]=k}b.items=b.loadItems(h,!0),b._render(),b._raiseEvent("6")};f(this);var h=this;switch(b.datatype){case"local":case"array":default:(null!=b.localdata||a.isArray(b))&&(e.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!c)&&e.dataBind(),g(this),e.bindBindingUpdate(this.element.id,function(a){g(h,a)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata)return e.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!c)&&e.dataBind(),g(this),void e.bindBindingUpdate(this.element.id,function(){g(h)});var i={};e._options.data?a.extend(e._options.data,i):(b.data&&a.extend(i,b.data),e._options.data=i);var j=function(){g(h)};e.unbindDownloadComplete(h.element.id),e.bindDownloadComplete(h.element.id,j),(this.autoBind||!this.autoBind&&!c)&&e.dataBind()}},loadItems:function(b,c){if(null==b)return this.groups=new Array,this.items=new Array,this.visualItems=new Array,[];var d=this,e=0,f=0,g=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var h=new Array;this.itemsByValue=new Array,a.map(b,function(b){if(void 0==b)return null;var i=new a.jqx._jqxListBox.item,j=b.group,k=b.groupHtml,l=b.title,m=null;if(d.searchMember?m=b[d.searchMember]:b&&void 0!=b.searchLabel&&(m=b.searchLabel),null!=l&&void 0!=l||(l=""),null!=j&&void 0!=j||(j=""),d.groupMember&&(j=b[d.groupMember]),null!=k&&void 0!=k||(k=""),!d.groups[j]){d.groups[j]={items:new Array,index:-1,caption:j,captionHtml:k},e++;var n=e+"jqxGroup";d.groups[n]=d.groups[j],f++,d.groups.length=f}var o=d.groups[j];return o.index++,o.items[o.index]=i,"string"==typeof b?(i.label=b,i.value=b,arguments.length>1&&arguments[1]&&"string"==a.type(arguments[1])&&(i.label=b,i.value=arguments[1])):null==b.label&&null==b.value&&null==b.html&&null==b.group&&null==b.groupHtml?(i.label=b.toString(),i.value=b.toString()):(i.label=b.label,i.value=b.value,void 0===i.label&&(i.label=b.value),void 0===i.value&&(i.value=b.label)),"string"!=typeof b&&(void 0===b.label&&""!=d.displayMember&&(void 0!=b[d.displayMember]?i.label=b[d.displayMember]:i.label=""),void 0===b.value&&""!=d.valueMember&&(i.value=b[d.valueMember])),i.hasThreeStates=void 0==b.hasThreeStates||b.hasThreeStates,i.originalItem=b,c&&(i.originalItem=b.originalItem),i.title=l,l&&void 0===i.value&&void 0===i.label&&(i.value=i.label=l),i.html=b.html||"",b.html&&""!=b.html,i.group=j,i.checked=b.checked||!1,i.groupHtml=b.groupHtml||"",i.disabled=b.disabled||!1,i.visible=void 0==b.visible||b.visible,i.searchLabel=m,i.index=g,h[g]=i,g++,i});var i=new Array,j=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var k=0;k<f;k++){var e=k+1,l=e+"jqxGroup",m=this.groups[l];if(void 0==m||null==m)break;if(0==k&&""==m.caption&&""==m.captionHtml&&f<=1){for(var n=0;n<m.items.length;n++){var o=m.items[n].value;void 0!=m.items[n].value&&null!=m.items[n].value||(o=n),this.itemsByValue[a.trim(o).split(" ").join("?")]=m.items[n]}return m.items}var p=new a.jqx._jqxListBox.item;p.isGroup=!0,p.label=m.caption,""==m.caption&&""==m.captionHtml&&(m.caption=this.emptyGroupText,p.label=m.caption),p.html=m.captionHtml,i[j]=p,j++;for(var q=0;q<m.items.length;q++){i[j]=m.items[q];var o=m.items[q].value;""!=m.items[q].value&&null!=m.items[q].value||(o=j),d.itemsByValue[a.trim(o).split(" ").join("?")]=m.items[q],j++}}else{var j=0,r=new Array;a.each(h,function(){if(!r[this.group]&&""!=this.group){var b=new a.jqx._jqxListBox.item;b.isGroup=!0,b.label=this.group,i[j]=b,j++,r[this.group]=!0}i[j]=this;var c=this.value;""!=this.value&&null!=this.value||(c=j-1),d.itemsByValue[a.trim(c).split(" ").join("?")]=this,j++})}return i},_mapItem:function(b){var c=new a.jqx._jqxListBox.item;return this.displayMember&&(void 0==b.label&&(b.label=b[this.displayMember]),void 0==b.value&&(b.value=b[this.valueMember])),"string"==typeof b?(c.label=b,c.value=b):"number"==typeof b?(c.label=b.toString(),c.value=b.toString()):(c.label=void 0!==b.label?b.label:b.value,c.value=void 0!==b.value?b.value:b.label),void 0==c.label&&void 0==c.value&&void 0==c.html&&(c.label=c.value=b),c.html=b.html||"",c.group=b.group||"",c.checked=b.checked||!1,c.title=b.title||"",c.groupHtml=b.groupHtml||"",c.disabled=b.disabled||!1,c.visible=b.visible||!0,c},addItem:function(a){return this.insertAt(a,this.items?this.items.length:0)},_getItemByParam:function(a){if(null!=a&&void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return a},insertItem:function(a,b){var c=this._getItemByParam(a);return this.insertAt(c,b)},updateItem:function(a,b){var c=this._getItemByParam(b);return!(!c||void 0==c.index)&&this.updateAt(a,c.index)},updateAt:function(b,c){if(null!=b){var d=this._mapItem(b);this.$dataBinders$&&this.$dataBinders$.source&&this.$dataBinders$.source.updateItem(b,c),this.itemsByValue[a.trim(d.value).split(" ").join("?")]=this.items[c],this.items[c].value=d.value,this.items[c].label=d.label,this.items[c].html=d.html,this.items[c].disabled=d.disabled,this._raiseEvent("9",{item:this.items[c]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(b,c){if(null==b)return!1;if(this.$dataBinders$&&this.$dataBinders$.source&&this.$dataBinders$.source.addItem(b,c),this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var d=this._mapItem(b);d.index=0,this.items[this.items.length]=d,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var e=d.value;return""!=d.value&&null!=d.value||(e=c),this.itemsByValue[a.trim(e).split(" ").join("?")]=d,!1}var d=this._mapItem(b);if(c==-1||void 0==c||null==c||c>=this.items.length)d.index=this.items.length,this.items[this.items.length]=d;else{for(var f=new Array,g=0,h=!1,i=0,j=0;j<this.items.length;j++)0==this.items[j].isGroup&&i>=c&&!h&&(f[g++]=d,d.index=c,i++,h=!0),f[g]=this.items[j],this.items[j].isGroup||(f[g].index=i,i++),g++;this.items=f}var e=d.value;""!=d.value&&null!=d.value||(e=c),this.itemsByValue[a.trim(e).split(" ").join("?")]=d,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var k=a.data(this.vScrollBar[0],"jqxScrollBar").instance,l=k.value;return k.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length>1,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),k.setPosition(l),this._raiseEvent("7",{item:d}),this.rendered&&this.rendered(),!0},removeAt:function(b){if(b<0||b>this.items.length-1)return!1;if(void 0==b)return!1;this.$dataBinders$&&this.$dataBinders$.source&&this.$dataBinders$.source.deleteItem(b);var c=this.items[b].height,d=this.items[b].value;""!=d&&null!=d||(d=b),this.itemsByValue[a.trim(d).split(" ").join("?")]=null;var e=this.items[b];if(this.groups.length>1){for(var f=new Array,g=0;g<this.items.length;g++)this.items[g].isGroup||f.push({item:this.items[g],key:g});if(!f[b])return!1;this.items.splice(f[b].key,1)}else this.items.splice(b,1);for(var h=new Array,i=0,j=0,g=0;g<this.items.length;g++)h[i]=this.items[g],this.items[g].isGroup||(h[i].index=j,j++),i++;this.items=h;var k=a.data(this.vScrollBar[0],"jqxScrollBar").instance,k=a.data(this.vScrollBar[0],"jqxScrollBar").instance,l=k.value;if(k.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=c;var m=2*this.virtualSize.itemsPerPage;this.autoHeight&&(m=this.items.length),this.virtualItemsCount=Math.min(m,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?k.setPosition(l):k.setPosition(0),this.itemsByValue=new Array;for(var n=0;n<this.items.length;n++){var d=this.items[n].value;""!=this.items[n].value&&null!=this.items[n].value||(d=n),this.itemsByValue[a.trim(d).split(" ").join("?")]=this.items[n]}return this._raiseEvent("8",{item:e}),this.rendered&&this.rendered(),!0},removeItem:function(a,b){var c=this._getItemByParam(a),d=-1;if(c&&void 0!=c.index&&b!==!0){for(var e=0;e<this.items.length;e++)if(this.items[e].label==c.label&&this.items[e].value==c.value){d=e;break}if(d!=-1)return this.removeAt(d)}if(d==-1)return this.removeAt(c.index)},getItems:function(){return this.items},disableItem:function(a){var b=this._getItemByParam(a);this.disableAt(b.index)},enableItem:function(a){var b=this._getItemByParam(a);this.enableAt(b.index)},disableAt:function(a){return!!this.items&&(!(a<0||a>this.items.length-1)&&(this.items[a].disabled=!0,this._renderItems(),!0))},enableAt:function(a){return!!this.items&&(!(a<0||a>this.items.length-1)&&(this.items[a].disabled=!1,this._renderItems(),!0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.removeHandler(this.filterInput,"keyup.textchange"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),a.jqx.utilities.resize(this.host,null,!0),this._destroyContextMenu();var b=a.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),b&&delete b.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(b,c){if(1==this._stopEvents)return!0;void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this,this._updateInputSelection();var e=new a.Event(d);if(e.owner=this,e.args=args,null!=this.host)var f=this.host.trigger(e);return f}})}(jqxBaseFramework),function(a){a.jqx.parseSourceTag=function(b){var c=new Array,d=a(b).find("option"),e=a(b).find("optgroup"),f=!1;0===d.length&&(d=a(b).find("li"),d.length>0&&(f=!0));var g=null,g=-1,h=new Array;if(a.each(d,function(b){var d=e.find(this).length>0,i=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),f===!0&&(this.label=a(this).text(),this.selected=a(this).attr("data-selected"),this.checked=this.selected,this.value=a(this).attr("data-value")||b,this.disabled=a(this).attr("disabled"));var j={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},k=a.jqx.browser.msie&&a.jqx.browser.version<8;k&&!f&&""==j.value&&null!=this.text&&this.text.length>0&&(j.value=this.text),d&&(i=e.find(this).parent()[0].label,j.group=i,h[i]||(h[i]=new Array,h.length++),h[i].push(j)),this.selected&&(g=b),j.checked=this.selected,void 0!==j.label&&c.push(j)}),h.length>0){var i=new Array;for(var j in h)if("indexOf"!==j){for(var k=null,l=0;l<e.length;l++)if(j===e[l].label||e[l].text){k=e[l];break}a.each(h[j],function(a,b){void 0!==this.label&&i.push(this)})}}return i&&i.length>0?{items:i,index:g}:{items:c,index:g}},a.jqx._jqxListBox.item=function(){var a={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return a}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxListMenu","",{});var b=0,c=0;a.extend(a.jqx._jqxListMenu.prototype,{defineInstance:function(){var b={filterCallback:function(b,c){var d=a.jqx.string.containsIgnoreCase(a.trim(b),c);return d},placeHolder:"Filter list items...",showFilter:!1,showHeader:!0,showBackButton:!0,showNavigationArrows:!0,alwaysShowNavigationArrows:!1,backLabel:"Back",width:"100%",height:"auto",animationType:"slide",animationDuration:0,headerAnimationDuration:0,autoSeparators:!1,readOnly:!1,roundedCorners:!0,disabled:!1,enableScrolling:!0,touchMode:!1,_childrenMap:{},_parentMap:{},_lock:!1,_backButton:null,_currentPage:null,_header:null,_oldHost:void 0,rtl:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===a.jqx._jqxListMenu.prototype?b:(a.extend(!0,this,b),b)},destroy:function(){for(var a,b,c,d,e,f=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]];f.length;){c=f.pop(),a=this._getChildrenByTagName(c,"li","LI"),d=a.length;for(var g=0;g<d;g+=1)b=a[g],e=this._getChildList(b),this._removeLiEventHandlers(b),e&&f.push(e)}this._removeClasses(),this._removeEventHandlers(),this._backButton&&this._backButton.jqxButton("destroy"),this.panel&&this.panel.jqxPanel("destroy"),this.host.remove()},createInstance:function(){a.jqx.aria(this),this.host.attr("data-role","listmenu"),this.host.attr("role","tree")},refresh:function(a){this._render(),this._removeClasses(),this._addClasses(),this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first(),this._changeHeader(this._currentPage),this._removeEventHandlers(),this._addEventHandlers()},_render:function(){this._renderHost(),this._renderAutoSeparators(),this._renderSublists(),this._renderFilterBar(),this._renderHeader(),this.host.css({width:this.width,height:this.height}),this.disabled&&this.disable(),this.enableScrolling&&this.host.jqxPanel&&this.panel&&this.panel.jqxPanel("_arrange")},resize:function(a,b){this.width=a,this.height=b,this.host.css({width:this.width,height:this.height}),this.panel&&this.panel.jqxPanel("_arrange")},_renderHost:function(){this.host.is("div")?this.element.style.overflow="hidden":(this._oldHost=this.host,this.host.wrap("<div/>"),this.host=this.host.parent(),this.element=this.host[0],this.host.jqxPanel&&this.enableScrolling&&(this.host.wrap("<div/>"),this.panel=this.host.parent(),this.panel[0].id="panel"+this.element.id,this.panel.jqxPanel({theme:this.theme,autoUpdate:!0,width:this.width,height:this.height,touchMode:this.touchMode}),this.host.css({width:"100%"}),this.host.css({height:"auto"}),this.host.css("border","none"))),this.enableScrolling||(this.element.style.overflow="hidden"),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.element.style.position="relative"),this.enableScrolling&&this.panel&&this.panel.jqxPanel("_arrange")},_renderAutoSeparators:function(b){var b,c,d=this.host.find(".jqx-listmenu-auto-separator"),e=this.host.find('[data-role="listmenu"]');for(d.remove(),c=0;c<e.length;c+=1)b=a(e[c]),(b.data("auto-separators")||this.autoSeparators)&&this._renderListAutoSeparators(b)},_renderSublists:function(){var b,c,d,e,f,g=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]];for(this._refreshList(g[0]);g.length;){d=g.pop(),b=this._getChildrenByTagName(d,"li","LI"),e=b.length;for(var h=0;h<e;h+=1)c=b[h],a(c).attr("role","treeitem"),f=this._getChildList(c),this._refreshLi(c,h,e),f&&(g.push(f),this._refreshList(f,c,!0))}},_refreshList:function(b,c,d){b=a(b),"listmenu"===b.data("role")&&(b.is(".jqx-listmenu")||(this._renderList(b),this._handleListId(b),this._addListClasses(b)),c&&this._expandHierarchy(b[0],c),d&&this._handleSublist(b[0]))},_renderList:function(b){b=a(b),b.is(".jqx-listmenu")||(b.detach(),b.appendTo(this.host))},_handleListId:function(a){a[0].id||(a[0].id="jqx-listmenu-"+c,c+=1)},_renderListAutoSeparators:function(b){for(var c,d,e=b.children("li"),f={},g=0;g<e.length;g+=1)if(d=a(e[g]),!d.data("role")){if(a.trim(d.text())[0]!==c){c=a.trim(d.text())[0];var h=a('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+c+"</li>");h.insertBefore(d),h[0].items=new Array,f=h[0]}f.items&&(f.items[f.items.length]=d[0])}},_addListClasses:function(a){a.addClass("jqx-listmenu")},_expandHierarchy:function(a,b){if(b&&a){var c=b.id,d=a.id;this._childrenMap[c]=d,this._parentMap[d]=c}},_handleSublist:function(a){this._currentPage&&a===this._currentPage[0]?a.style.display="block":a.style.display="none"},_getChildrenByTagName:function(a,b,c){var d=[],e={};for(e[b]=e[c]=!0,a=a.firstChild;a;)e[a.nodeName]&&d.push(a),a=a.nextSibling;return d},_renderFilterBar:function(){this._filterBar||(this._filterBar=a("<div/>"),this._filterInput=a('<input type="text" />'),this._filterBar.append(this._filterInput),this.host.prepend(this._filterBar));var b=!1;a.jqx.browser.msie&&a.jqx.browser.version<8&&(b=!0),b||this._filterInput.attr("placeholder",this.placeHolder),this.showFilter?this._filterBar.css("display","block"):this._filterBar.css("display","none")},_renderHeader:function(){this._header||(this._header=a("<div/>"),this.host.prepend(this._header),this._renderHeaderLabel()),this._renderBackButton(),this.showHeader?this._header.css("display","block"):this._header.css("display","none")},_renderHeaderLabel:function(){this._headerLabel=a("<span/>"),this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label")),this._header.append(this._headerLabel)},_renderBackButton:function(){if(!this._backButton&&(this._backButton=a('<div><div style="float: left;"></div><span style="float: left;">'+this.backLabel+'</span><div style="clear:both;"></div></div>'),this._header.prepend(this._backButton),this._backButton.jqxButton({theme:this.theme}),this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow")),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none"),this.rtl)){var b=a.jqx.browser.msie&&a.jqx.browser.version<8;b?(this._backButton.css("position","relative"),this._backButton.css("left","100%"),this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")):(this._backButton.css("position","relative"),this._backButton.css("margin-left","100%"),this._backButton.css("left",-this._backButton.outerWidth()-15))}this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none")},_removeEventHandlers:function(){var b=this.isTouchDevice()&&!this.touchMode,c=a.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,b?c:"click"),this.removeHandler(this._filterInput,"keyup"),this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var b=this,c=this.isTouchDevice()&&!this.touchMode,d=a.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,c?d:"click",function(){b.back()}),this.addHandler(this._filterInput,"keyup change",function(){b._filter(a(this).val())})},_getChildList:function(a){if(a){var b,c=this._childrenMap[a.id];if(a.className.indexOf("jqx-listmenu-item")>=0&&c)return document.getElementById(c);var d=this._getChildrenByTagName(a,"ul","UL")[0],e=this._getChildrenByTagName(a,"ol","OL")[0];return b=d||e}},_refreshLi:function(a,b,c){if(a.parentNode&&"listmenu"===a.parentNode.getAttribute("data-role")){if(""==a.id);this._handleLiId(a),this._renderLi(a),this._removeLiEventHandlers(a),this._addLiEventHandlers(a),this._addLiClasses(a,b,c)}},_handleLiId:function(a){a.id||(a.id="jqx-listmenu-item-"+b,b+=1)},_renderLi:function(b){if(!(/(separator|header)/.test(a(b).data("role"))||a(b).children(".jqx-listmenu-arrow-right").length>0)&&(a(b).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"></span>'),this.showNavigationArrows||this.alwaysShowNavigationArrows)){var c=a("<span/>"),d=a(b).find("ul"),e=a(b).find("ol");(this.alwaysShowNavigationArrows||d.length>0&&/(listmenu)/.test(d.data("role"))||e.length>0&&/(listmenu)/.test(e.data("role")))&&(c.addClass(this.toThemeProperty("jqx-listmenu-arrow-right")),this.rtl?(c.addClass(this.toThemeProperty("jqx-icon-arrow-left")),c.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl")),c.prependTo(b)):(c.addClass(this.toThemeProperty("jqx-icon-arrow-right")),c.appendTo(b)))}},_removeLiEventHandlers:function(b){var c=this.isTouchDevice(),d=a.jqx.mobile.getTouchEventName("touchstart"),e=a.jqx.mobile.getTouchEventName("touchend"),f=(a.jqx.mobile.getTouchEventName("touchmove"),(c?d:"mousedown")+".listmenu"),g=(c?e:"mouseup")+".listmenu";this.removeHandler(a(b),f),this.removeHandler(a(b),g),this.removeHandler(a(document),g+"."+b.id)},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode&&(b=!0),b},_addLiEventHandlers:function(b){b=a(b);var c=this,d=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),e=b.children(".jqx-listmenu-arrow-right"),f=a.jqx.mobile.isTouchDevice(),g=a.jqx.mobile.getTouchEventName("touchstart"),h=a.jqx.mobile.getTouchEventName("touchend"),i=(a.jqx.mobile.getTouchEventName("touchmove"),(f?g:"mousedown")+".listmenu"),j=(f?h:"mouseup")+".listmenu",k=null,l="";/(separator|readonly)/.test(b.data("role"))||this.readOnly||(this.addHandler(b,"dragstart",function(){return!1}),this.addHandler(b,i,function(g){c.disabled||(k=g.target,l=a.jqx.position(g),0==b.find('div[data-role="content"]').length&&(f||(b.addClass(c.toThemeProperty("jqx-fill-state-pressed")),e.addClass(d))))}),this.addHandler(b,j,function(d){c.disabled||k!=d.target&&f||(f?a.jqx.position(d).top===l.top&&c.next(b):a.jqx.position(d).top===l.top&&c.next(b))}),this.addHandler(a(document),j+"."+b[0].id,function(){c.disabled||(b.removeClass(c.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(d))}))},_addLiClasses:function(b,c,d){b=a(b),"separator"===b.data("role")?this._handleSeparatorStyle(b):"header"===b.data("role")?this._handleHeaderStyle(b):(this.readOnly||"readonly"===b.data("role")?b.addClass(this.toThemeProperty("jqx-listmenu-item-readonly")):b.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly")),this._handleItemStyle(b)),0!==c||this.showHeader||this.showFilter||b.addClass(this.toThemeProperty("jqx-rc-t")),c===d-1&&b.addClass(this.toThemeProperty("jqx-rc-b"))},_handleSeparatorStyle:function(a){a.addClass(this.toThemeProperty("jqx-listmenu-separator")),a.addClass(this.toThemeProperty("jqx-fill-state-pressed")),a[0].style.listStyle="none"},_handleHeaderStyle:function(a){a.css("display","none")},_handleItemStyle:function(a){a.addClass(this.toThemeProperty("jqx-listmenu-item")),this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),a.addClass(this.toThemeProperty("jqx-fill-state-normal")),a.addClass(this.toThemeProperty("jqx-item"))},back:function(){var b,c=this._currentPage;c&&(b=this._parentMap[c[0].id]),this._back=!0,a("#"+b).length>0&&a.jqx.aria(a("#"+b),"aria-expanded",!1),this._changePage(c,a("#"+b).parent(),this.animationDuration,!0),this._back=!1},next:function(b){var c=b.attr("id"),d=this._childrenMap[c],e=a("#"+d),f=a("#"+c).parent();a.jqx.aria(b,"aria-expanded",!0),this._changePage(f,e,this.animationDuration)},changePage:function(b){if("string"==typeof b&&(b=a(b)),!b[0]||"listmenu"!==b.attr("data-role")||b.parents().index(this.host)<0)throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.");this._currentPage[0]!=b[0]&&this._changePage(this._currentPage,b,this.animationDuration)},_changePage:function(b,c,d,e){if(!this._lock){var f="_"+this.animationType+"Change"+(e?"Back":"");c[0]&&(this.showFilter&&(c.find('div[data-role="content"]').length>0?(a.each(c.find("li"),function(){"separator"===a(this).data("role")&&a(this).hide()}),this._filterBar.css("display","none")):this._filterBar.css("display","block")),this._lock=!0,this[f](b,c,this.animationDuration,function(){this._lock=!1,this._changeHeader(c),this._currentPage=c}))}},_changeHeader:function(b){var c=a(b).find('li[data-role="header"]').first();if(c[0]){var d=this;this._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){
d._headerLabel.html(c.html()),d._headerLabel.fadeIn(d.headerAnimationDuration/2)})}},_slideChange:function(b,c,d,e){var f=this;this.enableScrolling&&null!=this.panel&&this.panel.jqxPanel("scrollTo",0,0);var g=this.rtl;this._initSlide(b,c),g?(b.animate({"margin-left":b.width()+parseInt(b.css("margin-right"),10)||0},d,"easeInOutSine"),c.animate({"margin-left":0},d,"easeInOutSine",function(){f._slideEnd(b,c),e.call(f,a(this))})):(b.animate({"margin-left":-b.width()-parseInt(b.css("margin-right"),10)||0},d,"easeInOutSine"),c.animate({"margin-left":0},d,"easeInOutSine",function(){f._slideEnd(b,c),e.call(f,a(this))}))},_initSlide:function(a,b){var c=this.rtl;a.width(a.width()),b.css({marginTop:-a.outerHeight(!0),marginLeft:c?-a.width()-(parseInt(a.css("margin-right"),10)||0):a.width()+(parseInt(a.css("margin-right"),10)||0),display:"block",height:"auto",width:a.width()})},_slideEnd:function(a,b){this.host.css("height","auto"),a.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0}),b.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(b,c,d,e){var f=this;this._initSlideBack(b,c),b.animate({"margin-left":this.rtl?-b.width()-parseInt(b.css("margin-right"),10)||0:b.width()+parseInt(b.css("margin-right"),10)||0},d),c.animate({"margin-left":0},d,function(){f._slideEnd(b,c),e.call(f,a(this))})},_initSlideBack:function(a,b){a.css({marginTop:-b.outerHeight(!0),width:a.width()}),b.css({width:a.width(),marginLeft:this.rtl?a.width()+parseInt(a.css("margin-right"),10)||0:-a.width()-parseInt(a.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(a,b,c,d){this._fadeChange(a,b,c,d)},_fadeChange:function(b,c,d,e){var f=this;b.fadeOut(d/2,function(){c.fadeIn(d/2,function(){e.call(f,a(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.removeClass(this.toThemeProperty("jqx-input")),this._header.removeClass(this.toThemeProperty("jqx-listmenu-header")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header.removeClass(this.toThemeProperty("jqx-rc-t")),this.roundedCorners&&this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.removeClass(this.toThemeProperty("jqx-widget")),this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-reset")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))},_addClasses:function(){this.roundedCorners?this.host.addClass(this.toThemeProperty("jqx-rc-all")):this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass("jqx-widget"),this.host.addClass("jqx-listmenu-widget"),this.host.addClass("jqx-fill-state-normal"),this.host.addClass("jqx-reset"),this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.addClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.addClass(this.toThemeProperty("jqx-input")),this._header.addClass(this.toThemeProperty("jqx-listmenu-header")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this.host.find('div[data-role="content"]').length>0&&this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))},_raiseEvent:function(){},_filter:function(b){for(var c=this.host.find(".jqx-listmenu-item"),d=0;d<c.length;d+=1){var e=a.trim(a(c[d]).text());this.filterCallback(e,b)?c[d].style.display="block":c[d].style.display="none"}for(var c=this.host.find(".jqx-listmenu-separator"),d=0;d<c.length;d+=1){var f=!1;a.each(c[d].items,function(){if("none"!=a(this).css("display"))return f=!0,!1}),f?c[d].style.display="block":c[d].style.display="none"}},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!0},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1},propertyChangedHandler:function(a,b,c,d){if("disabled"==b&&(d?a.disable():a.enable()),"backLabel"===b)return void a._backButton.html(d);if("placeHolder"===b)a._filterInput.attr("placeholder",d);else if(/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/.test(b))return void a._render()}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxLoader","",{}),a.extend(a.jqx._jqxLoader.prototype,{defineInstance:function(){var b={width:200,height:150,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:!1,autoOpen:!1,rtl:!1,events:["create"]};return this===a.jqx._jqxLoader.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){var b=this;b._render(!0),b._raiseEvent("0")},render:function(){this._render()},open:function(a,b){var c=this;null!==this.width&&this.width.toString().indexOf("%")!==-1&&c.host.css("width",this.width),null!==this.height&&this.height.toString().indexOf("%")!==-1&&c.host.css("height",this.height),c.host.show(),c.host.css("left",-c.host.width()/2),c.host.css("top",-c.host.height()/2),a&&b&&(c.host.css("left",a),c.host.css("top",b)),c.isModal&&c._modal.show()},close:function(){var a=this;a.host.hide(),a.isModal&&a._modal.hide()},_checkBrowser:function(){var b=this;"msie"===a.jqx.browser.browser&&("7.0"===a.jqx.browser.version?(b.isModal===!1&&b.host.addClass(b.toThemeProperty("jqx-loader-ie-transparency")),b.host.css("top",Math.max(0,(a(window).height()-a(b.host).outerHeight())/2+a(window).scrollTop())+"px"),b.host.css("left",Math.max(0,(a(window).width()-a(b.host).outerWidth())/2+a(window).scrollLeft())+"px"),a(window).resize(function(){b.host.css("top",Math.max(0,(a(window).height()-a(b.host).outerHeight())/2+a(window).scrollTop())+"px"),b.host.css("left",Math.max(0,(a(window).width()-a(b.host).outerWidth())/2+a(window).scrollLeft())+"px")}),this.host.css({"margin-top":"0","margin-left":"0"})):"8.0"===a.jqx.browser.version&&b.isModal===!1&&b.host.addClass(b.toThemeProperty("jqx-loader-ie-transparency")))},_textPos:function(){var a=this;this._text=a.host.children("div:eq(1)"),this._image&&this._image.css("background-position-y",a.imagePosition),"top"===a.textPosition?(this._text.addClass(a.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-right"))):"bottom"===a.textPosition?(this._text.addClass(a.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-right"))):"left"===a.textPosition?(this._text.addClass(a.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-bottom"))):"right"===a.textPosition&&(this._text.addClass(a.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(a.toThemeProperty("jqx-loader-text-bottom")))},refresh:function(a){a!==!0&&this._render(!1)},destroy:function(){var a=this;a._removeHandlers(),a.host.remove()},propertyChangedHandler:function(a,b,c,d){if(d!==c)switch(b){case"width":a.host.width(d);break;case"height":a.host.height(d);break;case"text":a._text.text(d);break;case"html":a.host.html(d);break;case"textPosition":a._textPos(d);break;case"rtl":d===!0?a._text.addClass(a.toThemeProperty("jqx-loader-rtl")):a._text.removeClass(a.toThemeProperty("jqx-loader-rtl"))}},_raiseEvent:function(b,c){var d=this,e=d.events[b],f=new a.Event(e);f.owner=d,f.args=c;try{var g=d.host.trigger(f)}catch(h){}return g},_render:function(b){var c=this;if(c.host.width(c.width),c.host.height(c.height),c.autoOpen===!1&&c.host.hide(),b&&(null===c.html?(c.host.append('<div class="'+c.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+c.toThemeProperty("jqx-loader-text")+'">'+c.text+"</div>"),c._image=c.host.children("div:eq(0)"),c._text=c.host.children("div:eq(1)")):c.host.html(this.html),c.isModal===!0)){var d=c.host.css("display");c._modal=a('<div id="'+c.element.id+'Modal" class="'+c.toThemeProperty("jqx-loader-modal")+'" style="display: '+d+';"></div>'),a("body").append(c._modal)}c._checkBrowser(),c._textPos(),c._addClass(),c._removeHandlers(),c._addHandlers()},_addHandlers:function(){var b=this;b.isModal===!0&&b.addHandler(a(document),"keyup.loader"+b.element.id,function(a){27===a.keyCode&&b.close()})},_removeHandlers:function(){var b=this;b.removeHandler(a(document),"keyup.loader"+b.element.id)},_addClass:function(){var b=this;b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-loader")),b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-fill-state-normal")),b.rtl&&b._text.addClass(b.toThemeProperty("jqx-loader-rtl")),a.jqx.browser.msie&&b.host.addClass(this.toThemeProperty("jqx-noshadow")),b.host.addClass(this.toThemeProperty("jqx-rc-t")),b.host.addClass(this.toThemeProperty("jqx-rc-b")),b.host.addClass(this.toThemeProperty("jqx-popup"))}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxMaskedInput","",{}),a.extend(a.jqx._jqxMaskedInput.prototype,{defineInstance:function(){var b={value:null,mask:"99999",width:null,height:25,textAlign:"left",readOnly:!1,cookies:!1,promptChar:"_",rtl:!1,disabled:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"value",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===a.jqx._jqxMaskedInput.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){if(this.render(),this.$dataBinders$)for(var a in this.$dataBinders$){var b=this.$dataBinders$[a];if(b){var c=this.bindDataBinder(a);b.unbindCallbackFunc(this.element.id),b.bindCallbackFunc(this.element.id,c),b.dataBind()}}},bindDataBinder:function(a){var b,c=this;if("value"==a)return function(a,d){"load"==a?(b=void 0==d.records?"":d.records,c.inputValue(b,!0)):"update"==a?c.inputValue(d.value):"reset"==a&&c.clear()}},render:function(){var b=this;b.element.setAttribute("role","textbox"),b.element.setAttribute("data-role","input");var c=b.element.getAttribute("value");void 0!==c&&""!==c&&null!==c&&(b.value=c),a.jqx.aria(this),a.jqx.aria(this,"aria-multiline",!1),a.jqx.aria(this,"aria-readonly",b.readOnly),b._helpers=[],b._helpers.element=new jqxHelper(b.element),b._helpers.element.addClass(b.toThemeProperty("jqx-input jqx-rc-all jqx-widget jqx-widget-content"));var d=b.element.getAttribute("name");if("div"===b.element.nodeName.toLowerCase()){b.element.innerHTML="";var e=document.createElement("input");e.setAttribute("type","textarea"),e.setAttribute("autocomplete","off"),e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!1),e.setAttribute("name",d),b.element.appendChild(e),b.maskbox=a(e),b.disabled&&(b._helpers.element.addClass(b.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),e.setAttribute("disabled",!0))}else b.maskbox=b.host,b.element.setAttribute("autocomplete","off"),b.element.setAttribute("autocorrect","off"),b.element.setAttribute("autocapitalize","off"),b.element.setAttribute("spellcheck",!1),b.element.setAttribute("name",d),b.disabled&&(b._helpers.element.addClass(b.toThemeProperty("jqx-input-disabled jqx-fill-state-disabled")),b.element.setAttribute("disabled",!0));if(b._helpers.maskbox=new jqxHelper(b.maskbox[0]),b._helpers.maskbox.addClass(b.toThemeProperty("jqx-reset jqx-input-content jqx-widget-content")),b.rtl&&b._helpers.maskbox.addClass(b.toThemeProperty("jqx-rtl")),b.propertyChangeMap.disabled=function(a,c,d,e){e?a._helpers.maskbox.addClass(b.toThemeProperty("jqx-input-disabled")):a._helpers.maskbox.removeClass(b.toThemeProperty("jqx-input-disabled"))},b.selectedText="",b.self=this,b.oldValue=b._value(),b.items=[],b._initializeLiterals(),b._render(),null!=b.value&&b.inputValue(b.value.toString()),b.host.parents("form").length>0&&b.host.parents("form").on("reset",function(){setTimeout(function(){b.clearValue()},10)}),b.addHandlers(),b.cookies){var f=a.jqx.cookie.cookie("maskedInput."+b.element.id);f&&b.val(f)}},addHandlers:function(){var b=this,c="";this.addHandler(this.maskbox,"blur",function(){b.rtl&&b.maskbox.css("direction","ltr"),b._helpers.maskbox.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.maskbox.val()!==c&&(b._raiseEvent(7,{type:"keyboard"}),b.val(b.maskbox.val()),b.cookies&&a.jqx.cookie.cookie("maskedInput."+b.element.id,b.maskbox.val()))}),this.addHandler(this.maskbox,"focus",function(){c=b.maskbox[0].value,b.rtl&&(b.maskbox[0].style.direction="rtl"),b._helpers.element.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"keydown",function(a){var c=b.readOnly,d=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(c||b.disabled)return!1;var e=b._handleKeyDown(a,d);return e||(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),e}),this.addHandler(this.host,"keyup",function(a){var c=b.readOnly;return!(!c&&!b.disabled)||(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),!1)}),this.addHandler(this.host,"keypress",function(a){var c=b.readOnly,d=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(c||b.disabled)return!0;var e=b._handleKeyPress(a,d);return e||(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),e})},focus:function(){try{var a=this;a.maskbox.focus(),setTimeout(function(){a.maskbox.focus()})}catch(b){}},_getString:function(){for(var a="",b=0;b<this.items.length;b++){var c=this.items[b].character;a+=this.items[b].character===this.promptChar&&this.promptChar!==this.items[b].defaultCharacter?this.items[b].defaultCharacter:c}return a},_initializeLiterals:function(){if(void 0===this.mask||null===this.mask)return void(this.items=[]);var a=this,b=function(b,c,d){var e={};return e.character=b,e.regex=c,e.canEdit=d,e.defaultCharacter=a.promptChar,e};this.mask=this.mask.toString();for(var c=this.mask.length,d=0;d<c;d++){var e=this.mask.substring(d,d+1),f="",g=!1;if("["===e){for(var h=d;h<c;h++){var i=this.mask.substring(h,h+1);if("]"===i)break}f="("+this.mask.substring(d,h+1)+")",d=h,g=!0}"#"===e?(f="(\\d|[+]|[-])",g=!0):"9"===e||"0"===e?(f="\\d",g=!0):"$"===e?g=!1:"/"===e||":"===e?g=!1:"A"===e||"a"===e?(f="\\w",g=!0):"c"===e||"C"===e?(f=".",g=!0):"L"!==e&&"l"!==e||(f="([a-zA-Z])",g=!0);var j={};j=g?b(this.promptChar,f,g):b(e,f,g),this.items.push(j)}},setRegex:function(a,b,c,d){null!==a&&void 0!==a&&null!==b&&void 0!==b&&a<this.items.length&&(this.items[a].regex=b,null!==c&&void 0!==c&&(this.items[a].canEdit=c),null!==d&&void 0!==d&&(this.items[a].defaultCharacter=d))},_match:function(a,b){var c=new RegExp(b,"i");return c.test(a)},_raiseEvent:function(b,c){var d=this.events[b],e={};e.owner=this;var f=!0,g=new a.Event(d);return g.owner=this,e.value=this.inputValue(),e.text=this.maskedValue(),7===b&&(e.type=c.type,void 0===e.type&&(e.type=null)),g.args=e,(b<2||b>6)&&(f=this.host.trigger(g)),f},_handleKeyPress:function(a,b){var c=this._isSpecialKey(b,a);return c},_insertKey:function(a,b){var c,d=this._selection(),e=this;if(d.start>=0&&d.start<this.items.length){var f=String.fromCharCode(a);a>=65&&a<=90&&(b.shiftKey||(f=f.toLowerCase()));for(var g=!1,h=0;h<this.items.length;h++)if(!(h<d.start)){var i=e.items[h];if(i.canEdit){if(e._match(f,i.regex)){if(!g&&d.length>0){for(var j=d.start;j<d.end;j++)e.items[j].canEdit&&(e.items[j].character=e.promptChar);c=e._getString(),e.maskedValue(c),g=!0}i.character=f,c=e._getString(),e.maskedValue(c),d.start<e.items.length&&e._setSelectionStart(h+1);break}break}}}},_deleteSelectedText:function(){var a=this._selection(),b=!1;if(a.start>0||a.length>0){for(var c=a.start;c<a.end;c++)c<this.items.length&&this.items[c].canEdit&&this.items[c].character!==this.promptChar&&(this.items[c].character=this.promptChar,b=!0);var d=this._getString();return this.maskedValue(d),b}},_saveSelectedText:function(){var b=this._selection(),c="";if(b.start>0||b.length>0)for(var d=b.start;d<b.end;d++)this.items[d].canEdit&&(c+=this.items[d].character);if(window.clipboardData)window.clipboardData.setData("Text",c);else{var e=a("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>");e.val(c),a("body").append(e),e.select(),setTimeout(function(){document.designMode="off",e.select(),e.remove()},100)}return c},_pasteSelectedText:function(){var b=this._selection(),c="",d=0,e=b.start,f="",g=this,h=function(a){if(!(a!==g.selectedText&&a.length>0&&(g.selectedText=a,null===g.selectedText||void 0===g.selectedText))){if(b.start>=0||b.length>0)for(var f=b.start;f<g.items.length;f++)g.items[f].canEdit&&d<g.selectedText.length&&(new RegExp(g.items[f].regex).test(g.selectedText[d])?g.items[f].character=g.selectedText[d]:g.items[f].character=g.items[f].defaultCharacter,d++,e=1+f);c=g._getString(),g.maskedValue(c),e<g.items.length?g._setSelectionStart(e):g._setSelectionStart(g.items.length)}};if(window.clipboardData)f=window.clipboardData.getData("Text"),h(f);else{var i=a("<textarea style='position: absolute; left: -1000px; top: -1000px;'/>");a("body").append(i),i.select(),setTimeout(function(){var a=i.val();h(a),i.remove()},100)}},_handleKeyDown:function(b,c){var d,e,f=this._selection();c>=96&&c<=105&&(c-=48);var g=b.ctrlKey||b.metaKey;if(g&&97===c||g&&65===c)return!0;if(g&&120===c||g&&88===c)return this.selectedText=this._saveSelectedText(b),this._deleteSelectedText(b),!a.jqx.browser.msie;if(g&&99===c||g&&67===c)return this.selectedText=this._saveSelectedText(b),!a.jqx.browser.msie;if(g&&122===c||g&&90===c)return!1;if(g&&118===c||g&&86===c||b.shiftKey&&45===c)return this._pasteSelectedText(),!a.jqx.browser.msie;if(8===c){if(0===f.length)for(e=this.items.length-1;e>=0;e--)if(this.items[e].canEdit&&e<f.end&&this.items[e].character!==this.promptChar){this._setSelection(e,e+1);break}f=this._selection();var h=this._deleteSelectedText();return(f.start>0||f.length>0)&&f.start<=this.items.length&&(h?this._setSelectionStart(f.start):this._setSelectionStart(f.start-1)),!1}if(190===c)for(d=f.start,e=d;e<this.items.length;e++)if("."===this.items[e].character){this._setSelectionStart(e+1);break}if(191===c)for(d=f.start,e=d;e<this.items.length;e++)if("/"===this.items[e].character){this._setSelectionStart(e+1);break}if(189===c)for(d=f.start,e=d;e<this.items.length;e++)if("-"===this.items[e].character){this._setSelectionStart(e+1);break}if(46===c){if(0===f.length)for(e=0;e<this.items.length;e++)if(this.items[e].canEdit&&e>=f.start&&this.items[e].character!==this.promptChar){this._setSelection(e,e+1);break}var i=f;f=this._selection();var h=this._deleteSelectedText();return(f.start>=0||f.length>=0)&&f.start<this.items.length&&(f.length<=1?i.end!==f.end?this._setSelectionStart(f.end):this._setSelectionStart(f.end+1):this._setSelectionStart(f.start)),!1}this._insertKey(c,b);var j=this._isSpecialKey(c,b);return j},_isSpecialKey:function(a,b){return 189===a||9===a||13===a||35===a||36===a||37===a||39===a||46===a||!!(16===a&&b.shiftKey||b.ctrlKey||b.metaKey)},_selection:function(){var a,b=this.maskbox[0];if("selectionStart"in this.maskbox[0])return a=b.selectionEnd-b.selectionStart,{start:b.selectionStart,end:b.selectionEnd,length:a,text:b.value};var c=document.selection.createRange();if(null==c)return{start:0,end:b.value.length,length:0};var d=this.maskbox[0].createTextRange(),e=d.duplicate();return d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d),a=c.text.length,{start:e.text.length,end:e.text.length+c.text.length,length:a,text:c.text}},_setSelection:function(a,b){if("selectionStart"in this.maskbox[0])this.maskbox[0].focus(),this.maskbox[0].setSelectionRange(a,b);else{var c=this.maskbox[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}},_setSelectionStart:function(a){this._setSelection(a,a)},refresh:function(a){a||this._render()},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_render:function(){var b=parseInt(this.host.css("border-left-width"),10),c=parseInt(this.host.css("border-left-width"),10),d=parseInt(this.host.css("border-left-width"),10),e=parseInt(this.host.css("border-left-width"),10),f=parseInt(this.host.css("height"),10)-d-e,g=parseInt(this.host.css("width"),10)-b-c;null!=this.width&&this.width.toString().indexOf("px")!==-1?g=this.width:void 0===this.width||isNaN(this.width)||(g=this.width),null!=this.height&&this.height.toString().indexOf("px")!==-1?f=this.height:void 0===this.height||isNaN(this.height)||(f=this.height),g=parseInt(g,10),f=parseInt(f,10),this.maskbox[0]!==this.element&&this.maskbox.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.maskbox.css("text-align",this.textAlign);var h=this.maskbox.css("font-size");isNaN(f)||this.maskbox.css("height",parseInt(h,10)+4+"px"),isNaN(g)||this.maskbox.css("width",g-2);var i=parseInt(f,10)-2*parseInt(d,10)-2*parseInt(e,10)-parseInt(h,10);if(isNaN(i)&&(i=0),isNaN(f)||this.host.height(f),isNaN(g)||this.host.width(g),this.maskbox[0]!==this.element){var j=i/2;a.jqx.browser.msie&&a.jqx.browser.version<8&&(j=i/4),this.maskbox.css("padding-right","0px"),this.maskbox.css("padding-left","0px"),this.maskbox.css("padding-top",j),this.maskbox.css("padding-bottom",i/2)}this.maskbox[0].value=this._getString(),this.width&&(this.width.toString().indexOf("%")>=0&&(this.element.style.width=this.width),this.height.toString().indexOf("%")>=0&&(this.element.style.height=this.height))},destroy:function(){var b=this;a.jqx.utilities.resize(this.host,null,!0),b.host.remove(),b._helpers=[]},maskedValue:function(a){return void 0===a?this._value():(this.value=a,this._refreshValue(),this.oldValue!==a&&(this._raiseEvent(1,a),this.oldValue=a,this._raiseEvent(0,a)),this)},propertyChangedHandler:function(b,c,d,e){if(void 0!==this.isInitialized&&this.isInitialized!==!1){if("rtl"===c&&(b.rtl?b._helpers.maskbox.addClass(b.toThemeProperty("jqx-rtl")):b._helpers.maskbox.removeClass(b.toThemeProperty("jqx-rtl"))),"value"===c&&(void 0!==e&&null!==e||(e=""),""===e?this.clear():(e=e.toString(),this.inputValue(e)),b._raiseEvent(7,e)),"theme"===c&&a.jqx.utilities.setTheme(d,e,this.host),"disabled"===c&&(e?(b._helpers.maskbox.addClass(b.toThemeProperty("jqx-input-disabled")),b._helpers.element.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b._helpers.maskbox.attr("disabled",!0)):(b._helpers.maskbox.removeClass(this.toThemeProperty("jqx-input-disabled")),b._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),b._helpers.maskbox.attr("disabled",!1)),a.jqx.aria(b,"aria-disabled",e)),"readOnly"===c&&(this.readOnly=e),"promptChar"===c){for(var f=0;f<b.items.length;f++)b.items[f].character===b.promptChar&&(b.items[f].character=e,b.items[f].defaultCharacter=e);b.promptChar=e}"textAlign"===c&&(b.maskbox.css("text-align",e),b.textAlign=e),"mask"===c&&(b.mask=e,b.items=[],b._initializeLiterals(),b.value=b._getString(),b._refreshValue()),"width"===c?(b.width=e,b._render()):"height"===c&&(b.height=e,b._render())}},_value:function(){var a=this.value;return a},_getEditStringLength:function(){for(var a="",b=0;b<this.items.length;b++)this.items[b].canEdit&&(a+=this.items[b].character);return a.length},_getEditValue:function(){for(var a="",b=0;b<this.items.length;b++)this.items[b].canEdit&&this.items[b].character!==this.promptChar&&(a+=this.items[b].character);return a},parseValue:function(a){if(void 0===a||null===a)return null;for(var b=a.toString(),c="",d=0,e=0;e<b.length;e++)for(var f=b.substring(e,e+1),g=d;g<this.items.length;g++)if(this.items[g].canEdit&&this._match(f,this.items[g].regex)){c+=f,d=g;break}return c},clear:function(){this.clearValue()},clearValue:function(){this.inputValue("",!0)},val:function(a){return void 0!==a&&"object"!=typeof a&&("number"==typeof a&&isFinite(a)&&(a=a.toString()),this.maskedValue(a),this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(this.inputValue())),this.maskbox[0].value},inputValue:function(a,b){var c;if(void 0===a||null===a){var d="";for(c=0;c<this.items.length;c++)this.items[c].canEdit&&(d+=this.items[c].character);return d}var e=0;for(a=a.toString(),c=0;c<this.items.length;c++)this.items[c].canEdit&&(this._match(a.substring(e,e+1),this.items[c].regex)?(this.items[c].character=a.substring(e,e+1),e++):b&&(this.items[c].character=this.promptChar,e++));this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(this.inputValue());var f=this._getString();return this.maskedValue(f),this.inputValue()},_refreshValue:function(){for(var b=this.maskedValue(),c=0,d=0;d<this.items.length;d++)b.length>c&&(this.items[d].canEdit&&this.items[d].character!==b[c]&&(!this._match(b[c],this.items[d].regex)&&b[c]!==this.promptChar||1!==b[c].length||(this.items[d].character=b[c])),c++);this.value=this._getString(),b=this.value,this.maskbox[0].value=b,a.jqx.aria(this,"aria-valuenow",b)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxMenu","",{}),a.extend(a.jqx._jqxMenu.prototype,{defineInstance:function(){var b={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===a.jqx._jqxMenu.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){var c=this;if(this.host.attr("role","menubar"),a.jqx.utilities.resize(this.host,function(){c.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&this.width.toString().indexOf("%")==-1&&a(window).resize(function(){c.refresh()}),this.host.css("outline","none"),this.$dataBinders$)for(var d in this.$dataBinders$){var e=this.$dataBinders$[d];if(e){var f=this.bindDataBinder(d);e.unbindCallbackFunc(this.element.id),e.bindCallbackFunc(this.element.id,f),e.dataBind()}}if(this.source&&null!=this.source){var g=this.loadItems(this.source);this.element.innerHTML=g}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var h=this.host.find("ul:first");h.length>0&&this._createMenu(h[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation){var b=this.host.closest("div.jqx-menu-wrapper");b.focus()}if(this.keyboardNavigation){this.host.focus();var c=this,d=function(){if(a.jqx.isHidden(a(c.items[0].element))){var b=c._nextVisibleItem(c.items[0],0);b&&(a(b.element).addClass(c.toThemeProperty("jqx-fill-state-focus")),c.activeItem=b)}else a(c.items[0].element).addClass(c.toThemeProperty("jqx-fill-state-focus")),c.activeItem=c.items[0]};this.activeItem?a.jqx.isHidden(a(this.activeItem.element))?(a(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),d()):a(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):d()}}catch(e){}},loadItems:function(b,c){if(null!=b){if(0==b.length)return"";var d=this;this.items=new Array;var e='<ul class="jqx-menu-ul">';return c&&(e='<ul class="jqx-menu-ul" style="width:'+c+';">'),a.map(b,function(a){return void 0==a?null:void(e+=d._parseItem(a))}),e+="</ul>"}},_parseItem:function(a){var b="";if(void 0==a)return null;var c=a.label;!a.label&&a.html&&(c=a.html),c||(c="Item"),"string"==typeof a&&(c=a);var d=!1;void 0!=a.selected&&a.selected&&(d=!0);var e=!1;return void 0!=a.disabled&&a.disabled&&(e=!0),b+="<li",e&&(b+=' item-disabled="true" '),a.label&&!a.html&&(b+=' item-label="'+c+'" '),null!=a.value&&(b+=' item-value="'+a.value+'" '),void 0!=a.id&&(b+=' id="'+a.id+'" '),b+=">"+c,a.items&&(b+=a.subMenuWidth?this.loadItems(a.items,a.subMenuWidth):this.loadItems(a.items)),b+="</li>"},_setSize:function(){null!=this.width&&this.width.toString().indexOf("%")!=-1?this.host.width(this.width):null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("%")!=-1?this.host.height(this.height):null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var b=a(window).width();if(!a.jqx.response){var c=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var d=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;d||(c=!0)}var e=this.minimizeWidth;if(c&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&a.jqx.response){var f=new a.jqx.response;"Phone"!=f.device.type&&"Tablet"!=f.device.type||this.minimized||this.minimize(),f&&f.destroy()}else b<e&&!this.minimized?this.minimize():this.minimized&&b>=e&&this.restore()}},minimize:function(){if(!this.minimized){var b=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var c=this.host.closest("div.jqx-menu-wrapper");if(c.remove(),a("#menuWrapper"+this.element.id).remove(),a.each(this.items,function(){var b=this,c=a(b.element);c.off();var d=a(b.subMenuElement),e=d.closest("div.jqx-menu-popup");e.remove()}),this.source){var d=this.loadItems(this.source);this.element.innerHTML=d,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var e=this.host.find("ul:first");e.length>0&&this._createMenu(e[0])}this._render();var f=this.host.find("ul:first");f.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var c=f.closest("div.jqx-menu-wrapper");c[0].id="menuWrapper"+this.element.id,c.detach(),c.appendTo(a(document.body)),c.addClass(this.toThemeProperty("jqx-widget")),c.addClass(this.toThemeProperty("jqx-menu")),c.addClass(this.toThemeProperty("jqx-menu-minimized")),c.addClass(this.toThemeProperty("jqx-widget-header")),f.children().hide(),c.hide(),c.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=a("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(c,"keydown",function(a){return b.handleKeyDown(a)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=a("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),a("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),
b.minimizedHidden=!0;var g=function(a){b.minimizedHidden=!0,b.minimizedItem.show();var d=!1;"right"==b.minimizedItem.css("float")&&(d=!0),c.animate({left:d?b.host.coord().left+b.host.width()+c.width():-c.outerWidth(),opacity:0},b.animationHideDuration,function(){c.find("ul:first").children().hide(),c.hide()})},h=function(a){if(b.minimizedHidden){c.find("ul:first").children().show(),b.minimizedHidden=!1,c.show(),c.css("opacity",0),c.css("left",-c.outerWidth());var d=!1,e=c.width();"right"==b.minimizedItem.css("float")&&(c.css("left",b.host.coord().left+b.host.width()+e),d=!0),c.css("top",b.host.coord().top+b.host.height()),c.animate({left:d?b.host.coord().left+b.host.width()-e:b.host.coord().left,opacity:.95},b.animationShowDuration,function(){})}else g(a);b._raiseEvent("2",{type:"mouse",item:b.minimizedItem[0],event:a}),b._setSize()};this.addHandler(a(window),"orientationchange.jqxmenu"+this.element.id,function(a){setTimeout(function(){if(!b.minimizedHidden){var a=c.width(),d=!1,a=c.width();"right"==b.minimizedItem.css("float")&&(d=!0),c.css("top",b.host.coord().top+b.host.height()),c.css({left:d?b.host.coord().left+b.host.width()-a:b.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(a){h(a)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var b=a("#menuWrapper"+this.element.id);if(b.remove(),this.removeHandler(a(window),"orientationchange.jqxmenu"+this.element.id),this.source){var c=this.loadItems(this.source);this.element.innerHTML=c,this._tmpHTML=c}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var d=this.host.find("ul:first");d.length>0&&this._createMenu(d[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?b=!0:0==this.touchMode&&(b=!1),b&&(this.host.addClass(this.toThemeProperty("jqx-touch")),a(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=b,b},refresh:function(a){a||this._setSize()},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_closeAll:function(b){var c=null!=b?b.data:this,d=c.items;if(a.each(d,function(){var a=this;1==a.hasItems&&a.isOpen&&c._closeItem(c,a)}),"popup"==c.mode&&null!=b){var e=c._isRightClick(b);e||c.close()}},closeItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;1==a.isOpen&&a.element==d&&(e._closeItem(e,a),a.parentId&&e.closeItem(a.parentId))}),!0},openItem:function(b){if(null==b)return!1;var c=b,d=document.getElementById(c),e=this;return a.each(e.items,function(){var a=this;0==a.isOpen&&a.element==d&&(e._openItem(e,a),a.parentId&&e.openItem(a.parentId))}),!0},_getClosedSubMenuOffset:function(b){var c=a(b.subMenuElement),d=-c.outerHeight(),e=-c.outerWidth(),f=0==b.level&&"horizontal"==this.mode;switch(f?e=0:d=0,b.openVerticalDirection){case"up":case"center":d=c.outerHeight()}switch(b.openHorizontalDirection){case this._getDir("left"):e=f?0:c.outerWidth();break;case"center":e=f?0:c.outerWidth()}return{left:e,top:d}},_closeItem:function(b,c,d,e){if(null==b||null==c)return!1;var f=a(c.subMenuElement),g=0==c.level&&"horizontal"==this.mode,h=this._getClosedSubMenuOffset(c),i=h.top,j=h.left,k=(a(c.element),f.closest("div.jqx-menu-popup"));if(null!=k){var l=b.animationHideDelay;1==e&&(l=0),f.data("timer")&&null!=f.data("timer").show&&(clearTimeout(f.data("timer").show),f.data("timer").show=null);var m=function(){c.isOpen=!1,g?f.stop().animate({top:i},b.animationHideDuration,function(){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected")),a(c.element).removeClass(b.toThemeProperty("jqx-rc-b-expanded")),k.removeClass(b.toThemeProperty("jqx-rc-t-expanded"));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down")),d.addClass(b.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up")),d.addClass(b.toThemeProperty("jqx-icon-arrow-up")))),a.jqx.aria(a(c.element),"aria-expanded",!1),k.css({display:"none"}),0==b.animationHideDuration&&f.css({top:i}),b._raiseEvent("1",c)}):(!a.jqx.browser.msie,f.stop().animate({left:j},b.animationHideDuration,function(){if(0==b.animationHideDuration&&f.css({left:j}),c.level>0){a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}else{a(c.element).removeClass(b.toThemeProperty("jqx-fill-state-pressed")),a(c.element).removeClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("right"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-top-"+b._getDir("left"))),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}a.jqx.aria(a(c.element),"aria-expanded",!1),k.css({display:"none"}),b._raiseEvent("1",c)}))};if(l>0?f.data("timer")&&(f.data("timer").hide=setTimeout(function(){m()},l)):m(),void 0!=d&&d){var n=f.children();a.each(n,function(){if(b.menuElements[this.id]&&b.menuElements[this.id].isOpen){a(b.menuElements[this.id].subMenuElement);b._closeItem(b,b.menuElements[this.id],!0,!0)}})}}},getSubItems:function(b,c){if(null==b)return!1;var d=this,e=new Array;null!=c&&a.extend(e,c);var f=b,g=this.menuElements[f],h=a(g.subMenuElement),i=h.find(".jqx-menu-item");return a.each(i,function(){e[this.id]=d.menuElements[this.id];var b=d.getSubItems(this.id,e);a.extend(e,b)}),e},disable:function(b,c){if(null!=b){var d=b,e=this;if(this.menuElements[d]){var f=this.menuElements[d];f.disabled=c;var g=a(f.element);f.element.disabled=c,a.each(g.children(),function(){this.disabled=c}),c?(g.addClass(e.toThemeProperty("jqx-menu-item-disabled")),g.addClass(e.toThemeProperty("jqx-fill-state-disabled"))):(g.removeClass(e.toThemeProperty("jqx-menu-item-disabled")),g.removeClass(e.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(a){if(this.menuElements[a]){var b=this.menuElements[a];return b}return null},disableItem:function(a){this.disable(a,!0)},hideItem:function(b){if(this.menuElements[b]){var c=this.menuElements[b];a(c.element).hide()}},showItem:function(b){if(this.menuElements[b]){var c=this.menuElements[b];a(c.element).show()}},enableItem:function(a){this.disable(a,!1)},_setItemProperty:function(a,b,c){if(null!=a){var d=a;if(this.menuElements[d]){var e=this.menuElements[d];e[b]&&(e[b]=c)}}},setItemOpenDirection:function(b,c,d){if(null!=b){var e=b,f=this,g=a.jqx.browser.msie&&a.jqx.browser.version<8;if(this.menuElements[e]){var h=this.menuElements[e];if(null!=c&&(h.openHorizontalDirection=c,h.hasItems&&h.level>0)){var i=a(h.element);if(void 0!=i){var j=a(h.arrow);null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i),h.arrow=j[0]),j.removeClass(),"left"==h.openHorizontalDirection?(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("left"))),j.addClass(f.toThemeProperty("jqx-icon-arrow-"+f._getDir("left")))):(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-"+f._getDir("right"))),j.addClass(f.toThemeProperty("jqx-icon-arrow-"+f._getDir("right")))),j.css("visibility","inherit"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right"))}}if(null!=d){h.openVerticalDirection=d;var j=a(h.arrow),i=a(h.element);if(!f.showTopLevelArrows)return;void 0!=i&&(null==h.arrow&&(j=a('<span id="arrow'+i[0].id+'"></span>'),g?j.appendTo(i):j.prependTo(i),h.arrow=j[0]),j.removeClass(),"down"==h.openVerticalDirection?(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-down")),j.addClass(f.toThemeProperty("jqx-icon-arrow-down"))):(j.addClass(f.toThemeProperty("jqx-menu-item-arrow-up")),j.addClass(f.toThemeProperty("jqx-icon-arrow-up"))),j.css("visibility","inherit"),g?(j.css("display","inline-block"),j.css("float","none")):(j.css("display","block"),j.css("float","right")))}}}},_getSiblings:function(a){for(var b=new Array,c=0,d=0;d<this.items.length;d++)this.items[d]!=a&&this.items[d].parentId==a.parentId&&this.items[d].hasItems&&(b[c++]=this.items[d]);return b},_openItem:function(b,c,d){if(null==b||null==c)return!1;if(c.isOpen)return!1;if(c.disabled)return!1;if(b.disabled)return!1;var e=b.popupZIndex;void 0!=d&&(e=d);var f=b.animationHideDuration;b.animationHideDuration=0,b._closeItem(b,c,!0,!0),b.animationHideDuration=f,a(c.element).focus();var g=[5,5],h=a(c.subMenuElement);null!=h&&h.stop(),h.data("timer")&&null!=h.data("timer").hide&&clearTimeout(h.data("timer").hide);var i=h.closest("div.jqx-menu-popup"),j=a(c.element),k=0==c.level?this._getOffset(c.element):j.position();if(c.level>0&&this.hasTransform){var l=parseInt(j.coord().top)-parseInt(this._getOffset(c.element).top);k.top+=l}0==c.level&&"popup"==this.mode&&(k=j.coord());var m=0==c.level&&"horizontal"==this.mode,n=m?k.left:null!=this.menuElements[c.parentId]&&null!=this.menuElements[c.parentId].subMenuElement?parseInt(a(a(this.menuElements[c.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-g[0]:parseInt(h.outerWidth());if(i.css({visibility:"visible",display:"block",left:n,top:m?k.top+j.outerHeight():k.top,zIndex:e}),h.css("display","block"),"horizontal"!=this.mode&&0==c.level){var o=this._getOffset(this.element);i.css("left",-1+o.left+this.host.outerWidth()),h.css("left",-h.outerWidth())}else{var p=this._getClosedSubMenuOffset(c);h.css("left",p.left),h.css("top",p.top)}i.css({height:parseInt(h.outerHeight())+parseInt(g[1])+"px"});var q=0,r=0;switch(c.openVerticalDirection){case"up":if(m){h.css("top",h.outerHeight()),q=g[1];var s=parseInt(h.parent().css("padding-bottom"));isNaN(s)&&(s=0),s>0&&i.addClass(this.toThemeProperty("jqx-menu-popup-clear")),h.css("top",h.outerHeight()-s),i.css({display:"block",top:k.top-i.outerHeight(),zIndex:e})}else q=g[1],h.css("top",h.outerHeight()),i.css({display:"block",top:k.top-i.outerHeight()+g[1]+j.outerHeight(),zIndex:e});break;case"center":m?(h.css("top",0),i.css({display:"block",top:k.top-i.outerHeight()/2+g[1],zIndex:e})):(h.css("top",0),i.css({display:"block",top:k.top+j.outerHeight()/2-i.outerHeight()/2+g[1],zIndex:e}))}switch(c.openHorizontalDirection){case this._getDir("left"):m?i.css({left:k.left-(i.outerWidth()-j.outerWidth()-g[0])}):(r=0,h.css("left",i.outerWidth()),i.css({left:k.left-i.outerWidth()+2*c.level}));break;case"center":m?i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}):(i.css({left:k.left-(i.outerWidth()/2-j.outerWidth()/2-g[0]/2)}),h.css("left",i.outerWidth()))}if(m){if(parseInt(h.css("top"))==q)return void(c.isOpen=!0)}else if(parseInt(h.css("left"))==r)return void(1==c.isOpen);a.each(b._getSiblings(c),function(){b._closeItem(b,this,!0,!0)});var t=a.data(b.element,"animationHideDelay");b.animationHideDelay=t,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){b._closeAll()},this.autoCloseInterval))),h.data("timer")&&(h.data("timer").show=setTimeout(function(){if(null!=i)if(m){h.stop(),h.css("left",r),!a.jqx.browser.msie,j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected")),"down"==c.openVerticalDirection?(a(c.element).addClass(b.toThemeProperty("jqx-rc-b-expanded")),i.addClass(b.toThemeProperty("jqx-rc-t-expanded"))):(a(c.element).addClass(b.toThemeProperty("jqx-rc-t-expanded")),i.addClass(b.toThemeProperty("jqx-rc-b-expanded")));var d=a(c.arrow);d.length>0&&b.showTopLevelArrows&&(d.removeClass(),"down"==c.openVerticalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-down-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-up-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-up")))),0==b.animationShowDuration?(h.css({top:q}),c.isOpen=!0,b._raiseEvent("0",c),a.jqx.aria(a(c.element),"aria-expanded",!0)):h.animate({top:q},b.animationShowDuration,b.easing,function(){c.isOpen=!0,a.jqx.aria(a(c.element),"aria-expanded",!0),b._raiseEvent("0",c)})}else{if(h.stop(),h.css("top",q),!a.jqx.browser.msie,c.level>0){j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}else{j.addClass(b.toThemeProperty("jqx-fill-state-pressed")),j.addClass(b.toThemeProperty("jqx-menu-item-top-selected"));var d=a(c.arrow);d.length>0&&(d.removeClass(),"left"!=c.openHorizontalDirection?(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("right")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("right")))):(d.addClass(b.toThemeProperty("jqx-menu-item-arrow-"+b._getDir("left")+"-selected")),d.addClass(b.toThemeProperty("jqx-icon-arrow-"+b._getDir("left")))))}!a.jqx.browser.msie,0==b.animationShowDuration?(h.css({left:r}),b._raiseEvent("0",c),c.isOpen=!0,a.jqx.aria(a(c.element),"aria-expanded",!0)):h.animate({left:r},b.animationShowDuration,b.easing,function(){b._raiseEvent("0",c),c.isOpen=!0,a.jqx.aria(a(c.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(a){switch(a){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(b,c){var d=this,e=0;if(d.host.removeClass(d.toThemeProperty("jqx-menu-horizontal")),d.host.removeClass(d.toThemeProperty("jqx-menu-vertical")),d.host.removeClass(d.toThemeProperty("jqx-menu")),d.host.removeClass(d.toThemeProperty("jqx-widget")),d.host.addClass(d.toThemeProperty("jqx-widget")),d.host.addClass(d.toThemeProperty("jqx-menu")),void 0!=b&&void 0!=c&&"popup"==c){if(d.host.parent().length>0&&d.host.parent().parent().length>0&&d.host.parent().parent()[0]==document.body){var f=a.data(document.body,"jqxMenuOldHost"+d.element.id);if(null!=f){var g=d.host.closest("div.jqx-menu-wrapper");g.remove(),g.appendTo(f),d.host.css("display","block"),d.host.css("visibility","visible"),g.css("display","block"),g.css("visibility","visible")}}}else void 0==b&&void 0==c&&a.data(document.body,"jqxMenuOldHost"+d.element.id,d.host.parent()[0]);switch(d.autoOpenPopup?"popup"==d.mode?(d.addHandler(a(document),"contextmenu."+d.element.id,function(a){return!1}),d.addHandler(a(document),"mousedown.menu"+d.element.id,function(a){d._openContextMenu(a)})):(d.removeHandler(a(document),"contextmenu."+d.element.id),d.removeHandler(a(document),"mousedown.menu"+d.element.id)):(d.removeHandler(a(document),"contextmenu."+d.element.id),d.removeHandler(a(document),"mousedown.menu"+d.element.id),d.addHandler(a(document),"contextmenu."+d.element.id,function(a){if(a.target&&a.target.className.indexOf&&a.target.className.indexOf("jqx-menu")>=0)return!1})),d.rtl&&d.host.addClass(d.toThemeProperty("jqx-rtl")),d.mode){case"horizontal":d.host.addClass(d.toThemeProperty("jqx-widget-header")),d.host.addClass(d.toThemeProperty("jqx-menu-horizontal")),a.each(d.items,function(){var b=this;$element=a(b.element);var c=a(b.arrow);if(c.removeClass(),b.hasItems&&b.level>0){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float",d._getDir("right")),c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),c.addClass(d.toThemeProperty("jqx-icon-arrow-"+d._getDir("right"))),b.arrow=c[0]}if(0==b.level){if(a(b.element).css("float",d._getDir("left")),!b.ignoretheme&&b.hasItems&&d.showTopLevelArrows){var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),f=a.jqx.browser.msie&&a.jqx.browser.version<8;null==b.arrow?f?c.appendTo($element):c.prependTo($element):c=a(b.arrow),"down"==b.openVerticalDirection?(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-down")),c.addClass(d.toThemeProperty("jqx-icon-arrow-down"))):(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-up")),c.addClass(d.toThemeProperty("jqx-icon-arrow-up"))),c.css("visibility","inherit"),f?c.css("display","inline-block"):(c.css("display","block"),c.css("float","right")),b.arrow=c[0]}else if(!b.ignoretheme&&b.hasItems&&!d.showTopLevelArrows&&null!=b.arrow){var c=a(b.arrow);c.remove(),b.arrow=null}e=Math.max(e,$element.height())}});break;case"vertical":case"popup":case"simple":if(d.host.addClass(d.toThemeProperty("jqx-menu-vertical")),a.each(d.items,function(){var b=this;if($element=a(b.element),b.hasItems&&!b.ignoretheme){if(b.arrow&&a(b.arrow).remove(),"simple"==d.mode)return!0;var c=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');c.prependTo($element),c.css("float","right"),0==b.level?(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-top-"+d._getDir("right"))),c.addClass(d.toThemeProperty("jqx-icon-arrow-"+d._getDir("right")))):(c.addClass(d.toThemeProperty("jqx-menu-item-arrow-"+d._getDir("right"))),c.addClass(d.toThemeProperty("jqx-icon-arrow-"+d._getDir("right")))),b.arrow=c[0]}$element.css("float","none")}),"popup"==d.mode){d.host.addClass(d.toThemeProperty("jqx-widget-content")),d.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+d.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var g=d.host.closest("div.jqx-menu-wrapper");d.host.addClass(d.toThemeProperty("jqx-popup")),g[0].id="menuWrapper"+d.element.id,g.appendTo(a(document.body)),d.addHandler(g,"keydown",function(a){return d.handleKeyDown(a)})}else d.host.addClass(d.toThemeProperty("jqx-widget-header"));if("popup"==d.mode){var h=d.host.height();d.host.css("position","absolute"),d.host.css("top","0"),d.host.css("left","0"),"simple"!=d.mode&&(d.host.height(h),d.host.css("display","none"))}}var i=d.isTouchDevice();d.autoCloseOnClick&&(d.removeHandler(a(document),"mousedown.menu"+d.element.id,d._closeAfterClick),d.addHandler(a(document),"mousedown.menu"+d.element.id,d._closeAfterClick,d),i&&(d.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+d.element.id,d._closeAfterClick,d),d.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+d.element.id,d._closeAfterClick,d)))},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},_getOffset:function(b){var c=a.jqx.mobile.isSafariMobileBrowser(),d=a(b).coord(!0),e=d.top,f=d.left;"0px"!=a("body").css("border-top-width")&&(e=parseInt(e)+this._getBodyOffset().top),"0px"!=a("body").css("border-left-width")&&(f=parseInt(f)+this._getBodyOffset().left);var g=a.jqx.mobile.isWindowsPhone(),h=a.jqx.mobile.isTouchDevice();if(this.hasTransform||null!=c&&c||g||h){var i={left:a.jqx.mobile.getLeftPos(b),top:a.jqx.mobile.getTopPos(b)};return i}return{left:f,top:e}},_isRightClick:function(a){var b;if(!a)var a=window.event;return a.which?b=3==a.which:a.button&&(b=2==a.button),b},_openContextMenu:function(a){var b=this,c=b._isRightClick(a);c&&b.open(parseInt(a.clientX)+5,parseInt(a.clientY)+5)},close:function(){var b=this,c=a.data(this.element,"contextMenuOpened"+this.element.id);if(c){this.host;a.each(b.items,function(){var a=this;a.hasItems&&b._closeItem(b,a)}),a.each(b.items,function(){var b=this;if(1==b.isOpen){$submenu=a(b.subMenuElement);var c=$submenu.closest("div.jqx-menu-popup");c.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),a.data(b.element,"contextMenuOpened"+this.element.id,!1),b._raiseEvent("1",b),b._raiseEvent("5")}},open:function(b,c){if("popup"==this.mode){var d=0;"block"==this.host.css("display")&&(this.close(),d=this.animationHideDuration);var e=this;void 0!=b&&null!=b||(b=0),void 0!=c&&null!=c||(c=0),setTimeout(function(){e.host.show(e.animationShowDuration),e.host.css("visibility","visible"),a.data(e.element,"contextMenuOpened"+e.element.id,!0),e._raiseEvent("0",e),e._raiseEvent("4",{left:b,top:c}),e.host.css("z-index",9999),void 0!=b&&void 0!=c&&e.host.css({left:b,top:c}),e.focus()},d)}},_renderHover:function(a,b,c){var d=this;b.ignoretheme||(this.addHandler(a,"mouseenter",function(){d.hoveredItem=b,b.disabled||b.separator||!d.enableHover||d.disabled||(b.level>0?(a.addClass(d.toThemeProperty("jqx-fill-state-hover")),a.addClass(d.toThemeProperty("jqx-menu-item-hover"))):(a.addClass(d.toThemeProperty("jqx-fill-state-hover")),a.addClass(d.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(a,"mouseleave",function(){b.disabled||b.separator||!d.enableHover||d.disabled||(b.level>0?(a.removeClass(d.toThemeProperty("jqx-fill-state-hover")),a.removeClass(d.toThemeProperty("jqx-menu-item-hover"))):(a.removeClass(d.toThemeProperty("jqx-fill-state-hover")),a.removeClass(d.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(b){var c=null!=b?b.data:this,d=!1;c.autoCloseOnClick&&(a.each(a(b.target).parents(),function(){if(this.className.indexOf&&this.className.indexOf("jqx-menu")!=-1)return d=!0,!1}),d||(b.data=c,c._closeAll(b)))},_autoSizeHorizontalMenuItems:function(){var b=this;if(b.autoSizeMainItems&&"horizontal"==this.mode){var c=this.maxHeight;parseInt(c)>parseInt(this.host.height())&&(c=parseInt(this.host.height())),c=parseInt(this.host.height()),a.each(this.items,function(){var d=this;if($element=a(d.element),0==d.level&&c>0){var e=$element.children().length>0?parseInt($element.children().height()):$element.height(),f=b.host.find("ul:first"),g=parseInt(f.css("padding-top")),h=parseInt(f.css("margin-top")),i=c-2*(h+g),j=parseInt(i)/2-e/2,k=parseInt(j),l=parseInt(j);if($element.css("padding-top",k),$element.css("padding-bottom",l),parseInt($element.outerHeight())>i){var m=1;$element.css("padding-top",k-m),k-=m}}})}a.each(this.items,function(){var b=this;if($element=a(b.element),b.hasItems&&b.level>0&&b.arrow){var c=a(b.arrow),d=a(b.element).height();d>15&&c.css("margin-top",(d-15)/2)}})},_nextVisibleItem:function(a,b){if(null==a||void 0==a)return null;for(var c=a;null!=c;)if(c=c.nextItem,this._isVisible(c)&&!c.disabled&&"separator"!==c.type){if(this.minimized)return c;if(void 0!=b&&c&&c.level!=b)continue;return c}return null},_prevVisibleItem:function(a,b){if(null==a||void 0==a)return null;for(var c=a;null!=c;)if(c=c.prevItem,this._isVisible(c)&&!c.disabled&&"separator"!==c.type){if(this.minimized)return c;if(void 0!=b&&c&&c.level!=b)continue;return c}return null},_parentItem:function(b){if(null==b||void 0==b)return null;var c=b.parentElement;if(!c)return null;var d=null;return a.each(this.items,function(){if(this.element==c)return d=this,!1}),d},_isElementVisible:function(b){return null!=b&&("none"!=a(b).css("display")&&"hidden"!=a(b).css("visibility"))},_isVisible:function(a){if(null==a||void 0==a)return!1;if(!this._isElementVisible(a.element))return!1;var b=this._parentItem(a);if(null==b)return!0;if(this.minimized)return!0;if(null!=b){if(!this._isElementVisible(b.element))return!1;if(!b.isOpen&&!this.minimized)return!1;for(;null!=b;){if(b=this._parentItem(b),null!=b&&!this._isElementVisible(b.element))return!1;if(null!=b&&!b.isOpen)return!1}}return!0},_render:function(b,c){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),void 0==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var d=this.popupZIndex,e=[5,5],f=this;a.data(f.element,"animationHideDelay",f.animationHideDelay);var g=this.isTouchDevice(),h=g&&(a.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),i=!1;if(navigator.platform.toLowerCase().indexOf("win")!=-1)if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var j="MSPointerDown"in window;(j||a.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(i=!0,h=!0,f.clickToOpen=!0,f.autoCloseOnClick=!1,f.enableHover=!1)}a.data(document.body,"menuel",this),this.hasTransform=a.jqx.utilities.hasTransform(this.host),this._applyOrientation(b,c),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(b){if(f.keyboardNavigation&&f.activeItem){if("popup"===f.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;a(f.activeItem.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=null}}),this.addHandler(this.host,"focus",function(b){if(f.keyboardNavigation&&!f.activeItem)if(f.hoveredItem)a(f.hoveredItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=f.hoveredItem;else{var c=function(){if(a.jqx.isHidden(a(f.items[0].element))){var b=f._nextVisibleItem(f.items[0],0);b&&(a(b.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=b)}else a(f.items[0].element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=f.items[0]};f.activeItem?a.jqx.isHidden(a(f.activeItem.element))?(a(f.activeItem.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),c()):a(f.activeItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus")):c()}}),this.removeHandler(this.host,"keydown"),f.handleKeyDown=function(b){if(!f.keyboardNavigation)return!0;if("input"===b.target.nodeName.toLowerCase())return!0;var c=null,d=null;a.each(f.items,function(){return!!this.disabled||(this.element.className.indexOf("pressed")>=0&&(d=this),this.element.className.indexOf("focus")>=0?(c=this,!1):void 0)}),!c&&d&&(c=d),c||(a(f.items[0].element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=f.items[0],c=f.activeItem);var e=!1;if(27==b.keyCode){if(b.data=f,f._closeAll(b),c)for(var g=c;null!=g;)g.parentItem?g=g.parentItem:(a(f.activeItem.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=g,a(f.activeItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),g=g.parentItem);e=!0}if(13==b.keyCode&&c){e=!0,f._raiseEvent("2",{item:c.element,event:b,type:"keyboard"});var h=null!=c.anchor?a(c.anchor):null;if(null!=h&&h.length>0){var i=h.attr("href"),j=h.attr("target");null!=i&&(null!=j?window.open(i,j):window.location=i)}b.preventDefault(),b.stopPropagation(),a(c.element).focus()}var k=function(a){if(null==a)return new Array;for(var b=new Array,c=0,d=0;d<f.items.length;d++)f.items[d].parentId==a.parentId&&(b[c++]=f.items[d]);return b},l="";switch(b.keyCode){case 40:l="down";break;case 38:l="up";break;case 39:l="right";break;case 37:l="left"}if(c&&"left"===c.openHorizontalDirection&&"left"===l&&(l="right"),c&&"left"===c.openHorizontalDirection&&"right"===l&&(l="left"),c&&"top"===c.openVerticalDirection&&"top"===l&&(l="bottom"),c&&"top"===c.openVerticalDirection&&"bottom"===l&&(l="top"),f.rtl&&("right"===l?l="left":"left"===l&&(l="right")),"right"===l&&!f.minimized){if(b.altKey&&(0!=c.level&&c.hasItems||"horizontal"!=f.mode))f._openItem(f,c);else{var m=f._nextVisibleItem(c,0),n=f._nextVisibleItem(c),o=k(n);m||(m=n),m&&(m.parentId===c.parentId&&0==m.level&&"horizontal"==f.mode||n.id==o[0].id&&0!=n.level)&&(n.id==o[0].id&&(0!=c.level||0==c.level&&"horizontal"!=f.mode)&&(m=n),a(m.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=m)}b.preventDefault(),b.stopPropagation()}if("left"===l&&!f.minimized){if(b.altKey&&(0!=c.level&&"horizontal"!==f.mode||c.level>1&&"horizontal"===f.mode||1==c.level&&c.hasItems&&"horizontal"===f.mode))c.hasItems?f._closeItem(f,c):c.parentItem&&(f._closeItem(f,c.parentItem),a(c.parentItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=c.parentItem);else{var m=f._prevVisibleItem(c,0),p=c.parentItem;m&&m.parentId===c.parentId&&0==m.level&&"horizontal"==f.mode?(a(m.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=m):p&&0==p.level&&"horizontal"==f.mode||!p||p.level!=c.level-1||(a(p.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=p)}b.preventDefault(),b.stopPropagation()}if("down"===l){if(b.altKey)0==c.level&&c.hasItems&&f._openItem(f,c),f.minimized&&f.minimizedHidden&&f.minimizedItem.trigger("click");else{var m=f._nextVisibleItem(c,c.level),o=k(m);if(f.minimized&&m)a(m.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=m;else if(m&&(m.parentId===c.parentId||m.id==o[0].id&&"horizontal"==f.mode)&&(0==m.level&&"horizontal"==f.mode||(a(m.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=m)),"horizontal"===f.mode&&0===c.level&&c.isOpen&&c.hasItems){var m=f._nextVisibleItem(c);a(m.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=m}}b.preventDefault(),b.stopPropagation()}else if("up"===l){if(b.altKey)c.parentItem&&0==c.parentItem.level?(f._closeItem(f,c.parentItem),a(c.parentItem.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=c.parentItem):null===c.parentItem&&0===c.level&&"horizontal"===f.mode&&f._closeItem(f,c),f.minimized&&(f.minimizedHidden||f.minimizedItem.trigger("click"));else{var m=f._prevVisibleItem(c,c.level),o=k(c);if(f.minimized&&m)a(m.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=m;else if(m&&(m.parentId===c.parentId||m.id==c.parentId&&0==m.level&&"horizontal"==f.mode))0==m.level&&"horizontal"===f.mode&&0===c.level||(a(m.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=m);else if(c&&c.id==o[0].id&&c.parentItem&&0===c.parentItem.level&&"horizontal"===f.mode){var m=c.parentItem;a(m.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=m}}b.preventDefault(),b.stopPropagation()}if(9==b.keyCode){var m=b.shiftKey?f._prevVisibleItem(c):f._nextVisibleItem(c);if(m)a(m.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),
f.activeItem=m,b.preventDefault(),b.stopPropagation();else if(f.lockFocus){for(var o=new Array,q=0,r=0;r<f.items.length;r++)f.items[r]!=c&&f.items[r].parentId==c.parentId&&(o[q++]=f.items[r]);o.length>0&&(b.shiftKey?(a(o[o.length-1].element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=o[o.length-1]):(a(o[0].element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=o[0]),a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus"))),b.preventDefault(),b.stopPropagation()}else c&&(a(c.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=null)}},this.addHandler(this.host,"keydown",function(a){f.handleKeyDown(a)}),f.enableRoundedCorners&&this.host.addClass(f.toThemeProperty("jqx-rc-all")),a.each(this.items,function(){var b=this,c=a(b.element);if(c.attr("role","menuitem"),f.enableRoundedCorners&&c.addClass(f.toThemeProperty("jqx-rc-all")),f.removeHandler(c,"click"),f.addHandler(c,"click",function(c){if(!b.disabled&&!f.disabled&&(f.keyboardNavigation&&(f.activeItem&&a(f.activeItem.element).removeClass(f.toThemeProperty("jqx-fill-state-focus")),f.activeItem=b,a(b.element).addClass(f.toThemeProperty("jqx-fill-state-focus")),f.minimized&&c.stopPropagation()),f._raiseEvent("2",{type:"mouse",item:b.element,event:c}),f.autoOpen?!f.autoCloseOnClick||g||f.clickToOpen||b.closeOnClick&&(c.data=f,f._closeAll(c)):b.level>0&&(!f.autoCloseOnClick||g||f.clickToOpen||(c.data=f,f._closeAll(c))),g&&f.autoCloseOnClick&&(c.data=f,b.hasItems||f._closeAll(c)),"A"!=c.target.tagName&&"a"!=c.target.tagName)){var d=null!=b.anchor?a(b.anchor):null;if(null!=d&&d.length>0){var e=d.attr("href"),h=d.attr("target");null!=e&&(null!=h?window.open(e,h):window.location=e)}}}),f.removeHandler(c,"mouseenter"),f.removeHandler(c,"mouseleave"),h||"simple"==f.mode||f._renderHover(c,b,g),null!=b.subMenuElement){var i=a(b.subMenuElement);if("simple"==f.mode)return i.show(),!0;i.wrap('<div class="jqx-menu-popup '+f.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+d+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),i.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-i.outerHeight()}),i.data("timer",{}),b.level>0?i.css("left",-i.outerWidth()):"horizontal"==f.mode&&i.css("left",0),d++;var j=a(b.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(a(b.subMenuElement).outerWidth())+parseInt(e[0])+"px",height:parseInt(a(b.subMenuElement).outerHeight())+parseInt(e[1])+"px"}),k=c.closest("div.jqx-menu-popup");if(k.length>0){var l=i.css("margin-left"),m=i.css("margin-right"),n=i.css("padding-left"),o=i.css("padding-right");j.appendTo(k),i.css("margin-left",l),i.css("margin-right",m),i.css("padding-left",n),i.css("padding-right",o)}else{var l=i.css("margin-left"),m=i.css("margin-right"),n=i.css("padding-left"),o=i.css("padding-right");j.appendTo(a(document.body)),i.css("margin-left",l),i.css("margin-right",m),i.css("padding-left",n),i.css("padding-right",o)}f.clickToOpen?(f.removeHandler(c,"mousedown"),f.addHandler(c,"mousedown",function(a){clearTimeout(i.data("timer").hide),null!=i&&i.stop(),0!=b.level||b.isOpen||(a.data=f,f._closeAll(a)),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b)})):((g||h)&&(f.removeHandler(c,a.jqx.mobile.getTouchEventName("touchstart")),f.addHandler(c,a.jqx.mobile.getTouchEventName("touchstart"),function(a){return clearTimeout(i.data("timer").hide),null!=i&&i.stop(),0!=b.level||b.isOpen||"popup"==f.mode||(a.data=f,f._closeAll(a)),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b),!1})),h||(f.addHandler(c,"mouseenter",function(){if((f.autoOpen||b.level>0&&!f.autoOpen)&&clearTimeout(i.data("timer").hide),b.parentId&&0!=b.parentId&&f.menuElements[b.parentId]){var a=f.menuElements[b.parentId].isOpen;if(!a)return}return(f.autoOpen||b.level>0&&!f.autoOpen)&&f._openItem(f,b),!1}),f.removeHandler(c,"mousedown"),f.addHandler(c,"mousedown",function(){f.autoOpen||0!=b.level||(clearTimeout(i.data("timer").hide),null!=i&&i.stop(),b.isOpen?f._closeItem(f,b,!0):f._openItem(f,b))}),f.addHandler(c,"mouseleave",function(c){if(f.autoCloseOnMouseLeave){clearTimeout(i.data("timer").hide);var d=a(b.subMenuElement),e={left:parseInt(c.pageX),top:parseInt(c.pageY)},g={left:parseInt(d.coord().left),top:parseInt(d.coord().top),width:parseInt(d.outerWidth()),height:parseInt(d.outerHeight())},h=!0;g.left-5<=e.left&&e.left<=g.left+g.width+5&&g.top<=e.top&&e.top<=g.top+g.height&&(h=!1),h&&f._closeItem(f,b,!0)}}),f.removeHandler(j,"mouseenter"),f.addHandler(j,"mouseenter",function(){clearTimeout(i.data("timer").hide)}),f.removeHandler(j,"mouseleave"),f.addHandler(j,"mouseleave",function(a){f.autoCloseOnMouseLeave&&(clearTimeout(i.data("timer").hide),clearTimeout(i.data("timer").show),null!=i&&i.stop(),f._closeItem(f,b,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var a=Math.random()+"";for(a=a.replace(".",""),a="99"+a,a/=1;this.items[a];)a=Math.random()+"",a=a.replace(".",""),a/=1;return"menuItem"+a},_createMenu:function(b,c){if(null!=b){void 0==c&&(c=!0),null==c&&(c=!0);var d=a(b).find("li"),e=0;this.itemMapping=new Array;for(var f=0;f<d.length;f++){var g=d[f],h=a(g);if(g.className.indexOf("jqx-menu")!=-1||0!=this.autoGenerate){var i=g.id;i||(i=this.createID()),c&&(g.id=i,this.items[e]=new a.jqx._jqxMenu.jqxMenuItem,this.menuElements[i]=this.items[e]),e+=1;var j=0,k=this,l=h.children();l.each(function(){return c||(this.className="",k.autoGenerate&&(a(k.items[e-1].subMenuElement)[0].className="",k.minimized||a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-widget-content")),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-menu-dropdown")),a(k.items[e-1].subMenuElement).addClass(k.toThemeProperty("jqx-popup")))),this.className.indexOf("jqx-menu-dropdown")!=-1?(c&&(k.items[e-1].subMenuElement=this),!1):!k.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(c&&(k.items[e-1].subMenuElement=this),this.className="",k.minimized||a(this).addClass(k.toThemeProperty("jqx-widget-content")),a(this).addClass(k.toThemeProperty("jqx-menu-dropdown")),a(this).addClass(k.toThemeProperty("jqx-popup")),a(this).attr("role","menu"),k.rtl?a(this).addClass(k.toThemeProperty("jqx-rc-l")):a(this).addClass(k.toThemeProperty("jqx-rc-r")),a(this).addClass(k.toThemeProperty("jqx-rc-b")),!1)});var m=h.parents();m.each(function(){return this.className.indexOf("jqx-menu-item")!=-1?(j=this.id,!1):!k.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(j=this.id,!1)});var n=!1,o=g.getAttribute("type"),p=g.getAttribute("ignoretheme")||g.getAttribute("data-ignoretheme");if(p?"true"!=p&&1!=p||(p=!0):p=!1,o){if("separator"==o)var n=!0}else o=g.type;n||(o=j?"sub":"top");var q=this.items[e-1];if(c){q.id=i,q.parentId=j,q.type=o,q.separator=n,q.element=d[f];var r=h.children("a");q.disabled="true"==g.getAttribute("item-disabled"),q.level=h.parents("li").length,q.anchor=r.length>0?r:null,q.anchor&&a(q.anchor).attr("tabindex",-1)}q.ignoretheme=p;var s=this.menuElements[j];null!=s&&(s.ignoretheme&&(q.ignoretheme=s.ignoretheme,p=s.ignoretheme),q.parentItem=s,q.parentElement=s.element),this.autoGenerate&&("separator"==o?(h.removeClass(),h.addClass(this.toThemeProperty("jqx-menu-item-separator")),h.attr("role","separator")):p||(h[0].className.indexOf("jqx-grid-menu-item-touch")>=0?h[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):h[0].className="",this.rtl&&h.addClass(this.toThemeProperty("jqx-rtl")),q.level>0&&!k.minimized?(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item"))):(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item-top"))))),q.disabled&&(h.addClass(k.toThemeProperty("jqx-menu-item-disabled")),h.addClass(k.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[f]={element:d[f],item:q},this.itemMapping["id"+d[f].id]=this.itemMapping[f],c&&!p&&(q.hasItems=h.find("li").length>0,q.hasItems&&q.element&&(a.jqx.aria(a(q.element),"aria-haspopup",!0),q.subMenuElement.id||(q.subMenuElement.id=a.jqx.utilities.createId()),a.jqx.aria(a(q.element),"aria-owns",q.subMenuElement.id)))}}for(var t=0;t<d.length;t++){var u=d[t];if(this.itemMapping["id"+u.id]){var q=this.itemMapping["id"+u.id].item;if(!q)continue;q.prevItem=null,q.nextItem=null,t>0&&this.itemMapping["id"+d[t-1].id]&&(q.prevItem=this.itemMapping["id"+d[t-1].id].item),t<d.length-1&&this.itemMapping["id"+d[t+1].id]&&(q.nextItem=this.itemMapping["id"+d[t+1].id].item)}}}},destroy:function(){var b=this;a.jqx.utilities.resize(b.host,null,!0);var c=b.host.closest("div.jqx-menu-wrapper");b.removeHandler(c,"keydown"),c.remove(),b.removeHandler(a("#menuWrapper"+b.element.id),"keydown"),a("#menuWrapper"+b.element.id).remove(),b.removeHandler(b.host,"keydown"),b.removeHandler(b.host,"focus"),b.removeHandler(b.host,"blur"),this.removeHandler(a(document),"contextmenu."+this.element.id),this.removeHandler(a(document),"mousedown.menu"+this.element.id),this.removeHandler(a(window),"orientationchange.jqxmenu"+this.element.id),this.minimizedItem&&this.minimizedItem.remove(),b.removeHandler(a(document),"mousedown.menu"+b.element.id,b._closeAfterClick),b.removeHandler(a(document),"mouseup.menu"+b.element.id,b._closeAfterClick),b.removeHandler(a(document),"contextmenu."+b.element.id),b.removeHandler(b.host,"contextmenu."+b.element.id),a.data(document.body,"jqxMenuOldHost"+b.element.id,null),b.isTouchDevice()&&b.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+".menu"+b.element.id,b._closeAfterClick,this),a(window).off&&a(window).off("resize.menu"+b.element.id),a.each(b.items,function(){var c=this,d=a(c.element);b.removeHandler(d,"click"),b.removeHandler(d,"selectstart"),b.removeHandler(d,"mouseenter"),b.removeHandler(d,"mouseleave"),b.removeHandler(d,"mousedown"),b.removeHandler(d,"mouseleave");var e=a(c.subMenuElement);e.data("timer")&&(e.stop(),e.data("timer").show&&clearTimeout(e.data("timer").show),e.data("timer").hide&&clearTimeout(e.data("timer").hide));var f=e.closest("div.jqx-menu-popup");f.remove(),delete this.subMenuElement,delete this.element}),a.data(document.body,"menuel",null),delete b.menuElements,b.items=new Array,delete b.items;var d=a.data(b.element,"jqxMenu");d&&delete d.instance,b.host.removeClass(),b.host.remove(),delete b.host,delete b.element},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new a.Event(d);"2"==b&&(args=c.item,args.owner=this,args.clickType=c.type,a.extend(e,c.event),e.type="itemclick"),e.owner=this,e.args=args;var f=this.host.trigger(e);return f},propertiesChangedHandler:function(b,c,d){if(d.width&&d.height&&2==Object.keys(d).length&&(b._setSize(),"popup"===b.mode)){var e=this.host.closest("div.jqx-menu-wrapper");e[c](d);var f=this.host[0].id;a("#"+f)[c](d)}},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)&&("disabled"==c&&(b.disabled?(b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.addClass(b.toThemeProperty("jqx-menu-disabled"))):(b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.host.removeClass(b.toThemeProperty("jqx-menu-disabled")))),e!=d))if("touchMode"==c&&(this._isTouchDevice=null,b._render(e,d)),"width"!==c&&"height"!==c){if("source"==c&&null!=b.source){if(this.items){a.each(this.items,function(){var b=this,c=a(b.element);c.off();var d=a(b.subMenuElement),e=d.closest("div.jqx-menu-popup");e.remove(),delete this.subMenuElement,delete this.element})}var f=b.loadItems(b.source);b.element.innerHTML=f;var g=b.host.find("ul:first");g.length>0&&(b.refresh(),b._createMenu(g[0]),b._render())}"autoCloseOnClick"==c?0==e?b.removeHandler(a(document),"mousedown.menu"+this.element.id,b._closeAll):b.addHandler(a(document),"mousedown.menu"+this.element.id,b,b._closeAll):"mode"==c||"width"==c||"height"==c||"showTopLevelArrows"==c?(b.refresh(),"mode"==c?b._render(e,d):b._applyOrientation()):"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host)}else if(b._setSize(),"popup"===b.mode){var h=this.host.closest("div.jqx-menu-wrapper");h[c](e);var i=this.host[0].id;a("#"+i)[c](e)}},bindDataBinder:function(b){var c=this;if("source"==b)return function(b,d){var e,f=function(b){for(var d="simple",e=0,f=b.length;e<f;e++)if(A.hasOwnProp(b[e],"parentid")){d="tree";break}if("tree"==d){c.source={datatype:"json",datafields:[{name:"id"},{name:"parentid"},{name:"label"},{name:"value"}],id:"id",localdata:b};var g=new a.jqx.dataAdapter(c.source);g.dataBind(),b=g.getRecordsHierarchy("id","parentid","items"),c.source=b}else c.source=b;if(c.element.innerHTML=c.loadItems(c.source),c.element.innerHTML.indexOf("UL")){var h=c.host.find("ul:first");h.length>0&&(c.refresh(),c._createMenu(h[0]),c._render())}};"update"==b?(e=d.value||[],f(e)):"load"==b&&(e=d.records||[],f(e))}}})}(jqxBaseFramework),function(a){a.jqx._jqxMenu.jqxMenuItem=function(a,b,c){var d={id:a,parentId:b,parentItem:null,anchor:null,type:c,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return d}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxNavBar","",{}),a.extend(a.jqx._jqxNavBar.prototype,{defineInstance:function(){var b={height:"auto",minimizedHeight:30,popupAnimationDelay:250,minimizeButtonPosition:"left",width:"100%",selectedItem:0,selection:!0,disabled:!1,rtl:!1,minimized:!1,columns:null,minimizedTitle:"",orientation:"horizontal",events:["change"]};return this===a.jqx._jqxNavBar.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){this.render()},render:function(){var b=this;b.ul&&b.ul.parent()[0]!==b.element&&(b.ul.detach(),b.host.children().remove(),b.host.append(b.ul),b.popup&&b.popup.remove(),b.host.height(null),b.host.removeClass(b.toThemeProperty("jqx-widget-header")),b.host.removeClass(b.toThemeProperty("jqx-navbar-minimized"))),b.ul=b.host.children(),b._items=b.ul.children(),a.each(b._items,function(){a(this).removeClass()}),null!==this.width&&(this.width.toString().indexOf("%")>=0||this.width.toString().indexOf("px")>=0)?this.element.style.width=this.width:this.element.style.width=this.width+"px",b._layoutItems(),b._addClasses(),b._addHandlers(),b._handleMinimize(),a.jqx.utilities.resize(this.host,function(){b._resizePopup()})},_layoutItems:function(){var b=this,c=1,d=0,e=null===this.height||"auto"===this.height;if("horizontal"===b.orientation){if(b._items.length>5){var f="50%";b._items.css("width",f);var g=b.height;if(c=Math.ceil(b._items.length/2),!e){var h,i=!1;g.toString().indexOf("%")>=0?(h=parseInt(g)/c,h+="%",i=!0):h=parseInt(g)/c,d=2,i?(b._items.css("height",h),b._items.css("line-height",b._items.height()+"px")):(b._items.height(h),b._items.css("line-height",h+"px"))}}else{var f=b.host.width/2,j=b._items.length,f=100/j+"%";b._items.css("width",f),e||(b.height.toString().indexOf("%")>=0?(b._items.css("height",h),b._items.css("line-height",b.height)):(b._items.height(b.height),b._items.css("line-height",parseInt(b.height)+"px"))),d=j}if(b.columns){for(var g=b.height,k=0,l=0;l<b._items.length;l++){var m=b._items[l];a(m).css("width",b.columns[k]),k++,k>=b.columns.length&&(k=0,b.columns.length!==b._items.length&&c++)}var h,i=!1;g.toString().indexOf("%")>=0?(h=parseInt(g)/c,h+="%",i=!0):h=parseInt(g)/c,e||(i?(b._items.css("height",h),b._items.css("line-height",b._items.height()+"px")):(b._items.height(h),b._items.css("line-height",h+"px"))),d=b.columns.length}}else{for(var g=b.height,k=0,l=0;l<b._items.length;l++){var m=b._items[l];a(m).css("width","100%")}if(c=b._items.length,!e){var h,i=!1;g.toString().indexOf("%")>=0?(h=parseInt(g)/c,h+="%",i=!0):h=parseInt(g)/c,i?(b._items.css("height",h),b._items.css("line-height",b._items.height()+"px")):(b._items.height(h),b._items.css("line-height",h+"px"))}d=1}if(b.selection){var n=0,o=b._items.length/d,p=!1;o<c&&(p=!0);for(var l=0;l<c;l++)for(var q=0;q<d;q++){if(q<d-1){var r=b.rtl?"left":"right";a(b._items[n]).css("border-"+r+"-width","1px"),a(b._items[n]).css("border-"+r+"-style","solid")}c>1&&l>0&&(a(b._items[n]).css("border-top-width","1px"),a(b._items[n]).css("border-top-style","solid")),p&&l===c-2&&q===d-1&&(a(b._items[n]).css("border-bottom-width","1px"),a(b._items[n]).css("border-bottom-style","solid")),n++}}a.jqx.browser.msie&&a.jqx.browser.version<8&&(b._items.css("padding-left","0px"),b._items.css("padding-right","0px"),a.each(b._items,function(){a(this).css("border-left-width","0px"),a(this).css("border-right-width","0px"),a(this).css("position","relative"),a(this).css("margin-left","-1px")}),b.host.css("border","none"))},_handlePopupHeight:function(){var a=this;if(a.minimized){var b,c=!1;a.height.toString().indexOf("%")>=0&&(a.host.css("height",a.height),b=a.host.height()-a.minimizedHeight-1,c=!0),c&&(a.popup.height(b),a.ul.height(b),a.host.height(a.minimizedHeight),a._layoutItems())}},_handleMinimize:function(){var b=this;if(b.minimized){var c=b.host;c.height(b.minimizedHeight),c.css("box-sizing","border-box"),c.addClass(b.toThemeProperty("jqx-widget-header")),c.addClass(b.toThemeProperty("jqx-navbar-minimized"));var d=a('<div style="cursor: pointer; height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');c.append(d),d.css("float",b.minimizeButtonPosition);var e=a('<div style="height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');e.append(b.minimizedTitle),e.css("float","left"===b.minimizeButtonPosition?"right":"left"),"auto"!==b.minimizedHeight&&(b.minimizedHeight.toString().indexOf("%")>=0?e.css("line-height",b.minimizedHeight):e.css("line-height",parseInt(b.minimizedHeight)+"px")),c.append(e),d.addClass(b.toThemeProperty("jqx-menu-minimized-button")),c.removeClass(b.toThemeProperty("jqx-widget-content")),b.ul.detach();var f=a("<div style='box-sizing: border-box; z-index: 999999; display: none; position: absolute;'></div>");f.addClass(b.toThemeProperty("jqx-widget jqx-widget-content jqx-popup jqx-navbar jqx-navbar-popup")),f.append(b.ul),b.popup=f,a(document.body).append(f),b.opened=!1,d.click(function(){b.opened?b.close():b.open()}),b.button=d}},close:function(){var a=this;a.popup.fadeOut(a.popupAnimationDelay),a.opened=!1},open:function(){var a=this;a.popup.fadeIn(a.popupAnimationDelay),a.popup.css("top",parseInt(a.host.coord().top)+a.host.outerHeight()-1),a.popup.width(a.host.width());var b=a.host.coord().left;a.popup.css("left",b),b.toString().indexOf(".5")>=0&&a.popup.width(a.host.width()-.5),a._handlePopupHeight(),a.opened=!0},_resizePopup:function(){var a=this;if(a.minimized&&a.popup){a.popup.width(a.host.width());var b=a.host.coord().left;a.popup.css("left",b),b.toString().indexOf(".5")>=0&&a.popup.width(a.host.width()-.5),a.popup.css("top",parseInt(a.host.coord().top)+a.host.outerHeight()-1),a._handlePopupHeight()}},selectAt:function(b){var c=this;if(c.selection){a(c._items[c.selectedItem]).removeClass(c.toThemeProperty("jqx-fill-state-pressed")),a(c._items[b]).addClass(c.toThemeProperty("jqx-fill-state-pressed"));var d=c.selectedItem;c.selectedItem=b,c._raiseEvent("0",{selectedItem:b,oldSelectedItem:d})}},getSelectedIndex:function(){return this.selectedItem},destroy:function(){var b=this;a.jqx.utilities.resize(this.host,null,!0),b._removeHandlers(),b.host.remove()},propertyChangedHandler:function(a,b,c,d){a.render()},_raiseEvent:function(b,c){var d=this,e=d.events[b],f=new a.Event(e);f.owner=d,f.args=c;try{var g=d.host.trigger(f)}catch(h){}return g},_removeHandlers:function(){var a=this;a.removeHandler(a._items,"click.navbar"+a.element.id),a.removeHandler(a._items,"mouseenter.navbar"+a.element.id),a.removeHandler(a._items,"mouseleave.navbar"+a.element.id)},_addClasses:function(){var b=this;b.host.addClass(b.toThemeProperty("jqx-navbar")),b.disabled&&b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b._items.addClass(b.toThemeProperty("jqx-navbar-block")),b.selection?(b.host.addClass(b.toThemeProperty("jqx-widget")),b.host.addClass(b.toThemeProperty("jqx-widget-content")),b.host.addClass(b.toThemeProperty("jqx-fill-state-normal")),b._items.addClass(b.toThemeProperty("jqx-fill-state-normal")),b._items.addClass(b.toThemeProperty("jqx-button")),b.selectedItem!==-1&&a(b._items[b.selectedItem]).addClass(b.toThemeProperty("jqx-fill-state-pressed"))):this.host.css("border","none"),b.rtl&&b._items.addClass(b.toThemeProperty("jqx-navbar-block-rtl"))},_addHandlers:function(){var b=this;b.addHandler(b._items,"click.navbar"+b.element.id,function(c){if(!b.disabled&&b.selection){var d=a(b._items).index(this);b.selectAt(d)}}),b.addHandler(b._items,"mouseenter.navbar"+b.element.id,function(c){!b.disabled&&b.selection&&a(c.target).addClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(b._items,"mouseleave.navbar"+b.element.id,function(c){!b.disabled&&b.selection&&a(c.target).removeClass(b.toThemeProperty("jqx-fill-state-hover"))})}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxNavigationBar","",{}),a.extend(a.jqx._jqxNavigationBar.prototype,{defineInstance:function(){var b={width:"auto",height:"auto",expandAnimationDuration:250,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",expandMode:"singleFitHeight",expandedIndexes:[],_expandModes:["singleFitHeight","single","multiple","toggle","none"],aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expandingItem","expandedItem","collapsingItem","collapsedItem"]};return this===a.jqx._jqxNavigationBar.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){this._isTouchDevice=a.jqx.mobile.isTouchDevice(),a.jqx.aria(this),this.render()},val:function(a){return 0===arguments.length||"object"==typeof a?this.expandedIndexes:("string"==typeof a?(this.expandedIndexes.push(parseInt(a,10)),this._applyExpandedIndexes()):(a instanceof Array?this.expandedIndexes=a:this.expandedIndexes=[a],this._applyExpandedIndexes()),this.expandedIndexes)},expandAt:function(b){var c=this;if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode)for(var d=0;d<c.items.length;d++)d!=b&&c.collapseAt(d);var e=this.items[b];if(e.disabled===!1&&e.expanded===!1&&1==e._expandChecker)switch(e._expandChecker=0,this._raiseEvent("0",{item:b}),e._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-normal")),e._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),e._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),e._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this.heightFlag===!1&&(c.element.style.overflowX="hidden",c.element.style.overflowY="hidden"),this.eCFlag=1,this.animationType){case"slide":var f=e._contentHelper,g=0,h=f.outerHeight();f.slideDown({duration:this.expandAnimationDuration,easing:this.easing,step:function(a,b){b.now=Math.round(a),"height"!==b.prop?g+=b.now:c._collapseContent?(b.now=Math.round(h-c._collapseContent.outerHeight()-g),g=0):b.now=Math.round(a)},complete:function(){e.expanded=!0,a.jqx.aria(e._header,"aria-expanded",!0),a.jqx.aria(e._content,"aria-hidden",!1),c._updateExpandedIndexes(),c._raiseEvent("1",{item:b}),c._checkHeight(),c.heightFlag===!0&&(c.element.style.overflowX="hidden",c.element.style.overflowY="auto"),c.initContent&&e._initialized===!1&&(c.initContent(b),e._initialized=!0),c.eCFlag=0}});break;case"fade":setTimeout(function(){e._contentHelper.fadeIn({duration:this.expandAnimationDuration,complete:function(){e.expanded=!0,a.jqx.aria(e._header,"aria-expanded",!0),a.jqx.aria(e._content,"aria-hidden",!1),c._updateExpandedIndexes(),c._raiseEvent("1",{item:b}),c._checkHeight(),c.heightFlag===!0&&(c.element.style.overflowX="hidden",c.element.style.overflowY="auto"),c.initContent&&e._initialized===!1&&(c.initContent(b),e._initialized=!0),c.eCFlag=0}})},this.collapseAnimationDuration);break;case"none":e._content.style.display="",e.expanded=!0,a.jqx.aria(e._header,"aria-expanded",!0),a.jqx.aria(e._content,"aria-hidden",!1),this._updateExpandedIndexes(),this._raiseEvent("1",{item:b}),this._checkHeight(),this.heightFlag===!0&&(c.element.style.overflowX="hidden",c.element.style.overflowY="auto"),this.initContent&&e._initialized===!1&&(this.initContent(b),e._initialized=!0),this.eCFlag=0}},collapseAt:function(b){var c=this.items[b];if(c.disabled===!1&&c.expanded===!0&&0===c._expandChecker){var d=this;switch(c._expandChecker=1,this._raiseEvent("2",{item:b}),c._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),c._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-normal")),c._arrowHelper.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),c._arrowHelper.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),this.heightFlag===!1&&(d.element.style.overflowX="hidden",d.element.style.overflowY="hidden"),this.eCFlag=1,this._collapseContent=c._contentHelper,this.animationType){case"slide":var e=c._contentHelper;e.slideUp({duration:this.collapseAnimationDuration,step:function(a,b){b.now=Math.round(a)},easing:this.easing,complete:function(){c.expanded=!1,c._content.style.display="none",a.jqx.aria(c._header,"aria-expanded",!1),a.jqx.aria(c._content,"aria-hidden",!0),d._updateExpandedIndexes(),d._raiseEvent("3",{item:b}),d._checkHeight(),d.heightFlag===!0&&(d.element.style.overflowX="hidden",d.element.style.overflowY="auto"),d.eCFlag=0,d._collapseContent=null}});break;case"fade":c._contentHelper.fadeOut({duration:this.collapseAnimationDuration,complete:function(){c.expanded=!1,a.jqx.aria(c._header,"aria-expanded",!1),a.jqx.aria(c._content,"aria-hidden",!0),d._updateExpandedIndexes(),d._raiseEvent("3",{item:b}),d._checkHeight(),d.heightFlag===!0&&(d.element.style.overflowX="hidden",d.element.style.overflowY="auto"),d.eCFlag=0}});break;case"none":c._content.style.display="none",c.expanded=!1,a.jqx.aria(c._header,"aria-expanded",!1),a.jqx.aria(c._content,"aria-hidden",!0),this._updateExpandedIndexes(),this._raiseEvent("3",{item:b}),this._checkHeight(),this.heightFlag===!0&&(d.element.style.overflowX="hidden",d.element.style.overflowY="auto"),this.eCFlag=0}}},setHeaderContentAt:function(a,b){this.items[a]._headerText.innerHTML=b},getHeaderContentAt:function(a){return this.items[a]._headerText.innerHTML},setContentAt:function(a,b){this.items[a]._content.innerHTML=b,this._checkContent(a)},getContentAt:function(a){return this.items[a]._content.innerHTML},showArrowAt:function(a){this.items[a]._arrow.style.display="block"},hideArrowAt:function(a){this.items[a]._arrow.style.display="none"},enable:function(){this.disabled=!1,this._enabledDisabledCheck(),this.refresh(),a.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this._enabledDisabledCheck(),this.refresh(),a.jqx.aria(this,"aria-disabled",!0)},enableAt:function(a){this.items[a].disabled=!1,this.refresh()},disableAt:function(a){this.items[a].disabled=!0,this.refresh()},invalidate:function(){this.refresh()},refresh:function(a){if(a!==!0){this._removeHandlers();for(var b=0;b<this.items.length;b++)this.items[b]._arrow.style.display=this.showArrow?"block":"none";this._updateExpandedIndexes(),this._setTheme(),this._setSize(),this._toggle(),this._keyBoard()}},render:function(){this.widgetID=this.element.id;var b=this;this._expandModes.indexOf(this.expandMode)==-1&&(this.expandMode="singleFitHeight"),a.jqx.utilities.resize(this.host,function(){b._setSize()}),b.element.setAttribute("role","tablist"),this.items&&(this._removeHandlers(),a.each(this.items,function(){this._header.className="",this._header.setAttribute("tabindex",null),this._header.style.marginTop="0px",this._headerText.className="",this._header.innerHTML=this._headerText.innerHTML,this._content.setAttribute("tabindex",null)})),this.items=[];var c=b.host.children(),d=c.length,e="Invalid jqxNavigationBar structure. Please add an even number of child div elements that will represent each item's header and content.";try{if(d%2!==0)throw e}catch(f){throw new Error(f)}var g="Invalid jqxNavigationBar structure. Please make sure all the children elements of the navigationbar are divs.";try{for(var h=0;h<d;h++)if("div"!=c[h].tagName.toLowerCase())throw g}catch(f){throw new Error(f)}for(var i=0;i<d;i+=2){var j=c[i];j.innerHTML="<div>"+j.innerHTML+"</div>"}for(var k,l=0,m=0;m<d/2;m++){k=l+1;var n={};n={},n._header=c[l],n._headerHelper=a(c[l]),c[l].setAttribute("role","tab"),n._content=c[k],n._contentHelper=a(c[k]),n._contentHelper.initAnimate&&n._contentHelper.initAnimate(),n.expandedFlag=!1,n.expanded=!1,n.focusedH=!1,n.focusedC=!1,this.items[m]=n,c[k].setAttribute("role","tabpanel"),l+=2}var o=this.expandedIndexes.length;if(!this.items||0!==this.items.length){if("single"==this.expandMode||"singleFitHeight"==this.expandMode||"toggle"==this.expandMode||"none"==this.expandMode)0!==o?this.items[this.expandedIndexes[0]].expanded=!0:0!==o||"single"!=this.expandMode&&"singleFitHeight"!=this.expandMode||(this.items[0].expanded=!0);else if("multiple"==this.expandMode&&0!==o)for(var p=0;p<o;p++)b.items[this.expandedIndexes[p]].expanded=!0;this._enabledDisabledCheck();var q=0;a.each(this.items,function(c){var d=this;d._headerText=a(d._header).children()[0],b.rtl?a(d._headerText).addClass(b.toThemeProperty("jqx-expander-header-content-rtl")):a(d._headerText).addClass(b.toThemeProperty("jqx-expander-header-content")),d._arrow=document.createElement("div"),d._arrowHelper=a(d._arrow),d._header.appendChild(d._arrow),b.showArrow?d._arrow.style.display="block":d._arrow.style.display="none",d.expanded===!0?(d._arrowHelper.addClass(b.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),b.initContent?setTimeout(function(){b.initContent(c),d._initialized=!0},10):d._initialized=!0,d._expandChecker=0,a.jqx.aria(d._header,"aria-expanded",!0),a.jqx.aria(d._content,"aria-hidden",!1)):d.expanded===!1&&(d._arrowHelper.addClass(b.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),d._initialized=!1,d._expandChecker=1,d._content.style.display="none",a.jqx.aria(d._header,"aria-expanded",!1),a.jqx.aria(d._content,"aria-hidden",!0)),null===d._header.getAttribute("tabindex")&&(q++,d._header.setAttribute("tabindex",q)),null===d._content.getAttribute("tabindex")&&(q++,d._content.setAttribute("tabindex",q))}),this._setTheme(),this._setSize();for(var r=0;r<b.items.length;r++)b._checkContent(r);this._toggle(),this._keyBoard()}},insert:function(a,b,c){var d=document.createElement("div"),e=document.createElement("div");if(d.innerHTML=b,e.innerHTML=c,a>=0&&a<=this.items.length){var f=this.items[a]._header;this.element.insertBefore(d,f),this.element.insertBefore(e,f)}else this.element.appendChild(d),this.element.appendChild(e);this.render()},add:function(a,b){this.insert(-1,a,b)},update:function(a,b,c){this.setHeaderContentAt(a,b),this.setContentAt(a,c)},remove:function(a){if(isNaN(a)&&(a=this.items.length-1),this.items[a]){this.items[a]._header.remove(),this.items[a]._content.remove(),this.items.splice(a,1);var b=this.expandedIndexes.indexOf(a);b>-1&&this.expandedIndexes.splice(b,1),this.render()}},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.host.remove()},focus:function(){try{for(var a=0;a<this.items.length;a++){
var b=this.items[a];if(b.disabled===!1)return b._header.focus(),!1}}catch(c){}},_applyExpandedIndexes:function(){for(var a=this,b=this.expandedIndexes.length,c=0;c<b;c++)for(var d=a.expandedIndexes[c],e=0;e<a.items.length;e++){var f=a.items[e];if(e==d){if(f.expandedFlag=!0,f.expanded===!1&&a.expandAt(e),"single"==a.expandMode||"singleFitHeight"==a.expandMode||"toggle"==a.expandMode||"none"==a.expandMode)return!1}else e!=d&&f.expandedFlag===!1&&a.collapseAt(e)}for(var g=0;g<a.items.length;g++)a.items[g].expandedFlag=!1},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&a._setSize()},propertyChangedHandler:function(a,b,c,d){if(!(a.batchUpdate&&a.batchUpdate.width&&a.batchUpdate.height&&2==Object.keys(a.batchUpdate).length))return"width"==b||"height"==b?void a._setSize():void("disabled"==b?a._enabledDisabledCheck():"expandedIndexes"==b?a._applyExpandedIndexes():a.refresh())},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c,e.item=e.args.item;var f;try{f=this.host.trigger(e)}catch(g){}return f},resize:function(a,b){this.width=a,this.height=b,this._setSize()},_setSize:function(){var b=this;this.headersHeight=0;var c=this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0,d=this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0,e=2,f=c+d+e;isNaN(f)&&(f=12),"auto"==this.width?b.element.style.width="auto":null!=this.width&&this.width.toString().indexOf("%")!=-1?b.element.style.width=b.width:b.element.style.width=parseInt(this.width,10)+f+"px","number"==typeof b.height?b.element.style.height=b.height+"px":b.element.style.height=b.height;for(var g=0;g<b.items.length;g++){var h=b.items[g],i=b.arrowPosition;if(b.rtl)switch(i){case"left":i="right";break;case"right":i="left"}"right"==i?(h._headerText.style["float"]="left",h._headerText.style.marginLeft="0px",h._arrow.style["float"]="right",h._arrow.style.position="relative"):"left"==i&&("auto"==b.width?(h._headerText.style["float"]="left",h._headerText.style.marginLeft="17px",h._arrow.style["float"]="left",h._arrow.style.position="absolute"):(h._headerText.style["float"]="right",h._headerText.style.marginLeft="0px",h._arrow.style["float"]="left",h._arrow.style.position="relative")),h._header.style.height="auto",h._headerText.style.minHeight=h._arrow.offsetHeight,b.headersHeight+=a(h._header).outerHeight(),h._arrow.style.marginTop=h._headerText.offsetHeight/2-h._arrow.offsetHeight/2+"px"}for(var j=0;j<b.items.length;j++){var k=b.items[j];if("auto"!=b.height)if("single"==b.expandMode||"toggle"==b.expandMode||"multiple"==b.expandMode)b.element.style.overflowX="hidden",b.element.style.overflowY="auto";else if("singleFitHeight"==b.expandMode){var l=parseInt(k._contentHelper.css("padding-top"),10)+parseInt(k._contentHelper.css("padding-bottom"),10);b.height&&b.height.toString().indexOf("%")>=0?k._content.style.height=Math.max(0,b.element.offsetHeight-b.headersHeight-l+2)+"px":k._content.style.height=Math.max(0,b.element.offsetHeight-b.headersHeight-l)+"px"}}b._checkHeight()},_toggle:function(){var b=this;if(this._isTouchDevice===!1)switch(this.toggleMode){case"click":case"dblclick":a.each(this.items,function(a){var c=this;c.disabled===!1&&b.addHandler(c._header,b.toggleMode+".navigationbar"+b.widgetID,function(){b.focusedH=!0,b._animate(a)})});break;case"none":}else{if("none"==this.toggleMode)return;a.each(this.items,function(c){var d=this;d.disabled===!1&&b.addHandler(d._header,a.jqx.mobile.getTouchEventName("touchstart")+"."+b.widgetID,function(){b._animate(c)})})}},_animate:function(a,b){var c=this,d=this.items[a];"none"!=this.expandMode&&1!=this.eCFlag&&(this.items[a].expanded===!0?"multiple"!=this.expandMode&&"toggle"!=this.expandMode||this.collapseAt(a):this.expandAt(a),c._isTouchDevice||(b!==!0?(d._headerHelper.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),d._arrowHelper.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):(d._headerHelper.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),d._arrowHelper.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")))))},_removeHandlers:function(){var a=this;this.removeHandler(this.host,"keydown.navigationbar"+this.widgetID);for(var b=0;b<a.items.length;b++){var c=a.items[b];a.removeHandler(c._header,"click.navigationbar"+a.widgetID),a.removeHandler(c._header,"dblclick.navigationbar"+a.widgetID),a.removeHandler(c._header,"mouseenter.navigationbar"+a.widgetID),a.removeHandler(c._header,"mouseleave.navigationbar"+a.widgetID),a.removeHandler(c._header,"focus.navigationbar"+a.widgetID),a.removeHandler(c._header,"blur.navigationbar"+a.widgetID),a.removeHandler(c._content,"focus.navigationbar"+a.widgetID),a.removeHandler(c._content,"blur.navigationbar"+a.widgetID),a.removeHandler(c._headerText,"focus.navigationbar"+a.widgetID),a.removeHandler(c._arrow,"focus.navigationbar"+a.widgetID)}},_setTheme:function(){var b=this;this.host.addClass(this.toThemeProperty("jqx-reset jqx-widget")),this.rtl===!0&&this.host.addClass(this.toThemeProperty("jqx-rtl")),a.each(this.items,function(a){var c=this,d=c._headerHelper,e=c._arrowHelper,f=c._contentHelper,g="jqx-widget-header jqx-item jqx-expander-header",h="jqx-widget-content jqx-expander-content jqx-expander-content-bottom";c._header.style.position="relative",c._content.style.position="relative",c.disabled===!1?(d.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),f.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),c.expanded===!0?g+=" jqx-fill-state-pressed jqx-expander-header-expanded":(g+=" jqx-fill-state-normal",d.removeClass(b.toThemeProperty("jqx-expander-header-expanded"))),b._isTouchDevice||(b.addHandler(c._header,"mouseenter.navigationbar"+b.widgetID,function(){1==c._expandChecker&&(c.focusedH||(c._header.style.zIndex=5),d.removeClass(b.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),d.addClass(b.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e.addClass(b.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")),c.expanded?e.addClass(b.toThemeProperty("jqx-icon-arrow-up-hover")):e.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover")))}),b.addHandler(c._header,"mouseleave.navigationbar"+b.widgetID,function(){c.focusedH||(c._header.style.zIndex=0),d.removeClass(b.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e.removeClass(b.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),1==c._expandChecker?d.addClass(b.toThemeProperty("jqx-fill-state-normal")):d.addClass(b.toThemeProperty("jqx-fill-state-pressed"))}))):(g+=" jqx-fill-state-disabled",h+=" jqx-fill-state-disabled"),b.host.addClass(b.toThemeProperty("jqx-navigationbar")),d.addClass(b.toThemeProperty(g)),f.addClass(b.toThemeProperty(h)),0!==a&&(c._header.style.marginTop="-1px"),e.addClass(b.toThemeProperty("jqx-expander-arrow"))})},_checkContent:function(a){var b=this.items[a],c=b._content;if(this._cntntEmpty=/^\s*$/.test(this.items[a]._content.innerHTML),this._cntntEmpty===!0)c.style.display="none",c.style.height="0px",b._contentHelper.addClass(this.toThemeProperty("jqx-expander-content-empty"));else{if(b.expanded&&(c.style.display="block"),"singleFitHeight"==this.expandMode){c.style.height=Math.max(0,this.element.offsetHeight-this.headersHeight+this.items.length-2)+"px"}else c.style.height="auto";b._contentHelper.removeClass(this.toThemeProperty("jqx-expander-content-empty"))}},_checkHeight:function(){var a=this;if("string"!=typeof a.width||a.width.indexOf("%")===-1){var b=0,c=this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-left"),10):0,d=this.items&&this.items.length>0?parseInt(this.items[0]._headerHelper.css("padding-right"),10):0,e=2,f=c+d+e;isNaN(f)&&(f=12);for(var g=17,h=0;h<a.items.length;h++){var i=a.items[h];b+=(i.expanded?i._contentHelper.outerHeight():0)+i._headerHelper.outerHeight()}"auto"!=this.width&&"auto"!=this.height&&"singleFitHeight"!=this.expandMode&&(b>a.element.offsetHeight?(a.element.style.width=parseInt(this.width,10)+f+g+"px",this.heightFlag=!0):(a.element.style.width=parseInt(this.width,10)+f+"px",this.heightFlag=!1))}},_enabledDisabledCheck:function(){for(var a=0;a<this.items.length;a++)this.items[a].disabled=this.disabled},_updateExpandedIndexes:function(){var b=this;this.expandedIndexes=[],a.each(this.items,function(a){var c=this;if(c.expanded===!0&&(b.expandedIndexes.push(a),"single"==b.expandMode||"singleFitHeight"==b.expandMode||"toggle"==b.expandMode||"none"==b.expandMode))return!1})},_keyBoard:function(){var b=this;this._focus(),this.addHandler(this.host,"keydown.navigationbar"+this.widgetID,function(c){var d=!1,e=b.items.length;return a.each(b.items,function(a){var f=this;if((f.focusedH===!0||f.focusedC===!0)&&f.disabled===!1){switch(c.keyCode){case 13:case 32:"none"!=b.toggleMode&&(f.focusedH===!0&&b._animate(a,!0),d=!0);break;case 37:0!==a?b.items[a-1]._header.focus():b.items[e-1]._header.focus(),d=!0;break;case 38:c.ctrlKey===!1?0!==a?b.items[a-1]._header.focus():b.items[e-1]._header.focus():f.focusedC===!0&&f._header.focus(),d=!0;break;case 39:a!=e-1?b.items[a+1]._header.focus():b.items[0]._header.focus(),d=!0;break;case 40:c.ctrlKey===!1?a!=e-1?b.items[a+1]._header.focus():b.items[0]._header.focus():f.expanded===!0&&f._content.focus(),d=!0;break;case 35:a!=e-1&&b.items[e-1]._header.focus(),d=!0;break;case 36:0!==a&&b.items[0]._header.focus(),d=!0}return!1}}),d&&c.preventDefault&&c.preventDefault(),!d})},_focus:function(){var b=this;this.disabled||a.each(this.items,function(){var c=this;b.addHandler(c._header,"focus.navigationbar"+this.widgetID,function(){c.focusedH=!0,a.jqx.aria(c._header,"aria-selected",!0),c._headerHelper.addClass(b.toThemeProperty("jqx-fill-state-focus")),c._header.style.zIndex=10}),b.addHandler(c._header,"blur.navigationbar"+this.widgetID,function(){c.focusedH=!1,a.jqx.aria(c._header,"aria-selected",!1),c._header.className.indexOf("jqx-expander-header-hover")!==-1?c._header.style.zIndex=5:c._header.style.zIndex=0,c._headerHelper.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),b.addHandler(c._headerText,"focus.navigationbar"+this.widgetID,function(){c._header.focus()}),b.addHandler(c._arrow,"focus.navigationbar"+this.widgetID,function(){c._header.focus()}),b.addHandler(c._content,"focus.navigationbar"+this.widgetID,function(){c.focusedC=!0,c._contentHelper.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),b.addHandler(c._content,"blur.navigationbar"+this.widgetID,function(){c.focusedC=!1,c._contentHelper.removeClass(b.toThemeProperty("jqx-fill-state-focus"))})})}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxNotification","",{}),a.extend(a.jqx._jqxNotification.prototype,{defineInstance:function(){var b={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return this===a.jqx._jqxNotification.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){var b=this;b.render(),1==b.autoOpen&&b.open()},render:function(){var b=this;if(0==b.host.hasClass("jqx-notification")){b.host.addClass(b.toThemeProperty("jqx-rc-all")),b.host.addClass(b.toThemeProperty("jqx-notification")),b.host.css({zIndex:b.zIndex,display:"none",opacity:b.opacity}),b._container=b._notificationContainer(),b._appendContent(),b._setHoverFunctions(),b._instances=new Array,b._instanceKey=0;var c=a.data(document.body,"jqxNotifications");void 0==c&&(c=0),a.data(document.body,"jqxNotifications",c+1)}else b.refresh()},refresh:function(a){a||this._appendContent(!0)},open:function(){var a=this;if(0==a.disabled){var b=a.host.clone();b.removeAttr("id"),b.width(a.width),b.height(a.height),null!=this.width&&this.width.toString().indexOf("%")!=-1&&b.css("width",this.width),null!=this.height&&this.height.toString().indexOf("%")!=-1&&b.css("height",this.height),a.appendContainer||"bottom-left"!=a.position&&"bottom-right"!=a.position?(b.css("margin-bottom",a.notificationOffset),a._container.append(b)):(b.css("margin-top",a.notificationOffset),a._container.prepend(b)),a._addHandlers(b),b.fadeIn(a.animationOpenDelay,function(){a._raiseEvent("0",{element:b})}),1==a.blink&&(b._blinkInterval=setInterval(function(){b.fadeTo(400,a.opacity/1.5,function(){b.fadeTo(400,a.opacity)})},850)),1==a.autoClose&&(b._autoCloseTimeout=setTimeout(function(){a._close(b)},a.autoCloseDelay)),b._key=a._instanceKey,a._instances[a._instanceKey]=b,a._instanceKey++}},closeAll:function(){for(var a=this,b=0;b<a._instances.length;b++)a._instances[b]&&a._close(a._instances[b])},closeLast:function(){for(var a=this,b=a._instances.length;b>=0;b--)if(a._instances[b]){a._close(a._instances[b]);break}},destroy:function(){var b=this;b.closeAll(),b.host.remove();var c=a.data(document.body,"jqxNotifications");a.data(document.body,"jqxNotifications",c-1),b._destroyContainers(c-1)},propertyChangedHandler:function(a,b,c,d){var e=this;if(d!=c)switch(b){case"width":case"height":var f=c.indexOf&&c.indexOf("%")!=-1;f=void 0!=f&&f;var g=d.indexOf&&d.indexOf("%")!=-1;g=void 0!=g&&g,g!=f&&(e[b]=c);break;case"appendContainer":case"position":e._container=e._notificationContainer();break;case"browserBoundsOffset":e.appendContainer||e._position(e._container);break;case"opacity":e.host.css("opacity",d);break;case"showCloseButton":case"template":case"icon":case"rtl":e._appendContent(!0)}},_raiseEvent:function(b,c){var d=this,e=d.events[b],f=new a.Event(e);f.owner=d,f.args=c;try{var g=d.host.trigger(f)}catch(h){}return g},_close:function(a){var b=this;b._instances[a._key]&&(b._instances[a._key]=!1,clearInterval(a._blinkInterval),clearTimeout(a._autoCloseTimeout),a.fadeOut(b.animationCloseDelay,function(){b._removeHandlers(a),a.remove(),b._raiseEvent("1")}))},_addHandlers:function(a){var b=this;if(b.addHandler(a,"click.notification"+b.element.id,function(c){b._raiseEvent("2"),1==b.closeOnClick&&b._close(a)}),b.addHandler(a,"mouseenter.notification"+b.element.id,function(c){a._blinkInterval||b.mouseenterFunction(a)}),b.addHandler(a,"mouseleave.notification"+b.element.id,function(c){a._blinkInterval||"none"==a.css("display")||b.mouseleaveFunction(a)}),1==b.showCloseButton){var c=a.find(".jqx-notification-close-button");b.addHandler(c,"click.notification"+b.element.id,function(c){c.stopPropagation(),b._close(a)})}},_removeHandlers:function(a){var b=this;b.removeHandler(a,"click.notification"+b.element.id),b.removeHandler(a,"click.mouseenter"+b.element.id),b.removeHandler(a,"click.mouseleave"+b.element.id);var c=a.find(".jqx-notification-close-button");c.length>0&&b.removeHandler(c,"click.notification"+b.element.id)},_appendContent:function(b){var c,d=this,e=d.host.html();b||(c=d.host.children().detach()),b&&(d.host.removeAttr("class"),d.host.addClass(d.toThemeProperty("jqx-rc-all")),d.host.addClass(d.toThemeProperty("jqx-notification")));var f=a("<table class='"+d.toThemeProperty("jqx-notification-table")+"'></table>"),g=a("<tr></tr>");f.append(g);var h=d.rtl?"jqx-notification-content-rtl":"";if(b){var i=d.host.find(".jqx-notification-content");e=i.html(),c=i.detach(),d.rtl?i.addClass("jqx-notification-content-rtl"):i.removeClass("jqx-notification-content-rtl")}else var i=a("<td class='"+d.toThemeProperty("jqx-notification-content")+" "+h+"'></td>");g.html(i);var j,k=function(){0==d.rtl?(j.addClass("jqx-notification-icon-ltr"),i.before(j)):(j.addClass("jqx-notification-icon-rtl"),i.after(j))};if(d.template?(d.host.addClass("jqx-widget"),d.host.addClass("jqx-popup"),d.host.addClass("jqx-notification-"+d.template),j=a("<td class='"+d.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+d.template+"'></td>"),k()):(d.host.addClass(d.toThemeProperty("jqx-widget")),d.host.addClass(d.toThemeProperty("jqx-popup")),d.host.addClass(d.toThemeProperty("jqx-fill-state-normal")),d.icon&&(j=a("<td class='"+d.toThemeProperty("jqx-notification-icon")+"'></td>"),d.icon.padding=d.icon.padding?parseInt(d.icon.padding):5,j.css({width:parseInt(d.icon.width)+d.icon.padding,height:d.icon.height,"background-image":"url('"+d.icon.url+"')"}),k())),1==d.showCloseButton){var l;l=d.template?"jqx-notification-close-button jqx-notification-close-button-"+d.template:d.toThemeProperty("jqx-icon-close")+" "+d.toThemeProperty("jqx-notification-close-button");var m=a("<td class='"+d.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+l+" "+d.element.id+"CloseButton' title='Close'></div></td>");0==d.rtl?(m.find("div").addClass("jqx-notification-close-button-ltr"),i.after(m)):(m.find("div").addClass("jqx-notification-close-button-rtl"),i.before(m))}d.host[0].innerHTML="",d.host.append(f),c.length>0?d.host.find(".jqx-notification-content").append(c):d.host.find(".jqx-notification-content").html(e)},_position:function(a){var b,c,d,e,f=this;switch(f.position){case"top-right":b="",c=f.browserBoundsOffset,d=f.browserBoundsOffset,e="";break;case"top-left":b=f.browserBoundsOffset,c="",d=f.browserBoundsOffset,e="";break;case"bottom-left":b=f.browserBoundsOffset,c="",d="",e=f.browserBoundsOffset;break;case"bottom-right":b="",c=f.browserBoundsOffset,d="",e=f.browserBoundsOffset}a.css({left:b,right:c,top:d,bottom:e})},_notificationContainer:function(){var b,c=this;if(c.appendContainer){if(b=a(c.appendContainer),0==b.length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+c.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else b=a("#jqxNotificationDefaultContainer-"+c.position),0==b.length&&(a("body").append("<div id='jqxNotificationDefaultContainer-"+c.position+"' class='jqx-notification-container'></div>"),b=a("#jqxNotificationDefaultContainer-"+c.position),c.width.indexOf&&c.width.indexOf("%")!=-1&&b.addClass(c.toThemeProperty("jqx-notification-container-full-width")),c.height.indexOf&&c.height.indexOf("%")!=-1&&b.addClass(c.toThemeProperty("jqx-notification-container-full-height")),c._position(b));return b},_destroyContainers:function(b){0==b&&a(".jqx-notification-container").remove()},_setHoverFunctions:function(){var b=this,c=!1;"msie"==a.jqx.browser.browser&&"9.0"==a.jqx.browser.version&&(c=!0),0==c?(b.mouseenterFunction=function(a){a.fadeTo("fast",b.hoverOpacity)},b.mouseleaveFunction=function(a){a.fadeTo("fast",b.opacity)}):(b.mouseenterFunction=function(a){a.css("filter","alpha(opacity = "+100*b.hoverOpacity+")")},b.mouseleaveFunction=function(a){a.css("filter","alpha(opacity = "+100*b.opacity+")")})}})}(jqxBaseFramework),function(a,b){a.jqx.jqxWidget("jqxNumberInput","",{}),a.extend(a.jqx._jqxNumberInput.prototype,{defineInstance:function(){var b={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"],enableBigDecimal:!1};return this===a.jqx._jqxNumberInput.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){this.enableBigDecimal&&(null!==a[0].value&&void 0!==a[0].value&&(this.bigValue=b.createModule("big",a[0].value),this.value=this.bigValue.val()),void 0===a[0].min?this.min=void 0:this.min=b.createModule("big",a[0].min),void 0===a[0].max?this.max=void 0:this.max=b.createModule("big",a[0].max));var c=this.host.attr("value");void 0!=c&&(this.decimal=c),null!=this.value&&(this.decimal=this.value);var d=this;d._createFromInput("jqxNumberInput"),this.render()},_createFromInput:function(b){var c=this;if("input"==c.element.nodeName.toLowerCase()){c.field=c.element,c.field.className&&(c._className=c.field.className);var d={title:c.field.title};if(c.field.value&&(c.decimal=parseFloat(c.field.value)),c.field.getAttribute("min")){var e=c.field.getAttribute("min");c.min=parseFloat(e)}if(c.field.getAttribute("step")){var f=c.field.getAttribute("step");c.spinButtonsStep=parseFloat(f)}if(c.field.getAttribute("max")){var g=c.field.getAttribute("max");c.max=parseFloat(g)}c.field.id.length?d.id=c.field.id.replace(/[^\w]/g,"_")+"_"+b:d.id=a.jqx.utilities.createId()+"_"+b;var h=a("<div></div>",d);h[0].style.cssText=c.field.style.cssText,c.width||(c.width=a(c.field).width()),c.height||(c.height=a(c.field).outerHeight()),a(c.field).hide().after(h);var i=c.host.data();if(c.host=h,c.host.data(i),c.element=h[0],c.element.id=c.field.id,c.field.id=d.id,c._className&&(c.host.addClass(c._className),a(c.field).removeClass(c._className)),c.field.tabIndex){var j=c.field.tabIndex;c.field.tabIndex=-1,c.element.tabIndex=j}}},_doTouchHandling:function(){var a=this,b=a.savedValue;if(a.parsing||(a.parsing=!0),a.parsing){a.numberInput.val()&&0==a.numberInput.val().indexOf("-")?a.setvalue("negative",!0):a.setvalue("negative",!1);for(var c=a.numberInput.val(),d=0;d<c.length-1;d++){var e=c.substring(d,d+1);if(isNaN(parseFloat(e))&&a.symbol.toString().indexOf(e)===-1&&"%"!=e&&"$"!=e&&"."!=e&&","!=e&&"-"!=e)return a.numberInput[0].value=b,void(a.parsing=!1)}a.ValueString=a.GetValueString(a.numberInput.val(),a.decimalSeparator,""!=a.decimalSeparator),a._parseDecimalInSimpleMode(),a.decimal=a.ValueString;var f=a.getvalue("negative");f&&(a.decimal="-"+a.ValueString),a.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),a.jqx.aria(this),a.jqx.aria(this,"aria-multiline",!1);var b=this;(this.officeMode||this.theme&&this.theme.indexOf("office")!=-1)&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(a.jqx.mobile.isTouchDevice()||this.touchMode===!0)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=a("<input style='border:none; ime-mode:disabled' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.numberInput.attr("placeholder",this.placeHolder);var c=this.host.attr("name");if(c&&this.numberInput.attr("name",c),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),a.jqx.mobile.isTouchDevice()||this.touchMode===!0||"textbox"==this.inputMode){var b=this;b.savedValue="",this.addHandler(this.numberInput,"focus",function(){b.savedValue=b.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){b._doTouchHandling()})}var d=a.data(this.host[0],"jqxNumberInput");d.jqxNumberInput=this;var b=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){b.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(a,b,c,d){d?(a.numberInput.addClass(e.toThemeProperty("jqx-input-disabled")),a.numberInput.attr("disabled",!0)):(a.host.removeClass(e.toThemeProperty("jqx-input-disabled")),a.numberInput.attr("disabled",!1)),a.spinButtons&&a.host.jqxRepeatButton&&(a.upbutton.jqxRepeatButton({disabled:d}),a.downbutton.jqxRepeatButton({disabled:d}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;var e=(this.element.id,this.element,this);this.oldValue=this._value(),this.items=new Array;var f=(this.value,this.decimal);this._initializeLiterals(),this._render(),this.setDecimal(f);var b=this;if(setTimeout(function(){},100),this._addHandlers(),a.jqx.utilities.resize(this.host,function(){b._render()}),this.$dataBinders$)for(var g in this.$dataBinders$){var h=this.$dataBinders$[g];if(h){var i=this.bindDataBinder(g);h.unbindCallbackFunc(this.element.id),h.bindCallbackFunc(this.element.id,i),h.dataBind()}}},bindDataBinder:function(a){var b=this;if(a)return function(a){var c,d=arguments[1];"update"==a?(c=d.value,b.val(c)):"load"==a&&(c=void 0==d.records?"":d.records,c<0?b.setvalue("negative",!0):b.setvalue("negative",!1),b._setDecimal(Math.abs(c),"load"))}},refresh:function(a){a||this._render()},wheel:function(a,b){if(b.enableMouseWheel){b.changeType="mouse";var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation(),!!d&&(d=!1,a.returnValue=d,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1}},_handleDelta:function(a){return a<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var b=this;this.addHandler(this.numberInput,"paste",function(c){var d=b._selection();c.preventDefault(),c.originalEvent.clipboardData?content=(c.originalEvent||c).clipboardData.getData("text/plain"):window.clipboardData&&(content=window.clipboardData.getData("Text")),this.selectedText=content,a.data(document.body,"jqxSelection",this.selectedText),"simple"!=b.inputMode?b._pasteSelectedText():b.val(content),setTimeout(function(){b._setSelectionStart(d.start)})}),this.addHandler(this.numberInput,"mousedown",function(a){return b._raiseEvent(2,a)}),this._mousewheelfunc=this._mousewheelfunc||function(a){if(!b.editcell)return b.wheel(a,b),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var c="";this.addHandler(this.numberInput,"focus",function(d){a.data(b.numberInput,"selectionstart",b._selection().start),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.spincontainer&&b.spincontainer.addClass(b.toThemeProperty("jqx-numberinput-focus")),c=b.numberInput.val(),b._savedValue=b.decimal}),this.addHandler(this.numberInput,"blur",function(d){if("simple"==b.inputMode&&b._exitSimpleInputMode(d,b,!1,c),b.autoValidate){var e=parseFloat(b.decimal),f=b.getvalue("negative");f&&b.decimal>0&&(e=-parseFloat(b.decimal)),e>b.max&&(b._disableSetSelection=!0,b.setDecimal(b.max),b._disableSetSelection=!1),e<b.min&&(b._disableSetSelection=!0,b.setDecimal(b.min),b._disableSetSelection=!1)}return b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.spincontainer&&b.spincontainer.removeClass(b.toThemeProperty("jqx-numberinput-focus")),b.numberInput.val()!=c&&(b._raiseEvent(7,d),a.jqx.aria(b,"aria-valuenow",b.decimal),b.decimal<0&&(b.decimal=-b.decimal),b._setDecimal(b.decimal)),!0}),this.addHandler(this.numberInput,"mouseup",function(a){return b._raiseEvent(3,a)}),this.addHandler(this.numberInput,"keydown",function(a){return b.changeType="keyboard",b._raiseEvent(4,a)}),this.addHandler(this.numberInput,"keyup",function(a){return b._raiseEvent(5,a)}),this.addHandler(this.numberInput,"keypress",function(a){return b._raiseEvent(6,a)})},focus:function(){try{this.numberInput.focus()}catch(a){}},_removeHandlers:function(){var b=this;this.removeHandler(this.numberInput,"mousedown");var c=a.jqx.mobile.isOperaMiniMobileBrowser();c&&this.removeHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress"),this.removeHandler(this.numberInput,"change"),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.spinButtons&&(this.removeHandler(this.downbutton,"mouseup"),this.removeHandler(this.downbutton,"mousedown"),this.removeHandler(this.downbutton,"mouseenter"),this.removeHandler(this.downbutton,"mouseleave"),this.removeHandler(this.downbutton,"click"),this.removeHandler(this.upbutton,"mouseup"),this.removeHandler(this.upbutton,"mousedown"),this.removeHandler(this.upbutton,"mouseenter"),this.removeHandler(this.upbutton,"mouseleave"),this.removeHandler(this.upbutton,"click"),this.removeHandler(a(document),"mouseup."+this.element.id)),this.host.parents("form").length>0&&this.removeHandler(this.host.parents("form"),"reset")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=a("<input autocomplete='off' style='border: none; position: relative; float: left; ime-mode: disabled' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=a('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=a('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=a('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var b=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(a){b.disabled||(b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(a){b.disabled||(b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(a(document),"mouseup."+this.element.id),this.addHandler(a(document),"mouseup."+this.element.id,function(a){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-selected")),
b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(c){if(!b.disabled)return a.jqx.browser.msie&&a.jqx.browser.version<9&&(b._inputSelection=b._selection()),b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-selected")),c.preventDefault(),c.stopPropagation(),!1}),this.addHandler(this.upbutton,"mousedown",function(c){if(!b.disabled)return a.jqx.browser.msie&&a.jqx.browser.version<9&&(b._inputSelection=b._selection()),b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-selected")),c.preventDefault(),c.stopPropagation(),!1}),this.addHandler(this.upbutton,"mouseenter",function(a){b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(a){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(a){b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(a){b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));var b=this;this._upArrow.hover(function(){b.disabled||b._upArrow.addClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){b._upArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){b.disabled||b._downArrow.addClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){b._downArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-down-hover"))});var c=a.jqx.mobile.isTouchDevice(),d="click";c&&(d=a.jqx.mobile.getTouchEventName("touchstart")),c&&(this.addHandler(this.downbutton,"click",function(a){b.spinDown()}),this.addHandler(this.upbutton,"click",function(a){b.spinUp()})),this.addHandler(this.downbutton,d,function(d){return c?(d.preventDefault(),d.stopPropagation()):(0==b._selection().start&&b._setSelectionStart(b.numberInput.val().length),a.jqx.browser.msie&&a.jqx.browser.version<9&&b._setSelectionStart(b._inputSelection.start)),b.spinDown(),!1}),this.addHandler(this.upbutton,d,function(d){return c?(d.preventDefault(),d.stopPropagation()):(0==b._selection().start&&b._setSelectionStart(b.numberInput.val().length),a.jqx.browser.msie&&a.jqx.browser.version<9&&b._setSelectionStart(b._inputSelection.start)),b.spinUp(),!1})},spinDown:function(){var c=this,d=this.decimal;if("none"!=c.spinMode){if(null==this.decimal)return void this.setDecimal(0);var e=this.getvalue("negative"),f=e?-1:0;if((a.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&c._doTouchHandling(),!c.disabled){var g=this._selection(),h=this.decimal,i=this.getDecimal();if(c.enableBigDecimal&&c.min&&c.bigValue.lessThan(c.min))return i=this.min.val(),this.setDecimal(this.min.val()),this._setSelectionStart(g.start),void this.spinDown();if(c.enableBigDecimal&&c.max&&c.bigValue.greaterThan(c.max))return i=this.max.val(),this.setDecimal(this.max.val()),this._setSelectionStart(g.start),void this.spinDown();if(!c.enableBigDecimal&&i<this.min)return i=this.min,this.setDecimal(this.min),this._setSelectionStart(g.start),void this.spinDown();if(!c.enableBigDecimal&&i>this.max)return i=this.max,this.setDecimal(this.max),this._setSelectionStart(g.start),void this.spinDown();c.spinButtonsStep<0&&(c.spinButtonsStep=1);var j;c.enableBigDecimal?(j=b.createModule("big",c.decimal).minus(c.spinButtonsStep),j=j.val().length):(j=parseInt(c.decimal)-c.spinButtonsStep,j=j.toString().length);var k=f+j<=c.digits;if("advanced"!=c.spinMode){if(c.enableBigDecimal&&k){for(var l=1,m=0;m<c.decimalDigits;m++)l=10*l;var n=b.createModule("big",i).times(l).minus(l*c.spinButtonsStep).div(l);c.setDecimal(n.val())}else if(i-c.spinButtonsStep>=c.min&&k){var l=1;for(m=0;m<c.decimalDigits;m++)l=10*l;var n=l*i-l*c.spinButtonsStep;n/=l,n=this._parseDecimalValueToEditorValue(n),c.setDecimal(n)}}else{var i,j,o=this._getspindecimal();this._getSeparatorPosition();if(c.spinButtonsStep<0&&(c.spinButtonsStep=1),"-"===o.decimal)return;this.enableBigDecimal?(i=b.createModule("big",o.decimal),j=i.minus(c.spinButtonsStep),j=j.val().length):(i=parseFloat(o.decimal),j=parseInt(i)-c.spinButtonsStep,j=j.toString().length);var k=f+j<=c.digits,l=1,p=o.decimal.indexOf(".");if(p!=-1){for(var q=o.decimal.length-p-1,l=1,m=0;m<q;m++)l=10*l;c.enableBigDecimal?i=i.minus(c.spinButtonsStep/l):(i-=new Number(c.spinButtonsStep/l),i=i.toFixed(q));var p=i.toString().indexOf(".");p==-1&&(i=i.toString()+".");var r=i.toString()+o.afterdecimal;c.enableBigDecimal?(r=b.createModule("big",r),c.min&&!r.greaterThanOrEqual(c.min)||(c.setDecimal(r.val()),c.BigValue=r)):(r=new Number(r),r=r.toFixed(c.decimalDigits),r>=c.min&&(r=this._parseDecimalValueToEditorValue(r),c.setDecimal(r)))}else if(c.enableBigDecimal&&k){var n=i.times(l).minus(l*c.spinButtonsStep).div(l),r=n.val()+o.afterdecimal,s=b.createModule("big",r);c.min&&!s.greaterThanOrEqual(c.min)||"0"===i.val()&&b.createModule("big",o.afterdecimal).greaterThan(0)?r=void 0:(c.setDecimal(s.val()),c.BigValue=s)}else if(i-c.spinButtonsStep>=c.min&&k){var n=l*i-l*c.spinButtonsStep;n/=l;var r=n.toString()+o.afterdecimal;r>=c.min&&(r=this._parseDecimalValueToEditorValue(r),c.setDecimal(r))}}if(void 0==r||"simple"!=this.inputMode&&"simpleExtend"!=this.inputMode)return this._setSelectionStart(g.start),c.savedValue=c.numberInput[0].value,d!=this.decimal&&(a.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void a.jqx.aria(self,"aria-valuenow",this.decimal);r=this.decimal.toString();var e=this.getvalue("negative");0==f&&e?this._setSelectionStart(g.start+1):void 0==r||void 0!=h&&h.toString().length!=r.length?e?this._setSelectionStart(g.start+1):this._setSelectionStart(g.start-1):this._setSelectionStart(g.start),d!=this.decimal&&(a.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),a.jqx.aria(self,"aria-valuenow",this.decimal)}}},_getspindecimal:function(){var a=this._selection(),b="",c=(this._getSeparatorPosition(),this._getVisibleItems()),d=this._getHiddenPrefixCount(),e=this.numberInput.val();this.numberInput.val().length==a.start&&0==a.length&&(this._setSelection(a.start,a.start+1),a=this._selection());for(var f="advanced"!=this.inputMode,g=0;g<a.start;g++)if(f){var h=e.substring(g,g+1),i=!isNaN(parseInt(h));i&&(b+=h),h==this.decimalSeparator&&(b+=h)}else c[g].canEdit&&c[g].character!=this.promptChar?b+=c[g].character:c[g].canEdit||this.decimalSeparatorPosition==-1||c[g]!=c[this.decimalSeparatorPosition-d]||(0==b.length&&(b="0"),b+=c[g].character);for(var j="",g=a.start;g<c.length;g++)if(f){var h=e.substring(g,g+1),i=!isNaN(parseInt(h));i&&(j+=h),h==this.decimalSeparator&&(j+=h)}else c[g].canEdit&&c[g].character!=this.promptChar?j+=c[g].character:c[g].canEdit||this.decimalSeparatorPosition==-1||c[g]!=c[this.decimalSeparatorPosition-d]||(j+=c[g].character);var k=this.getvalue("negative"),l=k?"-"+this._parseDecimalValue(b).toString():this._parseDecimalValue(b).toString();return{decimal:l,afterdecimal:this._parseDecimalValue(j)}},_parseDecimalValue:function(a){if("."!=this.decimalSeparator){var b=a.toString().indexOf(this.decimalSeparator);if(b>=0){var c=a.toString().substring(0,b)+"."+a.toString().substring(b+1);return c}}return a},_parseDecimalValueToEditorValue:function(a){if("."!=this.decimalSeparator){var b=a.toString().indexOf(".");if(b>=0){var c=a.toString().substring(0,b)+this.decimalSeparator+a.toString().substring(b+1);return c}}return a},spinUp:function(){var c=this,d=this.decimal;if("none"!=c.spinMode){if(null==this.decimal)return void this.setDecimal(0);(a.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&c._doTouchHandling();var e=this.getvalue("negative"),f=e?-1:0;if(!c.disabled){var g=this._selection(),h=c.decimal,i=c.getDecimal();if(c.enableBigDecimal&&c.min&&c.bigValue.lessThan(c.min))return i=this.min.val(),this.setDecimal(this.min.val()),this._setSelectionStart(g.start),void this.spinUp();if(c.enableBigDecimal&&c.max&&c.bigValue.greaterThan(c.max))return i=this.max.val(),this.setDecimal(this.max.val()),this._setSelectionStart(g.start),void this.spinUp();if(!c.enableBigDecimal&&i<this.min)return i=this.min,this.setDecimal(this.min),this._setSelectionStart(g.start),void this.spinUp();if(!c.enableBigDecimal&&i>this.max)return i=this.max,this.setDecimal(this.max),this._setSelectionStart(g.start),void this.spinUp();c.spinButtonsStep<0&&(c.spinButtonsStep=1);var j;c.enableBigDecimal?(j=b.createModule("big",c.decimal).plus(c.spinButtonsStep),j=j.val().length):(j=parseInt(c.decimal)+c.spinButtonsStep,j=j.toString().length);var k=f+j<=c.digits;if("advanced"!=c.spinMode){if(c.enableBigDecimal&&k){for(var l=1,m=0;m<c.decimalDigits;m++)l=10*l;var n=b.createModule("big",i).times(l).plus(l*c.spinButtonsStep).div(l);c.setDecimal(n.val())}else if(i+c.spinButtonsStep<=c.max&&k){for(var l=1,m=0;m<c.decimalDigits;m++)l=10*l;var n=l*i+l*c.spinButtonsStep;n/=l,n=this._parseDecimalValueToEditorValue(n),c.setDecimal(n)}}else{var o=this._getspindecimal();this._getSeparatorPosition();c.spinButtonsStep<0&&(c.spinButtonsStep=1);var i,j;if("-"===o.decimal)return;c.enableBigDecimal?(i=b.createModule("big",o.decimal),j=i.plus(c.spinButtonsStep),j=j.val().length):(i=parseFloat(o.decimal),j=parseInt(i)+c.spinButtonsStep,j=j.toString().length);var k=f+j<=c.digits,l=1,p=o.decimal.indexOf(".");if(p!=-1){for(var q=o.decimal.length-p-1,l=1,m=0;m<q;m++)l=10*l;c.enableBigDecimal?i=i.plus(c.spinButtonsStep/l):(i+=new Number(c.spinButtonsStep/l),i=i.toFixed(q));var p=i.toString().indexOf(".");p==-1&&(i=i.toString()+".");var r=i.toString()+o.afterdecimal;if(c.enableBigDecimal)r=b.createModule("big",r),c.max&&!r.lessThanOrEqual(c.max)||(c.setDecimal(r.val()),c.BigValue=r);else{r=new Number(r),r=r.toFixed(c.decimalDigits);var s=new Number(r).toFixed(c.decimalDigits);s<=c.max?(r=this._parseDecimalValueToEditorValue(r),c.setDecimal(r)):r=void 0}}else if(c.enableBigDecimal&&k){var n=i.times(l).plus(l*c.spinButtonsStep).div(l),r=n.val()+o.afterdecimal;i.lessThan(0)&&"0"===n.val()&&(r="-"+r);var s=b.createModule("big",r);!c.max||s.lessThanOrEqual(c.max)?(c.setDecimal(s.val()),c.BigValue=s):r=void 0}else if(i+c.spinButtonsStep<=c.max&&k){var n=l*i+l*c.spinButtonsStep;n/=l;var r=n.toString()+o.afterdecimal,s=new Number(r).toFixed(c.decimalDigits);s<=c.max?(r=this._parseDecimalValueToEditorValue(r),e&&r.indexOf("-")==-1&&"-0"!=o.decimal&&(r="-"+r),c.setDecimal(r)):r=void 0}}if(void 0==r||"simple"!=this.inputMode&&"simpleExtend"!=this.inputMode)return this._setSelectionStart(g.start),c.savedValue=c.numberInput[0].value,d!=this.decimal&&(a.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void a.jqx.aria(self,"aria-valuenow",this.decimal);r=this.decimal.toString();var e=this.getvalue("negative");f!=-1||e?void 0==r||void 0!=h&&h.toString().length!=r.length?e?this._setSelectionStart(g.start):this._setSelectionStart(1+g.start):this._setSelectionStart(g.start):this._setSelectionStart(-1+g.start),d!=this.decimal&&(a.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),a.jqx.aria(self,"aria-valuenow",this.decimal)}}},_exitSimpleInputMode:function(b,c,d,e){if(void 0==c&&(c=b.data),null!=c){if(void 0==d){if(null!=b.target&&null!=c.element&&(void 0!=b.target.id&&b.target.id.toString().length>0&&c.host.find("#"+b.target.id).length>0||b.target==c.element))return;var f=c.host.offset(),g=f.left,h=f.top,i=c.host.width(),j=c.host.height(),k=a(b.target).offset();if(k.left>=g&&k.left<=g+i&&k.top>=h&&k.top<=h+j)return}if(a.jqx.mobile.isOperaMiniBrowser()&&c.numberInput.attr("readonly",!0),!c.disabled&&!c.readOnly){var l=a.data(c.numberInput,"simpleInputMode");if(null!=l)return a.data(c.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}}},_getDecimalInSimpleMode:function(){var a=this.decimal;if("."!=this.decimalSeparator){var b=a.toString().indexOf(this.decimalSeparator);if(b>0)var c=a.toString().substring(0,b),a=c+"."+a.toString().substring(b+1)}return a},_parseDecimalInSimpleMode:function(a){var b=this,c=b.getvalue("negative"),d=this.ValueString;if(void 0==d&&(d=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var e=d.toString().indexOf(".");if(e>0){var f=d.toString().substring(0,e),g=f+this.decimalSeparator+d.toString().substring(e+1);d=g}}var h=c?"-":"";"left"==this.symbolPosition&&(h+=this.symbol);var i=this.digits%this.groupSize;0==i&&(i=this.groupSize);var j=d.toString();j.indexOf("-")>=0&&(j=j.substring(j.indexOf("-")+1)),h+=j,"right"==this.symbolPosition&&(h+=this.symbol),0!=a&&b.numberInput.val(h)},_parseDecimalInSimpleExtendMode:function(a){var b=this,c=b.getvalue("negative"),d=this.ValueString;if(void 0==d&&(d=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var e=d.toString().indexOf(".");if(e>0){var f=d.toString().substring(0,e),g=f+this.decimalSeparator+d.toString().substring(e+1);d=g}}var h=c?"-":"";"left"==this.symbolPosition&&(h+=this.symbol);var i=d.toString();i.indexOf("-")>=0&&(i=i.substring(i.indexOf("-")+1));var j="",k="",l=!0;0==i.length&&(i="0");for(var m=0;m<i.length;m++){if("number"==typeof value){if("."==i.substring(m,m+1)){l=!1;continue}}else if(i.substring(m,m+1)==this.decimalSeparator){l=!1;continue}l?j+=i.substring(m,m+1):k+=i.substring(m,m+1)}var n=j.length%this.groupSize;0==n&&(n=this.groupSize);for(var m=0,o=j.length;m<o;m++){0==n&&(h+=this.groupSeparator,n=this.groupSize);var p=j.substring(m,m+1);h+=p,n--}h+=this.decimalDigits>0?this.decimalSeparator+k:k,"right"==this.symbolPosition&&(h+=this.symbol),0!=a&&b.numberInput.val(h)},_enterSimpleInputMode:function(b,c){void 0==c&&(c=b.data);var d=this._selection();if(null!=c){var e=c.getvalue("negative"),f=c.decimal;e&&f>0&&(f=-f),c.numberInput.val(f),a.data(c.numberInput,"simpleInputMode",!0),a.jqx.mobile.isOperaMiniBrowser()&&c.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(d.start)}},setvalue:function(a,b){void 0!==this[a]&&("decimal"==a?this._setDecimal(b):(this[a]=b,this.propertyChangedHandler(this,a,b,b)))},getvalue:function(a){return"decimal"==a&&void 0!=this.negative&&1==this.negative?-Math.abs(this[a]):a in this?this[a]:null},_getString:function(){for(var a="",b=0;b<this.items.length;b++){var c=this.items[b].character;a+=c}return a},_literal:function(a,b,c,d){return{character:a,regex:b,canEdit:c,isSeparator:d}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var a=0,b=this.negativeSymbol.length,c=0;c<b;c++){var d=this.negativeSymbol.substring(c,c+1),e="",f=!1,g=null;g=this.negative?this._literal(d,e,f,!1):this._literal("",e,f,!1),this.items[a]=g,a++}var h=this.symbol.length;if("left"==this.symbolPosition)for(c=0;c<h;c++){var d=this.symbol.substring(c,c+1),e="",f=!1,g=this._literal(d,e,f,!1);this.items[a]=g,a++}var i=this.digits%this.groupSize;0==i&&(i=this.groupSize);for(var c=0;c<this.digits;c++){var d=this.promptChar,e="\\d",f=!0,g=this._literal(d,e,f,!1);if(this.items[a]=g,a++,c<this.digits-1&&void 0!=this.groupSeparator&&this.groupSeparator.length>0){if(i--,0==i){i=this.groupSize;var j=this._literal(this.groupSeparator,"",!1,!1);this.items[a]=j,a++}}else c==this.digits-1&&(g.character=0)}if(this.decimalSeparatorPosition=-1,void 0!=this.decimalDigits&&this.decimalDigits>0){var d=this.decimalSeparator;0==d.length&&(d=".");var g=this._literal(d,"",!1,!0);this.items[a]=g,this.decimalSeparatorPosition=a,a++;for(var c=0;c<this.decimalDigits;c++){var k=0,e="\\d",l=this._literal(k,e,!0,!1);this.items[a]=l,a++}}if("right"==this.symbolPosition)for(var c=0;c<h;c++){var d=this.symbol.substring(c,c+1),e="",f=!1,g=this._literal(d,e,f);this.items[a]=g,a++}}},_match:function(a,b){var c=new RegExp(b,"i");return c.test(a)},_raiseEvent:function(b,c){var d=this.events[b],e={};if(e.owner=this,"none"==this.host.css("display"))return!0;var f=c.charCode?c.charCode:c.keyCode?c.keyCode:0,g=!0,h=this.readOnly,i=this;if((3==b||2==b)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode||"simpleExtend"==this.inputMode)return!0;this._handleMouse(c)}if(0==b){var j=this.getvalue("decimal");this.enableBigDecimal?this.max&&this.bigValue.greaterThan(this.max)||this.min&&this.bigValue.lessThan(this.min)?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all"))):this.max<j||this.min>j?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var k=new a.Event(d);k.owner=this,e.value=this.getvalue("decimal"),e.text=this.numberInput.val(),k.args=e,7==b&&(e.type=this.changeType,this.changeType=null),void 0!=d&&4!=b&&5!=b&&6!=b&&(g=this.host.trigger(k));var i=this;if("textbox"==this.inputMode)return g;if("advanced"==this.inputMode){if(4==b){if(h||this.disabled)return!1;if(229==c.keyCode&&(a.jqx.browser.chrome||a.jqx.browser.webkit))return i.setDecimal(i.val()),!1;g=i._handleKeyDown(c,f)}else if(5==b)(h||this.disabled)&&(g=!1);else if(6==b){if(h||this.disabled)return!1;g=i._handleKeyPress(c,f)}}else if("simpleExtend"==this.inputMode){if(4==b||5==b||6==b){if(a.jqx.mobile.isTouchDevice()||this.touchMode===!0)return!0;if(h||this.disabled)return!1;var l=String.fromCharCode(f),m=(parseInt(l),!0);if(c.ctrlKey||c.shiftKey||c.metaKey||f>=65&&f<=90&&(m=!1),6==b&&void 0!=a.jqx.browser.opera&&8==f)return!1;if(m){if(4==b&&(m=i._handleSimpleExtendKeyDown(c,f),m&&229==c.keyCode&&(a.jqx.browser.chrome||a.jqx.browser.webkit)&&(i.setDecimal(i.val()),m=!1)),189==f||45==f||109==f||173==f){var n=i._selection();if(4==b){var o=i.getvalue("negative");0==o?i.setvalue("negative",!0):i.setvalue("negative",!1),i.decimal=i.ValueString,i._parseDecimalInSimpleExtendMode(),i._setSelectionStart(n.start),m=!1,i._raiseEvent(0,i.value),i._raiseEvent(1,i.numberInput.val())}}var p=e.ctrlKey||e.metaKey;if(!a.jqx.browser.msie){var q=c;if(p&&99==f||p&&67==f||p&&122==f||p&&90==f||p&&118==f||p&&86==f||q.shiftKey&&45==f)return(a.jqx.browser.webkit||a.jqx.browser.chrome)&&i._handleSimpleExtendKeyDown(c,f),67==f}if(p&&97==f||p&&65==f)return!0;if(6==b&&m){var r=this._isSpecialKey(f);return r}}return m}}else if(4==b||5==b||6==b){if(a.jqx.mobile.isTouchDevice()||this.touchMode===!0)return!0;if(h||this.disabled)return!1;var l=String.fromCharCode(f),m=(parseInt(l),!0);if(c.ctrlKey||c.shiftKey||c.metaKey||f>=65&&f<=90&&(m=!1),6==b&&void 0!=a.jqx.browser.opera&&8==f)return!1;if(m){if(4==b&&(m=i._handleSimpleKeyDown(c,f),m&&229==c.keyCode&&(a.jqx.browser.chrome||a.jqx.browser.webkit)&&(i.setDecimal(i.val()),m=!1)),189==f||45==f||109==f||173==f){var n=i._selection();if(4==b){var o=i.getvalue("negative");0==o?i.setvalue("negative",!0):i.setvalue("negative",!1),i.decimal=i.ValueString,i._parseDecimalInSimpleMode(),i._setSelectionStart(n.start),m=!1,i._raiseEvent(0,i.value),i._raiseEvent(1,i.numberInput.val())}}var p=e.ctrlKey||e.metaKey;if(!a.jqx.browser.msie){var q=c;if(p&&99==f||p&&67==f||p&&122==f||p&&90==f||p&&118==f||p&&86==f||q.shiftKey&&45==f)return(a.jqx.browser.webkit||a.jqx.browser.chrome)&&i._handleSimpleKeyDown(c,f),67==f}if(p&&97==f||p&&65==f)return!0;if(6==b&&m){var r=this._isSpecialKey(f);return r}}return m}return g},GetSelectionInValue:function(a,b,c,d){var e=0;for(i=0;i<b.length&&!(i>=a);i++){var f=b.substring(i,i+1),g=!isNaN(parseInt(f));(g||d&&b.substring(i,i+1)==c)&&e++}return e},GetSelectionLengthInValue:function(a,b,c,d){var e=0;for(i=0;i<c.length&&!(i>=a+b);i++){var f=c.substring(i,i+1),g=!isNaN(parseInt(f)),h=f==this.groupSeparator;(b>0&&(i>=a&&g||i>=a&&h)||i>=a&&c[i].toString()==d)&&e++}return e},GetInsertTypeByPositionInValue:function(a,b,c,d){var e="before",f=this.GetValueString(c,b,d),g=this.GetDigitsToSeparator(0,f,b);return a>g&&(e="after"),e},RemoveRange:function(a,b,c,d,e,f){var g=this.digits,h=a,i=b,j=0,d=(this.decimal,this._selection(),this.decimalSeparator),k=""!=d;if(0==i&&this.ValueString.length<this.decimalPossibleChars-1)return j;var l=this.GetSeparatorPositionInText(d,c);e||(l=this.GetSeparatorPositionInText(d,c)),l<0&&!k&&c.length>1&&(l=c.length),l==-1&&(l=c.length);var m=k?1:0;if(b<2&&1==f){var n=this.ValueString.length-this.decimalDigits-m;n==g&&a+b<l&&i++}for(var o="",p=0;p<c.length;p++)if(p<h||p>=h+i)o+=c.substring(p,p+1);else{var q=c.substring(p,p+1);if(q!=d){var q=c.substring(p,p+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(q)>=0))if(p>l)o+="0";else{var q=c.substring(p,p+1),r=!isNaN(parseInt(q));r&&j++}}else o+=d}0==o.length&&(o="0"),e?this.numberInput.val(o):this.ValueString=o;var s=o.substring(0,1);if(s==d&&isNaN(parseInt(s))){var t="0"+o;o=t}return this.ValueString=this.GetValueString(o,d,k),this.decimal=this.ValueString,"simple"==this.inputMode&&this._parseDecimalInSimpleMode(),"simpleExtend"==this.inputMode&&this._parseDecimalInSimpleExtendMode(),this._setSelectionStart(h),j},InsertDigitExtend:function(a,b){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var c=1+this.digits,d=this._selection(),e=this.getvalue("negative"),f=!1;0==d.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(d.start+1),d=this._selection(),f=!0),(e&&f||e&&!f&&0==d.start)&&(this._setSelectionStart(d.start+1),d=this._selection());var g=this.numberInput.val().substring(d.start,d.start+1);g==this.groupSeparator&&(this._setSelectionStart(d.start+1),d=this._selection());var h=this.numberInput.val(),i=this.decimalSeparator,j=""!=i&&this.decimalDigits>0;if(g==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(h,i,j),this.ValueString.length>=c)return}this.ValueString=this.GetValueString(h,i,j),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var k=this.ValueString;this.decimalDigits>0&&b>=k.length&&(b=k.length-1);var l="";b<k.length&&(l=k.substring(b,b+1));var m=!1,n=this.GetInsertTypeByPositionInValue(b,i,h,j);"after"==n&&(m=!0);var o=j?1:0;l!=i&&this.ValueString.length-this.decimalDigits-o>=c-1&&(m=!0),"0"===l&&1===this.ValueString.length&&0===this.decimalDigits&&(m=!0);var p=!1,q=j?1:0;if(!(!m&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+q)){if(m&&l!=i){p&&b++;var r=k.substring(0,b);if(r.length==k.length&&this.ValueString.length>=this.digits+this.decimalDigits+q)return;var s=a,t="";b+1<k.length&&(t=k.substring(b+1));var u=r+s+t;this.ValueString=u}else{var r=k.substring(0,b),s=a,t=k.substring(b),u=r+s+t;"0"==k.substring(0,1)&&k.substring(1,2)==i&&(u=s+k.substring(1),l==i&&(this._setSelectionStart(d.start-1),d=this._selection())),this.ValueString=u}e?this.decimal=-this.ValueString:this.decimal=this.ValueString;var v=this._getGroupSeparatorCnt(this.numberInput.val());this._parseDecimalInSimpleExtendMode();var w=this._getGroupSeparatorCnt(this.numberInput.val()),x=d.start;x+=1+(w-v),this._setSelectionStart(x),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},_getGroupSeparatorCnt:function(a){for(var b=0,c=0,d=a.length;c<d;c++){var e=a.substring(c,c+1);e==this.groupSeparator&&b++}return b},InsertDigit:function(a,b){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var c=1+this.digits,d=this._selection(),e=this.getvalue("negative"),f=!1;0==d.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(d.start+1),d=this._selection(),f=!0),(e&&f||e&&!f&&0==d.start)&&(this._setSelectionStart(d.start+1),d=this._selection());var g=this.numberInput.val().substring(d.start,d.start+1),h=this.numberInput.val(),i=this.decimalSeparator,j=""!=i&&this.decimalDigits>0;if(g==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(h,i,j),this.ValueString.length>=c)return}this.ValueString=this.GetValueString(h,i,j),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var k=this.ValueString;this.decimalDigits>0&&b>=k.length&&(b=k.length-1);var l="";b<k.length&&(l=k.substring(b,b+1));var m=!1,n=this.GetInsertTypeByPositionInValue(b,i,h,j);"after"==n&&(m=!0);var o=j?1:0;l!=i&&this.ValueString.length-this.decimalDigits-o>=c-1&&(m=!0),"0"===l&&1===this.ValueString.length&&0===this.decimalDigits&&(m=!0);var p=!1,q=j?1:0;if(!(!m&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+q)){if(m&&l!=i){p&&b++;var r=k.substring(0,b);if(r.length==k.length&&this.ValueString.length>=this.digits+this.decimalDigits+q)return;var s=a,t="";b+1<k.length&&(t=k.substring(b+1));var u=r+s+t;this.ValueString=u}else{var r=k.substring(0,b),s=a,t=k.substring(b),u=r+s+t;"0"==k.substring(0,1)&&k.substring(1,2)==i&&(u=s+k.substring(1),l==i&&(this._setSelectionStart(d.start-1),d=this._selection())),this.ValueString=u}e?this.decimal=-this.ValueString:this.decimal=this.ValueString,this._parseDecimalInSimpleMode();var v=d.start;v+=1,this._setSelectionStart(v),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(a,b,c){var d="",e=this.GetSeparatorPositionInText(b,a),f=a.subString(0,e);return d=this.GetValueString(f,b,c)},GetSeparatorPositionInText:function(a,b){var c=-1;for(i=0;i<b.length;i++)if(b.substring(i,i+1)==a){c=i;break}return c},GetValueString:function(a,b,c){for(var d="",e=0;e<a.length;e++){var f=a.substring(e,e+1),g=!isNaN(parseInt(f));g&&(d+=f),f==b&&(d+=b)}return d},Backspace:function(){var a=this._selection(),b=this._selection(),c=this.numberInput.val();if(0!=a.start||0!=a.length){this.isBackSpace=!0;var d=c.substring[(a.start,a.start+1)];!isNaN(parseInt(d));if(a.start>0&&0==a.length){this._setSelectionStart(a.start-1);var a=this._selection()}this.Delete(),this._setSelectionStart(b.start-1),this.isBackSpace=!1}},Delete:function(a){var b=this._selection(),c=this.numberInput.val();if(0===b.start&&"-"==c.substring(0,1)){this.setvalue("negative",!1);var b=this._selection(),c=this.numberInput.val()}var d=b.start,e=b.length;e=Math.max(e,1),this.ValueString=this.GetValueString(c,this.decimalSeparator,""!=this.decimalSeparator),d>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&d++;var f=0;this.symbol&&("left"==this.symbolPosition&&f--,this.negative&&f--),this.RemoveRange(b.start+f,e,this.ValueString,".",!1);var g=this.ValueString.substring(0,1),h=!isNaN(parseInt(g));h||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(d),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},BackspaceExtend:function(){var a=this._selection(),b=this._selection(),c=this.numberInput.val();if(0!=a.start||0!=a.length){this.isBackSpace=!0;var d=c.substring[(a.start,a.start+1)];!isNaN(parseInt(d));if(a.start>0&&0==a.length){var e=1;isNaN(parseInt(c.substring(a.start-1,a.start)))&&(e=2),this._setSelectionStart(a.start-e);var a=this._selection()}var f=this._getGroupSeparatorCnt(c);this.DeleteExtend();var g=this._getGroupSeparatorCnt(this.numberInput.val());this._setSelectionStart(b.start-1-(f-g)),this.isBackSpace=!1}},DeleteExtend:function(a){var b=this._selection(),c=this.numberInput.val();if(0===b.start&&"-"==c.substring(0,1)){this.setvalue("negative",!1);var b=this._selection(),c=this.numberInput.val()}var d=b.start,e=b.length;e=Math.max(e,1),this.ValueString=this.GetValueString(c,this.decimalSeparator,""!=this.decimalSeparator),d>c.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&d++;var f=0;this.symbol&&("left"==this.symbolPosition&&f--,this.negative&&f--),1==e&&c.substring(d,d+1)==this.groupSeparator&&f++,this.RemoveRange(b.start+f,e,c,".",!1);var g=this.ValueString.substring(0,1),h=!isNaN(parseInt(g));h||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString;var i=this._getGroupSeparatorCnt(c);this._parseDecimalInSimpleExtendMode();var j=this._getGroupSeparatorCnt(this.numberInput.val());this._setSelectionStart(d-(i-j)),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(a){var b=this._selection(),c=this.numberInput.val();if(!(b.start==c.length&&null!=this.decimal&&this.decimalDigits>0)){var d=(this.decimal,this.decimalSeparator);this.ValueString=this.GetValueString(c,d,""!=d);var e=this.GetSelectionInValue(b.start,c,d,""!=d),f=this.GetSelectionLengthInValue(b.start,b.length,c,d);this.GetDigitsToSeparator(0,this.ValueString,d);if(this.decimalDigits>0&&e>=this.ValueString.length&&e--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",d),this.RemoveRange(b.start,f,this.ValueString,d,!1,!0),void this.InsertDigit(a,0,b);this.RemoveRange(b.start,f,this.ValueString,d,!1,!0),this.InsertDigit(a,e,b)}},insertsimpleExtend:function(a){var b=this._selection(),c=this.numberInput.val();if(!(b.start==c.length&&null!=this.decimal&&this.decimalDigits>0)){var d=this.decimalSeparator;this.ValueString=this.GetValueString(c,d,""!=d);var e=this.GetSelectionInValue(b.start,c,d,""!=d),f=this.GetSelectionLengthInValue(b.start,b.length,c,d);if(this.decimalDigits>0&&e>=this.ValueString.length&&e--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",d),this.RemoveRange(b.start,f,this.ValueString,d,!1,!0),void this.InsertDigit(a,0,b);this.RemoveRange(b.start,f,c,d,!1,!0),this.InsertDigitExtend(a,e,b)}},GetDigitsToSeparator:function(a,b,c){if(void 0==c&&(c="."),b.indexOf(c)<0)return b.length;for(i=0;i<b.length;i++)if(b.substring(i,i+1)==c){a=i;break}return a},_handleSimpleExtendKeyDown:function(b,c){var d=this._selection(),e=b.ctrlKey||b.metaKey;if((8==c||46==c)&&e)return this.setDecimal(null),!1;if(d.start>=0&&d.start<this.items.length)var f=String.fromCharCode(c);if(this.rtl&&37==c){var g=b.shiftKey,h=g?1:0;return g?this._setSelection(d.start+1-h,d.start+d.length+1):this._setSelection(d.start+1-h,d.start+1),!1}if(this.rtl&&39==c){var g=b.shiftKey,h=g?1:0;return g?this._setSelection(d.start-1,d.length+h+d.start-1):this._setSelection(d.start-1,d.start-1),!1}if(8==c)return this.BackspaceExtend(),!1;if(190==c||110==c){var i=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());return i!=-1&&this._setSelectionStart(i+1),!1}if(188==c){
var j=this.numberInput.val();for(m=d.start;m<j.length;m++)if(j[m]==this.groupSeparator){this._setSelectionStart(1+m);break}return!1}var e=b.ctrlKey||b.metaKey;if(e&&99==c||e&&67==c){var d=this._selection(),k="",l=this.numberInput.val();if(d.start>0||d.length>0)for(var m=d.start;m<d.end;m++)k+=l.substring(m,m+1);if(a.data(document.body,"jqxSelection",k),a.jqx.browser.msie)window.clipboardData.setData("Text",k);else{var n=this,o=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');o.val(k),a("body").append(o),o.select(),setTimeout(function(){document.designMode="off",o.select(),o.remove(),n.focus()},100)}return this.savedText=k,!0}if(e&&122==c||e&&90==c)return!1;if(e&&118==c||e&&86==c||b.shiftKey&&45==c)return a.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(a.data(document.body,"jqxSelection")),!1;var f=String.fromCharCode(c),p=parseInt(f);if(c>=96&&c<=105&&(p=c-96,c-=48),!isNaN(p)){var n=this;return this.insertsimpleExtend(p),!1}if(46==c)return this.DeleteExtend(),!1;if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;var q=this._isSpecialKey(c);return!a.jqx.browser.mozilla||q},_handleSimpleKeyDown:function(b,c){var d=this._selection(),e=b.ctrlKey||b.metaKey;if((8==c||46==c)&&e)return this.setDecimal(null),!1;if(d.start>=0&&d.start<this.items.length)var f=String.fromCharCode(c);if(27===c){this.setDecimal(this._savedValue);var g=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());g!=-1&&this._setSelectionStart(g),b.preventDefault()}if(this.rtl&&37==c){var h=b.shiftKey,i=h?1:0;return h?this._setSelection(d.start+1-i,d.start+d.length+1):this._setSelection(d.start+1-i,d.start+1),!1}if(this.rtl&&39==c){var h=b.shiftKey,i=h?1:0;return h?this._setSelection(d.start-1,d.length+i+d.start-1):this._setSelection(d.start-1,d.start-1),!1}if(8==c)return this.Backspace(),!1;if(190==c||110==c){var g=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());return g!=-1&&this._setSelectionStart(g+1),!1}if(188==c){var j=this.numberInput.val();for(m=d.start;m<j.length;m++)if(j[m]==this.groupSeparator){this._setSelectionStart(1+m);break}return!1}var e=b.ctrlKey||b.metaKey;if(e&&99==c||e&&67==c){var d=this._selection(),k="",l=this.numberInput.val();if(d.start>0||d.length>0)for(var m=d.start;m<d.end;m++)k+=l.substring(m,m+1);if(a.data(document.body,"jqxSelection",k),a.jqx.browser.msie)window.clipboardData.setData("Text",k);else{var n=this,o=a('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');o.val(k),a("body").append(o),o.select(),setTimeout(function(){document.designMode="off",o.select(),o.remove(),n.focus()},100)}return this.savedText=k,!0}if(e&&122==c||e&&90==c)return!1;if(e&&118==c||e&&86==c||b.shiftKey&&45==c)return a.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(a.data(document.body,"jqxSelection")),!1;var f=String.fromCharCode(c),p=parseInt(f);if(c>=96&&c<=105&&(p=c-96,c-=48),!isNaN(p)){var n=this;return this.insertsimple(p),!1}if(46==c)return this.Delete(),!1;if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;var q=this._isSpecialKey(c);return!a.jqx.browser.mozilla||q},_getEditRange:function(){var a=0,b=0;for(i=0;i<this.items.length;i++)if(this.items[i].canEdit){a=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){b=i;break}return{start:a,end:b}},_getVisibleItems:function(){var a=new Array,b=0;for(i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(a[b]=this.items[i],b++);return a},_hasEmptyVisibleItems:function(){var a=this._getVisibleItems();for(i=0;i<a.length;i++)if(a[i].canEdit&&a[i].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){var a=this._getVisibleItems();for(i=0;i<a.length;i++)if(a[i].canEdit&&a[i].character!=this.promptChar)return i},_handleMouse:function(a,b){var c=this._selection();if(c.length<=1){var d=this._getFirstVisibleNonEmptyIndex();c.start<d&&this._setSelectionStart(d)}},_insertKey:function(b){this.numberInput[0].focus();var c=String.fromCharCode(b),d=parseInt(c);if(!isNaN(d)){var e=0;for(i=0;i<this.items.length;i++)0==this.items[i].character.length&&e++;var f=this._selection(),g=this;if(f.start>=0&&f.start<=this.items.length){var h=!1,k=this._getFirstVisibleNonEmptyIndex();f.start<k&&0==f.length&&(isNaN(c)&&" "!=c||(this._setSelectionStart(k),f=this._selection()));var l=(this._getFirstEditableItemIndex(),this._getLastEditableItemIndex()),m=this._getVisibleItems();a.each(m,function(a,b){if(!(f.start>a&&a!=m.length-1)){var d=m[a];if(a>l&&(d=m[l]),!isNaN(c)&&" "!=c&&d.canEdit){var i=g._getSeparatorPosition();if(g._match(c,d.regex)){if(!h&&f.length>0){for(j=f.start+e;j<f.end+e;j++)g.items[j].canEdit&&(j>i?g.items[j].character="0":g.items[j].character=g.promptChar);var k=g._getString();h=!0}var i=g._getSeparatorPosition(),n=g._hasEmptyVisibleItems();if(null==g.decimal&&(f.start=i-1,f.start<0&&(f.start=0),f.end=f.start),f.start<=i&&n){var o=a;g.decimalSeparatorPosition==-1&&f.start==i&&(o=a+1),null==g.decimal&&(o=f.start);var q="";for(p=0;p<o;p++)m[p].canEdit&&m[p].character!=g.promptChar&&(q+=m[p].character);q+=c;var r=g.decimal<1?1:0;for(f.start==i&&g.decimalSeparatorPosition!=-1&&(q+=g.decimalSeparator,r=0),p=o+r;p<m.length;p++)m[p].character==g.decimalSeparator&&m[p].isSeparator?q+=m[p].character:m[p].canEdit&&m[p].character!=g.promptChar&&(q+=m[p].character);"."!=g.decimalSeparator&&(q=g._parseDecimalValue(q)),g.enableBigDecimal?0==q.indexOf("0")&&(q=q.substr(1)):(q=parseFloat(q).toString(),q=new Number(q),q=q.toFixed(g.decimalDigits),"."!=g.decimalSeparator&&(q=g._parseDecimalValueToEditorValue(q))),g.setvalue("decimal",q);var k=g._getString();if(f.end<i?g._setSelectionStart(f.end+r):g._setSelectionStart(f.end),f.length>=1&&g._setSelectionStart(f.end),f.length==g.numberInput.val().length){var s=g._moveCaretToDecimalSeparator(),t=g.decimalSeparatorPosition>=0?1:0;g._setSelectionStart(s-t)}}else if(f.start<i||f.start>i){if(g.numberInput.val().length==f.start&&g.decimalSeparatorPosition!=-1)return!1;if(g.numberInput.val().length==f.start&&g.decimalSeparatorPosition==-1&&!n)return!1;var q="",u=!1;for(p=0;p<a;p++)m[p].canEdit&&m[p].character!=g.promptChar&&(q+=m[p].character),m[p].character==g.decimalSeparator&&m[p].isSeparator&&(q+=m[p].character,u=!0);q+=c;var r=g.decimal<1?1:0;for(u||f.start!=i-1||(q+=g.decimalSeparator,u=!0),p=a+1;p<m.length;p++)!u&&m[p].character==g.decimalSeparator&&m[p].isSeparator?q+=m[p].character:m[p].canEdit&&m[p].character!=g.promptChar&&(q+=m[p].character);g.setvalue("decimal",q);var k=g._getString();if(g.decimalSeparatorPosition<0&&d==m[l])return g._setSelectionStart(a),!1;var v=k.indexOf(g.symbol),w=g.getvalue("negative")?1:0;if(v<=w&&(v=k.length),f.start<v?g._setSelectionStart(a+1):g._setSelectionStart(a),f.length>=1,f.length==g.numberInput.val().length){var s=g._moveCaretToDecimalSeparator();g._setSelectionStart(s-1)}}return!1}}}})}}},_handleKeyPress:function(b,c){var d=this._selection(),e=this,f=b.ctrlKey||b.metaKey;if(f&&97==c||f&&65==c)return!0;if(8==c)return d.start>0&&e._setSelectionStart(d.start),!1;if(46==c)return d.start<this.items.length&&e._setSelectionStart(d.start),!1;if(!a.jqx.browser.mozilla&&(45==c||173==c||109==c||189==c)){var g=this.getvalue("negative");0==g?this.setvalue("negative",!0):this.setvalue("negative",!1)}a.jqx.browser.msie&&this._insertKey(c);var h=this._isSpecialKey(c);return h},_deleteSelectedText:function(){var a=this._selection(),b="",c=this._getSeparatorPosition(),d=this._getVisibleItems(),e=this._getHiddenPrefixCount();for(this.numberInput.val().length==a.start&&0==a.length&&(this._setSelection(a.start,a.start+1),a=this._selection()),i=0;i<a.start;i++)d[i].canEdit&&d[i].character!=this.promptChar?b+=d[i].character:d[i].canEdit||this.decimalSeparatorPosition==-1||d[i]!=d[this.decimalSeparatorPosition-e]||(0==b.length&&(b="0"),b+=d[i].character);for(i=a.start;i<a.end;i++)i>c&&this.decimalSeparatorPosition!=-1?d[i].canEdit&&d[i].character!=this.promptChar&&(b+="0"):d[i].canEdit||this.decimalSeparatorPosition==-1||d[i]!=d[this.decimalSeparatorPosition-e]||(0==b.length&&(b="0"),b+=d[i].character);for(i=a.end;i<d.length;i++)d[i].canEdit&&d[i].character!=this.promptChar?b+=d[i].character:d[i].canEdit||this.decimalSeparatorPosition==-1||d[i]!=d[this.decimalSeparatorPosition-e]||(0==b.length&&(b="0"),b+=d[i].character);return this.setvalue("decimal",b),a.length>0},_restoreInitialState:function(){var a=parseInt(this.decimalDigits);for(a>0&&(a+=2),k=this.items.length-1;k>this.items.length-1-a&&this.items[k];k--)this.items[k].canEdit&&this.items[k].character==this.promptChar&&(this.items[k].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"==this.inputMode)return void this.numberInput.val();for(var a=0;a<this.items.length;a++)this.items[a].canEdit&&(this.items[a].character=this.promptChar);this._restoreInitialState()},_saveSelectedText:function(){var b=this._selection(),c="",d=this._getVisibleItems();if(b.start>0||b.length>0)for(i=b.start;i<b.end;i++)d[i].canEdit&&d[i].character!=this.promptChar?c+=d[i].character:d[i].isSeparator&&(c+=d[i].character);return a.jqx.browser.msie&&window.clipboardData.setData("Text",c),c},_pasteSelectedText:function(){var b=this._selection();if(this.selectedText=a.data(document.body,"jqxSelection"),window.clipboardData){var c=window.clipboardData.getData("Text");if(c!=this.selectedText&&c.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||void 0==this.selectedText))return}b.start,this._getVisibleItems();if(null!=this.selectedText)for(var d=0;d<this.selectedText.length;d++){var e=parseInt(this.selectedText[d]);if(!isNaN(e)){var f=48+e;this._insertKey(f)}}},_getHiddenPrefixCount:function(){var a=0;if(this.negative||a++,"left"==this.symbolPosition)for(i=0;i<this.symbol.length;i++)""==this.symbol.substring(i,i+1)&&a++;return a},_getEditableItem:function(){var a=this._selection();for(i=0;i<this.items.length;i++)if(i<a.start&&this.items[i].canEdit&&this.items[i].character!=this.promptChar)return this.items[i];return null},_getEditableItems:function(){var a=new Array,b=0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(a[b]=this.items[i],b++);return a},_getValidSelectionStart:function(a){for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit&&this.items[i].character!=this.promptChar)return i;return-1},_getEditableItemIndex:function(a){var b=this._selection(),c=this._getHiddenPrefixCount(),d=this._getVisibleItems(),e=b.start,f=-1;for(i=0;i<e;i++)i<d.length&&d[i].canEdit&&(f=i+c);if(f==-1&&b.length>0)for(e=b.end,i=0;i<e;i++)if(i<d.length&&d[i].canEdit){f=i+c;break}return f},_getEditableItemByIndex:function(a){for(k=0;k<this.items.length;k++)if(k>a&&this.items[k].canEdit&&this.items[k].character!=this.promptChar)return k;return-1},_getFirstEditableItemIndex:function(){var a=this._getVisibleItems();for(m=0;m<a.length;m++)if(a[m].character!=this.promptChar&&a[m].canEdit&&"0"!=a[m].character)return m;return-1},_getLastEditableItemIndex:function(){var a=this._getVisibleItems();for(m=a.length-1;m>=0;m--)if(a[m].character!=this.promptChar&&a[m].canEdit)return m;return-1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--)if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator)return this.negative?(this._setSelectionStart(i+1),i):(this._setSelectionStart(i),i);return this.numberInput.val().length},_handleBackspace:function(){var a=this._selection(),b=this._getHiddenPrefixCount(),c=this._getEditableItemIndex()-b,d=this._getFirstVisibleNonEmptyIndex(),e=!1;if(this.negative&&(e=!0,(d>=c+1||0==a.start)&&(this.setvalue("negative",!1),0==a.length))){this._setSelectionStart(a.start-1);var a=this._selection()}if(c>=0){0==a.length&&c!=-1&&this._setSelection(c,c+1);var f=a.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;f&&(a=this._selection());this._deleteSelectedText();if(a.length<1||f?this._setSelectionStart(a.start):a.length>=1&&this._setSelectionStart(a.end),a.length==this.numberInput.val().length||e){var g=this._moveCaretToDecimalSeparator();this._setSelectionStart(g-1)}}else this._setSelectionStart(a.start)},_handleKeyDown:function(b,c){var d=this._selection(),e=b.ctrlKey||b.metaKey;if((8==c||46==c)&&e)return this.setDecimal(null),!1;if(this.rtl&&37==c){var f=b.shiftKey,g=f?1:0;return f?this._setSelection(d.start+1-g,d.start+d.length+1):this._setSelection(d.start+1-g,d.start+1),!1}if(this.rtl&&39==c){var f=b.shiftKey,g=f?1:0;return f?this._setSelection(d.start-1,d.length+g+d.start-1):this._setSelection(d.start-1,d.start-1),!1}if(e&&97==c||e&&65==c)return!0;if(e&&120==c||e&&88==c)return this.selectedText=this._saveSelectedText(b),a.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(e&&99==c||e&&67==c)return this.selectedText=this._saveSelectedText(b),a.data(document.body,"jqxSelection",this.selectedText),!1;if(e&&122==c||e&&90==c)return!1;if(e&&118==c||e&&86==c||b.shiftKey&&45==c)return this._pasteSelectedText(),!1;if(d.start>=0&&d.start<this.items.length){var h=String.fromCharCode(c);this.items[d.start]}if(8==c)return this._handleBackspace(),!1;if(190==c||110==c)return this._moveCaretToDecimalSeparator(),!1;if(188==c){var j=this.numberInput.val();for(i=d.start;i<j.length;i++)if(j[i]==this.groupSeparator){this._setSelectionStart(1+i);break}return!1}if(null==a.jqx.browser.msie){var h=String.fromCharCode(c),k=parseInt(h);if(c>=96&&c<=105&&(k=c-96,c-=48),!isNaN(k)){var l=this;return l._insertKey(c),!1}}if(46==c){var m=this._getVisibleItems();if(d.start<m.length){var g=0==m[d.start].canEdit?2:1;if(0==d.start&&this.negative){this.setvalue("negative",!1),0==d.length&&this._setSelectionStart(0);var d=this._selection();if(0==d.length)return!1}0==d.length&&this._setSelection(d.start+g,d.start+g+d.length),this._handleBackspace(),new Number(this.decimal)<1||d.start>this._getSeparatorPosition()?this._setSelectionStart(d.end+g):d.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(d.end+g)}return!1}if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;27===c&&(this.setDecimal(this._savedValue),this._setSelectionStart(d.end),b.preventDefault());var n=this._isSpecialKey(c);if(a.jqx.browser.mozilla&&(45==c||173==c||109==c||189==c)){var o=this.getvalue("negative");0==o?this.setvalue("negative",!0):this.setvalue("negative",!1)}return!a.jqx.browser.mozilla||n},_isSpecialKey:function(a){return 8==a||9==a||13==a||35==a||36==a||37==a||39==a||27==a||46==a},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var a=this.numberInput[0],b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:a.value.length,length:0};var d=this.numberInput[0].createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d);var b=c.text.length;return{start:e.text.length,end:e.text.length+c.text.length,length:b,text:c.text}}catch(f){return{start:0,end:0,length:0}}},selectAll:function(){var a=this.numberInput;setTimeout(function(){if("selectionStart"in a[0])a[0].focus(),a[0].setSelectionRange(0,a[0].value.length);else{var b=a[0].createTextRange();b.collapse(!0),b.moveEnd("character",a[0].value.length),b.moveStart("character",0),b.select()}},10)},_setSelection:function(b,c){if(1!=this._disableSetSelection){var d=a.jqx.mobile.isTouchDevice();if(!d&&1!=this.touchMode)try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(b,c);else{var e=this.numberInput[0].createTextRange();e.collapse(!0),e.moveEnd("character",c),e.moveStart("character",b),e.select()}}catch(f){}}},_setSelectionStart:function(b){this._setSelection(b,b),a.data(this.numberInput,"selectionstart",b)},resize:function(a,b){this.width=a,this.height=b,this._render(!1)},_render:function(b){var c=parseInt(this.host.css("border-left-width")),d=parseInt(this.host.css("border-left-width")),e=parseInt(this.host.css("border-left-width")),f=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),this.host.height(this.height),this.host.width(this.width);var g=this.host.width(),h=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(e)&&(e=1),isNaN(d)&&(d=1),isNaN(f)&&(f=1),isNaN(c)&&(c=1),this.numberInput.css("text-align",this.textAlign);var i=this.numberInput.css("font-size");""==i&&(i=13),this.numberInput.css("height",parseInt(i)+4+"px"),this.numberInput.css("width",g-2);var j=h-2*e-parseInt(i)-2;if(isNaN(j)&&(j=0),j<0&&(j=0),this.spinButtons&&this.spincontainer){g-=parseInt(this.spinButtonsWidth-2);var k=a.jqx.mobile.isTouchDevice();k||this.touchMode===!0?(this.spincontainer.width(2*this.spinButtonsWidth),g-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",g-6),this.numberInput.css("margin-right","2px")}var l=j/2;a.jqx.browser.msie&&a.jqx.browser.version<8&&(l=j/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(l)+"px"),this.numberInput.css("padding-bottom",Math.round(l)+"px"),void 0!=b&&1!=b||(this.numberInput.val(this._getString()),"simpleExtend"==this.inputMode?this._parseDecimalInSimpleExtendMode():"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.host.remove()},inputValue:function(a){return void 0===a?this._value():(this.propertyChangedHandler(this,"value",this._value,a),this._refreshValue(),this)},_value:function(){var a=this.numberInput.val();return a},val:function(a){if((void 0===a||"object"==typeof a)&&null!==a)return this.getDecimal();if(null===a)return void this.setDecimal(null);var b=a;b=b.toString(),b.indexOf(this.symbol)>-1&&(b=b.replace(this.symbol,""));var c=function(a,b,c){var d=a;if(b==c)return a;for(var e=d.indexOf(b);e!=-1;)d=d.replace(b,c),e=d.indexOf(b);return d};b=c(b,this.groupSeparator,""),b=b.replace(this.decimalSeparator,".");for(var d="",e=0;e<b.length;e++){var f=b.substring(e,e+1);"-"===f&&(d+="-"),"."===f&&(d+="."),null!=f.match(/^[0-9]+$/)&&(d+=f)}b=d,b=b.replace(/ /g,""),b=new Number(b),this.setDecimal(b)},getDecimal:function(){if(null==this.decimal)return null;if("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),"simpleExtend"==this.inputMode&&(this._parseDecimalInSimpleExtendMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal)return 0;var a=this.getvalue("negative");return this.enableBigDecimal?a?"-"+this.decimal:this.decimal:a&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal)},setDecimal:function(a){if(this.enableBigDecimal)return this.bigValue=b.createModule("big",a),this.value=this.bigValue.val(),this.bigValue.s<0?this.setvalue("negative",!0):this.setvalue("negative",!1),void this._setDecimal(this.bigValue.abs().val());var c=a;if("."!=this.decimalSeparator)if(null===a)this._setDecimal(a);else{var d=a;if("number"!=typeof a){a=a.toString();var e=a.indexOf(".");if(e!=-1){var f=a.substring(0,e),g=a.substring(e+1);d=f+"."+g,f.indexOf("-")!=-1&&(f=f.substring(1)),a="advanced"!=this.inputMode?f+"."+g:f+this.decimalSeparator+g}else{var e=a.indexOf(this.decimalSeparator);if(e!=-1){var f=a.substring(0,e),g=a.substring(e+1);d=f+"."+g,f.indexOf("-")!=-1&&(f=f.substring(1)),a="advanced"!=this.inputMode?f+"."+g:f+this.decimalSeparator+g}}}d<0?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(a)}else a<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===a||this.enableBigDecimal?this._setDecimal(a):this._setDecimal(Math.abs(a));null==c&&this.numberInput.val("")},_setDecimal:function(a,c){if(this.allowNull||null!=a||(this.decimal=0,a=0),null==a)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,void(this.value=null);"load"!=c&&this.$dataBinders$&&this.$dataBinders$.value&&(this.getvalue("negative")?this.$dataBinders$.value.updateItem("-"+a):this.$dataBinders$.value.updateItem(a)),a.toString().indexOf("e")!=-1&&(a=new Number(a).toFixed(this.decimalDigits).toString()),this.clearDecimal();var d=a.toString(),e="",f="",g=!0;0==d.length&&(d="0");for(var h=0;h<d.length;h++){if("number"==typeof a){if("."==d.substring(h,h+1)){g=!1;continue}}else if(d.substring(h,h+1)==this.decimalSeparator){g=!1;continue}g?e+=d.substring(h,h+1):f+=d.substring(h,h+1)}e.length>0&&!this.enableBigDecimal&&(e=parseFloat(e).toString());var i=this.digits;i<e.length&&!this.enableBigDecimal&&(e=e.substr(0,i));var j=0,k=this._getSeparatorPosition(),l=this._getHiddenPrefixCount();k+=l;for(var h=k;h>=0;h--)h<this.items.length&&this.items[h].canEdit&&j<e.length&&(this.items[h].character=e.substring(e.length-j-1,e.length-j),j++);j=0;for(var h=k;h<this.items.length;h++)this.items[h].canEdit&&j<f.length&&(this.items[h].character=f.substring(j,j+1),j++);if(this._refreshValue(),this.enableBigDecimal&&"."==this.decimalSeparator)b.isString(a)||(a+=""),this.ValueString=a.indexOf(".")>0?a.substr(0,a.indexOf("."))+new Number(a.substr(a.indexOf("."))).toFixed(this.decimalDigits).substring(1):a+new Number(0).toFixed(this.decimalDigits).substring(1);else if("."==this.decimalSeparator)this.ValueString=new Number(a).toFixed(this.decimalDigits);else{var m=a.toString().indexOf(this.decimalSeparator);if(m>0){var n=a.toString().substring(0,m),o=n+"."+a.toString().substring(m+1);this.ValueString=new Number(o).toFixed(this.decimalDigits)}else this.ValueString=new Number(a).toFixed(this.decimalDigits)}if("simpleExtend"==this.inputMode?(this._parseDecimalInSimpleExtendMode(),this._raiseEvent(1,this.ValueString)):"advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode){this.decimal=this.ValueString;var p=this.getvalue("negative");p&&(this.decimal="-"+this.ValueString)}var a=this.val();this.enableBigDecimal?this.min&&this.bigValue.lessThan(this.min)||this.max&&this.bigValue.greaterThan(this.max)?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid"):a<this.min||a>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var a=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-a:this.items.length-a},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2==Object.keys(c).length&&a._render()},propertyChangedHandler:function(c,d,e,f){if(!(c.batchUpdate&&c.batchUpdate.width&&c.batchUpdate.height&&2==Object.keys(c.batchUpdate).length)){if("template"==d&&(c.upbutton.removeClass(c.toThemeProperty("jqx-"+c.template)),c.downbutton.removeClass(c.toThemeProperty("jqx-"+c.template)),c.upbutton.addClass(c.toThemeProperty("jqx-"+c.template)),c.downbutton.addClass(c.toThemeProperty("jqx-"+c.template))),"enableBigDecimal"==d&&f&&(this.bigValue=b.createModule("big",this.decimal),this.value=this.bigValue.val(),this.setDecimal(this.value),"number"==typeof this.min&&(this.min=void 0),"number"==typeof this.max&&(this.max=void 0),this._raiseEvent(0,this.value)),("digits"==d||"groupSize"==d||"decimalDigits"==d)&&f<0)throw new Exception(this.invalidArgumentExceptions[0]);if("placeHolder"==d&&c.numberInput.attr("placeholder",c.placeHolder),"theme"===d&&a.jqx.utilities.setTheme(e,f,c.host),"digits"==d&&f!=e&&(c.digits=parseInt(f)),"min"!=d&&"max"!=d||("string"==typeof f&&this.enableBigDecimal?("max"===d&&(this.max=b.createModule("big",f)),"min"===d&&(this.min=b.createModule("big",f)),this._raiseEvent(0,this.value)):(a.jqx.aria(c,"aria-value"+d,f.toString()),c._refreshValue())),"decimalDigits"==d&&f!=e&&(c.decimalDigits=parseInt(f)),"decimalSeparator"==d||"digits"==d||"symbol"==d||"symbolPosition"==d||"groupSize"==d||"groupSeparator"==d||"decimalDigits"==d||"negativeSymbol"==d){var g=c.decimal;if("decimalSeparator"==d&&""==f&&(f=" "),e!=f){var h=c._selection();c.items=new Array,c._initializeLiterals(),c.value=c._getString(),c._refreshValue(),c._setDecimal(g)}}if("rtl"==d&&(c.rtl?(c.spincontainer&&(c.spincontainer.css("float","right"),c.spincontainer.css("border-right-width","1px")),c.numberInput.css("float","right")):(c.spincontainer&&(c.spincontainer.css("float","right"),c.spincontainer.css("border-right-width","1px")),c.numberInput.css("float","left"))),"spinButtons"==d&&(c.spincontainer?(f?c.spincontainer.css("display","block"):c.spincontainer.css("display","none"),c._render()):c._spinButtons()),"touchMode"===d&&(c.inputMode="textbox",c.spinMode="simple",c.render()),"negative"==d&&"advanced"==c.inputMode){var h=c._selection(),j=0;f?(c.items[0].character=c.negativeSymbol[0],j=1):(c.items[0].character="",j=-1),c._refreshValue(),c.isInitialized&&c._setSelection(h.start+j,h.end+j)}if("decimal"==d&&(c.value=f,c.setDecimal(f)),"value"===d&&(c.value=f,c.setDecimal(f),c._raiseEvent(1,f)),"textAlign"==d&&(c.textAlign=f,c._render()),"disabled"==d&&(c.numberInput.attr("disabled",f),c.disabled?c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")):c.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled")),a.jqx.aria(c,"aria-disabled",f.toString())),"readOnly"==d&&(c.readOnly=f),"promptChar"==d){for(i=0;i<c.items.length;i++)c.items[i].character==c.promptChar&&(c.items[i].character=f);c.promptChar=f}"width"==d?(c.width=f,c._render()):"height"==d&&(c.height=f,c._render())}},_value:function(){var a=this.value;return a},_refreshValue:function(){var a=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),a=this.value;for(var b="",c=0;c<this.items.length;c++){var d=this.items[c];d.canEdit&&d.character!=this.promptChar&&(b+=d.character),c==this.decimalSeparatorPosition&&(b+=".")}this.decimal=b;var e=!1;this.oldValue!==a&&(this.oldValue=a,this._raiseEvent(0,a),e=!0),"simple"!=this.inputMode&&"simpleExtend"!=this.inputMode&&(this.numberInput.val(a),e&&this._raiseEvent(1,a)),null==a&&this.numberInput.val("")}}})}(jqxBaseFramework,A),function(a){a.jqx.jqxWidget("jqxPanel","",{}),a.extend(a.jqx._jqxPanel.prototype,{defineInstance:function(){var b={width:null,height:null,disabled:!1,scrollBarSize:a.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};return this===a.jqx._jqxPanel.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){this.render()},render:function(){15!=a.jqx.utilities.scrollBarSize&&(this.scrollBarSize=a.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));var b=a("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var c=this.host.children();this._rtl=!1,c.length>0&&"rtl"==c.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner(b);var d=this.host.find("#verticalScrollBar");d[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=d.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var e=this.host.find("#horizontalScrollBar");e[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=e.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance;var f=this;this.propertyChangeMap.disabled=function(a,b,c,d){f.vScrollBar.jqxScrollBar({disabled:f.disabled}),f.hScrollBar.jqxScrollBar({disabled:f.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=f.content[0].scrollWidth,this.contentHeight=f.content[0].scrollHeight,this.autoUpdate&&f._autoUpdate(),this.propertyChangeMap.autoUpdate=function(a,b,c,d){a.autoUpdate?a._autoUpdate():(clearInterval(a.autoUpdateId),a.autoUpdateId=null)},this.addHandler(a(window),"unload",function(){null!=f.autoUpdateId&&(clearInterval(f.autoUpdateId),f.autoUpdateId=null,f.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return a.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var b=this;1==this.touchMode&&a.jqx.mobile.setMobileSimulator(this.element);var c=this.isTouchDevice();c&&(a.jqx.mobile.touchScroll(this.element,b.vScrollInstance.max,function(a,c){
if("hidden"!=b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c)}if("hidden"!=b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a)}},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?b=!0:0==this.touchMode&&(b=!1),b&&0!=this.touchModeStyle&&(this.scrollBarSize=a.jqx.utilities.touchScrollBarSize),b},append:function(a){null!=a&&(this.content.append(a),this._arrange())},setcontent:function(a){this.content[0].innerHTML=a,this._arrange();var b=this;setTimeout(function(){b._arrange()},100)},prepend:function(a){null!=a&&(this.content.prepend(a),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(b){null!=b&&(a(b).remove(),this._arrange())},_autoUpdate:function(){var a=this;this.autoUpdateId=setInterval(function(){var b=a.content[0].scrollWidth,c=a.content[0].scrollHeight,d=!1;a.contentWidth!=b&&(a.contentWidth=b,d=!0),a.contentHeight!=c&&(a.contentHeight=c,d=!0),d&&a._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var b=this;this.addHandler(this.vScrollBar,"valueChanged",function(a){b._render(b)}),this.addHandler(this.hScrollBar,"valueChanged",function(a){b._render(b)}),this.addHandler(this.host,"mousewheel",function(a){b.wheel(a,b)}),this.addHandler(this.wrapper,"scroll",function(a){0!=b.wrapper[0].scrollTop&&(b.wrapper[0].scrollTop=0),0!=b.wrapper[0].scrollLeft&&(b.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(a){b.focused=!1}),this.addHandler(this.host,"focus",function(a){b.focused=!0}),this.addHandler(this.host,"blur",function(a){b.focused=!1}),this.addHandler(this.host,"mouseenter",function(a){b.focused=!0}),a.jqx.utilities.resize(this.host,function(){a.jqx.isHidden(b.host)||b._arrange(!1)})},resize:function(a,b){this.width=a,this.height=b,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(a(window),"resize."+this.element.id)},wheel:function(b,c){var d=0;if(b.originalEvent&&a.jqx.browser.msie&&b.originalEvent.wheelDelta&&(d=b.originalEvent.wheelDelta/120),b||(b=window.event),b.wheelDelta?d=b.wheelDelta/120:b.detail&&(d=-b.detail/3),d){var e=c._handleDelta(d);return e||b.preventDefault&&b.preventDefault(),!e&&e}b.preventDefault&&b.preventDefault(),b.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value+a.largestep<=a.max?(a.setPosition(a.value+a.largestep),!0):a.value+a.largestep!=a.max&&(a.setPosition(a.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value-a.largestep>=a.min?(a.setPosition(a.value-a.largestep),!0):a.value-a.largestep!=a.min&&(a.setPosition(a.min),!0)},_handleDelta:function(a){if(this.focused){var b=this.vScrollInstance.value;a<0?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;if(b!=c)return!1}return!0},_render:function(a){void 0==a&&(a=this);var b=a.vScrollInstance.value,c=a.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(c=0==this._rtl?a.hScrollInstance.max-c:-a.hScrollInstance.value),a.content.css({left:-c+"px",top:-b+"px"})},scrollTo:function(a,b){void 0!=a&&void 0!=b&&(this.vScrollInstance.setPosition(b),this.hScrollInstance.setPosition(a))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var b=this.scrollBarSize;return isNaN(b)&&(b=parseInt(b),isNaN(b)?b="17px":b+="px"),this.isTouchDevice()&&(b=a.jqx.utilities.touchScrollBarSize),b=parseInt(b)},_getScrollArea:function(){var b=0;this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),a.jqx.browser.msie&&a.jqx.browser.version<10&&(b=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl");var c=parseInt(this.content[0].scrollWidth);a.each(this.content.children(),function(){c=Math.max(c,this.scrollWidth),c=Math.max(c,a(this).outerWidth())}),a.jqx.browser.msie&&a.jqx.browser.version<10&&this.content.css("left",b);var d=parseInt(this.content[0].scrollHeight);if(this.content.css("overflow","visible"),a.jqx.browser.msie&&a.jqx.browser.version<9){var d=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var d=parseInt(this.content[0].scrollHeight),c=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":var d=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:c,height:d}},_arrange:function(b){b!==!1&&(null!=this.width&&this.host.width(this.width),null!=this.height&&this.host.height(this.height));var c=this._getScrollSize(),d=this.host.width(),e=this.host.height(),f=this._getScrollArea(),g=f.width,h=f.height,i=h-parseInt(Math.round(this.host.height())),j=g-parseInt(Math.round(this.host.width()));void 0!=this.horizontalScrollBarMax&&(j=this.horizontalScrollBarMax),void 0!=this.verticalScrollBarMax&&(i=this.verticalScrollBarMax);var k=function(a,b){var c=5;b>c?(a.vScrollBar.jqxScrollBar({max:b}),a.vScrollBar.css("visibility","inherit")):(a.vScrollBar.jqxScrollBar("setPosition",0),a.vScrollBar.css("visibility","hidden"))},l=function(b,d){d>0?a.jqx.browser.msie&&a.jqx.browser.version<8&&d-10<=c?(b.hScrollBar.css("visibility","hidden"),b.hScrollBar.jqxScrollBar("setPosition",0)):(b.hScrollBar.jqxScrollBar({max:d+4}),b.hScrollBar.css("visibility","inherit")):(b.hScrollBar.css("visibility","hidden"),b.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":return this.host.width(g),this.host.height(h),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.width(g),this.hScrollBar.css("visibility","hidden"),k(this,i),void this._arrangeScrollbars(c,g,e);case"verticalWrap":case"verticalwrap":return this.host.height(h),this.vScrollBar.css("visibility","hidden"),l(this,j),void this._arrangeScrollbars(c,d,e)}k(this,i);var m=2;"hidden"!=this.vScrollBar.css("visibility")&&void 0==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&j>0||j>0)&&(j+=c+m),l(this,j),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:i+c+m}),this._arrangeScrollbars(c,d,e)},_arrangeScrollbars:function(b,c,d){var e="hidden"!=this.vScrollBar[0].style.visibility,f=("hidden"!=this.hScrollBar[0].style.visibility,2),g=2;if(this.hScrollBar.height(b),this.hScrollBar.css({top:d-b-f-g+"px",left:"0px"}),this.hScrollBar.width(c-f+"px"),this.vScrollBar.width(b),this.vScrollBar.height(parseInt(d)-f+"px"),this.vScrollBar.css({left:parseInt(c)-parseInt(b)-f-g+"px",top:"0px"}),this.rtl){this.vScrollBar.css({left:"0px"});var h=e?parseInt(b)+"px":0;if("rtl"!=this.content.children().css("direction")){var i=!1;a.jqx.browser.msie&&a.jqx.browser.version<8&&(i=!0),i||this.content.css("padding-left",h)}}else"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.width(parseInt(b)+3),this.bottomRight.height(parseInt(b)+3),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:b+g+"px"})),this.hScrollBar.width(c-1*b-f-g+"px"),this.vScrollBar.height(parseInt(d)-f-b-g+"px")):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){this.autoUpdateId&&clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,a.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(a(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.content=null,this.wrapper=null,this.vScrollBar=null,this.hScrollBar=null,this.vScrollInstance=null,this.hScrollInstance=null,this.host.remove()},_raiseevent:function(b,c,d){if(void 0!=this.isInitialized&&1==this.isInitialized){var e=this.events[b],f=new a.Event(e);f.previousValue=c,f.currentValue=d,f.owner=this;var g=this.host.trigger(f);return g}},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(a,b,c,d){a.isInitialized&&("rtl"==b&&(this.vScrollBar.jqxScrollBar({rtl:d}),this.hScrollBar.jqxScrollBar({rtl:d}),a._arrange()),a.updating||"scrollBarSize"!=b&&"width"!=b&&"height"!=b||c!=d&&a._arrange(),"touchMode"==b&&"auto"!=d&&a._updateTouchScrolling(),"theme"==b&&(a.host.removeClass(),a.host.addClass(this.toThemeProperty("jqx-panel")),a.host.addClass(this.toThemeProperty("jqx-widget")),a.host.addClass(this.toThemeProperty("jqx-widget-content")),a.host.addClass(this.toThemeProperty("jqx-rc-all")),a.vScrollBar.jqxScrollBar({theme:this.theme}),a.hScrollBar.jqxScrollBar({theme:this.theme}),a.bottomRight.removeClass(),a.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),a.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),a.content.removeClass(),a.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){a.jqx.isHidden(this.host)||this.refresh()},refresh:function(a){this._arrange()}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxPasswordInput","",{}),a.extend(a.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var b={width:null,height:null,disabled:!1,rtl:!1,placeHolder:null,showStrength:!1,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:!0,strengthTypeRenderer:null,passwordStrength:null,changeType:null,localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};return this===a.jqx._jqxPasswordInput.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var a=this;if(a._inDOM=document.body.contains(a.element),a.render(),this.$dataBinders$)for(var b in this.$dataBinders$){var c=this.$dataBinders$[b];if(c){var d=this.bindDataBinder(b);c.unbindCallbackFunc(this.element.id),c.bindCallbackFunc(this.element.id,d),c.dataBind()}}},render:function(){var b=this,c=a.jqx.browser.browser,d=a.jqx.browser.version;this._browserCheck="msie"!=c||"7.0"!=d&&"8.0"!=d,this.widgetID=b.element.id;var e="Invalid input type. Please set the type attribute of the input element to password.";if("password"!=this.element.getAttribute("type"))throw e;b._hidden=!0,b._setTheme(),b._setAttributes(),b._showPassword(),b._showStrength(),a.jqx.utilities.resize(this.host,function(){if(!b._inDOM){var a=b.element.parentNode;return b.element.nextSibling?a.insertBefore(b.icon,b.element.nextSibling):a.appendChild(b.icon),void(b._inDOM=!0)}b.element===document.activeElement&&(b._positionIcon(),b.showStrength&&b.host.jqxTooltip("close"))})},bindDataBinder:function(a){var b=this;b.baseHost?b.baseHost.id:b.element.id;if("value"==a)return function(a){var c,d=arguments[1];"update"==a?(c=void 0==d.value?"":d.value,b.val(c)):"load"==a&&(c=void 0==d.records?"":d.records,b.element.value=c)}},refresh:function(b){var c=this;b||(c.removeHandler(c.host,"change.passwordinput"+c.widgetID),c.removeHandler(c.host,"focus.passwordinput"+c.widgetID),c.removeHandler(c.host,"blur.passwordinput"+c.widgetID),c.removeHandler(c.host,"click.passwordinput"+c.widgetID),c.removeHandler(c.host,"keyup.passwordinput"+c.widgetID),c.removeHandler(c.icon,"mousedown.passwordinput"+c.widgetID),c.removeHandler(a(document),"mouseup.passwordinput"+c.widgetID),c.removeHandler(a(document),"mousedown.passwordinput"+c.widgetID),c._setAttributes(),c._setTheme(),c._showPassword(),c._showStrength())},focus:function(){try{var a=this;a.element.focus(),setTimeout(function(){a.element.focus()},25)}catch(b){}},val:function(b){var c=this,d=c.element.value,e="placeholder"in c.element;if(a.isEmptyObject(b)&&""!==b)return e||d!==c.placeHolder||(d=""),d;if(this.$dataBinders$&&this.$dataBinders$.value){var f=b||this.element.value;this.$dataBinders$.value.updateItem(f)}if(!e||b!==d){if(!e){if(""===b)return void(d!==c.placeHolder&&(c.element.value=c.placeHolder,c.element.setAttribute("type","text")));c.element.setAttribute("type","password")}c.element.value=b,c.showStrength===!0&&c._evaluateStrength()}},propertyChangedHandler:function(b,c,d,e){return"theme"===c?void a.jqx.utilities.setTheme(d,e,b.host):"disabled"==c?void(b.disabled?(b.element.setAttribute("disabled","disabled"),b.element.className+=" "+b.toThemeProperty("jqx-fill-state-disabled")):(b.host.removeAttr("disabled"),b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")))):void("placeHolder"==c?this._browserCheck&&("placeholder"in this.element?b.element.setAttribute("placeholder",b.placeHolder):""===b.element.value?(b.element.setAttribute("type","text"),b.element.value=e):b.element.value==d&&(b.element.value=e)):this.refresh())},resize:function(a,b){this.width=a,this.height=b,this.element.style.width=this._toPx(a),this.element.style.height=this._toPx(b)},_setAttributes:function(){var a=this,b=a.element;b.style.width=a._toPx(a.width),b.style.height=a._toPx(a.height),a.maxLength&&b.setAttribute("maxlength",a.maxLength),a.minLength&&b.setAttribute("minLength",a.minLength),a.placeHolder&&a._browserCheck&&("placeholder"in a.element?b.setAttribute("placeholder",a.placeHolder):""===b.value&&(b.setAttribute("type","text"),b.value=a.placeHolder)),a.disabled?(b.setAttribute("disabled","disabled"),b.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")):(b.removeAttribute("disabled"),a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")));var c=!1;a.addHandler(b,"change.passwordinput"+a.widgetID,function(b){c||(b.preventDefault(),b.stopPropagation(),c=!0,a._raiseEvent(),c=!1)}),a.addHandler(b,"click.passwordinput"+a.widgetID,function(){a.showPasswordIcon&&a.icon&&(a.icon.style.display="inline",a._positionIcon())}),a.interval=null,a.addHandler(b,"keydown.passwordinput"+a.widgetID,function(){if(a.changeType="keyboard",a.showPasswordIcon&&a.icon){a.interval&&clearInterval(a.interval);var b=0;a.interval=setInterval(function(){"none"!=a.icon.style.display?(a._positionIcon(),b++,b>5&&clearInterval(a.interval)):clearInterval(a.interval)},100)}}),a.addHandler(b,"focus.passwordinput"+a.widgetID,function(){if(a._focused=!0,b.className+=" "+a.toThemeProperty("jqx-fill-state-focus"),!a.placeHolder||!a._browserCheck||"placeholder"in a.element||b.value!=a.placeHolder||(b.value="",a._hidden&&b.setAttribute("type","password")),a.val().length>0&&a.showStrength){var c=a.host.jqxTooltip("content");c&&a.host.jqxTooltip("open")}a.showPasswordIcon&&a.icon&&(a.icon.style.display="inline",a._positionIcon())}),a.addHandler(b,"blur.passwordinput"+a.widgetID,function(){a._focused=!1,a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")),!a.placeHolder||!a._browserCheck||"placeholder"in a.element||""!==b.value||(a.element.value=a.placeHolder,a.element.setAttribute("type","text")),a.showPasswordIcon&&a._browserCheck&&(a.rtl===!1?a.host.removeClass(a.toThemeProperty("jqx-passwordinput-password-icon-ltr")):a.host.removeClass(a.toThemeProperty("jqx-passwordinput-password-icon-rtl"))),a.showStrength&&a.host.jqxTooltip("close"),a.showPasswordIcon&&a.icon&&(a.icon.style.display="none"),a.val(a.host.val())})},destroy:function(){var b=this;b.removeHandler(b.host,"focus.passwordinput"+b.widgetID),b.removeHandler(b.host,"blur.passwordinput"+b.widgetID),b.removeHandler(b.host,"click.passwordinput"+b.widgetID),b.removeHandler(a(window),"resize.passwordinput"+b.widgetID),b.removeHandler(b.host,"keyup.passwordinput"+b.widgetID),b.removeHandler(b.icon,"mousedown.passwordinput"+b.widgetID),b.removeHandler(b.icon,"mouseup.passwordinput"+b.widgetID),b.removeHandler(a(document),"mousedown.passwordinput"+b.widgetID),b.removeHandler(a(document),"mouseup.passwordinput"+b.widgetID),this.host.jqxTooltip&&this.host.jqxTooltip("destroy"),this.host.remove()},_setTheme:function(){var a=this,b="jqx-widget jqx-widget-content jqx-input jqx-rc-all";a.rtl?(b+=" jqx-rtl",a.element.style.direction="rtl"):(a.host.removeClass(a.toThemeProperty("jqx-rtl")),a.element.style.direction="ltr"),a.element.className+=" "+a.toThemeProperty(b)},_showPassword:function(){if(this.showPasswordIcon&&this._browserCheck){var b=this,c=document.createElement("span"),d=".passwordinput"+b.widgetID;c.setAttribute("tabindex",-1),c.setAttribute("hasfocus",!1),c.setAttribute("title",b.localization.showPasswordString),c.style.position="absolute",c.style.display="none",c.className=b.toThemeProperty("jqx-passwordinput-password-icon");var e=b.element.parentNode;e&&(b.element.nextSibling?e.insertBefore(c,b.element.nextSibling):e.appendChild(c)),b.icon=c,b._positionIcon();var f=function(){b.element.setAttribute("type","password"),b._hidden=!0},g=function(){b._hidden===!1?f():b._hidden&&(b.element.setAttribute("type","text"),b._hidden=!1)},h=a.jqx.mobile.isTouchDevice();h?b.addHandler(b.icon,"mousedown"+d,function(){return g(),!1}):(b.addHandler(b.icon,"mousedown"+d,function(){return g(),!1}),b.addHandler(a(document),"mouseup"+d,function(){return f(),!1}),b.addHandler(a(document),"mousedown"+d,function(){b._focused&&f()}))}},_positionIcon:function(){var b=this.host.offset(),c=this.element.offsetWidth,d=this.element.offsetHeight,e=a(this.icon);this.rtl?e.offset({top:parseInt(b.top+d/2-5,10),left:b.left+2}):e.offset({top:parseInt(b.top+d/2-5,10),left:b.left+c-18})},_showStrength:function(){var a=this;if(a.showStrength){if(!a.host.jqxTooltip)throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js");var b,c=a.widgetID+"Strength",d=c+"Value",e=c+"Indicator";if(a.strengthTypeRenderer){var f=a.element.value;"placeholder"in a.element||!a._browserCheck||f!=a.placeHolder||(f=""),a._countCharacters();var g=a.localization.tooShort,h=a.strengthTypeRenderer(f,{letters:a.letters,numbers:a.numbers,specialKeys:a.specials},g);b=h}else b='<div style="width: 220px;"><div><span style="font-weight: bold;">'+a.localization.passwordStrengthString+': </span><span id="'+d+'"></span></div><div id="'+e+'"></div></div>';if(a.host.jqxTooltip({theme:a.theme,position:a.showStrengthPosition,content:b,trigger:"none",autoHide:!1,rtl:a.rtl}),!a.strengthTypeRenderer){var i=document.getElementById(e);document.getElementById(d).innerHTML=a.localization.tooShort,i.className+=" jqx-passwordinput-password-strength-inicator",i.style.backgroundColor=a.strengthColors.tooShort,a.rtl===!1?i.style["float"]="left":i.style["float"]="right"}a._checkStrength()}},_checkStrength:function(){var a=this;a.addHandler(a.host,"keyup.passwordinput"+a.widgetID,function(){a._evaluateStrength()})},_raiseEvent:function(){var b=new a.Event("change");b.args={type:this.changeType},this.changeType=null,b.owner=this;var c=this.host.trigger(b);return c},_evaluateStrength:function(){var b=this,c=b.element.value,d=c.length;if(b._countCharacters(),d>0&&b.showStrength){var e=!b.host.jqxTooltip("opened");e&&b.host.jqxTooltip("open")}var f,g=b.letters+b.numbers+2*b.specials+b.letters*b.numbers/2+d;f=d<8?b.localization.tooShort:g<20?b.localization.weak:g<30?b.localization.fair:g<40?b.localization.good:b.localization.strong;var h;if(b.strengthTypeRenderer)h=b.strengthTypeRenderer(c,{letters:b.letters,numbers:b.numbers,specialKeys:b.specials},f),b.host.jqxTooltip({content:h});else{b.passwordStrength&&(h=b.passwordStrength(c,{letters:b.letters,numbers:b.numbers,specialKeys:b.specials},f),a.each(b.localization,function(){var a=this;if(h==a)return f=h,!1})),document.getElementById(b.widgetID+"StrengthValue").innerHTML=f;var i,j,k=document.getElementById(b.widgetID+"StrengthIndicator");switch(f){case b.localization.tooShort:i="20%",j=b.strengthColors.tooShort;break;case b.localization.weak:i="40%",j=b.strengthColors.weak;break;case b.localization.fair:i="60%",j=b.strengthColors.fair;break;case b.localization.good:i="80%",j=b.strengthColors.good;break;case b.localization.strong:i="100%",j=b.strengthColors.strong}k.style.width=i,k.style.backgroundColor=j}},_countCharacters:function(){var a=this;a.letters=0,a.numbers=0,a.specials=0;for(var b="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=",c=a.element.value,d=c.length,e=0;e<d;e++){var f=c.charAt(e),g=c.charCodeAt(e);g>64&&g<91||g>96&&g<123||g>127&&g<155||g>159&&g<166?a.letters+=1:isNaN(f)!==!1?b.indexOf(f)==-1||(a.specials+=1):a.numbers+=1}},_toPx:function(a){return"number"==typeof a?a+"px":a}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxPopover","",{}),a.extend(a.jqx._jqxPopover.prototype,{defineInstance:function(){var b={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:a.jqx.browser.msie&&8===a.jqx.browser.version,_ie7:a.jqx.browser.msie&&a.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};return this===a.jqx._jqxPopover.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var a=this;a._content=a.host.children()},render:function(){var b=this,c=b.element.id;if(b._content.detach(),b._toggleElement=a(b.selector),0===b._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+b.selector+'".');if(null===b._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var d=a('<div id="'+c+'" class="'+b.toThemeProperty("jqx-popover")+'"><div class="'+b.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+b.toThemeProperty("jqx-popover-title")+'"></div><div class="'+b.toThemeProperty("jqx-popover-content")+'"></div></div>');a("body").append(d);var e=b.host.data();b.host.detach(),b.host=d,b.host.data(e),b.element=d[0],b.element.id=c,b._popover=a("#"+c);var f=b._popover.find(".jqx-popover-title");f.append(b.title);var g=b._popover.find(".jqx-popover-content");if(g.append(b._content),b._popover.hide(),b._removeHandlers(),b._addHandlers(),b._popover.addClass(b.position),f.addClass(b.toThemeProperty("jqx-widget-header")),b._popover.addClass(b.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),b.showArrow?(b._popover.addClass(b.toThemeProperty("jqx-popover-arrow-"+b.position)),b._popover.find(".jqx-popover-arrow").css("display","block")):b._popover.find(".jqx-popover-arrow").css("display","none"),b.rtl&&(f.addClass(b.toThemeProperty("jqx-rtl")),f.css("direction","rtl"),g.css("direction","rtl")),b.showCloseButton){var h=a('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),i=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');h.append(i),f.append(h),f.css("min-height","16px"),h.addClass(b.toThemeProperty("jqx-popover-close-button")),b.closeButton=i,b.rtl&&h.addClass(b.toThemeProperty("jqx-popover-close-button-rtl"))}if(b.arrowOffsetValue)if("bottom"==b.position||"top"==b.position){var j=b._popover.find(".jqx-popover-arrow").css("margin-left");b._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(j)+b.arrowOffsetValue)}else{var k=b._popover.find(".jqx-popover-arrow").css("margin-top");b._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(k)+b.arrowOffsetValue)}(b.width||b.height)&&(b._popover.css("width",b.width),b._popover.css("height",b.height))},refresh:function(a){this.render()},destroy:function(){var a=this;0!==a.length&&(a._removeHandlers(),a._popover.remove(),a._removeModalBackground())},propertyChangedHandler:function(a,b,c,d){var e=this;e.render()},_stickToToggleElement:function(){var a=this;a._popover.css("left","0px"),a._popover.css("top","0px");var b=a._toggleElement,c=b.offset(),d=b.outerHeight(),e=b.outerWidth(),f=a._popover.height(),g=a._popover.width();switch(a.position){case"left":a._popoverTop=c.top-f/2+d/2,a._popoverLeft=c.left-a._popover.outerWidth();break;case"right":a._popoverTop=c.top-f/2+d/2,a._popoverLeft=c.left+e;break;case"top":a._popoverTop=c.top-a._popover.outerHeight(),a._popoverLeft=c.left-g/2+e/2;break;case"bottom":a._popoverTop=c.top+d,a._popoverLeft=c.left-g/2+e/2}var h=a.offset?parseFloat(a.offset.left):0,i=a.offset?parseFloat(a.offset.top):0;a._popover.css("top",i+a._popoverTop),a._popover.css("left",h+a._popoverLeft)},open:function(){function a(){c._popover.show(),c._raiseEvent("0"),c._isOpen=!0}function b(){c.initContent&&c._init===!1&&(c.initContent(),c._init=!0,c._stickToToggleElement())}var c=this;if(c._stickToToggleElement(),c._ie7===!0)return a(),void b();switch(c.animationType){case"fade":c._popover.fadeIn(c.animationOpenDelay,function(){c._raiseEvent("0"),b(),c._isOpen=!0});break;case"none":a(),b()}c._makeModalBackground()},close:function(){function a(){b._popover.hide(),b._raiseEvent("1"),b._isOpen=!1}var b=this;if(b._isOpen){if(b._ie7===!0)return void a();switch(b.animationType){case"fade":b._popover.fadeOut(b.animationCloseDelay,function(){b._raiseEvent("1"),b._isOpen=!1});break;case"none":a()}b._removeModalBackground()}},_raiseEvent:function(b,c){void 0===c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,e.args=c,e.preventDefault&&e.preventDefault();var f=this._popover.trigger(e);return f},_makeModalBackground:function(){var b=this;b.isModal===!0&&(b.modalBackground=a("<div></div>"),b.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),a(document.body).prepend(b.modalBackground),a(document.body).addClass(b.toThemeProperty("jqx-unselectable")),b.host.addClass(b.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){var b=this;b.isModal===!0&&void 0!==b.modalBackground&&(b.modalBackground.remove(),a(document.body).removeClass(b.toThemeProperty("jqx-unselectable")),b.host.removeClass(b.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var b=this,c=b.element.id;b.addHandler(a(document),"keydown.jqxPopover"+c,function(a){27==a.keyCode&&b.close()}),b.addHandler(a(document),"click.jqxPopover"+c,function(c){b.closeButton&&c.target==b.closeButton[0]&&b.close(),b.autoClose===!0&&(c.target==b.element||a(c.target).ischildof(b._popover)||b.isModal||b.close())}),b.addHandler(a(window),"resize.jqxPopover"+c,function(a){"none"!=b.element.style.display&&b._stickToToggleElement()}),b.selector&&b.addHandler(b._toggleElement,"click.jqxPopover"+c,function(a){b.autoClose||a.stopPropagation(),"none"!=b.host.css("display")?b.close():b.open()})},_removeHandlers:function(){var b=this,c=b.element.id;b.removeHandler(a(document),"click.jqxPopover"+c),b.selector&&b.removeHandler(b._toggleElement,"click.jqxPopover"+c),b.removeHandler(a(document),"keydown.jqxPopover"+c),b.removeHandler(a(window),"resize.jqxPopover"+c)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxProgressBar","",{}),a.extend(a.jqx._jqxProgressBar.prototype,{defineInstance:function(){var b={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===a.jqx._jqxProgressBar.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){var c=this;if(this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),a.jqx.aria(this),null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)?this.host.width(this.width):this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)?this.host.height(this.height):this.host.height(this.height),this.valueDiv=a("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=a("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=a("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.$dataBinders$)for(var d in this.$dataBinders$){var e=this.$dataBinders$[d];if(e){var f=this.bindDataBinder(d);e.unbindCallbackFunc(this.element.id),e.bindCallbackFunc(this.element.id,f),e.dataBind()}}this.refresh(),a.jqx.utilities.resize(this.host,function(){c.refresh()})},bindDataBinder:function(a){var b=this;if("value"==a)return function(a,c){"load"==a?c.records&&(b.value=c.records):"update"==a?b.val(c.value):"reset"==a&&(b.value=0,b.refresh())}},_addRanges:function(){if(0!=this.colorRanges.length)for(var a="vertical"==this.orientation,b=this.colorRanges,c=b.length,d=0;d<c;d++){var e=b[d].stop,f=b[d].color;this._createColorElements(e,f,a,c-d,d)}},_refreshColorElements:function(){for(var a=this.host.outerWidth(),b=this.host.outerHeight(),c="vertical"==this.orientation,d=0;d<this.colorRanges.length;d++){var e=this.colorRanges[d].element;if(!e)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var f=this.colorRanges[d].stop;f>Math.min(this.max,this.value)&&(f=Math.min(this.max,this.value));var g=100*(f-this.min)/(this.max-this.min);c?size=b*g/100:size=a*g/100,size+="px",c?(e.css("height",size),"reverse"==this.layout?e.css("bottom",0):e.css("top",0)):(e.css("width",size),(this.rtl||"reverse"==this.layout)&&e.css("right","0px"))}},_createColorElements:function(b,c,d,e,f){var g;b>Math.min(this.max,this.value)&&(b=Math.min(this.max,this.value));var h=100*b/this.max;this.host.width(),this.host.height();g=d?this.host.outerHeight()*h/100:this.host.outerWidth()*h/100,g+="px";var i=a(this.valueDiv).parent()[0];if(i.style.position="relative",d=d||!1){var j=a("<div/>");j.attr("class","jqx-progressbar-range"),j.css("width","100%"),j.css("height",g),j.css("background-color",c),j.css("position","absolute"),j.css("z-index",e),"reverse"==this.layout?j.css("bottom",0):j.css("top",0),j.appendTo(i)}else{var j=a("<div/>");j.attr("class","jqx-progressbar-range"),j.css("width",g),j.css("height","100%"),j.css("background-color",c),j.css("position","absolute"),j.css("z-index",e),j.css("top","0px"),this.rtl&&j.css("right","0px"),j.appendTo(i)}this.colorRanges[f].element=j},resize:function(a,b){this.width=a,this.height=b,this.refresh()},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),
this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove(),this.host.remove()},_raiseevent:function(b,c,d){if(void 0!=this.isInitialized&&1==this.isInitialized){var e=this.events[b],f=new a.Event(e);f.previousValue=c,f.currentValue=d,f.owner=this;var g=this.host.trigger(f);return g}},actualValue:function(b){return void 0===b?this._value():(this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(b),a.jqx.aria(this,"aria-valuenow",b),a.jqx.setvalueraiseevent(this,"value",b),this._value())},val:function(a){return 0==arguments.length||"object"==typeof a?this.actualValue():this.actualValue(a)},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2==Object.keys(c).length&&(a.host.width(c.width),a.host.height(c.height),a.refresh())},propertyChangedHandler:function(b,c,d,e){if(this.isInitialized&&d!=e&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)){var f=this;"colorRanges"==c&&(b.host.find(".jqx-progressbar-range").remove(),b._addRanges()),"min"==c&&b.value<e?b.value=e:"max"==c&&b.value>e&&(b.value=e),"value"===c&&void 0!=f.value&&(f.value=e,f.oldValue=d,a.jqx.aria(b,"aria-valuenow",e),(e<f.min||e>f.max)&&f._raiseevent(1,d,e),f.refresh()),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"renderText"==c||"orientation"==c||"layout"==c||"showText"==c||"min"==c||"max"==c?f.refresh():"width"==c&&void 0!=f.width?void 0==f.width||isNaN(f.width)||(f.host.width(f.width),f.refresh()):"height"==c&&void 0!=f.height&&(void 0==f.height||isNaN(f.height)||(f.host.height(f.height),f.refresh())),"disabled"==c&&f.refresh()}},_value:function(){var a=this.value;if("number"!=typeof a){var b=parseInt(a);a=isNaN(b)?0:b}return Math.min(this.max,Math.max(this.min,a))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.width();return c.remove(),d},_textheight:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.height();return c.remove(),d},_initialRender:!0,refresh:function(b){if(b!==!0){var c=this.actualValue(),d=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),a(this.element.children[0]).show(),!isNaN(c)&&!isNaN(d)){this.oldValue!==c&&(this._raiseevent(0,this.oldValue,c),this._raiseevent(3,this.oldValue,c),this.oldValue=c);var e=this.oldValue,f=this.host.outerHeight(),g=this.host.outerWidth();null!=this.width&&(g=parseInt(this.width)),null!=this.height&&(f=parseInt(this.height)),this._refreshColorElements();var h=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight())/2;isNaN(d)&&(d=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical")));var i=this;try{var j=this.element.children[0];if(a(j)[0].style.position="relative","horizontal"==this.orientation){a(j).toggle(c>=this.min);var g=this.host.outerWidth()*d/100,k=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(a(j)[0].style.left=this.host.width()+"px",a(j)[0].style.width=0),k=this.host.outerWidth()-g),a(j).stop(),a(j).animate({width:g,left:k+"px"},this.animationDuration,function(){i._value()===i.max&&i._raiseevent(2,e,i.max)})}else{a(j).toggle(c>=this.min);var f=this.host.height()*d/100,l=0;"reverse"==this.layout&&(this._initialRender&&(a(j)[0].style.top=this.host.height()+"px",a(j)[0].style.height=0),l=this.host.height()-f),a(j).stop(),a(j).animate({height:f,top:l+"px"},this.animationDuration,function(){var b=i._percentage();isNaN(b)&&(b=0),b.toFixed(0)==i.min&&(a(j).hide(),i._value()===i.max&&i._raiseevent(2,e,i.max))})}}catch(m){}this._initialRender=!1,this.feedbackElement.html(d.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(d.toFixed(0)+"%",d)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),this.colorRanges.length>0&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var n=this.feedbackElement.height(),o=this.feedbackElement.width(),p=Math.floor(h-parseInt(o)/2);this.feedbackElement.css({left:p,"margin-top":-parseInt(n)/2+"px"})}}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxRadioButton","",{}),a.extend(a.jqx._jqxRadioButton.prototype,{defineInstance:function(){var b={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,changeType:null,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===a.jqx._jqxRadioButton.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){var b=this;b._createFromInput("RadioButton"),b.render()},_createFromInput:function(b){var c=this;if("input"==c.element.nodeName.toLowerCase()){c.field=c.element,c.field.className&&(c._className=c.field.className);var d={title:c.field.title};c.field.value&&(d.value=c.field.value),c.field.checked&&(d.checked=!0),c.field.id.length?d.id=c.field.id.replace(/[^\w]/g,"_")+"_"+b:d.id=a.jqx.utilities.createId()+"_"+b;var e=c.element.nextSibling,f=!1;!e||"#text"!=e.nodeName&&"span"!=e.nodeName||(f=!0);var g=0,h=a("<div></div>",d);if(f){h.append(e);var i=a("<span>"+a(e).text()+"</span>");i.appendTo(a(document.body)),g+=i.width(),i.remove()}h[0].style.cssText=c.field.style.cssText,c.width||(c.width=a(c.field).width()+g+10),c.height||(c.height=a(c.field).outerHeight()+10),a(c.field).hide().after(h);var j=c.host.data();if(c.host=h,c.host.data(j),c.element=h[0],c.element.id=c.field.id,c.field.id=d.id,c._className&&(c.host.addClass(c._className),a(c.field).removeClass(c._className)),c.field.tabIndex){var k=c.field.tabIndex;c.field.tabIndex=-1,c.element.tabIndex=k}}},render:function(){this.setSize();this.propertyChangeMap.width=function(a,b,c,d){a.setSize()},this.propertyChangeMap.height=function(a,b,c,d){a.setSize()},this.radiobutton&&this.radiobutton.remove(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),null==this.boxSize&&(this.boxSize=13);var b=parseInt(this.boxSize)+"px",c="13px",d=Math.floor((parseInt(this.boxSize)-13)/2),e=d;d+="px",e+="px";var f=parseInt(this.boxSize)/2+"px";"13px"!=this.boxSize?this.radiobutton=a('<div><div style="width: '+b+"; height: "+b+';"><span style="width: '+c+"; height: "+c+';"></span></div></div>'):this.radiobutton=a('<div><div style="width: '+b+"; height: "+b+';"><span style="width: '+f+"; height: "+f+';"></span></div></div>'),this.host.attr("role","radio"),this.host.prepend(this.radiobutton),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=a('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=a(this.radiobutton[0].firstChild.firstChild),this.box=this.radiobutton,this._supportsRC=!0,a.jqx.browser.msie&&a.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto");var g=this.element.getAttribute("checked");if("checked"!=g&&"true"!=g&&1!=g||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),a.jqx.aria(this),this._centerBox(),this.$dataBinders$)for(var h in this.$dataBinders$){var i=this.$dataBinders$[h];if(i){var j=this.bindDataBinder(h);i.unbindCallbackFunc(this.element.id),i.bindCallbackFunc(this.element.id,j),i.dataBind()}}},_centerBox:function(){if(this.height&&this.height.toString().indexOf("%")==-1&&this.box){var a=parseInt(this.height);this.host.css("line-height",a+"px");var b=a-parseInt(this.boxSize)-1;b/=2,this.box.css("margin-top",parseInt(b))}},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b)},refresh:function(a){a||(this.setSize(),this._render())},resize:function(a,b){this.width=a,this.height=b,this.setSize()},setSize:function(){null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)?null!=this.width&&this.width.toString().indexOf("%")!=-1&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)?null!=this.height&&this.height.toString().indexOf("%")!=-1&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var a=this;this.addHandler(this.box,"click",function(b){if(!a.disabled&&!a.enableContainerClick)return a.changeType="mouse",a.toggle("click"),b.preventDefault(),!1}),this.addHandler(this.host,"keydown",function(b){if(!a.disabled&&!a.locked&&32==b.keyCode)return a.changeType="keyboard",a.toggle("click"),b.preventDefault(),!1}),this.addHandler(this.host,"click",function(b){if(!a.disabled&&a.enableContainerClick)return a.changeType="mouse",a.toggle("click"),b.preventDefault(),!1}),this.addHandler(this.host,"selectstart",function(b){!a.disabled&&a.enableContainerClick&&b.preventDefault()}),this.addHandler(this.host,"mouseup",function(b){!a.disabled&&a.enableContainerClick&&b.preventDefault()}),this.addHandler(this.host,"focus",function(b){if(!a.disabled&&a.enableContainerClick&&!a.locked)return a.box.addClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.addClass(a.toThemeProperty("jqx-fill-state-focus")),b.preventDefault(),!1}),this.addHandler(this.host,"blur",function(b){if(!a.disabled&&a.enableContainerClick&&!a.locked)return a.box.removeClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.removeClass(a.toThemeProperty("jqx-fill-state-focus")),b.preventDefault(),!1}),this.addHandler(this.host,"mouseenter",function(b){if(!a.disabled&&a.enableContainerClick&&!a.locked)return a.box.addClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.addClass(a.toThemeProperty("jqx-fill-state-hover")),b.preventDefault(),!1}),this.addHandler(this.host,"mouseleave",function(b){if(!a.disabled&&a.enableContainerClick&&!a.locked)return a.box.removeClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.removeClass(a.toThemeProperty("jqx-fill-state-hover")),b.preventDefault(),!1}),this.addHandler(this.box,"mouseenter",function(){a.disabled||a.enableContainerClick||(a.box.addClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.addClass(a.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){a.disabled||a.enableContainerClick||(a.box.removeClass(a.toThemeProperty("jqx-radiobutton-hover")),a.box.removeClass(a.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(a){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates("load")},val:function(a){return 0==arguments.length||"object"==typeof a?this.checked:("string"==typeof a?("true"==a&&this.check("api"),"false"==a&&this.uncheck("api"),""==a&&this.indeterminate("api")):(1==a&&this.check("api"),0==a&&this.uncheck("api"),null==a&&this.indeterminate("api")),this.checked)},check:function(b){this.checked=!0;var c=this;this.checkMark.removeClass(),"load"!=b&&this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(this.checked),this.host.addClass("jqx-radiobutton-checked"),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),a.jqx.browser.msie?this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")):(this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var d=a.find(".jqx-radiobutton");if(null==this.groupName&&(this.groupName=""),a.each(d,function(){var d=a(this).jqxRadioButton("groupName");d==c.groupName&&this!=c.element&&("load"==b?a(this).jqxRadioButton("uncheck",b):a(this).jqxRadioButton("uncheck","api"))}),this._raiseEvent("0"),this._raiseEvent("3",{type:b,checked:!0}),0==this.checkMark.height()){var e=parseInt(this.boxSize)/2;this.checkMark.height(e),this.checkMark.width(e)}else if("13px"!=this.boxSize){var e=parseInt(this.boxSize)/2;this.checkMark.height(e),this.checkMark.width(e),this.checkMark.css("margin-left",e/2-1),this.checkMark.css("margin-top",e/2-1)}this.input.val(this.checked),a.jqx.aria(this,"aria-checked",this.checked)},uncheck:function(b){var c=this.checked;this.checked=!1;var d=this;"load"!=b&&this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(this.checked),this.host.removeClass("jqx-radiobutton-checked"),a.jqx.browser.msie?d.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){d.checkMark.removeClass()})),c&&(this._raiseEvent("1"),this._raiseEvent("3",{type:b,checked:!1})),this.input.val(this.checked),a.jqx.aria(this,"aria-checked",this.checked)},indeterminate:function(b){var c=this.checked;this.checked=null,this.checkMark.removeClass(),"load"!=b&&this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(this.checked),a.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=c&&(this._raiseEvent("2"),this._raiseEvent("3",{type:b,checked:null})),this.input.val(this.checked),a.jqx.aria(this,"aria-checked","undefined")},toggle:function(a){if(!this.disabled&&!this.locked){var b=this.checked;1==this.checked?this.checked=!this.hasTreeStates||null:null==this.checked?this.checked=!1:this.checked=!0,b!=this.checked&&this.updateStates(a),this.input.val(this.checked)}},updateStates:function(a){this.checked?this.check(a):0==this.checked?this.uncheck(a):null==this.checked&&this.indeterminate(a)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),a.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,a.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,c||(c={}),c.type=this.changeType,this.changeType=null,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f},propertiesChangedHandler:function(a,b,c){c.width&&c.height&&2==Object.keys(c).length&&a.setSize()},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)){if(c!=this.enableContainerClick||this.disabled||this.locked||(e?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==c&&(e?(b.box.addClass(b.toThemeProperty("jqx-radiobutton-rtl")),b.host.addClass(b.toThemeProperty("jqx-rtl"))):(b.box.removeClass(b.toThemeProperty("jqx-radiobutton-rtl")),b.host.removeClass(b.toThemeProperty("jqx-rtl")))),"boxSize"==c&&b.render(),"checked"==c)switch(e){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==c&&a.jqx.utilities.setTheme(d,e,this.host),"disabled"==c&&(e?this.disable():this.enable())}},bindDataBinder:function(a){var b=this;if("value"==a)return function(a){var c,d=arguments[1];"update"==a?(c=void 0!==d.value&&d.value,b.checked=c,b.updateStates(c)):"load"==a&&(c=void 0!==d.records&&d.records,b.checked=c,b._render())}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxRangeSelector","",{}),a.extend(a.jqx._jqxRangeSelector.prototype,{defineInstance:function(){var b={width:400,height:100,min:0,max:100,range:{from:0,to:1/0,min:0,max:1/0},majorTicksInterval:10,minorTicksInterval:1,showMajorTicks:!0,showMinorTicks:!1,snapToTicks:!0,labelsFormat:null,markersFormat:null,showLabels:!0,labelsOnTicks:!0,markersPosition:"top",labelsFormatFunction:null,groupLabelsFormatFunction:null,markersFormatFunction:null,showGroupLabels:!1,showMarkers:!0,resizable:!0,moveOnClick:!0,disabled:!1,rtl:!1,padding:"auto",events:["change"]};return this===a.jqx._jqxRangeSelector.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){var c=this;if(this._isTouchDevice=a.jqx.mobile.isTouchDevice(),!a.jqx.dataAdapter)throw new Error("jqxRangeSelector: Missing reference to the following module: 'jqxdata.js'.");var d=a.jqx.isHidden(this.host);if(this.render(),this.$dataBinders$)for(var e in this.$dataBinders$){var f=this.$dataBinders$[e];if(f){var g=this.bindDataBinder(e);f.unbindCallbackFunc(this.element.id),f.bindCallbackFunc(this.element.id,g),f.dataBind()}}var h=this.host.width(),i=this.host.height();a.jqx.utilities.resize(this.host,function(){var a=c.host.width(),b=c.host.height();c.range=c.getRange(),d?(c.refresh(),d=!1):h==a&&i==b||c.refresh(),h=c.host.width(),i=c.host.height()})},bindDataBinder:function(a){var b=this;if("value"==a)return function(a,c){var d;if("update"==a)d=c.value||{},b.setRange(d.from,d.to);else if("load"==a){d=c.records||{};var e=void 0!=d.from?d.from:b.min,f=void 0!=d.to?d.to:b.max;"date"==b._dataType&&(e=new Date(d.from),f=new Date(d.to)),b.range={from:e,to:f},b.refresh()}}},render:function(){(this.host.children().length>1||this.rangeSelector)&&(this._removeHandlers(),this.rangeSelector&&this.rangeSelector.remove()),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-rangeselector")),this.host.children(":eq(0)").addClass(this.toThemeProperty("jqx-rangeselector-content")),this._id=this.element.id,"string"==typeof this.min||this.min instanceof Date?this._dataType="date":this._dataType="number",this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider()},refresh:function(a){1!=a&&(this.host.children(".jqx-rangeselector-ticks-container").remove(),this._removeHandlers(),this._privateProperties(),this._checkProperties(),this._setSize(),this._scale(),this._initSlider())},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.host.remove()},setRange:function(a,b){if(a>b)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var c=this._getValue();if(c.from!=a||c.to!=b){var d="number"==this._dataType?"numeric":"date",e="The set values are in the wrong format. Please set "+d+" values.";if("string"==typeof a||a instanceof Date){if("number"==this._dataType)throw new Error(e)}else if("date"==this._dataType)throw new Error(e);a=this._validateInput(a),b=this._validateInput(b),a>this._max&&(a=this._max),a<this._min&&(a=this._min),b>this._max&&(b=this._max),b<this._min&&(b=this._min);var f=b-a;f>this._range._max?b=a+this._range._max:f<this._range._min&&(b=a+this._range._min);var g=this._valuesArray.indexOf(a),h=this._valuesArray.indexOf(b),i=this._ticksArray[g],j=this._ticksArray[h],k=Math.abs(j-i);this.slider[0].style.width=k+"px";var l=this.rtl?j:i;if(this.slider[0].style.left=l,this._moveSlider(l),"date"==this._dataType)var a=new Date(a),b=new Date(b);if(this.$dataBinders$&&this.$dataBinders$.value){var m={from:a,to:b};a instanceof Date&&(m.from=a.getTime()),b instanceof Date&&(m.to=b.getTime()),this.$dataBinders$.value.updateItem(m)}this._raiseEvent("0",{type:null,from:a,to:b})}},val:function(a){return 0==arguments.length?this.getRange():void(void 0!=a.from&&this.setRange(a.from,a.to))},getRange:function(){var a=this._getValue();return a},propertyChangedHandler:function(b,c,d,e){switch(c){case"showMinorTicks":1==e?a("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","visible"):a("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","hidden");break;case"showMarkers":var f=a("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow");1==e?f.css("visibility","visible"):f.css("visibility","hidden");break;default:this.refresh()}},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;try{var f=this.host.trigger(e)}catch(g){}return f},_setSize:function(){this.host.width(this.width),this.host.height(this.height)},resize:function(a,b){this.width=a,this.height=b,this.refresh()},_scale:function(){var a=this.host.width(),b=this._max-this._min;this._unitPerPixel=parseFloat((b/a).toFixed(4)),this._pixelPerUnit=a/b,this._minWidth=this._roundNumber(this._range._min/this._unitPerPixel),this._maxWidth=this._roundNumber(this._range._max/this._unitPerPixel),this._minWidth=parseInt(this._minWidth),this._maxWidth=parseInt(this._maxWidth),"number"==this._dataType&&(this._majorTicksCount=b/this.majorTicksInterval,this._majorTicksCount=Math.floor(this._majorTicksCount)+1,this._majorTicksDistance=parseInt(this._roundNumber(a/(b/this.majorTicksInterval))),this._unitsCount=b/this.minorTicksInterval,this._unitsCount=Math.floor(this._unitsCount)+1,this._unitsDistance=parseInt(this._roundNumber(a/(b/this.minorTicksInterval)))),this._addTicks()},_addTicks:function(){this.host.append("<div id='"+this._id+"TicksContainer' class='jqx-rangeselector-ticks-container'></div>"),this.rangeSelector=a("#"+this._id+"TicksContainer"),this._majorTicksArray=new Array,this._ticksArray=new Array,this._valuesArray=new Array;var b=new String;a("#"+this._id+"TicksContainer").append("<div id='labelPlaceholder' style='visibility: hidden; position: absolute;'></div>");var c=this.rangeSelector.height();b="number"==this._dataType?this._addNumericTicks(c):this._addDateTicks(c);var d=0;this.showLabels&&(d+=a("#labelPlaceholder").outerHeight()+6),"number"!=this._dataType&&this.showGroupLabels&&(d+=a("#labelPlaceholder").outerHeight()+6),"auto"==this.padding&&this.host.css("padding-bottom",d),a("#labelPlaceholder").remove(),a("#"+this._id+"TicksContainer").append(b),this._ticksArray.sort(function(a,b){return a-b});for(var e=1;e<this._ticksArray.length;e++)this._ticksArray[e]=this._roundNumber(this._ticksArray[e]);if(this._valuesArray.sort(function(a,b){return a-b}),"number"==this._dataType)for(var e=1;e<this._valuesArray.length;e++)this._valuesArray[e]=this._roundNumber(this._valuesArray[e],"marker",!0);for(var e=1;e<this._ticksArray.length;e++)this._ticksArray[e-1]==this._ticksArray[e]&&(this._ticksArray.splice(e,1),this._valuesArray.splice(e,1));this.rtl&&(this._valuesArray=this._valuesArray.reverse())},_addNumericTicks:function(b){for(var c=this,d=new String,e=0,f=this._min,g=this._max,h=0;h<this._majorTicksCount;h++){var i=this._id+"LabelTick"+(h+1);h==this._majorTicksCount-1&&(e=this.host.width());var j=c.showMajorTicks?"visible":"hidden";d+="<div id='"+i+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+j+"; left: "+e+"px;'></div>",this._ticksArray.push(e),this._majorTicksArray.push(e);var k=this._id+"Label"+(h+1),l=f;this._valuesArray.push(parseFloat(l.toFixed(4))),c.rtl&&(l=g),l=this._formatOutput(l,this.labelsFormat,this.minorTicksInterval>=1?0:2,"label"),a("#labelPlaceholder").html(l);var m=a("#labelPlaceholder").width(),n=c.showLabels?"visible":"hidden";c.labelsOnTicks&&(d+="<div id='"+k+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+n+"; left: "+(e-m/2)+"px; top: "+b+"px;'>"+l+"</div>");var o=e;f+=this.majorTicksInterval,g-=this.majorTicksInterval;var e=(f-c._min)/c._unitPerPixel;if(e=parseInt(e),!this.labelsOnTicks&&h<this._majorTicksCount-1){var p=Math.abs(o-e);d+="<div id='"+k+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+n+"; left: "+(o+p/2-m/2)+"px; top: "+b+"px;'>"+l+"</div>"}}for(var e=0,q=this.showMinorTicks?"visible":"hidden",f=this._min,h=0;h<this._unitsCount;h++){var i=this._id+"MinorTick"+(h+1);h==this._unitsCount-1&&(e=this.host.width()),d+="<div id='"+i+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+q+"; left: "+e+"px;'></div>";var r=f;this._valuesArray.indexOf(parseFloat(r.toFixed(4)))===-1&&(this._valuesArray.push(parseFloat(r.toFixed(4))),this._ticksArray.push(e)),f+=this.minorTicksInterval;var e=(f-c._min)/c._unitPerPixel;e=parseInt(e)}return d},_getMillisecondsByInterval:function(a){var b={};return"year"==a||a.years?(b.divisor=a.years?a.years:1,31536e6*b.divisor):"month"==a||a.months?(b.divisor=a.months?a.months:1,2592e6*b.divisor):"week"==a||a.weeks?(b.divisor=a.weeks?a.weeks:1,6048e5*b.divisor):"day"==a||a.days?(b.divisor=a.days?a.days:1,864e5*b.divisor):"hour"==a||a.hours?(b.divisor=a.hours?a.hours:1,36e5*b.divisor):"minute"==a||a.minutes?(b.divisor=a.minutes?a.minutes:1,60*b.divisor*1e3):"second"==a||a.seconds?(b.divisor=a.seconds?a.seconds:1,1e3*b.divisor):"millisecond"==a||a.milliseconds?(b.divisor=a.milliseconds?a.milliseconds:1,1*b.divisor):b},_addDateTicks:function(b){var c=this,d=new String,e=function(a){var b="majorTicksInterval"==a?c.majorTicksInterval:c.minorTicksInterval,d=new Object;return"year"==b||b.years?(d.period="year",d.interval=864e5,d.divisor=b.years?b.years:1,d.value=31536e6*d.divisor):"month"==b||b.months?(d.period="month",d.interval=864e5,d.divisor=b.months?b.months:1,d.value=2592e6*d.divisor):"week"==b||b.weeks?(d.period="week",d.interval=864e5,d.divisor=b.weeks?b.weeks:1,d.value=6048e5*d.divisor):"day"==b||b.days?(d.period="day",d.interval=36e5,d.divisor=b.days?b.days:1,d.value=864e5*d.divisor):"hour"==b||b.hours?(d.period="hour",d.interval=6e4,d.divisor=b.hours?b.hours:1,d.value=36e5*d.divisor):"minute"==b||b.minutes?(d.period="minute",d.interval=6e4,d.divisor=b.minutes?b.minutes:1,d.value=60*d.divisor*1e3):"second"==b||b.seconds?(d.period="second",d.interval=1e3,d.divisor=b.seconds?b.seconds:1,d.value=1e3*d.divisor):("millisecond"==b||b.milliseconds)&&(d.period="millisecond",d.interval=1,d.divisor=b.milliseconds?b.milliseconds:1,d.value=1*d.divisor),d},f=function(a,b){var c=new Date(a),d=c.getDate(),e="year"==b&&0==c.getMonth()&&1==d,f="month"==b&&1==d,g="week"==b&&0==c.getDay(),h="day"==b&&0==c.getHours(),i="hour"==b&&0==c.getMinutes(),j="minute"==b&&0==c.getSeconds(),k="minute"==b&&0==c.getMilliseconds(),l="millisecond"==b;return!!(e||f||g||h||i||j||k||l)},g=function(e,f,g){var h=(e-c._min)/c._unitPerPixel;c.rtl&&(e="majorTicksInterval"==f?c._dateMajorTicks[c._dateMajorTicks.length-g]:c._dateMinorTicks[c._dateMinorTicks.length-g]),h=parseInt(h);var i=e;if(c._valuesArray.indexOf(i)===-1&&(c._ticksArray.push(h),c._valuesArray.push(i),"majorTicksInterval"==f&&c._majorTicksArray.push(h)),"majorTicksInterval"==f){var j=c._id+"LabelTick"+g,k=c.showMajorTicks?"visible":"hidden";d+="<div id='"+j+"' class='"+c.toThemeProperty("jqx-rangeselector-ticks")+" "+c.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+k+"; left: "+h+"px;'></div>";var l=i;l=c._formatOutput(l,c.labelsFormat,c.labelPrecision,"label"),a("#labelPlaceholder").html(l);var m=a("#labelPlaceholder").width(),n=c._id+"Label"+g,o=c.showLabels?"visible":"hidden";if(c.labelsOnTicks)c.labelsOnTicks&&(d+="<div id='"+n+"' class='"+c.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+o+"; left: "+(h-m/2)+"px; top: "+b+"px;'>"+l+"</div>");else{var p=c._getMillisecondsByInterval(c.majorTicksInterval)/c._unitPerPixel,q=p/2;d+="<div id='"+n+"' class='"+c.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+o+"; left: "+(q+h-m/2)+"px; top: "+b+"px;'>"+l+"</div>"}}else{var k=c.showMinorTicks?"visible":"hidden",r=c._id+"MinorTick"+g;d+="<div id='"+r+"' class='"+c.toThemeProperty("jqx-rangeselector-ticks")+" "+c.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+c.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+k+"; left: "+h+"px;'></div>"}},h=function(a,b,d){for(var e=0,h=1,i=new Date(c._min).getHours(),j=864e5==b.interval,k=new Array,l=c._min;l<=c._max;l+=b.interval){if(1==j){var m=new Date(l).getHours();if(i!=m){var n;1==m?n=1:23==m&&(n=-1),l-=36e5*n,i=new Date(l).getHours()}}var o=f(l,b.period);1==o&&(e%b.divisor==0&&(d?k.push(l):g(l,a,h,b.interval),h++),e++)}return k};return c._dateMajorTicks=h("majorTicksInterval",e("majorTicksInterval"),!0),c._dateMinorTicks=h("minorTicksInterval",e("minorTicksInterval"),!0),h("majorTicksInterval",e("majorTicksInterval")),h("minorTicksInterval",e("minorTicksInterval")),1==this.showGroupLabels&&this.showLabels&&this._addGroupLabels(a("#labelPlaceholder").height()+b),d},_addGroupLabels:function(b){var c=this,d=new Date(this._min),e=new Date(this._max);if(e.getFullYear()-d.getFullYear()>0)var f="year",g=864e5;else if(e.getMonth()-d.getMonth()>0)var f="month",g=864e5;else{if(!(e.getDate()-d.getDate()>0))return;var f="day",g=36e5}for(var h=function(b){var d,e=new Date(b),g=e.getFullYear(),h=e.getMonth(),i=e.getDate(),j=!0;"year"==f&&0==h&&1==i?d=g:"month"==f&&1==i?(d=a.jqx.dataFormat.formatdate(e,"MMMM"),0==h&&(d=g+" "+d)):"day"==f&&0==e.getHours()?d=a.jqx.dataFormat.formatdate(e,"dddd"):j=!1;var k;k=1==j&&c.groupLabelsFormatFunction?c.groupLabelsFormatFunction(d,e):d;var l={check:j,value:k};return l},i=new String,j=this.toThemeProperty("jqx-rangeselector-group-labels-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal"),k=1,l=this._min;l<this._max;l+=g){var m=h(l);if(1==m.check){var n=(l-this._min)/this._unitPerPixel;
i+="<div class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='left: "+n+"px; top: "+b+"px;'><div class='"+j+"'></div><div id='"+this._id+"GroupLabel"+k+"' class='"+this.toThemeProperty("jqx-rangeselector-group-labels")+"' style='margin-left: 5px;'>"+m.value+"</div></div>",k++}}a("#"+this._id+"TicksContainer").append(i)},_updateCursor:function(a,b){var c=this.element.style.cursor,d=this.slider.offset().left,e=parseInt(this.slider[0].style.width),f=d+e;a>d-5&&a<d+5||a>f-5&&a<f+5?""!=c&&"auto"!=c||(this.element.style.cursor="e-resize"):"e-resize"==c&&(this.element.style.cursor="auto")},_handleMouseMove:function(b){var c=this,d=c.slider,e=b.pageX,f=b.pageY;if(c._isTouchDevice){var g=a.jqx.position(b);e=g.left,f=g.top}var h=c._hostOffset.left,i=c._hostWidth;if(c.resizable&&!c.dragging&&"none"==c.resizeDirection&&e>=h&&e<=h+i&&f>=c._hostOffset.top&&f<=c._hostOffset.top+c._hostHeight&&this._updateCursor(e,f),!c.isMouseDown)return!0;if(c._isTouchDevice&&(f<c._hostOffset.top||f>c._hostOffset.top+c._hostHeight))return!0;var j=c._findNearestTick(c._sliderLeftOffset+e-c._mouseDownX),k=parseInt(j);if(k<0)return!0;k<0&&(k=0);var l=parseInt(d[0].style.width),m=function(a){var b=parseInt(c._maxWidth),d=parseInt(c._minWidth);if(a<d||a>b)return!1;var e=parseInt(c.rightMarker[0].style.left),f=parseInt(c.leftMarker[0].style.left);return!(f>e)};if(1==c.resizable&&!c.dragging){var n=k*c._unitPerPixel+c._min;if("left"==c.resizeDirection||c.isLeftMarkerCaptured){var o=c.isLeftMarkerCaptured?c.leftMarker.outerWidth():0;e<h-o&&(e=h-o),e>h+i+o&&(e=h+i+o+1);var p=d[0].style.left,q=k-parseInt(p),r=parseInt(l-q);if(!m(r))if(e>c._mouseDownX){if(e=c.sliderRight-c._minWidth-h,r=c._minWidth,l==r)return!0;var j=c._findNearestTick(e);if(k=j,k<0)return!0;var n=(parseInt(p)*c._unitPerPixel+c._min,k*c._unitPerPixel+c._min)}else{if(!(0!=c._maxWidth&&e<c._mouseDownX&&r>c._maxWidth))return!0;if(e=c.sliderRight-c._maxWidth-h,r=c._maxWidth,l==r)return!0;var j=c._findNearestTick(e);if(k=j,k<0)return!0;var n=(parseInt(p)*c._unitPerPixel+c._min,k*c._unitPerPixel+c._min)}c.slider[0].style.left=k+"px",p!=d[0].style.left&&(c.slider[0].style.width=r+"px");var s=c._findNearestTick(k),t=c._valuesArray[c._ticksArray.indexOf(s)];void 0!=t?(c.leftMarkerValue[0].innerHTML=c._formatOutput(t,c.markersFormat,0,"left"),k!=s&&(c.slider[0].style.left=s+"px")):c.leftMarkerValue[0].innerHTML=c._formatOutput(n,c.markersFormat,0,"left"),c.oldX=e,c.moved=!0}else if("right"==c.resizeDirection||c.isRightMarkerCaptured){var o=c.isRightMarkerCaptured?c.rightMarker.outerWidth():0,u=!1,v=!1;e<h-o&&(e=h-o,v=!0),e>h+i+o&&(e=h+i+o,u=!0);var w=c._sliderInitialWidth,x=c._findNearestTick(w+c._sliderLeftOffset),y=c._findNearestTick(w+e-c._mouseDownX+c._sliderLeftOffset);if(y<0)return!0;var q=x-y,r=w-q;r<=0&&(q=w,r=0);var z=parseInt(c.element.style.width);c.element.style.width.indexOf("%")>=0&&(z=c.host.width()),(u||c._sliderLeftOffset+r>=z)&&(r=z-c._sliderLeftOffset,boundDetected=!0),r>parseInt(this._maxWidth)&&(r=parseInt(this._maxWidth)),r<parseInt(this._minWidth)&&(r=parseInt(this._minWidth)),c.slider[0].style.width=r+"px";var n=(c._sliderLeftOffset+r)*c._unitPerPixel+c._min,A=c._findNearestTick(c._sliderLeftOffset+r),B=c._valuesArray[c._ticksArray.indexOf(A)];void 0!=B?(c._sliderLeftOffset+r!=A&&(c.slider[0].style.width=A-c._sliderLeftOffset+"px"),c.rightMarkerValue[0].innerHTML=c._formatOutput(B,c.markersFormat,0,"right")):c.rightMarkerValue[0].innerHTML=c._formatOutput(n,c.markersFormat,0,"right"),c.oldX=e}c._layoutShutter(),c._layoutMarkers(),c.moved=!0}1==c.dragging&&(c._moveSlider(k,!0),c.oldX=e)},_moveSlider:function(a,b){var c=this;c.moved=!0;var d=parseInt(this.slider[0].style.width),e=parseInt(a+d),f=this._hostWidth,g=a;if(g<0&&(g=0,a=g),g+d>f&&(g=f-d,a=g),g>=0&&g+d<=f){this.slider[0].style.left=g+"px";var h=this._findNearestTick(g),i=this._majorTicksArray.indexOf(h)!=-1,j=this._valuesArray[this._ticksArray.indexOf(h)];if(void 0!=j){if(this.leftMarkerValue[0].innerHTML=this._formatOutput(j,this.markersFormat,0,"left"),a!=h&&i&&b){this.slider[0].style.left=h+"px";var e=parseInt(h+d)}}else this.leftMarkerValue[0].innerHTML=this._formatOutput(g*this._unitPerPixel+this._min,this.markersFormat,0,"left");var k=this._findNearestTick(e),l=this._valuesArray[this._ticksArray.indexOf(k)];if(void 0!=l){var m=this._majorTicksArray.indexOf(k)!=-1;if(this.rightMarkerValue[0].innerHTML=this._formatOutput(l,this.markersFormat,0,"right"),e!=k&&m&&i&&b){var n=k-h;this.slider[0].style.width=n+"px"}}else this.rightMarkerValue[0].innerHTML=this._formatOutput((g+d)*this._unitPerPixel+this._min,this.markersFormat,0,"right")}this._layoutShutter(),this._layoutMarkers()},_initSlider:function(){var b=this,c=this.toThemeProperty("jqx-rangeselector-shutter")+" "+this.toThemeProperty("jqx-scrollbar-state-normal");a("#"+this._id+"TicksContainer").append("<div id='"+this._id+"ShutterLeft' class='"+c+"'></div><div id='"+this._id+"Slider' class='"+this.toThemeProperty("jqx-rangeselector-slider")+" "+this.toThemeProperty("jqx-scrollbar-thumb-state-normal")+"'><div class='"+this.toThemeProperty("jqx-rangeselector-inner-slider")+"'></div></div><div id='"+this._id+"ShutterRight' class='"+c+"'></div>"),this.slider=a("#"+this._id+"Slider"),this.shutterLeft=a("#"+this._id+"ShutterLeft"),this.shutterRight=a("#"+this._id+"ShutterRight"),this._hostOffset=this.rangeSelector.offset(),this._hostWidth=this.rangeSelector.width(),this._hostHeight=this.rangeSelector.height();var d=this._hostOffset,e=this._initRange(),f=e.left,g=e.right-f,h=g/this._unitPerPixel;this.slider[0].style.width=Math.round(h)+"px";var i=d.left+parseInt((f-this._min)/this._unitPerPixel);if(this.slider.offset({left:i}),this._layoutShutter(),this._initMarkers(),0==this.disabled){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.addHandler(this.host,"dragstart.rangeselector"+this._id,function(){return!1}),this.addHandler(a(window),"jqxReady.rangeselector",function(){return b._layoutMarkers(),!1}),this.isSliderCaptured=!1,this.resizeDirection="none",this.isLeftMarkerCaptured=!1,this.isRightMarkerCaptured=!1,this.dragging=!1,this._mouseDownX;var j,k,l="mousedown.rangeselector"+this.element.id;this._isTouchDevice&&(l=a.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+this.element.id),this.addHandler(this.host,l,function(c){b.isMouseDown=!0,b._hostOffset=b.rangeSelector.offset(),b._hostWidth=b.rangeSelector.width(),b._hostHeight=b.rangeSelector.height(),b._sliderLeftOffset=parseInt(b.slider[0].style.left);var d=c.pageX,e=c.pageY;if(b._isTouchDevice){var f=a.jqx.position(c);d=f.left,e=f.top}b._initialSliderOffset=d-b.slider.offset().left;var g=b.slider.width();b._sliderInitialWidth=g,j=b.slider.offset().left,k=b._sliderInitialWidth,b.initialOffset=j;var h=parseInt(j+k);if(b.oldX=d,b._mouseDownX=d,b.resizeDirection="none",b.sliderRight=h,d>j-5&&d<j+5&&b._heightCheck(e))b.isSliderCaptured=!1,b.dragging=!1,b.resizeDirection="left";else if(d>h-5&&d<h+5&&b._heightCheck(e))b.isSliderCaptured=!1,b.dragging=!1,b.resizeDirection="right";else if(d>=j+5&&d<=h+5&&b._heightCheck(e))b.isSliderCaptured=!0,b.dragging=!0;else if(b.isSliderCaptured=!1,b.dragging=!1,b.moveOnClick){if(b.isLeftMarkerCaptured||b.isRightMarkerCaptured)return!1;var i=b._sliderLeftOffset+b._initialSliderOffset,l=b._findNearestTick(i);i=l,i<0&&(i=0);var m=parseInt(b.slider[0].style.width);e>=b.slider.offset().top&&(d>h?b._moveSlider(i-m,!0):b._moveSlider(i,!0))}}),this.addHandler(b.leftMarker,l,function(c){if(b.leftMarkerAndArrow.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.oldLeftX=c.pageX,b._isTouchDevice){var d=a.jqx.position(c);oldLeftX=d.left}b._mouseDownX=b.oldLeftX,b.isLeftMarkerCaptured=!0}),this.addHandler(b.rightMarker,l,function(c){if(b.rightMarkerAndArrow.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.oldRightX=c.pageX,b._isTouchDevice){var d=a.jqx.position(c);oldRightX=d.left}b._mouseDownX=b.oldRightX,b.isRightMarkerCaptured=!0}),this.addHandler(a(document),"selectstart.rangeselector"+this._id,function(a){if(1==b.isSliderCaptured||1==b.isLeftMarkerCaptured||1==b.isRightMarkerCaptured||1==b.dragging)return a.preventDefault(),!1});var m="mousemove.rangeselector"+this.element.id;this._isTouchDevice&&(m=a.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+this.element.id),this.addHandler(a(document),m,function(a){b._handleMouseMove(a)});var n=function(a){try{var c=b.moved;if(b.moved=!1,b.isMouseDown=!1,b.dragging=!1,b.resizeDirection="none",1==b.isLeftMarkerCaptured&&(b.leftMarkerAndArrow.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b.isLeftMarkerCaptured=!1),1==b.isRightMarkerCaptured&&(b.rightMarkerAndArrow.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b.isRightMarkerCaptured=!1),c){var d=b._getValue();b.setRange(d.from,d.to),b._raiseEvent("0",{type:"mouse",from:d.from,to:d.to})}}catch(e){}};this.addHandler(a(document),"mouseup.rangeselector"+this._id,function(a){n(a)});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var o=null;window.parent&&document.referrer&&(o=document.referrer),o&&o.indexOf(document.location.host)!=-1&&window.top.document&&(b.mouseupFuncForTop=function(a){n(a)},b.addHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop))}}catch(p){}}else this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._moveSlider(parseInt(b.slider[0].style.left)),this.moved=!1},_initMarkers:function(){var b=a("#"+this._id+"TicksContainer"),c=this.toThemeProperty("jqx-rangeselector-markers")+" "+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-fill-state-normal");b.append("<div id='"+this._id+"LeftMarker' class='"+c+"'></div><div id='"+this._id+"RightMarker' class='"+c+"'></div>");var d=this.toThemeProperty("jqx-rangeselector-marker-arrow")+" "+this.toThemeProperty("jqx-fill-state-normal");d+="bottom"==this.markersPosition?" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-bottom"):" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-top"),b.append("<div id='"+this._id+"LeftMarkerArrow' class='"+d+" "+this.toThemeProperty("jqx-rangeselector-marker-left-arrow")+"'></div>"),b.append("<div id='"+this._id+"RightMarkerArrow' class='"+d+" "+this.toThemeProperty("jqx-rangeselector-marker-right-arrow")+"'></div>"),a("#"+this._id+"LeftMarker").append("<div id='"+this._id+"LeftMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>"),a("#"+this._id+"RightMarker").append("<div id='"+this._id+"RightMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>");var e=a("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow"),f=a("#"+this._id+"LeftMarker, #"+this._id+"LeftMarkerArrow"),g=a("#"+this._id+"RightMarker, #"+this._id+"RightMarkerArrow");if(1==this.showMarkers?e.css("visibility","visible"):e.css("visibility","hidden"),0==this.disabled&&1==this.resizable){var h=this;this.addHandler(f,"mouseenter.rangeselector"+this._id,function(a){h.element.style.cursor="pointer",f.addClass(h.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(f,"mouseleave.rangeselector"+this._id,function(a){h.element.style.cursor="auto",f.removeClass(h.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(g,"mouseenter.rangeselector"+this._id,function(a){h.element.style.cursor="pointer",g.addClass(h.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(g,"mouseleave.rangeselector"+this._id,function(a){h.element.style.cursor="auto",g.removeClass(h.toThemeProperty("jqx-fill-state-hover"))})}this.leftMarkerAndArrow=f,this.rightMarkerAndArrow=g,this.leftMarkerArrow=a("#"+this._id+"LeftMarkerArrow"),this.rightMarkerArrow=a("#"+this._id+"RightMarkerArrow"),this.leftMarker=a("#"+this._id+"LeftMarker"),this.rightMarker=a("#"+this._id+"RightMarker"),this.leftMarkerValue=a("#"+this._id+"LeftMarkerValue"),this.rightMarkerValue=a("#"+this._id+"RightMarkerValue");var i=this._initRange();this._updateMarkersValues(i.left,i.right),this._layoutMarkers(),"auto"==this.padding?(this.host.css("padding-left",this.leftMarker[0].offsetWidth),this.host.css("padding-right",this.rightMarker[0].offsetWidth),this.host.css("padding-top",this._leftMarkerHeight+7)):this.host.css("padding",this.padding)},_layoutMarkers:function(){if(1==this.showMarkers){this._hostOffset||(this._hostOffset=this.rangeSelector.offset()),this._leftMarkerHeight||(this._leftMarkerHeight=this.leftMarker.outerHeight(),this._rightMarkerHeight=this.rightMarker.outerHeight());var a=(this._hostOffset.top,parseInt(this.slider[0].style.left)+this._hostOffset.left),b=-5;"bottom"==this.markersPosition&&(b=parseInt(this.element.style.height)+4+this._rightMarkerHeight);var c=b-this._leftMarkerHeight,d=b-this._rightMarkerHeight;"bottom"==this.markersPosition&&(b=parseInt(this.element.style.height)-6);var e=this.leftMarker[0].offsetWidth,f=1+a-e-this._hostOffset.left;this.leftMarker[0].style.left=f+"px",this.leftMarker[0].style.top=c+"px",this.leftMarkerArrow[0].style.left=2+f+e+"px",this.leftMarkerArrow[0].style.top=6+b+"px";var g=a+parseInt(this.slider[0].style.width)-this._hostOffset.left;this.rightMarker[0].style.left=g+"px",this.rightMarker[0].style.top=d+"px",this.rightMarkerArrow[0].style.left=7+g+"px",this.rightMarkerArrow[0].style.top=6+b+"px"}},_updateMarkersValues:function(a,b){var c=a,d=b;this.leftMarkerValue[0].innerHTML=this._formatOutput(c,this.markersFormat,0,"left",!0),this.rightMarkerValue[0].innerHTML=this._formatOutput(d,this.markersFormat,0,"right",!0)},_removeHandlers:function(){var b=this.element.id,c=a("#"+b+"LeftMarker, #"+b+"LeftMarkerArrow"),d=a("#"+b+"RightMarker, #"+b+"RightMarkerArrow"),e="mousemove.rangeselector"+b,f="mousedown.rangeselector"+b;this._isTouchDevice&&(e=a.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+b,f=a.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+b),this.removeHandler(a(document),e),this.removeHandler(a(document),"mouseup.rangeselector"+b),this.removeHandler(this.host,f),this.removeHandler(this.host,"click.rangeselector"+b),this.removeHandler(this.host,"dragstart.rangeselector"+b),this.removeHandler(c,"mouseenter.rangeselector"+b),this.removeHandler(c,"mouseleave.rangeselector"+b),this.removeHandler(d,"mouseenter.rangeselector"+b),this.removeHandler(d,"mouseleave.rangeselector"+b),this.removeHandler(a("#"+b+"LeftMarker"),f),this.removeHandler(a("#"+b+"RightMarker"),f),this.removeHandler(a(document),"selectstart.rangeselector"+b),this.mouseupFuncForTop&&(this.removeHandler(a(window.top.document),"mouseup",this.mouseupFuncForTop),this.mouseupFuncForTop=null,delete this.mouseupFuncForTop)},_heightCheck:function(a){var b=this.slider,c=b.offset().top;return a>=c&&a<=c+b.height()},_checkProperties:function(){this._range._from<this._min?this._range._from=this._min:this._range._from>this._min&&this._range._from>this._max&&(this._range._from=this._min),this._range._to>this._max?this._range._to=this._max:this._range._to<this._min&&this._range._to<this._max&&(this._range._to=this._max);var a=this._max-this._min;this._range._min>a&&(this._range._min=a),this._range._max>a&&(this._range._max=a);var b=this._range._to-this._range._from;b<this._range._min?this._range._to=this._range._from+this._range._min:b>this._range._max&&(this._range._to=this._range._from+this._range._max)},_findNearestTick:function(a){for(var b=0,c=Math.abs(a-this._ticksArray[0]),d=1;d<this._ticksArray.length;d++){var e=Math.abs(a-this._ticksArray[d]);c>e&&(c=e,b=d)}return this._ticksArray[b]},_privateProperties:function(){this._min=this._validateInput(this.min),this._max=this._validateInput(this.max),this._range=new Object,this._range._from=this._validateInput(void 0!=this.range.from?this.range.from:0),this._range._to=this._validateInput(void 0!=this.range.to?this.range.to:1/0),this._range._min=this._minMaxDate(void 0!=this.range.min?this.range.min:0),this._range._max=this._minMaxDate(void 0!=this.range.max?this.range.max:1/0)},_validateInput:function(a){var b;return"number"==typeof a?b=a:"string"==typeof a?b=Date.parse(a):a instanceof Date&&(b=a.getTime()),b},_minMaxDate:function(a){if("number"!=typeof a){var b;switch(a){case"millisecond":b=1;break;case"second":b=1e3;break;case"minute":b=6e4;break;case"hour":b=36e5;break;case"day":b=864e5;break;case"week":b=6048e5;break;default:b=a.milliseconds?a.milliseconds:0+a.seconds?1e3*a.seconds:0+a.minutes?6e4*a.minutes:0+a.hours?36e5*a.hours:0+a.days?864e5*a.days:0+a.weeks?6048e5*a.weeks:0}return b}return a},_formatOutput:function(b,c,d,e,f){var g;if(this.values||(this.values=new Array),this.values[e]=b,"label"==e&&this.labelsFormatFunction)g="date"==this._dataType?this._roundDate(b):this._roundNumber(b,"label"),g=this.labelsFormatFunction(g);else if("label"!=e&&this.markersFormatFunction)"date"==this._dataType&&(g=this._roundDate(b)),g=this.markersFormatFunction(b,e);else if(c)"number"==this._dataType?g=a.jqx.dataFormat.formatnumber(b,c):(g=this._roundDate(b),g=a.jqx.dataFormat.formatdate(g,c));else{if("date"==this._dataType){var h;null==this.labelsFormat&&null==this.markersFormat?h="both labelsFormat and markersFormat":null==this.labelsFormat?h="labelsFormat":null==this.markersFormat&&(h="markersFormat");var i="When the data format is date, "+h+" should be set.";throw new Error(i)}g=b.toFixed(d)}return g},_getValue:function(a){function b(a){return"number"===c._dataType?Math.round(a/d)*d:c._roundNumber(a,"marker")}var c=this,d=c.minorTicksInterval,e=this.slider,f=e.width(),g=new Object,h=e.offset().left-this.rangeSelector.offset().left,i=h*this._unitPerPixel+this._min;if(g.from=b(i),g.to=b(i+f*this._unitPerPixel),!a&&1==this.snapToTicks){var j=this._findNearestTick((g.from-this._min)/this._unitPerPixel);g.from=this._valuesArray[this._ticksArray.indexOf(j)];var k=this._findNearestTick((g.to-this._min)/this._unitPerPixel);g.to=this._valuesArray[this._ticksArray.indexOf(k)]}return"date"==this._dataType&&(g.from=new Date(g.from),g.to=new Date(g.to)),g},_roundNumber:function(a,b,c){var d;return"marker"==b?(1==c&&(a=parseFloat(a)),d=parseFloat(a)):d="label"==b?parseFloat(a):parseFloat(a),d},_roundDate:function(a){"number"==typeof a&&(a=new Date(a));var b=this._max-this._min;if(b>12096e5){var c=a.getDate(),d=a.getHours();d>12&&(a.setDate(c+1),a.setHours(0),a.setMinutes(0),a.setSeconds(0))}else b>1728e5&&(a.setHours(a.getHours()+Math.round(a.getMinutes()/60)),a.setMinutes(0),a.setSeconds(0));return a},_layoutShutter:function(){var b=parseInt(this.slider[0].style.left);this.shutterLeft[0].style.width=b+"px",this.shutterLeft[0].style.left="0px",a.jqx.browser.msie&&a.jqx.browser.version<9&&(this.shutterLeft[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)",this.shutterRight[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)");var c=1+b+parseInt(this.slider[0].style.width);this.shutterRight[0].style.left=c+"px";var d=parseInt(this.element.style.width);if(this.element.style.width.indexOf("%")>=0)var d=parseInt(this.host.width());var e=d-1-b-parseInt(this.slider[0].style.width);e<0&&(e=0),this.shutterRight[0].style.width=1+e+"px",c+1+e<2+d&&(this.shutterRight[0].style.width=2+e+"px"),0==e&&(this.shutterRight[0].style.width="0px")},_initRange:function(){if(this._range._from>this._range._to)throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");var a=this._range._from,b=this._range._to,c={left:a,right:b};return c}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxRating","",{}),a.extend(a.jqx._jqxRating.prototype,{defineInstance:function(){var b={count:5,disabled:!1,value:0,height:"auto",width:"auto",precision:1,singleVote:!1,itemHeight:"20",itemWidth:"20",_itemHeight:void 0,_itemWidth:void 0,_images:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["change"],_invalidArgumentExceptions:{invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}};return this===a.jqx._jqxRating.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){a.jqx.aria(this),this._createRating()},destroy:function(){this.host.remove()},val:function(a){return 0==arguments.length||"object"==typeof a?this.value:("string"==typeof a?this.value=parseInt(a):this.value=a,this.setValue(this.value),this.value)},_createRating:function(){this.host.css("display","none"),this.host.empty(),this._addInput(),this._validateProperties(),this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this.host.css("display","block"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable()},_addInput:function(){var b=this.host.attr("name");this.input=a("<input type='hidden'/>"),this.host.append(this.input),b&&this.input.attr("name",b),this.input.val(this.value.toString())},_render:function(){for(var b=1;b<=this.count;b++)this._images[b-1]=a('<div style="float:left;width:auto;height:auto; position: relative;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>'),this.host.append(this._images[b-1])},_performLayout:function(){for(var a=1;a<=this.count;a++){var b=this._images[a-1].find(this.toThemeProperty(".jqx-rating-image-backward",!0)),c=this._images[a-1].find(this.toThemeProperty(".jqx-rating-image-default",!0)),d=this._images[a-1].find(this.toThemeProperty(".jqx-rating-image-hover",!0)),e=this._getImageName(c),f=this._getImageName(d),g=this._getImageName(b);c.css("background-image","none"),d.css("background-image","none"),b.css("background-image","none"),this._appendImage(d,f,a-1),this._appendImage(b,g,a-1),this._appendImage(c,e,a-1)}},resize:function(a,b){this.width=a,this.height=b,this._setControlSize(this.width,this.height)},_setControlSize:function(a,b){this.host.css("height",this.height),this.host.css("width",this.width),this.itemHeight&&"auto"!==this.itemHeight?this._itemHeight=parseInt(this.itemHeight):this._itemHeight=b,this.itemWidth&&"auto"!==this.itemWidth?this._itemWidth=parseInt(this.itemWidth):this._itemWidth=a},_appendImage:function(b,c,d){var e=this,f=a('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+c+'" />');b.append(f);try{f.load(function(){e._initialized||(e._setControlSize(a(this).width(),a(this).height()),e._setValue(e.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),e._initialized=!0),e._images[d].height(e._itemHeight),a(this).height(e._itemHeight),e._images[d].width(e._itemWidth),a(this).width(e._itemWidth)})}catch(g){f[0].onload=function(){e._initialized||(e._setControlSize(a(this).width(),a(this).height()),e._setValue(e.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),e._initialized=!0),e._images[d].height(e._itemHeight),a(this).height(e._itemHeight),e._images[d].width(e._itemWidth),a(this).width(e._itemWidth)}}return f},_validateProperties:function(){try{if(this.precision<.001||this.precision>1)throw this._invalidArgumentExceptions.invalidPrecision;if("auto"!==this.height&&parseInt(this.height)<0)throw this._invalidArgumentExceptions.invalidHeight;if("auto"!==this.width&&parseInt(this.width)<0)throw this._invalidArgumentExceptions.invalidWidth;if(this.count<=0)throw this._invalidArgumentExceptions.invalidCount;if(this.value>this.count||this.value<0)throw this._invalidArgumentExceptions.invalidValue}catch(a){alert(a)}},_getImageIndex:function(a){for(var b=0;a!==this._images[b][0];)b++;return++b},_getRating:function(b,c){var d=this._getImageIndex(b);if(this.precision<1){for(var e=parseInt(c)-parseInt(a(b).position().left),f=this._itemWidth*this.precision,g=0;g<e;)g+=f;g>parseInt(this._itemWidth)-f&&(g=parseInt(this._itemWidth));var h=g/a(b).width();d-=1-h}return d},_addEventHandlers:function(){for(var b=this,c=0;c<this.count;c++)a.jqx.mobile.isTouchDevice()||(this.addHandler(this._images[c],"mousemove",function(a){var c=b._getRating(this,a.pageX);b._setValue(c,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")}),this.addHandler(this._images[c],"mouseenter",function(a){for(var c=b._getImageIndex(this),d=0;d<c;d++)b._images[d].children(".jqx-rating-hoverWrapper").css("z-index","10"),b._images[d].children(".jqx-rating-voteWrapper").css("z-index","1"),b._images[d].children(".jqx-rating-hoverWrapper").css("visibility","visible")}),this.addHandler(this._images[c],"mouseleave",function(a){for(var c=b._getImageIndex(this),d=0;d<c;d++)b._images[d].children(".jqx-rating-voteWrapper").css("z-index","10"),b._images[d].children(".jqx-rating-hoverWrapper").css("z-index","1"),b._images[d].children(".jqx-rating-hoverWrapper").css("visibility","hidden")})),this.addHandler(this._images[c],"click",function(a){var c=b._getRating(this,a.pageX);b._setValue(c,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),b.singleVote&&b.disable(),a.stopPropagation(),b._raiseEvent(0,c)}),this.addHandler(this._images[c],"dragstart",function(a){return!1})},_removeEventHandlers:function(){for(var a=0;a<this.count;a++)this.removeHandler(this._images[a],"mousemove"),this.removeHandler(this._images[a],"mouseenter"),this.removeHandler(this._images[a],"mouseleave"),this.removeHandler(this._images[a],"click"),this.removeHandler(this._images[a],"dragstart")},_getImageName:function(a){var b=a.css("background-image");return b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")","")},_setValue:function(b,c,d,e){for(var f=1;f<=this.count;f++){var g=1,h=this._images[f-1].children(c),i=h.children(d),j=h.children(e);f>b&&(g=Math.abs(f-b)<1?1-Math.abs(f-b):0),i.width(this._itemWidth*g),j.width(this._itemWidth-parseInt(i.width())),h.children(this.toThemeProperty(e)).children(0).css("margin-left",-this._itemWidth*g+"px")}a.jqx.aria(this,"aria-valuenow",b)},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);return d.owner=this,d.value=c,d.oldvalue=this.value,this.value=c,this.input&&this.input.val(this.value.toString()),this.host.trigger(d)},setValue:function(a){this._setValue(a,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward"),this.value=a,this._raiseEvent(0,this.value)},getValue:function(){return this.value},disable:function(){this._removeEventHandlers(),this.disabled=!0,a.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._removeEventHandlers(),this._addEventHandlers(),this.disabled=!1,a.jqx.aria(this,"aria-disabled",!1)},propertyChangedHandler:function(a,b,c,d){return"disabled"===b?void(d?this.disable():this.enable()):void("value"===b?a.setValue(d):a._createRating())}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxResponsivePanel","",{}),a.extend(a.jqx._jqxResponsivePanel.prototype,{defineInstance:function(){var b={width:null,height:null,collapseBreakpoint:1e3,collapseWidth:null,toggleButton:null,toggleButtonSize:30,animationType:"fade",animationDirection:"left",animationShowDelay:"fast",animationHideDelay:"fast",autoClose:!0,initContent:null,_collapsed:!1,_opened:!1,_init:!1,_ie7:a.jqx.browser.msie&&a.jqx.browser.version<8,events:["collapse","expand","open","close"]};return this===a.jqx._jqxResponsivePanel.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var a=this;a.initContent&&a._init===!1&&(a.initContent(),a._init=!0),a._render(!0)},_render:function(b){var c=this;if(b===!0&&c.toggleButton){if(c._toggleButton=a(c.toggleButton),0===c._toggleButton.length)throw new Error('jqxResponsivePanel: Invalid toggleButton selector: "'+c.toggleButton+'".');var d=a('<div class="'+c.toThemeProperty("jqx-menu-minimized-button")+" "+c.toThemeProperty("jqx-responsive-panel-button-inner")+'"></div>');c._toggleButton.append(d)}c._setSize(),c._addClasses(),b===!1&&c._removeHandlers(),c._addHandlers(),c._checkWindowSize()},render:function(){this._render(!1)},refresh:function(a){a!==!0&&this._checkWindowSize()},destroy:function(a){var b=this;b._removeHandlers(),b.host.remove(),a!==!0&&b.toggleButton&&b._toggleButton.remove()},propertyChangedHandler:function(a,b,c,d){if(d!==c&&"toggleButton"!==b&&"initContent"!==b)switch(b){case"width":case"height":a.host.css(b,d);break;case"collapseBreakpoint":a._checkWindowSize();break;case"toggleButtonSize":a.toggleButton&&a._toggleButton.css({width:d,height:d});break;default:a.render()}},open:function(){function a(){b.host.show(),b._opened=!0,b._raiseEvent("2"),b.initContent&&b._init===!1&&(b.initContent(),b._init=!0)}var b=this;if(b._collapsed===!0&&b._opened===!1){if(b._ie7===!0)return void a();switch(b.animationType){case"fade":b.host.fadeIn(b.animationShowDelay,function(){b._raiseEvent("2"),b._opened=!0,b.initContent&&b._init===!1&&(b.initContent(),b._init=!0)});break;case"slide":var c=b.animationDirection;"top"===c?c="up":"bottom"===c&&(c="down"),b._slide(b.host,{mode:"show",direction:c,duration:b.animationShowDelay});break;case"none":a()}}},close:function(){var a=this;if(a._collapsed===!0&&a._opened===!0){if(a._ie7===!0)return a.host.hide(),a._opened=!1,void a._raiseEvent("3");switch(a.animationType){case"fade":a.host.fadeOut(a.animationHideDelay,function(){a._opened=!1,a._raiseEvent("3")});break;case"slide":var b=a.animationDirection;"top"===b?b="up":"bottom"===b&&(b="down"),a._slide(a.host,{mode:"hide",direction:b,duration:a.animationHideDelay});break;case"none":a.host.hide(),a._opened=!1,a._raiseEvent("3")}}},_raiseEvent:function(b,c){void 0===c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,e.args=c,e.preventDefault&&e.preventDefault();var f=this.host.trigger(e);return f},_setSize:function(){var a=this;a.host.css("width",a.width),a.host.css("height",a.height),a.toggleButton&&a._toggleButton.css({width:a.toggleButtonSize,height:a.toggleButtonSize})},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-responsive-panel")),a.host.addClass(a.toThemeProperty("jqx-widget")),a.host.addClass(a.toThemeProperty("jqx-widget-content")),a.host.addClass(a.toThemeProperty("jqx-rc-all")),a.toggleButton&&(a._toggleButton.addClass(a.toThemeProperty("jqx-responsive-panel-button")),a._toggleButton.addClass(a.toThemeProperty("jqx-fill-state-normal")),a._toggleButton.addClass(a.toThemeProperty("jqx-rc-all")))},isCollapsed:function(){return this._collapsed},isOpened:function(){return this._opened},_addHandlers:function(){var b=this,c=b.element.id;b.addHandler(b.host,"click.jqxResponsivePanel"+c,function(a){a.stopPropagation()}),b.addHandler(a(document),"click.jqxResponsivePanel"+c,function(){b._collapsed===!0&&b.autoClose===!0&&b.close()}),b.addHandler(a(window),"resize.jqxResponsivePanel"+c,function(){setTimeout(function(){b._checkWindowSize()},0)}),b.toggleButton&&(b.addHandler(b._toggleButton,"mouseenter.jqxResponsivePanel"+c,function(){b._toggleButton.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(b._toggleButton,"mouseleave.jqxResponsivePanel"+c,function(){b._toggleButton.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(b._toggleButton,"mousedown.jqxResponsivePanel"+c,function(){
b._toggleButton.addClass(b.toThemeProperty("jqx-fill-state-pressed"))}),b.addHandler(a(document),"mouseup.jqxResponsivePanel"+c,function(){b._toggleButton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))}),b.addHandler(b._toggleButton,"click.jqxResponsivePanel"+c,function(a){a.stopPropagation(),b._opened===!0?b.close():b.open()}))},_removeHandlers:function(){var b=this,c=b.element.id;b.removeHandler(b.host,"click.jqxResponsivePanel"+c),b.removeHandler(a(document),"click.jqxResponsivePanel"+c),b.removeHandler(a(window),"resize.jqxResponsivePanel"+c),b.toggleButton&&(b.removeHandler(b._toggleButton,"mouseenter.jqxResponsivePanel"+c),b.removeHandler(b._toggleButton,"mouseleave.jqxResponsivePanel"+c),b.removeHandler(b._toggleButton,"mousedown.jqxResponsivePanel"+c),b.removeHandler(a(document),"mouseup.jqxResponsivePanel"+c),b.removeHandler(b._toggleButton,"click.jqxResponsivePanel"+c))},_checkWindowSize:function(){var a=this,b=this.host.parent().width();a._collapsed===!1&&b<=a.collapseBreakpoint?(a.toggleButton&&a._toggleButton.show(),a._opened===!1&&a.host.hide(),a.host.removeClass(a.toThemeProperty("jqx-responsive-panel-expanded")),a.host.addClass(a.toThemeProperty("jqx-responsive-panel-collapsed")),a._collapsed=!0,a._raiseEvent("0"),a.collapseWidth&&a.host.width(a.collapseWidth),a.host.trigger("resize")):a._collapsed===!0&&b>a.collapseBreakpoint&&(a.collapseWidth&&a.host.width(a.width),a.toggleButton&&a._toggleButton.hide(),a._opened===!1&&a.host.show(),a.host.removeClass(a.toThemeProperty("jqx-responsive-panel-collapsed")),a.host.addClass(a.toThemeProperty("jqx-responsive-panel-expanded")),a._collapsed=!1,a._raiseEvent("1"),a.initContent&&a._init===!1&&(a.initContent(),a._init=!0),a.host.trigger("resize"))},_slide:function(b,c){var d=this;if(d.activeAnimations||(d.activeAnimations=[]),d.activeAnimations.length>0)for(var e=0;e<d.activeAnimations.length;e++)d.activeAnimations[e].clearQueue(),d.activeAnimations[e].finish();else b.clearQueue(),b.finish();var f,g="ui-effects-",h={save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.length>0&&a.data(g+b[c],a[0].style[b[c]])},restore:function(a,b){var c,d;for(d=0;d<b.length;d++)null!==b[d]&&(c=a.data(g+b[d]),void 0===c&&(c=""),a.css(b[d],c))},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b}},i=["position","top","bottom","left","right","width","height"],j=c.mode,k="show"===j,l=c.direction||"left",m="up"===l||"down"===l?"top":"left",n="up"===l||"left"===l,o={};h.save(b,i),b.show(),f=c.distance||b["top"===m?"outerHeight":"outerWidth"](!0),h.createWrapper(b).css({overflow:"hidden"}),k&&b.css(m,n?isNaN(f)?"-"+f:-f:f),o[m]=(k?n?"+=":"-=":n?"-=":"+=")+f;var p=function(){b.clearQueue(),b.stop(!0,!0)};return d.activeAnimations.push(b),b.animate(o,{duration:c.duration,easing:c.easing,complete:function(){d.activeAnimations.pop(b),"show"===j?(d._opened=!0,d._raiseEvent("2"),d.initContent&&d._init===!1&&(d.initContent(),d._init=!0)):"hide"===j&&(b.hide(),d._opened=!1,d._raiseEvent("3")),h.restore(b,i),h.removeWrapper(b)}}),p}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxRibbon","",{}),a.extend(a.jqx._jqxRibbon.prototype,{defineInstance:function(){var b={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===a.jqx._jqxRibbon.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var b=this;"none"!==b.host.css("display")&&document.body.contains(b.element)!==!1||(b._initiallyHidden=!0),b._browser=a.jqx.browser,"popup"!==b.mode&&b.selectedIndex===-1&&(b.selectedIndex=0),b._originalHTML=b.element.innerHTML,b._render(!0)},render:function(){this._render()},refresh:function(a){a!==!0&&this._render()},destroy:function(){var b=this;b.removeHandler(a(document),"mousedown.ribbon"+b.element.id),a.jqx.utilities.resize(this.host,null,!0),b._removeHandlers(),b.host.remove()},selectAt:function(a){this._selectAt(a)},clearSelection:function(){this.selectedIndex!==-1&&this._clearSelection()},disableAt:function(b){var c=this;c._items[b]._disabled=!0,a(c._items[b]).addClass(c.toThemeProperty("jqx-fill-state-disabled")),b===c.selectedIndex&&c._clearSelection()},enableAt:function(b){var c=this;c._items[b]._disabled=!1,a(c._items[b]).removeClass(c.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(a){var b=this;b._items[a].style.display="none",b._checkScrollButtons(),a===b.selectedIndex?b._clearSelection():b._updatePositions()},showAt:function(a){var b=this;"horizontal"===b._orientation?b._items[a].style.display="inline-block":b._items[a].style.display="inherit",b._checkScrollButtons(),b._updatePositions()},val:function(a){var b=this;return a?void b._selectAt(a):b.selectedIndex},addAt:function(b,c){var d=this,e="jqx-ribbon-item jqx-ribbon-item-"+d.position,f="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+d.position;d._removeHandlers();var g=document.createElement("li");g.innerHTML=c.title;var h=document.createElement("div");if("string"==typeof c.content)h.innerHTML=c.content;else if(void 0!==c.content.length)try{if(void 0!==jQuery&&c.content instanceof jQuery)a(h).append(c.content);else if(a.isArray(c.content))for(var i=0;i<c.content.length;i++)c.content[i].appendTo(h);else for(;c.content.length>0;)h.appendChild(c.content[0])}catch(j){}else h.appendChild(c.content);switch(d.position){case"top":e+=" jqx-rc-t",f+=" jqx-rc-b";break;case"bottom":e+=" jqx-rc-b",f+=" jqx-rc-t";break;case"left":e+=" jqx-rc-l",f+=" jqx-rc-r";break;case"right":e+=" jqx-rc-r",f+=" jqx-rc-l"}"popup"===d.mode&&(f+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+d._orientation+"-popup"),d.rtl===!0&&(e+=" jqx-ribbon-item-rtl"),g.className=d.toThemeProperty(e),h.className=d.toThemeProperty(f),d._items.length-1>=b?(d._headerElement.insertBefore(g,d._items[b]),d._contentElement.insertBefore(h,d._contentSections[b])):(d._headerElement.appendChild(g),d._contentElement.appendChild(h)),d._updateItems(),d._addHandlers(),d._checkScrollButtons(),b<=d.selectedIndex&&d.selectedIndex<d._items.length-1&&d.selectedIndex++,d._updatePositions(),d.selectedIndex<0||(d._suppressSelectionEvents=!0,d._selectAt(d.selectedIndex,d.selectedIndex,!0))},removeAt:function(b){var c=this;b===c.selectedIndex&&c._clearSelection(),a(c._items[b]).remove(),a(c._contentSections[b]).remove(),c._updateItems(!0),c._updatePositions(),c._checkScrollButtons()},updateAt:function(a,b){var c=this,d=c._items[a];d.innerHTML=b.newTitle,c._contentSections[a].innerHTML=b.newContent,d._isInitialized=!1,c.initContent&&a===c.selectedIndex&&(c.initContent(a),d._isInitialized=!0),c._updatePositions()},setPopupLayout:function(a,b,c,d){var e=this,f=e._contentSections[a];"popup"===e.mode&&(f.getAttribute("data-width")||(f.style.width&&f.setAttribute("data-width",f.style.width),f.style.height&&f.setAttribute("data-height",f.style.height)),c&&(f.style.width=e._toPx(c)),d&&(f.style.height=e._toPx(d)),f._layout=b,e._positionContent(a))},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2===Object.keys(c).length&&(a.element.style.width=a._toPx(a.width),a.element.style.height=a._toPx(a.height),a._updateSize())},propertyChangedHandler:function(b,c,d,e){if(!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2===Object.keys(b.batchUpdate).length)&&e!==d)switch(c){case"width":case"height":b.element.style[c]=b._toPx(e),b._updateSize();break;case"position":b._render();break;case"mode":b._contentElement.style.width="auto",b._removeHandlers(null,d),b._render();break;case"selectedIndex":b._selectAt(e,d);break;case"selectionMode":b._removeHandlers(d),b._addHandlers();break;case"scrollPosition":var f=b._scrollButtonNear,g=b._scrollButtonFar;a(f).removeClass(b.toThemeProperty("jqx-ribbon-scrollbutton-"+d+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),a(g).removeClass(b.toThemeProperty("jqx-ribbon-scrollbutton-"+d+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),f.className+=" "+b.toThemeProperty("jqx-ribbon-scrollbutton-"+e),g.className+=" "+b.toThemeProperty("jqx-ribbon-scrollbutton-"+e),b._scrollButtonRc(f,g),b._checkScrollButtons(),b._updatePositions();break;case"disabled":e===!0?(b._removeHandlers(),b.element.className+=" "+b.toThemeProperty("jqx-fill-state-disabled")):(b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b._addHandlers());break;case"theme":a.jqx.utilities.setTheme(d,e,b.host);break;case"rtl":if(e===!0){b._headerElement.className+=" "+b.toThemeProperty("jqx-ribbon-header-rtl");for(var h=0;h<b._items.length;h++)b._items[h].className+=" "+b.toThemeProperty("jqx-ribbon-item-rtl")}else{b._header.removeClass(b.toThemeProperty("jqx-ribbon-header-rtl"));for(var i=0;i<b._items.length;i++)a(b._items[i]).removeClass(b.toThemeProperty("jqx-ribbon-item-rtl"))}b._positionSelectionToken(b.selectedIndex)}},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;var f;try{f=this.host.trigger(e)}catch(g){}return f},_render:function(b){var c=this;switch(b!==!0&&c._removeHandlers(),c._selectionTokenOffsetY=0,c._browser.browser){case"mozilla":c._browserWidthRtlFlag=0,c._browserScrollRtlFlag=1,c._selectionTokenOffsetX=1;break;case"msie":c._browserWidthRtlFlag=0,c._browserScrollRtlFlag=-1,"8.0"===c._browser.version?c._selectionTokenOffsetX=1:"7.0"===c._browser.version?(c._selectionTokenOffsetX=0,"popup"!==c.mode||"bottom"!==c.position&&"right"!==c.position||(c._selectionTokenOffsetY=2)):c._selectionTokenOffsetX=0;break;default:c._browserWidthRtlFlag=1,c._browserScrollRtlFlag=1,c._selectionTokenOffsetX=0}if(b===!0){var d=c.host.children();c._headerElement=d[0],c._header=a(d[0]),c._contentElement=d[1],c._content=a(d[1]),c._checkStructure(d)}c._headerElement.style["float"]="none",c._contentElement.style.padding="0px",c.element.style.width=c._toPx(c.width),c.element.style.height=c._toPx(c.height),"bottom"!==c.position&&"right"!==c.position||c.element.insertBefore(c._contentElement,c._headerElement),"top"===c.position||"bottom"===c.position?c._orientation="horizontal":c._orientation="vertical","right"===c.position?c._headerElement.style["float"]="right":"left"===c.position&&(c._headerElement.style["float"]="left"),c._contentSections=c._content.children(),a.each(c._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),b===!0&&(c._selectionToken=document.createElement("div"),c._selectionToken.className=c.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+c.position),c.element.appendChild(c._selectionToken)),c._updateItems(),c._initiallyHidden!==!0&&c._addClasses(),b===!0&&(c._appendScrollButtons(),c._checkScrollButtons()),c._allowSelection=!0,c.selectedIndex!==-1&&(c._items[c.selectedIndex].className+=" "+c.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),c._positionSelectionToken(c.selectedIndex),c._contentSections[c.selectedIndex].style.display="block",c.initContent&&(c.initContent(c.selectedIndex),c._items[c.selectedIndex]._isInitialized=!0)),c.disabled?c.element.className+=" "+c.toThemeProperty("jqx-fill-state-disabled"):c._addHandlers(),a.jqx.utilities.resize(c.host,function(){c._initiallyHidden&&(c._initiallyHidden=!1,c._addClasses(),c.selectedIndex!==-1&&(c._items[c.selectedIndex].className+=" "+c.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),c._updateSize(!0)})},_updateSize:function(a){var b=this;if("7.0"===b._browser.version&&"msie"===b._browser.browser)if("horizontal"===b._orientation)b._header.css("width",b.host.width()-parseInt(b._header.css("padding-left"),10)-parseInt(b._header.css("padding-right"),10)-parseInt(b._header.css("border-left-width"),10)-parseInt(b._header.css("border-right-width"),10)),b._contentSections.width(b._content.width()-parseInt(b._contentSections.css("border-left-width"),10)-parseInt(b._contentSections.css("border-right-width"),10)-parseInt(b._contentSections.css("padding-left"),10)-parseInt(b._contentSections.css("padding-right"),10)),"default"===b.mode&&"string"==typeof b.height&&b.height.indexOf("%")!==-1&&b._contentSections.height(b._content.height()-b._header.height()-parseInt(b._contentSections.css("border-bottom-width"),10)-parseInt(b._contentSections.css("border-top-width"),10)-1);else if(b._header.css("height",b.host.height()-parseInt(b._header.css("padding-top"),10)-parseInt(b._header.css("padding-bottom"),10)-parseInt(b._header.css("border-top-width"),10)-parseInt(b._header.css("border-bottom-width"),10)),b._contentSections.height(b._content.height()-parseInt(b._contentSections.css("border-top-width"),10)-parseInt(b._contentSections.css("border-bottom-width"),10)-parseInt(b._contentSections.css("padding-top"),10)-parseInt(b._contentSections.css("padding-bottom"),10)),"default"===b.mode&&"string"==typeof b.width&&b.height.indexOf("%")!==-1){var c="left"===b.position?parseInt(b._contentSections.css("border-left-width"),10)+parseInt(b._contentSections.css("border-right-width"),10)+1:0;b._contentSections.width(b._content.width()-b._header.width()-c)}b._checkScrollButtons(!0),b._updatePositions(void 0,a),"popup"===b.mode&&b._positionPopup()},_stopAnimation:function(){var b=this;if(!b._allowSelection){b.selectedIndex=b._animatingIndex;var c=a(b._contentSections[b._animatingIndex]);b._initAnimate(c),c.animate("finish"),b._clearSelection(!0,b._animatingIndex),b._allowSelection=!0}},_selectAt:function(b,c,d){var e=this;if(void 0===c&&(c=e.selectedIndex),(b!==c||d===!0)&&(e._stopAnimation(),e._allowSelection)){if(e._animatingIndex=b,e.selectedIndex!==-1&&e._clearSelection(!0,c),e._allowSelection=!1,e._selecting=b,"click"===e.selectionMode&&a(e._items[b]).removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===e.mode&&e._roundedCorners){e._header.removeClass(e.toThemeProperty("jqx-rc-all"));var f,g;switch(e.position){case"top":f="jqx-rc-t",g="jqx-rc-b";break;case"bottom":f="jqx-rc-b",g="jqx-rc-t";break;case"left":f="jqx-rc-l",g="jqx-rc-r";break;case"right":f="jqx-rc-r",g="jqx-rc-l"}e._headerElement.className+=" "+e.toThemeProperty(f);for(var h=0;h<e._items.length;h++)e._items[h].className+=" "+e.toThemeProperty(f),e._contentSections[h].className+=" "+e.toThemeProperty(g)}e._items[b].className+=" "+e.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),e._selectionToken.style.display="block",e._updatePositions(b);var i;switch(e.animationType){case"fade":i=a(e._contentSections[b]),e._initAnimate(i),"none"===i.css("display")?i.fadeIn({duration:e.animationDelay,complete:function(){e._animationComplete(b,c)}}):i.fadeOut({duration:e.animationDelay,complete:function(){e._animationComplete(b,c)}});break;case"slide":i=a(e._contentSections[b]);var j=e.position;"top"===j?j="up":"bottom"===j&&(j="down"),e.slideAnimation=e._slide(i,{mode:"show",direction:j,duration:e.animationDelay},b,c);break;case"none":e._contentSections[b].style.display="block",e._animationComplete(b,c)}}},_clearSelection:function(b,c){var d=this;if("popup"===d.mode&&d._roundedCorners&&(d._headerElement.className+=" "+d.toThemeProperty("jqx-rc-all")),d._selecting=-1,void 0===c&&(c=d.selectedIndex),a(d._items[c]).removeClass(d.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),d._selectionToken.style.display="none",b!==!0&&"none"!==d.animationType){var e=a(d._contentSections[c]);if("fade"===d.animationType)d._initAnimate(e),e.fadeOut({duration:d.animationDelay,complete:function(){d._clearSelectionComplete(c)}});else if("slide"===d.animationType){var f=d.position;"top"===f?f="up":"bottom"===f&&(f="down"),d._stopAnimation(),c=d.selectedIndex,d.slideAnimation=d._slide(e,{mode:"hide",direction:f,duration:d.animationDelay},c),d.selectedIndex=-1}}else{if(c===-1)return;d._contentSections[c].style.display="none",d._clearSelectionComplete(c,b)}},_addHandlers:function(){function b(a){var b=k._closest(a.target,"li"),c=b._index;k._items[c]._disabled||(c!==k.selectedIndex?k._selectAt(c):"popup"===k.mode&&"none"!==k.popupCloseMode&&(b.className+=" "+k.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),k._clearSelection()))}function c(b){if(k.reorder===!0&&m===!0){for(var c=k._closest(b.target,"li")._index,d=k._items[j].innerHTML,e=k._contentSections[j].childNodes,f=[];e.length>0;)f.push(a(e[0]).detach());k._suppressSelectionEvents=!0,k._oldReorderIndex=j,k.removeAt(j),k.clearSelection(),k.addAt(c,{title:d,content:f}),k.selectAt(c),setTimeout(function(){a(k._items[c]).trigger("mousedown")},0)}else{var g=k._closest(b.target,"li");o(g._index)&&(g.className+=" "+k.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}function d(b){var c=k._closest(b.target,"li");o(c._index)&&a(c).removeClass(k.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}function e(a){if("#document"!==a.target.nodeName){var b=k._closest(a.target,"li");k.reorder!==!0&&k._removeByDrag!==!0||b._index!==k.selectedIndex||(m=!0,j=b._index,b.style.cursor="move")}}function f(){"mouseLeave"===k.popupCloseMode&&"popup"===k.mode&&k._clearSelection()}function g(a){var b=k._closest(a.target,"li")._index;k._items[b]._disabled||b===k.selectedIndex||k._selectAt(b)}function h(a){var b=k._closest(a.target,"li")._index;k._items[b]._disabled||"popup"===k.mode&&"none"!==k.popupCloseMode&&k._clearSelection()}function i(){"mouseLeave"===k.popupCloseMode&&"popup"===k.mode&&k._clearSelection()}var j,k=this,l=k.element.id,m=!1,n=function(b){if("click"===k.popupCloseMode&&"popup"===k.mode&&k.selectedIndex!==-1){if("svg"===b.target.tagName)return;var c=k._closest(b.target,void 0,"jqx-ribbon");if(void 0!==c&&c.getAttribute("id")!==l)return void k._clearSelection();if(void 0===b.target.className||b.target.className.indexOf("jqx-ribbon-content-popup")!==-1)return void k._clearSelection();if(a(b.target).ischildof(k.host))return;var d=!1,e=[],f=function(a){a.parentElement&&(e.push(a.parentElement),f(a.parentElement))};f(b.target),a.each(e,function(){if(void 0!==this.className&&this.className.indexOf){if(this.className.indexOf("jqx-ribbon")!==-1)return d=!0,!1;if(this.className.indexOf("jqx-ribbon")!==-1)return l===this.id&&(d=!0),!1}}),d||k._clearSelection()}};if("click"===k.selectionMode){for(var o=function(a){return(k._selecting!==a&&k._allowSelection===!1||(k._selecting===-1||k.selectedIndex!==a)&&k._allowSelection===!0)&&!k._items[a]._disabled},p=0;p<k._items.length;p++){var q=k._items[p];k.addHandler(q,"click.ribbon"+l,b),k.addHandler(q,"mouseenter.ribbon"+l,c),k.addHandler(q,"mouseleave.ribbon"+l,d),k.addHandler(q,"mousedown.ribbon"+l,e)}if("popup"===k.mode){k.addHandler(k.host,"mouseleave.ribbon"+l,function(){"mouseLeave"===k.popupCloseMode&&"popup"===k.mode&&k._clearSelection()});for(var r=0;r<k._contentSections.length;r++)k.addHandler(k._contentSections[r],"mouseleave.ribbon"+l,f);k.addHandler(a(document),"mousedown.ribbon"+l,function(a){n(a)})}if(k._removeByDrag===!0)for(var s=0;s<k._items.length;s++)k._items[s].className+=" "+k.toThemeProperty("jqx-ribbon-item-docking-layout");k.addHandler(document,"mouseup.ribbon"+l,function(){m=!1;for(var a=0;a<k._items.length;a++)k._items[a].style.cursor=""}),k.addHandler(k._header,"mouseleave.ribbon"+l,function(a){k._removeByDrag===!0&&m===!0&&(k._raiseEvent("3",{draggedIndex:j,x:a.pageX,y:a.pageY}),k._items.length>1&&k.removeAt(j),m=!1,a.target.style.cursor="")})}else if("hover"===k.selectionMode){for(var t=0;t<k._items.length;t++){var u=k._items[t];k.addHandler(u,"mouseenter.ribbon"+l,g),"popup"===k.mode&&k.addHandler(u,"click.ribbon"+l,h)}if("popup"===k.mode){k.addHandler(k.host,"mouseleave.ribbon"+l,function(){"mouseLeave"===k.popupCloseMode&&"popup"===k.mode&&k._clearSelection()});for(var v=0;v<k._contentSections.length;v++)k.addHandler(k._contentSections,"mouseleave.ribbon"+l,i);k.addHandler(a(document),"mousedown.ribbon"+l,function(a){n(a)})}}var w,x,y=a.jqx.mobile.isTouchDevice();y?(w="touchstart",x="touchend"):(w="mousedown",x="mouseup"),k.addHandler(k._scrollButtonNear,w+".ribbon"+l,function(){return"horizontal"===k._orientation?k._timeoutNear=setInterval(function(){var a=k._headerElement.scrollLeft,b=k.rtl&&"msie"===k._browser.browser?-1:1;k._headerElement.scrollLeft=a-k.scrollStep*b,k._updatePositions()},k.scrollDelay):k._timeoutNear=setInterval(function(){var a=k._headerElement.scrollTop;k._headerElement.scrollTop=a-k.scrollStep,k._updatePositions()},k.scrollDelay),!1}),k.addHandler(k._scrollButtonFar,w+".ribbon"+l,function(){return"horizontal"===k._orientation?k._timeoutFar=setInterval(function(){var a=k._headerElement.scrollLeft,b=k.rtl&&"msie"===k._browser.browser?-1:1;k._headerElement.scrollLeft=a+k.scrollStep*b,k._updatePositions()},k.scrollDelay):k._timeoutFar=setInterval(function(){var a=k._headerElement.scrollTop;k._headerElement.scrollTop=a+k.scrollStep,k._updatePositions()},k.scrollDelay),!1}),k.addHandler(a(document),x+".ribbon"+l,function(){clearInterval(k._timeoutNear),clearInterval(k._timeoutFar)})},_removeHandlers:function(b,c){var d=this,e=d.element.id;b||(b=d.selectionMode),c||(c=d.mode);for(var f=0;f<d._items.length;f++){var g=d._items[f];d.removeHandler(g,"mouseenter.ribbon"+e),"click"===b&&(d.removeHandler(g,"click.ribbon"+e),d.removeHandler(g,"mouseleave.ribbon"+e),d.removeHandler(g,"mousedown.ribbon"+e))}"click"===b?(d.removeHandler(document,"mouseup.ribbon"+e),d.removeHandler(d._header,"mouseleave.ribbon"+e)):"hover"===b&&"popup"===c&&d.removeHandler(d.host,"mouseleave.ribbon"+e);var h,i,j=a.jqx.mobile.isTouchDevice();j?(h="touchstart",i="touchend"):(h="mousedown",i="mouseup"),d.removeHandler(d._scrollButtonNear,h+".ribbon"+e),d.removeHandler(d._scrollButtonFar,h+".ribbon"+e),d.removeHandler(a(document),i+".ribbon"+e)},_checkStructure:function(a){var b=this,c=a.length;if(2!==c)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");var d=b._header.children().length,e=b._content.children().length;if(d!==e)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var b=this,c="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+b.position,d="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+b._orientation,e="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+b._orientation,f="jqx-ribbon-item jqx-ribbon-item-"+b.position,g="jqx-widget jqx-ribbon";if(b._content.removeClass(),b._header.removeClass(b.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+b._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),b.host.removeClass(),b._roundedCorners)switch(b.position){case"top":e+=" jqx-rc-t",f+=" jqx-rc-t",c+=" jqx-rc-b";break;case"bottom":e+=" jqx-rc-b",f+=" jqx-rc-b",c+=" jqx-rc-t";break;case"left":e+=" jqx-rc-l",f+=" jqx-rc-l",c+=" jqx-rc-r";break;case"right":e+=" jqx-rc-r",f+=" jqx-rc-r",c+=" jqx-rc-l"}else switch(b.position){case"top":f+=" jqx-rc-t";break;case"bottom":f+=" jqx-rc-b";break;case"left":f+=" jqx-rc-l";break;case"right":f+=" jqx-rc-r"}b.rtl===!0&&(e+=" jqx-ribbon-header-rtl",f+=" jqx-ribbon-item-rtl"),b.element.className+=" "+b.toThemeProperty(g),b._headerElement.className+=" "+b.toThemeProperty(e),b._contentElement.className+=" "+b.toThemeProperty(d);for(var h=0;h<b._items.length;h++){var i=a(b._contentSections[h]),j=a(b._items[h]);i.removeClass(),j.removeClass(b.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+b.position)),"popup"===b.mode&&(c+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+b.position+" jqx-ribbon-content-section-"+b._orientation+"-popup"),b._contentSections[h].className+=" "+b.toThemeProperty(c),b._items[h].className+=" "+b.toThemeProperty(f)}var k,l;if("popup"===b.mode?(b.selectedIndex===-1&&b._roundedCorners&&(b.element.className+=" "+b.toThemeProperty("jqx-rc-all"),b._headerElement.className+=" "+b.toThemeProperty("jqx-rc-all")),b.element.className+=" "+b.toThemeProperty("jqx-ribbon-popup"),b._headerElement.className+=" "+b.toThemeProperty("jqx-ribbon-header-"+b._orientation+"-popup"),b._contentElement.className+=" "+b.toThemeProperty("jqx-ribbon-content-popup"),b._positionPopup()):"horizontal"===b._orientation?"auto"!==b.height?(l=b._headerElement.offsetHeight,"top"===b.position?b._contentElement.style.paddingTop=b._toPx(l):b._headerElement.className+=" "+b.toThemeProperty("jqx-ribbon-header-bottom")):b._headerElement.className+=" "+b.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===b._orientation&&("auto"!==b.width?(k=b._headerElement.offsetWidth,"left"===b.position?b._contentElement.style.paddingLeft=b._toPx(k):(b._headerElement.className+=" "+b.toThemeProperty("jqx-ribbon-header-right"),b._contentElement.style.paddingRight=b._toPx(k))):(b.element.className+=" "+b.toThemeProperty("jqx-ribbon-auto"),b._headerElement.className+=" "+b.toThemeProperty("jqx-ribbon-header-auto"),b._contentElement.className+=" "+b.toThemeProperty("jqx-ribbon-content-auto-width"))),"7.0"===b._browser.version&&"msie"===b._browser.browser)if("horizontal"===b._orientation)b._header.css("width",b.host.width()-parseInt(b._header.css("padding-left"),10)-parseInt(b._header.css("padding-right"),10)-parseInt(b._header.css("border-left-width"),10)-parseInt(b._header.css("border-right-width"),10)),b._items.height(b._items.height()-parseInt(b._items.css("padding-top"),10)-parseInt(b._items.css("padding-bottom"),10)-parseInt(b._items.css("border-top-width"),10)-parseInt(b._items.css("border-bottom-width"),10)),b._contentSections.width(b._contentSections.width()-parseInt(b._contentSections.css("border-left-width"),10)-parseInt(b._contentSections.css("border-right-width"),10)-parseInt(b._contentSections.css("padding-left"),10)-parseInt(b._contentSections.css("padding-right"),10)),"default"===b.mode&&"auto"!==b.height&&("top"===b.position?b._contentSections.css("padding-top",l):b._contentSections.css("padding-bottom",l),b._content.css("height",b.host.height()+2),b._contentSections.css("height",b._content.height()-parseInt(b._contentSections.css("border-bottom-width"),10)-parseInt(b._contentSections.css("border-top-width"),10)-1));else{var m;"left"===b.position?(b._contentElement.className+=" "+b.toThemeProperty("jqx-ribbon-content-left"),m=parseInt(b._contentSections.css("border-left-width"),10)+parseInt(b._contentSections.css("border-right-width"),10)+1):(b._contentElement.className+=" "+b.toThemeProperty("jqx-ribbon-content-right"),m=0),b._header.css("height",b.host.height()-parseInt(b._header.css("padding-top"),10)-parseInt(b._header.css("padding-bottom"),10)-parseInt(b._header.css("border-top-width"),10)-parseInt(b._header.css("border-bottom-width"),10)),b._items.width(b._items.width()-parseInt(b._items.css("padding-left"),10)-parseInt(b._items.css("padding-right"),10)-parseInt(b._items.css("border-left-width"),10)-parseInt(b._items.css("border-right-width"),10)),b._contentSections.height(b._contentSections.height()-parseInt(b._contentSections.css("border-top-width"),10)-parseInt(b._contentSections.css("border-bottom-width"),10)-parseInt(b._contentSections.css("padding-top"),10)-parseInt(b._contentSections.css("padding-bottom"),10)),"default"===b.mode&&"auto"!==b.width&&("left"===b.position?b._contentSections.css("padding-left",k):b._contentSections.css("padding-right",k),b._contentSections.width(b._content.width()-b._header.width()-m))}},_positionPopup:function(){var a=this,b="7.0"===a._browser.version&&"msie"===a._browser.browser;switch(a.position){case"top":a._contentElement.style.top=a._toPx(a._headerElement.offsetHeight);break;case"bottom":b?a._contentElement.style.bottom=a._toPx(a._height(a._headerElement)):a._contentElement.style.bottom=a._toPx(a._headerElement.offsetHeight);break;case"left":a._contentElement.style.left=a._toPx(a._headerElement.offsetWidth);break;case"right":a._contentElement.style.right=a._header.outerWidth()+"px"}},_appendScrollButtons:function(){function a(a,c,d){a.className=b.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+b.position+" jqx-ribbon-scrollbutton-"+b.scrollPosition+" jqx-widget-header "+c),a.innerHTML='<div class="'+b.toThemeProperty("jqx-ribbon-scrollbutton-inner "+d)+'"></div>',"horizontal"===b._orientation?a.style.height=b._toPx(b._height(b._headerElement)):a.style.width=b._toPx(b._width(b._headerElement)),b.element.appendChild(a)}var b=this,c="horizontal"===b._orientation?["left","right"]:["up","down"],d=document.createElement("div");a(d,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+c[0]);var e=document.createElement("div");if(a(e,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+c[1]),b._scrollButtonRc(d,e),b._scrollButtonNear=d,b._scrollButtonFar=e,b.roundedCorners)switch(b.position){case"top":case"bottom":d.style.marginLeft="-1px",e.style.marginRight="-1px";break;case"right":case"left":d.style.marginTop="-1px",e.style.marginBottom="-1px"}},_scrollButtonRc:function(a,b){var c=this;if(c.roundedCorners)switch(c.position){case"top":"far"!==c.scrollPosition&&(a.className+=" "+c.toThemeProperty("jqx-rc-tl")),"near"!==c.scrollPosition&&(b.className+=" "+c.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==c.scrollPosition&&(a.className+=" "+c.toThemeProperty("jqx-rc-bl")),"near"!==c.scrollPosition&&(b.className+=" "+c.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==c.scrollPosition&&(a.className+=" "+c.toThemeProperty("jqx-rc-tl")),"near"!==c.scrollPosition&&(b.className+=" "+c.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==c.scrollPosition&&(a.className+=" "+c.toThemeProperty("jqx-rc-tr")),"near"!==c.scrollPosition&&(b.className+=" "+c.toThemeProperty("jqx-rc-br"))}},_updateItems:function(a){function b(){c._items[d]._index===c.selectedIndex&&(c.selectedIndex=d)}var c=this;c._items=c._header.children(),c._contentSections=c._content.children();for(var d=0;d<c._items.length;d++){var e=c._items[d];e.setAttribute("unselectable","on"),void 0===e._index&&(e._disabled=!1,e._isInitialized=!1,c._contentSections[d]._layout="default"),a===!0&&b(),e._index=d,a!==!0&&b(),c._contentSections[d]&&(c._contentSections[d]._index=d)}},_positionContent:function(b){var c,d,e,f,g,h,i=this,j=i._contentSections[b];"horizontal"===i._orientation?(c=i.element.offsetWidth,d=i.host.offset().left,e=i._items[b].offsetWidth,f=a(i._items[b]).offset().left,g=j.offsetWidth||parseInt(j.style.width,10),h="left"):(c=i.element.offsetHeight,d=i.host.offset().top,e=i._items[b].offsetHeight,f=a(i._items[b]).offset().top,g=j.offsetHeight||parseInt(j.style.height,10),h="top");var k,l=function(a){a<0?a=0:a+g>c&&(a=c-g),j.style[h]=i._toPx(a);
};switch(j._layout){case"near":k=f-d,l(k);break;case"far":k=f-d-(g-e),l(k);break;case"center":k=f-d-(g-e)/2,l(k);break;default:if("right"===i.position)for(var m=0;m<i._contentSections.length;m++)i._contentSections[m].style.right="1px";else j.style[h]=""}},_checkScrollButtons:function(b){var c=this,d=0;a.each(c._items,function(){var b=a(this);"none"!==b.css("display")&&(d+="horizontal"===c._orientation?b.outerWidth(!0):b.outerHeight(!0))});var e="horizontal"===c._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],f="horizontal"===c._orientation?c._width(c._headerElement):c._height(c._headerElement);if(c._itemMargins||(c._itemMargins=[],c._itemMargins.push(a(c._items[0]).css(e[0])),c._itemMargins.push(a(c._items[c._items.length-1]).css(e[1]))),d>f){c._scrollButtonNear.style.display="block",c._scrollButtonFar.style.display="block";var g=c.rtl?c._itemMargins[0]:17,h=c.rtl?c._itemMargins[0]:17;switch(c.scrollPosition){case"near":h=0,g=34;break;case"far":h=34,g=17}c._items[0]&&(c._items[0].style[e[0]]=c._toPx(g)),c._items[c._items.length-1]&&(c._items[c._items.length-1].style[e[1]]=c._toPx(h))}else c._items[0]&&(c._items[0].style[e[0]]=c._toPx(c._itemMargins[0])),c._items[c._items.length-1]&&(c._items[c._items.length-1].style[e[1]]=c._toPx(c._itemMargins[1])),c._scrollButtonNear.style.display="none",c._scrollButtonFar.style.display="none";if(b===!0)if("horizontal"===c._orientation){var i=c._toPx(c._height(c._headerElement));c._scrollButtonNear.style.height=i,c._scrollButtonFar.style.height=i}else{var j=c._toPx(c._width(c._headerElement));c._scrollButtonNear.style.width=j,c._scrollButtonFar.style.width=j}},_positionSelectionToken:function(b){var c=this;if(b!==-1){var d=a(c._items[b]);if(0===d.length)return;var e,f,g,h,i;if("horizontal"===c._orientation){var j,k;c.rtl===!0?(j=1===c._browserWidthRtlFlag?c._headerElement.scrollWidth-c._headerElement.clientWidth:0,k=c._browserScrollRtlFlag):(j=0,k=1),g=d[0].offsetLeft+j-c._headerElement.scrollLeft*k-c._selectionTokenOffsetX+2,i=c._headerElement.offsetHeight-1;var l=c._width(d[0])+parseInt(d.css("padding-left"),10)+parseInt(d.css("padding-right"),10);"top"===c.position?(e=i-c._selectionTokenOffsetY,f=""):(e="",f=i-c._selectionTokenOffsetY),c._selectionToken.style.top=c._toPx(e),c._selectionToken.style.bottom=c._toPx(f),c._selectionToken.style.left=c._toPx(g),c._selectionToken.style.width=c._toPx(l)}else{e=d[0].offsetTop-c._headerElement.scrollTop-c._selectionTokenOffsetX+2,i=c._headerElement.offsetWidth-1;var m=c._height(d[0])+parseInt(d.css("padding-top"),10)+parseInt(d.css("padding-bottom"),10);"left"===c.position?(g=i-c._selectionTokenOffsetY,h=""):(g="",h=i-c._selectionTokenOffsetY),c._selectionToken.style.top=c._toPx(e),c._selectionToken.style.left=c._toPx(g),c._selectionToken.style.right=c._toPx(h),c._selectionToken.style.height=c._toPx(m)}}},_updatePositions:function(a,b){var c=this;if(isNaN(a)&&(a=b===!0&&null!==c._selecting&&c._selecting>=0?c._selecting:c.selectedIndex),a!==-1&&(c._positionSelectionToken(a),"popup"===c.mode&&"default"!==c._contentSections[a]._layout&&c._positionContent(a),"popup"===c.mode&&("left"===c.position||"right"===c.position))){c._contentElement.style.width="auto";var d=c._contentSections[a].style.width&&c._contentSections[a].style.width.indexOf("%")>=0;d?c._contentElement.style.width=c._toPx(c._width(c._contentSections[a])-c._width(c._headerElement)):c._contentElement.style.width=c._toPx(c._width(c._contentSections[a]))}},_animationComplete:function(a,b){var c=this,d=b!==-1?b:null;c._contentElement.style.pointerEvents="auto",c._suppressSelectionEvents!==!0?(c._raiseEvent("0",{selectedIndex:a}),c._raiseEvent("2",{unselectedIndex:d,selectedIndex:a})):(c._suppressReorder!==!0&&void 0!==c._oldReorderIndex&&a!==c._oldReorderIndex&&c._raiseEvent("4",{newIndex:a,oldIndex:c._oldReorderIndex}),c._suppressSelectionEvents=!1,c._suppressReorder=!1),c.selectedIndex=a,c.initContent&&c._items[a]._isInitialized===!1&&(c.initContent(a),c._items[a]._isInitialized=!0),c._allowSelection=!0,c._selecting=null},_clearSelectionComplete:function(a,b){var c=this;c._selecting=null,void 0===a&&(a=c.selectedIndex),a!==-1&&(c._contentElement.style.pointerEvents="none",c._suppressSelectionEvents!==!0&&c._raiseEvent("1",{unselectedIndex:a})),b!==!0&&(c.selectedIndex=-1)},_slide:function(b,c,d,e){var f=this;if(f.activeAnimations||(f.activeAnimations=[]),f.activeAnimations.length>0)for(var g=0;g<f.activeAnimations.length;g++)f.activeAnimations[g].clearQueue(),f.activeAnimations[g].finish();else b.clearQueue(),b.animate("finish");var h,i="ui-effects-",j={save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.length>0&&a.data(i+b[c],a[0].style[b[c]])},restore:function(a,b){var c,d;for(d=0;d<b.length;d++)null!==b[d]&&(c=a.data(i+b[d]),void 0===c&&(c=""),a.css(b[d],c))},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b}},k=["position","top","bottom","left","right","width","height"],l=c.mode,m="show"===l,n=c.direction||"left",o="up"===n||"down"===n?"top":"left",p="up"===n||"left"===n,q={};j.save(b,k),b.show(),h=c.distance||b["top"===o?"outerHeight":"outerWidth"](!0),j.createWrapper(b).css({overflow:"hidden"}),m&&b.css(o,p?isNaN(h)?"-"+h:-h:h),q[o]=(m?p?"+=":"-=":p?"-=":"+=")+h;var r=function(){b.clearQueue(),b.stop(!0,!0)};return f.activeAnimations.push(b),b.animate(q,{duration:c.duration,easing:c.easing,complete:function(){f.activeAnimations.pop(b),"show"===l?f._animationComplete(d,e):"hide"===l&&(b.hide(),f._clearSelectionComplete(d)),j.restore(b,k),j.removeWrapper(b)}}),r},_toPx:function(a){return"number"==typeof a?a+"px":a},_width:function(b){var c=a(b),d=c.css("border-left-width"),e=c.css("border-right-width"),f=parseInt(c.css("padding-left"),10),g=parseInt(c.css("padding-right"),10),h="none"===c.css("display");h&&(b.style.display="block"),d=d.indexOf("px")===-1?1:parseInt(d,10),e=e.indexOf("px")===-1?1:parseInt(e,10);var i=b.offsetWidth-(d+e+f+g);return h&&(b.style.display="none"),Math.max(0,i)},_height:function(b){var c=a(b),d=c.css("border-top-width"),e=c.css("border-bottom-width"),f=parseInt(c.css("padding-top"),10),g=parseInt(c.css("padding-bottom"),10);d=d.indexOf("px")===-1?1:parseInt(d,10),e=e.indexOf("px")===-1?1:parseInt(e,10);var h=b.offsetHeight-(d+e+f+g);return Math.max(0,h)},_closest:function(a,b,c){if(b){if(a.nodeName.toLowerCase()===b)return a;for(var d=a.parentNode;null!==d&&"#document"!==d.nodeName;){if(d.nodeName.toLowerCase()===b)return d;d=d.parentNode}}if(c){if((" "+a.className+" ").replace(/[\n\t]/g," ").indexOf(" "+c+" ")>-1)return a;for(var e=a.parentNode;null!==e&&"#document"!==e.nodeName;){if((" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+c+" ")>-1)return e;e=e.parentNode}}},_initAnimate:function(a){if(a.initAnimate){if(a.animate)return;a.initAnimate()}}})}(jqxBaseFramework),function(a){"use strict";a.jqx.scheduler||(a.jqx.scheduler={}),a.jqx.jqxWidget("jqxScheduler","",{}),a.extend(a.jqx._jqxScheduler.prototype,{defineInstance:function(){var b={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:359,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:a.jqx.utilities.scrollBarSize,touchScrollBarSize:a.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new a.jqx.date(0),max:new a.jqx.date(9999,12,31),date:new a.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:369,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,_isCellDragging:!1,_droppedItem:null,renderCellTitle:null,autoFocus:!0,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===a.jqx._jqxScheduler.prototype?b:(a.extend(!0,this,b),this.that=this,b)},createInstance:function(b){var c=this;c._views=new Array,c._view=c.view;for(var d=0;d<c.views.length;d++)"string"===a.type(c.views[d])?c._views.push({type:c.views[d]}):c._views.push(c.views[d]);for(var d=0;d<c._views.length;d++)if(c._views[d].type==c.view){c._view=d;break}15!=a.jqx.utilities.scrollBarSize&&(c.scrollBarSize=a.jqx.utilities.scrollBarSize),c.source&&!c.source.dataBind&&(c.source=new a.jqx.dataAdapter(c.source));var e=c.source._source.datafields;e&&e.length>0&&(c._camelCase=void 0!==c.source._source.dataFields,c.selectionMode=c.selectionMode.toLowerCase()),null==c.host.attr("tabindex")&&c.host.attr("tabindex","0"),c.host.attr("role","grid"),c.host.attr("align","left"),c.host.addClass(c.toTP("jqx-grid")),c.host.addClass(c.toTP("jqx-scheduler")),c.host.addClass(c.toTP("jqx-reset")),c.host.addClass(c.toTP("jqx-rc-all")),c.host.addClass(c.toTP("jqx-widget")),c.host.addClass(c.toTP("jqx-widget-content jqx-disableselect")),c._testmodules()||(c.overlay=a("<div style='z-index: 999; position:absolute;'></div>"),c.overlay.hide(),c.overlay.appendTo(c.host),c.render(!0),a.jqx.utilities.resize(c.host,function(){var b=a(window).width(),d=a(window).height();c._hostWidth=null,c._hostHeight=null;var e=c.host.width(),f=c.host.height();c._hostWidth=e,c._hostHeight=f,c._lastHostWidth==e&&c._lastHostHeight==f||c._updatesize(c._lastHostWidth!=e,c._lastHostHeight!=f),c._lastWidth=b,c._lastHeight=d,c._lastHostWidth=e,c._lastHostHeight=f}),c.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var b=this;b.editRecurrenceDialog=null;var c=a("<div><div>"+b.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+b.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+b.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+b.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+b.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+b.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+b.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+b.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");b.editRecurrenceDialog=c,a(c).jqxWindow({rtl:b.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:b.theme,minWidth:300,minHeight:110,resizable:!1});var d=c.find("button");d.jqxButton({theme:b.theme,width:"50%",height:30});var e=!1;d.mousedown(function(){e=!0;var d=this.id;d.indexOf("editRecurringAppointmentOccurrence")>=0?b.editSeries(!1):b.editSeries(!0),a(c).jqxWindow("close")}),this.addHandler(a(c),"open",function(a){b._raiseEvent("editRecurrenceDialogOpen",{dialog:c,appointment:b.selectedJQXAppointment?b.selectedJQXAppointment.boundAppointment:null})}),b.addHandler(a(c),"keydown",function(b){if(13==b.keyCode&&a(document.activeElement).ischildof(a(c))&&"button"==document.activeElement.nodeName.toLowerCase())return a(document.activeElement).trigger("mousedown"),a(document.activeElement).trigger("mouseup"),!0}),this.addHandler(a(c),"close",function(a){return e?(e=!1,b.overlay.hide(),b.focus(),void b._raiseEvent("editRecurrenceDialogClose",{dialog:c,appointment:b.selectedJQXAppointment?b.selectedJQXAppointment.boundAppointment:null})):(b._removeFeedbackAndStopResize(),b.overlay.hide(),b.focus(),b._raiseEvent("editRecurrenceDialogClose",{dialog:c,appointment:b.selectedJQXAppointment?b.selectedJQXAppointment.boundAppointment:null}),!1)}),b.editRecurrenceDialog=c},getViewStart:function(){var a=this.getVisibleDate(),b=this._views[this._view].type;this._views[this._view];switch(b){case"dayView":case"timelineDayView":return a}var c=this.getFirstDayOfWeek(a);return c},getViewEnd:function(){var a=this.getViewStart(),b=1,c=this._views[this._view].type,d=this._views[this._view];switch(c){case"dayView":b=1;break;case"timelineDayView":b=1,d.days&&(b=d.days);break;case"weekView":case"timelineWeekView":b=7,d.days&&(b=d.days);break;case"monthView":b=41;break;case"timelineMonthView":b=41,d.days&&(b=d.days);break;case"agendaView":b=7,d.days&&(b=d.days)}return a.addDays(b)},getFirstDayOfWeek:function(a){var b=a,c=this.schedulerLocalization.firstDay;for((c<0||c>6)&&(c=6);b.dayOfWeek()!=c;)b.addDays(-1,!1);
return b},getVisibleDate:function(){var a=this.date;a<this.min&&(a=this.min),a>this.max&&(a=this.max);var b=this._views[this._view].type;this._views[this._view];switch(a=a.clearTime(),b){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return a}var c=a.day(),d=a.addDays(-c+1);return a=d},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=a('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var b=a('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");if(b.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),b.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(b),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var c=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(c=!0),c?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var d=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(d=!0),d?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");c.addClass(this.toTP("jqx-widget")),a(document.body).append(c),"cell"==b?this._cellheight=c.height():this._columnheight=c.height(),c.remove()},_testmodules:function(){var b="",c=function(){""!=b.length&&(b+=",")};this.host.jqxScrollBar||(c(),b+=" jqxscrollbar.js"),this.host.jqxButton||(c(),b+=" jqxbuttons.js"),a.jqx.dataAdapter||(c(),b+=" jqxdata.js"),this.host.jqxDateTimeInput||(c(),b+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(c(),b+=" jqxcalendar.js");try{Globalize||(c(),b+=" globalize.js")}catch(d){}if(""!=b)throw new Error("jqxScheduler: Missing references to the following module(s): "+b);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var a=this;return setTimeout(function(){a.editDialogFields.subject.focus(),a.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;if(!this.autoFocus)return void(this.focused=!0);this.host.focus();var a=this;setTimeout(function(){a.host.focus()},25),this.focused=!0}catch(b){}},hiddenParent:function(){return a.jqx.isHidden(this.host)},_updatesize:function(b,c){if(!this._loading){var d=this,e=d.host.width(),f=d.host.height();d._oldWidth||(d._oldWidth=e),d._oldHeight||(d._oldHeight=f),void 0!=d._resizeTimer&&(clearTimeout(d._resizeTimer),d._resizeTimer=null);var g=300,h=function(){d._resizeTimer&&clearTimeout(d._resizeTimer),d.resizingGrid=!0,a.jqx.isHidden(d.host)||(d._updatecolumnwidths(),d.refresh(),d._oldWidth=e,d._oldHeight=f,d.resizingGrid=!1)};h(),d._resizeTimer=setTimeout(function(){var a=d.host.width(),b=d.host.height();d._oldWidth==a&&d._oldHeight==b||h()},g)}},resize:function(a,b){void 0!=a&&(this.width=a),void 0!=b&&(this.height=b),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var b=a.jqx.mobile.isTouchDevice();return this.touchDevice=b,1==this.touchMode?(b=!0,a.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=b):0==this.touchMode&&(b=!1),b&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),b},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(b,c){if(this._cellscache=new Array,a.jqx.dataFormat&&a.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=b){for(var d in this.schedulerLocalization)b[d]&&(this.schedulerLocalization[d]=b[d]);b.loadingErrorMessage&&(this.loadingErrorMessage=b.loadingErrorMessage),c!==!1&&(this._builddataloadelement(),a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(a){var b=!1,c=this;("auto"===c.width||null===c.width||c.autowidth)&&999999==c.maxWidth&&(b=!0);var d=c._views[c._view].type,e=c._views[c._view];if("monthView"==d&&c.resources&&"none"==c.resources.orientation&&!e.monthRowAutoHeight){var f=c.vScrollBar[0].style.visibility;return c.hScrollBar[0].style.visibility="hidden",c.vScrollBar[0].style.visibility="hidden",void(f!=c.vScrollBar[0].style.visibility&&c._updatecolumnwidths())}var g=parseInt(c.scrollBarSize),h=c.table?c.table.height():0,i=0,j="inherit",f=c.vScrollBar[0].style.visibility;c.hScrollBar[0].style.visibility;if(a)var k=a;else var k=c.host.height();k-=c.columnGroups?c.showHeader?c.columnsheader.height():0:c.showHeader?c.columnsHeight:0,c.filterable&&(k-=c.filter.height()),c.pageable&&(k-=c.pagerHeight,"both"===c.pagerPosition&&(k-=c.pagerHeight)),c.showToolbar&&(k-=c.toolbarHeight),c.showLegend&&c._resources.length>0&&(k-=c.legendHeight);var l=!1;("auto"===c.height||null===c.height||c.autoheight)&&999999==c.maxHeight&&(l=!0),!l&&h>k&&c.getRows().length>0?(c.vScrollBar[0].style.visibility=j,i=4+parseInt(g),c.vScrollBar.jqxScrollBar({max:h-k})):c.vScrollBar[0].style.visibility="hidden",f!=c.vScrollBar[0].style.visibility&&c._updatecolumnwidths();var m=c.table?c.table.width():0;m>4&&(m-=4);var n=parseInt(c.host.css("border-left-width"))+parseInt(c.host.css("border-right-width")),o=n+c.host.width()-i;if(m>o&&!b){if(c.hScrollBar[0].style.visibility=j,c.hScrollBar.jqxScrollBar({max:2+n+m-o}),i=4+parseInt(g),0==g&&(i=0),!l&&h!=k){if(h>k-i+4&&c.getRows().length>0){c.hScrollBar.jqxScrollBar({max:n+m-o});var p="hidden"===c.vScrollBar[0].style.visibility;c.vScrollBar[0].style.visibility=j,c._updatecolumnwidths(),p&&c.hScrollBar.jqxScrollBar({max:m-o+n});var q=c.table?c.table.width():0;q>3&&(q-=3),q!=m&&(q<o?(c.hScrollBar.jqxScrollBar({max:n+q-o}),c.hScrollBar[0].style.visibility="hidden",i=0):p?q>o&&c.hScrollBar.jqxScrollBar({max:n+q-o}):c.hScrollBar.jqxScrollBar({max:m-o+n-g}))}h-k>0?c.vScrollBar.jqxScrollBar({max:h-k+i}):c.vScrollBar[0].style.visibility="hidden"}}else c.hScrollBar[0].style.visibility="hidden";0===c.getRows().length&&(c.vScrollBar[0].style.visibility="hidden",c.bottomRight[0].style.visibility="hidden"),"hidden"==c.vScrollBar[0].style.visibility&&0!=c.vScrollInstance.value&&c.vScrollInstance.setPosition(0)},_measureElementWidth:function(b){var c=a("<span style='visibility: hidden; white-space: nowrap;'>"+b+"</span>");c.addClass(this.toTP("jqx-widget")),c.addClass(this.toTP("jqx-grid")),c.addClass(this.toTP("jqx-grid-column-header")),c.addClass(this.toTP("jqx-widget-header")),a(document.body).append(c);var d=c.outerWidth()+20;return c.remove(),d},_arrangeAutoHeight:function(a){if(a||(a=0),"auto"===this.height||null===this.height||this.autoheight){var b=this.table.height(),c=0;if(this._hostHeight=null,c+=this.columnGroups?this.showHeader?this.columnsheader.height():-1:this.showHeader?this.columnsHeight:-1,c+=this.showLegend&&this._resources.length>0?this.legendHeight:0,c+=this.showToolbar?this.toolbarHeight:0,c+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(c+=this.pageable?this.pagerHeight:0),c+=b,this.filterable){var d=this.filter.find(".filterrow"),e=this.filter.find(".filterrow-hidden"),f=1;e.length>0&&(f=0),c+=this.filterHeight-1+this.filterHeight*d.length*f}return c+a>this.maxHeight?this.host.height(this.maxHeight):this.host.height(c+a),!0}return!1},_arrangeAutoWidth:function(a){if(a||(a=0),"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var b,c=0,d=0;d<this.columns.records.length;d++){var e=this.columns.records[d].width;this.columns.records[d].hidden||("auto"==e?(e=this._measureElementWidth(this.columns.records[d].text),c+=e):c+=e)}return b=c,b+a>this.maxWidth?this.host.width(this.maxWidth):this.host.width(b+a),!0}return!1},_measureTopAndHeight:function(){var a=this.host.height(),b=0;return this.showToolbar&&(b+=this.toolbarHeight,a-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&this._resources.length>0&&(b+=parseInt(this.legendHeight)+1),{top:b,height:a}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var a=this.legendHeight;0==this._resources.length&&(a=0);var b=this._hostWidth?this._hostWidth:this.host.width(),c=this._hostHeight?this._hostHeight:this.host.height(),d=c;this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden";var e=0;if(this.showToolbar?(this.toolbar.width(b),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",e+=this.toolbarHeight,c-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=b+"px",this.legendbarbottom[0].style.height=a+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition){this.legendbartop[0].style.width!=b+"px"&&(this.legendbartop[0].style.width=parseInt(b)+"px"),this.legendbartop[0].style.height!=a+"px"&&(this.legendbartop[0].style.height=parseInt(a-1)+"px"),this.legendbartop[0].style.top!=e+"px"&&(this.legendbartop[0].style.top=e+"px");var f=e+a+"px";e+=a,this.content[0].style.top!=f&&(this.content[0].style.top=e+"px")}this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(d);var g=parseInt(this.scrollBarSize),h=4,i=2,j=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(j=g+h),"hidden"!=this.hScrollBar[0].style.visibility&&(i=g+h+2),0==g&&(i=0,j=0),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var k=this._arrangeAutoHeight(i-2),l=this._arrangeAutoWidth(j+1);if((k||l)&&(this.legendbartop[0].style.width=parseInt(b)+"px",this.toolbar[0].style.width=parseInt(b)+"px",this.legendbarbottom[0].style.width=parseInt(b)+"px",this.filter[0].style.width=parseInt(b)+"px"),k){var m=this._measureTopAndHeight();e=m.top,c=m.height}}var n=0;this.showLegend&&"bottom"==this.legendPosition?(i+=a,n+=a):this.showLegend&&(i+=a),this.hScrollBar[0].style.height!=g+"px"&&(this.hScrollBar[0].style.height=parseInt(g)+"px"),this.hScrollBar[0].style.top==e+c-h-g-n+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=e+c-h-g-n-1+"px",this.hScrollBar[0].style.left="0px");var o=this.hScrollBar[0].style.width,p=!1,q=!1;0==j?o!=b-2+"px"&&(this.hScrollBar[0].style.width=b-2+"px",p=!0):o!=b-g-h+"px"&&(this.hScrollBar[0].style.width=b-g-h+"px",p=!0),this.vScrollBar[0].style.width!=g+"px"&&(this.vScrollBar[0].style.width=g+"px",q=!0),this.vScrollBar[0].style.height!=parseInt(c)-i+"px"&&(this.vScrollBar[0].style.height=parseInt(c)-i+"px",q=!0),this.vScrollBar[0].style.left==parseInt(b)-parseInt(g)-h+"px"&&this.vScrollBar[0].style.top==e+"px"||(this.vScrollBar[0].style.top=e+"px",this.vScrollBar[0].style.left=parseInt(b)-parseInt(g)-h+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:e}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:g+2}));var r=this.vScrollInstance;r.disabled=this.disabled;var s=this.hScrollInstance;s.disabled=this.disabled,p&&s.refresh(),q&&r.refresh();var t=function(a){"hidden"!=a.vScrollBar[0].style.visibility&&"hidden"!=a.hScrollBar[0].style.visibility?(a.bottomRight[0].style.visibility="inherit",a.bottomRight[0].style.left=1+parseInt(a.vScrollBar.css("left"))+"px",a.bottomRight[0].style.top=parseInt(a.hScrollBar.css("top"))+"px",a.rtl&&a.bottomRight.css("left","0px"),a.bottomRight[0].style.width=parseInt(g)+3+"px",a.bottomRight[0].style.height=parseInt(g)+4+"px"):a.bottomRight[0].style.visibility="hidden"};t(this),this.content[0].style.width!=b-j+"px"&&(this.content[0].style.width=b-j+"px"),this.content[0].style.height!=c-i+3+"px"&&(this.content[0].style.height=c-i+3+"px"),this.content[0].style.top!=e+"px"&&(this.content[0].style.top=parseInt(e)+"px"),this.rtl&&this.content.css("left",j),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",e-1+c-a-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,b!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),c!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=b,this._hostHeight=d;var u=this.schedulercontent.coord();this._tableOffset=u}},scrollOffset:function(a,b){if(0==arguments.length||null!=a&&"object"==typeof a&&!a.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=a&&"object"==typeof a)var b=a.left,c=a.top,a=c;null!=a&&null!=b&&void 0!=a&&void 0!=b&&(this.vScrollBar.jqxScrollBar("setPosition",a),this.hScrollBar.jqxScrollBar("setPosition",b))},scrollleft:function(a){null!=a&&void 0!=a&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",a)},scrolltop:function(a){null!=a&&void 0!=a&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",a)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(a){this._updating=!1,a!==!1&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(b,c,d){if(this.loadingstate!==!0){var e=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(a(this.dataloadelement).css("visibility","visible"),a(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(a(this.dataloadelement).css("visibility","hidden"),a(this.dataloadelement).css("display","none")));var f=this;null==b&&(b={}),void 0!=b.sortcomparer&&null!=b.sortcomparer||(b.sortcomparer=null),void 0!=b.filter&&null!=b.filter||(b.filter=null),void 0!=b.sort&&null!=b.sort||(b.sort=null),void 0!=b.data&&null!=b.data||(b.data=null);var g=null;null!=b&&(g=void 0!=b._source?b._source.url:b.url),this.dataview=this.dataview||new a.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new a.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,this.dataview.scheduler=this,this.resourcesDataView.scheduler=this,this._loading=!0,this.appointments=new Array,this.uiappointments=new Array;var h=1;this.resources&&this.resources.source&&(h=2);var i=0,j=function(){if(i==h){f._resourcesBinding=!1;var b=f._resources.length>1?f._resources.length:1;if(f.resources&&"horizontal"===f.resources.orientation?(f.tableColumns=b,f.tableRows=1):f.resources&&"vertical"===f.resources.orientation?(f.tableRows=b,f.tableColumns=1):(f.tableColumns=1,f.tableRows=1),f._render(),f.autoShowLoadElement&&!f._loading&&(a(f.dataloadelement).css("visibility","hidden"),a(f.dataloadelement).css("display","none")),f._updateTouchScrolling(),f._raiseEvent("bindingComplete"),d&&d(),!f.initializedcall){if(f.initializedcall=!0,f.isInitialized=!0,(null!=f.width&&f.width.toString().indexOf("%")!=-1||null!=f.height&&f.height.toString().indexOf("%")!=-1)&&f._updatesize(!0),f.ready&&f.ready(),f._rendercelltexts&&f._rendercelltexts(),f._gridRenderElement){a(f._gridRenderElement).show("slow");var c=6e3+Math.floor(4e3*Math.random()+1),g=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();e[a.camelCase(g)](function(){a(f._gridRenderElement).hide("slow",function(){a(f._gridRenderElement).remove()})},c)}if("hidden"==f.host.css("visibility")){a.jqx.browser.msie&&a.jqx.browser.version<8;"visible"==f.vScrollBar.css("visibility")&&f.vScrollBar.css("visibility","inherit"),"visible"==f.hScrollBar.css("visibility")&&f.hScrollBar.css("visibility","inherit"),f._intervalTimer=setInterval(function(){"visible"==f.host.css("visibility")&&(f._updatesize(!0),clearInterval(f._intervalTimer))},100)}}}};this._resourcesBinding=!1,this.dataview.update=function(b){f._loading=!1,f.appointmentsByKey=new Array,f.appointments=new Array,f.uiappointments=new Array;for(var c=(f.source._source.datafields,["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"]),d=new Array,e=0;e<f.source.records.length;e++){var g=f.source.records[e],h={};for(var k in f.appointmentDataFields){var l=f.appointmentDataFields[k],m=g[l];if("from"!=k&&"to"!=k||(m=new a.jqx.date(m)),"style"==k&&m){var n=f.getAppointmentColors(m);h.color=n.color,h.background=n.background,h.borderColor=n.border}if("recurrencePattern"==k&&m&&(m=new a.jqx.scheduler.recurrencePattern(m),m.timeZone=g.timeZone||f.timeZone),"recurrenceException"==k){var o=new Array;if(m){m.indexOf("EXDATE:")>=0&&(m=m.substring(m.indexOf("EXDATE:")+7));var p=new Array;m.indexOf(",")>=0?p=m.split(","):p.push(m);for(var q=0;q<p.length;q++){var r=p[q];if(r.indexOf(";")>=0){var s=r.split(";")[1];r=r.split(";")[0],s.toLowerCase().indexOf("display")>=0&&s.toLowerCase().indexOf("none")&&(h.hidden=!0)}try{var t=a.jqx.scheduler.utilities.untilStringToDate(r);"Invalid Date"!=t&&(t=h.timeZone?new a.jqx.date(t,h.timeZone):f.timeZone?t.toTimeZone(f.timeZone):new a.jqx.date(t))}catch(u){var t=new a.jqx.date(r,f.timeZone)}o.push(t)}}m=o}h[k]=m}for(var v in c){var k=c[v];if(void 0==h[k]){var m="";if("originalData"==k)continue;"ownerId"==k&&(m=null),"timeZone"==k&&(m=null),"recurrencePattern"==k&&(m=null),"recurrenceException"==k&&(m=null),"allDay"==k&&(m=!1),"draggable"==k&&(m=!0),"resizable"==k&&(m=!0),"hidden"==k&&(m=!1),"resourceId"==k&&(m=null),"from"==k&&(m=new a.jqx.date),"to"==k&&(m=(new a.jqx.date).addHours(1)),h[k]=m}}h.originalData=g,f.resources&&!f.resources.source&&(f._resourcesBinding||d.indexOf(h.resourceId)==-1&&d.push(h.resourceId)),f.appointmentsByKey[g.uid]=h,f.appointments.push(h);var w=new a.jqx.scheduler.appointment(h);if(h.timeZone&&(w.from=w.from.toTimeZone(h.timeZone),w.to=w.to.toTimeZone(h.timeZone)),f.timeZone?(h.timeZone||(w.timeZone=f.timeZone),w.from=w.from.toTimeZone(f.timeZone),w.to=w.to.toTimeZone(f.timeZone)):(w.from=w.from.toTimeZone(null),w.to=w.to.toTimeZone(null)),h.jqxAppointment=w,h.recurrenceException)for(var x=0;x<h.recurrenceException.length;x++){var t=w.recurrenceException[x],y=w.clone();y.occurrenceFrom=t;var z=w.duration();f.allDay&&(z=new a.jqx.timeSpan(1e4*(f.to-f.from))),y.from=t,y.to=t.add(z),y.rootAppointment=w,y.hidden=!0,w.exceptions.push(y)}w.boundAppointment=h,w.scheduler=f,f.uiappointments.push(w)}f._resourcesBinding||(f._resources=d),i++,j()},this.resourcesDataView.update=function(a){if(f.resources.dataField){f._resources=new Array;for(var b=0;b<a.length;b++)f._resources.indexOf(a[b][f.resources.dataField])>=0||a[b][f.resources.dataField]&&f._resources.push(a[b][f.resources.dataField])}else f._resources=a;void 0==f.resources.orientation&&(f.resources.orientation="none"),i++,j()},this.dataview.databind(b),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source))}},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=b,e=c;e.owner=this;var f=new a.Event(d);f.owner=this,f.args=e;var g=this.host.trigger(f);return c=f.args,g},ensureAppointmentVisible:function(a){return!!this.appointmentsByKey[a]&&this._ensureAppointmentVisible(this.appointmentsByKey[a].jqxAppointment)},_ensureAppointmentVisible:function(b){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!b)return!1;var c=this.getViewStart(),d=this.getViewEnd(),e=a.jqx.scheduler.utilities.rangeIntersection(b.from,b.to,c,d);if(!e)return this.navigateTo(b.from),this._ensureAppointmentVisible(b);var f=b.id,g=a('[data-key="'+f+'"]');if(g.length>0)var h=g[0];else{if(!(b.elements&&b.elements.length>0))return!1;var i=b.elements[0],h=i.element}var j=this.vScrollInstance.value,k=this.hScrollInstance.value;if(this.rtl)var k=this.hScrollInstance.max-k;var l=this.element.clientHeight,m=this.element.clientWidth,n=0;n+=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0;var o=this._views[this._view].type,p=this._views[this._view],q=0;if("dayView"==o||"weekView"==o){var r=this.showAllDayRow;!p.timeRuler||"dayView"!==o&&"weekView"!==o||void 0!=p.timeRuler.showAllDayRow&&(r=p.timeRuler.showAllDayRow),r&&(q=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight);var s=b.duration().days()>=1||b.allDay;if(s&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(n+=this.toolbarHeight),l-=n,this.showLegend&&this._resources.length>0&&(l-=this.legendHeight);var t=0,u=0,v=j-t,w=l+v-q,x=k-u,y=m+x,z=h;z=a(z);var A=(z[0].clientHeight,z.position().top-q);if(A<=v){var B=A;B<0&&(B=0),(!s||s&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",B)}else if(A>=w){var B=A;B<0&&(B=0),(!s||s&&this.tableRows>1)&&this.vScrollBar.jqxScrollBar("setPosition",B-2)}var C=z.position().left;C=Math.round(C);C+z.outerWidth();if(0===Math.round(z.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),C<=x){var D=C-z.outerWidth()+u;D<0&&(D=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-C):this.hScrollBar.jqxScrollBar("setPosition",C)}C>y&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-C):this.hScrollBar.jqxScrollBar("setPosition",C))},ensureVisible:function(b,c){for(var d=this,e="date"==a.type(b)?b:b.toDate(),f=0;f<d.rows.length;f++)for(var g=0;g<d.rows[f].cells.length;g++){var h=d.rows[f].cells[g];if(!c||h.getAttribute("data-view")===c){var i=h.getAttribute("data-date"),j=d._getDateByString,k=j(i);if(k.valueOf()==e.valueOf())return d._ensureVisible(h)}}},_ensureVisible:function(b){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var c=this.vScrollBar.jqxScrollBar("value"),d=this.hScrollBar.jqxScrollBar("value");this.rtl&&(d=this.hScrollBar.jqxScrollBar("max")-d);var e=this._hostHeight,f=this._hostWidth,g=0;g+=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0,this.showToolbar&&(g+=this.toolbarHeight),e-=g,this.showLegend&&this._resources.length>0&&(e-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(e-=20);var h=0,i=0,j=this._views[this._view].type,k=this._views[this._view],l=0;if("dayView"==j||"weekView"==j){var m=this.showAllDayRow;!k.timeRuler||"dayView"!==j&&"weekView"!==j||void 0!=k.timeRuler.showAllDayRow&&(m=k.timeRuler.showAllDayRow),m&&(l=1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight)}var n=c-h,o=e+n-l,p=d-i,q=f+p,r=b;r=a(r);var s=r.position().top-l,t=s+r.outerHeight(),u=r.position().left;u=Math.round(u);var v=u+r.outerWidth();if(0===Math.round(r.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),u<=p){var w=u-r.outerWidth()+i;w<0&&(w=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-w):this.hScrollBar.jqxScrollBar("setPosition",w)}v>=q&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+i+v-f)):this.hScrollBar.jqxScrollBar("setPosition",2+i+v-f));var x=r.parent().index();if(this.tableRows>0&&x--,0===Math.round(r.position().top)||0===x)return this.vScrollBar.jqxScrollBar("setPosition",0);var y=this.table[0].rows.length-1,z=this.table[0].rows[y];if(z[0]===r.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(s<=n){var A=s;return A<0&&(A=0),this.vScrollBar.jqxScrollBar("setPosition",A)}return t>=o?this.vScrollBar.jqxScrollBar("setPosition",4+t-e+l):void 0},getColumn:function(b){var c=null;return this.columns.records&&a.each(this.columns.records,function(){if(this.datafield==b||this.displayfield==b)return c=this,!1}),c},_setcolumnproperty:function(a,b,c){if(null==a||null==b||null==c)return null;b=b.toLowerCase();var d=this.getColumn(a);if(null!=d){d[b];d[b]=c;var e=this.getColumn(a);switch(null!=e&&(e[b]=c),b){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==b?(this._rendercolumnheaders(),this.refresh()):"text"==b||"class"==b||"hidden"==b||"pinned"==b||"resizable"==b||"renderer"==b?(this._rendercolumnheaders(),this.refresh()):"width"==b||"maxwidth"==b||"minwidth"==b?(d._width=null,d._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(a,b){if(null==a||null==b)return null;b=b.toLowerCase();var c=this.getColumn(a);return c[b]},setColumnProperty:function(a,b,c){this._setcolumnproperty(a,b,c)},hideColumn:function(a){this._setcolumnproperty(a,"hidden",!0)},showColumn:function(a){this._setcolumnproperty(a,"hidden",!1)},updateBoundData:function(a,b){this.databind(this.source,a,b)},refresh:function(b){if(1!=b){var c=this;if(a.jqx.isHidden(c.host))return;c.table[0].style.top="0px",c.vScrollInstance.setPosition(0),c._renderrows(),c._arrange(),c._renderhorizontalscroll(),c._updateTouchScrolling(),c._refreshToolBar(),c._updateFocusedCell()}},_updateFocusedCell:function(){var a=this;if(a.focusedCell)return void a._updateCellsSelection();var b=a._views[a._view].type,c=a._views[a._view],d=a.showAllDayRow;if(!c.timeRuler||"dayView"!==b&&"weekView"!==b||void 0!=c.timeRuler.showAllDayRow&&(d=c.timeRuler.showAllDayRow),!d||"dayView"!=b&&"weekView"!=b?(a.focusedCell=a.rows[0].cells[0],a.rtl&&(a.focusedCell=a.rows[0].cells[a.rows[0].cells.length-1])):(a.focusedCell=a.rows[1].cells[0],a.rtl&&(a.focusedCell=a.rows[1].cells[a.rows[1].cells.length-1])),a.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")>=0){a.focusedCell=null;for(var e=0;e<this.rows.length;e++){for(var f=0;f<this.rows[e].cells.length;f++){var g=this.rows[e].cells[f];if(g.className.indexOf("jqx-scheduler-disabled-cell")==-1){a.focusedCell=g;break}}if(a.focusedCell)break}}a._lastSelectedCell=a.focusedCell,a._updateCellsSelection()},_updateTouchScrolling:function(){var b=this.that;if(b.isTouchDevice()){var c=a.jqx.mobile.getTouchEventName("touchstart"),d=a.jqx.mobile.getTouchEventName("touchend"),e=a.jqx.mobile.getTouchEventName("touchmove");b.schedulercontent&&(b.removeHandler(b.table,c+".touchScroll"),b.removeHandler(b.table,e+".touchScroll"),b.removeHandler(b.table,d+".touchScroll"),b.removeHandler(b.table,"touchcancel.touchScroll"),a.jqx.mobile.touchScroll(b._table[0],Math.max(b.vScrollInstance.max,b.hScrollInstance.max),function(a,c){if(!b.dragOrResize){if(null!=c&&"hidden"!=b.vScrollBar.css("visibility")){
b.vScrollInstance.value;b.vScrollInstance.setPosition(c)}if(null!=a&&"hidden"!=b.hScrollBar.css("visibility")){b.hScrollInstance.value;b.hScrollInstance.setPosition(a)}b.scrolled=new Date}},this.element.id,this.hScrollBar,this.vScrollBar))}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(a){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(a)},scrollTop:function(a){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(a)},render:function(b){var c="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=c,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var d=this.host.find("#verticalScrollBar"+this.element.id),e=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=d.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=e.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var f=this.source.datafields;if(null==f&&this.source._source&&(f=this.source._source.datafields),f)for(var g=0;g<this.columns.length;g++){var h=this.columns[g];if(h&&h.cellsFormat&&h.cellsFormat.length>2)for(var i=0;i<f.length;i++)if(f[i].name==h.datafield&&!f[i].format){f[i].format=h.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var j=this,k=function(){j.content&&(j.content[0].scrollTop=0,j.content[0].scrollLeft=0),j.schedulercontent&&(j.schedulercontent[0].scrollLeft=0,j.schedulercontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(a){return k(),!1}),b!==!0&&this._render()},_render:function(){var b=this;if(null!=b.dataview&&!b._loading){(25!=b.columnsHeight||b.columnGroups)&&b._measureElement("column"),b.rowinfo=new Array,b._removeHandlers(),null==b.columns?b.columns=new a.jqx.schedulerDataCollection(b.element):b._initializeColumns(),b.host.height(b.height),b.host.width(b.width),a.jqx.utilities.html(b.content,""),b.columnsheader=b.columnsheader||a('<div style="overflow: hidden;"></div>'),b.columnsheader.remove(),b.columnsheader.addClass(b.toTP("jqx-widget-header")),b.columnsheader.addClass(b.toTP("jqx-grid-header")),b.showHeader?b.columnsheader&&b.columnsheader.css("display","block"):b.columnsheader.css("display","none"),b.schedulercontent=b.schedulercontent||a('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),b.schedulercontent.remove();var c=b.columnsHeight;c=b._preparecolumnGroups(),b.columnsheader.height(c),b.content.append(b.columnsheader),b.content.append(b.schedulercontent),b._rendercolumnheaders(),b.tableheight=null,b.schedulercontent.find("#contenttable"+b.element.id).remove(),null!=b.table&&(b.table.remove(),b.table=null),null!=b.pinnedtable&&(b.pinnedtable.remove(),b.pinnedtable=null),b.table=a('<div id="contenttable'+b.element.id+'" style="overflow: hidden; position: relative;"></div>'),b.pinnedtable=a('<div id="contenttable2'+b.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),b.schedulercontent.addClass(b.toTP("jqx-grid-content")),b.schedulercontent.addClass(b.toTP("jqx-widget-content")),b.schedulercontent.append(b.table),1==b.tableRows&&b.schedulercontent.append(b.pinnedtable),b._renderrows(),b._arrange(),b._resourcesElements=new Array;var d=function(c,d){c.children().remove();var c=a("<div style='margin:5px; position: relative;'></div>").appendTo(c);b._resourcesElements[d]=new Array,a.each(b._resources,function(e){var f=b.getColors(e),g=this.toString(),h=a("<div data-toggle='on' style='border-color: "+f.border+"; background: "+f.background+";' class='"+b.toThemeProperty("jqx-scheduler-legend")+"'></div>");h.appendTo(c);var i=a("<div class='"+b.toThemeProperty("jqx-scheduler-legend-label")+"'>"+g+"</div>");i.appendTo(c),b._resourcesElements[d][g]=h;var j=function(){"on"==h.attr("data-toggle")?b.hideAppointmentsByResource(g):b.showAppointmentsByResource(g)};b.addHandler(h,"mousedown",function(){return j(),!1}),b.addHandler(i,"mousedown",function(){return j(),!1})})};d(b.legendbarbottom,"bottom"),d(b.legendbartop,"top"),"top"==b.legendPosition?b.legendbarbottom.hide():b.legendbartop.hide(),0==b._resources.length&&(b.legendbarbottom.hide(),b.legendbartop.hide()),b.renderToolBar?b.renderToolBar(b.toolbar):(null!=b.dateTimeInput&&b.dateTimeInput.jqxDateTimeInput("destroy"),null!=b.toolbarLeftButton&&b.toolbarLeftButton.jqxButton("destroy"),null!=b.toolbarRightButton&&b.toolbarRightButton.jqxButton("destroy"),b._renderToolBar()),b.disabled&&b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b._renderhorizontalscroll(),b._addHandlers(),b.clearSelection();var e=b._views[b._view].type,f=b._views[b._view],g=b.showAllDayRow;!f.timeRuler||"dayView"!==e&&"weekView"!==e||void 0!=f.timeRuler.showAllDayRow&&(g=f.timeRuler.showAllDayRow),!g||"dayView"!=e&&"weekView"!=e?b.focusedCell=b.rows[0].cells[0]:b.focusedCell=b.rows[1].cells[0],b._lastSelectedCell=b.focusedCell,b._updateCellsSelection()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(a){var b=null;a.className.indexOf("jqx-scheduler-appointment")>=0&&a.className.indexOf("jqx-scheduler-appointment-inner-content")==-1&&a.className.indexOf("jqx-scheduler-appointment-content")==-1&&a.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&(b=a);for(var c=a,d=0;d<4&&c.parentNode;d++)c.className.indexOf("jqx-scheduler-appointment")>=0&&c.className.indexOf("jqx-scheduler-appointment-innter-content")==-1&&c.className.indexOf("jqx-scheduler-appointment-content")==-1&&c.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&(b=c),c=c.parentNode;return b},getJQXAppointmentByElement:function(a){var b=this,c=a.getAttribute?a.getAttribute("data-key"):a.attr("data-key");if(c.indexOf(".")>=0)var d=c.substring(0,c.indexOf(".")),e=(c.substring(c.indexOf(".")+1),b.appointmentsByKey[d]),f=e.jqxAppointment.renderedAppointments[c];else var e=b.appointmentsByKey[c],f=e.jqxAppointment;return f},_renderToolBar:function(){var b=this,c=a('<div style="width: 100%; height: 100%; position: relative;"></div>'),d=(this.toolbarHeight-20)/2;c.css("top",d),b.toolbarLeftButton=a('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-left: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),b.toolbarRightButton=a('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-right: 3px; width: 27px; float: left;"></div>'),b.toolbarLeftButton.attr("title",b.schedulerLocalization.toolBarPreviousButtonString),b.toolbarRightButton.attr("title",b.schedulerLocalization.toolBarNextButtonString),b.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:b.disabled,theme:b.theme}),b.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:b.disabled,theme:b.theme}),b.dateTimeInput=a('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),b.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),b.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var e=a("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");e.addClass(b.toThemeProperty("jqx-icon-arrow-left")),b.toolbarLeftButton.wrapInner(e);var f=a("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");f.addClass(b.toThemeProperty("jqx-icon-arrow-right")),b.toolbarRightButton.wrapInner(f),b.rtl&&(b.toolbarLeftButton.css("float","right"),b.toolbarRightButton.css("float","right"),b.dateTimeInput.css("float","right")),b.addHandler(b.toolbarRightButton,"mouseenter",function(){f.addClass(b.toThemeProperty("jqx-icon-arrow-right-hover"))}),b.addHandler(b.toolbarLeftButton,"mouseenter",function(){e.addClass(b.toThemeProperty("jqx-icon-arrow-left-hover"))}),b.addHandler(b.toolbarRightButton,"mouseleave",function(){f.removeClass(b.toThemeProperty("jqx-icon-arrow-right-hover"))}),b.addHandler(b.toolbarLeftButton,"mouseleave",function(){e.removeClass(b.toThemeProperty("jqx-icon-arrow-left-hover"))}),b.addHandler(b.toolbarRightButton,"mousedown",function(){f.addClass(b.toThemeProperty("jqx-icon-arrow-right-selected"))}),b.addHandler(b.toolbarRightButton,"mouseup",function(){f.removeClass(b.toThemeProperty("jqx-icon-arrow-right-selected"))}),b.addHandler(b.toolbarLeftButton,"mousedown",function(){e.addClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),b.addHandler(b.toolbarLeftButton,"mouseup",function(){e.removeClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),b.addHandler(a(document),"mouseup.pagerbuttons"+b.element.id,function(){f.removeClass(b.toThemeProperty("jqx-icon-arrow-right-selected")),e.removeClass(b.toThemeProperty("jqx-icon-arrow-left-selected"))}),b.addHandler(b.toolbarRightButton,"click",function(){b.toolbarRightButton.jqxButton("disabled")||(b.rtl?b.navigateBackward():b.navigateForward(),b.focus())}),b.addHandler(b.toolbarLeftButton,"click",function(){b.toolbarLeftButton.jqxButton("disabled")||(b.rtl?b.navigateForward():b.navigateBackward(),b.focus())}),b.toolbar.children().remove(),b.toolbar.append(c),b.rtl?(c.append(b.toolbarRightButton),c.append(b.dateTimeInput),c.append(b.toolbarLeftButton)):(c.append(b.toolbarLeftButton),c.append(b.dateTimeInput),c.append(b.toolbarRightButton)),b.toolbarDetails=a('<div class="'+b.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),b.toolbarViews=a('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),b.rtl&&(b.toolbarDetails.css("float","right"),b.toolbarDetails.css("margin-left","0px"),b.toolbarDetails.css("margin-right","7px"),b.toolbarViews.css("margin-left","10px"),b.toolbarViews.css("margin-right","0px"),b.toolbarViews.css("float","left"));var g=new Array;b.rtl?(g.push(b.toolbarRightButton),g.push(b.dateTimeInput),g.push(b.toolbarLeftButton)):(g.push(b.toolbarLeftButton),g.push(b.dateTimeInput),g.push(b.toolbarRightButton));var h=b._views.length-1;a.each(b._views,function(c){var d="",e=c;if(b.rtl&&(e=h-c),void 0!=b._views[e].text)d=b._views[e].text;else switch(b._views[e].type){case"dayView":d=b.schedulerLocalization.dayViewString;break;case"weekView":d=b.schedulerLocalization.weekViewString;break;case"monthView":d=b.schedulerLocalization.monthViewString;break;case"agendaView":d=b.schedulerLocalization.agendaViewString;break;case"timelineDayView":d=b.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":d=b.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":d=b.schedulerLocalization.timelineMonthViewString}var f='<span data-type="'+b._views[e].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+d+"</span>",i=a(f);i.addClass(b.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),g.push(i),0==e&&(b.rtl?i.addClass(b.toTP("jqx-rc-r")):i.addClass(b.toTP("jqx-rc-l"))),e==b._views.length-1&&(b.rtl?i.addClass(b.toTP("jqx-rc-l")):i.addClass(b.toTP("jqx-rc-r"))),e===b._view&&i.addClass(b.toTP("jqx-fill-state-pressed")),i.mouseenter(function(){i.addClass(b.toTP("jqx-fill-state-hover"))}),i.mouseleave(function(){i.removeClass(b.toTP("jqx-fill-state-hover"))}),i.mousedown(function(){b._setView(e),b.focus()}),a(b.toolbarViews).append(i)}),c.append(b.toolbarDetails),c.append(b.toolbarViews),b._views.length<2&&b.toolbarViews.hide(),b.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:b.rtl,localization:b._getDateTimeInputLocalization(),firstDayOfWeek:b.schedulerLocalization.firstDay,todayString:b.schedulerLocalization.todayString,clearString:b.schedulerLocalization.clearString,showFooter:!0,height:19,width:18,renderMode:"simple"}),b.addHandler(b.dateTimeInput,"change",function(c){b.fromNavigate||(b.navigateTo(new a.jqx.date(c.args.date,b.timeZone)),b.focus())}),b.tabKeyElements=g;var i=b._views[b._view].type,j=function(c){var d=a.jqx.formatDate(b.getViewStart().toDate(),c,b.schedulerLocalization),e=a.jqx.formatDate(b.getViewEnd().toDate(),c,b.schedulerLocalization);"dayView"===i||"timelineDayView"===i?b.toolbarDetails.html(d):b.toolbarDetails.html(d+" - "+e),b.rtl?(b.toolbarDetails.addClass("jqx-rtl"),b.toolbarDetails.html("<span style='direction:rtl;'>"+e+"<span> - <span style='direction:rtl;'>"+d+"</span>")):b.toolbarDetails[0].style.direction="ltr"};j(b.toolBarRangeFormat);var k=b.toolbarViews.width()+b.toolbarDetails.width()+120,l=b.toolBarRangeFormat;if(k>b.host.width()){l=b.toolBarRangeFormatAbbr,j(l);var k=b.toolbarViews.width()+b.toolbarDetails.width()+120;if(k>b.host.width()){b.toolbarDetails.hide();var k=b.toolbarViews.width()+120;k>b.host.width()&&b.toolbarViews.hide()}}else b.currentToolbarFormat=b.toolBarRangeFormat},_setView:function(b){var c=this;if(c.toolbarViews.find(".jqx-fill-state-pressed").removeClass(c.toTP("jqx-fill-state-pressed")),c.rtl?a(c.toolbarViews.children()[c._views.length-1-b]).addClass(c.toTP("jqx-fill-state-pressed")):a(c.toolbarViews.children()[b]).addClass(c.toTP("jqx-fill-state-pressed")),c._view!==b){var d=c.vScrollBar[0].style.visibility;d&&(c._scrollPosition||(c._scrollPosition=new Array),c._scrollPosition[c._view]=c.vScrollInstance.value);var e=c.hScrollBar[0].style.visibility;e&&(c._hscrollPosition||(c._hscrollPosition=new Array),c._hscrollPosition[c._view]=c.hScrollInstance.value);var f=c._views[c._view].type,g=c._views[b].type;c._view=b,c._refreshColumns(),c.refresh();var h=c.hScrollBar[0].style.visibility;e!==h&&c._renderrows(),c._scrollPosition[c._view]&&c.vScrollInstance.setPosition(c._scrollPosition[c._view]),c._hscrollPosition[c._view]&&c.hScrollInstance.setPosition(c._hscrollPosition[c._view]),c.selectedJQXAppointment&&c._ensureAppointmentVisible(c.selectedJQXAppointment);var i=c.getViewStart(),j=a.jqx.scheduler.utilities.getEndOfDay(c.getViewEnd());c._raiseEvent("viewChange",{date:c.date,from:i,to:j,oldViewType:f,newViewType:g})}},_getDateTimeInputLocalization:function(){var a=this,b={};return b.backString=a.schedulerLocalization.backString,b.forwardString=a.schedulerLocalization.forwardString,b.todayString=a.schedulerLocalization.todayString,b.clearString=a.schedulerLocalization.clearString,b.calendar=a.schedulerLocalization,b},setView:function(a){switch(a){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=a},navigateForward:function(){var b=this,c=this._views[this._view].type,d=this._views[this._view],e=new a.jqx.date(this.date,b.timeZone),f=function(){for(;(0==e.dayOfWeek()||6==e.dayOfWeek())&&!1===d.showWeekends;)e=e.addDays(1);return e};switch(c){case"dayView":case"timelineDayView":e=e.addDays(1),e=f();break;case"weekView":case"timelineWeekView":e=e.addDays(7);break;case"monthView":case"timelineMonthView":var g=(e.day(),e.month()),h=e.year(),i=new a.jqx.date(h,g,1);i.timeZone=b.timeZone,e=i.addMonths(1);break;case"agendaView":e=d.days?e.addDays(d.days):e.addDays(7)}return this.navigateTo(e)},navigateBackward:function(){var b=this,c=this._views[this._view].type,d=this._views[this._view],e=new a.jqx.date(this.date,b.timeZone),f=function(){for(;(0==e.dayOfWeek()||6==e.dayOfWeek())&&!1===d.showWeekends;)e=e.addDays(-1);return e};switch(c){case"dayView":case"timelineDayView":e=e.addDays(-1),e=f();break;case"weekView":case"timelineWeekView":e=e.addDays(-7);break;case"monthView":case"timelineMonthView":var g=(e.day(),e.month()),h=e.year(),i=new a.jqx.date(h,g,1);i.timeZone=b.timeZone,e=i.addMonths(-1);break;case"agendaView":e=d.days?e.addDays(-d.days):e.addDays(-7)}return this.navigateTo(e)},_refreshToolBar:function(b){var c=this,d=c.getViewStart(),e=c.getViewEnd(),f=function(b){var f=a.jqx.formatDate(d.toDate(),b,c.schedulerLocalization),g=a.jqx.formatDate(e.toDate(),b,c.schedulerLocalization),h=c._views[c._view].type,i=c._views[c._view];if(i.showWeekends===!1){0!=d.dayOfWeek()&&6!=d.dayOfWeek()||(d=d.addDays(1)),0!=d.dayOfWeek()&&6!=d.dayOfWeek()||(d=d.addDays(1)),0!=e.dayOfWeek()&&6!=e.dayOfWeek()||(e=e.addDays(-1)),0!=e.dayOfWeek()&&6!=e.dayOfWeek()||(e=e.addDays(-1));var f=a.jqx.formatDate(d.toDate(),b,c.schedulerLocalization),g=a.jqx.formatDate(e.toDate(),b,c.schedulerLocalization)}"dayView"===h||"timelineDayView"===h?c.toolbarDetails.html(f):c.toolbarDetails.html(f+" - "+g),c.rtl?(c.toolbarDetails.addClass("jqx-rtl"),c.toolbarDetails.html("<span style='direction:rtl;'>"+g+"<span> - <span style='direction:rtl;'>"+f+"</span>")):c.toolbarDetails[0].style.direction="ltr"};if(b)return void f(c._lastFormatString||c.toolBarRangeFormat);f(c.toolBarRangeFormat),c.toolbarDetails.show(),c.toolbarViews.show();var g=c.toolbarViews.width()+c.toolbarDetails.width()+120;if(g>c.host.width()){f(c.toolBarRangeFormatAbbr);var g=c.toolbarViews.width()+c.toolbarDetails.width()+120;if(g>c.host.width()){c.toolbarDetails.hide();var g=c.toolbarViews.width()+120;g>c.host.width()&&c.toolbarViews.hide()}}},navigateTo:function(b){var c=this;if("date"==a.type(b)&&(b=new a.jqx.date(b)),!(b<this.min||b>this.max)){b.timeZone=c.timeZone,c.date=b,c._refreshToolBar(!0),c.fromNavigate=!0,c.dateTimeInput.val(b.toDate()),c.fromNavigate=!1,c._refreshColumnTitles(),c._renderrows(),c._updateFocusedCell();var d=c.getViewStart(),e=a.jqx.scheduler.utilities.getEndOfDay(c.getViewEnd());c._raiseEvent("dateChange",{date:b,from:d,to:e})}},_preparecolumnGroups:function(){var a=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var b=this,c=0;c<this.columnGroups.length;c++)this.columnGroups[c].parent=null,this.columnGroups[c].groups=null;for(var c=0;c<this.columns.records.length;c++)this.columns.records[c].parent=null,this.columns.records[c].groups=null;for(var d=function(a){for(var c=0;c<b.columnGroups.length;c++){var d=b.columnGroups[c];if(d.name===a)return d}return null},c=0;c<this.columnGroups.length;c++){var e=this.columnGroups[c];if(e.groups||(e.groups=null),e.parentGroup&&(e.parentgroup=e.parentGroup),e.parentgroup){var f=d(e.parentgroup);f&&(e.parent=f,f.groups||(f.groups=new Array),f.groups.indexOf(e)===-1&&f.groups.push(e))}}for(var c=0;c<this.columns.records.length;c++){var e=this.columns.records[c];if(e.columngroup){var f=d(e.columngroup);f&&(f.groups||(f.groups=new Array),e.parent=f,f.groups.indexOf(e)===-1&&f.groups.push(e))}}for(var g=0,c=0;c<this.columns.records.length;c++){var e=this.columns.records[c],h=e;for(e.level=0;h.parent;)h=h.parent,e.level++;var h=e,i=e.level;for(g=Math.max(g,e.level);h.parent;)h=h.parent,h&&(h.level=--i)}for(var j=function(a){var b=new Array;if(a.columngroup&&b.push(a),!a.groups)return new Array;for(var c=0;c<a.groups.length;c++)if(a.groups[c].columngroup)b.push(a.groups[c]);else if(a.groups[c].groups)for(var d=j(a.groups[c]),e=0;e<d.length;e++)b.push(d[e]);return b},c=0;c<this.columnGroups.length;c++){var e=this.columnGroups[c],k=j(e);e.columns=k;for(var l=new Array,m=0,n=0;n<k.length;n++)l.push(this.columns.records.indexOf(k[n])),k[n].pinned&&m++;if(0!=m)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");l.sort(function(a,b){return a=parseInt(a),b=parseInt(b),a<b?-1:a>b?1:0});for(var o=1;o<l.length;o++)if(l[o]!=l[o-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+g,a=this.columnGroupslevel*this.columnsHeight}return a},wheel:function(a,b){if(b.editRecurrenceDialog&&b.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(b._editDialog&&b._editDialog.jqxWindow("isOpen"))return!0;if(b.autoheight&&"hidden"==b.hScrollBar.css("visibility"))return a.returnValue=!0,!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),!!d&&(d=!1,a.returnValue=d,d)}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){if("hidden"!=this.vScrollBar.css("visibility")){var b=this.vScrollInstance.value;a<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20);var c=this.vScrollInstance.value;if(b!=c)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var b=this.hScrollInstance.value;a>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var c=this.hScrollInstance.value;if(b!=c)return!0}return!1},_removeHandlers:function(){var b=this;b._mousewheelfunc&&b.removeHandler(this.host,"mousewheel",b._mousewheelfunc),b.editDialogFields&&(b.removeHandler(b.editDialogFields.repeat,"change"),b.removeHandler(b.editDialogFields.from,"change"),b.removeHandler(b.editDialogFields.to,"change"),b.removeHandler(b.editDialogFields.allDay,"change"),b.removeHandler(b.editDialogFields.deleteButton,"click"),b.removeHandler(b.editDialogFields.cancelButton,"click"),b.removeHandler(b.editDialogFields.saveOccurrenceButton,"click"),b.removeHandler(b.editDialogFields.saveSeriesButton,"click"),b.removeHandler(b.editDialogFields.saveButton,"click")),b._editDialog&&(b.removeHandler(b._editDialog,"close"),b.removeHandler(b._editDialog,"open"),b.removeHandler(b._editDialog,"keydown")),b.removeHandler(a(document),"mouseup.pagerbuttons"+b.element.id),b.removeHandler(a(document),"keydown.scheduler"+b.element.id),b.removeHandler(b.host,"focus"),b.removeHandler(b.host,"blur"),b.removeHandler(b.host,"dragstart."+b.element.id),b.removeHandler(b.host,"selectstart."+b.element.id),b.removeHandler(a(window),"jqxReady."+b.element.id),b.removeHandler(b.host,"mousewheel",b._mousewheelfunc);var c="mousedown";b.isTouchDevice()&&(c=a.jqx.mobile.getTouchEventName("touchstart"),a.jqx.browser.msie&&a.jqx.browser.version<10&&(c="mousedown")),b.table&&b.removeHandler(b.table,"mouseleave");var d="mousemove.scheduler"+b.element.id,e="mouseup.scheduler"+b.element.id;if(b.isTouchDevice()&&b.touchMode!==!0&&(d=a.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+b.element.id,e=a.jqx.mobile.getTouchEventName("touchend")+".scheduler"+b.element.id),b.removeHandler(a(document),d),b.removeHandler(a(document),e),!b.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var f=null;window.parent&&document.referrer&&(f=document.referrer),f&&f.indexOf(document.location.host)!=-1&&b.removeHandler(a(window.top.document),"mouseup.jqxscheduler"+b.element.id)}}catch(g){}b.removeHandler(b.host,d),b.removeHandler(a(document),"keydown.jqxscheduler"+b.element.id),b.removeHandler(b.host,"keydown"),b.table&&(b.removeHandler(b.table,"dblclick"),b.removeHandler(b.pinnedtable,c),b.removeHandler(b.table,c)),b.removeHandler(b.host,"dragover.jqxscheduler.cellDrop"+b.element.id),b.removeHandler(a(document),"dragstart.jqxscheduler.cellDrop"+b.element.id),b.removeHandler(b.host,"drop.jqxscheduler.cellDrop"+b.element.id),b.removeHandler(b.host,"mouseup.jqxscheduler.cellDragEnd"+b.element.id)},selectAppointment:function(a){this.appointmentsByKey[a]&&this._selectAppointment(this.appointmentsByKey[a].jqxAppointment)},_selectAppointment:function(b,c,d){if(b){var e=this;e.selectedAppointment&&e.clearAppointmentsSelection();var f=b.id,g=a('[data-key="'+f+'"]');if(g.length>0){e.selectedJQXAppointment=b,c?e.selectedAppointment=a(c):e.selectedAppointment=a(g[0]);var h=e._views[e._view].type;e._views[e._view];if("agendaView"==h)return void e.clearSelection();switch(g.addClass(e.toTP("jqx-scheduler-selected-appointment")),b.resizable&&g.find(".jqx-scheduler-appointment-resize-indicator").show(),h){case"dayView":a(g).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),a(g).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":g.length>1&&a.each(g,function(b){e.rtl?(b>0&&a(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),b<g.length-1&&a(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(b>0&&a(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),b<g.length-1&&a(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==d)return void e.clearSelection()}e.clearSelection()}},clearAppointmentsSelection:function(){var b=this;if(b.selectedAppointment){var c=b.selectedAppointment.attr("data-key"),d=a('[data-key="'+c+'"]');d.removeClass(b.toTP("jqx-scheduler-selected-appointment")),d.find(".jqx-scheduler-appointment-resize-indicator").hide(),b.selectedAppointment=null,b.selectedJQXAppointment=null}},selectCell:function(a,b,c){for(var d=this,e=a.toDate(),f=0;f<d.rows.length;f++)for(var g=0;g<d.rows[f].cells.length;g++){var h=d.rows[f].cells[g];if(!c||h.getAttribute("data-view")===c){var i=h.getAttribute("data-date"),j=d._getDateByString,k=j(i);if(b&&h.getAttribute("data-end-date")){if(k.valueOf()==a.valueOf())return h.setAttribute("data-selected","true"),d.focusedCell=h,d._lastSelectedCell=h,d._updateCellsSelection(),void d._ensureVisible(d.focusedCell)}else if(!b&&h.getAttribute("data-end-date"))continue;if(k.valueOf()==e.valueOf())return h.setAttribute("data-selected","true"),d.focusedCell=h,d._lastSelectedCell=h,d._updateCellsSelection(),void d._ensureVisible(d.focusedCell)}}d._updateCellsSelection()},selectRange:function(a,b,c,d){var e=this;a<this.min&&(a=this.min),b>this.max&&(b=this.max);for(var f=a.toDate(),g=b.toDate(),h=!1,i=0;i<e.rows.length;i++)for(var j=0;j<e.rows[i].cells.length;j++){var k=e.rows[i].cells[j];if(!d||k.getAttribute("data-view")===d){var l=k.getAttribute("data-date"),m=e._getDateByString,n=m(l);if(c&&k.getAttribute("data-end-date"))n.valueOf()>=f.valueOf()&&n.valueOf()<=g.valueOf()&&k.setAttribute("data-selected","true");else if(!c&&k.getAttribute("data-end-date"))continue;n.valueOf()>=f.valueOf()&&n.valueOf()<=g.valueOf()&&(k.setAttribute("data-selected","true"),h||(e._lastSelectedCell=k,e.focusedCell=k,h=!0))}}e._updateCellsSelection()},_selectRange:function(b,c){var d=this;if("agendaView"!=d._views[d._view].type){var e=b,f=c.getAttribute("data-view");if(b.getAttribute("data-view")===f){var g=c.getAttribute("data-date"),h=e.getAttribute("data-date");if(null!=g&&null!=h){var i=c.getAttribute("data-end-date"),j=e.getAttribute("data-end-date"),k=null!=i||null!=j,l=null!=i&&null!=j,m=d._getDateByString,n=m(g),o=m(h);n<this.min.toDate()&&(n=this.min.toDate()),o<this.min.toDate()&&(o=this.min.toDate()),n>this.max.toDate()&&(n=this.max.toDate()),o>this.max.toDate()&&(o=this.max.toDate());var p=Math.min(n,o),q=Math.max(n,o),r=d.rows,s=0,t=0;s>0&&d.rtl&&(s=0,t=1);var u=r.length;if(k&&(u=1,null==b.getAttribute("data-end-date"))){o.setHours(0,0,0,0);var v=new a.jqx.date(o,d.timeZone).toString();a(e).parent().index();a.each(r[0].cells,function(){var a=this.getAttribute("data-date");if(a===v){b=this,l=null!=c.getAttribute("data-end-date")&&null!=b.getAttribute("data-end-date");var d=c.getAttribute("data-date"),e=b.getAttribute("data-date"),f=m(d),g=m(e);return p=Math.min(f,g),q=Math.max(f,g),!1}})}for(var w=0;w<u;w++){var x=r[w];if(k&&this.tableRows>1){var y=parseInt(b.getAttribute("data-view")),z=r.length/d.tableRows,A=(-1+y)*z;B=r[A],x=r[A]}for(var B=x.cells,C=s;C<B.length-t;C++)if(B[C].getAttribute("data-view")===f&&(B[C].removeAttribute("data-selected"),l||!B[C].getAttribute("data-end-date"))){
var D=B[C].getAttribute("data-date"),E=m(D).valueOf();p<=E&&E<=q&&B[C].setAttribute("data-selected","true")}}d._updateCellsSelection()}}}},findCell:function(a,b){var c=this,d=null;if(!c._tableOffset){var e=c.schedulercontent.coord();c._tableOffset=e}var f=c._tableOffset,g=f.top,h=f.left;if(b<g)return null;if(a<h)return null;if(b>g+c._hostHeight)return null;if(a>h+c._hostWidth)return null;for(var i=!1,j=c.rows,k=c._views[c._view],l=k.type,m=0,n=c.vScrollInstance.value,o=c.hScrollInstance.value,p=0;p<j.length&&!i;p++){var q=j[p],r=q.cells,s=!1;(0==p&&"dayView"==l||"weekView"==l)&&(s=c.showAllDayRow,!k.timeRuler||"dayView"!==l&&"weekView"!==l||void 0!=k.timeRuler.showAllDayRow&&(s=k.timeRuler.showAllDayRow),s&&(m=c._allDayRowFullHeight));for(var t=0;t<r.length;t++){var u=r[t];if(0!=t||!u.getAttribute("data-time-slot")){if(u._left)var v=u._left,w=u._top,x=u._width,y=u._height;else{var v=u.offsetLeft+h,w=u.offsetTop+g,x=u.offsetWidth,y=u.offsetHeight;u._left=v,u._top=w,u._width=x,u._height=y}if(u._left=v,u._top=w,u._width=x,u._height=y,0!==x&&0!==y){if(c.rtl?"hidden"!=c.hScrollInstance.element.style.visibility&&(v-=c.hScrollInstance.max-o):v-=o,w-=n,0==p&&s&&(w+=n),!(w<=b&&b<w+y))break;if(v<=a&&a<v+x){d=u,i=!0;break}}}}}return d},_removeFeedbackAndStopResize:function(){var b=this;if(b.feedback){if(b.feedback.remove(),b.feedback=null,b.pinnedfeedback.remove(),b.pinnedfeedback=null,b.feedbacks)for(var c=0;c<b.feedbacks.length;c++)b.feedbacks[c].remove();if(b._resizeDays=0,b._resizeStep=0,b._lastX=null,b.feedbacks=new Array,b.leftResize=!1,b.rightResize=!1,b.topResize=!1,b.bottomResize=!1,b.overlay.hide(),b.resizing=!1,b.resizeFrom=null,b._dragCell=null,b._dragStartCell=null,b.resizeTo=null,b.dragOrResize=!1,b.isMouseDown=!1,b.selectedJQXAppointment){var d=a('[data-key="'+b.selectedJQXAppointment.id+'"]');d.removeClass(b.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"))}b.openedMonthCellPopup&&b.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(b,c,d,e){var f=this;if(b===!1)if(c.isException()){for(var g=c.rootAppointment?c.rootAppointment.exceptions:c.exceptions,h=0;h<g.length;h++)if(g[h].occurrenceFrom.equals(c.occurrenceFrom)){g[h]=c;break}}else c.rootAppointment.recurrenceException||(c.rootAppointment.recurrenceException=new Array),null!=c.rootAppointment?(c.rootAppointment.exceptions.push(c),c.rootAppointment.recurrenceException.push(c.occurrenceFrom)):(c.exceptions.push(c),c.recurrenceException.push(c.occurrenceFrom));else if(b===!0){if(c.isException())for(var g=c.rootAppointment?c.rootAppointment.exceptions:c.exceptions,h=0;h<g.length;h++)if(g[h].occurrenceFrom.equals(c.occurrenceFrom)){for(var i=0;i<c.rootAppointment.recurrenceException.length;i++)if(c.rootAppointment.recurrenceException[i].equals(g[h].occurrenceFrom)){var j=(c.from,new a.jqx.date(g[h].occurrenceFrom.year(),g[h].occurrenceFrom.month(),g[h].occurrenceFrom.day(),c.from.hour(),c.from.minute(),c.from.second()));c.rootAppointment.recurrenceException[i]=j;break}g[h]=c;var j=(c.from,new a.jqx.date(g[h].occurrenceFrom.year(),g[h].occurrenceFrom.month(),g[h].occurrenceFrom.day(),c.from.hour(),c.from.minute(),c.from.second()));g[h].occurrenceFrom=j;break}if(null!=c.rootAppointment){c.rootAppointment.recurrencePattern=c.rootAppointment.recurrencePattern.createNewPattern();var k=c.rootAppointment.from,l=c.rootAppointment.duration(),m=c.rootAppointment.recurrencePattern.freq,j=null;switch(m){case"daily":j=new a.jqx.date(k.year(),k.month(),k.day(),c.from.hour(),c.from.minute(),c.from.second());break;case"weekly":j=new a.jqx.date(k.year(),k.month(),k.day(),c.from.hour(),c.from.minute(),c.from.second());break;case"monthly":j=new a.jqx.date(k.year(),k.month(),k.day(),c.from.hour(),c.from.minute(),c.from.second());break;case"yearly":j=new a.jqx.date(k.year(),k.month(),k.day(),c.from.hour(),c.from.minute(),c.from.second())}e?(c.rootAppointment.from=k,c.rootAppointment.to=k.add(c.duration())):(c.rootAppointment.from=j,c.rootAppointment.to=j.add(l)),c.rootAppointment.allDay=c.allDay,c.rootAppointment.resourceId=c.resourceId,c.rootAppointment.color=c.color,c.rootAppointment.borderColor=c.borderColor,c.rootAppointment.background=c.background,c.rootAppointment.timezone=c.timezone,c.rootAppointment.subject=c.subject,c.rootAppointment.description=c.description,c.rootAppointment.location=c.location,c.rootAppointment.category=c.category,c.rootAppointment.status=c.status,f.resizing?c.rootAppointment.recurrencePattern.setFrom(k):c.rootAppointment.recurrencePattern.setFrom(j)}else c.recurrencePattern=c.recurrencePattern.createNewPattern(),c.recurrencePattern.setFrom(c.from);var n=a(d).attr("data-view"),o=f._resources[parseInt(n)-1];null!=o&&(null!=c.rootAppointment?c.rootAppointment.resourceId=o:c.resourceId=o)}},_handleMouseUp:function(b,c,d){var e=this;clearInterval(e._verticalIntervalDragVelocity),clearInterval(e._horizontalIntervalDragVelocity),clearInterval(e._intervalDrag),clearInterval(e._horizontalIntervalDrag);var f=b,g=!1;if(d?e.resizeTo?f.to.equals(e.resizeTo)&&(g=!0):e.resizeFrom&&f.from.equals(e.resizeFrom)&&(g=!0):e._dragStartCell==c&&(g=!0),g){var h=a('[data-key="'+b.id+'"]');return h.removeClass(e.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void e._removeFeedbackAndStopResize()}var i=f.duration(),j=f.duration().days()>=1||f.allDay,k=function(b,f){if(f.allDay||j)var g=e.getMaxAllDayAppointments(e.appointmentsToRender);if(d)e.resizeTo?(e.resizeTo>e.max&&(e.resizeTo=e.max),e.resizeTo<e.min&&(e.resizeTo=e.min),f.to=e.resizeTo):e.resizeFrom&&(e.resizeFrom>e.max&&(e.resizeFrom=e.max),e.resizeFrom<e.min&&(e.resizeFrom=e.min),f.from=e.resizeFrom),0==f.from.hour()&&0==f.from.minute()&&23==f.to.hour()&&59==f.to.minute()&&(f.allDay=!0);else{var h=e._views[e._view].type,k=e._views[e._view],l=a(c).attr("data-date"),m=null!=a(c).attr("data-end-date"),n=new a.jqx.date(l,e.timeZone);if(n<e.min&&(n=e.min),n>e.max&&(n=e.max),e.rtl&&j&&m)f.to=a.jqx.scheduler.utilities.getEndOfDay(n);else if(!e.rtl||"monthView"!=h&&"timelineMonthView"!=h)if(!e.rtl||"timelineDayView"!=h&&"timelineWeekView"!=h)f.from=n;else{var o=e.getMinutesPerScale();f.to=n.addMinutes(o)}else f.to=a.jqx.scheduler.utilities.getEndOfDay(n);if("dayView"===h||"weekView"===h)if(j||m){if(!j&&m)f.to=a.jqx.scheduler.utilities.getEndOfDay(n),f.allDay=!0;else if(j&&m&&!e.rtl)f.to=n.add(i),0==f.from.hour()&&0==f.from.minute()&&23==f.to.hour()&&59==f.to.minute()&&(f.allDay=!0);else if(j&&m&&e.rtl)f.from=a.jqx.scheduler.utilities.getStartOfDay(f.to.add(new a.jqx.timeSpan((-i)))),0==f.from.hour()&&0==f.from.minute()&&23==f.to.hour()&&59==f.to.minute()&&(f.allDay=!0);else if(j&&!m){var p=30,q=k.timeRuler&&k.timeRuler.scale;switch(q){case"sixtyMinutes":case"hour":p=60;break;case"fifteenMinutes":case"quarterHour":p=15;break;case"tenMinutes":p=10;break;case"fiveMinutes":p=5}f.to=n.addMinutes(p),f.allDay=!1}}else f.to=n.add(i),f.allDay=!1;else if("monthView"===h)e.rtl?f.from=a.jqx.scheduler.utilities.getStartOfDay(f.to.add(new a.jqx.timeSpan((-i)))):f.to=n.add(i);else if("timelineDayView"===h||"timelineWeekView"===h||"timelineMonthView"===h)if(e.rtl)if("timelineMonthView"==h)f.from=a.jqx.scheduler.utilities.getStartOfDay(f.to.add(new a.jqx.timeSpan((-i))));else{var o=e.getMinutesPerScale();f.from=n.addMinutes(o).add(new a.jqx.timeSpan((-i)))}else f.to=n.add(i)}e._saveChangesAfterDragOrResize(b,f,c,e.resizing);var h=a(c).attr("data-view"),r=e._resources[parseInt(h)-1];null!=r&&(f.resourceId=r),e.resizing=!1,e.resizeFrom=null,e._dragCell=null,e.resizeTo=null;var s={},t={};for(var u in e.appointmentDataFields){var v=e.appointmentDataFields[u],w=f[u];s[u]=w,"from"!=u&&"to"!=u||(w=w.toDate()),t[v]=w}if(s.jqxAppointment=f,s.originalData=t,f.boundAppointment=s,e._raiseEvent("appointmentChange",{appointment:f.boundAppointment}),e.changedAppointments[f.id]={type:"Update",appointment:f.boundAppointment},e.table.find(".jqx-icon-arrow-down").hide(),"monthView"==e._views[e._view].type&&e._views[e._view].monthRowAutoHeight)e._renderrows();else if("weekView"!=e._views[e._view].type&&"dayView"!=e._views[e._view].type||!f.allDay&&!j){var x=e.getViewStart(),y=a.jqx.scheduler.utilities.getEndOfDay(e.getViewEnd());e._prepareAppointmentsInView(x,y),e._renderAppointments(x,y)}else if(e.tableRows>1)e._renderrows();else{var x=e.getViewStart(),y=a.jqx.scheduler.utilities.getEndOfDay(e.getViewEnd());e._prepareAppointmentsInView(x,y),e._renderAppointments(x,y);var z=e.getMaxAllDayAppointments(e.appointmentsToRender);if(z!=g){var A=z*(e._defaultRowHeight-2);A=e.isTouchDevice()?Math.max(22+e._defaultRowHeight,17+A):Math.max(3*e._defaultRowHeight,17+A),1==e.tableRows?a(a(e.table[0].rows[0]).find("td")).css("height",A+"px"):a(a(e.table[0].rows[1]).find("td")).css("height",A+"px"),a(e.oldRow).find("td").css("height",A+"px"),a(e.pinnedTableRow).find("td").css("height",A+"px"),e.pinnedtable.height(A),e._updateScrollbars(e._hostHeight?e._hostHeight:e.host.height())}}e._removeFeedbackAndStopResize()};f.isRecurrentAppointment()?k(!1,f):k(null,f)},_handleDayWeekViewResize:function(b,c,d,e,f){var g=this,h=(g._views[g._view].type,g._views[g._view]),i=f.duration().days()>=1||f.allDay;if(i||d.getAttribute("data-end-date")){var j=function(a){return!(a<g.cellWidth-10)},k=h.appointmentsRenderMode&&"exactTime"==h.appointmentsRenderMode;if(f.allDay||!k){if(g.leftResize){if(g._lastResizeX||(g._lastResizeX=g.mouseDownPosition.left),b>g._lastResizeX+a(d).width()/2){var l=g.selectedAppointmentTableBounds.width+g.selectedAppointmentTableBounds.left-e.left-g.cellWidth;j(l)&&(g.feedback.css("left",5+e.left+g.cellWidth),g.feedback.width(l-5),g.feedback.hide(),g.pinnedfeedback.css("left",5+e.left+g.cellWidth),g.pinnedfeedback.width(l-5),g._lastResizeX=g.pinnedfeedback.coord().left,g.rtl?g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(d.getAttribute("data-date"),g.timeZone)).addDays(-1):g.resizeFrom=new a.jqx.date(d.getAttribute("data-date"),g.timeZone).addDays(1))}else if(b<g._lastResizeX-a(d).width()/2){var l=g.selectedAppointmentTableBounds.width+g.selectedAppointmentTableBounds.left-e.left;j(l)&&(g.feedback.css("left",5+e.left),g.feedback.width(l-5),g.feedback.hide(),g.pinnedfeedback.css("left",5+e.left),g.pinnedfeedback.width(l-5),g._lastResizeX=g.pinnedfeedback.coord().left,g.rtl?g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(d.getAttribute("data-date"),g.timeZone)):g.resizeFrom=new a.jqx.date(d.getAttribute("data-date"),g.timeZone))}}else if(g.rightResize){g._lastResizeX||(g._lastResizeX=g.selectedAppointmentTableBounds.width+g.selectedAppointmentTableBounds.left);var m=a(d).width()/2;if(b>g._lastResizeX+m){var n=a(d).width()+e.left-g.selectedAppointmentTableBounds.width-g.selectedAppointmentTableBounds.left,l=g.selectedAppointmentTableBounds.width+n;j(l)&&(g.feedback.hide(),g.feedback.width(l-6),g.feedback.css("left",5+e.left),g.pinnedfeedback.width(l-6),g._lastResizeX=g.selectedAppointmentTableBounds.width+n+g.pinnedfeedback.coord().left,g.rtl?g.resizeFrom=new a.jqx.date(d.getAttribute("data-date"),g.timeZone):g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(d.getAttribute("data-date"),g.timeZone)))}else if(b<g._lastResizeX-m){var n=e.left-g.selectedAppointmentTableBounds.width-g.selectedAppointmentTableBounds.left,l=g.selectedAppointmentTableBounds.width+n;j(l)&&(g.feedback.hide(),g.feedback.css("left",5+e.left),g.feedback.width(l-6),g.pinnedfeedback.width(l-6),g._lastResizeX=g.selectedAppointmentTableBounds.width+n+g.pinnedfeedback.coord().left,g.rtl?g.resizeFrom=new a.jqx.date(d.getAttribute("data-date"),g.timeZone).addDays(1):g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(d.getAttribute("data-date"),g.timeZone).addDays(-1)))}}}else{var o=new Array,p=new Array,q=-1,r=-1,s=this.host.coord().left,t=0,u=g.hScrollInstance.value;if(g.rtl)var u=g.hScrollInstance.max-g.hScrollInstance.value;"hidden"==g.hScrollBar[0].style.visibility&&(u=0);for(var v=b+u,w=0;w<this.columns.records.length;w++)this.columns.records[w].timeColumn&&(g.rtl||(s+=this.columns.records[w].width,t++));for(var x=g.getViewStart(),y=g.getViewEnd(),w=0;w<this._getColumnsLengthPerView();w++){var z=this.columns.records[w+t].width;g.leftResize?(g.rtl||(o.push(s),p.push(x.addDays(w)),(0!=f.from.hour()||0==f.from.hour()&&0!=f.from.minute())&&s<g.selectedAppointmentTableBounds.left&&s+z>g.selectedAppointmentTableBounds.left&&(o.push(g.selectedAppointmentTableBounds.left),p.push(f.from),q=o.length-1),(23!=f.to.hour()||23==f.to.hour()&&59!=f.to.minute())&&s<g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&s+z>g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&(o.push(g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width+8),p.push(f.to),r=o.length-1)),g.rtl&&(o.push(s),p.push(y.addDays(-w-1)),(0!=f.from.hour()||0==f.from.hour()&&0!=f.from.minute())&&s<g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&s+z>g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&(o.push(g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width+8),p.push(f.from),q=o.length-1),(23!=f.to.hour()||23==f.to.hour()&&59!=f.to.minute())&&s<g.selectedAppointmentTableBounds.left&&s+z>g.selectedAppointmentTableBounds.left&&(o.push(g.selectedAppointmentTableBounds.left),p.push(f.to),r=o.length-1)),s+=z):g.rtl?((0!=f.from.hour()||0==f.from.hour()&&0!=f.from.minute())&&s<g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&s+z>g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&(o.push(g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width+8),p.push(f.from),q=o.length-1),(23!=f.to.hour()||23==f.to.hour()&&59!=f.to.minute())&&s<g.selectedAppointmentTableBounds.left&&s+z>g.selectedAppointmentTableBounds.left&&(o.push(g.selectedAppointmentTableBounds.left),p.push(f.to),r=o.length-1),s+=z,o.push(s),p.push(y.addDays(-w-1))):((0!=f.from.hour()||0==f.from.hour()&&0!=f.from.minute())&&s<g.selectedAppointmentTableBounds.left&&s+z>g.selectedAppointmentTableBounds.left&&(o.push(g.selectedAppointmentTableBounds.left),p.push(f.from),q=o.length-1),(23!=f.to.hour()||23==f.to.hour()&&59!=f.to.minute())&&s<g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&s+z>g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&(o.push(g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width+8),p.push(f.to),r=o.length-1),s+=z,o.push(s),p.push(x.addDays(w)))}if(g.leftResize){for(var w=0;w<o.length;w++){var e=o[w],A=o[w+1];A||(A=e);var B=w<o.length-1?v>=e&&v<=A:v>=e;if(B){var z=-e+g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width,C=g.pinnedfeedback.width(),D=g.pinnedfeedback.css("left"),E=g.resizeTo,F=g.resizeFrom;z>0&&(g.pinnedfeedback.css("left",e),g.pinnedfeedback.width(z),w==q?g.rtl?g.resizeTo=f.from:g.resizeFrom=f.from:w==r?g.rtl?g.resizeTo=f.to:g.resizeFrom=f.to:g.rtl?g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(p[w]):g.resizeFrom=p[w])}}var G=g.resizeFrom,H=g.resizeTo;g.rtl?G=f.from:H=f.to;var I=new a.jqx.timeSpan(1e4*(H-G));I.days()<1&&(g.pinnedfeedback.css("left",D),g.pinnedfeedback.width(C),g.resizeFrom=F,g.resizeTo=E)}else if(g.rightResize){for(var w=0;w<o.length;w++){var e=o[w],A=o[w+1];A||(A=e);var B=w<o.length-1?b>=e-this.cellWidth/3&&b<=A-this.cellWidth/3:b>=e-this.cellWidth/3;if(B){var z=e-g.selectedAppointmentTableBounds.left-15,C=g.pinnedfeedback.width();g.pinnedfeedback.width(z);var E=g.resizeTo,F=g.resizeFrom;if(w==q){g.rtl?g.resizeFrom=f.from:g.resizeTo=f.from;var z=e-g.selectedAppointmentTableBounds.left-9;g.pinnedfeedback.width(z);break}if(w==r){g.rtl?g.resizeFrom=f.to:g.resizeTo=f.to;var z=e-g.selectedAppointmentTableBounds.left-9;g.pinnedfeedback.width(z);break}g.rtl?g.resizeFrom=p[w]:g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(p[w]);break}}var G=g.resizeFrom,H=g.resizeTo;g.rtl?H=f.to:G=f.from;var I=new a.jqx.timeSpan(1e4*(H-G));I.days()<1&&(g.pinnedfeedback.width(C),g.resizeFrom=F,g.resizeTo=E)}}}else{var J=function(a){return!(a<10)},K=g.findCell(g.feedback.coord().left,c);if(g.topResize){if(g._lastResizeY||(g._lastResizeY=g.mouseDownPosition.top),c>g._lastResizeY+a(d).height()/2){var L=g.selectedAppointmentTableBounds.height+g.selectedAppointmentTableBounds.top-e.top-a(d).height()-3;if(J(L)){g.feedback.css("top",2+e.top+a(d).height()),g.feedback.height(L),g._lastResizeY=g.feedback.coord().top;var M=new a.jqx.date(K.getAttribute("data-date"),g.timeZone);g.resizeFrom=M.addMinutes(g.getMinutesPerScale())}}else if(c<g._lastResizeY-a(d).height()/2){var L=g.selectedAppointmentTableBounds.height+g.selectedAppointmentTableBounds.top-e.top-3;J(L)&&(g.feedback.css("top",2+e.top),g.feedback.height(L),g._lastResizeY=g.feedback.coord().top,g.resizeFrom=new a.jqx.date(K.getAttribute("data-date"),g.timeZone))}}else if(g.bottomResize)if(g._lastResizeY||(g._lastResizeY=g.mouseDownPosition.top),c>g._lastResizeY+a(d).height()/2){var n=-5+a(d).height()+e.top-g.selectedAppointmentTableBounds.height-g.selectedAppointmentTableBounds.top,L=g.selectedAppointmentTableBounds.height+n;J(L)&&(g.feedback.height(L),g._lastResizeY=g.selectedAppointmentTableBounds.height+n+g.feedback.coord().top,g.resizeTo=new a.jqx.date(K.getAttribute("data-date"),g.timeZone).addMinutes(g.getMinutesPerScale()))}else if(c<g._lastResizeY-a(d).height()/2){var n=-5+e.top-g.selectedAppointmentTableBounds.height-g.selectedAppointmentTableBounds.top,L=g.selectedAppointmentTableBounds.height+n;J(L)&&(g.feedback.height(L),g._lastResizeY=g.selectedAppointmentTableBounds.height+n+g.feedback.coord().top,g.resizeTo=new a.jqx.date(K.getAttribute("data-date"),g.timeZone))}}},_handleTimelineMonthViewResize:function(b,c,d,e,f){var g=this,h=(g._views[g._view].type,g._views[g._view],function(a){return!(a<10)}),i=g.findCell(b,g.feedback.coord().top);if(f.allDay){if(g.leftResize){if(g._lastResizeX||(g._lastResizeX=g.mouseDownPosition.left),b>g._lastResizeX+a(d).width()/2){var j=g.selectedAppointmentTableBounds.width+g.selectedAppointmentTableBounds.left-e.left-a(d).width();h(j)&&(g.feedback.css("left",e.left+a(d).width()),g.feedback.width(j),g._lastResizeX=g.feedback.coord().left,g.rtl?g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(i.getAttribute("data-date"),g.timeZone).addDays(-1)):g.resizeFrom=new a.jqx.date(i.getAttribute("data-date"),g.timeZone).addDays(1))}else if(b<g._lastResizeX-a(d).width()/2){var j=g.selectedAppointmentTableBounds.width+g.selectedAppointmentTableBounds.left-e.left;h(j)&&(g.feedback.css("left",e.left),g.feedback.width(j),g._lastResizeX=g.feedback.coord().left,g.rtl?g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(i.getAttribute("data-date"),g.timeZone)):g.resizeFrom=new a.jqx.date(i.getAttribute("data-date"),g.timeZone))}}else if(g.rightResize)if(g._lastResizeX||(g._lastResizeX=g.mouseDownPosition.left),b>g._lastResizeX+a(d).width()/2){var k=a(d).width()+e.left-g.selectedAppointmentTableBounds.width-g.selectedAppointmentTableBounds.left,j=g.selectedAppointmentTableBounds.width+k-5;h(j)&&(g.feedback.width(j),g._lastResizeX=g.selectedAppointmentTableBounds.width+k+g.feedback.coord().left,g.rtl?g.resizeFrom=new a.jqx.date(i.getAttribute("data-date"),g.timeZone):g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(i.getAttribute("data-date"),g.timeZone)))}else if(b<g._lastResizeX-a(d).width()/2){var k=e.left-g.selectedAppointmentTableBounds.width-g.selectedAppointmentTableBounds.left,j=g.selectedAppointmentTableBounds.width+k-5;h(j)&&(g.feedback.width(j),g._lastResizeX=g.selectedAppointmentTableBounds.width+k+g.feedback.coord().left,g.rtl?g.resizeFrom=new a.jqx.date(i.getAttribute("data-date"),g.timeZone).addDays(1):g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(i.getAttribute("data-date"),g.timeZone).addDays(-1)))}}else{for(var l=new Array,m=new Array,n=-1,o=-1,p=this.host.coord().left,q=0,r=0;r<this.columns.records.length;r++)this.columns.records[r].timeColumn&&(p+=this.columns.records[r].width,q++);var s=g.hScrollInstance.value;if(g.rtl)var s=g.hScrollInstance.max-g.hScrollInstance.value;"hidden"==g.hScrollBar[0].style.visibility&&(s=0);for(var t=b+s,u=g.getViewStart(),v=g.getViewEnd(),r=(this._getColumnsLengthPerView()-1,0);r<this._getColumnsLengthPerView();r++){var w=this.columns.records[r+q].width;g.leftResize?(l.push(p),g.rtl?m.push(v.addDays(-r)):m.push(u.addDays(r)),(0!=f.from.hour()||0==f.from.hour()&&0!=f.from.minute())&&p<g.selectedAppointmentTableBounds.left&&p+w>g.selectedAppointmentTableBounds.left&&(l.push(g.selectedAppointmentTableBounds.left),m.push(f.from),n=l.length-1),(23!=f.to.hour()||23==f.to.hour()&&59!=f.to.minute())&&p<g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&p+w>g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&(l.push(g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width+8),m.push(f.to),o=l.length-1),p+=w):((0!=f.from.hour()||0==f.from.hour()&&0!=f.from.minute())&&p<g.selectedAppointmentTableBounds.left&&p+w>g.selectedAppointmentTableBounds.left&&(l.push(g.selectedAppointmentTableBounds.left),m.push(f.from),n=l.length-1),(23!=f.to.hour()||23==f.to.hour()&&59!=f.to.minute())&&p<g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&p+w>g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width&&(l.push(g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width),m.push(f.to),o=l.length-1),p+=w,l.push(p),g.rtl?m.push(v.addDays(-r-1)):m.push(u.addDays(r)))}if(g.leftResize){for(var r=0;r<l.length;r++){var x=l[r],y=l[r+1];y||(y=x);var z=r<l.length-1?t>=x&&t<=y:t>=x;if(z){var w=-x+g.selectedAppointmentTableBounds.left+g.selectedAppointmentTableBounds.width,A=g.feedback.width(),B=g.feedback.css("left"),C=g.resizeTo,D=g.resizeFrom;g.feedback.css("left",x),g.feedback.width(w),r==n?g.rtl?g.resizeTo=f.from:g.resizeFrom=f.from:r==o?g.rtl?g.resizeTo=f.to:g.resizeFrom=f.to:g.rtl?g.resizeTo=m[r]:g.resizeFrom=m[r]}}var E=g.resizeFrom,F=g.resizeTo;g.rtl?E=f.from:F=f.to;new a.jqx.timeSpan(1e4*(F-E));g.feedback.width()<20&&(g.feedback.css("left",B),g.feedback.width(A),g.resizeFrom=D,g.resizeTo=C)}else if(g.rightResize){for(var r=0;r<l.length;r++){var x=l[r],y=l[r+1];y||(y=x);var z=r<l.length-1?t>=x-this.cellWidth/3&&t<=y-this.cellWidth/3:t>=x-this.cellWidth/3;if(z){var w=x-g.selectedAppointmentTableBounds.left-12,A=g.feedback.width();g.feedback.width(w);var C=g.resizeTo,D=g.resizeFrom;if(r==n){g.rtl?g.resizeFrom=f.from:g.resizeTo=f.from;var w=x-g.selectedAppointmentTableBounds.left;g.feedback.width(w);break}if(r==o){g.rtl?g.resizeFrom=f.to:g.resizeTo=f.to;var w=x-g.selectedAppointmentTableBounds.left;g.feedback.width(w);break}g.rtl?g.resizeFrom=m[r]:g.resizeTo=a.jqx.scheduler.utilities.getEndOfDay(m[r]);break}}var E=g.resizeFrom,F=g.resizeTo;g.rtl?F=f.to:E=f.from;new a.jqx.timeSpan(1e4*(F-E));g.feedback.width()<20&&(g.feedback.width(A),g.resizeFrom=D,g.resizeTo=C)}}},_handleMonthViewResize:function(b,c,d,e,f){var g=this;if(g.selectedJQXAppointment){var h=(g._views[g._view].type,g._views[g._view]),i=-5;g.tableColumns>1&&(i=parseInt(-5/g.tableColumns));for(var j=0;j<g.columns.records.length/g.tableColumns;j++)g.columns.records[j].timeColumn||(i+=g.columns.records[j].width);var k=g.selectedJQXAppointment.resourceId,l=g._resources.indexOf(k);g.resources&&"none"==g.resources.orientation&&(l=-1);var m="0px";l!=-1&&1==g.tableRows&&(m=i*l+"px"),h.showWeekNumbers&&(g.rtl||(m=parseInt(m)+g.columns.records[0].width+"px"));var n=d.offsetWidth,o=(d.offsetHeight,18);g.isTouchDevice()&&(o=2);for(var j=0;j<6;j++)g.feedbacks[j][0].style.left=m,g.feedbacks[j][0].style.width=i+"px",g.feedbacks[j][0].style.display="block",g.feedbacks[j][0].style.top=parseInt(g.rows[j].top)+o+"px",g.tableRows>1&&(g.feedbacks[j][0].style.top=parseInt(g.rows[6*l+j].top)+o+"px"),a(g.feedbacks[j][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var p=g.selectedJQXAppointment.elements,q=(p[0].cells[0].cell,p[p.length-1]),r=q.lastCellY,s=q.lastCellX,t=p[0].cellY,u=p[0].cellX,v=parseInt(e.top),w=parseInt(e.left);if(g.rtl){if(g.leftResize){for(var x=!1,j=0;j<6;j++){var y=g.feedbacks[j],z=parseInt(y[0].style.top)-o;parseInt(y[0].style.left);if(z<v)y[0].style.width=i+"px";else for(var A=0;A<p.length;A++){var B=p[A].cellY;B==z&&(y[0].style.width=p[A].width+"px",y[0].style.top=p[A].y+"px")}var C=p[0],D=parseInt(C.x);if(z==t)if(y[0].style.left=D+"px",v==t){if(y[0].style.left=1+e.left+"px",y[0].style.width=-1+C.x+C.width-e.left+"px",e.left>C.x+C.width&&(y[0].style.width=C.width+"px",y[0].style.left=C.x+"px"),"exactTime"==h.appointmentsRenderMode&&!g.selectedJQXAppointment.allDay){var E=g.host.coord().left;b-E>=C.x-10&&b-E<=C.cellX+g.cellWidth&&(y[0].style.width=C.width+"px",y[0].style.left=C.x+"px",x=!0)}}else v<t?(y[0].style.left=D+"px",y[0].style.width=C.width+"px"):v>t&&(y[0].style.left=m,y[0].style.width=C.x+C.width-parseInt(m)+"px");else z==v&&(y[0].style.width=i-e.left+parseInt(m)+"px",y[0].style.left=e.left+"px");if(z<t&&(y[0].style.display="none"),z>v&&(y[0].style.display="none"),v<t)for(var A=0;A<p.length;A++){var B=p[A].cellY;B==z&&(y[0].style.display="block",y[0].style.width=p[A].width+"px",y[0].style.left=p[A].x+"px")}if(v==t)for(var A=0;A<p.length;A++){var B=p[A].cellY;(v<t||v==t)&&B==z&&t!=r&&(y[0].style.left=1+e.left+parseInt(m)+"px",1+e.left+parseInt(m)>C.x+C.width&&(y[0].style.left=C.x+"px"),y[0].style.width=-1+C.x+C.width-e.left+"px")}}var F=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(d.getAttribute("data-date"),g.timeZone));F>g.selectedJQXAppointment.from&&!x?g.resizeTo=F:g.resizeTo=g.selectedJQXAppointment.to}else if(g.rightResize){for(var G=!1,j=0;j<6;j++){var y=g.feedbacks[j],z=parseInt(y[0].style.top)-o;parseInt(y[0].style.left);z<v&&(y[0].style.width=i+"px");for(var A=0;A<p.length;A++){var B=p[A].cellY;B==z&&(y[0].style.top=p[A].y+"px")}var C=p[0],D=parseInt(C.x);if(z==t)if(y[0].style.left=D+"px",v==t)if(w>=u){if(y[0].style.width=w+n-D-5+"px","exactTime"==h.appointmentsRenderMode&&!g.selectedJQXAppointment.allDay){var E=g.host.coord().left;b-E>=C.lastCellX&&b-E<=C.x+C.width+15&&(y[0].style.width=C.width+"px",G=!0)}}else y[0].style.width=C.width+"px";else v>t?(y[0].style.left=D+"px",y[0].style.width=C.width+"px"):v<t&&(y[0].style.left=D+"px",y[0].style.width=i-D+parseInt(m)+"px");else z==v&&(y[0].style.width=w+n-5-parseInt(m)+"px");if(z>r&&(y[0].style.display="none"),z<v&&(y[0].style.display="none"),v>r)for(var A=0;A<p.length;A++){var B=p[A].cellY;B==z&&(y[0].style.display="block"),z==r&&(y[0].style.width=p[A].width+"px",y[0].style.left=p[A].x+"px")}if(v<=r&&z==r)for(var A=0;A<p.length;A++){var B=p[A].cellY;z!=v&&B==z&&t!=r?(y[0].style.width=p[A].width+"px",y[0].style.left=p[A].x+"px"):z==v&&B==z&&t!=r&&(y[0].style.left=p[A].x+"px",y[0].style.width=w+n-5-parseInt(m)-p[A].x+"px")}}var F=new a.jqx.date(d.getAttribute("data-date"),g.timeZone);F<g.selectedJQXAppointment.to&&!G?g.resizeFrom=F:g.resizeFrom=g.selectedJQXAppointment.from}}else if(g.leftResize){for(var G=!1,j=0;j<6;j++){var y=g.feedbacks[j],z=parseInt(y[0].style.top)-o;parseInt(y[0].style.left);if(z<v){y[0].style.width=i+"px";for(var A=0;A<p.length;A++){var B=p[A].cellY;B==z&&(y[0].style.top=p[A].y+"px")}}else for(var A=0;A<p.length;A++){var B=p[A].cellY;B==z&&(y[0].style.width=p[A].width+"px",y[0].style.top=p[A].y+"px")}var C=p[0],D=parseInt(C.x);if(z==t)if(y[0].style.left=D+"px",v==t){if(y[0].style.left=1+e.left+"px",y[0].style.width=-1+C.x+C.width-e.left+"px","exactTime"==h.appointmentsRenderMode&&!g.selectedJQXAppointment.allDay){var H=g.cellWidth-(C.x-u),E=g.host.coord().left;b-E>=C.x&&b-E<=C.x+H+2&&(y[0].style.left=D+"px",y[0].style.width=C.width+"px",G=!0)}}else v>t?(y[0].style.left=D+"px",y[0].style.width=C.width+"px"):v<t&&(y[0].style.left=m,y[0].style.width=C.x+C.width-parseInt(m)+"px");else z==v&&(y[0].style.width=i-e.left+parseInt(m)+"px",y[0].style.left=e.left+"px");if(z>r&&(y[0].style.display="none"),z<v&&(y[0].style.display="none"),v>=r)for(var A=0;A<p.length;A++){var B=p[A].cellY;v>r||v==r&&w>s?B==z&&(y[0].style.display="block",y[0].style.width=p[A].width+"px",y[0].style.left=p[A].x+"px"):v==r&&w<=s&&t!=r&&(y[0].style.width=p[A].width-e.left+parseInt(m)+"px")}}var F=new a.jqx.date(d.getAttribute("data-date"),g.timeZone);F<g.selectedJQXAppointment.to&&!G?g.resizeFrom=F:g.resizeFrom=g.selectedJQXAppointment.from}else if(g.rightResize){for(var x=!1,j=0;j<6;j++){var y=g.feedbacks[j],z=parseInt(y[0].style.top)-o;parseInt(y[0].style.left);z<v&&(y[0].style.width=i+"px");for(var A=0;A<p.length;A++){var B=p[A].cellY;B==z&&(y[0].style.top=p[A].y+"px")}var C=p[0],D=parseInt(C.x);if(z==t)if(y[0].style.left=D+"px",v==t)if(w>=u){if(y[0].style.width=w+n-D-5+"px","exactTime"==h.appointmentsRenderMode&&!g.selectedJQXAppointment.allDay){var E=g.host.coord().left;b-E>=s&&b-E<=C.x+C.width+15&&(y[0].style.width=C.width+"px",x=!0)}}else y[0].style.width=C.width+"px";else v<t?(y[0].style.left=D+"px",y[0].style.width=C.width+"px"):v>t&&(y[0].style.left=D+"px",y[0].style.width=i-D+parseInt(m)+"px");else z==v&&(y[0].style.width=w+n-5-parseInt(m)+"px");if(z<t&&(y[0].style.display="none"),z>v&&z>t&&(y[0].style.display="none"),v<=t)for(var A=0;A<p.length;A++){var B=p[A].cellY;(v<t||v==t&&w<u)&&B==z&&(y[0].style.display="block",y[0].style.width=p[A].width+"px")}}var F=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(d.getAttribute("data-date"),g.timeZone));F>g.selectedJQXAppointment.from&&!x?g.resizeTo=F:g.resizeTo=g.selectedJQXAppointment.to}for(var I=new Array,j=0;j<6;j++){var y=g.feedbacks[j];"block"==y[0].style.display&&I.push(y)}a.each(I,function(b){g.rtl?(b>0&&(a(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),b<I.length-1&&(a(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(b>0&&(a(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),b<I.length-1&&(a(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(b,c,d,e,f){var g=this,h=(g._views[g._view].type,g._views[g._view],g.getMinutesPerScale()),i=function(a){return!(a<10)},j=g.findCell(b,g.feedback.coord().top);if(g.leftResize){if(g._lastResizeX||(g._lastResizeX=g.mouseDownPosition.left),b>g._lastResizeX+a(d).width()/2){var k=g.selectedAppointmentTableBounds.width+g.selectedAppointmentTableBounds.left-e.left-a(d).width();i(k)&&(g.feedback.css("left",2+e.left+a(d).width()),g.feedback.width(k),g._lastResizeX=g.feedback.coord().left,g.rtl?g.resizeTo=new a.jqx.date(j.getAttribute("data-date"),g.timeZone):g.resizeFrom=new a.jqx.date(j.getAttribute("data-date"),g.timeZone).addMinutes(h))}else if(b<g._lastResizeX-a(d).width()/2){var k=g.selectedAppointmentTableBounds.width+g.selectedAppointmentTableBounds.left-e.left;i(k)&&(g.feedback.css("left",2+e.left),g.feedback.width(k),g._lastResizeX=g.feedback.coord().left,g.rtl?g.resizeTo=new a.jqx.date(j.getAttribute("data-date"),g.timeZone).addMinutes(h):g.resizeFrom=new a.jqx.date(j.getAttribute("data-date"),g.timeZone))}}else if(g.rightResize)if(g._lastResizeX||(g._lastResizeX=g.mouseDownPosition.left),b>g._lastResizeX+a(d).width()/2){var l=a(d).width()+e.left-g.selectedAppointmentTableBounds.width-g.selectedAppointmentTableBounds.left,k=g.selectedAppointmentTableBounds.width+l;i(k)&&(g.feedback.width(k),g._lastResizeX=g.selectedAppointmentTableBounds.width+l+g.feedback.coord().left,g.rtl?g.resizeFrom=new a.jqx.date(j.getAttribute("data-date"),g.timeZone):g.resizeTo=new a.jqx.date(j.getAttribute("data-date"),g.timeZone).addMinutes(h))}else if(b<g._lastResizeX-a(d).width()/2){var l=e.left-g.selectedAppointmentTableBounds.width-g.selectedAppointmentTableBounds.left,k=g.selectedAppointmentTableBounds.width+l;i(k)&&(g.feedback.width(k),g._lastResizeX=g.selectedAppointmentTableBounds.width+l+g.feedback.coord().left,
g.rtl?g.resizeFrom=new a.jqx.date(j.getAttribute("data-date"),g.timeZone).addMinutes(h):g.resizeTo=new a.jqx.date(j.getAttribute("data-date"),g.timeZone))}},_handleResize:function(b,c,d,e,f){var g=this,h=g._views[g._view].type,i=g._views[g._view];"dayView"===h||"weekView"===h?g._handleDayWeekViewResize(b,c,d,e,f):"timelineMonthView"===h?g._handleTimelineMonthViewResize(b,c,d,e,f):"monthView"===h?g._handleMonthViewResize(b,c,d,e,f):"timelineDayView"!==h&&"timelineWeekView"!==h||g._handleTimelineDayWeekViewResize(b,c,d,e,f),"timelineDayView"===h||"timelineMonthView"===h||"timelineWeekView"===h?(clearInterval(g._horizontalIntervalDrag),g._horizontalIntervalDrag=setInterval(function(){var a=g.host.width(),c=g.host.coord().left,d=c+25,e=a+d-45;g.rtl?b>e?g.hScrollInstance.setPosition(g.hScrollInstance.value-5):b<d&&g.hScrollInstance.setPosition(g.hScrollInstance.value+5):b<d?g.hScrollInstance.setPosition(g.hScrollInstance.value-5):b>e&&g.hScrollInstance.setPosition(g.hScrollInstance.value+5)},5)):"dayView"!==h&&"weekView"!==h||(clearInterval(g._intervalDrag),g._intervalDrag=setInterval(function(){var b=g.host.height(),d=0;d+=g.columnGroups?g.showHeader?g.columnsheader.height():0:g.showHeader?g.columnsHeight:0,g.showToolbar&&(d+=g.toolbarHeight),b-=d;var e=g.legendHeight;0==g._resources.length&&(e=0),g.showLegend&&(b-=e);var j=d+g.host.coord().top,k=g.showAllDayRow;!i.timeRuler||"dayView"!==h&&"weekView"!==h||void 0!=i.timeRuler.showAllDayRow&&(k=i.timeRuler.showAllDayRow);var l=f.duration().days()>=1||f.allDay;k&&l?j-=20:k&&g.resizing&&(j+=a(g.table[0].rows[0]).height(),b-=a(g.table[0].rows[0]).height());var m=j+25,n=b+m-45;c<m?g.vScrollInstance.setPosition(g.vScrollInstance.value-5):c>n&&g.vScrollInstance.setPosition(g.vScrollInstance.value+5)},5)),g.resizing=!0},_startTimers:function(b,c,d){var e=this,f=e.host.coord(),g=0,h=0;"hidden"!=e.hScrollInstance.element.style.visibility&&(clearInterval(e._horizontalIntervalDragVelocity),e._horizontalIntervalDragVelocity=setInterval(function(){g++,g>40&&(g=40)},100),clearInterval(e._horizontalIntervalDrag),e._horizontalIntervalDrag=setInterval(function(){var a=e._hostWidth,c=f.left,d=c+30,h=a+d-60;e.rtl?b<d?e.hScrollInstance.setPosition(e.hScrollInstance.value+10+g):b>h?e.hScrollInstance.setPosition(e.hScrollInstance.value-10-g):g=0:b<d?e.hScrollInstance.setPosition(e.hScrollInstance.value-10-g):b>h?e.hScrollInstance.setPosition(e.hScrollInstance.value+10+g):g=0},10)),"hidden"!=e.vScrollInstance.element.style.visibility&&(clearInterval(e._verticalIntervalDragVelocity),e._verticalIntervalDragVelocity=setInterval(function(){h++,h>40&&(h=40)},100),clearInterval(e._intervalDrag),e._intervalDrag=setInterval(function(){var b=e._hostHeight,g=0;g+=e.columnGroups?e.showHeader?e.columnsheader.height():0:e.showHeader?e.columnsHeight:0;var i=e._views[e._view].type,j=e._views[e._view];e.showToolbar&&(g+=e.toolbarHeight),b-=g,e.showLegend&&e._resources.length>0&&(b-=e.legendHeight);var k=f.top,l=g+k;if("dayView"==i||"weekView"==i){var m=e.showAllDayRow;!j.timeRuler||"dayView"!==i&&"weekView"!==i||void 0!=j.timeRuler.showAllDayRow&&(m=j.timeRuler.showAllDayRow);var n=d.duration().days()>=1||d.allDay;m&&n?l-=20:m&&e.resizing&&(l+=a(e.table[0].rows[0]).height())}var o=l+30,p=k+b+g-30;c<o?e.vScrollInstance.setPosition(e.vScrollInstance.value-10-h):c>p?e.vScrollInstance.setPosition(e.vScrollInstance.value+10+h):h=0},10))},_hoverCell:function(a){var b=this;return!b.enableHover||(b._resources.length>0&&a.className.indexOf("pinned")>=0||(a.className.indexOf("time-column")>=0||(a.className.indexOf("jqx-scheduler-disabled-cell")>=0||(!(!a||a!=b.hoveredCell)||(b.hoveredCell=a,!a||(b._removeHoveredCell(),b.hoveredCell=a,a.className+=" "+b.toTP("jqx-fill-state-hover")+" "+b.toTP("jqx-grid-cell-hover")+" "+b.toTP("jqx-scheduler-cell-hover"),void(a.jqxClassName=a.className)))))))},_removeHoveredCell:function(){var a=this;if(a.hoveredCell){var b=a.hoveredCell,c=function(c){var d=b.className;d=d.replace(" "+a.toTP("jqx-fill-state-hover"),""),d=d.replace(" "+a.toTP("jqx-grid-cell-hover"),""),d=d.replace(" "+a.toTP("jqx-scheduler-cell-hover"),""),b.className=d,b.jqxClassName=d};c(b)}a.hoveredCell=null},_addHandlers:function(){var b=this;this._mousewheelfunc=this._mousewheelfunc||function(a){return b.wheel(a,b),!1},this.focused=!1;var c=!1;this.addHandler(a(document),"keydown.scheduler"+b.element.id,function(a){c=!1,9===a.keyCode&&a.shiftKey&&!b.focused&&(c=!0)}),this.addHandler(this.host,"focus",function(d){if(!b.focusedCell||b.selectedAppointment||c||a(b.focusedCell).addClass(b.toThemeProperty("jqx-scheduler-cell-focus")),b.focused=!0,c)if(b.appointmentsToRender.length>0){var e=b.appointmentsToRender[b.appointmentsToRender.length-1];b._selectAppointment(e),b._lastSelectedAppointment=e}else if(b.focusedCell){if(b.focusedCell&&b.focusedCell.className.indexOf("-focus")==-1)return b._updateCellsSelection(),!1}else b._updateFocusedCell()}),this.addHandler(this.host,"blur",function(c){if(b.focusedCell){if(document.activeElement==b.element)return!0;if(a(document.activeElement).ischildof(b.host))return!0;a(b.focusedCell).removeClass(b.toThemeProperty("jqx-scheduler-cell-focus")),b.focused=!1}}),this.addHandler(this.host,"dragover.jqxscheduler.cellDrop"+this.element.id,function(a){return!1}),this.addHandler(a(document),"dragstart.jqxscheduler.cellDrop"+this.element.id,function(a){b._droppedItem=a.target}),this.addHandler(this.host,"drop.jqxscheduler.cellDrop"+this.element.id,function(c){var d=function(a){return a&&"td"===a.nodeName.toLowerCase()&&a.getAttribute("data-date")};if(d(c.target)){var e=new a.jqx.date(c.target.getAttribute("data-date"),b.timeZone);e>=b.min.toDate()&&e<=b.max.toDate()&&(b._raiseEvent("cellDrop",{cell:c.target,date:e,droppedItem:b._droppedItem}),b._droppedItem=null)}}),this.addHandler(this.host,"dragstart."+this.element.id,function(a){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(c){return!!b.enableBrowserSelection||(!(!b.showToolBar||!a(c.target).ischildof(b.toolbar))||(!!(b.rowDetails&&a(c.target).parents("[data-role=details]").length>0)||void 0!=b.editKey&&void 0))}),this.addHandler(a(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var d=this.isTouchDevice();this.vScrollInstance.valueChanged=function(a){b._timer&&clearTimeout(b._timer),d?b.table&&(b.table[0].style.top=0-b.vScrollInstance.value+"px"):b._timer=setTimeout(function(){b.table&&(b.table[0].style.top=0-b.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(a){b._htimer&&clearTimeout(b._htimer),d?b.table&&b._renderhorizontalscroll():b._htimer=setTimeout(function(){b.table&&b._renderhorizontalscroll()},1)};var e="mousedown";this.isTouchDevice()&&(e=a.jqx.mobile.getTouchEventName("touchstart"),a.jqx.browser.msie&&a.jqx.browser.version<10&&(e="mousedown")),this.addHandler(this.table,"mouseleave",function(a){b._removeHoveredCell()}),b.isTouchDevice()&&(b.enableHover=!1);var f="mousemove.scheduler"+this.element.id,g="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&this.touchMode!==!0&&(f=a.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,g=a.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(a(document),f,function(c){var d=c.pageX,e=c.pageY;if(b.isTouchDevice()){var f=a.jqx.position(c);if(d=f.left,e=f.top,isNaN(d)||isNaN(e)){var f=a.jqx.position(c.originalEvent);d=f.left,e=f.top}}if(b.disabled||3===c.which)return!0;if(!b.isMouseDown)return!0;if(b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling())return!0;if(b._hostWidth){var g=b.host.coord();if(g.left+b._hostWidth<d||d<g.left)return!0;if(g.top+b._hostHeight<e||e<g.top)return!0}if(b.mouseDownPosition&&(Math.abs(b.mouseDownPosition.left-d)>=3&&Math.abs(b.mouseDownPosition.left-d)<=10||Math.abs(b.mouseDownPosition.top-e)>=3&&Math.abs(b.mouseDownPosition.top-e)<=10)&&(b.dragOrResize=!0),b.selectedAppointment&&b.dragOrResize){var h=null;if(b._hasOpenedMenu)return!0;if(b.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var i=b._views[b._view].type,j=b._views[b._view],k=!1;if("td"===c.target.nodeName.toLowerCase())var l=c.target;else var l=b.findCell(d,e);if(!l)return!0;if(void 0!=l.getAttribute("data-time-slot"))return!0;if(l.className.indexOf("jqx-grid-cell-pinned")>=0)return!0;if(!b.feedback){if(h=b.getJQXAppointmentByElement(b.selectedAppointment),!h.draggable&&!h.resizable)return h=null,!0;if(b.beginDrag){var m=b.beginDrag(h);if(!m)return!0}var n=a('[data-key="'+h.id+'"]'),o=b.selectedAppointment.position();b.feedback=b.selectedAppointment.clone(!0),b.pinnedfeedback=b.selectedAppointment.clone(!0);var p=!("row-resize"==b.selectedAppointment[0].style.cursor||"col-resize"==b.selectedAppointment[0].style.cursor||b.resizing),q=function(a){p&&a.find(".jqx-scheduler-appointment-resize-indicator").hide(),n.addClass(b.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),a.find(".jqx-scheduler-appointment-duration-status").hide(),a.addClass(b.toTP("jqx-scheduler-feedback-appointment")),a.addClass(b.toTP("jqx-scheduler-feedback-drag-appointment")),p?a.css("z-index",401):a.css("z-index",400)};if(q(b.feedback),q(b.pinnedfeedback),"monthView"!=b._views[b._view].type||p){if(b.table.append(b.feedback),1==b.tableRows?b.pinnedtable.append(b.pinnedfeedback):b.table.append(b.pinnedfeedback),b.feedback.css("left",o.left),b.feedback.css("top",o.top),b.pinnedfeedback.css("left",o.left),b.pinnedfeedback.css("top",o.top),"monthView"==b._views[b._view].type&&b.isTouchDevice()){b.feedbacks=new Array;for(var r=0;r<6;r++)b.feedbacks.push(b.feedback.clone(!0)),a(b.feedbacks[r]).hide(),b.table.append(a(b.feedbacks[r]))}}else{b.feedbacks=new Array;for(var r=0;r<6;r++)b.feedbacks.push(b.feedback.clone(!0)),a(b.feedbacks[r]).hide(),b.table.append(a(b.feedbacks[r]))}}if(b.dragging){var m=b.dragging(h,l,b.feedback);if(!1===m)return!0}var f=a(l).position();if(b.endDrag)var s=b.feedback.css("left"),t=b.feedback.css("top"),u=b.feedback.width(),v=b.feedback.height;h||(h=b.selectedJQXAppointment),h||(b.selectAppointment(b.uiappointments[0].id),h=b.selectedJQXAppointment);var w=h.resourceId,x=b._resources.indexOf(w);b.resources&&"none"==b.resources.orientation&&(x=-1);var y=!1,z=b.isTouchDevice();if(z&&b.touchMode!==!0&&null==b._dragCell&&!(b.leftResize||b.rightResize||b.topResize||b.bottomResize||b.resizing))switch(i){case"dayView":case"weekView":var k=h.duration().days()>=1||h.allDay;k?(d>=b.selectedAppointmentBounds.left-15&&d<=b.selectedAppointmentBounds.left+15&&(y=!0,b.leftResize=!0),d>=b.selectedAppointmentBounds.left+b.selectedAppointmentBounds.width-15&&d<=b.selectedAppointmentBounds.left+b.selectedAppointmentBounds.width+15&&(y=!0,b.rightResize=!0)):(e>=b.selectedAppointmentBounds.top-15&&e<=b.selectedAppointmentBounds.top+15&&(y=!0,b.topResize=!0),e>=b.selectedAppointmentBounds.top-15+b.selectedAppointmentBounds.height&&e<=b.selectedAppointmentBounds.top+b.selectedAppointmentBounds.height+15&&(y=!0,b.bottomResize=!0));break;default:d>=b.selectedAppointmentBounds.left-15&&d<=b.selectedAppointmentBounds.left+15&&(y=!0,b.leftResize=!0),d>=b.selectedAppointmentBounds.left+b.selectedAppointmentBounds.width-15&&d<=b.selectedAppointmentBounds.left+b.selectedAppointmentBounds.width+15&&(y=!0,b.rightResize=!0)}if(z&&(b.leftResize||b.rightResize||b.topResize||b.bottomResize||b.resizing)||y){if(l.getAttribute("data-view")!=x+1&&b._resources.length>0&&"none"!=b.resources.orientation)return!0;var A=b._getDateByString(l.getAttribute("data-date"));if(A<b.min.toDate()||A>b.max.toDate())return;b._handleResize(d,e,l,f,h),b._oldResizeTD=l}else if(!z&&"row-resize"==b.selectedAppointment[0].style.cursor||"col-resize"==b.selectedAppointment[0].style.cursor||b.resizing){if(l.getAttribute("data-view")!=x+1&&b._resources.length>0&&b.resources&&"none"!=b.resources.orientation)return!0;var A=b._getDateByString(l.getAttribute("data-date"));if(A<b.min.toDate()||A>b.max.toDate())return;b._handleResize(d,e,l,f,h),b._oldResizeTD=l}else{if(!h.draggable)return b._removeFeedbackAndStopResize(),!0;if(b._dragCell==l)return b._startTimers(d,e,h),b.isTouchDevice()&&b.touchMode!==!0?(c.stopPropagation(),!1):void 0;var A=b._getDateByString(l.getAttribute("data-date"));if(A<b.min.toDate()||A>b.max.toDate())return;var B=h.duration();if(i.indexOf("month")>=0&&new a.jqx.date(A).add(B)>b.max)return;var C="hidden"==b.vScrollBar[0].style.visibility?0:6+b.vScrollBar.outerWidth();if(b._dragCell=l,b.feedback[0].style.left=2+f.left+"px",b.feedback[0].style.top=2+f.top+"px","dayView"===i||"weekView"===i){b.pinnedfeedback.css("left",2+f.left),b.pinnedfeedback.css("top",2+f.top);var D=0;if(l.getAttribute("data-end-date")){var E=b.appointmentsMinHeight;if(b.isTouchDevice()&&(E=b.touchAppointmentsMinHeight),j.appointmentHeight&&(E=j.appointmentHeight),k=h.duration().days()>=1||h.allDay,b.feedback.css("top",2+f.top+E),b.pinnedfeedback.css("top",2+f.top+18),"dayView"==i){var F=b.selectedAppointment.coord().left-9;b.feedback.css("left",F),b.pinnedfeedback.css("left",F)}if(k){if(b.pinnedfeedback.css("top",h.elements[0].y),D=b.selectedAppointment.width(),2+f.left+D>b.host.width()-C){var G=2+f.left+D-b.host.width()+C+6;D-=G}b.feedback.width(D),b.feedback.height(E),b.pinnedfeedback.width(D),b.pinnedfeedback.height(E)}else D=a(l).width()-4,b.feedback.width(D),b.feedback.height(E),b.pinnedfeedback.width(D),b.pinnedfeedback.height(E);b.feedback.hide(),b.pinnedfeedback.show()}else{b.feedback.show(),b.pinnedfeedback.hide();var H=2,I=j.timeRuler&&j.timeRuler.scale;switch(I){case"sixtyMinutes":case"hour":H=1;break;case"thirtyMinutes":case"halfHour":H=2;break;case"fifteenMinutes":case"quarterHour":H=4;break;case"tenMinutes":H=6;break;case"fiveMinutes":H=12}D=a(l).width()-4,b.feedback.width(D),k=h.duration().days()>=1||h.allDay,k?b.feedback.height(a(l).height()-6):b.feedback.height(b.selectedAppointment.height())}b._startTimers(d,e,h)}else if("monthView"===i){b.feedback.css("left",1+f.left);var J=b.selectedAppointmentTableBounds,K=parseInt(J.top);K>f.top&&K<f.top+l.offsetHeight?b.feedback.css("top",K+"px"):b.feedback.css("top",b.selectedAppointment.height()+f.top-2),b.isTouchDevice()&&b.feedback.css("top",f.top+2),D=b.selectedAppointment.width(),b.feedback.width(D),b.feedback.height(b.selectedAppointment.height()),b._startTimers(d,e,h)}else if("timelineDayView"===i||"timelineMonthView"===i||"timelineWeekView"===i){var J=b.selectedAppointmentTableBounds,K=parseInt(J.top);K>f.top&&K<f.top+l.offsetHeight&&b.feedback.css("top",K+"px"),b._startTimers(d,e,h)}}if(b.endDrag){var m=b.endDrag(h,l,b.feedback);return m||b.feedback.width(u),b.feedback.height(v),b.feedback.css("top",t),b.feedback.css("left",s),!0}if(b.isTouchDevice()&&b.touchMode!==!0)return c.stopPropagation(),!1}});var h=function(a){if(b.isMouseDown=!1,b.dragOrResize=!1,b.contextMenu&&b.menu&&3!==a.which&&(b.menu.jqxMenu("close"),b._hasOpenedMenu=!1),3===a.which)return!0;if(b.selectedAppointment&&b.feedback){if(b.editRecurrenceDialog.jqxWindow("isOpen"))return;b._handleMouseUp(b.selectedJQXAppointment,b._dragCell,b.resizing)}b._hittest(b.host,a.pageX,a.pageY)||(b._isCellDragging=!1)};if(this.addHandler(a(document),g,function(a){return h(a)}),!this.isTouchDevice())try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i=null;if(window.parent&&document.referrer&&(i=document.referrer),i&&i.indexOf(document.location.host)!=-1){var j=function(a){if(!b.disabled)return h(a)};b.addHandler(a(window.top.document),"mouseup.jqxscheduler"+b.element.id,j)}}}catch(k){}this.addHandler(this.host,f,function(c){var d=c.pageX,e=c.pageY;if(b.disabled||3===c.which)return!0;if(b.selectedAppointment&&b.isMouseDown)return!0;if(b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling())return!0;if(b._hasOpenedMenu)return!0;if("none"!==b.overlay[0].style.display)return!0;var f=null;c.target.className.indexOf("jqx-scheduler-appointment")>=0&&c.target.className.indexOf("jqx-scheduler-appointment-inner-content")==-1&&c.target.className.indexOf("jqx-scheduler-appointment-content")==-1&&c.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&(f=c.target);for(var g=c.target,h=0;h<4&&g.parentNode;h++)g.className.indexOf("jqx-scheduler-appointment")>=0&&g.className.indexOf("jqx-scheduler-appointment-innter-content")==-1&&g.className.indexOf("jqx-scheduler-appointment-content")==-1&&g.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&(f=g),g=g.parentNode;if(f){var i=b._views[b._view].type,j=(b._views[b._view],b.getJQXAppointmentByElement(f));if(j.resizable){var k=j.duration(),l=j.allDay||k.days()>=1||23==k.hours()&&59==k.minutes&&59==k.seconds,m=a(f).coord(),n=a(f).position();b.selectedAppointmentBounds={top:m.top,left:m.left,width:a(f).width(),height:a(f).height()},b.selectedAppointmentTableBounds={top:n.top,left:n.left,width:a(f).width(),height:a(f).height()};var o=b.selectedAppointmentBounds;if("weekView"==i||"dayView"==i)l?"dayView"!=i?d>=o.left-3&&d<=o.left+6?(f.style.cursor="col-resize",b.leftResize=!0,b.rightResize=!1):d>=o.left+o.width-6&&d<=o.left+o.width+3?(f.style.cursor="col-resize",b.leftResize=!1,b.rightResize=!0):f.style.cursor="pointer":f.style.cursor="pointer":e>=o.top-3&&e<=o.top+6?(f.style.cursor="row-resize",b.topResize=!0,b.bottomResize=!1):e>=o.top+o.height-6&&e<=o.top+o.height+3?(f.style.cursor="row-resize",b.topResize=!1,b.bottomResize=!0):f.style.cursor="pointer";else if("monthView"==i&&j.elements.length>1)for(var p=b.table.coord(),h=0;h<j.elements.length;h++){var q=j.elements[h],o={top:p.top+q.y,left:p.left+q.x,width:q.width,height:q.height};if(0==h&&!b.rtl||h==j.elements.length-1&&b.rtl)if(d>=o.left-3&&d<=o.left+6){if(e>=o.top&&e<=o.top+o.height){f.style.cursor="col-resize",b.leftResize=!0,b.rightResize=!1,b.selectedAppointment=a(f);break}f.style.cursor="pointer"}else f.style.cursor="pointer";else if(h==j.elements.length-1&&!b.rtl||0==h&&b.rtl)if(d>=o.left+o.width-6&&d<=o.left+o.width+3){if(e>=o.top&&e<=o.top+o.height){f.style.cursor="col-resize",b.leftResize=!1,b.rightResize=!0,b.selectedAppointment=a(f);break}f.style.cursor="pointer"}else f.style.cursor="pointer"}else d>=o.left-3&&d<=o.left+6?(f.style.cursor="col-resize",b.leftResize=!0,b.rightResize=!1):d>=o.left+o.width-6&&d<=o.left+o.width+3?(f.style.cursor="col-resize",b.leftResize=!1,b.rightResize=!0):f.style.cursor="pointer"}}if(!b.enableHover)return!0;if("td"===c.target.nodeName.toLowerCase())var r=c.target;else var r=b.findCell(d,e);if(!r)return!0;if(b._removeHoveredCell(),b.renderedRecords&&0===b.renderedRecords.length)return!0;if(b.isMouseDown){if(Math.abs(b.mousecaptureposition.left-d)>3||Math.abs(b.mousecaptureposition.top-e)>3){if(0===b.mousecaptureposition.clickedcell.length)return void(b.selectionarea[0].style.visibility="hidden");if(b.lastHoveredCell!=r){if(b.focused&&!b._isCellDragging&&(b._isCellDragging=!0,"agendaView"!=b._getCurrentViewType())){var s=b.mousecaptureposition.clickedcell[0],t=b._getDateByString(s.getAttribute("data-date")),u=new a.jqx.date(t);b._raiseEvent("cellDragStart",{fromDate:u})}b._selectRangeTimer&&clearTimeout(b._selectRangeTimer),b._selectRangeTimer=setTimeout(function(){var a=b._views[b._view].type;"agendaView"!=a&&b._selectRange(r,b.mousecaptureposition.clickedcell[0])},1)}b.lastHoveredCell=r}}else if(!f){if(1==b.rows.length&&1==b.rows[0].cells.length)return!0;b._hoverCell(r)}return!0}),this.addHandler(this.host,"mouseup.jqxscheduler.cellDragEnd"+b.element.id,function(a){b.focused&&b._isCellDragging&&(b._isCellDragging=!1,"agendaView"!=b._getCurrentViewType()&&b._raiseEvent("cellDragEnd",{fromDate:b.getSelection().from,toDate:b.getSelection().to}))}),this.addHandler(a(document),"keydown.jqxscheduler"+b.element.id,function(a){if(b.focused&&a.ctrlKey&&68==a.keyCode)return!1}),this.addHandler(this.host,"keydown",function(a){return b._handleKey(a)}),a.jqx.browser.msie&&a.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(a){b.table.trigger("mousedown",a)});var l=function(c){var d=(c.target,null);if(b.disabled)return!0;b.menu||3!=c.which||b._initMenu();var e=(b.table.coord(),c.pageX),f=c.pageY;if(a.jqx.browser.msie&&a.jqx.browser.version<9&&arguments&&2==arguments.length&&(e=arguments[1].pageX,f=arguments[1].pageY),b.isTouchDevice()){var g=a.jqx.position(c);if(e=g.left,f=g.top,isNaN(e)||isNaN(f)){var g=a.jqx.position(c.originalEvent);e=g.left,f=g.top}}b.mouseDown={top:f,left:e};var d=b.findCell(e,f);if("td"===c.target.nodeName.toLowerCase())var d=c.target;else var d=b.findCell(e,f);var h=b._views[b._view].type,i=b._views[b._view];if("monthView"===h&&i.weekViewNavigation&&d&&d.getAttribute("data-time-slot")){var j=b._getDateByString(d.getAttribute("data-date")),k=new a.jqx.date(j);b.date=k,b.setView("weekView")}if("monthView"===h&&i.dayViewNavigation){var l=a(d).coord().top;if(d&&f>=l&&l+16>=f){var j=b._getDateByString(d.getAttribute("data-date")),k=new a.jqx.date(j);b.date=k,b.setView("dayView")}}if("span"===c.target.nodeName.toLowerCase()&&(c.target.className.indexOf("jqx-icon-arrow-down")>=0||c.target.className.indexOf("jqx-icon-close")>=0))return c.target.mousedown&&c.target.mousedown(),!0;var m=a(d).parent(),n=m.attr("data-key");b.mousecaptureposition={left:c.pageX,top:c.pageY,clickedrow:a(m).index(),clickedcell:a(d)},3!==c.which?(b.isMouseDown=!0,b.isMouseDownDate=new Date):b.isMouseDown=!1,b.contextMenu&&b.menu&&3!==c.which&&(b.menu.jqxMenu("close"),b._hasOpenedMenu=!1);var o=function(a){if(3===c.which&&b.contextMenu&&b.menu){a?b.menu.find("li:first").show():b.menu.find("li:first").hide();var d=b.menu.coord();if("block"==b.menu.css("display")&&d.left==c.pageX&&d.top==c.pageY)return b._hasOpenedMenu=!0,c.preventDefault(),void c.stopPropagation();b.menuOpening=!0,b.menu.jqxMenu("open",c.pageX,c.pageY),b.menuOpening=!1,b._hasOpenedMenu=!0,c.preventDefault(),c.stopPropagation(),setTimeout(function(){b.menu.jqxMenu("focus")},50)}},p=function(){for(var a=0;a<B.length;a++)for(var b=B[a].cells,c=0;c<b.length;c++)b[c].removeAttribute("data-selected")},q=c.target.className.indexOf("jqx-scheduler-appointment")>=0&&c.target.className.indexOf("jqx-scheduler-appointment-duration-status")==-1&&c.target.className.indexOf("jqx-scheduler-appointment-inner-content")==-1&&c.target.className.indexOf("jqx-scheduler-appointment-status")==-1&&c.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&c.target.className.indexOf("jqx-scheduler-appointment-content")==-1?a(c.target):a(c.target).parents(".jqx-scheduler-appointment");if(0==q.length&&(q=null),q&&q[0].className.indexOf("feedback")==-1){if(q.parents(".jqx-scheduler-month-cell-popup").length>0)return!0;b.mouseDownPosition={top:f,left:e};var r=a(q).coord();b.selectedAppointmentBounds={top:r.top,left:r.left,width:a(q).width(),height:a(q).height()};var g=a(q).position();b.selectedAppointmentTableBounds={top:g.top,left:g.left,width:a(q).width(),height:a(q).height()},b._dragStartCell||(b._dragStartCell=b.findCell(r.left,r.top));var s=b.getJQXAppointmentByElement(q);b._selectAppointment(s,q,"mouse"),b._raiseEvent("appointmentClick",{appointment:s.boundAppointment}),b.clearSelection();var t=(new Date).getTime(),u=300;if(a.jqx.browser.msie&&a.jqx.browser.version<9&&(u=1e3),b.clickTime||(b.clickTime=new Date),t-b.clickTime.getTime()<u&&b._lastSelectedAppointment&&s.id==b._lastSelectedAppointment.id&&3!=c.which){if(!s.readOnly&&!b.editRecurrenceDialog.jqxWindow("isOpen")&&(!b._editDialog||b._editDialog&&!b._editDialog.jqxWindow("isOpen"))){var v=b._initDialog(s);v!==!1&&b._openDialog()}b.mouseDownPosition=null,b.isMouseDown=!1,c.preventDefault&&c.preventDefault(),b._raiseEvent("appointmentDoubleClick",{appointment:s.boundAppointment})}else s.readOnly||3!==c.which&&b.focus();return b._lastSelectedAppointment=s,c.preventDefault&&c.preventDefault(),c.stopPropagation(),b.clickTime=new Date,void(s.readOnly||3==c.which&&o(!0))}if(3===c.which){var w=b.getSelection();if(null!==w)o(!1);else{b.clearAppointmentsSelection(),d.setAttribute("data-selected","true"),b._lastSelectedCell=d,b.focusedCell=d,b._updateCellsSelection(d),o(!1);var x=new a.jqx.date(d.getAttribute("data-date"),b.timeZone);b._raiseEvent("cellClick",{cell:d,date:x})}}else 3!=c.which&&b.clearAppointmentsSelection();if("agendaView"==b.view){var q=c.target.className.indexOf("jqx-scheduler-agenda-appointment")!=-1;if(q){q=c.target;var s=b.getJQXAppointmentByElement(q);b._selectAppointment(s,q,"mouse"),b._raiseEvent("appointmentClick",{appointment:s.boundAppointment});var t=(new Date).getTime(),u=300;if(a.jqx.browser.msie&&a.jqx.browser.version<9&&(u=1e3),b.clickTime||(b.clickTime=new Date),t-b.clickTime.getTime()<u&&b._lastSelectedAppointment&&s.id==b._lastSelectedAppointment.id&&3!=c.which){if(!s.readOnly&&!b.editRecurrenceDialog.jqxWindow("isOpen")&&(!b._editDialog||b._editDialog&&!b._editDialog.jqxWindow("isOpen"))){var v=b._initDialog(s);v!==!1&&b._openDialog()}b.mouseDownPosition=null,b.isMouseDown=!1,c.preventDefault&&c.preventDefault(),b._raiseEvent("appointmentDoubleClick",{appointment:s.boundAppointment})}b._lastSelectedAppointment=s,c.preventDefault&&c.preventDefault(),c.stopPropagation(),b.clickTime=new Date,s.readOnly||3==c.which&&o(!0)}}if(void 0!==n&&3!=c.which){b.clickedTD=d;var x=new a.jqx.date(d.getAttribute("data-date"),b.timeZone),y=function(b){var c=a(b);return"DIV"==c.prop("tagName")&&c.hasClass("jqx-scheduler-month-cell")&&c.has("span").length>0};if(y(c.target))b._raiseEvent("cellTitleClick",{cell:c.target,date:x});else{b._raiseEvent("cellClick",{cell:d,date:x});var z=b.rowinfo[n],A=!1;if(z){var t=(new Date).getTime(),u=300;if(b.clickTime||(b.clickTime=new Date),b.focus(),b._lastSelectedCell&&"true"==b._lastSelectedCell.getAttribute("data-selected")&&"true"===d.getAttribute("data-selected")&&t-b.clickTime.getTime()<u){var x=new a.jqx.date(d.getAttribute("data-date"),b.timeZone);b._raiseEvent("cellDoubleClick",{cell:d,date:x}),A=!0,b._initDialog(),b._openDialog(),c.preventDefault&&c.preventDefault()}}}var B=b.rows;if("true"!=d.getAttribute("data-selected")||c.shiftKey||t-b.clickTime.getTime()>u){if("true"==d.getAttribute("data-time-slot"))return;if(c.shiftKey||(b.shiftSelectedCell=null),c.shiftKey&&b._lastSelectedCell&&"agendaView"!=h&&(b.shiftSelectedCell||(b.shiftSelectedCell=b._lastSelectedCell),d.getAttribute("data-view")===b.shiftSelectedCell.getAttribute("data-view")&&p(),b._selectRange(d,b.shiftSelectedCell)),!c.shiftKey){p();var j=b._getDateByString(d.getAttribute("data-date"));j>=b.min.toDate()&&j<=b.max.toDate()?d.setAttribute("data-selected","true"):d.setAttribute("data-selected","false")}a('[data-key="'+n+'"]').removeClass(b.toTP("jqx-scheduler-selected-appointment")),b.selectedAppointment=null;var j=b._getDateByString(d.getAttribute("data-date"));j>=b.min.toDate()&&j<=b.max.toDate()&&(b._lastSelectedCell=d,b.focusedCell=d),b._updateCellsSelection(d),b.openedMonthCellPopup&&b.openedMonthCellPopup.remove()}b.clickTime=new Date,c.stopPropagation&&c.stopPropagation()}};this.addHandler(this.pinnedtable,e,function(a){var b=l(a);if(void 0!=b)return b}),this.addHandler(this.table,e,function(a){var b=l(a);if(void 0!=b)return b})},moveAppointment:function(b,c,d,e,f){var g=this,h=e.getAttribute("data-end-date");if(b){if(g.editRecurrenceDialog.jqxWindow("isOpen"))return;clearInterval(g._verticalIntervalDragVelocity),clearInterval(g._horizontalIntervalDragVelocity),clearInterval(g._intervalDrag),clearInterval(g._horizontalIntervalDrag);var i=b.duration(),j=b.duration().days()>=1||b.allDay,k=function(k){if(!f){var l=g._views[g._view].type,m=g._views[g._view],n=c;if(b.from=n,"dayView"===l||"weekView"===l)if(j||h){if(!j&&h)b.to=a.jqx.scheduler.utilities.getEndOfDay(n),b.allDay=!0;else if(j&&h)b.to=n.add(i);else if(j&&!h){var o=30,p=m.timeRuler&&m.timeRuler.scale;switch(p){case"sixtyMinutes":case"hour":o=60;break;case"fifteenMinutes":case"quarterHour":o=15;break;case"tenMinutes":o=10;break;case"fiveMinutes":o=5}b.to=n.addMinutes(o),b.allDay=!1}}else b.to=n.add(i),b.allDay=!1;else"monthView"===l?b.to=n.add(i):"timelineDayView"!==l&&"timelineWeekView"!==l&&"timelineMonthView"!==l||(b.to=n.add(i))}if(g._saveChangesAfterDragOrResize(k,b,e,f),null!=d&&(b.resourceId=d),g.table.find(".jqx-icon-arrow-down").hide(),b.allDay||j)g._renderrows();else{var q=g.getViewStart(),r=a.jqx.scheduler.utilities.getEndOfDay(g.getViewEnd());g._prepareAppointmentsInView(q,r),g._renderAppointments(q,r)}g._raiseEvent("appointmentChange",{appointment:b.boundAppointment}),g.changedAppointments[b.id]={type:"Update",appointment:b.boundAppointment},g._ensureAppointmentVisible(g.selectedJQXAppointment)};k(b.isRecurrentAppointment()?!1:null)}},getAppointmentProperty:function(a,b){var c=null;if(this.appointmentsByKey[a]&&(c=this.appointmentsByKey[a].jqxAppointment),c)return c[b]},setAppointmentProperty:function(b,c,d){var e=this,f=null;if(this.appointmentsByKey[b]&&(f=this.appointmentsByKey[b].jqxAppointment),f)switch(f[c]=d,e.changedAppointments[b]={type:c,appointment:f.boundAppointment},b){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var g=e.getViewStart(),h=a.jqx.scheduler.utilities.getEndOfDay(e.getViewEnd());e._prepareAppointmentsInView(g,h),e._renderAppointments(g,h);break;case"hidden":case"timeZone":if(f.isAllDayAppointment())e._renderrows();else{var g=e.getViewStart(),h=a.jqx.scheduler.utilities.getEndOfDay(e.getViewEnd());e._prepareAppointmentsInView(g,h),e._renderAppointments(g,h)}break;default:e._renderrows()}},deleteAppointment:function(a){this.appointmentsByKey[a]&&this._deleteAppointment(this.appointmentsByKey[a].jqxAppointment)},_deleteAppointment:function(a){var b=this;if(a.rootAppointment){if(a.isException()){for(var c=a.rootAppointment?a.rootAppointment.exceptions:a.exceptions,d=0;d<c.length;d++)if(c[d].occurrenceFrom.equals(b.editAppointment.occurrenceFrom)){c[d]=a;break}}else null!=a.rootAppointment?(a.rootAppointment.exceptions.push(b.editAppointment),a.rootAppointment.recurrenceException.push(b.editAppointment.occurrenceFrom)):(a.exceptions.push(b.editAppointment),a.recurrenceException.push(b.editAppointment.occurrenceFrom));return a.hidden=!0,void b._renderrows()}b._raiseEvent("appointmentDelete",{appointment:a.boundAppointment});var e=a.id;delete b.appointmentsByKey[e];for(var f=-1,d=0;d<b.appointments.length;d++)if(b.appointments[d]==a.boundAppointment||b.appointments[d].id==a.boundAppointment.id){f=d;break}f!=-1&&b.appointments.splice(f,1),f=-1;for(var d=0;d<b.uiappointments.length;d++)if(b.uiappointments[d]==a||b.uiappointments[d].id==a.id){f=d;break}f!=-1&&b.uiappointments.splice(f,1),b.selectedJQXAppointment==a&&(b.clearAppointmentsSelection(),b.uiappointments[f+1]?b.selectAppointment(b.uiappointments[f+1].id):b.uiappointments[f-1]?b.selectAppointment(b.uiappointments[f-1].id):b.uiappointments[0]&&b.selectAppointment(b.uiappointments[0].id)),b.changedAppointments[e]={type:"Delete",appointment:a.boundAppointment},b._renderrows()},addAppointment:function(b){var c=this;if(b.scheduler||(b.scheduler=this),!b.duration)if((b.from||b.to)&&b.appointmentObject){var d=new a.jqx.scheduler.appointment;for(var e in b)d[e]=b[e];b=d}else{var f=b,g={},h=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var e in c.appointmentDataFields){var i=c.appointmentDataFields[e],j=f[i];if("from"!=e&&"to"!=e||(j=new a.jqx.date(j)),"style"==e&&j){var k=c.getAppointmentColors(j);g.color=k.color,g.background=k.background,g.borderColor=k.border}if("recurrencePattern"==e&&j&&(j=new a.jqx.scheduler.recurrencePattern(j),j.timeZone=f.timeZone||c.timeZone),"recurrenceException"==e){var l=new Array;if(j){j.indexOf("EXDATE:")>=0&&(j=j.substring(j.indexOf("EXDATE:")+7));var m=new Array;
j.indexOf(",")>=0?m=j.split(","):m.push(j);for(var n=0;n<m.length;n++){var o=m[n];if(o.indexOf(";")>=0){var p=o.split(";")[1];o=o.split(";")[0],p.toLowerCase().indexOf("display")>=0&&p.toLowerCase().indexOf("none")&&(g.hidden=!0)}try{var q=a.jqx.scheduler.utilities.untilStringToDate(o);"Invalid Date"!=q&&(q=g.timeZone?new a.jqx.date(q,g.timeZone):c.timeZone?q.toTimeZone(c.timeZone):new a.jqx.date(q))}catch(r){var q=new a.jqx.date(o,c.timeZone)}l.push(q)}}j=l}g[e]=j}for(var s in h){var e=h[s];if(void 0==g[e]){var j="";if("originalData"==e)continue;"ownerId"==e&&(j=null),"timeZone"==e&&(j=null),"recurrencePattern"==e&&(j=null),"recurrenceException"==e&&(j=null),"allDay"==e&&(j=!1),"draggable"==e&&(j=!0),"resizable"==e&&(j=!0),"hidden"==e&&(j=!1),"resourceId"==e&&(j=null),"from"==e&&(j=new a.jqx.date),"to"==e&&(j=(new a.jqx.date).addHours(1)),g[e]=j}}g.originalData=f,g.scheduler=this;var b=new a.jqx.scheduler.appointment(g);g.timeZone&&(b.from=b.from.toTimeZone(g.timeZone),b.to=b.to.toTimeZone(g.timeZone)),c.timeZone?(g.timeZone||(b.timeZone=c.timeZone),b.from=b.from.toTimeZone(c.timeZone),b.to=b.to.toTimeZone(c.timeZone)):(b.from=b.from.toTimeZone(null),b.to=b.to.toTimeZone(null))}var e=c.dataview.generatekey();b.id=e,c.appointmentsByKey[e]=b,c.appointments.push(b);var t={},u={};for(var v in c.appointmentDataFields){var i=c.appointmentDataFields[v],j=b[v];t[v]=j,"from"!=v&&"to"!=v||(j=j.toDate?j.toDate():new a.jqx.date(j).toDate()),u[i]=j}t.originalData=u,b.boundAppointment=t,t.jqxAppointment=b,b.jqxAppointment=b,c._raiseEvent("appointmentAdd",{appointment:b.boundAppointment}),c.uiappointments.push(b),c.changedAppointments[e]={type:"Add",appointment:b.boundAppointment},c.hiddenResources&&c.hiddenResources[b.resourceId]?c.hideAppointmentsByResource(b.resourceId):c._renderrows(),c._selectAppointment(b),c._lastSelectedAppointment=b},_updateCellsSelection:function(){var a=this,b=a.rows,c=0,d=0;c>0&&a.rtl&&(c=0,d=1);for(var e=0;e<b.length;e++)for(var f=b[e].cells,g=c;g<f.length-d;g++){var h=f[g];if("true"==h.getAttribute("data-selected")){var i=h.jqxClassName||h.className;if(i.indexOf("jqx-fill-state-pressed")>=0){h!=a.focusedCell?(i=i.replace(" jqx-scheduler-cell-focus",""),i=i.replace(" jqx-scheduler-cell-focus-"+a.theme,"")):h==a.focusedCell&&a.focused&&(i=i.replace(" jqx-scheduler-cell-focus",""),i=i.replace(" jqx-scheduler-cell-focus-"+a.theme,""),a.selectedAppointment||(i=i+=" "+a.toTP("jqx-scheduler-cell-focus"))),h.className!=i&&(h.className=i),h.jqxClassName=i;continue}i=i.replace(" jqx-fill-state-pressed",""),i=i.replace(" jqx-fill-state-pressed-"+a.theme,""),i=i.replace(" jqx-scheduler-cell-focus",""),i=i.replace(" jqx-scheduler-cell-focus-"+a.theme,""),i=i.replace(" jqx-grid-cell-selected",""),i=i.replace(" jqx-grid-cell-selected-"+a.theme,""),i=i.replace(" jqx-scheduler-cell-selected",""),i=i.replace(" jqx-scheduler-cell-selected-"+a.theme,""),i=i+=" "+a.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),h==a.focusedCell&&a.focused&&!a.selectedAppointment&&(i=i+=" "+a.toTP("jqx-scheduler-cell-focus")),h.className!=i&&(h.className=i),h.jqxClassName=i}else{var i=h.jqxClassName||h.className;if(i.indexOf("jqx-fill-state-pressed")==-1){h!=a.focusedCell?(i=i.replace(" jqx-scheduler-cell-focus",""),i=i.replace(" jqx-scheduler-cell-focus-"+a.theme,"")):h==a.focusedCell&&a.focused&&(i=i.replace(" jqx-scheduler-cell-focus",""),i=i.replace(" jqx-scheduler-cell-focus-"+a.theme,""),a.selectedAppointment||(i=i+=" "+a.toTP("jqx-scheduler-cell-focus"))),h.className!=i&&(h.className=i),h.jqxClassName=i;continue}h==a.focusedCell&&a.focused&&(i=i.replace(" jqx-scheduler-cell-focus",""),i=i.replace(" jqx-scheduler-cell-focus-"+a.theme,""),a.selectedAppointment||(i=i+=" "+a.toTP("jqx-scheduler-cell-focus")),h.className!=i&&(h.className=i),h.jqxClassName=i),i=i.replace(" jqx-fill-state-pressed",""),i=i.replace(" jqx-fill-state-pressed-"+a.theme,""),i=i.replace(" jqx-scheduler-cell-focus",""),i=i.replace(" jqx-scheduler-cell-focus-"+a.theme,""),i=i.replace(" jqx-grid-cell-selected",""),i=i.replace(" jqx-grid-cell-selected-"+a.theme,""),i=i.replace(" jqx-scheduler-cell-selected",""),i=i.replace(" jqx-scheduler-cell-selected-"+a.theme,""),h==a.focusedCell&&a.focused&&!a.selectedAppointment&&(i=i+=" "+a.toTP("jqx-scheduler-cell-focus")),h.className!=i&&(h.className=i),h.jqxClassName=i,h.removeAttribute("data-selected")}}},_getCurrentViewType:function(){return this._views[this._view].type},_hittest:function(a,b,c){var d,e,f,g,h,i=this,j=!1;return d=i.host.offset(),e=d.left,f=d.top,g=i.host.outerWidth(),h=i.host.outerHeight(),b>=e&&b<=e+g&&c>=f&&c<=f+h&&(j=!0),j},_getuikey:function(b,c){var d=null,e=this.table[0].rows;if(d=a(e[b]).attr("data-key"),a(e[b]).attr("data-role")){var f=a(e[b]);if("next"==c){for(;f;)if(f=f.next()){var g=f.attr("data-role");if(!g)return d=f.attr("data-key")}}else if("prev"==c)for(;f;)if(f=f.prev()){var g=f.attr("data-role");if(!g)return d=f.attr("data-key")}return null}return d},getRows:function(){var a=this._views[this._view].type,b=this._views[this._view],c="halfHour";b.timeRuler&&b.timeRuler.scale&&(c=b.timeRuler.scale);var d=24,e=this.showAllDayRow;if(b.timeRuler&&("dayView"===a||"weekView"===a)){var f=0,g=23;if(void 0!=b.timeRuler.scaleStartHour)var f=parseInt(b.timeRuler.scaleStartHour);if(void 0!=b.timeRuler.scaleEndHour)var g=parseInt(b.timeRuler.scaleEndHour);f<0&&(f=0),g<0&&(g=23),f>23&&(f=0),g>23&&(g=23),d=g-f+1,void 0!=b.timeRuler.showAllDayRow&&(e=b.timeRuler.showAllDayRow)}var h=new Array,i=0;switch(a){case"dayView":case"weekView":default:var i=2*d;if("hour"===c||"sixtyMinutes"===c)var i=d;else if("quarterHour"===c||"fifteenMinutes"===c)var i=4*d;else if("tenMinutes"===c)var i=6*d;else if("fiveMinutes"===c)var i=12*d;e&&i++;break;case"monthView":var i=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":var i=1;break;case"agendaView":var i=this.appointments?this.appointments.length:0}for(var j=0;j<i;j++)h.push({uid:j});return h},_getDateByString:function(a){var b=a.split(" "),c=b[0].split("-"),d=b[1].split(":"),e=parseInt(c[0],10),f=parseInt(c[1],10)-1,g=parseInt(c[2],10),h=parseInt(d[0],10),i=parseInt(d[1],10),j=parseInt(d[2],10),k=new Date(e,f,g,h,i,j);return e<1970&&k.setFullYear(e,f,g),k},_getCellByDate:function(a,b,c){var d=this.rows;void 0===b&&(b=!1),void 0===c&&this.focusedCell&&(c=this.focusedCell.getAttribute("data-view"));for(var e=0;e<d.length;e++){var f=d[e];if(!f.element.getAttribute("data-group-row"))for(var g=0;g<f.cells.length;g++){var h=f.cells[g];if(null==h.getAttribute("rowspan")&&h.getAttribute("data-view")===c&&!(h.getAttribute("data-time-slot")||b&&null!=h.getAttribute("data-end-date"))){var i=h.getAttribute("data-date"),j=this._getDateByString(i);if(j.valueOf()==a.valueOf())return h}}}},_rendercelltexts:function(){},_handleKey:function(b){if(this._loading)return!0;var c=b.shiftKey,d=b.ctrlKey||b.metaKey,e=this,f=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(e._hasOpenedMenu)return 27==f?e.closeMenu():e.menu.jqxMenu("focus"),!0;if(13===f||e.selectedAppointment&&46==f){if(e.editRecurrenceDialog&&e.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(e._editDialog&&e._editDialog.jqxWindow("isOpen"))return!0;if(e.selectedAppointment){var g=e.getJQXAppointmentByElement(e.selectedAppointment);if(!g.readOnly)if(46==f){var h=e._initDialog(g,"delete");h!==!1&&e._openDialog()}else{var h=e._initDialog(g);h!==!1&&e._openDialog()}}else e._initDialog(),e._openDialog()}if(27===f&&e.dragOrResize){e.table.find(".jqx-icon-arrow-down").hide();var i=e.getViewStart(),j=a.jqx.scheduler.utilities.getEndOfDay(e.getViewEnd());return e._prepareAppointmentsInView(i,j),e._renderAppointments(i,j),e._removeFeedbackAndStopResize(),!1}var k=function(b){var f=e.selectedAppointment,g=e.getJQXAppointmentByElement(f),h=g.elements[0].cells[0].cell,i=g.elements[g.elements.length-1].cells[g.elements[g.elements.length-1].cells.length-1].cell,j=e.rows[e.rows.length-1].cells[e.rows[e.rows.length-1].cells.length-1];!c&&(c||d||"down"!=b&&"right"!=b)||(h=i);var k=e._views[e._view].type,l=(e._views[e._view],h);switch(b){case"left":var m=e.rowByCell[h.getAttribute("data-key")],n=m.indexOf(h);if(n>0&&!c)l=m.cells[n-1];else if("monthView"==k&&!c){var o=m.aboveRow;o&&(l=o.cells[o.cells.length-1])}break;case"right":var m=e.rowByCell[h.getAttribute("data-key")],n=m.indexOf(h);if(n<m.cells.length-1)l=m.cells[n+1];else if("monthView"==k){var p=m.belowRow;p&&(l=p.cells[0])}"monthView"==k&&!c&&d&&i==j&&(l=h);break;case"up":var m=e.rowByCell[h.getAttribute("data-key")],n=m.indexOf(h),o=m.aboveRow;o&&!c&&(l=o.cells[n]);break;case"down":var m=e.rowByCell[h.getAttribute("data-key")],n=m.indexOf(h),p=m.belowRow;p&&(l=p.cells[n])}var q=l.getAttribute("data-date"),r=new a.jqx.date(q,e.timeZone),k=a(l).attr("data-view"),s=e._resources[parseInt(k)-1];if(c){var k=e._views[e._view].type,t=(e._views[e._view],!1);"dayView"===k||"weekView"===k?h.getAttribute("data-end-date")?"left"==b&&(g.elements[0].cells.length>1||e.rtl)?(e.rtl?g.to=a.jqx.scheduler.utilities.getEndOfDay(r.addDays(1)):g.to=a.jqx.scheduler.utilities.getEndOfDay(r.addDays(-1)),t=!0):"right"==b&&((!e.rtl||e.rtl&&g.elements[0].cells.length>1)&&(g.to=a.jqx.scheduler.utilities.getEndOfDay(r)),t=!0):"up"==b&&g.elements[0].cells.length>1?(g.to=r,t=!0):"down"==b&&(g.to=r.addMinutes(e.getMinutesPerScale()),t=!0):k.indexOf("month")>=0?"left"==b&&(g.elements[0].cells.length>1||g.elements.length>1)?(g.to=a.jqx.scheduler.utilities.getEndOfDay(r.addDays(-1)),t=!0):"right"==b&&(g.to=a.jqx.scheduler.utilities.getEndOfDay(r),t=!0):!e.rtl&&"left"==b&&g.elements[0].cells.length>1||e.rtl&&"right"==b&&g.elements[0].cells.length>1?(g.to=r,e.rtl&&(g.to=r.addMinutes(e.getMinutesPerScale())),t=!0):(!e.rtl&&"right"==b||e.rtl&&"left"==b)&&(g.to=r.addMinutes(e.getMinutesPerScale()),e.rtl&&(g.to=g.to.addMinutes(e.getMinutesPerScale())),t=!0),t&&e.moveAppointment(g,r,s,l,!0)}else if(d)e.moveAppointment(g,r,s,l);else{e.clearAppointmentsSelection();var u=!0;"down"==b&&(u=!1),e.selectCell(r,u,k),e._ensureVisible(l)}if(e.selectedAppointment){e.selectedAppointment.removeClass(e.toTP("jqx-scheduler-selected-appointment"));var v=e.selectedAppointment.attr("data-key");a('[data-key="'+v+'"]').addClass(e.toTP("jqx-scheduler-selected-appointment")),e.clearSelection()}};if(b.altKey&&e._resourcesElements&&e._resources&&e._resources.length>0){var l=function(a){var b=e._resourcesElements.bottom[a];"on"==b.attr("data-toggle")?e.hideAppointmentsByResource(a):e.showAppointmentsByResource(a)},m=f>=49&&f<=58?m=f-48:-1;if(m>=1)return a.each(e._resources,function(a,b){if(a==m-1)return l(b),!1}),!1}if(b.ctrlKey){if(!e.selectedAppointment){if(37==f)return e.toolbarLeftButton.trigger("click"),e._ensureVisible(e.focusedCell),!1;if(39==f)return e.toolbarRightButton.trigger("click"),e._ensureVisible(e.focusedCell),!1}if(49==f)return e._setView(0),!1;if(50==f)return e._setView(1),!1;if(51==f)return e._setView(2),!1;if(52==f)return e._setView(3),!1;if(53==f)return e._setView(4),!1;if(54==f)return e._setView(5),!1;if(68==f)return e.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==f)return e.openMenu(),!1}if(9==f)if(b.shiftKey)if(e.selectedAppointment){e.clearSelection();var n=e.selectedAppointment,g=e.getJQXAppointmentByElement(n);if(g){var o=e.tabKeyAppointments.indexOf(g);return o>0?(g=e.tabKeyAppointments[o-1],e._selectAppointment(g),e._lastSelectedAppointment=g,e._ensureAppointmentVisible(g),!1):(e.clearAppointmentsSelection(),e.focusedCell?!e.focusedCell||e.focusedCell.className.indexOf("-focus")!=-1||(e._updateCellsSelection(),e._ensureVisible(e.focusedCell),!1):(e._updateFocusedCell(),e._ensureVisible(e.focusedCell),!1))}}else if(e.focusedCell){if(e.focusedCell&&e.focusedCell.className.indexOf("-focus")==-1)return e._updateCellsSelection(),e._ensureVisible(e.focusedCell),!1}else e._updateFocusedCell(),e._ensureVisible(e.focusedCell);else{if(e.selectedAppointment){e.clearSelection();var n=e.selectedAppointment,g=e.getJQXAppointmentByElement(n),o=e.tabKeyAppointments.indexOf(g);return o<e.tabKeyAppointments.length-1?(g=e.tabKeyAppointments[o+1],e._selectAppointment(g),e._lastSelectedAppointment=g,e._ensureAppointmentVisible(g),!1):(e.clearAppointmentsSelection(),!0)}var g=e.tabKeyAppointments[0];if(g)return e._selectAppointment(g),e._lastSelectedAppointment=g,e._ensureAppointmentVisible(g),!1;if(!e.focusedCell)return e._updateFocusedCell(),e._ensureVisible(e.focusedCell),!1;if(e.focusedCell&&e.focusedCell.className.indexOf("-focus")==-1)return e._updateCellsSelection(),e._ensureVisible(e.focusedCell),!1}if(e.selectedAppointment){if(37==f?k("left"):38==f?k("up"):40==f?k("down"):39==f&&k("right"),f>=37&&f<=40)return!1}else{var p=this._lastSelectedCell;if(p){a(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],p=this._lastSelectedCell);var q=(this.rows,this._views[this._view].type),r=this._views[this._view],s="halfHour";r.timeRuler&&r.timeRuler.scale&&(s=r.timeRuler.scale);var t=function(c,d){var f=30;switch(s){case"sixtyMinutes":case"hour":f=60;break;case"thirtyMinutes":case"halfHour":f=30;break;case"fifteenMinutes":case"quarterHour":f=15;break;case"tenMinutes":f=10;break;case"fiveMinutes":f=5}var g=c.getAttribute("data-date"),h=function(a,c,d){if(a&&(null==a.getAttribute("rowspan")||"agendaView"==q)&&null==a.getAttribute("data-time-slot")){if(d<e.min||d>e.max)return;var f=e.rows,g=e._lastSelectedCell;if(e._lastSelectedCell=a,b.shiftKey&&e._lastSelectedCell?e.shiftSelectedCell||(e.shiftSelectedCell=p):b.shiftKey||(e.shiftSelectedCell=null),e.shiftSelectedCell)a.getAttribute("data-end-date")&&e.shiftSelectedCell.getAttribute("data-end-date")?(e.focusedCell=a,e._selectRange(a,e.shiftSelectedCell)):a.getAttribute("data-end-date")||e.shiftSelectedCell.getAttribute("data-end-date")?(e.focusedCell=g,e._lastSelectedCell=g):(e.focusedCell=a,e._selectRange(a,e.shiftSelectedCell));else{for(var h=0;h<f.length;h++){var i=f[h];if(!i.element.getAttribute("data-group-row"))for(var j=0;j<i.cells.length;j++){var c=i.cells[j];c.removeAttribute("data-selected","false")}}a.setAttribute("data-selected","true"),e.focusedCell=a}e._ensureVisible(e.focusedCell)}};new a.jqx.date(g,e.timeZone),c.getAttribute("data-view");switch(d){case"left":var i=e.rowByCell[c.getAttribute("data-key")],j=i.indexOf(c);if(j>0)var k=i.cells[j-1],l=new a.jqx.date(k.getAttribute("data-date"),e.timeZone);h(k,c,l);break;case"right":var i=e.rowByCell[c.getAttribute("data-key")],j=i.indexOf(c);if(j<i.cells.length-1)var k=i.cells[j+1],l=new a.jqx.date(k.getAttribute("data-date"),e.timeZone);h(k,c,l);break;case"up":var i=e.rowByCell[c.getAttribute("data-key")],j=i.indexOf(c),m=i.aboveRow;if(m){var k=m.cells[j];if(0==j&&k.getAttribute("rowspan"))for(var n=-1+e.rows.indexOf(i),k=c;n>=0;){if(e.rows[n].cells[0]!=k){k=e.rows[n].cells[0];break}n--}var l=new a.jqx.date(k.getAttribute("data-date"),e.timeZone);h(k,c,l)}break;case"down":var i=e.rowByCell[c.getAttribute("data-key")],j=i.indexOf(c),o=i.belowRow;if(o){var k=o.cells[j];if(0==j&&k.getAttribute("rowspan"))for(var n=1+e.rows.indexOf(i),k=c;n<e.rows.length;){if(e.rows[n].cells[0]!=k){k=e.rows[n].cells[0];break}n++}var l=new a.jqx.date(k.getAttribute("data-date"),e.timeZone);h(k,c,l)}break;case"home":var i=e.rowByCell[c.getAttribute("data-key")],j=i.indexOf(c),r=e.rows[0],k=r.cells[j],l=new a.jqx.date(k.getAttribute("data-date"),e.timeZone);h(k,c,l);break;case"end":var i=e.rowByCell[c.getAttribute("data-key")],j=i.indexOf(c),t=e.rows[e.rows.length-1],k=t.cells[j],l=new a.jqx.date(k.getAttribute("data-date"),e.timeZone);h(k,c,l)}e._updateCellsSelection()},u=function(){t(p,"home")},v=function(){t(p,"end")};return 36==f||d&&38==f?(u(),!1):35==f||d&&40==f?(v(),!1):37==f?(e.selectedAppointment?k(p,"left"):t(p,"left"),!1):38==f?(e.selectedAppointment?k(p,"up"):t(p,"up"),!1):40==f?(e.selectedAppointment?k(p,"down"):t(p,"down"),!1):39==f?(e.selectedAppointment?k(p,"right"):t(p,"right"),!1):void 0}}},getSelectedCells:function(){for(var a=this,b=a.rows,c=b.length,d=new Array,e=0;e<c;e++)for(var f=b[e].cells,g=0;g<f.length;g++)f[g].getAttribute("data-selected")&&d.push(f[g]);return d.sort(function(b,c){return a._sortByDate(b,c)})},getSelection:function(){var b=this,c=b.getSelectedCells();if(0==c.length)return null;var d=c[0].getAttribute("data-date"),e=c[c.length-1].getAttribute("data-date"),f=b.getMinutesPerScale(),g=b._views[b._view].type;g.toLowerCase().indexOf("month")>=0&&(f=0),c[0].getAttribute("data-end-date")&&(f=0),e=new a.jqx.date(e,b.timeZone).addMinutes(f);var g=parseInt(c[0].getAttribute("data-view"))-1,h=b._resources[g];return b._views[b._view].type.toLowerCase().indexOf("month")>=0?{from:new a.jqx.date(d,b.timeZone),to:a.jqx.scheduler.utilities.getEndOfDay(e),resourceId:h}:{from:new a.jqx.date(d,b.timeZone),to:e,resourceId:h}},clearSelection:function(){for(var a=this,b=a.rows,c=b.length,d=0;d<c;d++)for(var e=b[d].cells,f=0;f<e.length;f++)e[f].removeAttribute("data-selected");a._updateCellsSelection()},_getvirtualcolumnsindexes:function(a,b,c,d,e){this.rtl&&(a=this.hScrollInstance.max-a);var f=0,g=-1,h=c+d;if(this.autorowheight)return{start:0,end:c+d};if(!e)for(var i=0;i<c+d;i++){if(this.columns.records[i].hidden||(f+=this.columns.records[i].width),f>=a&&g==-1&&(g=i),f>b+a){h=i;break}}return h++,h>c+d&&(h=c+d),g==-1&&(g=0),{start:g,end:h}},_renderhorizontalscroll:function(){var b=this,c=b.hScrollInstance,d=c.value;"hidden"===b.hScrollBar[0].style.visibility&&(c.value=0,d=0);var e=parseInt(d);if(null!=b.table){for(var f=function(a){return!(!a.parentNode||"#document-fragment"==a.parentNode.nodeName)},g=b._getvirtualcolumnsindexes(e,b._hostWidth,0,b.columns.records.length,!1),h=g.start,i=g.end,j=(b.rows,0);j<h;j++){var k=j,l=b.columns.records[k].element[0];f(l)&&l.parentNode.removeChild(l)}for(var j=i;j<b.columns.records.length;j++){var k=j,l=b.columns.records[k].element[0];f(l)&&l.parentNode.removeChild(l)}for(var j=h;j<i;j++){var k=j;l=b.columns.records[k].element[0],f(l)||b.columnsrow[0].appendChild(l)}var m=b.columnsrow,n=0;b.columns.records.length-n,b.columns.records,0==b.source.records.length;if(b.rtl&&"hidden"!=b.hScrollBar.css("visibility")&&(e=c.max-e),b.table[0].style.left=-e+"px","block"==b.pinnedtable[0].style.display&&(b.pinnedtable[0].style.left=-e+"px"),b._resources.length>0&&b.tableRows>0)for(var o=0;o<this.table[0].rows.length;o++){var p=this.table[0].rows[o];p.getAttribute("data-group-row")&&a(p).find("span").css("left",5+e)}m[0].style.marginLeft=-e+"px"}},_getDayName:function(a,b){a>=7&&(a-=7),b||(b=this.dayNameFormat,this.isTouchDevice()&&(b=this.touchDayNameFormat));var c=this.schedulerLocalization.days.names[a];switch(b){case"full":c=this.schedulerLocalization.days.names[a];break;case"abbr":c=this.schedulerLocalization.days.namesAbbr[a];break;case"shortest":c=this.schedulerLocalization.days.namesShort[a];break;case"firstTwoLetters":c=c.substring(0,2);break;case"firstLetter":c=c.substring(0,1)}return c},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var b=this._views[this._view].type,c=this._views[this._view];if(c.timeSlotWidth&&(c.timeSlotWidth=Math.max(c.timeSlotWidth,30),c.columnWidth=c.timeSlotWidth),c.columnWidth&&c.columnWidth<30&&(c.columnWidth=30),this.columns&&this.columns.records)for(var d=0;d<this.columns.records.length;d++)this._removecolumnhandlers(this.columns.records[d]);this.columns=new Array;for(var e=new Array,f=this,g=function(b,d){var e="halfHour";c.timeRuler&&c.timeRuler.scale&&(e=c.timeRuler.scale);var g=24,h=0,i=23;if(c.timeRuler){if(void 0!=c.timeRuler.scaleStartHour)var h=parseInt(c.timeRuler.scaleStartHour);if(void 0!=c.timeRuler.scaleEndHour)var i=parseInt(c.timeRuler.scaleEndHour);h<0&&(h=0),i<0&&(i=23),h>23&&(h=0),i>23&&(i=23),g=i-h+1}var j=60,k=2;if(e)switch(e){case"sixtyMinutes":case"hour":k=1;break;case"thirtyMinutes":case"halfHour":k=2;break;case"fifteenMinutes":case"quarterHour":k=4;break;case"tenMinutes":k=6;break;case"fiveMinutes":k=12}var l=(new Array,"auto");c.timeRuler&&c.timeRuler.formatString&&(l=c.timeRuler.formatString);var m=h,n=g,o=b.addHours(m),p="auto";p=c.columnWidth?k*c.columnWidth:80*k;for(var q=0;q<n;q++){var r=o.toDate();if("auto"===l)if(0==r.getHours()&&0==r.getMinutes()||12==r.getHours()&&0==r.getMinutes())var s="hh tt";else var s="hh:mm";else if(a.isFunction(l))var s=l(r);else s=l;a.jqx.dataFormat.isDate(r)&&(r=a.jqx.dataFormat.formatdate(r,s,f.schedulerLocalization)),o=o.addMinutes(j,!1),f.columns.push({columnGroup:d,text:r,minwidth:30,width:p})}},h=0;h<this.tableColumns;h++){if(this.tableColumns>1){var i=f._resources[h]?f._resources[h]:"Resource"+h;e.push({text:i,name:i})}var j="left";switch(this.rtl&&(j="right"),b){case"dayView":var k=this.getViewStart();!1===c.showWeekends&&(0!==k.dayOfWeek()&&6!==k.dayOfWeek()||(k=k.addDays(1)),0!==k.dayOfWeek()&&6!==k.dayOfWeek()||(k=k.addDays(1)));var l="auto";c&&c.columnWidth&&(l=c.columnWidth);var i=f._resources[h]?f._resources[h]:"Resource"+h;this.columns.push({align:j,width:l,columnGroup:i,text:this._getDayName(k.dayOfWeek())});break;case"weekView":case"monthView":for(var d=0;d<7;d++){var m=this.schedulerLocalization.firstDay+d;if(!1!==c.showWeekends||0!==d&&6!==d){var l="auto";c&&c.columnWidth&&(l=c.columnWidth);var i=f._resources[h]?f._resources[h]:"Resource"+h;this.columns.push({align:"weekView"==b?j:"center",width:l,columnGroup:i,text:this._getDayName(m)})}}break;case"timelineDayView":var i=f._resources[h]?f._resources[h]:"Resource"+h;g(f.getViewStart(),i);break;case"timelineWeekView":for(var d=0;d<7;d++){var m=this.schedulerLocalization.firstDay+d;if(!1!==c.showWeekends||0!==d&&6!==d){var i=f._resources[h]?f._resources[h]:"Resource"+h;e.push({align:f.rtl?"right":"left",parentGroup:i,name:this._getDayName(m)+h,text:this._getDayName(m)}),g(f.getViewStart().addDays(d),this._getDayName(m)+h)}}break;case"timelineMonthView":var n=f.getViewStart(),o="auto";c.timeRuler&&c.timeRuler.formatString&&(o=c.timeRuler.formatString);for(var d=0;d<41;d++){var m=n.dayOfWeek();if(!1!==c.showWeekends||0!==m&&6!==m){var l="auto";l=c.columnWidth?c.columnWidth:100;var p=n.toDate();if("auto"===o){var q="dd";p=n.toDate(),1===p.getDate()&&(q="MMM dd")}else if(a.isFunction(o))var q=o(p);else q=o;a.jqx.dataFormat.isDate(p)&&(p=a.jqx.dataFormat.formatdate(p,q,f.schedulerLocalization)),n=n.addDays(1);var i=f._resources[h]?f._resources[h]:"Resource"+h;f.columns.push({minwidth:30,columnGroup:i,text:p,width:l})}}break;case"agendaView":var r=c.dateColumnWidth,s=c.timeColumnWidth,t=c.appointmentColumnWidth;t||(t="70%"),s||(s="auto"),r||(r="auto"),f.columns.push({text:f.schedulerLocalization.agendaDateColumn,width:r}),f.columns.push({text:f.schedulerLocalization.agendaTimeColumn,width:s}),f.columns.push({text:f.schedulerLocalization.agendaAppointmentColumn,width:t})}}e.length>0&&(this.columnGroups=e);var f=this,u=new a.jqx.schedulerDataCollection(this.element),v=0;this._columns=this.columns;var w="left",x=new a.jqx.scheduler.column(f,this);x.visibleindex=v++,x.text="",x.width=f.timeRulerWidth,x.editable=!1,x.timeColumn=!0,w="left",x.text="",x.hidden=!1,x.width=f.timeRulerWidth;var y=!1;!c.timeRuler||"dayView"!==b&&"weekView"!==b?"dayView"!==b&&"weekView"!==b&&(x.hidden=!0):(x._text=c.timeRuler.text||"",w=c.timeRuler.position||"left",x.hidden=c.timeRuler.hidden||!1,x.width=c.timeRuler.width||f.timeRulerWidth,c.timeRuler.timeZones&&(y=!0));var z=function(e){var g=new a.jqx.scheduler.column(f,f);g.visibleindex=v++,g.text="",g.width=f.timeRulerWidth,g.editable=!1,g.timeColumn=!0,w="left",g.text="",g.hidden=!1,g.timeZone=c.timeRuler.timeZones[e].id,g.width=f.timeRulerWidth,!c.timeRuler||"dayView"!==b&&"weekView"!==b||(g._text=c.timeRuler.timeZones[d].text||"",g.hidden=c.timeRuler.hidden||!1,g.width=c.timeRuler.width||f.timeRulerWidth,u.add(g))};if("left"===w&&("dayView"===b||"weekView"===b)){if(c.timeRuler&&c.timeRuler.timeZones)for(var d=0;d<c.timeRuler.timeZones.length;d++)z(d);u.add(x)}"left"===w&&"monthView"===b&&c.showWeekNumbers&&(x.hidden=!1,u.add(x));new Array;if(a.each(this.columns,function(b){if(void 0!=f.columns[b]){var c=new a.jqx.scheduler.column(f,this);c.visibleindex=v++,u.add(c)}}),"right"===w&&("dayView"===b||"weekView"===b)){if(c.timeRuler)for(var d=0;d<c.timeRuler.timeZones.length;d++)z(d);u.add(x)}"right"===w&&"monthView"===b&&c.showWeekNumbers&&(x.hidden=!1,u.add(x)),this.rtl&&u.records.reverse(),this.columns=u},_getColumnsLengthPerView:function(){var a=this._views[this._view].type,b=this._views[this._view],c=1;switch(a){case"dayView":c=1;break;case"weekView":c=b.showWeekends!==!1?7:5;break;case"monthView":c=b.showWeekends!==!1?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":c=this.columns.records.length;break;case"agendaView":c=this.columns.records.length}return c},_renderagenda:function(){function b(){var a={};return a.cells=new Array,a.indexOf=function(b){for(var c=0;c<a.cells.length;c++)if(a.cells[c].getAttribute("data-key")==b.getAttribute("data-key"))return c;return-1},a}var c=this,d=(c._views[c._view].type,c._views[c._view]),e=c.getViewStart(),f=a.jqx.scheduler.utilities.getEndOfDay(c.getViewEnd().addDays(-1));c._prepareAppointmentsInView(e,f);for(var g=c.appointmentsToRender.length,h=new Array,i=0,j=0;j<c.appointmentsToRender.length;j++)for(var k=c.appointmentsToRender[j],l=k.from.clearTime();l<a.jqx.scheduler.utilities.getEndOfDay(k.to);){var m=l.toString();h[m]?(h[m].appointments.push(k),i++):(h[m]={date:l,appointments:new Array},h[m].appointments.push(k),h[h.length]=h[m],i++),l=l.addDays(1).clearTime()}var n=0,o=0;c.rows=new Array;for(var p=a.jqx.browser.msie&&a.jqx.browser.version<8,q=0,r=0,s=c.rtl?" "+c.toTP("jqx-grid-table-rtl"):"",t=0,u="<table cellspacing='0' cellpadding='0' class='"+c.toTP("jqx-grid-table")+s+"' id='table"+c.element.id+"'><colgroup>",v=c.columns.records.length,w=0;w<v;w++){var x=c.columns.records[w];if(x.hidden)q++,nonHiddenColumns--;else{var y=x.width;if(y<x.minwidth&&(y=x.minwidth),y>x.maxwidth&&(y=x.maxwidth),y-=r,y<0&&(y=0),p){var z=y;w==q&&z++,u+="<col style='max-width: "+z+"px; width: "+z+"px;'>"}else u+="<col style='max-width: "+y+"px; width: "+y+"px;'>";t+=y}}if(u+="</colgroup>",0==g){var A='<tr role="row">',B=this.host.height(),C=0;C+=c.columnGroups?c.showHeader?c.columnsheader.height():0:c.showHeader?c.columnsHeight:0,c.showToolbar&&(C+=c.toolbarHeight),c.showLegend&&c._resources.length>0&&(C+=c.legendHeight),B-=C;var D='<td data-date="'+e.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+B+"px; height: "+B+"px; max-width:"+t+"px; width:"+t+"px;",E=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");E+=" "+this.toTP("jqx-center-align"),D+='" class="'+E+'">',D+=this.schedulerLocalization.emptyDataString,D+="</td>",A+=D,A+="</tr>",u+=A,this.table[0].style.width=t+2+"px",o=t}var F=c.rowsHeight;c.isTouchDevice()&&(F=c.touchRowsHeight);for(var j=0;j<h.length;j++)for(var G=j,l=h[j],H=0;H<l.appointments.length;H++){var I=0,A='<tr data-key="'+G+'" role="row">';n=0;for(var J=l.appointments[H],w=0;w<v;w++){var K=c.columns.records[w],L=w;c.rtl&&(L=v-1-w);var y=K.width;y<K.minwidth&&(y=K.minwidth),y>K.maxwidth&&(y=K.maxwidth),y-=r,y<0&&(y=0);var E=c.toTP("jqx-cell")+" "+c.toTP("jqx-grid-cell")+" "+c.toTP("jqx-item");c.rtl&&(E+=" "+c.toTP("jqx-cell-rtl"));var M="",G=c.dataview.generatekey(),N=-1,O=l.date,B=F+"px",D='<td data-key="'+G+'" data-view="'+N+'" data-date="'+O.toString()+'" role="gridcell" '+M+' style="max-width:'+y+"px; width:"+y+"px; height: "+B+"; min-height: "+F+"px;";if(0==L&&0==H){var P=l.appointments.length,D='<td rowspan="'+P+'" data-key="'+G+'" data-view="'+N+'" data-date="'+O.toString()+'" role="gridcell" '+M+' style="max-width:'+y+"px; width:"+y+"px;  min-height: "+F+"px;";E+=" "+c.toTP("jqx-center-align")}else if(0==L){n++;continue}c.rtl&&1==L&&(E+=" "+c.toTP("jqx-right-align")),K.hidden?(D+="display: none;",c._hiddencolumns=!0):(I+=r+y,D+=0!=n||c.rtl?"border-left-width: 1px;":"border-left-width: 0px;",n++),D+='" class="'+E+'">';var Q="";if(0==L&&0==H){var R=O.toString("dddd",c.schedulerLocalization),S=O.toString("MMMM, yyyy",c.schedulerLocalization),T=c.toTP("jqx-scheduler-agenda-date"),U=c.toTP("jqx-scheduler-agenda-day"),V=c.toTP("jqx-scheduler-agenda-week");Q='<div class="'+T+'"><strong class="'+U+'">'+O.day()+'</strong><br/><em class="'+V+'">'+R+'</em><br/><span class="'+T+'">'+S+"</span></div>"}if(1==L){var W="auto",d=this._views[this._view],X=J.from,Y=J.to;d.timeRuler&&d.timeRuler.formatString&&(W=d.timeRuler.formatString);var Z=W,$=W;if("auto"===W){if(0==X.hour()&&0==X.minute()||12==X.hour()&&0==X.minute())var Z="hh tt";else var Z="hh:mm";if(0==Y.hour()&&0==Y.minute()||12==Y.hour()&&0==Y.minute())var $="hh tt";else var $="hh:mm"}var T=c.toTP("jqx-scheduler-agenda-time");Q=J.allDay?"<span class='"+T+"'>"+c.schedulerLocalization.agendaAllDayString+"</span>":c.rtl?"<span class='"+T+"'>"+Y.toString($,c.schedulerLocalization)+" - "+X.toString(Z,c.schedulerLocalization)+"</span>":"<span class='"+T+"'>"+X.toString(Z,c.schedulerLocalization)+" - "+Y.toString($,c.schedulerLocalization)+"</span>"}else if(2==L){J.resourceId&&a.each(c._resources,function(a,b){if(J.resourceId==b){var d=c.getColors(a),e=(this.toString(),c.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"));if(c.rtl)var e=c.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend");var f="<div data-key='"+J.id+"' class='"+e+"' style='margin-right: 5px; border-color: "+d.border+"; background: "+d.background+";' class='"+c.toThemeProperty("jqx-scheduler-legend")+"'></div>";Q=f}});var _=J.subject?J.subject:"(No Title)",aa=J.location,ba=J.description,ca=J.status?c.schedulerLocalization.editDialogStatuses[J.status]:"",da=J.isRecurrentAppointment(),ea=(J.isException(),""+c.schedulerLocalization.editDialogSubjectString+": "+_);aa&&(ea+="\n"+c.schedulerLocalization.editDialogLocationString+": "+aa),ba&&(ea+="\n"+c.schedulerLocalization.editDialogDescriptionString+": "+ba),ca&&(ea+="\n"+c.schedulerLocalization.editDialogStatusString+": "+ca),da&&(ea+="\n"+c.schedulerLocalization.editDialogRepeatString+": "+da);var T=c.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(c.rtl)var T=c.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label");Q+="<span data-key='"+J.id+"' title='"+ea+"' class='"+T+"'>"+_+"</span>"}D+=Q,D+="</td>",A+=D}0==o&&(c.table[0].style.width=I+2+"px",c.pinnedtable[0].style.width=I+2+"px",o=I),A+="</tr>",u+=A}u+="</table>",c.table[0].innerHTML=u,c.pinnedtable[0].innerHTML=u,c.pinnedtable[0].style.display="none";var fa=a(c.table[0].firstChild),ga=a(c.pinnedtable[0].firstChild);c._table=fa,c._pinnedtable=ga,a.jqx.browser.msie&&a.jqx.browser.version<10&&(c._table[0].style.width=o+"px",c._pinnedtable[0].style.width=o+"px"),0===g&&(c._table[0].style.width=2+o+"px",c._pinnedtable[0].style.width=2+o+"px",c._pinnedtable[0].style.display="none"),c._pinnedtable[0].style.display="none",c._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),c.table[0].rows=c.table[0].firstChild.rows,c.rowByCell=new Array,c.columnCells=new Array,c.cellWidth=0,c.cellHeight=0;for(var ha=c.table[0].rows.length,j=0;j<ha;j++){var ia=c.table[0].rows[j];if(!ia.getAttribute("data-group-row")){var ja=new b;ja.aboveRow=null,ja.belowRow=null,c.rows.length>0&&(ja.aboveRow=c.rows[c.rows.length-1],c.rows[c.rows.length-1].belowRow=ja),ja.element=ia,c.rows.push(ja);for(var ka=!1,w=0;w<ia.cells.length;w++){if(ia.cells.length<c.columns.records.length&&!ka)for(var la=j;la>=0;){var ma=c.table[0].rows[la];if(c.table[0].rows[la].cells.length==c.columns.records.length){var na=ma.cells[0];c.columnCells[ja.cells.length]||(c.columnCells[ja.cells.length]=new Array),c.columnCells[ja.cells.length].push(na),0==c.cellWidth&&(c.cellWidth=na.clientWidth),0==c.cellHeight&&(1==ha||j>1)&&(c.cellHeight=na.clientHeight),
ja.cells.push(na),ka=!0;break}la--}var na=ia.cells[w];"none"!==na.style.display&&(na.className.indexOf("jqx-grid-cell-pinned")>=0||(c.columnCells[ja.cells.length]||(c.columnCells[ja.cells.length]=new Array),c.columnCells[ja.cells.length].push(na),0==c.cellWidth&&(c.cellWidth=na.clientWidth),0==c.cellHeight&&(1==ha||j>1)&&(c.cellHeight=na.clientHeight),ja.cells.push(na),c.rowByCell[na.getAttribute("data-key")]=ja))}}}0===g&&(c._table[0].style.tableLayout="auto"),c._updateScrollbars(c.host.height()),c._arrange(),c.rendered&&c.rendered(),c.renderedTime=new Date},_renderrows:function(){function b(){var a={};return a.cells=new Array,a.indexOf=function(b){for(var c=0;c<a.cells.length;c++)if(a.cells[c].getAttribute("data-key")==b.getAttribute("data-key"))return c;return-1},a}var c=this;if(!c._loading&&!c._updating&&!c._appupdating){c.rendering&&c.rendering();var c=this,d=c._views[c._view].type,e=c._views[c._view];if("agendaView"==d)return void c._renderagenda();var f=1,g=c.getViewStart(),h=a.jqx.scheduler.utilities.getEndOfDay(c.getViewEnd());c._prepareAppointmentsInView(g,h);var i=new Array;if("weekView"===d||"dayView"===d)var f=c.getMaxAllDayAppointments(c.appointmentsToRender);else"monthView"===d&&e.monthRowAutoHeight&&c.rows&&6==c.rows.length&&(i=c._getMonthAppointmentsPerWeek());var j,k=(c.tableRows>1?c.tableRows:0,"halfHour"),l=null;e.rowHeight&&(l=e.rowHeight),e&&e.allDayRowHeight&&(j=e.allDayRowHeight),e.timeRuler&&e.timeRuler.scale&&(k=e.timeRuler.scale);var m=0;c.table[0].rows=new Array,c.rows=new Array;var n=c.toTP("jqx-cell")+" "+c.toTP("jqx-widget-content");c.rtl&&(n+=" "+c.toTP("jqx-cell-rtl"));var o=c.columns.records.length,p=c._getColumnsLengthPerView(),q=a.jqx.browser.msie&&a.jqx.browser.version<8;q&&c.host.attr("hideFocus","true"),c._lastSelectedCell=null,c.focusedCell=null;var r=(new Array,c.source.records);r=c.dataview.evaluate(r),c.dataViewRecords=r,c.cells=new Array;c.dataViewRecords;c.renderedRecords=c.getRows();var s=(c.tableZIndex,c.getRows().length),t=0,u=0;if(q)for(var v=0;v<o;v++){var w=c.columns.records[v],x=w.width;x<w.minwidth&&(x=w.minwidth),x>w.maxwidth&&(x=w.maxwidth);var y=a('<table><tr><td role="gridcell" style="max-width: '+x+"px; width:"+x+'px;" class="'+n+'"></td></tr></table>');a(document.body).append(y);var z=y.find("td");t=1+parseInt(z.css("padding-left"))+parseInt(z.css("padding-right")),y.remove();break}var B=c.rtl?" "+c.toTP("jqx-grid-table-rtl"):"",C="<table cellspacing='0' cellpadding='0' class='"+c.toTP("jqx-grid-table")+B+"' id='table"+c.element.id+"'><colgroup>",D=0,E=o,F=2,G=30;switch(k){case"sixtyMinutes":case"hour":G=60,F=1;break;case"thirtyMinutes":case"halfHour":G=30,F=2;break;case"fifteenMinutes":case"quarterHour":G=15,F=4;break;case"tenMinutes":G=10,F=6;break;case"fiveMinutes":G=5,F=12}var H=1;"timelineDayView"===d||"timelineWeekView"===d?(o=F*o,H=F,p=o/c.tableColumns):"timelineMonthView"===d?p=o/c.tableColumns:"monthView"===d&&(p=e.showWeekNumbers?(o-c.tableColumns)/c.tableColumns:o/c.tableColumns);for(var I=function(a){var b=c.columns.records[a];if(b)return b;for(;a>=c.columns.records.length;)a-=c.columns.records.length;var b=c.columns.records[a];return b},v=0;v<o;v++){var w=I(v);if(w.hidden)D++,E--;else{var x=w.width/H;if(x<w.minwidth&&(x=w.minwidth/H),x>w.maxwidth&&(x=w.maxwidth/H),x-=t,x<0&&(x=0),"monthView"==d&&c.rtl&&w.timeColumn&&x++,q){var J=x;v==D&&J++,C+="<col style='max-width: "+J+"px; width: "+J+"px;'>"}else C+="<col style='max-width: "+x+"px; width: "+x+"px;'>";u+=x}}if(C+="</colgroup>",c._hiddencolumns=!1,0===s){var K='<tr role="row">',L=c.host.height();c.pageable&&(L-=c.pagerHeight,"both"===c.pagerPosition&&(L-=c.pagerHeight)),L-=c.columnsHeight,c.showLegend&&c._resources.length>0&&(L-=c.legendHeight),L<25&&(L=25),"hidden"!=c.hScrollBar[0].style.visibility&&(L-=c.hScrollBar.outerHeight()),("auto"===c.height||null===c.height||c.autoheight)&&(L=300);var y='<td colspan="'+c.columns.records.length+'" role="gridcell" style="border: none; min-height: '+L+"px; height: "+L+"px; max-width:"+u+"px; width:"+u+"px;",n=c.toTP("jqx-cell")+" "+c.toTP("jqx-grid-cell")+" "+c.toTP("jqx-item");c.rtl&&(n+=" "+c.toTP("jqx-cell-rtl")),n+=" "+c.toTP("jqx-center-align"),y+='" class="'+n+'">',y+=c.schedulerLocalization.emptyDataString,y+="</td>",K+=y,C+=K,c.table[0].style.width=u+2+"px",m=u}var M=c.getRows(),g=c.getViewStart(),L=c._hostHeight?c._hostHeight:c.host.height(),N=0;N+=c.columnGroups?c.showHeader?c.columnsheader.height():0:c.showHeader?c.columnsHeight:0,c.showToolbar&&(N+=c.toolbarHeight),c.showLegend&&c._resources.length>0&&(N+=c.legendHeight);var O=c.showAllDayRow,P=23;e.resourceHeaderRowHeight&&(P=e.resourcesRowHeight),P+=2,void 0!=e.showAllDayRow&&(O=e.showAllDayRow);var Q=c._columnswidth>c._hostWidth,R=Q?3+c.scrollBarSize:0,S=c.tableRows>1?c.resources.unitsInView:1;if(void 0==S&&(S=c._resources.length),c.resources&&c.resources.resourceRowHeight&&(l=c.resources.resourceRowHeight),null==l||"auto"==l){var T=c.rowsHeight,U=3*T;if(c.isTouchDevice()){T=c.touchRowsHeight;var U=22+T}1==c.tableRows?(l=L>0?L-N:T,c.columns.records.length>10&&(l=L>0?L-c.scrollBarSize-5-N:T)):(l=L>0?(L-N-P)/s:T,c.columns.records.length>10&&(l=L>0?(L-c.scrollBarSize-5-N-S*P)/(S*s):T)),"dayView"===d||"weekView"===d?O&&(null==j||"auto"==j?(l=L>0?(L-N)/(c.tableRows*s):U,j=l):l=L>0?(L-N-j-S*P)/(S*(s-1)):T):"monthView"===d&&("hidden"==c.hScrollBar[0].style.visibility&&(R=0),l=1==c.tableRows?L>0?(L-N-R)/s:T:L>0?(L-N-P-R)/s:T),l=Math.max(T,l),j||(j=U),j=Math.max(U,j),c._allDayRowHeight=j,c._defaultRowHeight=T,j=f*(T-2),j=Math.max(U,17+j),c._allDayRowFullHeight=j,e.allDayRowHeight&&(c._allDayRowHeight=e.allDayRowHeight,j=f*(e.allDayRowHeight-2),c._allDayRowFullHeight=j)}var V=new Array;if(c.resources&&c.resources.colorScheme){for(var W=0;W<c.colorSchemes.length;W++)if(c.colorSchemes[W].name==c.resources.colorScheme){V=c.colorSchemes[W].colors;break}for(;c._resources.length>V.length-1;){var X=parseInt(c.resources.colorScheme.substring(6));X>=27&&(X=0),V=V.concat(c.colorSchemes[X].colors),X++}}for(var Y=0;Y<c.tableRows;Y++){var Z=0,$=23;if(e.timeRuler&&void 0!=e.timeRuler.scaleStartHour)var Z=parseInt(e.timeRuler.scaleStartHour);if(e.timeRuler&&void 0!=e.timeRuler.scaleEndHour)var $=parseInt(e.timeRuler.scaleEndHour);var _=g;!1===e.showWeekends&&(0!=_.dayOfWeek()&&6!=_.dayOfWeek()||(_=_.addDays(1)));var aa=new Array,ba="monthView"!=d&&"timelineDayView"!=d&&"timelineWeekView"!=d&&"timelineMonthView"!=d&&O?1:0;if(c.tableRows>1){var K='<tr data-group-row="true" role="row">',n=c.toTP("jqx-cell")+" "+c.toTP("jqx-grid-cell")+" "+c.toTP("jqx-item");if(c.rtl&&(n+=" "+c.toTP("jqx-cell-rtl")),q)n+=" "+c.toTP("jqx-grid-cell-pinned");else{n+=" "+c.toTP("jqx-grid-cell-pinned"),ya+=' colspan="'+o+'"';for(var J=0,ca=0;ca<o;ca++){var da=I(ca),ea=da.width/H;ea<da.minwidth&&(x=da.minwidth/H),ea>da.maxwidth&&(x=da.maxwidth/H),ea-=t,ea<0&&(ea=0),da.hidden||(J+=ea)}x=J}var y='<td style="height:'+P+"px;";if(v!=o-1||1!=o||c.rtl||(y+="border-right-color: transparent;"),c._resources.length>0&&c.resources.colorScheme&&"none"!=c.resources.orientation){var fa="",ga="",ha="",ia=function(a){var b=105,c=.299*a.r+.587*a.g+.114*a.b,d=255-c<b?"Black":"White";return d};fa=V[Y],fa=c.hexToRgba(V[Y],.7).toString(),ha=ia(c.hexToRgba(V[Y],.7)),ga=V[Y],y+="background: "+fa+";",y+="border-color: "+ga+";",y+="color: "+ha+";"}y+='" class="'+n+'" role="gridcell" '+ya;var ja=c._resources[Y];y+="><span style='position: relative;'>"+ja+"</span>",y+="</td>",K+=y,C+=K}for(var ka=0;ka<s;ka++){var la={},ma="jqx"+c.element.id+"_"+ka;la.uid=ma;var K='<tr data-key="'+ma+'" role="row">',na=0,oa=0;if(aa[0]&&ka>ba){var G=30;if("monthView"!=d){switch(k){case"sixtyMinutes":case"hour":G=60;break;case"thirtyMinutes":case"halfHour":G=30;break;case"fifteenMinutes":case"quarterHour":G=15;break;case"tenMinutes":G=10;break;case"fiveMinutes":G=5}for(var pa=0;pa<o;pa++)aa[pa]=aa[pa].addMinutes(G,!1)}else for(var pa=0;pa<o;pa++)aa[pa]=aa[pa].addDays(7,!1)}var qa=0,ra=1,sa=0;e.showWeekends||void 0==e.showWeekends?(sa=c.columns.records.length/(7*c.tableColumns),sa*=F):(sa=c.columns.records.length/(5*c.tableColumns),sa*=F);var ta=0;c.rtl&&(ta=1);for(var ua=0,v=0;v<o;v++){var va=I(v);if(qa>=p&&(qa=0,ua=0,ta=0,c.rtl&&(ta=1),ra++),!aa[v])if(c.rtl){if(d.toString().indexOf("timelineDayView")>=0){var wa=1+v;aa[v]=_.addHours(1+$).addMinutes(-wa*G,!1)}else d.toString().indexOf("timelineWeekView")>=0?e.showWeekends||void 0==e.showWeekends?aa[v]=_.addDays(6-ua).addHours(1+$,!1).addMinutes(-ta*G,!1):aa[v]=_.addDays(4-ua).addHours(1+$,!1).addMinutes(-ta*G,!1):"dayView"==d||"monthView"==d||"weekView"==d?e.showWeekends||void 0==e.showWeekends?aa[v]=_.addDays(6-qa).addHours(Z,!1):aa[v]=_.addDays(4-qa).addHours(Z,!1):aa[v]=_.addDays(p-qa-1).addHours(Z,!1);c.timeZone&&(aa[v].timeZone=c.timeZone)}else{if(d.toString().indexOf("timelineDayView")>=0){var wa=v;aa[v]=_.addHours(Z).addMinutes(wa*G,!1)}else d.toString().indexOf("timelineWeekView")>=0?aa[v]=_.addDays(ua).addHours(Z,!1).addMinutes(ta*G,!1):aa[v]=_.addDays(qa).addHours(Z,!1);c.timeZone&&(aa[v].timeZone=c.timeZone)}ta++,ta>=sa&&(ta=0,ua++),va.timeColumn||"dayView"!==d&&"weekView"!==d?!va.timeColumn&&"monthView"===d&&e.showWeekNumbers?qa++:"monthView"===d&&!e.showWeekNumbers||"timelineMonthView"===d?qa++:"timelineDayView"!=d&&"timelineWeekView"!=d||qa++:qa++;var xa=aa[v],x=va.width/H;x<va.minwidth&&(x=va.minwidth/H),x>va.maxwidth&&(x=va.maxwidth/H),x-=t,x<0&&(x=0);var n=c.toTP("jqx-cell")+" "+c.toTP("jqx-grid-cell")+" "+c.toTP("jqx-item");va.pinned&&(n+=" "+c.toTP("jqx-grid-cell-pinned")),c.sortcolumn===va.displayfield&&(n+=" "+c.toTP("jqx-grid-cell-sort")),c.altRows&&ka%2!=0&&(n+=" "+c.toTP("jqx-grid-cell-alt")),0!=ka||!O||"dayView"!==d&&"weekView"!==d||(n+=" "+c.toTP("jqx-grid-cell-alt")),(xa>c.max||xa<c.min)&&(n+=" "+c.toTP("jqx-scheduler-disabled-cell")),c.rtl&&(n+=" "+c.toTP("jqx-cell-rtl"));var ya="",ma=c.dataview.generatekey(),za=Y+ra;c.resources&&"none"==c.resources.orientation&&(za=-1),0==c._resources.length&&(za=-1);var y='<td data-key="'+ma+'" data-view="'+za+'" data-date="'+xa.toString()+'" role="gridcell" '+ya+' style="max-width:'+x+"px; width:"+x+"px;  height:"+l+"px;";if(0==ka&&O&&("dayView"===d||"weekView"===d))var y='<td  data-key="'+ma+'" data-view="'+za+'" data-end-date="'+a.jqx.scheduler.utilities.getEndOfDay(xa).toString()+'" data-date="'+xa.clearTime().toString()+'" role="gridcell" '+ya+' style="max-width:'+x+"px; width:"+x+"px; height:"+j+"px;";if("monthView"==d&&e.monthRowAutoHeight&&i.length>0&&i[ka]&&"auto"!=i[ka]&&l<i[ka])var y='<td data-key="'+ma+'" data-view="'+za+'" data-date="'+xa.toString()+'" role="gridcell" '+ya+' style="max-width:'+x+"px; width:"+x+"px;  height:"+i[ka]+"px;";if(c.resources&&c._resources.length>0&&c.resources.colorScheme&&"none"!==c.resources.orientation){var fa="",ga="";if(fa=V[Y+ra-1],fa=0!=ka||!O||"dayView"!==d&&"weekView"!==d?c.hexToRgba(V[Y+ra-1],.3).toString():c.shadeColor(V[Y+ra-1],.3).toString(),(0!=ka||!O||"dayView"!==d&&"weekView"!==d)&&d.indexOf("month")==-1&&!va.timeColumn&&e.showWorkTime!==!1){var Aa=1,Ba=5,Ca=8,Da=18;if(e.workTime)var Aa=e.workTime.fromDayOfWeek?e.workTime.fromDayOfWeek:0,Ba=e.workTime.toDayOfWeek?e.workTime.toDayOfWeek:0,Ca=e.workTime.fromHour?e.workTime.fromHour:8,Da=e.workTime.toHour?e.workTime.toHour:8;xa.dayOfWeek()>=Aa&&xa.dayOfWeek()<=Ba&&xa.hour()>=Ca&&xa.hour()<Da&&(fa=c.hexToRgba(V[Y+ra-1],.1).toString())}ga=V[ra+Y-1],y+="background: "+fa+";",y+="border-color: "+ga+";"}if(v!=o-1||1!=o||c.rtl||(y+="border-right-color: transparent;"),va.timeColumn&&!va.hidden&&"monthView"===d){var n=c.toTP("jqx-scheduler-time-column")+" "+c.toTP("jqx-widget-header")+" "+c.toTP("jqx-cell")+" "+c.toTP("jqx-grid-cell")+" "+c.toTP("jqx-item");if(n+=" "+c.toTP("jqx-scheduler-week-number-column"),c.tableRows>1)var n=c.toTP("jqx-cell")+" "+c.toTP("jqx-grid-cell")+" "+c.toTP("jqx-item");if(c.rtl&&(n+=" "+c.toTP("jqx-cell-rtl")),0!==xa.minute()){oa++;continue}var y='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+xa.toString()+'" role="gridcell" style="max-width:'+x+"px; width:"+x+"px;";v!=o-1||1!=o||c.rtl?c.rtl&&0==v&&(y+="border-left-color: transparent;"):y+="border-right-color: transparent;",v==o-1&&c.rtl&&(y+="border-right-color: transparent;")}if(!va.timeColumn||va.hidden||"dayView"!==d&&"weekView"!==d){if(ka>0){var Ea="border-left-width: 1px;";c.rtl&&0==v&&"monthView"==d&&e.showWeekNumbers&&(Ea="border-left-width: 0px;"),y+=Ea}}else{var n=c.toTP("jqx-scheduler-time-column")+" "+c.toTP("jqx-widget-header")+" "+c.toTP("jqx-cell")+" "+c.toTP("jqx-grid-cell")+" "+c.toTP("jqx-item");if(c.tableRows>1)var n=c.toTP("jqx-cell")+" "+c.toTP("jqx-grid-cell")+" "+c.toTP("jqx-item");if(c.rtl&&(n+=" "+c.toTP("jqx-cell-rtl")),ka>0){if(0!==xa.minute()){oa++;continue}var y='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+xa.toString()+'" rowspan='+F+' role="gridcell" '+ya+' style="max-width:'+x+"px; width:"+x+"px;";v!=o-1||1!=o||c.rtl?c.rtl&&0==v&&(y+="border-left-color: transparent;"):y+="border-right-color: transparent;"}else{if(c.resources&&"none"==c.resources.orientation&&(za=-1),0==ka&&O&&("dayView"===d||"weekView"===d))var y='<td data-view="'+za+'" data-time-slot="true" data-end-date="'+a.jqx.scheduler.utilities.getEndOfDay(xa).toString()+'" data-date="'+xa.toString()+'" role="gridcell" '+ya+' style="max-width:'+x+"px; width:"+x+"px;";v!=o-1||1!=o||c.rtl?0==v&&1==o&&c.rtl&&(y+="border-right-color: transparent;"):y+="border-right-color: transparent;",c.rtl&&(y+="border-left-width: 1px;"),c.tableRows>1&&(y+="background: "+fa+";",y+="border-color: "+ga+";")}}if("left"!=va.cellsalign&&(n+="right"===va.cellsalign?" "+c.toTP("jqx-right-align"):" "+c.toTP("jqx-center-align")),va.timeColumn||c.rowinfo[la.uid]&&c.rowinfo[la.uid].selected&&c.editKey!==la.uid&&"none"!==c.selectionMode&&(n+=" "+c.toTP("jqx-grid-cell-selected"),n+=" "+c.toTP("jqx-fill-state-pressed"),n+=" "+c.toTP("jqx-scheduler-cell-selected")),va.hidden?(y+="display: none;",c._hiddencolumns=!0):(na+=t+x,0!=oa||c.rtl||(y+="border-left-width: 0px;"),oa++),(0!=ka||!O||"dayView"!==d&&"weekView"!==d)&&d.indexOf("month")==-1&&(n+=" "+c.toTP("jqx-grid-cell-nowrap"),ka%2!=1||va.timeColumn||(n+=" "+c.toTP("jqx-scheduler-middle-cell")),!va.timeColumn&&e.showWorkTime!==!1)){var Aa=1,Ba=5,Ca=8,Da=18;if(e.workTime)var Aa=e.workTime.fromDayOfWeek?e.workTime.fromDayOfWeek:0,Ba=e.workTime.toDayOfWeek?e.workTime.toDayOfWeek:0,Ca=e.workTime.fromHour?e.workTime.fromHour:8,Da=e.workTime.toHour?e.workTime.toHour:8;n+=xa.dayOfWeek()>=Aa&&xa.dayOfWeek()<=Ba&&xa.hour()>=Ca&&xa.hour()<Da?" "+c.toTP("jqx-scheduler-work-time-cell"):" "+c.toTP("jqx-scheduler-not-work-time-cell")}var Fa="";if("monthView"===d){c.touchDevice||va.timeColumn||(n+=" "+c.toTP("jqx-top-align"));var Ga="dd";Fa=xa.toDate();var Ha=c.toTP("jqx-scheduler-month-outer-cell")+" ",Ia=c.toTP("jqx-scheduler-month-weekend-cell");if(c.date.month()==xa.month()&&(Ha=""),xa.isWeekend()?n+=" "+Ia:Ia="",1===Fa.getDate()&&(Ga="MMM dd"),c.touchDevice)Fa=l>16?"<div class='"+Ha+c.toTP("jqx-scheduler-month-cell-touch")+"'>"+a.jqx.dataFormat.formatdate(Fa,Ga,c.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+c.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+Ha+c.toTP("jqx-scheduler-month-cell-touch")+"'>"+a.jqx.dataFormat.formatdate(Fa,Ga,c.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+c.toTP("jqx-icon-arrow-down")+"'></span></div>";else{var Ja,Ka,La;Ja=function(a,b){return a+=b>16?"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+c.toTP("jqx-icon-arrow-down")+"'></span>":"<span style='display: none; float: right; cursor: pointer;' class='"+c.toTP("jqx-icon-arrow-down")+"'></span>"},Ka=null,La=a.jqx.dataFormat.formatdate(Fa,Ga,c.schedulerLocalization),c.renderCellTitle&&A.isFunction(c.renderCellTitle)&&(Ka=c.renderCellTitle(La,Fa,a.jqx.dataFormat.formatdate(Fa,Ga,c.schedulerLocalization))),Ka=Ka||La,Ka=Ja(Ka,l),Fa=l>16?"<div class='"+Ha+c.toTP("jqx-scheduler-month-cell")+"'>"+Ka+"</div>":"<div class='"+Ha+c.toTP("jqx-scheduler-month-cell")+"'>"+Ka+"</div>"}}else"timelineWeekView"!==d&&"timelineDayView"!==d&&"timelineMonthView"!==d||(n+=" "+c.toTP("jqx-right-align jqx-bottom-align"),Fa="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+c.toTP("jqx-icon-arrow-down")+"'></span>");0!=ka||!O||"dayView"!==d&&"weekView"!==d||va.timeColumn||(n+=" "+c.toTP("jqx-top-align"),n+=" "+c.toTP("jqx-scheduler-all-day-cell"),c.rtl&&(n+=" "+c.toTP("jqx-rtl")),Fa=xa.toDate(),Fa="<span>"+a.jqx.dataFormat.formatdate(Fa,"dd",c.schedulerLocalization)+"</span>");var Ma=va.cellsFormat;if(va.timeColumn&&!va.hidden){Fa=xa.toDate(),va.timeZone&&(Fa=xa.clone().toTimeZone(va.timeZone),Fa=Fa.toDate());e.timeRuler&&e.timeRuler.formatString?Ma=e.timeRuler.formatString:va.timeColumn.format||(Ma=0==Fa.getHours()||12==Fa.getHours()?"hh tt":"hh:mm"),a.jqx.dataFormat.isDate(Fa)&&(Fa=a.jqx.dataFormat.formatdate(Fa,Ma,c.schedulerLocalization)),ka<ba&&(n+=c.rtl?" "+c.toTP("jqx-scheduler-time-column-header-cell-rtl"):" "+c.toTP("jqx-scheduler-time-column-header-cell"),Fa=""),ka<ba&&(va._text&&(n+=" "+c.toTP("jqx-bottom-align")),e.timeRuler&&e.timeRuler.timeZones&&e.timeRuler.timeZones.length>0&&v<e.timeRuler.timeZones.length&&(Fa=va._text)),"monthView"==d&&(Fa=xa.weekOfYear(c.schedulerLocalization.firstDay))}else""!=Ma&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(Fa)?Fa=a.jqx.dataFormat.formatdate(Fa,Ma,c.schedulerLocalization):(a.jqx.dataFormat.isNumber(Fa)||!isNaN(parseFloat(Fa))&&isFinite(Fa))&&(Fa=a.jqx.dataFormat.formatnumber(Fa,Ma,c.schedulerLocalization)));if(""!=va.cellclassname&&va.cellclassname)if("string"==typeof va.cellclassname)n+=" "+va.cellclassname;else{var Na=va.cellclassname(ka,va.datafield,Fa,la);Na&&(n+=" "+Na)}if(""!=va.cellsRenderer&&va.cellsRenderer){var Oa=M.indexOf(la);Fa=va.cellsRenderer(Oa,va.datafield,Fa,la)}y+='" class="'+n+'">',y+=Fa,y+="</td>",K+=y}0==m&&(c.table[0].style.width=na+2+"px",c.pinnedtable[0].style.width=na+2+"px",m=na),K+="</tr>",C+=K,c.rowinfo[la.uid]?"row"in c.rowinfo[la.uid]||(c.rowinfo[la.uid].row=la):c.rowinfo[la.uid]={row:la}}}C+="</table>",c.table[0].innerHTML=C,c.pinnedtable[0].innerHTML=C,c.table[0].rows=c.table[0].firstChild.rows;var Pa=a.jqx.browser.msie&&a.jqx.browser.version<9,Qa=null;if(!O||"dayView"!==d&&"weekView"!==d||1!=c.tableRows)c.pinnedtable[0].style.display="none";else if(c.pinnedtable[0].style.display="block",c.pinnedtable[0].style.zIndex="400",c.pinnedtable[0].style.position="absolute",c.pinnedtable[0].style.top="0px",c.pinnedtable[0].style.height=j+"px",!Pa)if(1==c.tableRows){c.oldRow=c.table[0].rows[0];try{c.table[0].rows[0]=c.pinnedtable.find("tr")[0]}catch(Ra){}Qa=c.pinnedtable.find("tr")[0],c.pinnedTableRow=Qa}else{c.oldRow=c.table[0].rows[1];try{c.table[0].rows[1]=c.pinnedtable.find("tr")[1]}catch(Ra){}Qa=c.pinnedtable.find("tr")[1],c.pinnedTableRow=Qa}var ca=a(c.table[0].firstChild),Sa=a(c.pinnedtable[0].firstChild);c._table=ca,c._pinnedtable=Sa,a.jqx.browser.msie&&a.jqx.browser.version<10&&(c._table[0].style.width=m+"px",c._pinnedtable[0].style.width=m+"px"),0===s&&(c._table[0].style.width=2+m+"px",c._pinnedtable[0].style.width=2+m+"px"),c._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),c._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),c.rowByCell=new Array,c.columnCells=new Array,c.cellWidth=0,c.cellHeight=0;for(var Ta=c.table[0].rows.length,ka=0;ka<Ta;ka++){var Ua=c.table[0].rows[ka];if(0==ka&&Qa&&(Ua=Qa),!Ua.getAttribute("data-group-row")){var la=new b;la.aboveRow=null,la.belowRow=null,c.rows.length>0&&(la.aboveRow=c.rows[c.rows.length-1],c.rows[c.rows.length-1].belowRow=la),la.element=Ua,c.rows.push(la);for(var v=0;v<Ua.cells.length;v++){var Va=Ua.cells[v];Va.getAttribute("data-time-slot")||"none"!==Va.style.display&&(Va.className.indexOf("jqx-grid-cell-pinned")>=0||(c.columnCells[la.cells.length]||(c.columnCells[la.cells.length]=new Array),c.columnCells[la.cells.length].push(Va),0==c.cellWidth&&(c.cellWidth=Va.clientWidth),0==c.cellHeight&&(1==Ta||ka>1)&&(c.cellHeight=Va.clientHeight),"monthView"==c._views[c._view].type&&void 0==la.top&&(la.top=parseInt(a(Va).position().top)),la.cells.push(Va),c.rowByCell[Va.getAttribute("data-key")]=la))}}}0===s&&(c._table[0].style.tableLayout="auto"),c._renderAppointments(g,h),("none"!=c.pinnedtable[0].style.display||("dayView"==d||"weekView"==d)&&c.tableRows>1)&&c._updateScrollbars(c.host.height()),"monthView"===d&&e.monthRowAutoHeight&&(0==i.length?c._renderrows():c._updateScrollbars(c.host.height())),c.rendered&&c.rendered(),c.renderedTime=new Date}},showAppointmentsByResource:function(a){for(var b=this,c=0;c<b.uiappointments.length;c++){var d=b.uiappointments[c];if(d.resourceId==a&&(d.hidden=!1,d.hiddenByResourceId=!1,d.exceptions))for(var e=0;e<d.exceptions.length;e++)d.exceptions[e].hiddenByResourceId=!1,d.exceptions[e].hidden=!1}if(b._resourcesElements){var f=b.getColors(b._resources.indexOf(a));b._resourcesElements.top[a].attr("data-toggle","on"),b._resourcesElements.top[a].css("background",f.background),b._resourcesElements.bottom[a].attr("data-toggle","on"),b._resourcesElements.bottom[a].css("background",f.background)}b.hiddenResources&&delete b.hiddenResources[a],b._renderrows()},hideAppointmentsByResource:function(a){for(var b=this,c=0;c<b.uiappointments.length;c++){var d=b.uiappointments[c];if(d.resourceId==a&&(d.hidden=!0,d.hiddenByResourceId=!0,d.exceptions))for(var e=0;e<d.exceptions.length;e++)d.exceptions[e].hiddenByResourceId=!0,d.exceptions[e].hidden=!0}b._resourcesElements&&(b._resourcesElements.top[a].attr("data-toggle","off"),b._resourcesElements.top[a].css("background","transparent"),b._resourcesElements.bottom[a].attr("data-toggle","off"),b._resourcesElements.bottom[a].css("background","transparent")),b.hiddenResources||(b.hiddenResources=new Array),b.hiddenResources[a]=!0,b._renderrows()},_prepareAppointmentsInView:function(b,c){var d=this;if(!d._appupdating){for(var e=new Array,f=0;f<this.uiappointments.length;f++){var g=this.uiappointments[f];if(!g.hidden||null!=g.recurrencePattern){var h=a.jqx.scheduler.utilities.rangeIntersection(g.from,g.to,b,c);h&&!g.recurrencePattern&&e.push(g),g.renderedAppointments=new Array;var i=!1;if(g.recurrencePattern){for(var j=g.getOccurrences(b,c),k=g.exceptions,l=0;l<j.length;l++){var m=j[l];if(!m.hidden){for(var n=!0,o=0;o<k.length;o++){var p=k[o],q=p.occurrenceFrom?p.occurrenceFrom:p;if(d.selectedJQXAppointment&&d.selectedJQXAppointment.rootAppointment&&!i&&d.selectedJQXAppointment.occurrenceFrom.clearTime().equals(q.clearTime())&&(d.selectedJQXAppointment=p,i=!0),q.clearTime().equals(m.from.clearTime())){n=!1;break}}n&&(d.selectedJQXAppointment&&d.selectedJQXAppointment.rootAppointment&&!i&&d.selectedJQXAppointment.occurrenceFrom.clearTime().equals(m.occurrenceFrom.clearTime())&&(d.selectedJQXAppointment=m,i=!0),g.renderedAppointments[m.id]=m,e.push(m))}}for(var o=0;o<k.length;o++){var p=k[o],q=p.occurrenceFrom?p.from:p,r=g.createOccurrence(q);p.occurrenceFrom&&(p.cloneAppointmentAttributes(r),p.hidden)||r!=g&&(e.push(p),g.renderedAppointments[p.id]=p)}}}}var s=new Array;this.tabKeyAppointments=new Array;for(var f=0;f<e.length;f++){var t=e[f];s.push(t),this.tabKeyAppointments.push(t)}s.sort(this._sortAppointmentsByFrom),this._resources.length>0?this.tabKeyAppointments.sort(function(a,b){return d._sortAppointmentsByResourceId(a,b,d)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=s}},_renderDayWeekAppointments:function(){var b=this,c=(b._views[b._view].type,b._views[b._view]),d=new Array,e=new Array,f=this.rows,g=b.showAllDayRow,h=b.getMinutesPerScale();c.timeRuler&&void 0!=c.timeRuler.showAllDayRow&&(g=c.timeRuler.showAllDayRow);for(var i=0;i<this.appointmentsToRender.length;i++){var j=this.appointmentsToRender[i],k=j.from,l=j.to,m=a.jqx.scheduler.utilities.getEndOfDay(l),n=k.day(),o=(j.allDay,b._getDateByString),p=new Array,q=new Array,r=j.resourceId,s=b._resources.indexOf(r);b.resources&&"none"==b.resources.orientation&&(s=-1);var t=k.toDate().valueOf(),u=l.toDate().valueOf(),v=(m.toDate().valueOf(),function(a,b){return a.date<b.date?-1:a.date==b.date?0:a.date>b.date?1:void 0});if(!j.allDay&&j.duration().days()<1||!g){var w=l.toDate(),x=!1;0==w.getHours()&&0==w.getMinutes()&&(x=!0);for(var y=0;y<b.columnCells.length;y++)if(b.columnCells[y]){var z=b.columnCells[y];b.rtl&&(z=b.columnCells[b.columnCells.length-1-y]);for(var A=0;A<z.length;A++)if(!z[A].getAttribute("data-end-date")){var B=z[A].getAttribute("data-date"),C=o(B),D=o(B);D.setMinutes(D.getMinutes()+h-1);var E=C.valueOf(),F=D.valueOf();if(!(E>l)&&(t<=E&&E<u||t<=F&&F<u||t>=E&&F>=u)){if(s!=-1&&1+s!=z[A].getAttribute("data-view"))continue;n!=C.getDate()&&(p.sort(v),q.push(p),p=new Array,n=k.addDays(1).day()),p.push({cell:z[A],date:C})}}}p.sort(v),q.push(p);for(var G=new Array,y=0;y<q.length;y++){var z=q[y];if(0!=z.length){var H=b.cellWidth,I=z[z.length-1].cell.offsetTop+b.cellHeight,J=z[0].cell.offsetLeft,K=z[0].cell.offsetTop,L=b.getMinutesPerScale(),w=new a.jqx.date(z[z.length-1].date,b.timeZone).addMinutes(L),M={cells:z,x:J,y:K,height:I-K,width:H,appointment:j,from:new a.jqx.date(z[0].date,b.timeZone),to:w};G.push(M),d.push(M)}}j.elements=G,j.rootAppointment&&(j.rootAppointment.elements=j.rootAppointment.elements.concat(j.elements))}else{var z=f[0].cells;if(this.tableRows>1){var N=f.length/b.tableRows,O=s*N;z=f[O].cells}for(var A=0;A<z.length;A++){var B=z[A].getAttribute("data-date"),P=o(B),C=new a.jqx.date(P,b.timeZone);C=a.jqx.scheduler.utilities.getEndOfDay(C);var E=C.toDate().valueOf();if(!(E>m)&&k<=C&&C<=m){if(s!=-1&&1+s!=z[A].getAttribute("data-view"))continue;0==p.length&&(C=a.jqx.scheduler.utilities.getStartOfDay(C)),p.push({cell:z[A],date:C})}}p.sort(v),q.push(p);for(var G=new Array,y=0;y<q.length;y++){var z=q[y];if(0==z.length)break;var Q=a(z[0].cell).position(),H=a(z[z.length-1].cell).position().left+this.cellWidth-Q.left,I=a(z[z.length-1].cell).position().top,J=Q.left,K=Q.top;if(this.rtl)var Q=a(z[z.length-1].cell).position(),J=Q.left,H=a(z[0].cell).position().left+this.cellWidth-Q.left;var R=z[z.length-1].date;R=new a.jqx.date(a.jqx.scheduler.utilities.getEndOfDay(R),b.timeZone);var M={cells:z,x:J,y:K,height:I-K+this.cellHeight,width:H,appointment:j,from:a.jqx.scheduler.utilities.getStartOfDay(new a.jqx.date(z[0].date,b.timeZone)),to:R};G.push(M),e.push(M)}j.elements=G,j.rootAppointment&&(j.rootAppointment.elements=j.rootAppointment.elements.concat(j.elements))}}var S=this.getViewStart(),T=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var U=new Array,V=S,W=0;V<T;){U[W]=new Array;for(var y=0;y<d.length;y++){var X=d[y];X.from.day()==V.day()&&(X.column=-1,X.columnSpan=1,U[W].push(X))}W++,V=V.addDays(1)}for(var y=0;y<U.length;y++)this._renderAppointmentsInDay(U[y]);this._renderAllDayAppointments(e)}else for(var A=0;A<this._resources.length;A++){for(var Y=this._resources[A],U=new Array,V=S,W=0;V<T;){U[W]=new Array;for(var y=0;y<d.length;y++){var X=d[y];X.from.day()==V.day()&&(X.column=-1,X.columnSpan=1,X.appointment.resourceId==Y&&U[W].push(X))}W++,V=V.addDays(1)}for(var y=0;y<U.length;y++)this._renderAppointmentsInDay(U[y]);for(var Z=new Array,y=0;y<e.length;y++)e[y].appointment.resourceId==Y&&Z.push(e[y]);this._renderAllDayAppointments(Z)}},_renderAllDayAppointments:function(b){var c=this,d=this.showAllDayRow,e=this._views[this._view];if(e.timeRuler&&void 0!=e.timeRuler.showAllDayRow&&(d=e.timeRuler.showAllDayRow),d&&0!=b.length){var f=b,g=1;if(g=this.getMaxAllDayAppointments(b),1==this.tableRows){this.table[0].rows[0].clientHeight/g}else{this.table[0].rows[1].clientHeight/g}for(var h=0;h<b.length;h++){var i=b[h];i.row=-1;var j=this.getCollisionAppointments(i,b);j.sort(this._sortAppointmentsByFrom);var k=j.indexOf(i);if(k>=0)for(var l=k;l<j.length;l++)j[l].row=-1;for(var m=0;m<g;m++){var n=m;for(var o in j){if("indexOf"==o)break;var p=j[o];if(p.row==-1&&!this.isBusyRow(n,j)){p.row=n;var q=g,r=this.getMaxAllDayAppointments(j);q>r&&(q=r),p.rowsCount=q}}}}for(var m=0;m<f.length;m++){var i=f[m],j=this.getCollisionAppointments(i,f);j.sort(this._sortAppointmentsByFrom);var s=1;for(var o in j){if("indexOf"==o)break;var t=j[o];s=Math.max(s,t.rowsCount)}for(var o in j){if("indexOf"==o)break;var t=j[o];t.rowsCount=s}if(1==j.length)i.rowSpan=s;else{for(var u=0,v=!0,l=i.row;l<s;l++){for(var o in j){if("indexOf"==o)break;var p=j[o];p!=i&&p.row==l&&(v=!1)}if(!v)break;u++}i.rowSpan=u}}var w=c.appointmentsMinHeight+2;if(c.isTouchDevice())var w=c.touchAppointmentsMinHeight+2;for(var x=0;x<f.length;x++){var y=w,i=f[x];i.height=w;var z=y*i.row;if(i.y=18+i.y+z+4*i.row,i.x+=3,i.width-=8,0!=i.appointment.from.hour()||23!=i.appointment.to.hour()){var A=this.getViewStart(),B=this.getViewEnd();if(c.rtl){var C=parseFloat(c.cellWidth/24)*i.appointment.to.hour()+parseFloat(c.cellWidth/48)*(i.appointment.to.minute()/30),D=parseFloat(c.cellWidth/24)*i.appointment.from.hour()+parseFloat(c.cellWidth/48)*(i.appointment.from.minute()/30);C>0&&(C=c.cellWidth-C),i.appointment.from<A&&(D=0),i.appointment.to>B&&(C=0),"exactTime"==e.appointmentsRenderMode&&(i.x+=C,i.width-=C,i.width-=D),i.appointment.duration().days()<1&&i.width<15&&(i.width=15),i.timewidth=i.width,"exactTimeStatus"==e.appointmentsRenderMode&&(i.timewidth-=C,i.timewidth-=D),i.timex=C}else{var C=parseFloat(c.cellWidth/24)*i.appointment.from.hour()+parseFloat(c.cellWidth/48)*(i.appointment.from.minute()/30);i.appointment.from<A&&(C=0),i.timewidth=i.width,i.timex=C;var D=parseFloat(c.cellWidth/24)*i.appointment.to.hour()+parseFloat(c.cellWidth/48)*(i.appointment.to.minute()/30);i.appointment.to>B&&(D=0),i.timewidth-=C,D>0&&(i.timewidth-=c.cellWidth,i.timewidth+=D),"exactTime"==e.appointmentsRenderMode&&(i.width=i.timewidth,i.x+=C)}}}for(var x=0;x<f.length;x++){var E=f[x],F="",G="auto",e=this._views[this._view],H=E.appointment.from,I=E.appointment.to;e.timeRuler&&e.timeRuler.formatString&&(G=e.timeRuler.formatString);var J=G;if("auto"===G){if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())var J="hh tt";else var J="hh:mm";if(0==I.hour()&&0==I.minute()||12==I.hour()&&0==I.minute())var K="hh tt";else var K="hh:mm"}var L=H.toString(J),M=I.toString(K),N=E.appointment.duration(),O=E.appointment.allDay||23===N.hours&&59===N.minutes&&59===N.seconds,P=E.appointment.background,Q=E.appointment.subject?E.appointment.subject:"(No Title)",R=E.appointment.color,S=E.appointment.resourceId,T=c.getColors(c._resources.indexOf(S)),U=" data-resourceId='"+S+"' ",V=E.appointment.borderColor,W=E.appointment.location;W.length>0&&(W=", "+W),P||(P=T.background),V||(V=T.border),R||(R=T.color);var X=E.appointment.isRecurrentAppointment(),Y=E.appointment.isException();O&&(L="",M="");var Z="",$=c.toTP("jqx-scheduler-appointment-status"),_="",aa=c.statuses[E.appointment.status],ba=!1;aa&&("transparent"==aa?ba=!1:(_="<div style='background: "+aa+"; border-right-color: "+V+"' class='"+$+"'></div>","tentative"==aa&&($=c.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),_="<div style='background-color: "+V+"; border-right-color: "+V+"' class='"+$+"'></div>"),ba=!0));var ca=c.toTP("jqx-scheduler-appointment-duration-status"),da="<div style='width: "+E.timewidth+"px; left: "+E.timex+"px;' class='"+ca+"'></div>";O&&(da="");var ea="";if("exactTimeStatus"!=e.appointmentsRenderMode&&(da=""),c.rtl){var $=c.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");_="<div style='background: "+aa+"; border-left-color: "+V+"' class='"+$+"'></div>","tentative"==aa&&($=c.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),_="<div style='background-color: "+V+"; border-left-color: "+V+"' class='"+$+"'></div>"),ea=_,_=""}var fa="",ga=Q+W;if(O||(ga=Q+W+da),c.renderAppointment){var ha=c.renderAppointment({
appointment:E.appointment.boundAppointment,textColor:R,background:P,borderColor:V,html:ga,cssClass:"",style:"",width:E.width,height:E.height,view:c._views[c._view].type});if(ha){var F=ha.html;if(F!=ga&&(ga=F),R=ha.textColor,P=ha.background,V=ha.borderColor,ha.cssClass&&(fa=ha.cssClass+" "),""!=ha.style){var T=c.getAppointmentColors(ha.style);P=T.background,V=T.border,R=T.color}}}if(""===Z)if(ba)var Z="<div style='white-space:nowrap;' class='"+c.toTP("jqx-scheduler-appointment-content")+"'>"+_+"<div class='"+c.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ga+"</div>"+ea+"</div>";else var Z="<div style='white-space:nowrap;' class='"+c.toTP("jqx-scheduler-appointment-content")+"'><div class='"+c.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ga+"</div></div>";var ia="";if(c.rtl&&(ia=c.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),Y){var ja="white"==R.toLowerCase()?c.toTP("jqx-icon-recurrence-exception-white"):c.toTP("jqx-icon-recurrence-exception");F="<div data-key='"+E.appointment.id+"'"+U+"class='"+ia+fa+c.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+E.x+"px; top: "+E.y+"px; width: "+E.width+"px; line-height: "+E.height+"px; height: "+E.height+"px; border-color:"+V+"; color:"+R+"; background:"+P+";'><div class='"+ja+"'></div>"+Z+"<div class='"+c.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+c.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(X){var ka="white"==R.toLowerCase()?c.toTP("jqx-icon-recurrence-white"):c.toTP("jqx-icon-recurrence");F="<div data-key='"+E.appointment.id+"'"+U+"class='"+ia+fa+c.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+E.x+"px; top: "+E.y+"px; width: "+E.width+"px; line-height: "+E.height+"px; height: "+E.height+"px; border-color:"+V+"; color:"+R+"; background:"+P+";'><div class='"+ka+"'></div>"+Z+"<div class='"+c.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+c.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else F="<div data-key='"+E.appointment.id+"'"+U+"class='"+ia+fa+c.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+E.x+"px; top: "+E.y+"px; width: "+E.width+"px; line-height: "+E.height+"px; height: "+E.height+"px; border-color:"+V+"; color:"+R+"; background:"+P+";'>"+Z+"<div class='"+c.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+c.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var la=a(F);if(1==this.tableRows?la.appendTo(this.pinnedtable):la.appendTo(this.table),E.element=la,this.appointmentTooltips)if(E.appointment.tooltip)la[0].setAttribute("title",E.appointment.tooltip);else{var ma=E.appointment.subject;if(L&&(ma=L+" - "+M+" "+ma),ma){var W=E.appointment.location;W&&(ma+="\n"+W),la[0].setAttribute("title",ma)}}}}},_renderAppointmentsInDay:function(b,c){if(0!=b.length){var d=this,e=this._views[this._view],f=b,g=(this.getViewStart(),this.getViewEnd(),1),h=0;e.timeRuler?(h=this.columns.records[1].width,e.timeRuler.timeZones&&(h=this.columns.records[1+e.timeRuler.timeZones.length].width)):h=this.columns.records[1].width,g=this.getMaxColumnsInADay(b);var i=h/g;if(!(i<0)){for(var j=0;j<b.length;j++){var k=b[j];k.column=-1;var l=this.getCollisionAppointments(k,b);l.sort(this._sortAppointmentsByFrom);var m=l.indexOf(k);if(m>=0)for(var n=m;n<l.length;n++)l[n].column=-1;for(var o=0;o<g;o++){var p=o;for(var q in l){if("indexOf"==q)break;var r=l[q];if(r.column==-1&&!this.isBusyColumn(p,l)){r.column=p;var s=g,t=this.getMaxColumnsInADay(l);s>t&&(s=t),r.columnsCount=s}}}}for(var o=0;o<f.length;o++){var k=f[o],l=this.getCollisionAppointments(k,f);l.sort(this._sortAppointmentsByFrom);var u=1;for(var q in l){if("indexOf"==q)break;var v=l[q];void 0!=v.columnsCount&&(u=Math.max(u,v.columnsCount))}for(var q in l){if("indexOf"==q)break;var v=l[q];v.columnsCount=u}if(1==l.length)k.columnSpan=u;else{for(var w=0,x=!0,n=k.column;n<u;n++){for(var q in l){if("indexOf"==q)break;var r=l[q];void 0!=r.column&&r!=k&&r.column==n&&(x=!1)}if(!x)break;w++}k.columnSpan=w}}for(var y=0;y<f.length;y++){var z=h/f[y].columnsCount,k=f[y];k.width=-5+z*k.columnSpan;var A=z*k.column;if(k.x=2+k.x+A,k.height-=5,k.y+=1,"exactTime"==e.appointmentsRenderMode){var B=d.getMinutesPerScale();if(k.appointment.from.minute()%B!=0)var C=k.appointment.from.minute()%B,D=parseFloat(d.cellHeight/B)*C;else var D=0;if(k.appointment.to.minute()%B!=0){var C=k.appointment.to.minute()%B,E=d.cellHeight-parseFloat(d.cellHeight/B)*C;k.to.day()!==k.appointment.to.day()&&(E=0)}else E=0;k.y+=D,k.height-=D,k.height-=E}}for(var y=0;y<f.length;y++){var F=f[y],G="",H="auto",e=this._views[this._view],I=F.appointment.from,J=F.appointment.to;e.timeRuler&&e.timeRuler.formatString&&(H=e.timeRuler.formatString);var K=H;if("auto"===H){if(0==I.hour()&&0==I.minute()||12==I.hour()&&0==I.minute())var K="hh tt";else var K="hh:mm";if(0==J.hour()&&0==J.minute()||12==J.hour()&&0==J.minute())var L="hh tt";else var L="hh:mm"}var M=(I.toString(K),J.toString(L),F.appointment.background),N=F.appointment.subject?F.appointment.subject:"(No Title)",O=F.appointment.location?F.appointment.location:"",P=F.appointment.color,Q=F.appointment.resourceId,R=d.getColors(d._resources.indexOf(Q)),S=" data-resourceId='"+Q+"' ",T=F.appointment.borderColor;M||(M=R.background),T||(T=R.border),P||(P=R.color);var U=F.appointment.isRecurrentAppointment(),V=F.appointment.isException(),W="",X=d.toTP("jqx-scheduler-appointment-status"),Y="",Z=d.statuses[F.appointment.status],$=!1;Z&&("transparent"==Z?$=!1:(Y="<div style='background: "+Z+"; border-right-color: "+T+"' class='"+X+"'></div>","tentative"==Z&&(X=d.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),Y="<div style='background-color: "+T+"; border-right-color: "+T+"' class='"+X+"'></div>"),$=!0));var _="";if(d.rtl){var X=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");Y="<div style='background: "+Z+"; border-left-color: "+T+"' class='"+X+"'></div>","tentative"==Z&&(X=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),Y="<div style='background-color: "+T+"; border-left-color: "+T+"' class='"+X+"'></div>"),_=Y,Y=""}var aa="",ba=N+"<br/>"+O;if(!O)var ba=N;if(d.renderAppointment){var ca=d.renderAppointment({appointment:F.appointment.boundAppointment,textColor:P,background:M,borderColor:T,html:ba,cssClass:"",style:"",width:F.width,height:F.height,view:d._views[d._view].type});if(ca){var G=ca.html;if(G!=ba&&(ba=G),P=ca.textColor,M=ca.background,T=ca.borderColor,ca.cssClass&&(aa=ca.cssClass+" "),""!=ca.style){var R=d.getAppointmentColors(ca.style);M=R.background,T=R.border,P=R.color}}}if(""===W)if($)var W="<div class='"+d.toTP("jqx-scheduler-appointment-content")+"'>"+Y+"<div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ba+"</div>"+_+"</div>";else var W="<div class='"+d.toTP("jqx-scheduler-appointment-content")+"'><div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ba+"</div></div>";var da="";if(d.rtl&&(da=d.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),V){var ea="white"==P.toLowerCase()?d.toTP("jqx-icon-recurrence-exception-white"):d.toTP("jqx-icon-recurrence-exception");G="<div data-key='"+F.appointment.id+"'"+S+"class='"+da+aa+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+F.x+"px; top: "+F.y+"px; width: "+F.width+"px; height: "+F.height+"px; border-color:"+T+"; color:"+P+"; background:"+M+";'><div class='"+ea+"'></div>"+W+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else if(U){var fa="white"==P.toLowerCase()?d.toTP("jqx-icon-recurrence-white"):d.toTP("jqx-icon-recurrence");G="<div data-key='"+F.appointment.id+"'"+S+"class='"+da+aa+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+F.x+"px; top: "+F.y+"px; width: "+F.width+"px; height: "+F.height+"px; border-color:"+T+"; color:"+P+"; background:"+M+";'><div class='"+fa+"'></div>"+W+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else G="<div data-key='"+F.appointment.id+"'"+S+"class='"+da+aa+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+F.x+"px; top: "+F.y+"px; width: "+F.width+"px; height: "+F.height+"px; border-color:"+T+"; color:"+P+"; background:"+M+";'>"+W+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";var ga=a(G);if(ga.appendTo(this.table),F.element=ga,this.appointmentTooltips)if(F.appointment.tooltip)ga[0].setAttribute("title",F.appointment.tooltip);else{var ha=F.appointment.subject;if(ha){var O=F.appointment.location;O&&(ha+="\n"+O),ga[0].setAttribute("title",ha)}}}}}},getCollisionAppointments:function(b,c){for(var d=new Array,e=b.from,f=b.to,g=0;g<c.length;g++){var h=c[g],i=h.from,j=h.to;a.jqx.scheduler.utilities.rangeIntersection(e,f,i,j)&&d.push(h)}return d},getAllDayCollisionAppointments:function(b,c){for(var d=new Array,e=a.jqx.scheduler.utilities.getStartOfDay(b.from),f=a.jqx.scheduler.utilities.getEndOfDay(b.to),g=0;g<c.length;g++){var h=c[g],i=a.jqx.scheduler.utilities.getStartOfDay(h.from),j=a.jqx.scheduler.utilities.getEndOfDay(h.to);a.jqx.scheduler.utilities.rangeIntersection(e,f,i,j)&&d.push(h)}return d},_renderAppointments:function(a,b){var c=this;if(!c._appupdating){c.table.find(".jqx-scheduler-appointment").remove(),c.pinnedtable.find(".jqx-scheduler-appointment").remove();var d=c._views[c._view].type;"dayView"===d||"weekView"===d?c._renderDayWeekAppointments(a,b):"monthView"===d?c._renderMonthAppointments(a,b):"timelineWeekView"!==d&&"timelineDayView"!==d&&"timelineMonthView"!==d||c._renderTimelineAppointments(a,b),c.selectedJQXAppointment&&c._selectAppointment(c.selectedJQXAppointment)}},_renderTimelineAppointments:function(b,c){for(var d=this,e=d._views[d._view].type,f=d._views[d._view],g=new Array,h=(this.rows,this.cellHeight),i=this.cellWidth,j=d.getMinutesPerScale(),k=0;k<this.appointmentsToRender.length;k++){var l=this.appointmentsToRender[k],m=l.from,n=l.to,o=d._getDateByString,p=new Array,q=m.toDate().valueOf(),r=n.toDate().valueOf();"timelineMonthView"===e&&(q=m.clearTime().toDate().valueOf());var s=function(a,b){return a.date<b.date?-1:a.date==b.date?0:a.date>b.date?1:void 0},t=d.rows[0],u=l.resourceId,v=d._resources.indexOf(u);if(d._resources.length>0&&"horizontal"!==d.resources.orientation&&v>=1&&(t=d.rows[v]),d.resources&&"none"==d.resources.orientation){v=-1;var t=d.rows[0]}for(var w=t.cells,x=0;x<w.length;x++){var y=w[x].getAttribute("data-date");w[x].appointments=new Array;var z=o(y),A=z.valueOf(),B=o(y);B.setMinutes(B.getMinutes()+j-1);var C=B.valueOf();if(!(A>n)&&(q<=A&&A<r||q<=C&&C<r)){if(v!=-1&&1+v!=w[x].getAttribute("data-view"))continue;p.push({cell:w[x],date:z}),t=O}}p.sort(s);var D=new Array,w=p;if(0==w.length)break;var E=d.appointmentsMinHeight;d.isTouchDevice()&&(E=d.touchAppointmentsMinHeight),f.appointmentHeight&&(E=f.appointmentHeight);var F=a(w[0].cell).position(),G=E,H=a(w[w.length-1].cell).position().left-F.left+i,I=F.left,J=F.top;if(d.rtl)var F=a(w[w.length-1].cell).position(),H=a(w[0].cell).position().left-F.left+i,I=F.left,J=F.top;var K=new a.jqx.date(w[w.length-1].date,d.timeZone).addMinutes(j);if("timelineMonthView"===e)var K=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(w[w.length-1].date,d.timeZone));var L={cellX:I,cellY:J,cellHeight:h,cells:w,x:I,y:J,height:G,width:H,appointment:l,from:new a.jqx.date(w[0].date,d.timeZone),to:K};D.push(L),g.push(L),l.elements=D,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(g,b,c);else for(var x=0;x<this._resources.length;x++){for(var M=this._resources[x],N=new Array,O=0;O<g.length;O++)g[O].appointment.resourceId==M&&N.push(g[O]);this._renderUITimelineAppointments(N,b,c)}},_renderUITimelineAppointments:function(b,c,d){var e=this,f=(e._views[e._view].type,e._views[e._view]),g=b,h=1,e=this,i=new Array;h=e.getMaxTimelineAppointments(b,i,c,d);var j=e.appointmentsMinHeight;e.isTouchDevice()&&(j=e.touchAppointmentsMinHeight),f.appointmentHeight&&(j=f.appointmentHeight);for(var k=0;k<b.length;k++){var l=b[k];l.row=-1;var m=e.getCollisionAppointments(l,b);m.sort(e._sortAppointmentsByFrom);var n=m.indexOf(l);if(n>=0)for(var o=n;o<m.length;o++)m[o].row=-1;for(var p=0;p<h;p++){var q=p;for(var r in m){if("indexOf"==r)break;var s=m[r];if(s.row==-1&&!e.isBusyRow(q,m)){s.row=q;var t=h,u=e.getMaxTimelineAppointments(m,i,c,d);t>u&&(t=u),s.rowsCount=t}}}}for(var p=0;p<g.length;p++){var l=g[p],m=e.getCollisionAppointments(l,g);m.sort(e._sortAppointmentsByFrom);var v=1;for(var r in m){if("indexOf"==r)break;var w=m[r];v=Math.max(v,w.rowsCount)}for(var r in m){if("indexOf"==r)break;var w=m[r];w.rowsCount=v}if(1==m.length)l.rowSpan=v;else{for(var x=0,y=!0,o=l.row;o<v;o++){for(var r in m){if("indexOf"==r)break;var s=m[r];s!=l&&s.row==o&&(y=!1)}if(!y)break;x++}l.rowSpan=x}}for(var z=0;z<g.length;z++){var A=j,l=g[z];l.height=A;var B=2+(3+A)*l.row;l.y=l.y+B,l.x+=1,l.width-=5;var C=e._views[e._view].type,f=e._views[e._view];if("timelineMonthView"==C&&f.appointmentsRenderMode){if(0!=l.appointment.from.hour()||23!=l.appointment.to.hour())if(e.rtl){var D=parseFloat(e.cellWidth/24)*l.appointment.to.hour()+parseFloat(e.cellWidth/48)*(l.appointment.to.minute()/30),E=parseFloat(e.cellWidth/24)*l.appointment.from.hour()+parseFloat(e.cellWidth/48)*(l.appointment.from.minute()/30);D>0&&(D=e.cellWidth-D),"exactTime"==f.appointmentsRenderMode&&(l.x+=D,l.width-=D,l.width-=E),l.appointment.duration().days()<1&&l.width<15&&(l.width=15),l.timewidth=l.width,l.timex=D}else{var D=parseFloat(e.cellWidth/24)*l.appointment.from.hour()+parseFloat(e.cellWidth/48)*(l.appointment.from.minute()/30),E=parseFloat(e.cellWidth/24)*l.appointment.to.hour()+parseFloat(e.cellWidth/48)*(l.appointment.to.minute()/30);if(l.timewidth=l.width,l.timex=D,l.timewidth-=D,l.timewidth-=e.cellWidth,l.timewidth+=E,"exactTime"==f.appointmentsRenderMode&&(l.width=l.timewidth,l.x+=D,l.appointment.duration().days()<1&&l.width<15&&(l.width=15,D+15>e.cellWidth))){var F=e.cellWidth-D-15;l.x+=F}}}else if(f.appointmentsRenderMode&&"exactTime"==f.appointmentsRenderMode){var G=e.getMinutesPerScale();if(l.appointment.from.minute()%G!=0){var H=l.appointment.from.minute()%G,D=parseFloat(e.cellWidth/G)*H;if(e.rtl)var D=parseFloat(e.cellWidth/G)*H}else var D=0;if(l.appointment.to.minute()%G!=0){var H=l.appointment.to.minute()%G,E=e.cellWidth-parseFloat(e.cellWidth/G)*H;if(e.rtl)var E=e.cellWidth-parseFloat(e.cellWidth/G)*H}else E=0;e.rtl?(l.x+=E,l.width-=D,l.width-=E):(l.x+=D,l.width-=D,l.width-=E)}}for(var I="",z=0;z<g.length;z++){var J=g[z],K="",L="auto",f=e._views[e._view];J.appointment.from,J.appointment.to;f.timeRuler&&f.timeRuler.formatString&&(L=f.timeRuler.formatString);var M=J.appointment.background,N=J.appointment.subject?J.appointment.subject:"(No Title)",O=J.appointment.location;O&&O.length>1&&(O=", "+O);var P=J.appointment.color,Q=J.appointment.resourceId,R=e.getColors(e._resources.indexOf(Q)),S=" data-resourceId='"+Q+"' ",T=J.appointment.borderColor;M||(M=R.background),T||(T=R.border),P||(P=R.color);var U=J.appointment.isRecurrentAppointment(),V=J.appointment.isException(),W="",X=e.toTP("jqx-scheduler-appointment-status"),Y="",Z=e.statuses[J.appointment.status],$=!1;Z&&("transparent"==Z?$=!1:(Y="<div style='background: "+Z+"; border-right-color: "+T+"' class='"+X+"'></div>","tentative"==Z&&(X=e.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),Y="<div style='background-color: "+T+"; border-right-color: "+T+"' class='"+X+"'></div>"),$=!0));var _="";if(e.rtl){var X=e.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");Y="<div style='background: "+Z+"; border-left-color: "+T+"' class='"+X+"'></div>","tentative"==Z&&(X=e.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),Y="<div style='background-color: "+T+"; border-left-color: "+T+"' class='"+X+"'></div>"),_=Y,Y=""}var aa="",ba=N+"<br/>"+O;if(e.renderAppointment){var ca=e.renderAppointment({appointment:J.appointment.boundAppointment,textColor:P,background:M,borderColor:T,html:ba,cssClass:"",style:"",width:J.width,height:J.height,view:e._views[e._view].type});if(ca){var K=ca.html;if(K!=ba&&(ba=K),P=ca.textColor,M=ca.background,T=ca.borderColor,ca.cssClass&&(aa=ca.cssClass+" "),""!=ca.style){var R=e.getAppointmentColors(ca.style);M=R.background,T=R.border,P=R.color}}}if(""===W)if($)var W="<div style='white-space:nowrap;' class='"+e.toTP("jqx-scheduler-appointment-content")+"'>"+Y+"<div class='"+e.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ba+"</div>"+_+"</div>";else var W="<div style='white-space:nowrap;' class='"+e.toTP("jqx-scheduler-appointment-content")+"'><div class='"+e.toTP("jqx-scheduler-appointment-inner-content")+"'>"+ba+"</div></div>";var da="";if(e.rtl&&(da=e.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),V){var ea="white"==P.toLowerCase()?e.toTP("jqx-icon-recurrence-exception-white"):e.toTP("jqx-icon-recurrence-exception");K="<div data-key='"+J.appointment.id+"'"+S+"class='"+da+aa+e.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+J.x+"px; top: "+J.y+"px; width: "+J.width+"px; height: "+J.height+"px; line-height: "+J.height+"px; border-color:"+T+"; color:"+P+"; background:"+M+";'><div class='"+ea+"'></div>"+W+"<div class='"+e.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+e.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(U){var fa="white"==P.toLowerCase()?e.toTP("jqx-icon-recurrence-white"):e.toTP("jqx-icon-recurrence");K="<div data-key='"+J.appointment.id+"'"+S+"class='"+da+aa+e.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+J.x+"px; top: "+J.y+"px; width: "+J.width+"px; height: "+J.height+"px; line-height: "+J.height+"px; border-color:"+T+"; color:"+P+"; background:"+M+";'><div class='"+fa+"'></div>"+W+"<div class='"+e.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+e.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else K="<div data-key='"+J.appointment.id+"'"+S+"class='"+da+aa+e.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+J.x+"px; top: "+J.y+"px; width: "+J.width+"px; height: "+J.height+"px; line-height: "+J.height+"px; border-color:"+T+"; color:"+P+"; background:"+M+";'>"+W+"<div class='"+e.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+e.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";I=K;var ga=a(K);if(ga.appendTo(this.table),J.element=ga,this.appointmentTooltips)if(J.appointment.tooltip)ga[0].setAttribute("title",J.appointment.tooltip);else{var ha=J.appointment.subject;if(ha){var O=J.appointment.location;O&&(ha+="\n"+O),ga[0].setAttribute("title",ha)}}}for(var ia=e.table.find(".jqx-scheduler-appointment"),ja=function(a){for(var b=0;b<ia.length;b++){var c=ia[b].getAttribute("data-key");if(c==a)return ia[b]}},z=0;z<g.length;z++){var J=g[z],ga=a(ja(J.appointment.id));a.each(J.cells,function(b){var c=a(this.cell),d=J.cellY,f=(J.cellX,J.cellHeight);if(c[0].appointments||(c[0].appointments=new Array),c[0].appointments.push({ui:ga,appointment:J}),ga=ga,J.y+J.height>=d+f-12){ga[0].style.visibility="hidden";var g=c.find(".jqx-icon-arrow-down");g.length>0&&(g[0].style.display="block",g[0].mousedown=function(){e.openedMonthCellPopup&&e.openedMonthCellPopup.remove();var b=a("<div></div>"),g=(new a.jqx.date(c.attr("data-date"),e.timeZone),a("<div class='"+e.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+e.toTP("jqx-icon-close")+"'></span></div>"));g.height(16),g.find("span")[0].mousedown=function(){b.remove()},g.addClass(e.toTP("jqx-widget-header")),b.addClass(e.toTP("jqx-widget")),b.addClass(e.toTP("jqx-window")),b.addClass(e.toTP("jqx-scheduler-month-cell-popup")),b.addClass(e.toTP("jqx-popup"));var h=a("<div></div>");b.append(g),b.append(h),h.addClass(e.toTP("jqx-widget-content"));for(var i=c.width(),j=21,k=0;k<c[0].appointments.length;k++){var l=c[0].appointments[k].ui.clone(!0);l.css("left","3px"),l.css("top","0px"),l.css("margin-top","2px"),l.css("position","relative"),l.css("visibility","visible"),l.width(i-6),l.click(function(a){var b=e.getJQXAppointmentByElement(e.getAppointmentElement(a.target));e._raiseEvent("appointmentClick",{appointment:b.boundAppointment})}),l.dblclick(function(a){var b=e.getJQXAppointmentByElement(e.getAppointmentElement(a.target));if(!b.readOnly&&!e.editRecurrenceDialog.jqxWindow("isOpen")&&(!e._editDialog||e._editDialog&&!e._editDialog.jqxWindow("isOpen"))){var c=e._initDialog(b);c!==!1&&e._openDialog()}e._raiseEvent("appointmentDoubleClick",{appointment:b.boundAppointment})}),j+=l.outerHeight()+4,h.append(l)}b.css("overflow","hidden"),b.css("position","absolute");var m=e.table.height()-d-25;m<f&&(m=f),b.css("max-height",m),b.height(j),b.width(i),b.css("z-index","9999");var n=c.position();b.css("top",n.top),b.css("left",n.left),e.table.append(b),e.openedMonthCellPopup=b})}})}},_renderMonthAppointments:function(){for(var b=this,c=(b._views[b._view].type,b._views[b._view]),d=new Array,e=(this.rows,a(".jqx-scheduler-month-cell:first").height()),f=0;f<this.appointmentsToRender.length;f++){var g=this.appointmentsToRender[f],h=a.jqx.scheduler.utilities.getStartOfDay(g.from),i=a.jqx.scheduler.utilities.getEndOfDay(g.to),j=(g.allDay,b._getDateByString),k=new Array,l=new Array,m=h.toDate().valueOf(),n=i.toDate().valueOf(),o=function(a,b){return a.date<b.date?-1:a.date==b.date?0:a.date>b.date?1:void 0},p=-1,q=g.resourceId,r=b._resources.indexOf(q);b.resources&&"none"==b.resources.orientation&&(r=-1);for(var s=0;s<b.rows.length;s++)for(var t=b.rows[s].cells,u=0;u<t.length;u++){var v=t[u].getAttribute("data-date"),w=j(v),x=w.valueOf();x>i||(t[u].appointments=new Array,r!=-1&&1+r!=t[u].getAttribute("data-view")||m<=x&&x<n&&(p!=s&&p!=-1&&(k.sort(o),l.push(k),k=new Array),k.push({cell:t[u],date:w}),p=s))}k.sort(o),l.push(k);for(var y=new Array,s=0;s<l.length;s++){var t=l[s];if(0==t.length)break;var z=b.appointmentsMinHeight;b.isTouchDevice()&&(z=b.touchAppointmentsMinHeight),c.appointmentHeight&&(z=c.appointmentHeight);var A=z,B=a(t[t.length-1].cell).position().left,C=B-a(t[0].cell).position().left+b.columns.records[0].width;if(c.showWeekNumbers)var C=B-a(t[0].cell).position().left+b.columns.records[1].width;var D=a(t[0].cell).position(),E=D.left,F=D.top+e,G=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(t[t.length-1].date,b.timeZone)),H=new a.jqx.date(t[0].date,b.timeZone);if(b.rtl){var G=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(t[0].date,b.timeZone)),H=new a.jqx.date(t[t.length-1].date,b.timeZone),D=a(t[t.length-1].cell).position(),E=D.left,F=D.top+e,B=a(t[0].cell).position().left,C=B-a(t[t.length-1].cell).position().left+b.columns.records[0].width;if(c.showWeekNumbers)var C=B-a(t[t.length-1].cell).position().left+b.columns.records[1].width}var I={cells:t,cellY:parseInt(D.top),cellX:parseInt(D.left),lastCellY:parseInt(D.top),lastCellX:B,x:E,y:F,height:A,width:C,appointment:g,from:H,to:G};y.push(I),d.push(I)}g.elements=y,g.rootAppointment&&(g.rootAppointment.elements=g.rootAppointment.elements.concat(g.elements))}var J=this.getViewStart(),K=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var L=new Array,M=J,N=0;M<K;){L[N]=new Array;for(var s=0;s<d.length;s++){var O=d[s];M<=O.from&&O.to<M.addDays(7)&&(O.row=-1,O.rowSpan=1,L[N].push(O))}N++,M=M.addDays(7)}for(var s=0;s<L.length;s++)L[s].length>0&&this._renderUIMonthAppointments(L[s])}else for(var u=0;u<this._resources.length;u++){for(var P=this._resources[u],L=(new Array,new Array),M=J,N=0;M<K;){L[N]=new Array;for(var s=0;s<d.length;s++){var O=d[s];M<=O.from&&O.to<M.addDays(7)&&(O.row=-1,O.rowSpan=1,O.appointment.resourceId==P&&L[N].push(O))}N++,M=M.addDays(7)}for(var s=0;s<L.length;s++)L[s].length>0&&this._renderUIMonthAppointments(L[s])}},_getMonthAppointmentsPerWeek:function(){var b=this,c=(b._views[b._view].type,b._views[b._view]),d=new Array,e=(this.rows,a(".jqx-scheduler-month-cell:first").height());if(!b.rows)return new Array;for(var f=this.getViewStart(),g=this.getViewEnd(),h=0;h<this.appointmentsToRender.length;h++){var i=this.appointmentsToRender[h],j=a.jqx.scheduler.utilities.getStartOfDay(i.from),k=a.jqx.scheduler.utilities.getEndOfDay(i.to),l=(i.allDay,b._getDateByString,new Array),m=new Array,n=j.toDate().valueOf(),o=k.toDate().valueOf(),p=function(a,b){return a.date<b.date?-1:a.date==b.date?0:a.date>b.date?1:void 0},q=-1,r=i.resourceId,s=b._resources.indexOf(r);b.resources&&"none"==b.resources.orientation&&(s=-1);for(var t=0;t<b.rows.length;t++)for(var u=b.rows[t].cells,v=0;v<u.length;v++){var w=(u[v].getAttribute("data-date"),f.addDays(7*t+v).toDate()),x=w.valueOf();x>k||s!=-1&&1+s!=u[v].getAttribute("data-view")||n<=x&&x<o&&(q!=t&&q!=-1&&(l.sort(p),m.push(l),l=new Array),l.push({cell:u[v],date:w}),q=t)}l.sort(p),m.push(l);for(var y=new Array,t=0;t<m.length;t++){var u=m[t];if(0==u.length)break;var z=b.appointmentsMinHeight;b.isTouchDevice()&&(z=b.touchAppointmentsMinHeight),c.appointmentHeight&&(z=c.appointmentHeight);var A=z,B=a(u[u.length-1].cell).position().left,C=B-a(u[0].cell).position().left+b.columns.records[0].width;if(c.showWeekNumbers)var C=B-a(u[0].cell).position().left+b.columns.records[1].width;var D=a(u[0].cell).position(),E=D.left,F=D.top+e,G=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(u[u.length-1].date,b.timeZone)),H=new a.jqx.date(u[0].date,b.timeZone);if(b.rtl){var G=a.jqx.scheduler.utilities.getEndOfDay(new a.jqx.date(u[0].date,b.timeZone)),H=new a.jqx.date(u[u.length-1].date,b.timeZone),D=a(u[u.length-1].cell).position(),E=D.left,F=D.top+e,B=a(u[0].cell).position().left,C=B-a(u[u.length-1].cell).position().left+b.columns.records[0].width;if(c.showWeekNumbers)var C=B-a(u[u.length-1].cell).position().left+b.columns.records[1].width}var I={cells:u,cellY:parseInt(D.top),cellX:parseInt(D.left),lastCellY:parseInt(D.top),lastCellX:B,x:E,y:F,height:A,width:C,appointment:i,from:H,to:G};y.push(I),d.push(I)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var J=new Array,K=f,L=0;K<g;){J[L]=new Array;for(var t=0;t<d.length;t++){var M=d[t];K<=M.from&&M.to<K.addDays(7)&&(M.row=-1,M.rowSpan=1,J[L].push(M))}L++,K=K.addDays(7)}for(var N=new Array,t=0;t<J.length;t++)if(J[t].length>0){var O=this.getMaxMonthAppointments(J[t]),z=b.appointmentsMinHeight;b.isTouchDevice()&&(z=b.touchAppointmentsMinHeight),c.appointmentHeight&&(z=c.appointmentHeight),N.push(O*(z+3)+22)}else N.push("auto");return N}for(var N=new Array,v=0;v<this._resources.length;v++){for(var P=this._resources[v],J=(new Array,new Array),K=f,L=0;K<g;){J[L]=new Array;for(var t=0;t<d.length;t++){var M=d[t];K<=M.from&&M.to<K.addDays(7)&&(M.row=-1,M.rowSpan=1,M.appointment.resourceId==P&&J[L].push(M))}L++,K=K.addDays(7)}for(var t=0;t<J.length;t++)if(J[t].length>0){var O=this.getMaxMonthAppointments(J[t]);N.push(O*(z+3)+22)}else N.push("auto");return N}},_renderUIMonthAppointments:function(b){var c=this._views[this._view],d=b,e=(this.getViewStart(),this.getViewEnd(),1),f=this;e=this.getMaxMonthAppointments(b);var g=f.appointmentsMinHeight;f.isTouchDevice()&&(g=f.touchAppointmentsMinHeight),c.appointmentHeight&&(g=c.appointmentHeight);var h=this._sortAppointmentsByFrom;this.rtl&&(h=this._sortAppointmentsByTo);for(var i=0;i<b.length;i++){var j=b[i];j.row=-1;var k=this.getCollisionAppointments(j,b);k.sort(h);var l=k.indexOf(j);if(l>=0)for(var m=l;m<k.length;m++)k[m].row=-1;for(var n=0;n<e;n++){var o=n;for(var p in k){if("indexOf"==p)break;var q=k[p];if(q.row==-1&&!this.isBusyRow(o,k)){q.row=o;var r=e,s=this.getMaxMonthAppointments(k);r>s&&(r=s),q.rowsCount=r}}}}for(var n=0;n<d.length;n++){var j=d[n],k=this.getCollisionAppointments(j,d);k.sort(h);var t=1;for(var p in k){if("indexOf"==p)break;var u=k[p];t=Math.max(t,u.rowsCount)}for(var p in k){if("indexOf"==p)break;var u=k[p];u.rowsCount=t}if(1==k.length)j.rowSpan=t;else{for(var v=0,w=!0,m=j.row;m<t;m++){for(var p in k){if("indexOf"==p)break;var q=k[p];q!=j&&q.row==m&&(w=!1)}if(!w)break;v++}j.rowSpan=v}}for(var x=0;x<d.length;x++){var y=g,j=d[x];j.height=y;var z=2+(3+y)*j.row;if(j.y=j.y+z,j.x+=1,j.width-=5,0!=j.appointment.from.hour()||23!=j.appointment.to.hour())if(f.rtl){var A=parseFloat(f.cellWidth/24)*j.appointment.to.hour()+parseFloat(f.cellWidth/48)*(j.appointment.to.minute()/30),B=parseFloat(f.cellWidth/24)*j.appointment.from.hour()+parseFloat(f.cellWidth/48)*(j.appointment.from.minute()/30);j.appointment.elements.length>1?j==j.appointment.elements[0]?B>0?"exactTime"==c.appointmentsRenderMode?(j.width-=f.cellWidth-A,j.width-=B):j.timewidth=j.width-f.cellWidth+A-B:(j.timewidth=j.width,j.timex=0):j==j.appointment.elements[j.appointment.elements.length-1]&&("exactTime"==c.appointmentsRenderMode&&(j.x+=f.cellWidth,j.x-=A,j.width+=A,j.width-=f.cellWidth),j.timewidth=j.width-f.cellWidth+A,j.timex=f.cellWidth-A):("exactTime"==c.appointmentsRenderMode&&(j.x+=f.cellWidth,j.x-=A,j.width-=f.cellWidth-A,j.width-=B),j.appointment.duration().days()<1&&j.width<15&&(j.width=15),j.timewidth=j.width-f.cellWidth+A-B,j.timex=f.cellWidth-A)}else{var A=parseFloat(f.cellWidth/24)*j.appointment.from.hour()+parseFloat(f.cellWidth/48)*(j.appointment.from.minute()/30);j.timewidth=j.width,j.from.clearTime().toString()==j.appointment.from.clearTime().toString()?j.timex=A:A=0,j.appointment.elements.length>1&&j.appointment.elements[0]!=j&&(A=0);var B=parseFloat(f.cellWidth/24)*j.appointment.to.hour()+parseFloat(f.cellWidth/48)*(j.appointment.to.minute()/30);if(j.appointment.elements.length>1&&j.appointment.elements[j.appointment.elements.length-1]!=j&&(B=0),j.timewidth-=A,B>0&&(j.timewidth-=f.cellWidth,j.timewidth+=B),"exactTime"==c.appointmentsRenderMode&&(j.from.clearTime().toString()==j.appointment.from.clearTime().toString()&&(j.x+=A),j.width=j.timewidth,j.appointment.duration().days()<1&&j.width<15&&(j.width=15,A+15>f.cellWidth))){var C=f.cellWidth-A-15;j.x+=C}}}for(var x=0;x<d.length;x++){var D=d[x],E="",F="auto",c=this._views[this._view],G=D.appointment.from,H=D.appointment.to,F="auto",c=this._views[this._view],G=D.appointment.from,H=D.appointment.to;c.timeRuler&&c.timeRuler.formatString&&(F=c.timeRuler.formatString);var I=F,J=F;if("auto"===F){if(0==G.hour()&&0==G.minute()||12==G.hour()&&0==G.minute())var I="hh tt";else var I="hh:mm";if(0==H.hour()&&0==H.minute()||12==H.hour()&&0==H.minute())var J="hh tt";else var J="hh:mm";
}var K=G.toString(I),L=H.toString(J),M=D.appointment.duration(),N=D.appointment.allDay||23===M.hours&&59===M.minutes&&59===M.seconds,O=D.appointment.background,P=D.appointment.subject?D.appointment.subject:"(No Title)",Q=D.appointment.color,R=D.appointment.resourceId,S=f.getColors(f._resources.indexOf(R)),T=" data-resourceId='"+R+"' ",U=D.appointment.borderColor,V=D.appointment.location;V&&V.length>1&&(V=", "+V),O||(O=S.background),U||(U=S.border),Q||(Q=S.color);var W=D.appointment.isRecurrentAppointment(),X=D.appointment.isException(),Y="",Z=f.toTP("jqx-scheduler-appointment-status"),$="",_=f.statuses[D.appointment.status],aa=!1;_&&("transparent"==_?aa=!1:($="<div style='background: "+_+"; border-right-color: "+U+"' class='"+Z+"'></div>","tentative"==_&&(Z=f.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),$="<div style='background-color: "+U+"; border-right-color: "+U+"' class='"+Z+"'></div>"),aa=!0));var ba=f.toTP("jqx-scheduler-appointment-duration-status"),ca="<div style='width: "+D.timewidth+"px; left: "+D.timex+"px;' class='"+ba+"'></div>";N&&(ca=""),"exactTimeStatus"!=c.appointmentsRenderMode&&(ca="");var da="";if(f.rtl){var Z=f.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");$="<div style='background: "+_+"; border-left-color: "+U+"' class='"+Z+"'></div>","tentative"==_&&(Z=f.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"),$="<div style='background-color: "+U+"; border-left-color: "+U+"' class='"+Z+"'></div>"),da=$,$=""}var ea="",fa=P+V;if(N||(fa=P+V+ca),f.renderAppointment){var ga=f.renderAppointment({appointment:D.appointment.boundAppointment,textColor:Q,background:O,borderColor:U,html:fa,cssClass:"",style:"",width:D.width,height:D.height,view:f._views[f._view].type});if(ga){var E=ga.html;if(E!=fa&&(fa=E),Q=ga.textColor,O=ga.background,U=ga.borderColor,ga.cssClass&&(ea=ga.cssClass+" "),""!=ga.style){var S=f.getAppointmentColors(ga.style);O=S.background,U=S.border,Q=S.color}}}if(""===Y)if(aa)var Y="<div style='white-space:nowrap;' class='"+f.toTP("jqx-scheduler-appointment-content")+"'>"+$+"<div class='"+f.toTP("jqx-scheduler-appointment-inner-content")+"'>"+fa+"</div>"+da+"</div>";else var Y="<div style='white-space:nowrap;' class='"+f.toTP("jqx-scheduler-appointment-content")+"'><div class='"+f.toTP("jqx-scheduler-appointment-inner-content")+"'>"+fa+"</div></div>";var ha="";if(f.rtl&&(ha=f.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),X){var ia="white"==Q.toLowerCase()?f.toTP("jqx-icon-recurrence-exception-white"):f.toTP("jqx-icon-recurrence-exception");E="<div data-key='"+D.appointment.id+"'"+T+"class='"+ha+ea+f.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; line-height: "+D.height+"px; height: "+D.height+"px; border-color:"+U+"; color:"+Q+"; background:"+O+";'><div class='"+ia+"'></div>"+Y+"<div class='"+f.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+f.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else if(W){var ja="white"==Q.toLowerCase()?f.toTP("jqx-icon-recurrence-white"):f.toTP("jqx-icon-recurrence");E="<div data-key='"+D.appointment.id+"'"+T+"class='"+ha+ea+f.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; line-height: "+D.height+"px; height: "+D.height+"px; border-color:"+U+"; color:"+Q+"; background:"+O+";'><div class='"+ja+"'></div>"+Y+"<div class='"+f.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+f.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else E="<div data-key='"+D.appointment.id+"'"+T+"class='"+ha+ea+f.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; line-height: "+D.height+"px; height: "+D.height+"px; border-color:"+U+"; color:"+Q+"; background:"+O+";'>"+Y+"<div class='"+f.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+f.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var ka=a(E);if(ka.appendTo(this.table),D.element=ka,this.appointmentTooltips)if(D.appointment.tooltip)ka[0].setAttribute("title",D.appointment.tooltip);else{var la=D.appointment.subject;if(K&&!N&&(la=K+" - "+L+" "+la),la){var V=D.appointment.location;V&&(la+="\n"+V),ka[0].setAttribute("title",la)}}a.each(D.cells,function(){var b=a(this.cell),c=b.position();if(b[0].appointments||(b[0].appointments=new Array),b[0].appointments.push({ui:ka,appointment:D}),D.y+D.height+2>=c.top+b.height()){ka.css("visibility","hidden");var d=b.find(".jqx-icon-arrow-down");d.show(),d[0]&&(d[0].mousedown=function(){f.openedMonthCellPopup&&f.openedMonthCellPopup.remove();var d=a("<div></div>"),e=b.find("div").clone(!0);e.find("span").removeClass().addClass(f.toTP("jqx-icon-close")),e.find("span")[0].mousedown=function(){d.remove()},e.addClass(f.toTP("jqx-widget-header")),d.addClass(f.toTP("jqx-widget")),d.addClass(f.toTP("jqx-window")),d.addClass(f.toTP("jqx-scheduler-month-cell-popup")),d.addClass(f.toTP("jqx-popup"));var g=a("<div></div>");d.append(e),d.append(g),g.addClass(f.toTP("jqx-widget-content jqx-disableselect"));for(var h=b.width(),i=5+b.find("div").outerHeight(),j=0;j<b[0].appointments.length;j++){var k=b[0].appointments[j].ui.clone(!0);k.css("left","3px"),k.css("top","0px"),k.css("margin-top","2px"),k.css("position","relative"),k.css("visibility","visible"),k.width(h-6),i+=k.outerHeight()+4,g.append(k),k.click(function(a){var b=f.getJQXAppointmentByElement(f.getAppointmentElement(a.target));f._raiseEvent("appointmentClick",{appointment:b.boundAppointment})}),k.dblclick(function(a){var b=f.getJQXAppointmentByElement(f.getAppointmentElement(a.target));if(!b.readOnly&&!f.editRecurrenceDialog.jqxWindow("isOpen")&&(!f._editDialog||f._editDialog&&!f._editDialog.jqxWindow("isOpen"))){var c=f._initDialog(b);c!==!1&&f._openDialog()}f._raiseEvent("appointmentDoubleClick",{appointment:b.boundAppointment})})}d.css("overflow","hidden"),d.css("position","absolute"),d.height(i),d.width(h),d.css("z-index","9999"),d.css("top",c.top),d.css("left",c.left),f.table.append(d),f.openedMonthCellPopup=d})}})}},_sortByDate:function(a,b){var c=a.getAttribute("data-date");c=this._getDateByString(c);var d=b.getAttribute("data-date");return d=this._getDateByString(d),c<d?-1:c>d?1:c==d?0:void 0},_sortAppointmentsByFrom:function(a,b){if(a.from.equals(b.from)){var c=a.to-a.from,d=1e4*c,c=b.to-b.from,e=1e4*c;if(d>e)return-1}return a.from<b.from?-1:a.from>b.from?1:a.from==b.from?0:void 0},_sortAppointmentsByTo:function(a,b){if(a.to.equals(b.to)){var c=a.to-a.from,d=1e4*c,c=b.to-b.from,e=1e4*c;if(d>e)return-1}return a.to<b.to?-1:a.to>b.to?1:a.to==b.to?0:void 0},_sortAppointmentsByResourceId:function(a,b,c){var d=c._resources.indexOf(a.resourceId),e=c._resources.indexOf(b.resourceId);return d==e?0:d<e?-1:d>e?-1:void 0},isBusyRow:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.row==a)return!0}return!1},isBusyColumn:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.column==a)return!0}return!1},getMaxTimelineAppointments:function(b,c,d,e){if(0==b.length)return 1;var f=this,g=f._views[f._view].type,h=(f._views[f._view],1),i=d,j=this.getMinutesPerScale(),k=null,l=null,m="";for(var n in b){if("indexOf"==n)break;var o=b[n];k||(k=o.from),l||(l=o.to),k=Math.min(o.from,k),l=Math.max(o.to,l),m+=o.appointment.id}if(m+=k,m+=l,c[m])return c[m];k=new a.jqx.date(k,f.timeZone),l=new a.jqx.date(l,f.timeZone);for(var i=k;k<l;){var p=i;if("timelineMonthView"===g)var q=p.addDays(1);else var q=p.addMinutes(j);var r=0;for(var n in b){if("indexOf"==n)break;var o=b[n],s=o.from,t=o.to,u=a.jqx.scheduler.utilities.rangeIntersection(p,q,s,t);u&&r++}h=Math.max(r,h),i="timelineMonthView"===g?i.addDays(1,!1):i.addMinutes(j,!1)}return c[m]=h,h},getMaxMonthAppointments:function(b){this._views[this._view].type,this._views[this._view];if(0==b.length)return 1;for(var c=1,d=this.getViewStart().clone(),e=this.getViewEnd();d<e;){var f=d,g=a.jqx.scheduler.utilities.getEndOfDay(f),h=0;for(var i in b){if("indexOf"==i)break;var j=b[i],k=j.from,l=j.to,m=a.jqx.scheduler.utilities.rangeIntersection(f,g,k,l);m&&h++}c=Math.max(h,c),d=d.addDays(1,!1)}return c},getMaxAllDayAppointments:function(b){var c=(this._views[this._view].type,this._views[this._view],this);if(0==b.length)return 1;var d=function(b){for(var d=1,e=c.getViewStart(),f=c.getViewEnd();e<f;){var g=e,h=a.jqx.scheduler.utilities.getEndOfDay(g),i=0;for(var j in b){if("indexOf"==j)break;var k=b[j],l=k;if(k.appointment&&(l=k.appointment),1!=l.hidden&&l.duration&&(l.allDay||l.duration().days()>=1)){var m=k.from,n=k.to,o=a.jqx.scheduler.utilities.rangeIntersection(g,h,m,n);o&&i++}}d=Math.max(i,d),e=e.addDays(1,!1)}return d};if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var e=d(b);else{for(var f=1,g=0;g<this._resources.length;g++){for(var h=this._resources[g],i=new Array,j=0;j<b.length;j++)b[j].appointment&&b[j].appointment.resourceId==h?i.push(b[j]):void 0!=b[j].resourceId&&b[j].resourceId==h&&i.push(b[j]);var e=d(i);f=Math.max(f,e)}e=f}return e},getMinutesPerScale:function(){var a=(this._views[this._view].type,this._views[this._view]),b=30,c="halfHour";switch(a.timeRuler&&a.timeRuler.scale&&(c=a.timeRuler.scale),c){case"sixtyMinutes":case"hour":b=60;break;case"thirtyMinutes":case"halfHour":b=30;break;case"fifteenMinutes":case"quarterHour":b=15;break;case"tenMinutes":b=10;break;case"fiveMinutes":b=5}return b},getMaxColumnsInADay:function(b){var c=(this._views[this._view].type,this._views[this._view]),d=30,e="halfHour";switch(c.timeRuler&&c.timeRuler.scale&&(e=c.timeRuler.scale),e){case"sixtyMinutes":case"hour":d=60;break;case"thirtyMinutes":case"halfHour":d=30;break;case"fifteenMinutes":case"quarterHour":d=15;break;case"tenMinutes":d=10;break;case"fiveMinutes":d=5}if(0==b.length)return 1;for(var f=1,g=b[0].from.clone(),h=g.addMinutes(d),i=a.jqx.scheduler.utilities.getEndOfDay(g);g<i;){var j=g,k=h,l=0;for(var m in b){if("indexOf"==m)break;var n=b[m];if(n.from||n.to){var o=n.from,p=n.to,q=a.jqx.scheduler.utilities.rangeIntersection(j,k,o,p);q&&l++}}f=Math.max(l,f),g=g.addMinutes(d,!1),h=h.addMinutes(d,!1)}return f},getTouches:function(b){return a.jqx.mobile.getTouches(b)},_updatecolumnwidths:function(){var b=this,c=this._hostWidth,d=c;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(c-=parseInt(this.scrollBarSize)+6,this.rtl&&(c+=3),d=c);var e="";if(void 0!=this.columns&&void 0!=this.columns.records){var b=this,f=!1,g=new Array;a.each(this.columns.records,function(a,f){if(!this.hidden){if(this.width.toString().indexOf("%")!=-1||void 0!=this._percentagewidth){var f=0,h="hidden"==b.vScrollBar[0].style.visibility?0:b.scrollBarSize+5;0==b.scrollBarSize&&(h=0),f=parseFloat(this.width)*d/100,void 0!=this._percentagewidth&&(f=parseFloat(this._percentagewidth)*d/100),f<this.minwidth&&"auto"!=this.minwidth&&(f=this.minwidth),f>this.maxwidth&&"auto"!=this.maxwidth&&(f=this.maxwidth),c-=Math.round(f)}else"auto"==this.width||this._width?e+=this.text:c-=this.width;"auto"==this._width&&(g[g.length]=this)}});var h=this.columnsheader.find("#columntable"+this.element.id);if(0!=h.length){var i=0,j=(h.find(".jqx-grid-column-header"),0);a.each(this.columns.records,function(e,h){var k=this.element,l=!1,m=this.width,n=this.width;if(this.width.toString().indexOf("%")==-1&&void 0==this._percentagewidth||(m=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*d/100:parseFloat(this.width)*d/100,m=Math.round(m),l=!0),"auto"==this.width||this._width||l)if(l)m<this.minwidth&&"auto"!=this.minwidth&&(m=this.minwidth,this.width=m),m>this.maxwidth&&"auto"!=this.maxwidth&&(m=this.maxwidth,this.width=m),parseInt(k[0].style.width)!=m&&(k.width(m),this.width=m);else{var o=b.columns.records.length,p=b._views[b._view].type;if("dayView"===p||"weekView"===p){var q=b._views[b._view];q.timeRuler?(q.timeRuler.timeZones&&(o-=q.timeRuler.timeZones.length),o--):o--}else"monthView"===p&&b._views[b._view].showWeekNumbers&&o--;var r=Math.floor(c*(1/o));b.resources&&b.resources.resourceColumnWidth&&"auto"!=b.resources.resourceColumnWidth?r=b.resources.resourceColumnWidth:b.resources&&b.resources.resourceColumnWidth&&"auto"==b.resources.resourceColumnWidth&&"horizontal"==b.resources.orientation&&(r=Math.round((2+c)*(1/b._getColumnsLengthPerView())));var s=c*(1/o)-r;if(i+=s,i>=1&&(i-=1,r++),i>=.5&&e==b.columns.records.length-1&&r++,"agendaView"==p&&(r=c/g.length,r++),r<0){var t=a("<span>"+this.text+"</span>");a(document.body).append(t),r=10+t.width(),t.remove()}r<this.minwidth&&(r=this.minwidth),r>this.maxwidth&&(r=this.maxwidth),this._width="auto",this.width=parseInt(r),k.width(this.width)}else parseInt(k[0].style.width)!=this.width&&k.width(this.width);parseInt(k[0].style.left)!=j&&k.css("left",j),this.hidden||(j+=this.width),this._requirewidthupdate=!0,n!==this.width&&(f=!0)}),this.columnsheader.width(2+j),h.width(this.columnsheader.width()),this._resizecolumnGroups(),f&&(this._renderrows(),b._arrange())}}},_rendercolumnheaders:function(){var b=this;if(!this._updating){var c=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var d=a('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');d[0].cells=new Array;var e=0,f="",g=this._hostWidth;g||(this._hostWidth=this.host.width());var h=this._hostWidth,i=h,j=this.getRows().length,k=this.rowsHeight;this.isTouchDevice()&&(k=this.touchRowsHeight),j*k>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(h-=parseInt(this.scrollBarSize)+6,this.rtl&&(h+=3),i=h);var l=new Array,m=new Array;if(a.each(this.columns.records,function(a,b){if(!this.hidden)if("auto"==this.width||this._width)f+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)h-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)h-=this.maxwidth;else if(this.width.toString().indexOf("%")!=-1){var b=0;b=parseFloat(this.width)*i/100,b<this.minwidth&&"auto"!=this.minwidth&&(b=this.minwidth),b>this.maxwidth&&"auto"!=this.maxwidth&&(b=this.maxwidth),h-=b}else"string"==typeof this.width&&(this.width=parseInt(this.width)),h-=this.width;null!=this.width&&"auto"!=this.width||(m[m.length]=this),l[l.length]=this}),this.rtl)for(var n=0;n<l.length;n++)this.columns.replace(n,l[n]);var o=this.headerZIndex,p=b.columnsHeight,q=function(a,c){var d=b.columnGroupslevel*b.columnsHeight;return d-=c.level*b.columnsHeight},r=0,s=document.createDocumentFragment();a.each(this.columns.records,function(f,g){this.height=b.columnsHeight,b.columnGroups&&b.columnGroups.length&&(this.height=q(this.datafield,this),p=this.height);var j=b.toTP("jqx-grid-column-header")+" "+b.toTP("jqx-widget-header");b.rtl&&(j+=" "+b.toTP("jqx-grid-column-header-rtl")),b.enableBrowserSelection||(j+=" "+b.toTP("jqx-disableselect"));var k=b.rtl?o++:o--,l=document.createElement("div");l.setAttribute("role","columnheader"),l.style.position="absolute",l.style.zIndex=k,l.style.height="100%",l.className=j;var n=a(l);b.rtl&&0===f&&(n[0].style.borderLeftColor="transparent"),b.columnGroups?(n[0].style.height=p+"px",n[0].style.bottom="0px"):this.timeColumn||(n[0].style.height=-1+p+"px"),this.uielement=n,this.element=n,""!=this.classname&&this.classname&&n.addClass(this.classname);var t=this.width,u=!1;if(null===this.width&&(this.width="auto"),this.width.toString().indexOf("%")==-1&&void 0==this._percentagewidth||(t=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,t=Math.round(t),u=!0),"auto"==this.width||this._width||u)if(u)t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),void 0!=this._percentagewidth&&this.width.toString().indexOf("%")==-1||(this._percentagewidth=this.width),n.width(t),this.width=t;else{var v=b.columns.records.length,w=b._views[b._view].type;if("dayView"===w||"weekView"===w){var x=b._views[b._view];x.timeRuler?(x.timeRuler.timeZones&&(v-=x.timeRuler.timeZones.length),v--):v--}else"monthView"===w&&b._views[b._view].showWeekNumbers&&v--;var y=Math.floor(h*(1/v));b.resources&&b.resources.resourceColumnWidth&&"auto"!=b.resources.resourceColumnWidth?y=b.resources.resourceColumnWidth:b.resources&&b.resources.resourceColumnWidth&&"auto"==b.resources.resourceColumnWidth&&"horizontal"==b.resources.orientation&&(y=Math.round((2+h)*(1/b._getColumnsLengthPerView())));var z=h*(1/v)-y;if(r+=z,r>=1&&(r-=1,y++),r>=.5&&f==b.columns.records.length-1&&y++,isNaN(y)&&(y=this.minwidth),"agendaView"==w&&(y=h/m.length,y++),y<0){var A=a("<span>"+this.text+"</span>");a(document.body).append(A),y=10+A.width(),A.remove()}y<this.minwidth&&(y=this.minwidth),y>this.maxwidth&&(y=this.maxwidth),this._width="auto",this.width=parseInt(y),t=this.width,n.width(this.width)}else t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),n[0].style.width=parseInt(t)+"px";this.timeColumn&&(n.css("border-bottom-color","transparent"),c.timeRuler&&c.timeRuler.timeZones&&f<c.timeRuler.timeZones.length&&n.css("border-right-color","transparent"),1==this.tableRows&&n.addClass(b.toTP("jqx-scheduler-time-column"))),this.hidden&&n.css("display","none");a(n.children()[0]);d[0].cells[f]=n[0];var B=b._rendercolumnheader(this.text,this.align,p,b);n[0].innerHTML=B,s.appendChild(n[0]);n[0].style.left=e+"px",this.hidden||(e+=t)}),d[0].appendChild(s),e>0?this.columnsheader[0].style.width=2+e+"px":this.columnsheader[0].style.width=e+"px",this._columnswidth=e,this.columnsrow=d,b.columnsheader.append(d),d[0].style.width=e+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var b=this.headerZIndex+this.columns.records.length,c=this,d=c.toTP("jqx-grid-column-header")+" "+c.toTP("jqx-grid-columngroup-header")+" "+c.toTP("jqx-widget-header");c.rtl&&(d+=" "+c.toTP("jqx-grid-columngroup-header-rtl"));var e=this.columnsheader.find("#columntable"+this.element.id);e.find("jqx-grid-columngroup-header").remove();for(var f=0;f<this.columnGroupslevel-1;f++)for(var g=0;g<this.columnGroups.length;g++){var h=this.columnGroups[g],i=h.level;if(i===f){var j=i*this.columnsHeight,k=99999;if(h.groups){var l=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=l(d):d.hidden||(b+=d.width,k=Math.min(parseInt(d.element[0].style.left),k))}return b};h.width=l(h),h.left=k;var m=this.columnsHeight,n=b--,o=a('<div role="columnheader" style="z-index: '+n+';position: absolute;" class="'+d+'"></div>'),p=a(this._rendercolumnheader(h.text,h.align,this.columnsHeight,this));h.renderer&&h.renderer(o,h.text),o.append(p),o[0].style.left=k+"px",0===k&&(o[0].style.borderLeftColor="transparent"),o[0].style.top=j+"px",o[0].style.height=m+"px",o[0].style.width=-1+h.width+"px",e.append(o),h.element=o}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var a=0;a<this.columnGroups.length;a++){var b=this.columnGroups[a],c=b.level,d=c*this.columnsHeight,e=99999;if(b.groups){var f=function(a){for(var b=0,c=0;c<a.groups.length;c++){var d=a.groups[c];d.groups?b+=f(d):(b+=d.width,e=Math.min(parseInt(d.element[0].style.left),e))}return b};b.width=f(b),b.left=e;var g=this.columnsHeight,h=b.element;h[0].style.left=e+"px",h[0].style.top=d+"px",h[0].style.height=g+"px",h[0].style.width=-1+b.width+"px"}}},_removecolumnhandlers:function(b){var c=this,d=a(b.element);if(d.length>0){c.removeHandler(d,"mouseenter"),c.removeHandler(d,"mouseleave");var e=a(b.filtericon);c.removeHandler(e,"mousedown"),c.removeHandler(e,"click"),c.removeHandler(d,"click")}},destroy:function(){var b=this;if(b._removeHandlers(),b._editDialog){var c=b.editDialogFields;c.subject.jqxInput("destroy"),c.location.jqxInput("destroy"),c.from.jqxDateTimeInput("destroy"),c.to.jqxDateTimeInput("destroy"),c.allDay.jqxCheckBox("destroy"),c.timeZone.jqxDropDownList("destroy"),c.description.jqxInput("destroy"),c.color.jqxDropDownList("destroy"),c.status.jqxDropDownList("destroy"),c.resource.jqxDropDownList("destroy"),c.saveOccurrenceButton.jqxButton("destroy"),c.saveSeriesButton.jqxButton("destroy"),c.saveButton.jqxButton("destroy"),c.cancelButton.jqxButton("destroy"),c.deleteButton.jqxButton("destroy"),c.deleteSeriesButton.jqxButton("destroy"),c.deleteExceptionsButton.jqxButton("destroy"),c.buttons.jqxButton("destroy"),c.daily.repeatDayInterval.jqxNumberInput("destroy"),c.weekly.repeatWeekInterval.jqxNumberInput("destroy");for(var d=0;d<7;d++)c.weekly.repeatDays[d].jqxCheckBox("destroy");c.monthly.repeatMonth.jqxNumberInput("destroy"),c.monthly.repeatMonthDay.jqxNumberInput("destroy"),c.monthly.repeatMonthDayBool.jqxRadioButton("destroy"),c.monthly.repeatDayOfWeekBool.jqxRadioButton("destroy"),c.monthly.repeatDayOfWeekType.jqxDropDownList("destroy"),c.monthly.repeatDayOfWeek.jqxDropDownList("destroy"),c.yearly.repeatYear.jqxNumberInput("destroy"),c.yearly.repeatYearBool.jqxRadioButton("destroy"),c.yearly.repeatYearMonth.jqxDropDownList("destroy"),c.yearly.repeatYearDay.jqxNumberInput("destroy"),c.yearly.repeatDayOfWeekBool.jqxRadioButton("destroy"),c.yearly.repeatDayOfWeekType.jqxDropDownList("destroy"),c.yearly.repeatDayOfWeek.jqxDropDownList("destroy"),c.yearly.repeatDayOfWeekMonth.jqxDropDownList("destroy"),c.resetExceptions.jqxCheckBox("destroy"),c.repeat.jqxDropDownList("destroy"),c.repeatEndPanel.repeatEndNever.jqxRadioButton("destroy"),c.repeatEndPanel.repeatEndAfter.jqxRadioButton("destroy"),c.repeatEndPanel.repeatEndAfterValue.jqxNumberInput("destroy"),c.repeatEndPanel.repeatEndOn.jqxRadioButton("destroy"),c.repeatEndPanel.repeatEndOnValue.jqxDateTimeInput("destroy"),b._editDialog.jqxWindow("destroy")}b.menu&&b.menu.jqxMenu("destroy"),b.dateTimeInput&&b.dateTimeInput.jqxDateTimeInput("destroy"),b.toolbarLeftButton.jqxButton("destroy"),b.toolbarRightButton.jqxButton("destroy");var e=b.editRecurrenceDialog.find("button");e.jqxButton("destroy"),b.editRecurrenceDialog&&b.editRecurrenceDialog.jqxWindow("destroy"),b.vScrollBar.jqxScrollBar("destroy"),b.hScrollBar.jqxScrollBar("destroy"),delete b.vScrollBar,delete b.hScrollBar,delete b._mousewheelfunc,a.jqx.utilities.resize(b.host,null,!0),b.host.remove()},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2==Object.keys(c).length&&(a.host.height(a.height),a.host.width(a.width),a._updatesize(!1,!0))},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)&&e!==d)if("filterable"==c)b._render();else if("view"==c)b.setView(e);else if("views"==c){b._columns=null,b._views=new Array,b._view=b.view;for(var f=0;f<b.views.length;f++)"string"===a.type(b.views[f])?b._views.push({type:b.views[f]}):b._views.push(b.views[f]);for(var f=0;f<b._views.length;f++)if(b._views[f].type==b.view){b._view=f;break}b._render()}else if("height"===c)b._hostWidth=null,b._hostHeight=null,b.host.height(b.height),b.host.width(b.width),b._updatesize(!1,!0);else if("width"===c)b._hostWidth=null,b._hostHeight=null,b.host.height(b.height),b.host.width(b.width),b._updatesize(!0,!1);else if("source"===c)b.updateBoundData();else if("resources"==c)b.updateBoundData();else if("columns"===c||"columnGroups"===c)b._columns=null,b._render();else if("selectionMode"===c)b.selectionMode=e.toLowerCase();else if("touchMode"==c)b._removeHandlers(),b.touchDevice=null,b.vScrollBar.jqxScrollBar({touchMode:e}),b.hScrollBar.jqxScrollBar({touchMode:e}),b.refresh(),b._addHandlers();else{if("enableHover"==c)return;"showLegend"==c?(b.legendbartop.show(),b.legendbarbottom.show(),b.refresh()):"disabled"==c?(e?b.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):b.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),b.host.find(".jqx-grid-group-collapse").css("cursor",e?"default":"pointer"),b.host.find(".jqx-grid-group-expand").css("cursor",e?"default":"pointer")):"columnsHeight"==c?b._render():"localization"==c?(b._render(),b.editRecurrenceDialog&&(b.editRecurrenceDialog.jqxWindow("destroy"),b.createEditRecurrenceDialog())):"theme"==c?(a.jqx.utilities.setTheme(d,e,b.host),b._editDialog&&a.jqx.utilities.setTheme(d,e,b._editDialog),b.editRecurrenceDialog&&a.jqx.utilities.setTheme(d,e,b.editRecurrenceDialog),b.menu&&b.menu.jqxMenu({theme:b.theme}),b.vScrollBar.jqxScrollBar({theme:b.theme}),b.hScrollBar.jqxScrollBar({theme:b.theme}),b.refresh()):"date"===c?b.navigateTo(e):b.refresh()}},_rendercolumnheader:function(a,b,c,d){var e="4px";d.columnGroups?(e=c/2-this._columnheight/2,e<0&&(e=4),e+="px"):25!=this.columnsHeight&&(e=this.columnsHeight/2-this._columnheight/2,e<0&&(e=4),e+="px");var f='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+b+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+e+"; margin-top: "+e+';"><span style="text-overflow: ellipsis; cursor: default;">'+a+"</span></div>";if(this.columnRenderer){var g=this.columnRenderer(a,b,c,f);if(void 0!=g)return g}return f}})}(jqxBaseFramework),function(a){"use strict";a.jqx.scheduler||(a.jqx.scheduler={}),a.jqx.scheduler.utilities={weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},guid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()},areWeekDaysIncluded:function(b,c){var d=!1;return a.each(b,function(a,b){if(b===c)return d=!0,!1}),d},getStartOfDay:function(b){var c=new a.jqx.date(b.year(),b.month(),b.day(),0,0,0);return c.timeZone=b.timeZone,c},getEndOfDay:function(b){var c=new a.jqx.date(b.year(),b.month(),b.day(),23,59,59);return c.timeZone=b.timeZone,c},getDaysCount:function(a,b){for(var c=1;a<b;)a.day()!=b.day()&&c++,a=a.addDays(1);return c},getStartOfWeek:function(a,b){var c=a.dayOfWeek(),d=b.firstDay;c<d&&(c+=7);var e=c-d,f=a.addDays(-e);return f.date()},getEndOfWeek:function(a,b,c){var d=7,e=that.getStartOfWeek(a,dateTimeFormat,c);return e.addDays(d)},getEndOfMonth:function(b,c){var d=b.daysInMonth(),e=new a.jqx.date(b.year(),b.month(),d,23,59,59);return e.timeZone=b.timeZone,e},rangeIntersection:function(a,b,c,d){var e=a.valueOf(),f=c.valueOf(),g=b.valueOf(),h=d.valueOf();if(f>=e&&f<g)return!0;if(f<e&&h>e)return!0;if(e==f||g==h)return!0;if(e<f){if(g>f&&g<h)return!0;if(g>h)return!0}else{if(h>e&&h<g)return!0;if(h>g)return!0}return!1},rangeContains:function(a,b,c,d){return a<=c&&d<=b},monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],msPerDay:864e5,maxYear:9999,ORDINAL_BASE:new Date(1970,0,1),getYearDay:function(b){var c=new Date(b.getFullYear(),b.getMonth(),b.getDate());return Math.ceil((c-new Date(b.getFullYear(),0,1))/a.jqx.scheduler.utilities.msPerDay)+1},isLeapYear:function(a){return a instanceof Date&&(a=a.getFullYear()),a%4===0&&a%100!==0||a%400===0},tzOffset:function(a){return 60*a.getTimezoneOffset()*1e3},monthRange:function(b,c){var d=new Date(b,c,1);return[a.jqx.scheduler.utilities.getWeekday(d),a.jqx.scheduler.utilities.getMonthDays(d)]},getMonthDays:function(b){var c=b.getMonth();return 1==c&&a.jqx.scheduler.utilities.isLeapYear(b)?29:a.jqx.scheduler.utilities.monthDays[c]},getWeekday:function(a){var b=[6,0,1,2,3,4,5];return b[a.getDay()]},combine:function(a,b){return b=b||a,new Date(a.getFullYear(),a.getMonth(),a.getDate(),b.getHours(),b.getMinutes(),b.getSeconds())},sort:function(a){a.sort(function(a,b){return a.getTime()-b.getTime()})},timeToUntilString:function(a){for(var b,c=new Date(a),d=[c.getUTCFullYear(),c.getUTCMonth()+1,c.getUTCDate(),"T",c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),"Z"],e=0;e<d.length;e++)b=d[e],!/[TZ]/.test(b)&&b<10&&(d[e]="0"+String(b));return d.join("")},untilStringToDate:function(a){var b=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,c=b.exec(a);if(!c)throw new Error("Invalid UNTIL value: "+a);return new Date(Date.UTC(c[1],c[2]-1,c[3],c[5]||0,c[6]||0,c[7]||0))},Time:function(a,b,c){this.hour=a,this.minute=b,this.second=c,this.that=this,this.getHours=function(){return that.hour},this.getMinutes=function(){return that.minute},this.getSeconds=function(){return that.second},this.getTime=function(){return 1e3*(60*that.hour*60+60*that.minute+that.second)}}},a.jqx.scheduler.appointment=function(){var b=this;if(b.from=new a.jqx.date,b.to=(new a.jqx.date).addHours(1),b.subject="",b.description="",b.location="",b.tooltip="",b.hidden=!1,b.resourceId=null,b.id="",b.background=null,b.color=null,b.borderColor=null,b.status="busy",b.style=null,b.exceptions=new Array,b.exceptionDates=new Array,b.recurrencePattern=null,b.recurrenceException=new Array,b.occurrenceEnumerator=null,b.rootAppointment=null,b.hiddenByResourceId=!1,b.draggable=!0,b.resizable=!0,b.recurrentAppointment=!1,b.allDay=!1,b.readOnly=!1,b.showStatus=!0,b.timeZone=null,b.scheduler=null,b.elements=new Array,b.appointmentObject=!0,b.duration=function(){var c=b.to-b.from,d=1e4*c;return new a.jqx.timeSpan(d)},b.toJSON=function(a){var c=function(a){return(a<10?"0":"")+a},d=function(a,b){return a?b?""+a.getUTCFullYear()+"-"+c(a.getUTCMonth()+1)+"-"+c(a.getUTCDate())+"T"+c(a.getUTCHours())+":"+c(a.getUTCMinutes())+":"+c(a.getUTCSeconds())+"Z":""+a.getFullYear()+"-"+c(a.getMonth()+1)+"-"+c(a.getDate())+"T"+c(a.getHours())+":"+c(a.getMinutes())+":"+c(a.getSeconds())+"Z":""},e=function(){for(var a="",c=0;c<b.recurrenceException.length;c++)a+=b.recurrenceException[c].toString(),c<b.recurrenceException.length-1&&(a+=",");return a},f={};return f.id=b.id,f.from=d(b.from.toDate(),a),f.to=d(b.to.toDate(),a),f.subject=b.subject,f.status=b.status,f.location=b.location,f.description=b.description,f.title=b.title,f.resourceId=b.resourceId,b.recurrencePattern?f.recurrencePattern=b.recurrencePattern.toString():f.recurrencePattern="",b.recurrenceException&&b.recurrenceException.length>0?f.recurrenceException=e():f.recurrenceException="",f.dtstamp=d(new Date,a),JSON.stringify(f)},b.toString=function(a){var c=function(a){for(var b="";a.length>75;)b+=a.substr(0,75)+"\n",a=" "+a.substr(75);return b+=a},d=function(a){return(a<10?"0":"")+a},e=function(a,b){return a?b?""+a.getFullYear()+d(a.getMonth()+1)+d(a.getDate())+"T"+d(a.getHours())+d(a.getMinutes())+d(a.getSeconds()):""+a.getUTCFullYear()+d(a.getUTCMonth()+1)+d(a.getUTCDate())+"T"+d(a.getUTCHours())+d(a.getUTCMinutes())+d(a.getUTCSeconds())+"Z":""},f=function(){for(var c="",d=0;d<b.recurrenceException.length;d++)c+=e(b.recurrenceException[d].toDate(),a),d<b.recurrenceException.length-1&&(c+=",");return c},g=b.status;return g||(g="CONFIRMED"),"busy"==g.toLowerCase()&&(g="CONFIRMED"),"tentative"==g.toLowerCase()&&(g="TENTATIVE"),"free"==g.toLowerCase()&&(g="CANCELLED"),"outOfOffice"==g.toLowerCase()&&(g="CANCELLED"),"BEGIN:VEVENT\nUID:"+b.id+"\nDTSTAMP:"+e(new Date,a)+"\n"+c("TITLE:"+b.subject)+"\nDTSTART:"+e(b.from.toDate(),a)+"\nDTEND:"+e(b.to.toDate(),a)+"\n"+(b.recurrencePattern?"RRULE:"+b.recurrencePattern.toString()+"\n":"")+(b.recurrenceException&&b.recurrenceException.length>0?"EXDATE:"+f()+"\n":"")+(b.subject?c("SUMMARY:"+b.subject)+"\n":"")+"TRANSP:OPAQUE\n"+(b.status?c("STATUS:"+g)+"\n":"")+(b.description?c("DESCRIPTION:"+b.description)+"\n":"")+(b.location?c("LOCATION:"+b.location)+"\n":"")+"END:VEVENT"},b.range=function(){return b.allDay?{from:a.jqx.scheduler.utilities.getStartOfDay(b.from),to:a.jqx.scheduler.utilities.getEndOfDay(b.to)}:{from:b.from,to:b.to}},b.clearRecurrence=function(){b.recurrencePattern&&(b.exceptions=new Array,b.exceptionDates=new Array,b.recurrencePattern=null,b.recurrenceException=new Array,
b.hidden=!1)},b.isAllDayAppointment=function(){return this.duration().days()>=1||this.allDay},b.cloneAppointmentAttributes=function(a){a.subject=b.subject,a.description=b.description,a.location=b.location,a.tooltip=b.tooltip,a.resourceId=b.resourceId,a.category=b.category,a.status=b.status,a.rootAppointment=b,a.color=b.color,a.borderColor=b.borderColor,a.background=b.background,a.hidden=b.hidden,a.timezone=b.timeZone,a.style=b.style,a.hiddenByResourceId=b.hiddenByResourceId},b.createOccurrence=function(c){if(null==c)return null;var d=new a.jqx.scheduler.appointment;d.allDay=b.allDay;var e=b.duration();return b.allDay&&(e=new a.jqx.timeSpan(1e4*(b.to-b.from))),d.from=c,d.to=c.add(e),d.occurrenceFrom=c.clone(),d.subject=b.subject,d.description=b.description,d.location=b.location,d.tooltip=b.tooltip,d.resourceId=b.resourceId,d.category=b.category,d.status=b.status,d.rootAppointment=b,d.color=b.color,d.draggable=b.draggable,d.resizable=b.resizable,d.borderColor=b.borderColor,d.background=b.background,d.recurrentAppointment=!0,d.timeZone=b.timeZone,d.style=b.style,d.hiddenByResourceId=b.hiddenByResourceId,d.boundAppointment=b.boundAppointment,b.hiddenByResourceId&&(d.hidden=!0),d.id=b.id+"."+a.jqx.scheduler.utilities.guid(),b.hidden=!0,b.occurrenceIndex++,d},b.clone=function(){var c=new a.jqx.scheduler.appointment;return c.allDay=b.allDay,c.from=b.from.clone(),c.to=b.to.clone(),c.subject=b.subject,c.description=b.description,c.location=b.location,c.tooltip=b.tooltip,c.resourceId=b.resourceId,c.category=b.category,c.status=b.status,c.color=b.color,c.borderColor=b.borderColor,c.background=b.background,c.style=b.style,c.timeZone=b.timeZone,c.hiddenByResourceId=b.hiddenByResourceId,b.hiddenByResourceId&&(c.hidden=!0),c.id=b.id+"."+a.jqx.scheduler.utilities.guid(),c},b.isRecurrentAppointment=function(){return b.recurrentAppointment||null!=b.recurrencePattern},b.anyExceptions=function(){return null!=b.exceptions&&b.exceptions.length>0},b.anyOccurrences=function(){return null!=b.occurrenceEnumerator&&b.occurrenceEnumerator.getNextAppointment()},b.isException=function(){var a=b.rootAppointment||this;if(!a.recurrenceException)return!1;for(var c=0;c<a.recurrenceException.length;c++){var d=a.recurrenceException[c];if(b.occurrenceFrom&&d.equals(b.occurrenceFrom))return!0}return!1},b.getOccurrences=function(c,d){b.occurrenceIndex=0;var e=null!==c?c:b.from,f=new a.jqx.scheduler.recurrentAppointmentsList(b,b.calendar,e,d,b.scheduler);return b.occurrences=f.list,f.list},1===arguments.length)if("object"==a.type(arguments[0]))for(var c in arguments[0]){var d=arguments[0][c];void 0!==this[c]&&(this[c]=d)}else b.from=arguments[0],b.to=new a.jqx.date(b.from).addHours(1);else 2===arguments.length?(b.from=arguments[0],b.to=arguments[1]):3===arguments.length?(b.from=arguments[0],b.to=arguments[1],b.subject=arguments[2]):3===arguments.length&&(b.from=arguments[0],b.to=arguments[1],b.subject=arguments[2],b.description=arguments[3]);null!=b.recurrencePattern&&b.recurrencePattern.setFrom(b.from)},a.jqx.scheduler.recurrentAppointmentsList=function(){var b=this;return b.recurrentAppointment=null,b.currentTime=null,b.calendar=a.jqx.scheduler.calendar,b.from=new a.jqx.date(0),b.to=new a.jqx.date(9999,12,31),b.foundItems=0,b.list=new Array,b.scheduler=null,b.getOccurrences=function(c,d,e){return void 0==c?b.list:new a.jqx.scheduler.recurrentAppointmentsList(c,b.calendar,d,e).list},b.current=function(){return b.recurrentAppointment.createOccurrence(b.currentTime)},b.fillList=function(){b.currentTime=null,b.foundItems=0,b.list=new Array;var a=b.recurrentAppointment.recurrencePattern;if(a.step=0,a.current=0,a.currentYearDay=0,null==a)return!1;for(;b.getNextAppointment(a);){var c=b.current();c&&b.list.push(c)}},b.getNextAppointment=function(a){if(null==b.recurrentAppointment)return!1;var c=4294967295,d=(this.scheduler._views[this.scheduler._view].type,this.scheduler._views[this.scheduler._view]),e=0;switch(a.freq){case"weekly":e=7;break;case"monthly":e=31;break;case"yearly":e=365}for(var f=0;f<c;f++){var g=a.getNewOccurenceDate();if(a.currentTime=g,a.to<g&&a.to.addDays(e)>=g||b.to<g&&b.to.addDays(e)>=g)return b.currentTime=null,!0;if(a.to.addDays(e)<g||b.to.addDays(e)<g)return b.currentTime=null,!1;var h=!0;if(h=b.getCanSetTime(a,g,h),a.canCreateNewOccurence(g,b.calendar)){var i=!0;!1===d.showWeekends&&(6!=g.dayOfWeek()&&0!=g.dayOfWeek()||(i=!1)),i&&b.foundItems++}if(h)return b.currentTime=g,!(b.foundItems>a.count)}return!1},b.getCanSetTime=function(a,c,d){return a.canCreateNewOccurence(c,b.calendar)||(d=!1),c<b.from&&c.add(b.recurrentAppointment.duration())<=b.from&&(d=!1),b.to<=c&&(d=!1),d},b.isException=function(a,c,d){for(var e=b.recurrentAppointment.exceptions,f=0;f<e.length;f++)if(d.isDateInExceptionAppointment(a,c,e[f])&&-1===d.newExceptions.indexOf(e[f]))return!0;return!1},arguments&&arguments.length>0&&(b.recurrentAppointment=arguments[0],arguments[1]&&(b.calendar=arguments[1]),arguments[2]&&(b.from=arguments[2]),arguments[3]&&(b.to=arguments[3]),arguments[4]&&(b.scheduler=arguments[4]),void 0===arguments[2]&&(b.from=new a.jqx.date(0),b.to=new a.jqx.date(9999,12,31)),b.fillList()),b},a.jqx.scheduler.recurrencePattern=function(){var b=this,c={from:new a.jqx.date(0),to:new a.jqx.date(9999,12,31),count:1e3,interval:1,exceptions:new Array,newExceptions:new Array,month:1,day:1,current:0,currentYearDay:0,step:0,days:[],bynweekday:[],isEveryWeekDay:!0,timeZone:null,weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},freq:"daily",bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null};return a.extend(!0,b,c),b.getNewOccurenceDate=function(){var c=function(a,b){var c=0,d=[];if(a instanceof Array)for(;c<b;c++)d[c]=[].concat(a);else for(;c<b;c++)d[c]=a;return d},d=function(a,b){var c=a%b;return c*b<0?c+b:c},e=function(a,b){1===arguments.length&&(b=a,a=0);for(var c=[],d=a;d<b;d++)c.push(d);return c},f=[0,31,60,91,121,152,182,213,244,274,305,335,366],g=[0,31,59,90,120,151,181,212,243,273,304,334,365],h=b.from.year(),i=[6,0,1,2,3,4,5],j=function(a){b.yearlen=a%4!=0||a%100==0&&a%400!=0?365:366,b.nextyearlen=(1+a)%4!=0||(1+a)%100==0&&(1+a)%400!=0?365:366;var c=(new Date(a,0,1),i[new Date(a,0,1).getDay()]),d=function(){for(var a=[],b=0;b<55;b++)a=a.concat(e(7));return a}();365==b.yearlen?(b.wdaymask=d.slice(c),b.mrange=[].concat(g)):(b.wdaymask=d.slice(c),b.mrange=[].concat(f))};switch(j(h),b.freq){case"daily":default:var k=b.from.add(new a.jqx.timeSpan(b.step*b.interval,0,0,0));return b.step++,k;case"weekly":if(b.byweekday){var k=new a.jqx.date(b.from,b.timeZone);if(k=k.addDays(7*(b.step*b.interval)),b.step>=1){k=k.addDays(-b.from.dayOfWeek());var l=k.addDays(7)}else var l=k.addDays(7-b.from.dayOfWeek());for(var m=k,n=0;n<7&&i[m.dayOfWeek()]!==b.byweekday[b.current]&&!(m>=l);n++)m=m.addDays(1);k=m,b.current++,void 0==b.byweekday[b.current]&&(b.current=0,b.step++)}return k;case"monthly":if(b.bynweekday.length>0){var k=new a.jqx.date(b.from.year(),b.from.month(),1,b.from.hour(),b.from.minute(),b.from.second());k.timeZone=b.timeZone,k=k.addMonths(b.step*b.interval),j(k.year());var o=k.month(),p=[b.mrange.slice(o-1,o+1)][0],q=p[0],r=p[1];r-=1,b.nwdaymask=c(0,b.yearlen),b.step++;for(var s=0;s<b.bynweekday.length;s++){var t=b.bynweekday[s][0],u=b.bynweekday[s][1];u<0?(n=r+7*(u+1),n-=d(b.wdaymask[n]-t,7)):(n=q+7*(u-1),n+=d(7-b.wdaymask[n]+t,7)),q<=n&&n<=r&&(b.nwdaymask[n]=1)}var v=n+1,w=v-q,k=new a.jqx.date(b.from.year(),b.from.month(),w,b.from.hour(),b.from.minute(),b.from.second());k.timeZone=b.timeZone,k=k.addMonths((b.step-1)*b.interval)}else if(b.bymonthday.length>0){var k=new a.jqx.date(b.from.year(),b.from.month(),b.bymonthday[b.current],b.from.hour(),b.from.minute(),b.from.second());k.timeZone=b.timeZone,k=k.addMonths(b.step*b.interval),b.current++,b.bymonthday[b.current]||(b.current=0,b.step++)}else{var k=new a.jqx.date(b.from.year(),b.from.month(),b.day,b.from.hour(),b.from.minute(),b.from.second());k.timeZone=b.timeZone,k=k.addMonths(b.step*b.interval),b.step++}return k;case"yearly":if(b.bymonth&&b.bymonth.length>0)if(b.bynweekday.length>0){var k=new a.jqx.date(b.from.year(),b.bymonth[b.current],1,b.from.hour(),b.from.minute(),b.from.second());k.timeZone=b.timeZone,k=k.addYears(b.step*b.interval),j(k.year());var o=k.month(),p=[b.mrange.slice(o-1,o+1)][0],q=p[0],r=p[1];r-=1,b.nwdaymask=c(0,b.yearlen);for(var s=0;s<b.bynweekday.length;s++){var t=b.bynweekday[s][0],u=b.bynweekday[s][1];u<0?(n=r+7*(u+1),n-=d(b.wdaymask[n]-t,7)):(n=q+7*(u-1),n+=d(7-b.wdaymask[n]+t,7)),q<=n&&n<=r&&(b.nwdaymask[n]=1)}var v=n+1,w=v-q;k=new a.jqx.date(k.year(),b.bymonth[b.current],w,b.from.hour(),b.from.minute(),b.from.second()),k.timeZone=b.timeZone,b.step++}else if(b.byyearday.length>0){var k=new a.jqx.date(b.from.year(),b.bymonth[b.current],b.byyearday[b.currentYearDay],b.from.hour(),b.from.minute(),b.from.second());k.timeZone=b.timeZone,k=k.addYears(b.step*b.interval),b.currentYearDay++,b.byyearday[b.currentYearDay]||(b.currentYearDay=0,b.current++,b.bymonth[b.current]||(b.current=0,b.step++))}else{var k=new a.jqx.date(b.from.year(),b.bymonth[b.current],b.from.day(),b.from.hour(),b.from.minute(),b.from.second());k.timeZone=b.timeZone,k=k.addYears(b.step*b.interval),b.current++,b.bymonth[b.current]||(b.current=0,b.step++)}else if(b.byyearday&&b.byyearday.length>0){var k=new a.jqx.date(b.from.year(),b.from.month(),b.byyearday[b.current],b.from.hour(),b.from.minute(),b.from.second());k.timeZone=b.timeZone,k=k.addYears(b.step*b.interval),b.current++,b.byyearday[b.current]||(b.current=0,b.step++)}else if(null!=b.byweekno){var x=function(c,d){var e=1,f=new a.jqx.date(d.year(),1,1,d.hour(),d.minute(),d.second());for(f.timeZone=b.timeZone;e!=c&&(f=f.addDays(7),e++,!(e>53)););for(;a.jqx.scheduler.utilities.getWeekday(f.toDate())!=b.wkst;)f=f.addDays(1);return f},k=b.from.addYears(b.step*b.interval);if(k=x(b.byweekno[b.current],k),b.byweekday){for(var m=k,n=0;n<7&&i[m.dayOfWeek()]!==b.byweekday[b.currentYearDay];n++)m=m.addDays(1);k=m,b.currentYearDay++,b.byweekday[b.currentYearDay]||(b.currentYearDay=0,b.current++,b.byweekno[b.current]||(b.current=0,b.step++))}else b.current++,b.byweekno[b.current]||(b.current=0,b.step++)}else{var k=new a.jqx.date(b.from.year(),b.month,b.day,b.from.hour(),b.from.minute(),b.from.second());k.timeZone=b.timeZone,k=k.addYears(b.step*b.interval),b.step++}return k}},b.isDateInExceptionAppointment=function(a,c,d){switch(b.freq){case"daily":case"weekly":default:return a.year()==d.from.year()&&a.dayOfYear()==d.from.dayOfYear()}},b.createNewPattern=function(){if(b.ical){var c=new a.jqx.scheduler.recurrencePattern(b.ical);return c}var c=new a.jqx.scheduler.recurrencePattern;return c.from=b.from,c.to=b.to,c.count=b.count,c.interval=b.interval,c.exceptions=b.exceptions,c.newExceptions=b.newExceptions,c.weekDays=b.weekDays,c.isEveryWeekDay=b.isEveryWeekDay,c.month=b.month,c.day=b.day,c.current=b.current,c.currentYearDay=b.currentYearDay,c.step=b.step,c.days=b.days,c.bynweekday=b.bynweekday,c.bymonth=b.bymonth,c.bymonthday=b.bymonthday,c.byyearday=b.byyearday,c.byweekno=b.byweekno,c.byweekday=b.byweekday,c.freq=c.freq,c.timeZone=c.timeZone,c},b.equals=function(a){var c=b.from==a.from&&b.to==a.to&&b.count===a.count&&b.interval===a.interval&&b.day===a.day&&b.month===a.month;return c},b.isDayOfWeekIncluded=function(c){var d=c.dayOfWeek();return a.jqx.scheduler.utilities.areWeekDaysIncluded(b.weekDays,d)},b.getWeekIndexFromDate=function(c,d){var e=d.firstDay,f=a.jqx.scheduler.utilities.getStartOfWeek(b.from,d,e),g=new a.jqx.timeSpan(c.subtract(f));return parseInt(g.days()/7)},b.canCreateNewOccurence=function(a,c){a.toDate();switch(b.freq){case"daily":default:return(!b.bymonth||b.bymonth.indexOf(a.month())!=-1)&&(!b.isEveryWeekDay||!!b.isDayOfWeekIncluded(a,c));case"weekly":var d=b.getWeekIndexFromDate(a,c);if(b.bymonth&&b.bymonth.indexOf(a.month())==-1)return!1;if(d%b.interval!=0)return!1;if(b.weekDays=={}){if(b.from.dayOfWeek()!=start.dayOfWeek())return!1}else if(!b.isDayOfWeekIncluded(a,c))return!1;break;case"monthly":case"yearly":if(b.bymonth&&b.bymonth.indexOf(a.month())==-1)return!1;if(a<b.from)return!1}return!0},b.toString=function(){var b={};b.dtstart=this.from.toDate(),b.until=this.to?this.to.toDate():null,b.count=this.count;var c={};c.YEARLY=0,c.MONTHLY=1,c.WEEKLY=2,c.DAILY=3,c.HOURLY=4,c.MINUTELY=5,c.SECONDLY=6,b.freq=c[this.freq.toUpperCase()],"YEARLY"==b.freq&&(b.bymonth=this.bymonth?this.bymonth:(new Array).push(this.month)),b.byweekday=new Array;var d=["MO","TU","WE","TH","FR","SA","SU"];a.each(this.weekDays,function(){var a=this;a--,a<0&&(a=6),b.byweekday.push(a)}),void 0!=this.byyearday&&(b.byyearday=this.byyearday),void 0!=this.byweekno&&(b.byweekno=this.byweekno),b.bymonthday=this.bymonthday,b.wkst=d[this.wkst],b.interval=this.interval;var e=new a.jqx.ICalRule(b);return e.toString()},b.init=function(c){var d=new a.jqx.ICalRule(b.ical,c),e=d.options;if(b.from=e.dtstart?new a.jqx.date(e.dtstart,b.timeZone):b.from,b.count=void 0!=e.count?e.count:b.count,b.freq=d.FREQUENCIES[e.freq].toLowerCase(),b.interval=void 0!=e.interval?e.interval:b.interval,b.to=e.until?new a.jqx.date(e.until,b.timeZone):b.to,b.wkst=e.wkst,b.bymonth=e.bymonth,b.bymonth&&b.bymonth.length>0?b.month=b.bymonth[0]:b.month=b.from.month(),b.day=b.from.day(),void 0!=e.byweekday){b.weekDays={};for(var f=0;f<e.byweekday.length;f++){var g=e.byweekday[f];switch(g){case 0:b.weekDays.Monday=1;break;case 1:b.weekDays.Tuesday=2;break;case 2:b.weekDays.Wednesday=3;break;case 3:b.weekDays.Thursday=4;break;case 4:b.weekDays.Friday=5;break;case 5:b.weekDays.Saturday=6;break;case 6:b.weekDays.Sunday=0}}b.byweekday=e.byweekday}return b.byweekno=e.byweekno,e.bynweekday&&(b.bynweekday=e.bynweekday),void 0!=e.bymonthday&&(b.bymonthday=e.bymonthday.sort(),b.bymonthday[0]&&(b.day=b.bymonthday[0])),void 0!=e.byyearday&&(b.day=e.byyearday[0],b.byyearday=e.byyearday.sort()),e},b.setFrom=function(a){b.from=a.clone(),b.ical&&b.init(a)},1==arguments.length&&(b.ical=arguments[0],b.init()),b},a.jqx.scheduler.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},a.jqx.ICalRule=function(b,c){var d=this,e=function(a,b){1===arguments.length&&(b=a,a=0);for(var c=[],d=a;d<b;d++)c.push(d);return c},f=function(a,b){var c=0,d=[];if(a instanceof Array)for(;c<b;c++)d[c]=[].concat(a);else for(;c<b;c++)d[c]=a;return d},g=function(a){return!(a instanceof Array&&0==a.length)&&Boolean(a)},h=function(a,b){return a.indexOf(b)!=-1},i=([].concat(f(1,31),f(2,28),f(3,31),f(4,30),f(5,31),f(6,30),f(7,31),f(8,31),f(9,30),f(10,31),f(11,30),f(12,31),f(1,7)),[].concat(f(1,31),f(2,29),f(3,31),f(4,30),f(5,31),f(6,30),f(7,31),f(8,31),f(9,30),f(10,31),f(11,30),f(12,31),f(1,7)),e(1,29)),j=e(1,30),k=e(1,31),l=e(1,32);[].concat(l,j,l,k,l,k,l,l,k,l,k,l,l.slice(0,7)),[].concat(l,i,l,k,l,k,l,l,k,l,k,l,l.slice(0,7));i=e(-28,0),j=e(-29,0),k=e(-30,0),l=e(-31,0);var m=([].concat(l,j,l,k,l,k,l,l,k,l,k,l,l.slice(0,7)),[].concat(l,i,l,k,l,k,l,l,k,l,k,l,l.slice(0,7)),function(){for(var a=[],b=0;b<55;b++)a=a.concat(e(7));return a}(),function(a,b){var c=this;if(0===b)throw new Error("Can't create weekday with n == 0");this.weekday=a,this.n=b,this.nth=function(a){return c.n==a?c:new m(c.weekday,a)},this.equals=function(a){return c.weekday==a.weekday&&c.n==a.n},this.toString=function(){var a=["MO","TU","WE","TH","FR","SA","SU"][c.weekday];return this.n&&(a=(c.n>0?"+":"")+String(c.n)+a),a},this.getJsWeekday=function(){return 6==c.weekday?0:c.weekday+1}});this.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],this.YEARLY=0,this.MONTHLY=1,this.WEEKLY=2,this.DAILY=3,this.HOURLY=4,this.MINUTELY=5,this.SECONDLY=6,this.MO=new m(0),this.TU=new m(1),this.WE=new m(2),this.TH=new m(3),this.FR=new m(4),this.SA=new m(5),this.SU=new m(6);var n={freq:null,dtstart:null,interval:1,wkst:d.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};this._string=null,this.toString=function(){var b,c,e,f,g,i=this.origOptions,j=[];c=Object.keys(i),e=Object.keys(n);for(var k=0;k<c.length;k++)if(h(e,c[k])&&(b=c[k].toUpperCase(),f=i[c[k]],g=[],!(null===f||f instanceof Array&&!f.length))){switch(b){case"FREQ":f=d.FREQUENCIES[i.freq];break;case"WKST":f||(f=0),f=f.toString();break;case"BYWEEKDAY":b="BYDAY",f instanceof Array||(f=[f]);for(var l,o=0;o<f.length;o++)l=f[o],l instanceof m||(l=l instanceof Array?new m(l[0],l[1]):new m(l)),g[o]=l.toString();f=g;break;case"DTSTART":case"UNTIL":f=a.jqx.scheduler.utilities.timeToUntilString(f);break;default:if(f instanceof Array){for(var o=0;o<f.length;o++)g[o]=String(f[o]);f=g}else f=String(f)}j.push([b,f])}for(var p=[],k=0;k<j.length;k++){var q=j[k];p.push(q[0]+"="+q[1].toString())}return p.join(";")},this.parseString=function(b){if(b=b.replace(/^\s+|\s+$/,""),!b.length)return null;var c,e,f,g,h,i=b.split(";"),j={};for(c=0;c<i.length;c++)if(h=i[c].split("="),f=h[0],g=h[1],""!=f)switch(f){case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(g.indexOf(",")!=-1)for(g=g.split(","),e=0;e<g.length;e++)/^[+-]?\d+$/.test(g[e])&&(g[e]=Number(g[e]));else/^[+-]?\d+$/.test(g)&&(g=Number(g));f=f.toLowerCase(),j[f]=g;break;case"BYDAY":var k,l,n,o=g.split(",");for(j.byweekday=[],e=0;e<o.length;e++)n=o[e],2==n.length?(l=d[n],j.byweekday.push(l)):(n=n.match(/^([+-]?\d)([A-Z]{2})$/),k=Number(n[1]),l=n[2],l=d[l].weekday,j.byweekday.push(new m(l,k)));break;case"FREQ":j.freq=d[g];break;case"WKST":j.wkst=d[g];break;case"DTSTART":j.dtstart=a.jqx.scheduler.utilities.untilStringToDate(g);break;case"UNTIL":j.until=a.jqx.scheduler.utilities.untilStringToDate(g);break;case"BYEASTER":j.byeaster=Number(g);break;default:throw new Error("Unknown ICalRule property '"+f+"'")}return d.options=j,j},"string"===a.type(b)?this.options=this.parseString(b):this.options=b||{};var b=this.options;Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=0;d<f;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var f,g,h=[];for(f in e)a.call(e,f)&&h.push(f);if(b)for(g=0;g<d;g++)a.call(e,c[g])&&h.push(c[g]);return h}}()),this.origOptions={};var o=[],p=Object.keys(this.options),q=Object.keys(n);if(p.forEach(function(a){this.origOptions[a]=this.options[a],h(q,a)||o.push(a)},this),o.length)throw new Error("Invalid options: "+o.join(", "));if(!d.FREQUENCIES[this.options.freq]&&null===b.byeaster)throw new Error("Invalid Frequency: "+String(b.freq));q.forEach(function(a){h(p,a)||(b[a]=n[a])});var r=this.options;if(null!==r.byeaster&&(r.freq=this.YEARLY),r.dtstart||(r.dtstart=new Date,r.dtstart.setMilliseconds(0)),c&&(r.dtstart=c.toDate()),null===r.wkst?r.wkst=this.MO.weekday:"number"==typeof r.wkst||(null==r.wkst?r.wkst=this.MO.weekday:r.wkst=r.wkst.weekday),null!==r.bysetpos){"number"==typeof r.bysetpos&&(r.bysetpos=[r.bysetpos]);for(var s=0;s<r.bysetpos.length;s++){var t=r.bysetpos[s];if(0==t||!(-366<=t&&t<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(g(r.byweekno)||g(r.byyearday)||g(r.bymonthday)||null!==r.byweekday||null!==r.byeaster))switch(r.freq){case this.YEARLY:r.bymonth||(r.bymonth=r.dtstart.getMonth()+1),r.bymonthday=r.dtstart.getDate();break;case this.MONTHLY:r.bymonthday=r.dtstart.getDate();break;case this.WEEKLY:r.byweekday=a.jqx.scheduler.utilities.getWeekday(r.dtstart)}if(null===r.bymonth||r.bymonth instanceof Array||(r.bymonth=[r.bymonth]),null===r.byyearday||r.byyearday instanceof Array||(r.byyearday=[r.byyearday]),null===r.bymonthday)r.bymonthday=[],r.bynmonthday=[];else if(r.bymonthday instanceof Array){var u=[],v=[];for(s=0;s<r.bymonthday.length;s++){var t=r.bymonthday[s];t>0?u.push(t):t<0&&v.push(t)}r.bymonthday=u,r.bynmonthday=v}else r.bymonthday<0?(r.bynmonthday=[r.bymonthday],r.bymonthday=[]):(r.bynmonthday=[],r.bymonthday=[r.bymonthday]);if(null===r.byweekno||r.byweekno instanceof Array||(r.byweekno=[r.byweekno]),null===r.byweekday)r.bynweekday=null;else if("number"==typeof r.byweekday)r.byweekday=[r.byweekday],r.bynweekday=null;else if(r.byweekday instanceof m)!r.byweekday.n||r.freq>this.MONTHLY?(r.byweekday=[r.byweekday.weekday],r.bynweekday=null):(r.bynweekday=[[r.byweekday.weekday,r.byweekday.n]],r.byweekday=null);else{var w=[],x=[];for(s=0;s<r.byweekday.length;s++){var y=r.byweekday[s];"number"==typeof y?w.push(y):!y.n||r.freq>this.MONTHLY?w.push(y.weekday):x.push([y.weekday,y.n])}r.byweekday=g(w)?w:null,r.bynweekday=g(x)?x:null}if(null===r.byhour?r.byhour=r.freq<this.HOURLY?[r.dtstart.getHours()]:null:"number"==typeof r.byhour&&(r.byhour=[r.byhour]),null===r.byminute?r.byminute=r.freq<this.MINUTELY?[r.dtstart.getMinutes()]:null:"number"==typeof r.byminute&&(r.byminute=[r.byminute]),null===r.bysecond?r.bysecond=r.freq<this.SECONDLY?[r.dtstart.getSeconds()]:null:"number"==typeof r.bysecond&&(r.bysecond=[r.bysecond]),r.freq>=this.HOURLY)this.timeset=null;else{if(this.timeset=[],r.byhour)for(s=0;s<r.byhour.length;s++)for(var z=r.byhour[s],A=0;A<r.byminute.length;A++)for(var B=r.byminute[A],C=0;C<r.bysecond.length;C++){var D=r.bysecond[C];this.timeset.push(new a.jqx.scheduler.utilities.Time(z,B,D))}a.jqx.scheduler.utilities.sort(this.timeset)}return this}}(jqxBaseFramework),function(a){"use strict";a.extend(a.jqx._jqxScheduler.prototype,{_getexportcolor:function(a){var b=a;if("transparent"==a&&(b="#FFFFFF"),b&&b.toString()||(b="#FFFFFF"),b.toString().indexOf("rgb")!=-1){var c=b.split(",");if(b.toString().indexOf("rgba")!=-1){var d=parseInt(c[0].substring(5)),e=parseInt(c[1]),f=parseInt(c[2]),g=parseInt(c[3].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return 0==d&&0==e&&0==f&&0==g?"#ffffff":"#"+i}var d=parseInt(c[0].substring(4)),e=parseInt(c[1]),f=parseInt(c[2].substring(1,4)),h={r:d,g:e,b:f},i=this._rgbToHex(h);return"#"+i}if(b.toString().indexOf("#")!=-1&&4==b.toString().length){var j=b.toString().substring(1,4);b+=j}return b},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(a){var b=parseInt(a).toString(16);return 1==b.length&&(b="0"+b),b.toUpperCase()},exportData:function(b){var c=this;if(!a.jqx.dataAdapter.ArrayExporter)throw"jqxScheduler: Missing reference to jqxdata.export.js!";var d=this.exportSettings.serverURL,e=this.exportSettings.characterSet,f=this.exportSettings.fileName;void 0===f&&(f="jqxScheduler");var c=this;if("ical"!=b&&"ics"!=b){var g=this.getDataAppointments(),h=new Array,i={},j={},k=this.host.find(".jqx-grid-cell:first");k.removeClass(this.toThemeProperty("jqx-grid-cell-selected")),k.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),k.removeClass(this.toThemeProperty("jqx-grid-cell-hover")),k.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var l="cell",m=1,n="column",o=1,p=a(this.columns.records[0].element),q=0;a.each(this.appointmentDataFields,function(a,d){if(i[d]={},i[d].text=d,i[d].width=100,i[d].formatString="",i[d].localization=c.schedulerLocalization,"from"==a||"to"==a?(i[d].type="date",i[d].formatString=c.exportSettings.dateTimeFormatString):i[d].type="string",i[d].cellsAlign="left",h.push(i[d]),l="cell"+m,n="column"+o,"html"==b||"xls"==b||"pdf"==b){var e=function(a,e,f,g,h,k,l,m,n){j[a]={},void 0!=e&&(j[a]["font-size"]=e.css("font-size"),j[a]["font-weight"]=e.css("font-weight"),j[a]["font-style"]=e.css("font-style"),j[a]["background-color"]=c._getexportcolor(e.css("background-color")),j[a].color=c._getexportcolor(e.css("color")),j[a]["border-color"]=c._getexportcolor(e.css("border-top-color")),f?j[a]["text-align"]="left":(j[a]["text-align"]="left",j[a].formatString="",j[a].dataType="string","from"!=l&&"to"!=l||(j[a].dataType="date",j[a].formatString=c.exportSettings.dateTimeFormatString)),"html"!=b&&"pdf"!=b||(j[a]["border-top-width"]=e.css("border-top-width"),j[a]["border-left-width"]=e.css("border-left-width"),j[a]["border-right-width"]=e.css("border-right-width"),j[a]["border-bottom-width"]=e.css("border-bottom-width"),j[a]["border-top-style"]=e.css("border-top-style"),j[a]["border-left-style"]=e.css("border-left-style"),j[a]["border-right-style"]=e.css("border-right-style"),j[a]["border-bottom-style"]=e.css("border-bottom-style"),f?(0==q&&(j[a]["border-left-width"]=e.css("border-right-width")),j[a]["border-top-width"]=e.css("border-right-width"),j[a]["border-bottom-width"]=e.css("border-bottom-width")):(0==q&&(j[a]["border-left-width"]="1px"),j[a]["border-right-width"]="1px")),f&&(i[d].style=a),i[d].cellStyle=a)};e(n,p,!0,!1,this,c,a),o++,e(l,k,!1,!1,this,c,a),m++}q++});var r=a.jqx.dataAdapter.ArrayExporter(g,i,j,d);if(null==f){this._renderrows();var s=r.exportTo(b);return setTimeout(function(){c.exporting=!1},50),s}r.exportToFile(b,f,d,e),this._renderrows(),setTimeout(function(){c.exporting=!1},50)}else if(c._resources.length>1&&f&&c.resourcesInMultipleICSFiles)for(var g=this.getAppointments(),t=0;t<c._resources.length;t++){for(var u=c._resources[t],v=new Array,w=0;w<g.length;w++){var x=g[w];x.resourceId==u&&v.push(x)}for(var y="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",z=0;z<v.length;z++)y+=v[z].jqxAppointment.toString(),z<v.length-1&&(y+="\n");y+="\nEND:VCALENDAR";for(var A=y.length,B=new Uint8Array(new ArrayBuffer(A)),z=0;z<A;z++)B[z]=y.charCodeAt(z);var C=new Blob([B],{type:"application/calendar"});saveAs(C,f+"_"+u+".ics")}else{for(var g=this.getAppointments(),y="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n",t=0;t<g.length;t++)y+=g[t].jqxAppointment.toString(),t<g.length-1&&(y+="\n");y+="\nEND:VCALENDAR";var A=y.length,B=new Uint8Array(new ArrayBuffer(A));for(t=0;t<A;t++)B[t]=y.charCodeAt(t);var C=new Blob([B],{type:"application/calendar"});if(!f)return y;saveAs(C,f+".ics")}},shadeColor:function(a,b){var c=parseInt(a.slice(1),16),d=b<0?0:255,e=b<0?b*-1:b,f=c>>16,g=c>>8&255,h=255&c;return"#"+(16777216+65536*(Math.round((d-f)*e)+f)+256*(Math.round((d-g)*e)+g)+(Math.round((d-h)*e)+h)).toString(16).slice(1)},hexToRgba:function(b,c){var d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b),e=function(){var b=a.jqx.browser.msie&&a.jqx.browser.version<10;return void 0==this.alpha||b?"rgb("+this.r+", "+this.g+", "+this.b+")":(this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0),"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")")};return void 0==c?d?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16),toString:e}:null:(c>1?c=1:c<0&&(c=0),d?{r:parseInt(d[1],16),g:parseInt(d[2],16),b:parseInt(d[3],16),alpha:c,toString:e}:null)},getAppointmentColors:function(a){var b="",c="",d="";b=this.hexToRgba(a,this.appointmentOpacity).toString(),c=a;var e=function(a){var b=105,c=.299*a.r+.587*a.g+.114*a.b,d=255-c<b?"Black":"White";return d};return d=e(this.hexToRgba(a,.7)),{background:b,color:d,border:c}},getColors:function(a){a==-1&&(a=0);var b="",c="",d="",e=this.resources?this.resources.colorScheme:null;e||(e="scheme01");for(var f=new Array,g=0;g<this.colorSchemes.length;g++)if(this.colorSchemes[g].name==e){f=this.colorSchemes[g].colors;break}for(;a>f.length-1;){var h=parseInt(e.substring(6));h>=27&&(h=0),f=f.concat(this.colorSchemes[h].colors),h++}b=f[a],b=this.hexToRgba(f[a],.7).toString(),c=f[a];var i=function(a){var b=105,c=.299*a.r+.587*a.g+.114*a.b,d=255-c<b?"Black":"White";return d};return d=i(this.hexToRgba(f[a],.7)),{background:b,color:d,border:c}},getAppointments:function(){for(var a=this.uiappointments,b=new Array,c=0;c<a.length;c++){var d=a[c].boundAppointment;d.toString=d.jqxAppointment.toString,b.push(d)}return b},getDataAppointments:function(){for(var b=this.uiappointments,c=new Array,d=0;d<b.length;d++){var e=b[d].boundAppointment,f={};a.each(this.appointmentDataFields,function(b,c){if(f[c]=e[b],"from"!=b&&"to"!=b||"date"!=a.type(e[b])&&(f[c]=e[b].toDate()),"recurrencePattern"==b&&e[b]&&(f[c]=e[b].toString()),"recurrenceException"==b&&e[b]){f[c]="";for(var d=0;d<e[b].length;d++)f[c]+=e[b][d].toString(),d<e[b].length-1&&(f[c]+=",")}try{JSON&&(f.toString=function(){return JSON.stringify(f)})}catch(g){}}),c.push(f)}return c},_refreshColumns:function(){this._initializeColumns(),this.columnsheader=this.columnsheader||a('<div style="overflow: hidden;"></div>'),this.columnsheader.children().remove();var b=this.columnsHeight;b=this._preparecolumnGroups(),this.columnsheader.height(b),this._rendercolumnheaders()},_refreshColumnTitles:function(){var b=this._views[this._view].type,c=this._views[this._view],d=this,e=new Array;if(d.columns.records[0].timeColumn&&e.push({}),c.timeRuler&&c.timeRuler.timeZones)for(var f=0;f<c.timeRuler.timeZones.length;f++)e.push({});for(var g=function(b,f,g){var h="halfHour";c.timeRuler&&c.timeRuler.scale&&(h=c.timeRuler.scale);var i=24,j=0,k=23;if(c.timeRuler){if(void 0!=c.timeRuler.scaleStartHour)var j=parseInt(c.timeRuler.scaleStartHour);if(void 0!=c.timeRuler.scaleEndHour)var k=parseInt(c.timeRuler.scaleEndHour);j<0&&(j=0),k<0&&(k=23),j>23&&(j=0),k>23&&(k=23),i=k-j+1}var l=60,m=2;if(h)switch(h){case"sixtyMinutes":case"hour":m=1;break;case"thirdyMinutes":case"halfHour":m=2;break;case"fifteenMinutes":case"quarterHour":m=4;break;case"tenMinutes":m=6;break;case"fiveMinutes":m=12}var n=(new Array,"auto");c.timeRuler&&c.timeRuler.formatString&&(n=c.timeRuler.formatString);var o=j,p=i,q=b.addHours(o);if(d.rtl)var q=b.addHours(k);for(var r=0;r<p;r++){var s=q.toDate();if("auto"===n)if(0==s.getHours()&&0==s.getMinutes()||12==s.getHours()&&0==s.getMinutes())var t="hh tt";else var t="hh:mm";else if(a.isFunction(n))var t=n(s);else t=n;a.jqx.dataFormat.isDate(s)&&(s=a.jqx.dataFormat.formatdate(s,t,d.schedulerLocalization)),q=d.rtl?q.addMinutes(-l):q.addMinutes(l),e.push({}),d.columns.records[e.length-1].text=s}},h=(this.tableColumns,0);h<this.tableColumns;h++)switch(b){case"dayView":var i=this.getViewStart();!1===c.showWeekends&&(0!==i.dayOfWeek()&&6!==i.dayOfWeek()||(i=i.addDays(1)),0!==i.dayOfWeek()&&6!==i.dayOfWeek()||(i=i.addDays(1))),e.push({}),this.columns.records[e.length-1].text=this._getDayName(i.dayOfWeek());break;case"weekView":case"monthView":for(var f=0;f<7;f++){var j=this.schedulerLocalization.firstDay+f;(!1!==c.showWeekends||0!==f&&6!==f)&&(e.push({}),d.rtl&&(j=6-j),this.columns.records[e.length-1].text=this._getDayName(j))}break;case"timelineDayView":var k=d._resources[h]?d._resources[h]:"Resource"+h;g(d.getViewStart(),k);break;case"timelineWeekView":for(var f=0;f<7;f++){var j=this.schedulerLocalization.firstDay+f;(!1!==c.showWeekends||0!==f&&6!==f)&&(d.rtl&&(j=6-j),
g(d.getViewStart().addDays(f),this._getDayName(j)))}break;case"timelineMonthView":var l=d.getViewStart(),m="auto";c.timeRuler&&c.timeRuler.formatString&&(m=c.timeRuler.formatString);for(var f=0;f<41;f++){var j=l.dayOfWeek();if(!1!==c.showWeekends||0!==j&&6!==j){d.rtl&&(j=6-j);var n=l.toDate();if("auto"===m){var o="dd";n=l.toDate(),1===n.getDate()&&(o="MMM dd")}else if(a.isFunction(m))var o=m(n);else o=m;a.jqx.dataFormat.isDate(n)&&(n=a.jqx.dataFormat.formatdate(n,o,d.schedulerLocalization)),l=l.addDays(1),e.push({}),d.columns.records[e.length-1].text=n}}}for(var p=d.columnsHeight,q=function(a,b){var c=d.columnGroupslevel*d.columnsHeight;return c-=b.level*d.columnsHeight},f=0;f<this.columns.records.length;f++){var r=this.columns.records[f];if(!r.timeColumn){d.columnGroups&&d.columnGroups.length&&(p=q(r.datafield,r));var s=null!=r.renderer?r.renderer(r.text,r.align,p):d._rendercolumnheader(r.text,r.align,p,r);null==s&&(s=d._rendercolumnheader(r.text,r.align,p,d)),null!=r.renderer&&(s=a(s)),a(r.element).html(s)}}},initRepeatPanels:function(b,c,d){var e=this,f=a("<div></div>");c.append(f);var g=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogRepeatString+"</div>").appendTo(f),h=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),i=a("<div></div>").appendTo(h),j=a("<div></div>");c.append(j);var k=a("<div></div>");j.append(k);var l=function(b,c){var f=a("<div></div>").appendTo(b),g=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogRepeatEndString+"</div>").appendTo(f),h=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),i=a("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+e.schedulerLocalization.editDialogRepeatNeverString+"</span></div>").appendTo(h);i.jqxRadioButton({rtl:e.rtl,groupName:"end"+c,theme:e.theme,width:200,height:25,checked:!0}),e.editDialogFields[c].repeatEndNever=i,e.editDialogFields[c].repeatEndNeverLabel=g;var j=a("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(f),k=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),l=a("<div style='position:relative;  float:left;'><span style='margin-left:2px;'>"+e.schedulerLocalization.editDialogRepeatAfterString+"</span></div>").appendTo(k);l.jqxRadioButton({rtl:e.rtl,groupName:"end"+c,theme:e.theme,width:60,height:25,checked:!1});var m=a("<div style='margin-left: 3px; float:left;'></div>").appendTo(k);m.jqxNumberInput({rtl:e.rtl,decimal:10,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:e.theme});a("<div style='float: left; margin-left: 5px; line-height:25px;'>"+e.schedulerLocalization.editDialogRepeatOccurrencesString+"</div>").appendTo(k);e.editDialogFields[c].repeatEndAfter=l,e.editDialogFields[c].repeatEndAfterValue=m,e.editDialogFields[c].repeatEndAfterLabel=j;var n=a("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(f),o=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),p=a("<div style='position:relative; float:left;'><span style='margin-left:2px;'>"+e.schedulerLocalization.editDialogRepeatOnString+"</span></div>").appendTo(o);p.jqxRadioButton({rtl:e.rtl,groupName:"end"+c,theme:e.theme,width:60,height:25,checked:!1});var q=a("<div style='margin-left: 3px; float:left;'></div>").appendTo(o);q.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:e.rtl,localization:e._getDateTimeInputLocalization(),firstDayOfWeek:e.schedulerLocalization.firstDay,todayString:e.schedulerLocalization.todayString,clearString:e.schedulerLocalization.clearString,value:d,formatString:e.editDialogDateFormatString,height:25,width:150,theme:e.theme});q.jqxDateTimeInput("getInstance");return e.editDialogFields[c].repeatEndOn=p,e.editDialogFields[c].repeatEndOnValue=q,e.editDialogFields[c].repeatEndOnLabel=n,f};e.editDialogFields.repeatEndPanel&&(e.editDialogFields.repeatEndPanel.repeatEndNever.jqxRadioButton("destroy"),e.editDialogFields.repeatEndPanel.repeatEndAfter.jqxRadioButton("destroy"),e.editDialogFields.repeatEndPanel.repeatEndAfterValue.jqxNumberInput("destroy"),e.editDialogFields.repeatEndPanel.repeatEndOn.jqxRadioButton("destroy"),e.editDialogFields.repeatEndPanel.repeatEndOnValue.jqxDateTimeInput("destroy")),k.detach(),e.editDialogFields.repeatEndPanel={},e.editDialogFields.repeatEndPanelContainer=k,l(k,"repeatEndPanel");var m=function(){var b=a("<div style='visibility: hidden;'></div>").appendTo(a(document.body)),c=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(b),d=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(b),f=a("<div style='float:left;'></div>").appendTo(d);f.jqxNumberInput({rtl:e.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:e.theme});a("<div style='float: left; margin-left: 5px; line-height:25px;'>"+e.schedulerLocalization.editDialogRepeatEveryDayString+"</div>").appendTo(d);e.editDialogFields.daily={},e.editDialogFields.daily.repeatDayInterval=f,e.editDialogFields.daily.repeatDayLabel=c,e.editDialogFields.daily.panel=b,e.editDialogFields.daily.repeatDayInterval&&e.editDialogFields.daily.repeatDayInterval.jqxNumberInput("destroy"),b.detach(),e.editDialogFields.weekly={};var g=a("<div style='visibility: hidden;'></div>").appendTo(a(document.body)),h=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(g),i=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(g),j=a("<div style='float:left;'></div>").appendTo(i);j.jqxNumberInput({rtl:e.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:e.theme});a("<div style='float: left; margin-left: 5px; line-height:25px;'>"+e.schedulerLocalization.editDialogRepeatEveryWeekString+"</div>").appendTo(i);e.editDialogFields.weekly.repeatWeekInterval=j,e.editDialogFields.weekly.repeatWeekIntervalLabel=h;var k=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(g),l=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(g),m=a("<div style='float:left;'></div>").appendTo(l);e.editDialogFields.weekly.repeatDaysLabel=k,e.editDialogFields.weekly.repeatDays=new Array;for(var n=0;n<7;n++){var o=e._getDayName(n,"firstTwoLetters"),p=a("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+o+"</span></div>");m.append(p);var q=1==n;p.jqxCheckBox({rtl:e.rtl,height:25,checked:q,width:50,theme:e.theme}),e.editDialogFields.weekly.repeatDays.push(p)}if(e.editDialogFields.weekly.panel=g,e.editDialogFields.weekly.repeatWeekInterval&&e.editDialogFields.weekly.repeatWeekInterval.jqxNumberInput("destroy"),e.editDialogFields.weekly.repeatDays)for(var n=0;n<e.editDialogFields.weekly.repeatDays.length;n++)e.editDialogFields.weekly.repeatDays[n].jqxCheckBox("destroy");g.detach(),e.editDialogFields.monthly={};var r=a("<div style='visibility: hidden;'></div>").appendTo(a(document.body)),s=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(r),t=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(r),u=a("<div style='float:left;'></div>").appendTo(t);u.jqxNumberInput({rtl:e.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:e.theme});a("<div style='float: left; margin-left: 5px; line-height:25px;'>"+e.schedulerLocalization.editDialogRepeatEveryMonthString+"</div>").appendTo(t);e.editDialogFields.monthly.repeatMonth=u,e.editDialogFields.monthly.repeatMonthLabel=s;var v=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(r),w=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(r),x=a("<div style='float:left;'></div>").appendTo(w),y=a("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+e.schedulerLocalization.editDialogRepeatEveryMonthDayString+"</span></div>").appendTo(x);y.jqxRadioButton({rtl:e.rtl,groupName:"month",height:25,width:60,checked:!0,theme:e.theme});var z=a("<div style='float:left;'></div>").appendTo(x);z.jqxNumberInput({rtl:e.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:e.theme}),e.editDialogFields.monthly.repeatMonthDay=z,e.editDialogFields.monthly.repeatMonthDayBool=y,e.editDialogFields.monthly.repeatMonthDayLabel=v;var A=a("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(r),B=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(r),C=a("<div style='float:left;'></div>").appendTo(B),D=a("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(C);D.jqxRadioButton({groupName:"month",height:25,width:25,checked:!1,theme:e.theme});var E=a("<div style='float:left;'></div>").appendTo(C),F=new Array;F.push(e.schedulerLocalization.editDialogRepeatFirstString),F.push(e.schedulerLocalization.editDialogRepeatSecondString),F.push(e.schedulerLocalization.editDialogRepeatThirdString),F.push(e.schedulerLocalization.editDialogRepeatFourthString),F.push(e.schedulerLocalization.editDialogRepeatLastString),E.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:F,autoDropDownHeight:!0,height:25,width:"auto",theme:e.theme});for(var G=a("<div style='margin-left: 5px; float:left;'></div>").appendTo(C),H=new Array,n=0;n<7;n++){var o=e._getDayName(n);H.push(o)}G.jqxDropDownList({rtl:e.rtl,dropDownWidth:150,autoDropDownHeight:!0,selectedIndex:1,source:H,height:25,width:"auto",theme:e.theme}),e.editDialogFields.monthly.repeatDayOfWeekBool=D,e.editDialogFields.monthly.repeatDayOfWeek=G,e.editDialogFields.monthly.repeatDayOfWeekLabel=A,e.editDialogFields.monthly.repeatDayOfWeekType=E,e.editDialogFields.monthly.panel=r,e.editDialogFields.monthly.repeatMonth&&e.editDialogFields.monthly.repeatMonth.jqxNumberInput("destroy"),e.editDialogFields.monthly.repeatMonthDayBool&&e.editDialogFields.monthly.repeatMonthDayBool.jqxRadioButton("destroy"),e.editDialogFields.monthly.repeatMonthDay&&e.editDialogFields.monthly.repeatMonthDay.jqxNumberInput("destroy"),e.editDialogFields.monthly.repeatDayOfWeekBool&&e.editDialogFields.monthly.repeatDayOfWeekBool.jqxRadioButton("destroy"),e.editDialogFields.monthly.repeatDayOfWeekType&&e.editDialogFields.monthly.repeatDayOfWeekType.jqxDropDownList("destroy"),e.editDialogFields.monthly.repeatDayOfWeek&&e.editDialogFields.monthly.repeatDayOfWeek.jqxDropDownList("destroy"),r.detach(),e.editDialogFields.yearly={};var I=a("<div style='visibility: hidden;'></div>").appendTo(a(document.body)),J=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(I),K=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(I),L=a("<div style='float:left;'></div>").appendTo(K);L.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:e.theme});a("<div style='float: left; margin-left: 5px; line-height:25px;'>"+e.schedulerLocalization.editDialogRepeatEveryYearString+"</div>").appendTo(K);e.editDialogFields.yearly.repeatYear=L,e.editDialogFields.yearly.repeatYearLabel=J;var M=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(I),N=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(I),O=a("<div style='float:left;'></div>").appendTo(N),P=a("<div style='position:relative; top: 6px; float:left;'></span></div>").appendTo(O);P.jqxRadioButton({rtl:e.rtl,groupName:"year",height:25,width:25,checked:!0,theme:e.theme}),e.editDialogFields.yearly.repeatYearBool=P,e.editDialogFields.yearly.repeatYearBoolLabel=M;for(var Q=a("<div style='float:left;'></div>").appendTo(O),R=new Array,n=0;n<12;n++){var S=e.schedulerLocalization.months.names[n];R.push(S)}Q.jqxDropDownList({selectedIndex:0,height:25,dropDownWidth:150,width:"auto",source:R,theme:e.theme}),e.editDialogFields.yearly.repeatYearMonth=Q;var T=a("<div style='margin-left: 5px; float:left;'></div>").appendTo(O);T.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:!0,decimalDigits:0,theme:e.theme}),e.editDialogFields.yearly.repeatYearDay=T;var U=a("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(I),V=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(I),W=a("<div style='float:left;'></div>").appendTo(V),X=a("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(W);X.jqxRadioButton({rtl:e.rtl,groupName:"year",height:25,width:25,checked:!1,theme:e.theme});var Y=a("<div style='float:left;'></div>").appendTo(W);e.editDialogFields.yearly.repeatDayOfWeekBool=X,e.editDialogFields.yearly.repeatDayOfWeekType=Y,e.editDialogFields.yearly.repeatDayOfWeekLabel=U;var Z=new Array;Z.push(e.schedulerLocalization.editDialogRepeatFirstString),Z.push(e.schedulerLocalization.editDialogRepeatSecondString),Z.push(e.schedulerLocalization.editDialogRepeatThirdString),Z.push(e.schedulerLocalization.editDialogRepeatFourthString),Z.push(e.schedulerLocalization.editDialogRepeatLastString),Y.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:Z,autoDropDownHeight:!0,height:25,width:"auto",theme:e.theme});var $=a("<div style='margin-left: 5px; float:left;'></div>").appendTo(W);e.editDialogFields.yearly.repeatDayOfWeek=$;for(var _=new Array,n=0;n<7;n++){var o=e._getDayName(n);_.push(o)}$.jqxDropDownList({rtl:e.rtl,dropDownWidth:150,selectedIndex:1,autoDropDownHeight:!0,source:_,height:25,width:"auto",theme:e.theme});for(var R=new Array,aa=(a("<div style='line-height:25px; height: 25px; margin-left: 5px; float:left;'>"+e.schedulerLocalization.editDialogRepeatOfString+"</div>").appendTo(W),a("<div style='margin-left: 5px; float:left;'></div>").appendTo(W)),n=0;n<12;n++){var S=e.schedulerLocalization.months.names[n];R.push(S)}e.editDialogFields.yearly.repeatDayOfWeekMonth=aa,aa.jqxDropDownList({rtl:e.rtl,dropDownWidth:150,selectedIndex:0,source:R,height:25,width:"auto",theme:e.theme}),e.editDialogFields.yearly.panel=I,e.editDialogFields.yearly.repeatYear&&e.editDialogFields.yearly.repeatYear.jqxNumberInput("destroy"),e.editDialogFields.yearly.repeatYearBool&&e.editDialogFields.yearly.repeatYearBool.jqxRadioButton("destroy"),e.editDialogFields.yearly.repeatYearMonth&&e.editDialogFields.yearly.repeatYearMonth.jqxDropDownList("destroy"),e.editDialogFields.yearly.repeatYearDay&&e.editDialogFields.yearly.repeatYearDay.jqxNumberInput("destroy"),e.editDialogFields.yearly.repeatDayOfWeekBool&&e.editDialogFields.yearly.repeatDayOfWeekBool.jqxRadioButton("destroy"),e.editDialogFields.yearly.repeatDayOfWeekType&&e.editDialogFields.yearly.repeatDayOfWeekType.jqxDropDownList("destroy"),e.editDialogFields.yearly.repeatDayOfWeek&&e.editDialogFields.yearly.repeatDayOfWeek.jqxDropDownList("destroy"),e.editDialogFields.yearly.repeatDayOfWeekMonth&&e.editDialogFields.yearly.repeatDayOfWeekMonth.jqxDropDownList("destroy"),I.detach()};e.editAppointment&&e.editAppointment.rootAppointment,m();var n=a("<div></div>");c.append(n);var o=a("<div class='jqx-scheduler-edit-dialog-label'>"+e.schedulerLocalization.editDialogExceptionsString+"</div>").appendTo(n),p=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(n),q=a("<div style='position:relative; top:2px;'>"+e.schedulerLocalization.editDialogResetExceptionsString+"</div>").appendTo(p);q.jqxCheckBox({height:25,width:"100%",theme:e.theme}),n.hide(),e.editDialogFields.resetExceptions=q,e.editDialogFields.resetExceptionsLabel=o,e.editDialogFields.resetExceptionsContainer=n;var r=new Array;r.push(e.schedulerLocalization.editDialogRepeatNeverString),r.push(e.schedulerLocalization.editDialogRepeatDailyString),r.push(e.schedulerLocalization.editDialogRepeatWeeklyString),r.push(e.schedulerLocalization.editDialogRepeatMonthlyString),r.push(e.schedulerLocalization.editDialogRepeatYearlyString),i.jqxDropDownList({rtl:e.rtl,width:"100%",height:25,autoDropDownHeight:!0,theme:e.theme,source:r,selectedIndex:0}),e.editDialogFields.repeat=i,e.editDialogFields.repeatLabel=g,e.editDialogFields.repeatContainer=f,e.editDialogFields.repeatPanel=j,this.addHandler(i,"change",function(a){var d=a.args.item.index;(function(){switch(j.children().detach(),d){case 0:break;case 1:e.editDialogFields.daily.panel.css("visibility","visible"),j.append(e.editDialogFields.daily.panel);break;case 2:e.editDialogFields.weekly.panel.css("visibility","visible"),j.append(e.editDialogFields.weekly.panel);break;case 3:e.editDialogFields.monthly.panel.css("visibility","visible"),j.append(e.editDialogFields.monthly.panel);break;case 4:e.editDialogFields.yearly.panel.css("visibility","visible"),j.append(e.editDialogFields.yearly.panel)}j.append(k),0==d?e.editDialogFields.repeatEndPanelContainer.hide():e.editDialogFields.repeatEndPanelContainer.show(),e.isTouchDevice()||(b.jqxWindow({height:150}),b.jqxWindow({height:c[0].scrollHeight+40}))})()})},_initMenu:function(){var b=this;if(this.host.jqxMenu){if(this.menu){if(this._hasOpenedMenu)return;this.removeHandler(this.menu,"keydown"),this.removeHandler(this.menu,"closed"),this.removeHandler(this.menu,"itemclick"),this.menu.jqxMenu("destroy"),this.menu.removeData(),this.menu.remove()}this.menuitemsarray=new Array,this.menu=a('<div id="menu.jqxscheduler'+this.element.id+'" style="white-space: nowrap; z-index: 9999999999999;"></div>'),this.host.append(this.menu),this.addHandler(a(window),"orientationchange.jqxscheduler"+this.element.id,function(){b.menu.jqxMenu("close"),b._hasOpenedMenu=!1}),this.addHandler(a(window),"orientationchanged.jqxscheduler"+this.element.id,function(){b.menu.jqxMenu("close"),b._hasOpenedMenu=!1}),this.removeHandler(this.menu,"keydown"),this.addHandler(this.menu,"keydown",function(a){27==a.keyCode&&(b.menu.jqxMenu("close"),b._hasOpenedMenu=!1,b.focus())}),this.addHandler(this.menu,"open",function(a){b.contextMenuOpen&&b.contextMenuOpen(b.menu,b.selectedJQXAppointment?b.selectedJQXAppointment.boundAppointment:null,a),b._raiseEvent("contextMenuOpen",{menu:b.menu,appointment:b.selectedJQXAppointment?b.selectedJQXAppointment.boundAppointment:null}),b._removeFeedbackAndStopResize()}),this.addHandler(this.menu,"close",function(a){b.contextMenuClose&&b.contextMenuClose(b.menu,b.selectedJQXAppointment?b.selectedJQXAppointment.boundAppointment:null,a),b._hasOpenedMenu=!1,document.activeElement&&document.activeElement.className.indexOf("jqx-menu")>=0&&!b.menuOpening&&b.focus(),b._raiseEvent("contextMenuClose",{menu:b.menu,appointment:b.selectedJQXAppointment?b.selectedJQXAppointment.boundAppointment:null})}),this.addHandler(this.host,"contextmenu",function(a){return a.preventDefault(),a.stopPropagation(),!1}),this.addHandler(this.menu,"itemclick",function(a){var c=b.menu.jqxMenu("getItem",a.args.id);if(b._raiseEvent("contextMenuItemClick",{item:c,menu:b.menu,appointment:b.selectedJQXAppointment?b.selectedJQXAppointment.boundAppointment:null}),b.contextMenuItemClick){var d=b.contextMenuItemClick(b.menu,b.selectedJQXAppointment?b.selectedJQXAppointment.boundAppointment:null,a);if(1==d)return new Date-b.renderedTime>500&&b._renderrows(),b.menu.jqxMenu("close"),void(b._hasOpenedMenu=!1)}if("createAppointment"==c.id)b._initDialog(),b._openDialog(),"keyboard"==a.args.clickType&&(b.menu.jqxMenu("close"),b._hasOpenedMenu=!1);else{if("editAppointment"!=c.id)return"keyboard"==a.args.clickType&&(b.menu.jqxMenu("close"),b._hasOpenedMenu=!1),!0;var e=b.getJQXAppointmentByElement(b.selectedAppointment);if(!e.readOnly){var d=b._initDialog(e);d!==!1&&b._openDialog()}"keyboard"==a.args.clickType&&(b.menu.jqxMenu("close"),b._hasOpenedMenu=!1)}});var c=new Array;c.push({label:this.schedulerLocalization.contextMenuEditAppointmentString,id:"editAppointment"}),c.push({label:this.schedulerLocalization.contextMenuCreateAppointmentString,id:"createAppointment"});var d={rtl:this.rtl,keyboardNavigation:!0,source:c,popupZIndex:999999,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0};b.contextMenuCreate&&b.contextMenuCreate(b.menu,d),b._raiseEvent("contextMenuCreate",{menu:b.menu,settings:d}),this.menu.jqxMenu(d)}},_initDialog:function(b,c){var d=this,e=null;if(b&&b.isRecurrentAppointment()&&!d.editRecurrenceDialog.jqxWindow("isOpen")){var f=d.host.coord(),g=f.top+d.host.height()/2-d.editRecurrenceDialog.height()/2,h=f.left+d.host.width()/2-d.editRecurrenceDialog.width()/2;d.editRecurrenceDialog.find("button:first").focus(),setTimeout(function(){d.editRecurrenceDialog.find("button:first").focus()},25),d.editRecurrenceDialog.jqxWindow("move",h,g),d.editRecurrenceDialog.jqxWindow("open"),d.editSeries=function(a){a?(d._initDialog(b.rootAppointment),d._openDialog()):(d._initDialog(b),d._openDialog())},d.overlay.show(),d.overlay.width(d.host.width()),d.overlay.height(d.host.height());var f=d.host.coord();return d.overlay.offset(f),d._editDialog||d._initDialog(),!1}if(d.editAppointment=b,b||(e=d.getSelection(),e||(d.focus(),d.focusedCell&&(d.focusedCell.setAttribute("data-selected","true"),d._lastSelectedCell=d.focusedCell,d._updateCellsSelection(d.focusedCell),e=d.getSelection()))),e||b){var i=e?e.from:b.from,j=e?e.to:b.to,k=d.getSelectedCells();if(k.length>0){var l=k[k.length-1].getAttribute("data-end-date");l&&(j=a.jqx.scheduler.utilities.getEndOfDay(j))}d._editStart=i,d._editEnd=j}if(d.editDialogFields&&d.editDialogFields.resourceContainer&&d._resources.length>0){for(var m=new Array,n=0;n<d._resources.length;n++)m.push(d._resources[n]);var o=!0;m.length>10&&(o=!1),d.editDialogFields.resource.jqxDropDownList({source:m,selectedIndex:0,autoDropDownHeight:o}),b||d.editDialogFields.resource.val(e.resourceId)}if(d.editDialogFields&&d.editDialogFields.repeatContainer&&(b&&b.rootAppointment?(d.editDialogFields.repeatContainer.hide(),d.editDialogFields.repeatPanel.hide()):(d.editDialogFields.repeatContainer.show(),d.editDialogFields.repeatPanel.show())),null==d._editDialog){d._editDialog=null;var p=null==b?d.schedulerLocalization.editDialogCreateTitleString:d.schedulerLocalization.editDialogTitleString,q=a("<div><div>"+p+"</div><div id='dialog"+this.element.id+"'></div></div>");a(q).jqxWindow({rtl:d.rtl,zIndex:99999,autoFocus:!1,autoOpen:!1,animationType:"none",theme:d.theme,width:530,maxHeight:800,minHeight:110,resizable:!1,initContent:function(){d.editDialogFields={},null==i&&null==j&&d._editStart&&d._editEnd&&(i=d._editStart,j=d._editEnd),q.jqxWindow("setTitle",p);var c=a(q.children()[1]),f=a("<div></div>");c.append(f);var g=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogSubjectString+"</div>").appendTo(f),h=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(f),k=a("<input type='text'/>").appendTo(h);k.jqxInput({rtl:d.rtl,width:"100%",height:25,theme:d.theme}),k.css("box-sizing","border-box"),d.editDialogFields.subject=k,d.editDialogFields.subjectLabel=g,d.editDialogFields.subjectContainer=f;var l=a("<div></div>");c.append(l);var m=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogLocationString+"</div>").appendTo(l),n=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(l),o=a("<input type='text'/>").appendTo(n);o.jqxInput({rtl:d.rtl,width:"100%",height:25,theme:d.theme}),o.css("box-sizing","border-box"),d.editDialogFields.location=o,d.editDialogFields.locationLabel=m,d.editDialogFields.locationContainer=l;var r=a("<div></div>");c.append(r);var s=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogFromString+"</div>").appendTo(r),t=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(r),u=a("<div></div>").appendTo(t),v=null;if(i)v=i.toDate();else{var w=new Date;w.setHours(9,0,0),v=w}u.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:d.rtl,localization:d._getDateTimeInputLocalization(),firstDayOfWeek:d.schedulerLocalization.firstDay,todayString:d.schedulerLocalization.todayString,clearString:d.schedulerLocalization.clearString,value:v,formatString:d.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:d.theme}),d.editDialogFields.from=u,d.editDialogFields.fromLabel=s,d.editDialogFields.fromContainer=r;var x=a("<div></div>");c.append(x);var y=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogToString+"</div>").appendTo(x),z=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(x),A=a("<div></div>").appendTo(z),B=null;if(j)B=j.toDate();else{var w=new Date;w.setHours(10,0,0),B=w}A.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:d.rtl,localization:d._getDateTimeInputLocalization(),firstDayOfWeek:d.schedulerLocalization.firstDay,todayString:d.schedulerLocalization.todayString,clearString:d.schedulerLocalization.clearString,value:B,formatString:d.editDialogDateTimeFormatString,width:"100%",showTimeButton:!0,height:25,theme:d.theme}),d.editDialogFields.to=A,d.editDialogFields.toLabel=y,d.editDialogFields.toContainer=x,d._changeFromUser=!0,d.addHandler(u,"change",function(b){if(d._changeFromUser){var c=(b.args,b.args.oldValue),e=A.val("date"),f=new a.jqx.date(e)-new a.jqx.date(c);if(f>0){var g=1e4*f,h=a.jqx.timeSpan(g),i=new a.jqx.date(b.args.newValue).add(h);A.val(i.toDate())}}}),d.addHandler(A,"change",function(a){if(d._changeFromUser){var b=(a.args,a.args.oldValue),c=A.val("date");u.val("date")>=c&&A.val(b)}});var C=a("<div></div>");c.append(C);var D=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogAllDayString+"</div>").appendTo(C),E=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(C),F=a("<div style='position:relative;'></div>").appendTo(E);F.jqxCheckBox({rtl:d.rtl,height:25,width:25,theme:d.theme}),d.editDialogFields.allDay=F,d.editDialogFields.allDayLabel=D,d.editDialogFields.allDayContainer=C,d.addHandler(C,"change",function(a){a.args.checked?(A.jqxDateTimeInput({showTimeButton:!1,formatString:d.editDialogDateFormatString}),u.jqxDateTimeInput({showTimeButton:!1,formatString:d.editDialogDateFormatString})):(A.jqxDateTimeInput({showTimeButton:!0,formatString:d.editDialogDateTimeFormatString}),u.jqxDateTimeInput({showTimeButton:!0,formatString:d.editDialogDateTimeFormatString}))}),a.jqx.scheduler.utilities.getStartOfDay(i).equals(i)&&a.jqx.scheduler.utilities.getEndOfDay(j).equals(j)&&d.editDialogFields.allDay.val(!0),(d._views[d._view].type.indexOf("month")>=0||i&&i.equals(j)||j&&j.equals(a.jqx.scheduler.utilities.getEndOfDay(j)))&&d.editDialogFields.allDay.val(!0);var G=a("<div></div>");c.append(G);var H=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogTimeZoneString+"</div>").appendTo(G),I=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(G),J=a("<div></div>").appendTo(I),K=new Array;K.push({displayName:d.schedulerLocalization.editDialogSelectTimeZoneString,id:null}),K=K.concat(d.timeZones);for(var L=0;L<K.length;L++){var M=K[L],N=M.displayName.indexOf(")");if(N>=0)var O=M.displayName.substring(2+N);else var O=M.displayName;M.searchName=O}J.jqxDropDownList({rtl:d.rtl,placeHolder:d.schedulerLocalization.editDialogSelectTimeZoneString,width:"100%",height:25,theme:d.theme,searchMember:"searchName",source:K,displayMember:"displayName",valueMember:"id"}),d.editDialogFields.timeZone=J,d.editDialogFields.timeZoneLabel=H,d.editDialogFields.timeZoneContainer=G,d.initRepeatPanels(q,c,j.toDate()),d.editDialogFields&&d.editDialogFields.repeatContainer&&(d.editAppointment&&d.editAppointment.rootAppointment?(d.editDialogFields.repeatContainer.hide(),d.editDialogFields.repeatPanel.hide()):(d.editDialogFields.repeatContainer.show(),d.editDialogFields.repeatPanel.show()));var P=a("<div></div>");c.append(P);var Q=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogDescriptionString+"</div>").appendTo(P),R=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(P),S=a("<textarea type='text' resizable='off' style='position:relative; top: 3px; padding:3px;'></textarea>").appendTo(R);S.jqxInput({rtl:d.rtl,height:40,width:"100%",theme:d.theme}),S.css("box-sizing","border-box"),d.editDialogFields.description=S,d.editDialogFields.descriptionLabel=Q,d.editDialogFields.descriptionContainer=P;var T=a("<div></div>");c.append(T);var U=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogColorString+"</div>").appendTo(T),V=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(T),W=a("<div></div>").appendTo(V),X=function(a){if(a==-1)return"";var b=d.colors[a],c="",c="";return c+="<div style='margin-top: 1px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+b+"; margin-left: 2%;'></div>"},Y=function(a,b){if(b<0)return a.css("top","4px"),a.css("position","relative"),a[0].outerHTML;var c=d.colors[b],e="";return e+="<div style='margin-top: 2px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+c+"; margin-left: 2%;'></div>"};W.jqxDropDownList({rtl:d.rtl,selectedIndex:-1,placeHolder:d.schedulerLocalization.editDialogColorPlaceHolderString,selectionRenderer:Y,renderer:X,source:d.colors,height:25,width:"100%",theme:d.theme}),d.editDialogFields.color=W,d.editDialogFields.colorLabel=U,d.editDialogFields.colorContainer=T;var Z=a("<div></div>");c.append(Z);var $=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogStatusString+"</div>").appendTo(Z),_=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(Z),aa=a("<div></div>").appendTo(_);aa.jqxDropDownList({rtl:d.rtl,selectedIndex:2,autoDropDownHeight:!0,source:d.schedulerLocalization.editDialogStatuses,height:25,width:"100%",theme:d.theme}),d.editDialogFields.status=aa,d.editDialogFields.statusLabel=$,d.editDialogFields.statusContainer=Z;var ba=a("<div></div>");c.append(ba);for(var ca=a("<div class='jqx-scheduler-edit-dialog-label'>"+d.schedulerLocalization.editDialogResourceIdString+"</div>").appendTo(ba),da=a("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(ba),ea=a("<div></div>").appendTo(da),fa=new Array,L=0;L<d._resources.length;L++)fa.push(d._resources[L]);var ga=!0;fa.length>10&&(ga=!1),ea.jqxDropDownList({rtl:d.rtl,source:fa,selectedIndex:0,autoDropDownHeight:ga,height:25,width:"100%",theme:d.theme}),d.editDialogFields.resource=ea,d.editDialogFields.resourceLabel=ca,d.editDialogFields.resourceContainer=ba,0==fa.length&&ba.hide(),!b&&e&&d.editDialogFields.resource.val(e.resourceId);var ha=a("<div></div>");c.append(ha);var ia=a("<div style='width:100%;' class='jqx-scheduler-edit-dialog-field'></div>").appendTo(ha),ja=a("<button style='margin-left: 5px; float:right;'>"+d.schedulerLocalization.editDialogCancelString+"</button>").appendTo(ia),ka=a("<button style='margin-left: 5px; float:right;'>"+d.schedulerLocalization.editDialogDeleteString+"</button>").appendTo(ia),la=a("<button style='display: none; margin-left: 5px; float:right;'>"+d.schedulerLocalization.editDialogRepeatDeleteSeriesString+"</button>").appendTo(ia),ma=a("<button style='display: none; margin-left: 5px; float:right;'>"+d.schedulerLocalization.editDialogRepeatDeleteString+"</button>").appendTo(ia),na=a("<button style='margin-left: 5px; float:right;'>"+d.schedulerLocalization.editDialogSaveString+"</button>").appendTo(ia),oa=a("<button style='display: none; margin-left: 5px; float:right;'>"+d.schedulerLocalization.editDialogRepeatSaveSeriesString+"</button>").appendTo(ia),pa=a("<button style='display: none; margin-left: 5px; float:right;'>"+d.schedulerLocalization.editDialogRepeatSaveString+"</button>").appendTo(ia),qa=25;d.isTouchDevice()&&(qa=null),ka.jqxButton({rtl:d.rtl,theme:d.theme,height:qa}),la.jqxButton({rtl:d.rtl,theme:d.theme,height:qa}),ma.jqxButton({rtl:d.rtl,theme:d.theme,height:qa}),na.jqxButton({rtl:d.rtl,theme:d.theme,height:qa
}),ja.jqxButton({rtl:d.rtl,theme:d.theme,height:qa}),oa.jqxButton({rtl:d.rtl,theme:d.theme,height:qa}),pa.jqxButton({rtl:d.rtl,theme:d.theme,height:qa}),oa.hide(),pa.hide(),d.editDialogFields.saveOccurrenceButton=pa,d.editDialogFields.saveSeriesButton=oa,d.editDialogFields.saveButton=na,d.editDialogFields.cancelButton=ja,d.editDialogFields.deleteButton=ka,d.editDialogFields.deleteSeriesButton=la,d.editDialogFields.deleteExceptionsButton=ma,d.editDialogFields.buttons=ia,d.addHandler(ka,"click",function(){q.jqxWindow("close"),d.overlay.hide(),d._deleteAppointment(d.editAppointment)}),d.addHandler(ja,"click",function(){q.jqxWindow("close"),d.overlay.hide()}),d.addHandler(pa,"click",function(){if(d.editAppointment.isException()){for(var a=d.editAppointment.rootAppointment?d.editAppointment.rootAppointment.exceptions:d.editAppointment.exceptions,b=0;b<a.length;b++)if(a[b].occurrenceFrom.equals(d.editAppointment.occurrenceFrom)){a[b]=d.editAppointment;break}}else null!=d.editAppointment.rootAppointment?(d.editAppointment.rootAppointment.exceptions.push(d.editAppointment),d.editAppointment.rootAppointment.recurrenceException.push(d.editAppointment.occurrenceFrom)):(d.editAppointment.exceptions.push(d.editAppointment),d.editAppointment.recurrenceException.push(d.editAppointment.occurrenceFrom));var c=d._setAppointmentPropertiesFromDialog(d.editAppointment,"occurrence");c&&(d.changedAppointments[d.editAppointment.id]={type:"Update",appointment:d.editAppointment.boundAppointment},d._raiseEvent("appointmentChange",{appointment:d.editAppointment.boundAppointment}),d._renderrows(),q.jqxWindow("close"),d.overlay.hide())}),d.addHandler(oa,"click",function(){var a=d.editAppointment;a.rootAppointment&&(a=a.rootAppointment);var b=d._setAppointmentPropertiesFromDialog(a,"series");b&&(d.changedAppointments[a.id]={type:"Update",appointment:a.boundAppointment},d._raiseEvent("appointmentChange",{appointment:a.boundAppointment}),d._renderrows(),q.jqxWindow("close"),d.overlay.hide())}),d.addHandler(na,"click",function(){var b=!0;if(null==d.editAppointment){var c=new a.jqx.scheduler.appointment;b=d._setAppointmentPropertiesFromDialog(c,"none"),b&&d.addAppointment(c)}else d.editAppointment.rootAppointment?(pa.trigger("click"),b=!1):d.editAppointment.isRecurrentAppointment()?(oa.trigger("click"),b=!1):(b=d._setAppointmentPropertiesFromDialog(d.editAppointment,"none"),b&&(d.changedAppointments[d.editAppointment.id]={type:"Update",appointment:d.editAppointment?d.editAppointment.boundAppointment:null},d._raiseEvent("appointmentChange",{appointment:d.editAppointment.boundAppointment}),d._renderrows()));b&&(q.jqxWindow("close"),d.overlay.hide())}),d.addHandler(q,"close",function(a){d.overlay.hide(),d.focus(),d.editDialogClose&&d.editDialogClose(q,d.editDialogFields,d.editAppointment?d.editAppointment.boundAppointment:null),d._raiseEvent("editDialogClose",{dialog:q,fields:d.editDialogFields,appointment:d.editAppointment?d.editAppointment.boundAppointment:null})}),d.editDialogCreate&&d.editDialogCreate(q,d.editDialogFields,d.editAppointment),d._raiseEvent("editDialogCreate",{dialog:q,fields:d.editDialogFields,appointment:d.editAppointment?d.editAppointment.boundAppointment:null}),q.jqxWindow({height:c[0].scrollHeight+40})}}),d._editDialog=q}d.dialogOpenings||(d.dialogOpenings=0),d.removeHandler(d._editDialog,"open"),d.addHandler(d._editDialog,"open",function(f){if(d.editDialogOpen&&d.editDialogFields){var g=d.editDialogOpen(q,d.editDialogFields,d.editAppointment?d.editAppointment.boundAppointment:null);if(1==g)return}d.rtl&&(d._editDialog.find(".jqx-scheduler-edit-dialog-label").addClass(d.toThemeProperty("jqx-scheduler-edit-dialog-label-rtl")),d._editDialog.find(".jqx-scheduler-edit-dialog-field").addClass(d.toThemeProperty("jqx-scheduler-edit-dialog-field-rtl")),d.editDialogFields.saveOccurrenceButton.css("float","left"),d.editDialogFields.saveSeriesButton.css("float","left"),d.editDialogFields.saveButton.css("float","left"),d.editDialogFields.cancelButton.css("float","left"),d.editDialogFields.deleteButton.css("float","left"),d.editDialogFields.deleteSeriesButton.css("float","left"),d.editDialogFields.deleteExceptionsButton.css("float","left"),d.editDialogFields.buttons.css("width","auto"),d.editDialogFields.allDay.css("float","right")),setTimeout(function(){var a=d.editAppointment?d.editAppointment.boundAppointment:null;d.editAppointment&&d.editAppointment.rootAppointment&&(a=d.editAppointment.rootAppointment.boundAppointment),d._raiseEvent("editDialogOpen",{dialog:d._editDialog,fields:d.editDialogFields,appointment:a})});var h=function(){setTimeout(function(){c?d.editDialogFields.deleteButton.focus():(d.editDialogFields.subject.focus(),d.editDialogFields.subject.select())},1)};return 0!=d.dialogOpenings||b?void(d.editDialogFields&&(d.editDialogFields.subject.val(""),d.editDialogFields.location.val(""),h(),d.editDialogFields.resetExceptions.val(!1),d.editDialogFields.description.val(""),b||d.editDialogFields.deleteButton.hide(),b?(d.dialogOpenings++,d.editDialogFields.deleteButton.show(),d.editDialogFields.subject.val(b.subject),d.editDialogFields.location.val(b.location),d.editDialogFields.description.val(b.description),d.editDialogFields.timeZone.val(b.timeZone),d.colors.indexOf(b.borderColor)>=0?d.editDialogFields.color.val(b.borderColor):d.editDialogFields.color.jqxDropDownList("clearSelection"),d.editDialogFields.allDay.val(b.allDay),d.editDialogFields.resource.val(b.resourceId),d.editDialogFields.status.val(b.status),b.timeZone&&(b.from=b.from.toTimeZone(b.timeZone),b.to=b.to.toTimeZone(b.timeZone)),i=b.from,j=b.to,a.jqx.scheduler.utilities.getStartOfDay(i).equals(i)&&a.jqx.scheduler.utilities.getEndOfDay(j).equals(j)&&d.editDialogFields.allDay.val(!0),d._setAppointmentPropertiesToDialog(b,i,j,e?e.resourceId:null)):(d.editDialogFields.saveButton.show(),d._setAppointmentPropertiesToDialog(null,i,j,e?e.resourceId:null)),i&&j&&(d._changeFromUser=!1,d.editDialogFields.from.val(i.toDate()),d.editDialogFields.to.val(j.toDate()),d._changeFromUser=!0),d.isTouchDevice()||(d._editDialog.jqxWindow({height:150}),d._editDialog.jqxWindow({height:a(d._editDialog.children())[1].scrollHeight+40})))):(d.dialogOpenings++,d.isTouchDevice()||(d._editDialog.jqxWindow({height:150}),d._editDialog.jqxWindow({height:a(d._editDialog.children())[1].scrollHeight+40})),void h())}),d.removeHandler(d._editDialog,"keydown"),d.addHandler(d._editDialog,"keydown",function(c){if(d.editDialogKeyDown){var e=d.editDialogKeyDown(q,d.editDialogFields,d.editAppointment,c);if(void 0!=e)return e}if(13==c.keyCode){if(a(document.activeElement).ischildof(d._editDialog)){if("button"==document.activeElement.nodeName.toLowerCase())return!0;b?b.isException()||b.rootAppointment?d.editDialogFields.saveOccurrenceButton.trigger("click"):b.isRecurrentAppointment()?d.editDialogFields.saveSeriesButton.trigger("click"):d.editDialogFields.saveButton.trigger("click"):d.editDialogFields.saveButton.trigger("click")}}else 27==c.keyCode&&d.editDialogFields.cancelButton.trigger("click")})},openMenu:function(b,c){var d=this;d.menu||d._initMenu();d._views[d._view].type;if(d.contextMenu&&d.menu){if(d.selectedAppointment?d.menu.jqxMenu("showItem","editAppointment"):d.menu.jqxMenu("hideItem","editAppointment"),arguments.length<2){if(d.selectedAppointment){var e=d.selectedAppointment.coord();b=e.left,c=e.top}else if(d.focusedCell)var e=a(d.focusedCell).coord();b=e.left,c=e.top}d.menu.jqxMenu("open",b,c),d._hasOpenedMenu=!0}},closeMenu:function(){var a=this;a.contextMenu&&a.menu&&setTimeout(function(){a.menu.jqxMenu("close")})},closeDialog:function(){var a=this;a._editDialog.jqxWindow("close")},openDialog:function(a,b){var c=this;c._views[c._view].type;if(c.selectedJQXAppointment){var d=c._initDialog(c.selectedJQXAppointment);d!==!1&&c._openDialog(a,b)}else null==c.getSelection()&&(c.focus(),c.focusedCell.setAttribute("data-selected","true"),c._lastSelectedCell=c.focusedCell,c._updateCellsSelection(c.focusedCell)),c._initDialog(),c._openDialog(a,b)},_openDialog:function(a,b){var c=this;c._views[c._view].type;if(c.editDialog){var d=c.host.coord();c.overlay.show(),c.overlay.css("z-index",9999999),c.overlay.width(c.host.width()),c.overlay.height(c.host.height()),c.overlay.offset(d);var e=c.isTouchDevice();if(e)c._editDialog.jqxWindow("move",d.left,d.top),c._editDialog.jqxWindow({draggable:!1,maxWidth:c.host.width(),maxHeight:c.host.height()}),c._editDialog.jqxWindow({width:c.host.width(),height:c.host.height()}),c._editDialog.jqxWindow("open"),c._editDialog.jqxWindow("move",d.left,d.top);else if(void 0!=a&&void 0!=b)c._editDialog.jqxWindow("move",a,b),c._editDialog.jqxWindow("open");else{var f=c._editDialog.height();f<400&&(f=400);var g=d.top+c.host.height()/2-f/2,h=d.left+c.host.width()/2-c._editDialog.width()/2;c._editDialog.jqxWindow("move",h,g),c._editDialog.jqxWindow("open")}setTimeout(function(){c.overlay.css("z-index",999)},50)}},_setAppointmentPropertiesFromDialog:function(b,c){var d=this,e=function(b){var e=d._views[d._view].type,f=(d._views[d._view],d.editDialogFields.from.val("date")),g=d.editDialogFields.to.val("date");if(f>g)return d.editDialogFields.from.jqxDateTimeInput("focus"),!1;if(f==g)return e.indexOf("month")>=0;if(b.resourceId=d.editDialogFields.resource.val(),"none"==d.editDialogFields.resourceContainer.css("display")&&(b.resourceId=""),b.description=d.editDialogFields.description.val(),b.allDay=d.editDialogFields.allDay.val(),b.status=d.editDialogFields.status.val(),b.location=d.editDialogFields.location.val(),b.timeZone=d.editDialogFields.timeZone.val(),""==b.timeZone&&""!=d.timeZone&&(b.timeZone=d.timeZone),b.from=new a.jqx.date(f,b.timeZone),b.to=new a.jqx.date(g,b.timeZone),d.timeZone?(b.from=b.from.toTimeZone(d.timeZone),b.to=b.to.toTimeZone(d.timeZone)):(b.from=b.from.toTimeZone(null),b.to=b.to.toTimeZone(null)),b.allDay&&(b.from=a.jqx.scheduler.utilities.getStartOfDay(b.from),b.to=a.jqx.scheduler.utilities.getEndOfDay(b.to)),d.editDialogFields.color.val()){var h=d.getAppointmentColors(d.editDialogFields.color.val());b.color=h.color,b.background=h.background,b.borderColor=h.border}b.subject=d.editDialogFields.subject.val();var i=d.editDialogFields.repeat.jqxDropDownList("selectedIndex"),j=new a.jqx.scheduler.recurrencePattern,k=d.editDialogFields.repeatEndPanel;if(j.timeZone=d.timeZone,j.from=b.from.clone(),"occurrence"==c&&b.rootAppointment&&(j.from=b.rootAppointment.from.clone()),d.editDialogFields.resetExceptions.val()&&(b.exceptions=new Array,b.recurrenceException=new Array),k.repeatEndNever.val())j.count=1e3,j.to=new a.jqx.date(9999,12,31);else if(k.repeatEndAfter.val())j.count=k.repeatEndAfterValue.val(),j.to=new a.jqx.date(9999,12,31);else if(k.repeatEndOn.val()){j.count=1e3;var g=new a.jqx.date(k.repeatEndOnValue.jqxDateTimeInput("getDate"),d.timeZone);j.to=g}switch(i){case 0:default:b.clearRecurrence();break;case 1:var l=d.editDialogFields.daily,m=l.repeatDayInterval.val();j.interval=m,j.freq="daily";break;case 2:var n=d.editDialogFields.weekly,m=n.repeatWeekInterval.val(),o=[{Sunday:0},{Monday:1},{Tuesday:2},{Wednesday:3},{Thursday:4},{Friday:5},{Saturday:6}],p=n.repeatDays,q=new Array;j.weekDays={};for(var r=0;r<7;r++){var s=p[r].val();s&&(0==r?q.push(6):q.push(r-1),a.extend(j.weekDays,o[r]))}j.freq="weekly",j.byweekday=q,j.interval=m;break;case 3:var t=d.editDialogFields.monthly,m=t.repeatMonth.val();if(t.repeatMonthDayBool.val())j.day=t.repeatMonthDay.val(),j.bymonthday=new Array,j.bymonthday.push(j.day);else{var u=t.repeatDayOfWeek.jqxDropDownList("selectedIndex"),v=new Array;0==u?u=6:u--;var w=t.repeatDayOfWeekType.jqxDropDownList("selectedIndex"),x="";switch(w){case 0:x=1;break;case 1:x=2;break;case 2:x=3;break;case 3:x=4;break;case 4:x=-1}v.push([u,x]),j.bynweekday=v}j.freq="monthly",j.interval=m;break;case 4:var y=d.editDialogFields.yearly,m=y.repeatYear.val();if(y.repeatYearBool.val())j.day=y.repeatYearDay.val(),j.month=y.repeatYearMonth.jqxDropDownList("selectedIndex"),j.bymonth=new Array,j.bymonth.push(1+j.month),j.byyearday=new Array,j.byyearday.push(j.day);else{j.month=y.repeatDayOfWeekMonth.jqxDropDownList("selectedIndex"),j.bymonth=new Array,j.bymonth.push(1+j.month);var u=y.repeatDayOfWeek.jqxDropDownList("selectedIndex"),v=new Array;0==u?u=6:u--;var w=y.repeatDayOfWeekType.jqxDropDownList("selectedIndex"),x="";switch(w){case 0:x=1;break;case 1:x=2;break;case 2:x=3;break;case 3:x=4;break;case 4:x=-1}v.push([u,x]),j.bynweekday=v}j.freq="yearly",j.interval=m}b.rootAppointment?b.rootAppointment.recurrencePattern=j:i>0&&(b.recurrencePattern=j);var z={},A={};for(var B in d.appointmentDataFields){var C=d.appointmentDataFields[B],D=b[B];z[B]=D,"from"!=B&&"to"!=B||(D=D.toDate()),A[C]=D}return z.originalData=A,z.jqxAppointment=b,b.boundAppointment=z,!0}(b);return e},_setAppointmentPropertiesToDialog:function(b,c,d,e){var f=this,g=function(){var a=f.editDialogFields.repeatEndPanel;a.repeatEndNever.jqxRadioButton({checked:!0}),a.repeatEndAfterValue.val(1),a.repeatEndOnValue.val(b);var b=d.toDate();if(f.editDialogFields.daily){var c=f.editDialogFields.daily;c.repeatDayInterval.val(1)}if(f.editDialogFields.weekly){for(var e=f.editDialogFields.weekly,g=0;g<e.repeatDays.length;g++)1==g?e.repeatDays[g].jqxCheckBox({checked:!0}):e.repeatDays[g].jqxCheckBox({checked:!1});e.repeatWeekInterval.val(1)}if(f.editDialogFields.monthly){var h=f.editDialogFields.monthly;h.repeatDayOfWeek.jqxDropDownList("selectIndex",1),h.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),h.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),h.repeatMonthDayBool.jqxRadioButton({checked:!0}),h.repeatMonthDay.val(1),h.repeatMonth.val(1)}if(f.editDialogFields.yearly){var i=f.editDialogFields.yearly;i.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",0),i.repeatDayOfWeekBool.jqxRadioButton({checked:!1}),i.repeatDayOfWeekType.jqxDropDownList("selectIndex",0),i.repeatDayOfWeek.jqxDropDownList("selectIndex",1),i.repeatYear.val(1),i.repeatYearMonth.jqxDropDownList("selectIndex",0),i.repeatYearDay.val(1),i.repeatYearBool.val(!0)}};if(g(),b&&b.isRecurrentAppointment()?b.rootAppointment?f.editDialogFields.resetExceptionsContainer.hide():f.editDialogFields.resetExceptionsContainer.show():b&&(f.editDialogFields.resetExceptionsContainer.hide(),f.editDialogFields.repeat.jqxDropDownList("selectIndex",0)),!b)return f.editDialogFields.timeZone.jqxDropDownList("clearSelection"),e?f.editDialogFields.resource.val(e):f.editDialogFields.resource.jqxDropDownList("selectIndex",0),f.editDialogFields.allDay.val(!1),(f._views[f._view].type.indexOf("month")>=0||c&&c.equals(d)||d&&d.equals(a.jqx.scheduler.utilities.getEndOfDay(d)))&&f.editDialogFields.allDay.val(!0),f.editDialogFields.color.jqxDropDownList("clearSelection"),f.editDialogFields.description.val(""),f.editDialogFields.subject.val(""),void f.editDialogFields.repeat.jqxDropDownList("selectIndex",0);var h=function(a){var b=a.recurrencePattern;if(a.rootAppointment)var b=a.rootAppointment.recurrencePattern;if(null!=b){var c=b.freq,d=0;"daily"==c&&(d=1),"weekly"==c&&(d=2),"monthly"==c&&(d=3),"yearly"==c&&(d=4);var e=f.editDialogFields.repeatEndPanel;switch(1e3!=b.count?(e.repeatEndAfter.jqxRadioButton({checked:!0}),e.repeatEndAfterValue.val(b.count)):9999!=b.to.year()?(e.repeatEndOn.jqxRadioButton({checked:!0}),e.repeatEndOnValue.val(b.to.toDate())):e.repeatEndNever.jqxRadioButton({checked:!0}),f.editDialogFields.repeat.jqxDropDownList("selectIndex",d),d){case 1:var g=b.interval,h=f.editDialogFields.daily;h.repeatDayInterval.val(g);break;case 2:var g=b.interval,i=f.editDialogFields.weekly;i.repeatWeekInterval.val(g);for(var j=b.byweekday,k=0;k<7;k++){var l=i.repeatDays[k];l.val(!1)}for(var k=0;k<j.length;k++){var l=j[k];6==l?i.repeatDays[0].val(!0):i.repeatDays[l+1].val(!0)}break;case 3:var m=f.editDialogFields.monthly;if(m.repeatMonth.val(b.interval),b.bymonthday&&b.bymonthday.length>0)m.repeatMonthDayBool.jqxRadioButton({checked:!0}),m.repeatMonthDay.val(b.day);else{m.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var n=b.bynweekday,o=n[0][0];o++,7==o&&(o=0),m.repeatDayOfWeek.jqxDropDownList("selectIndex",o);var p=n[0][1],q="";switch(p){case 1:q=0;break;case 2:q=1;break;case 3:q=2;break;case 4:q=3;break;case-1:q=4}m.repeatDayOfWeekType.jqxDropDownList("selectIndex",q)}break;case 4:var r=f.editDialogFields.yearly;if(b.byyearday&&b.byyearday.length>0&&(r.repeatYearDay.val(b.byyearday[0]),r.repeatYearBool.val(!0)),b.bymonth&&b.bymonth.length>0&&(r.repeatYearMonth.val(b.bymonth[0]),r.repeatYearBool.val(!0)),!b.byyearday||b.byyearday&&0==b.byyearday.length){r.repeatDayOfWeekMonth.val(b.bymonth[0]),r.repeatDayOfWeekBool.jqxRadioButton({checked:!0});var n=b.bynweekday,o=n[0][0];o++,7==o&&(o=0),r.repeatDayOfWeek.jqxDropDownList("selectIndex",o);var p=n[0][1],q="";switch(p){case 1:q=0;break;case 2:q=1;break;case 3:q=2;break;case 4:q=3;break;case-1:q=4}r.repeatDayOfWeekType.jqxDropDownList("selectIndex",q)}}}};h(b)}}),a.jqx.scheduler.column=function(b,c){return this.owner=b,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="center",this.cellsalign="center",this.width="auto",this.minwidth=60,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(a,b){if(this[a]){var c=this[a];this[a]=b,this.owner._columnPropertyChanged(this,a,b,c)}else if(this[a.toLowerCase()]){var c=this[a.toLowerCase()];this[a.toLowerCase()]=b,this.owner._columnPropertyChanged(this,a.toLowerCase(),b,c)}},this._initfields=function(c){if(null!=c){var d=this;if(a.jqx.hasProperty(c,"dataField")&&(this.datafield=a.jqx.get(c,"dataField")),a.jqx.hasProperty(c,"displayField")?this.displayfield=a.jqx.get(c,"displayField"):this.displayfield=this.datafield,a.jqx.hasProperty(c,"columnType")&&(this.columntype=a.jqx.get(c,"columnType")),a.jqx.hasProperty(c,"validation")&&(this.validation=a.jqx.get(c,"validation")),a.jqx.hasProperty(c,"autoCellHeight")&&(this.autoCellHeight=a.jqx.get(c,"autoCellHeight")),a.jqx.hasProperty(c,"text")?this.text=a.jqx.get(c,"text"):this.text=this.displayfield,a.jqx.hasProperty(c,"sortable")&&(this.sortable=a.jqx.get(c,"sortable")),a.jqx.hasProperty(c,"hidden")&&(this.hidden=a.jqx.get(c,"hidden")),a.jqx.hasProperty(c,"groupable")&&(this.groupable=a.jqx.get(c,"groupable")),a.jqx.hasProperty(c,"renderer")&&(this.renderer=a.jqx.get(c,"renderer")),a.jqx.hasProperty(c,"align")&&(this.align=a.jqx.get(c,"align")),a.jqx.hasProperty(c,"cellsAlign")&&(this.cellsalign=a.jqx.get(c,"cellsAlign")),a.jqx.hasProperty(c,"cellsFormat")&&(this.cellsFormat=a.jqx.get(c,"cellsFormat")),a.jqx.hasProperty(c,"width")&&(this.width=a.jqx.get(c,"width")),a.jqx.hasProperty(c,"minWidth")&&(this.minwidth=a.jqx.get(c,"minWidth")),a.jqx.hasProperty(c,"maxWidth")&&(this.maxwidth=a.jqx.get(c,"maxWidth")),a.jqx.hasProperty(c,"cellsRenderer")&&(this.cellsRenderer=a.jqx.get(c,"cellsRenderer")),a.jqx.hasProperty(c,"columnType")&&(this.columntype=a.jqx.get(c,"columnType")),a.jqx.hasProperty(c,"pinned")&&(this.pinned=a.jqx.get(c,"pinned")),a.jqx.hasProperty(c,"filterable")&&(this.filterable=a.jqx.get(c,"filterable")),a.jqx.hasProperty(c,"filter")&&(this.filter=a.jqx.get(c,"filter")),a.jqx.hasProperty(c,"resizable")&&(this.resizable=a.jqx.get(c,"resizable")),a.jqx.hasProperty(c,"draggable")&&(this.draggable=a.jqx.get(c,"draggable")),a.jqx.hasProperty(c,"editable")&&(this.editable=a.jqx.get(c,"editable")),a.jqx.hasProperty(c,"initEditor")&&(this.initeditor=a.jqx.get(c,"initEditor")),a.jqx.hasProperty(c,"createEditor")&&(this.createeditor=a.jqx.get(c,"createEditor")),a.jqx.hasProperty(c,"destroyEditor")&&(this.destroyeditor=a.jqx.get(c,"destroyEditor")),a.jqx.hasProperty(c,"getEditorValue")&&(this.geteditorvalue=a.jqx.get(c,"getEditorValue")),a.jqx.hasProperty(c,"className")&&(this.classname=a.jqx.get(c,"className")),a.jqx.hasProperty(c,"cellClassName")&&(this.cellclassname=a.jqx.get(c,"cellClassName")),a.jqx.hasProperty(c,"rendered")&&(this.rendered=a.jqx.get(c,"rendered")),a.jqx.hasProperty(c,"exportable")&&(this.exportable=a.jqx.get(c,"exportable")),a.jqx.hasProperty(c,"nullable")&&(this.nullable=a.jqx.get(c,"nullable")),a.jqx.hasProperty(c,"columnGroup")&&(this.columngroup=a.jqx.get(c,"columnGroup")),!c instanceof String&&"string"!=typeof c)for(var e in c)if(!d.hasOwnProperty(e)&&!d.hasOwnProperty(e.toLowerCase()))throw b.host.remove(),new Error("jqxScheduler: Invalid property name - "+e+".")}},this._initfields(c),this},a.jqx.schedulerDataCollection=function(a){return this.records=new Array,this.owner=a,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(a,b){this.records[a]=b},this.isempty=function(a){return void 0==this.records[a]},this.initialize=function(a){a<1&&(a=1),this.records[a-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(a){return this.records.indexOf(a)},this.add=function(a){return null!=a&&(this.records[this.records.length]=a,!0)},this.insertAt=function(a,b){return null!=a&&void 0!=a&&(null!=b&&(a>=0&&(a<this.records.length?(this.records.splice(a,0,b),!0):this.add(b))))},this.remove=function(a){if(null==a||void 0==a)return!1;var b=this.records.indexOf(a);return b!=-1&&(this.records.splice(b,1),!0)},this.removeAt=function(a){if(null==a||void 0==a)return!1;if(a<0)return!1;if(a<this.records.length){this.records[a];return this.records.splice(a,1),!0}return!1},this},a.jqx.scheduler.dataView=function(b){return this.that=this,this.scheduler=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(c,d){var e=this;if(a.isArray(c))return void e.update(c);var f=!!c._source,g=null;this._sortData=null,this._sortHierarchyData=null,f?(g=c,c=c._source):g=new a.jqx.dataAdapter(c,{autoBind:!1});var h=function(a){g.recordids=[],g.records=new Array,g.cachedrecords=new Array,g.originaldata=new Array,g._options.totalrecords=a.totalrecords,g._options.originaldata=a.originaldata,g._options.recordids=a.recordids,g._options.cachedrecords=new Array,g._options.pagenum=a.pagenum,g._options.pageable=a.pageable,void 0!=c.type&&(g._options.type=c.type),void 0!=c.formatdata&&(g._options.formatData=c.formatdata),void 0!=c.contenttype&&(g._options.contentType=c.contenttype),void 0!=c.async&&(g._options.async=c.async),void 0!=c.updaterow&&(g._options.updaterow=c.updaterow),void 0!=c.addrow&&(g._options.addrow=c.addrow),void 0!=c.deleterow&&(g._options.deleterow=c.deleterow),0==a.pagesize&&(a.pagesize=10),g._options.pagesize=a.pagesize},i=function(a){a.originaldata=g.originaldata,a.records=g.records,a.hierarchy=g.hierarchy,a.scheduler.serverProcessing||(a._sortData=null,a._sortfield=null,a._filteredData=null,a._sortHierarchyData=null),a.hierarchy||(a.hierarchy=new Array,g.hierarchy=new Array),g._source.totalrecords?a.totalrecords=g._source.totalrecords:g._source.totalRecords?a.totalrecords=g._source.totalRecords:0!==a.hierarchy.length?a.totalrecords=a.hierarchy.length:a.totalrecords=a.records.length,a.cachedrecords=g.cachedrecords};h(this),this.source=c,void 0!==d&&(uniqueId=d);var e=this;switch(c.datatype){case"local":case"array":default:if(null==c.localdata&&(c.localdata=[]),null!=c.localdata){g.unbindBindingUpdate(b+e.scheduler.element.id),(!e.scheduler.autoBind&&e.scheduler.isInitialized||e.scheduler.autoBind)&&g.dataBind();var j=function(){i(e),e.update(g.records)};j(),g.bindBindingUpdate(b+e.scheduler.element.id,j)}break;case"ics":case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=c.localdata){g.unbindBindingUpdate(b+e.scheduler.element.id),(!e.scheduler.autoBind&&e.scheduler.isInitialized||e.scheduler.autoBind)&&g.dataBind();var j=function(a){i(e),e.update(g.records)};return j(),void g.bindBindingUpdate(b+e.scheduler.element.id,j)}var k={},l=g._options.data;g._options.data?a.extend(g._options.data,k):(c.data&&a.extend(k,c.data),g._options.data=k);var j=function(){var b=a.jqx.browser.msie&&a.jqx.browser.version<9,c=function(){i(e),e.update(g.records)};if(b)try{c()}catch(d){}else c()};g.unbindDownloadComplete(b+e.scheduler.element.id),g.bindDownloadComplete(b+e.scheduler.element.id,j),g._source.loaderror=function(a,b,c){j()},(!e.scheduler.autoBind&&e.scheduler.isInitialized||e.scheduler.autoBind)&&g.dataBind(),g._options.data=l}},this.addFilter=function(a,b){this._sortData=null,this._sortHierarchyData=null;for(var c=-1,d=0;d<this.filters.length;d++)if(this.filters[d].datafield==a){c=d;break}c==-1?this.filters[this.filters.length]={filter:b,datafield:a}:this.filters[c]={filter:b,datafield:a}},this.removeFilter=function(a){this._sortData=null,this._sortHierarchyData=null;for(var b=0;b<this.filters.length;b++)if(this.filters[b].datafield==a){this.filters.splice(b,1);break}},this._compare=function(b,c,d){var b=b,c=c;if(void 0===b&&(b=null),void 0===c&&(c=null),null===b&&null===c)return 0;if(null===b&&null!==c)return 1;if(null!==b&&null===c)return 1;if(b=b.toString(),c=c.toString(),a.jqx.dataFormat)if(d&&""!=d)switch(d){case"number":case"int":case"float":return b<c?-1:b>c?1:0;case"date":case"time":return b<c?-1:b>c?1:0;case"string":case"text":b=String(b).toLowerCase(),c=String(c).toLowerCase()}else{if(a.jqx.dataFormat.isNumber(b)&&a.jqx.dataFormat.isNumber(c))return b<c?-1:b>c?1:0;if(a.jqx.dataFormat.isDate(b)&&a.jqx.dataFormat.isDate(c))return b<c?-1:b>c?1:0;a.jqx.dataFormat.isNumber(b)||a.jqx.dataFormat.isNumber(c)||(b=String(b).toLowerCase(),c=String(c).toLowerCase())}try{if(b<c)return-1;if(b>c)return 1}catch(e){}return 0},this._equals=function(a,b){return 0===this._compare(a,b)},this.evaluate=function(a){if(this.scheduler.serverProcessing)return a;var b=new Array;if(this.filters.length){var c=new Array,d=function(a,b){for(var d=0;d<a.length;d++){var e=a[d];e._visible=!0;for(var f=void 0,g=0;g<this.filters.length;g++){var h=this.filters[g].filter,i=e[this.filters[g].datafield],j=h.evaluate(i);f=void 0==f?j:"or"==h.operator?f||j:f&&j}e._visible=!1,(f||e.aggregate)&&(e._visible=!0,b.push(e),c[e.uid]=e)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.scheduler.source.hierarchy&&this.scheduler.source.hierarchy.length>0){var e=new Array,f=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];e.push(d),d.records&&d.records.length>0&&f(d,d.records)}};f(null,a),d.call(this,e,b);for(var g=0;g<b.length;g++)for(var h=b[g];h.parent;){var i=h.parent;c[i.uid]||(i._visible=!0,c[i.uid]=i),h=i}b=a}else d.call(this,a,b);this._filteredData=b,this.rows=b}}else this.rows=a;return this.rows},this.getid=function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(this.rows&&""!=b&&void 0!=b&&this.rows.length>0){var e=this.rows[this.rows.length-1][b];null==e&&(e=null);for(var f=1;f<=100;f++){var g=this.scheduler.appointmentsByKey[f+e];if(!g){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var g=this.scheduler.appointmentsByKey["jqx"+e+f];if(g)continue;return"jqx"+e+f}return e+f}}}if(void 0!=b&&b.toString().length>0){var h=a(c).attr(b);if(null!=h&&h.toString().length>0)return this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords?"jqx"+h:h}if(this.rows&&this.rows.length>0){var g=this.scheduler.appointmentsByKey[d];if(g){var e=this.rows[this.rows.length-1][b];null==e&&(e="");for(var f=1;f<=1e3;f++){var g=this.scheduler.appointmentsByKey[f+e];if(!g){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var g=this.scheduler.appointmentsByKey["jqx"+e+f];if(g)continue;return"jqx"+e+f}return e+f}}}}if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var g=this.scheduler.appointmentsByKey["jqx"+d];if(!g)return"jqx"+d;for(var f=d+1;f<=100;f++){var g=this.scheduler.appointmentsByKey["jqx"+f];if(!g){var g=this.scheduler.appointmentsByKey["jqx"+f];if(g)continue;return"jqx"+f}}}return d},this.generatekey=function(){var a=function(){return 16*(1+Math.random())|0};return""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()},this}}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxScrollBar","",{}),a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){var b={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===a.jqx._jqxScrollBar.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){this.render()},render:function(){this._mouseup=new Date;var b=this,c="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(a.jqx.utilities&&"hidden"==a.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.host.html(c)}):this.element.innerHTML=c,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&this.width.toString().indexOf("%")!=-1&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&this.height.toString().indexOf("%")!=-1&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var d=this;a.jqx.utilities.resize(this.host,function(){d._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=a(this.element.firstChild),this.scrollWrap=a(this.scrollOuterWrap[0].firstChild),this.btnUp=a(this.scrollWrap[0].firstChild),this.areaUp=a(this.btnUp[0].nextSibling),this.btnThumb=a(this.areaUp[0].nextSibling),this.arrowUp=a(this.btnUp[0].firstChild),this.areaDown=a(this.btnThumb[0].nextSibling),this.btnDown=a(this.areaDown[0].nextSibling),this.arrowDown=a(this.btnDown[0].firstChild);var e=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+e,this.btnDown[0].id="jqxScrollBtnDown"+e,this.btnThumb[0].id="jqxScrollThumb"+e,
this.areaUp[0].id="jqxScrollAreaUp"+e,this.areaDown[0].id="jqxScrollAreaDown"+e,this.scrollWrap[0].id="jqxScrollWrap"+e,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+e,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=a.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=a.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(a,b,c,d){isNaN(d)||c!=d&&a.setPosition(parseFloat(d),!0)},this.propertyChangeMap.width=function(a,b,c,d){void 0!=a.width&&parseInt(a.width)>0&&(a.host.width(parseInt(a.width)),a._arrange())},this.propertyChangeMap.height=function(a,b,c,d){void 0!=a.height&&parseInt(a.height)>0&&(a.host.height(parseInt(a.height)),a._arrange())},this.propertyChangeMap.theme=function(a,b,c,d){a.setTheme()},this.propertyChangeMap.max=function(a,b,c,d){isNaN(d)||c!=d&&(a.max=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.min=function(a,b,c,d){isNaN(d)||c!=d&&(a.min=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.disabled=function(a,b,c,d){c!=d&&(d?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.btnUp.jqxRepeatButton("disabled",a.disabled),a.btnDown.jqxRepeatButton("disabled",a.disabled),a.btnThumb.jqxButton("disabled",a.disabled))},this.propertyChangeMap.touchMode=function(a,b,c,d){c!=d&&(a._updateTouchBehavior(),d===!0?(a.showButtons=!1,a.refresh()):d===!1&&(a.showButtons=!0,a.refresh()))},this.propertyChangeMap.rtl=function(a,b,c,d){c!=d&&a.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(a,b){this.width=a,this.height=b,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=a.jqx.mobile.isTouchDevice(),1==this.touchMode){if(a.jqx.browser.msie&&a.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,a.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var b=this,c=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(c=!0,this._touchSupport=!0)}catch(d){}if((b.isTouchDevice||c)&&(this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchend"),function(a){var c=b.vertical?b.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):b.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),d=b.toThemeProperty("jqx-fill-state-pressed");return b.btnThumb.removeClass(c),b.btnThumb.removeClass(d),b.disabled||b.handlemouseup(b,a),!1}),this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchstart"),function(a){if(!b.disabled){if(1==b.touchMode)a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY;else{var c=a;c.originalEvent.touches&&c.originalEvent.touches.length?(a.clientX=c.originalEvent.touches[0].clientX,a.clientY=c.originalEvent.touches[0].clientY):(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY)}b.handlemousedown(a),a.preventDefault&&a.preventDefault()}}),a.jqx.mobile.touchScroll(this.element,b.max,function(a,c,d,e,f){if("visible"==b.host.css("visibility")){if(1==b.touchMode)f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY;else{var g=f;g.originalEvent.touches&&g.originalEvent.touches.length?(f.clientX=g.originalEvent.touches[0].clientX,f.clientY=g.originalEvent.touches[0].clientY):(f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY)}var h=b.vertical?b.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):b.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");b.btnThumb.addClass(h),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.thumbCapture=!0,b.handlemousemove(f)}},b.element.id,b.host,b.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var e=null;window.parent&&document.referrer&&(e=document.referrer),e&&e.indexOf(document.location.host)!=-1&&window.top.document&&(b.mouseupFuncForTop=function(a){b.disabled||b.handlemouseup(b,a)},b.addHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop))}}catch(f){}var g="click mouseup mousedown";this.addHandler(this.btnDown,g,function(a){var c=b.step;switch(Math.abs(b.max-b.min)<=c&&(c=1),b.rtl&&!b.vertical&&(c=-b.step),a.type){case"click":b.buttonDownCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value+c):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value+c);break;case"mouseup":if(!b.btnDownInstance.base.disabled&&b.buttonDownCapture)return b.buttonDownCapture=!1,b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","down"),b.handlemouseup(b,a),b.setPosition(b.value+c),!1;break;case"mousedown":if(!b.btnDownInstance.base.disabled)return b.buttonDownCapture=!0,b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,g,function(a){var c=b.step;switch(Math.abs(b.max-b.min)<=c&&(c=1),b.rtl&&!b.vertical&&(c=-b.step),a.type){case"click":b.buttonUpCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value-c):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value-c);break;case"mouseup":if(!b.btnUpInstance.base.disabled&&b.buttonUpCapture)return b.buttonUpCapture=!1,b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","up"),b.handlemouseup(b,a),b.setPosition(b.value-c),!1;break;case"mousedown":if(!b.btnUpInstance.base.disabled)return b.buttonUpCapture=!0,b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","up"),!1}})}var h="click";if(this.isTouchDevice&&(h=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,h,function(a){if(!b.disabled){var c=b.largestep;return b.rtl&&!b.vertical&&(c=-b.largestep),b.setPosition(b.value-c),!1}}),this.addHandler(this.areaDown,h,function(a){if(!b.disabled){var c=b.largestep;return b.rtl&&!b.vertical&&(c=-b.largestep),b.setPosition(b.value+c),!1}}),this.addHandler(this.areaUp,"mousedown",function(a){if(!b.disabled)return b.areaUpCapture=!0,!1}),this.addHandler(this.areaDown,"mousedown",function(a){if(!b.disabled)return b.areaDownCapture=!0,!1}),this.addHandler(this.btnThumb,"mousedown dragstart",function(a){return"dragstart"!==a.type&&(b.disabled||b.handlemousedown(a),!1)}),this.addHandler(a(document),"mouseup."+this.element.id,function(a){b.disabled||b.handlemouseup(b,a)}),!this.isTouchDevice&&(this.mousemoveFunc=function(a){b.disabled||b.handlemousemove(a)},this.addHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(a(document),"mouseleave."+this.element.id,function(a){b.disabled||b.handlemouseleave(a)}),this.addHandler(a(document),"mouseenter."+this.element.id,function(a){b.disabled||b.handlemouseenter(a)}),!b.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(a){"mouseenter"===a.type?b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","up")):b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","up"))});var i=b.toThemeProperty("jqx-scrollbar-thumb-state-hover");b.vertical||(i=b.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(a){"mouseenter"===a.type?b.disabled||1==b.touchMode||(b.btnThumb.addClass(i),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-hover"))):b.disabled||1==b.touchMode||(b.btnThumb.removeClass(i),b.btnThumb.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(a){"mouseenter"===a.type?b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","down")):b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","down"))})}},destroy:function(){var b=this.btnUp,c=this.btnDown,d=this.btnThumb,e=(this.scrollWrap,this.areaUp),f=this.areaDown;a.jqx.utilities.resize(this.host,null,!0),this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,f.removeClass(),e.removeClass(),c.removeClass(),b.removeClass(),d.removeClass(),b.jqxRepeatButton("destroy"),c.jqxRepeatButton("destroy"),e.jqxRepeatButton("destroy"),f.jqxRepeatButton("destroy"),d.jqxButton("destroy");var g=a.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,g&&delete g.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(a(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(a(document),"mousemove."+this.element.id),this.removeHandler(a(document),"mouseleave."+this.element.id),this.removeHandler(a(document),"mouseenter."+this.element.id);var b=this;b.mouseupFuncForTop&&(b.removeHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop),b.mouseupFuncForTop=null,delete b.mouseupFuncForTop)},_addArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?("up"!=b&&void 0!=b||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),"down"!=b&&void 0!=b||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):("up"!=b&&void 0!=b||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),"down"!=b&&void 0!=b||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},_removeArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?("up"!=b&&void 0!=b||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),"down"!=b&&void 0!=b||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):("up"!=b&&void 0!=b||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),"down"!=b&&void 0!=b||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},setTheme:function(){var b=this.btnUp,c=this.btnDown,d=this.btnThumb,e=this.scrollWrap,f=(this.areaUp,this.areaDown,this.arrowUp),g=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var h=this.toThemeProperty("jqx-reset");this.areaDown[0].className=h,this.areaUp[0].className=h;var i=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(i),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),c[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),b[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var j="";if(this.vertical?(f[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-up"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-down"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(f[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-left"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-right"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),j+=" "+this.toThemeProperty("jqx-fill-state-normal"),d[0].className=j,this.disabled?(e.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(e.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var k=a.jqx.cssroundedcorners("top");k=this.toThemeProperty(k),b.addClass(k);var l=a.jqx.cssroundedcorners("bottom");l=this.toThemeProperty(l),c.addClass(l)}else{var m=a.jqx.cssroundedcorners("left");m=this.toThemeProperty(m),b.addClass(m);var n=a.jqx.cssroundedcorners("right");n=this.toThemeProperty(n),c.addClass(n)}else{var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),elBtnUp.addClass(o),elBtnDown.addClass(o)}var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),d.hasClass(o)||d.addClass(o),"none"===b.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0!=this.thumbCapture&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&void 0!=this.areaDownCapture&&void 0!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var a,b,c,d;a=Date.now(),b=a-this.timestamp,this.timestamp=a,c=this.offset-this.frame,this.frame=this.offset,d=1e3*c/(1+b),this.velocity=.2*d+.2*this.velocity},handlemousedown:function(b){function c(a){e.reference=parseInt(e.btnThumb[0].style.top),e.offset=parseInt(e.btnThumb[0].style.top),e.vertical||(e.reference=parseInt(e.btnThumb[0].style.left),e.offset=parseInt(e.btnThumb[0].style.left)),e.velocity=e.amplitude=0,e.frame=e.offset,e.timestamp=Date.now(),clearInterval(e.ticker),e.ticker=setInterval(function(){e.track()},100)}if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var d=this.btnThumb;null!=d&&(d.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var e=this;this.thumbCapture&&a.jqx.scrollAnimation&&c(b),this.dragStartX=b.clientX,this.dragStartY=b.clientY,this.dragStartValue=this.value},toggleHover:function(a,b){},refresh:function(){this._arrange()},_setElementPosition:function(a,b,c){isNaN(b)||parseInt(a[0].style.left)!=parseInt(b)&&(a[0].style.left=b+"px"),isNaN(c)||parseInt(a[0].style.top)!=parseInt(c)&&(a[0].style.top=c+"px")},_setElementTopPosition:function(a,b){isNaN(b)||(a[0].style.top=b+"px")},_setElementLeftPosition:function(a,b){isNaN(b)||(a[0].style.left=b+"px")},handlemouseleave:function(a){var b=this.btnUp,c=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var d=this.btnThumb,e=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");d.removeClass(e),d.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(a){var b=this.btnUp,c=this.btnDown;if(this.buttonUpCapture&&(b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(c.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var d=this.btnThumb;this.vertical?d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),d.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(a){var b=this.btnUp,c=this.btnDown,d=0;if(null!=c&&null!=b){if(null!=b&&null!=c&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&a.which==d?(c.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&a.which==d&&(b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var e=this.btnThumb;if(a.which==d&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return e.removeClass(f),e.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation();var g=0;try{g=this.vertical?a.clientY-this.dragStartY:a.clientX-this.dragStartX;var h=this._btnAndThumbSize;this._btnAndThumbSize||(h=this.vertical?b.height()+c.height()+e.height():b.width()+c.width()+e.width());var i=(this.max-this.min)/(this.scrollBarSize-h);if("auto"!=this.thumbStep){if(g*=i,Math.abs(this.dragStartValue+g-this.value)>=parseInt(this.thumbStep)){var j=Math.round(parseInt(g)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-j):this.setPosition(this.dragStartValue+j),!1}return!1}g*=i;var j=g;this.rtl&&!this.vertical&&(j=-g),this.setPosition(this.dragStartValue+j),this.offset=parseInt(e[0].style.left),this.vertical&&(this.offset=parseInt(e[0].style.top))}catch(k){alert(k)}return!1}},handlemouseup:function(b,c){function d(){var a,b;if(h.amplitude)if(a=Date.now()-h.timestamp,b=-h.amplitude*Math.exp(-a/325),b>.5||b<-.5){var c=(h.max-h.min)/(h.scrollBarSize-h._btnAndThumbSize),e=c*(h.target+b),f=e;h.rtl&&!h.vertical&&(f=-e),h.setPosition(h.dragStartValue+f),requestAnimationFrame(d)}else{var c=(h.max-h.min)/(h.scrollBarSize-h._btnAndThumbSize),e=c*(h.target+b),f=e;h.rtl&&!h.vertical&&(f=-e),h.setPosition(h.dragStartValue+f)}}var e=!1;if(this.thumbCapture){this.thumbCapture=!1;var f=this.btnThumb,g=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(f.removeClass(g),f.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e=!0,this._mouseup=new Date,a.jqx.scrollAnimation){var h=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical?this.target-=this.reference:this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(d))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var i=this.btnUp,j=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),j.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),j.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),e=!0,this._mouseup=new Date}e&&(void 0!=c.preventDefault&&c.preventDefault(),null!=c.originalEvent&&(c.originalEvent.mouseHandled=!0),void 0!=c.stopPropagation&&c.stopPropagation())},setPosition:function(b,c){this.element;if(void 0!=b&&NaN!=b||(b=this.min),b>=this.max&&(b=this.max),b<this.min&&(b=this.min),this.value!==b||1==c){if(b==this.max){var d=new a.Event("complete");this.host.trigger(d)}var e=this.value;if(this._triggervaluechanged){var f=new a.Event("valueChanged");f.previousValue=this.value,f.currentValue=b}this.value=b,this._positionelements(),this._triggervaluechanged&&this.host.trigger(f),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:e})}return b},val:function(a){var b=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return"number"!=typeof a&&("date"!=typeof a&&("boolean"!=typeof a&&"string"!=typeof a))};return b(a)||0==arguments.length?this.value:(this.setPosition(a),a)},_getThumbSize:function(a){var b=this.max-this.min,c=0;return b>1?c=a/(b+a)*a:1==b?c=a-1:0==b&&(c=a),this.thumbSize>0&&(c=this.thumbSize),c<this.thumbMinSize&&(c=this.thumbMinSize),Math.min(c,a)},_positionelements:function(){var a=(this.element,this.areaUp),b=this.areaDown,c=(this.btnUp,this.btnDown,this.btnThumb),d=(this.scrollWrap,this._height?this._height:this.host.height()),e=this._width?this._width:this.host.width(),f=this.vertical?e:d;this.showButtons||(f=0);var g=this.vertical?d:e;this.scrollBarSize=g;var h=this._getThumbSize(g-2*f);h=Math.floor(h),h<this.thumbMinSize&&(h=this.thumbMinSize),(NaN==d||d<10)&&(d=10),(NaN==e||e<10)&&(e=10),f+=2,this.btnSize=f;var i=this._btnAndThumbSize;if(!this._btnAndThumbSize){var i=this.vertical?2*this.btnSize+c.outerHeight():2*this.btnSize+c.outerWidth();i=Math.round(i)}var j=(g-i)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(j=(g-i)/(this.max-this.min)*(this.max-this.value-this.min)),j=Math.round(j),j<0&&(j=0),this.vertical){var k=g-j-i;k<0&&(k=0),b[0].style.height=k+"px",a[0].style.height=j+"px",this._setElementTopPosition(a,f),this._setElementTopPosition(c,f+j),this._setElementTopPosition(b,f+j+h)}else a[0].style.width=j+"px",g-j-i>=0?b[0].style.width=g-j-i+"px":b[0].style.width="0px",this._setElementLeftPosition(a,f),this._setElementLeftPosition(c,f+j),this._setElementLeftPosition(b,2+f+j+h)},_arrange:function(){var a=this;if(a._initialLayout)return void(a._initialLayout=!1);if(a.min>a.max){var b=a.min;a.min=a.max,a.max=b}if(a.min<0){var c=a.max-a.min;a.min=0,a.max=c}var d=(a.element,a.areaUp),e=a.areaDown,f=a.btnUp,g=a.btnDown,h=a.btnThumb,i=a.scrollWrap,j=parseInt(a.element.style.height),k=parseInt(a.element.style.width);if(a.isPercentage)var j=a.host.height(),k=a.host.width();isNaN(j)&&(j=0),isNaN(k)&&(k=0),a._width=k,a._height=j;var l=a.vertical?k:j;a.showButtons||(l=0),f[0].style.width=l+"px",f[0].style.height=l+"px",g[0].style.width=l+"px",g[0].style.height=l+"px",a.vertical?i[0].style.width=k+2+"px":i[0].style.height=j+2+"px",a._setElementPosition(f,0,0);var m=l+2;a.vertical?a._setElementPosition(g,0,j-m):a._setElementPosition(g,k-m,0);var n=a.vertical?j:k;a.scrollBarSize=n;var o=a._getThumbSize(n-2*m);o=Math.floor(o-2),o<a.thumbMinSize&&(o=a.thumbMinSize);var p=!1;a.isTouchDevice&&0!=a.touchModeStyle&&(p=!0),a.vertical?(h[0].style.width=k+"px",h[0].style.height=o+"px",p&&0!==a.thumbTouchSize&&(h.css({width:a.thumbTouchSize+"px"}),h.css("margin-left",(a.host.width()-a.thumbTouchSize)/2))):(h[0].style.width=o+"px",h[0].style.height=j+"px",p&&0!==a.thumbTouchSize&&(h.css({height:a.thumbTouchSize+"px"}),h.css("margin-top",(a.host.height()-a.thumbTouchSize)/2))),(NaN==j||j<10)&&(j=10),(NaN==k||k<10)&&(k=10),a.btnSize=l;var q=a.vertical?2*m+(2+parseInt(h[0].style.height)):2*m+(2+parseInt(h[0].style.width));q=Math.round(q),a._btnAndThumbSize=q;var r=(n-q)/(a.max-a.min)*(a.value-a.min);if(a.rtl&&!a.vertical&&(r=(n-q)/(a.max-a.min)*(a.max-a.value-a.min)),r=Math.round(r),(isNaN(r)||r<0||r===-(1/0)||r===1/0)&&(r=0),a.vertical){var s=n-r-q;s<0&&(s=0),e[0].style.height=s+"px",e[0].style.width=k+"px",d[0].style.height=r+"px",d[0].style.width=k+"px";var t=parseInt(a.element.style.height);a.isPercentage&&(t=a.host.height()),h[0].style.visibility="inherit",(t-3*parseInt(l)<0||t<q)&&(h[0].style.visibility="hidden"),a._setElementPosition(d,0,m),a._setElementPosition(h,0,m+r),a._setElementPosition(e,0,m+r+o)}else{r>0&&(d[0].style.width=r+"px"),j>0&&(d[0].style.height=j+"px");var u=n-r-q;u<0&&(u=0),e[0].style.width=u+"px",e[0].style.height=j+"px";var v=parseInt(a.element.style.width);a.isPercentage&&(v=a.host.width()),h[0].style.visibility="inherit",(v-3*parseInt(l)<0||v<q)&&(h[0].style.visibility="hidden"),a._setElementPosition(d,m,0),a._setElementPosition(h,m+r,0),a._setElementPosition(e,m+r+o,0)}}})}(jqxBaseFramework),function(a){var b=0;a.jqx.jqxWidget("jqxScrollView","",{}),a.extend(a.jqx._jqxScrollView.prototype,{defineInstance:function(){var b={width:320,height:320,buttonsOffset:[0,0],moveThreshold:.5,currentPage:0,animationDuration:300,showButtons:!0,bounceEnabled:!0,slideShow:!1,slideDuration:3e3,disabled:!1,_mouseDown:!1,_movePermited:!1,_startX:-1,_startOffset:-1,_lastOffset:-1,_events:["pageChanged"],_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove")}};return this===a.jqx._jqxScrollView.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){b+=1,this._instanceId=b,this._isTouchDevice=a.jqx.mobile.isTouchDevice();var c=this;a.jqx.utilities.resize(this.host,function(){c.refresh()})},resize:function(a,b){this.width=a,this.height=b,this.refresh()},refresh:function(){if(this.host.width(this.width),this.host.height(this.height),this._render(),this._performLayout(),this.moveThreshold.toString().indexOf("%")>=0&&(this.moveThreshold=parseInt(this.moveThreshold,10)/100),this._refreshPages(),this._refreshButtons(),this._removeEventListeners(),this._addEventListeners(),this._changePage(this.currentPage,!1,0),this.slideShow){var a=this;this.slideShowTimer=setInterval(function(){a.currentPage>=a._pages.length-1?a._changePage(0,!0,a.animationDuration):a._changePage(a.currentPage+1,!0,a.animationDuration)},this.slideDuration)}else void 0!=this.slideShowTimer&&clearInterval(this.slideShowTimer)},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this._removeEventListeners(),this.host.remove()},_getEvent:function(a){return this._isTouchDevice?this._eventsMap[a]:a},_eventNamespace:function(){return".scrollview"+this._instanceId},_removeEventListeners:function(){this.removeHandler(this._innerWrapper),this.removeHandler(this.host,this._getEvent("mousemove")+this._eventNamespace()),this.removeHandler(a(document),this._getEvent("mouseup")+this._eventNamespace()),this.mouseupFuncForTop&&(this.removeHandler(a(window.top.document),"mouseup",this.mouseupFuncForTop),this.mouseupFuncForTop=null,delete this.mouseupFuncForTop)},_getCoordinate:function(b,c){if(this._isTouchDevice){var d=a.jqx.position(b);if("pageX"==c)return d.left;if("pageY"==c)return d.top;if(b.originalEvent.touches)return b.originalEvent.touches[0][c]}return b[c]},_draggedRight:function(){if(this.currentPage>0){var b=this.currentPage-1,c=a(this._pages[b]),d=c.offset().left+c.outerWidth(),e=d-this.host.offset().left;if(e>=this.host.width()*this.moveThreshold)return this.changePage(b),!0}return!1},_draggedLeft:function(){if(this.currentPage+1<this._pages.length){var b=this.currentPage+1,c=a(this._pages[b]),d=this.host.width()-(c.offset().left-this.host.offset().left);if(d>=this.host.width()*this.moveThreshold)return this.changePage(b),!0}return!1},_dropTarget:function(){var a;a=this._movedLeft?this._draggedLeft():this._draggedRight(),a||this.changePage(this.currentPage,!1)},_scrollEnabled:function(a){return!!this._mouseDown&&(this._movePermited||Math.abs(this._getCoordinate(a,"pageX")-this._startX)>=15&&(this._movePermited=!0),this._movePermited)},_setMoveDirection:function(a){this._lastOffset>a?this._movedLeft=!0:this._movedLeft=!1},_getBounceOffset:function(a){var b=-(this._innerWrapper.width()-this.host.width());return a>0?a=0:a<b&&(a=b),a},_addEventListeners:function(){var b=this;this.addHandler(this._innerWrapper,this._getEvent("mousedown")+this._eventNamespace(),function(a){b._mouseDown=!0,b._startX=b._getCoordinate(a,"pageX"),b._startOffset=b._lastOffset=parseInt(b._innerWrapper.css("margin-left"),10)}),this.addHandler(this.host,"dragstart",function(){return!1}),this.addHandler(this.host,this._getEvent("mousemove")+this._eventNamespace(),function(a){if(b._scrollEnabled(a)){var c=b._startOffset+b._getCoordinate(a,"pageX")-b._startX;return b.bounceEnabled||(c=b._getBounceOffset(c)),b._innerWrapper.css("margin-left",c),b._setMoveDirection(c),b._lastOffset=c,a.preventDefault(),!1}return!0}),this.addHandler(a(document),this._getEvent("mouseup")+this._eventNamespace(),function(a){b._movePermited&&b._dropTarget(),b._movePermited=!1,b._mouseDown=!1});try{(""!=document.referrer||window.frameElement)&&(null!=window.top&&window.parent&&document.referrer&&(parentLocation=document.referrer),parentLocation.indexOf(document.location.host)!=-1&&window.top.document&&(b.mouseupFuncForTop=function(a){b._movePermited&&b._dropTarget(),b._movePermited=!1,b._mouseDown=!1},b.addHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop)))}catch(c){}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-scrollview")),this.host.css({overflow:"hidden",position:"relative"})},_performLayout:function(){this.host.css({width:this.width,height:this.height})},_renderPages:function(){this._innerWrapper||(this._innerWrapper=a("<div/>"),this.host.wrapInner(this._innerWrapper),this._innerWrapper=this.host.children().first()),this._innerWrapper.addClass(this.toThemeProperty("jqx-scrollview-inner-wrapper")),this._innerWrapper.height(this.host.height())},_refreshPage:function(a){a.addClass(this.toThemeProperty("jqx-scrollview-page")),this._performPageLayout(a)},_refreshPages:function(){var b=this,c=0;this._renderPages(),this._pages=this._innerWrapper.children(),this._pages.each(function(){
b._refreshPage(a(this)),c+=a(this).outerWidth(!0)}),this._innerWrapper.width(c)},_performPageLayout:function(a){a.css("float","left"),a.width(this.host.width()),a.height(this.host.height())},_refreshButtons:function(){this._renderButtons(),this._removeButtonsEventListeners(),this._addButtonsEventListeners(),this._performButtonsLayout()},_removeButtonsEventListeners:function(){var b=this;this._buttonsContainer.children().each(function(){b.removeHandler(a(this))})},_addButtonsEventListeners:function(){var b=this;this._buttonsContainer.children().each(function(c){b.addHandler(a(this),"click",function(){b.changePage(c)})})},_performButtonsLayout:function(){var a=(this.host.width()-this._buttonsContainer.width())/2,b=0!=this._buttonsContainer.outerHeight()?this._buttonsContainer.outerHeight():14;this._buttonsContainer.css({position:"absolute",left:a+parseInt(this.buttonsOffset[0],10),top:this.host.height()-2*b+parseInt(this.buttonsOffset[1],10)-1})},_renderButtons:function(){this._buttonsContainer&&this._buttonsContainer.remove();var b;this._buttons=[],this._buttonsContainer=a("<span/>");for(var c=0;c<this._pages.length;c+=1)b=a('<span class="'+this.toThemeProperty("jqx-scrollview-button")+" "+this.toThemeProperty("jqx-fill-state-normal")+'"></span>'),this._buttonsContainer.append(b),this._buttons[c]=b;this._buttonsContainer.appendTo(this.host),this.showButtons||this._buttonsContainer.hide()},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},_swapButtons:function(a,b){this._buttons[a].removeClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._buttons[b].addClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[b].addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_changePage:function(b,c,d){if(!this.disabled){var e=a(this._pages[b]),f=(this.host.width()-e.width())/2,g=e.offset().left-this._innerWrapper.offset().left-f,h=this.currentPage,i=this;"undefined"==typeof d&&(d=this.animationDuration),this._innerWrapper.stop(),this._swapButtons(this.currentPage,b),this.currentPage=b,this._innerWrapper.animate({marginLeft:-g},d,function(){c&&i._raiseEvent(0,{currentPage:b,oldPage:h})})}},propertyChangedHandler:function(a,b,c,d){if("currentPage"===b)a.currentPage=c,a.changePage(d);else if(/(buttonsOffset|width|height)/.test(b))a.refresh();else{if("showButtons"===b)return void(d?a._buttonsContainer.css("display","block"):a._buttonsContainer.css("display","none"));"slideShow"==b&&a.refresh()}},changePage:function(a){if(a>=this._pages.length||a<0)throw new Error("Invalid index!");this._changePage(a,!0)},forward:function(){this.currentPage+1<this._pages.length&&this.changePage(this.currentPage+1)},back:function(){this.currentPage-1>=0&&this.changePage(this.currentPage-1)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxSlider","",{}),a.extend(a.jqx._jqxSlider.prototype,{defineInstance:function(){var b={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,tickMode:"default",tickNumber:10,minorTickNumber:20,niceInterval:!1,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipFormatSettings:null,tooltipPosition:"near",tooltipHideDelay:500,tooltipStyle:"default",sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelStyleSettings:null,tickLabelFormatSettings:null,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,editableLabels:!1,padding:{},_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,_helpers:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===a.jqx._jqxSlider.prototype?b:(a.extend(!0,this,b),b)},_createFromInput:function(b){var c,d,e,f,g,h,i=this;if("input"===i.element.nodeName.toLowerCase()&&(i.field=i.element,i.field.className&&(i._className=i.field.className),c={title:i.field.title},i.field.value&&(c.value=i.field.value),i.field.id.length?c.id=i.field.id.replace(/[^\w]/g,"_")+"_"+b:c.id=a.jqx.utilities.createId()+"_"+b,i.field.getAttribute("min")&&(d=i.field.getAttribute("min"),i.min=parseFloat(d)),i.field.getAttribute("step")&&(e=i.field.getAttribute("step"),i.step=parseFloat(e)),i.field.getAttribute("max")&&(f=i.field.getAttribute("max"),i.max=parseFloat(f)),g=document.createElement("div"),void 0!==c.id&&g.setAttribute("id",c.id),void 0!==c.value&&g.setAttribute("value",c.value),g.style.cssText=i.field.style.cssText,i.width||(i.width=i.field.offsetWidth),i.height||(i.height=i.field.offsetHeight),i.field.style.display="none",i.field.parentNode&&i.field.parentNode.insertBefore(g,i.field.nextSibling),h=i.host.data(),i.host=a(g),i.host.data(h),i.element=g,i.element.id=i.field.id,i.field.id=c.id,i._helpers.element=new jqxHelper(i.element),i._helpers.field=new jqxHelper(i.field),i._className&&(i._helpers.element.addClass(i._className),i._helpers.field.removeClass(i._className)),i.field.tabIndex)){var j=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=j}},createInstance:function(b){var c=this;c._createFromInput("jqxSlider"),c._isTouchDevice=a.jqx.mobile.isTouchDevice();var d="<div role='slider'><div style='width:100%; height: 100%;'></div></div><div><div></div><div></div><div></div></div><div><div style='width:100%; height: 100%;'></div></div>";if(c.element.innerHTML=d,c._leftButton=c.element.firstChild,c._contentWrapper=c._leftButton.nextSibling,c._rightButton=c._contentWrapper.nextSibling,c.element.className=c.toThemeProperty("jqx-slider jqx-widget"),c._topTicks=c._contentWrapper.firstChild,c._track=c._topTicks.nextSibling,c._bottomTicks=c._track.nextSibling,c._leftButton.className=c.toThemeProperty("jqx-slider-left"),c._rightButton.className=c.toThemeProperty("jqx-slider-left"),c._helpers.leftButton=new jqxHelper(c._leftButton),c._helpers.rightButton=new jqxHelper(c._rightButton),c._helpers.element=new jqxHelper(c.element),c._helpers.track=new jqxHelper(c._track),!c.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");if(a.jqx.aria(this),"s"===c.int64){if(!a.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxmath.js");a.jqx.longInt(c),c._value64=(new a.jqx.math).fromString(c.value.toString(),10),c._values64=[(new a.jqx.math).fromString(c.values[0].toString(),10),(new a.jqx.math).fromString(c.values[1].toString(),10)],c._min64=(new a.jqx.math).fromString(c.min.toString(),10),c._max64=(new a.jqx.math).fromString(c.max.toString(),10),c._step64=(new a.jqx.math).fromString(c.step.toString(),10),c._ticksFrequency64=(new a.jqx.math).fromString(c.ticksFrequency.toString(),10),c._minorTicksFrequency64=(new a.jqx.math).fromString(c.minorTicksFrequency.toString(),10)}else if("u"===c.int64){try{new BigNumber(c.value)}catch(e){throw new Error("jqxSlider: Missing reference to jqxmath.js")}c._value64=new BigNumber(c.value),c._values64=[new BigNumber(c.values[0]),new BigNumber(c.values[1])],c._min64=new BigNumber(c.min),c._max64=new BigNumber(c.max),c._step64=new BigNumber(c.step),c._ticksFrequency64=new BigNumber(c.ticksFrequency),c._minorTicksFrequency64=new BigNumber(c.minorTicksFrequency)}if(c._helpers.element.width(c.width),c._helpers.element.height(c.height),c._helpers.element.isRendered()?(a(c._leftButton).jqxRepeatButton({template:c.template,theme:c.theme,delay:50,width:c.sliderButtonSize,height:c.sliderButtonSize}),a(c._rightButton).jqxRepeatButton({template:c.template,theme:c.theme,delay:50,width:c.sliderButtonSize,height:c.sliderButtonSize}),c.render()):c._helpers.element.sizeChanged(function(){a(c._leftButton).jqxRepeatButton({template:c.template,theme:c.theme,delay:50,width:c.sliderButtonSize,height:c.sliderButtonSize}),a(c._rightButton).jqxRepeatButton({template:c.template,theme:c.theme,delay:50,width:c.sliderButtonSize,height:c.sliderButtonSize}),c.render()}),c._helpers.element.sizeStyleChanged(function(){var a=c._helpers.element.getSizeFromStyle();a.width&&(c.width=a.width),a.height&&(c.height=a.height),c.__trackSize=null,c.__thumbSize=null,c._performLayout(),c._initialSettings()}),this.$dataBinders$)for(var f in this.$dataBinders$){var g=this.$dataBinders$[f];if(g){var h=this.bindDataBinder(f);g.unbindCallbackFunc(this.element.id),g.bindCallbackFunc(this.element.id,h),g.dataBind()}}},bindDataBinder:function(a){var b=this;if("value"==a)return function(a,c){c=c||{};var d;"update"==a?(d=c.value,b.setValue(d)):"load"==a&&(d=c.records,b.int64===!1?b.rangeSlider?(d=void 0==d?[]:d,"number"!=typeof d?b.value=d:b.values=d):b.value=d:this.rangeSlider===!1||Array.isArray(this._value64)===!0?(d=void 0==d?[]:d,b._value64=d):b._values64=d,b._initialSettings())}},render:function(){var b=this;b._setPaddingValues(),b._rendering=!0,b._refresh(),b._raiseEvent(4,{value:b.getValue()}),b._addInput();var c=null==b.element.getAttribute("tabindex");c&&b.element.setAttribute("tabindex",0),a.jqx.utilities.resize(b.host,function(){b.__trackSize=null,b.__thumbSize=null,b._performLayout(),b._initialSettings()}),"vertical"===b.orientation&&(b.element.style.minWidth="96px"),b._rendering=!1},focus:function(){try{this.host.focus()}catch(a){}},destroy:function(){var b=this;b.removeHandler(a(document),"mouseup.arrow"+b.element.id),b.removeHandler(a(document),b._getEvent("mouseup")+"."+b.element.id),b.removeHandler(a(document),b._getEvent("mousemove")+"."+b.element.id),a.jqx.utilities.resize(this.host,null,!0),this._removeEventHandlers(),this._leftButton&&a(this._leftButton).jqxRepeatButton("destroy"),this._rightButton&&a(this._rightButton).jqxRepeatButton("destroy"),b.host.remove(),b._helpers=[]},_addInput:function(){var a=this,b=a.element.getAttribute("name"),c=document.createElement("input");c.setAttribute("type","hidden"),a.element.appendChild(c),b&&c.setAttribute("name",b),a.rangeSlider?a.values&&(c.value=a.value.rangeStart.toString()+"-"+a.value.rangeEnd.toString()):c.value=a.value.toString(),a.input=c},_getSetting:function(a){return this._settings[this.orientation][a]},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},refresh:function(a){a||this._refresh()},_refresh:function(){var a=this;a._render(),a._performLayout(),a._removeEventHandlers(),a._addEventHandlers(),a._initialSettings()},_render:function(){var a=this;a._addTrack(),a._addSliders(),a._addTickContainers(),a._updateButtonsVisibility(),a._addRangeBar()},_addTrack:function(){var a=this,b=a._track;a._helpers.track.addClass(a.toThemeProperty("jqx-slider-track")),b.setAttribute("style",""),a._helpers.track.removeClass(a.toThemeProperty("jqx-slider-track-"+a._getSetting("opposite"))),a._helpers.track.addClass(a.toThemeProperty("jqx-slider-track-"+a.orientation)),a._helpers.track.addClass(a.toThemeProperty("jqx-fill-state-normal jqx-rc-all"))},_addSliders:function(){var a=this;if(null===a._slider||a._slider.length<1){a._slider={};var b=document.createElement("div"),c=document.createElement("div");b.className=a.toThemeProperty("jqx-slider-slider"),c.className=a.toThemeProperty("jqx-slider-slider"),a._slider.left=b,a._track.appendChild(b),a._slider.right=c,a._track.appendChild(c),a._helpers.track=new jqxHelper(a._track),a._helpers.left=new jqxHelper(a._slider.left),a._helpers.right=new jqxHelper(a._slider.right),a.template&&(a._helpers.left.addClass(a.toThemeProperty("jqx-"+a.template)),a._helpers.right.addClass(a.toThemeProperty("jqx-"+a.template)))}a._helpers.left.removeClass(a.toThemeProperty("jqx-slider-slider-"+a._getSetting("opposite"))),a._helpers.left.addClass(a.toThemeProperty("jqx-slider-slider-"+a.orientation)),a._helpers.right.removeClass(a.toThemeProperty("jqx-slider-slider-"+a._getSetting("opposite"))),a._helpers.right.addClass(a.toThemeProperty("jqx-slider-slider-"+a.orientation)),a._helpers.right.addClass(a.toThemeProperty("jqx-fill-state-normal")),a._helpers.left.addClass(a.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){var a=this;a._bottomTicks.className=a.toThemeProperty("jqx-slider-tickscontainer"),a._topTicks.className=a.toThemeProperty("jqx-slider-tickscontainer");var b="visible";a.showTicks||(b="hidden"),a._bottomTicks.style.visibility=b,a._topTicks.style.visibility=b},_updateButtonsVisibility:function(){var a=this,b="block";a.showButtons&&!a.rangeSlider||(b="none"),a._rightButton.style.display=b,a._leftButton.style.display=b},_getNiceInterval:function(b){function c(a){return Math.log(parseFloat(a))/Math.LN10}var d,e=this,f="Width";"vertical"===e.orientation&&(f="Height");var g=document.createElement("span");if(g.className=e.toThemeProperty("jqx-widget jqx-slider-label"),g.style.position="absolute",g.style.visibility="hidden",e.tickLabelStyleSettings){var h=e.tickLabelStyleSettings;g.style.fontSize=h.fontSize,g.style.fontFamily=h.fontFamily,g.style.fontWeight=h.fontWeight,g.style.fontStyle=h.fontStyle}var i,j;i=e._formatLabel(e.min),j=e._formatLabel(e.max);var k=a.jqx.browser.msie?0:1;document.body.appendChild(g),g.innerHTML=i;var l=g["scroll"+f]+k;g.innerHTML=j;var m=g["scroll"+f]+k;g.parentNode.removeChild(g);var n=Math.max(m,l),o=0;n>105&&(o=(n-105)/100),n*=1.5+o;var p=e._getTrackSize();p>64&&e.showButtons===!1&&(p-=64);var q,r,s,t,u,v=Math.round(p/n);return 0===v&&(v=1),b===!0&&(v*=4),e.int64===!1?(q=e.max-e.min,r=Math.floor(c(q)-c(v)),s=Math.pow(10,r),t=v*s,d=q<2*t?1:q<3*t?2:q<7*t?5:10,u=d*s):(q=new BigNumber(e.max).subtract(new BigNumber(e.min)),r=Math.floor(c(q.toString())-c(v)),s=new BigNumber(10).pow(new BigNumber(r)),t=new BigNumber(v).multiply(s),d=q.compare(new BigNumber(2*t))===-1?1:q.compare(new BigNumber(3*t))===-1?2:q.compare(new BigNumber(7*t))===-1?5:10,u=new BigNumber(d).multiply(s),u.compare(1)===-1&&(u=new BigNumber(1)),"s"===e.int64&&(u=(new a.jqx.math).fromString(u.toString()))),u},_formatLabel:function(b,c){var d,e=this,f=c!==!0?e.tickLabelFormatFunction:e.tooltipFormatFunction,g=c!==!0?e.tickLabelFormatSettings:e.tooltipFormatSettings;return f?d=f(b):g?void 0!==g.radix?d=(new a.jqx.math).getRadixValue(b,e.int64,g.radix):void 0!==g.outputNotation&&"default"!==g.outputNotation&&"decimal"!==g.outputNotation?d=(new a.jqx.math).getDecimalNotation(b,g.outputNotation,g.decimalDigits,g.digits):void 0!==g.decimalDigits?d=Number(b).toFixed(g.decimalDigits):void 0!==g.digits&&(d=Number(Number(b).toPrecision(g.digits)).toString()):d=b,d},_addTicks:function(b,c){var d=this;if(d.showTicks){var e,f,g,h,i,j,k,l,m,n,o,p,q,r=parseInt(b.style[d._getSetting("size")],10),s="normal"===d.layout&&"horizontal"===d.orientation&&d.rtl===!1||"reverse"===d.layout&&"vertical"===d.orientation,t="";d.int64===!1?(i=d.max-d.min,"default"===d.tickMode?(d.niceInterval?(g=d._getNiceInterval(),h=d._getNiceInterval(!0)):(g=d.ticksFrequency,h=d.minorTicksFrequency),j=Math.round(i/g),k=Math.round(i/h)):"tickNumber"===d.tickMode&&(j=d.tickNumber,k=d.minorTickNumber,g=Math.round(i/j)),m=d.min,n=d.max):"s"===d.int64?(i=d._max64.subtract(d._min64),"default"===d.tickMode?(d.niceInterval?(g=d._getNiceInterval(),h=d._getNiceInterval(!0)):(g=d._ticksFrequency64,h=d._minorTicksFrequency64),j=i.div(g).toNumber(),k=i.div(h).toNumber()):"tickNumber"===d.tickMode&&(j=d.tickNumber,k=d.minorTickNumber,g=i.div((new a.jqx.math).fromNumber(j))),m=d._min64.toString(),n=d._max64.toString()):"u"===d.int64&&(i=d._max64.subtract(d._min64),"default"===d.tickMode?(d.niceInterval?(g=d._getNiceInterval(),h=d._getNiceInterval(!0)):(g=d._ticksFrequency64,h=d._minorTicksFrequency64),j=parseInt(i.divide(g).toString(),10),k=parseInt(i.divide(h).toString(),10)):"tickNumber"===d.tickMode&&(j=d.tickNumber,k=d.minorTickNumber,g=i.divide(new BigNumber(j)).intPart()),m=d._min64.toString(),n=d._max64.toString());var u=r/j;l=r/k,b.innerHTML="",f=s?d._formatLabel(m):d._formatLabel(n);var v=document.createElement("span");if(v.style.visibility="hidden",v.className=d.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"),d.tickLabelStyleSettings){var w=d.tickLabelStyleSettings;v.style.fontSize=w.fontSize,v.style.fontFamily=w.fontFamily,v.style.fontWeight=w.fontWeight,v.style.fontStyle=w.fontStyle}document.body.appendChild(v),v.innerHTML="0";var x={width:v.offsetWidth,height:v.offsetHeight};v.parentNode.removeChild(v);var y=parseInt(b.style[d._getSetting("oSize")],10),z="horizontal"===d.orientation?d.padding.left:0;t+=d._addTick(b,z,d.min,y,f,x,!1,c);var A=document.createElement("span");A.className=d.toThemeProperty("jqx-widget"),A.style.position="absolute",A.style.visibility="hidden",document.body.appendChild(A),A.innerHTML=d.min.toString(),o="horizontal"===d.orientation?A.offsetWidth:A.offsetHeight;var B=0,C=0;if("default"===d.tickMode&&d.niceInterval===!0){var D,E;if(d.int64===!1)s?(D=d.min,E=D-D%g+g,B=E-D):(D=d.max,E=D-D%g,B=D-E),C=B/g*u;else{var F=new BigNumber(g.toString());s?(D=new BigNumber(d.min),E=D.subtract(D.mod(F)).add(F),B=E.subtract(D)):(D=new BigNumber(d.max),E=D.subtract(D.mod(F)),B=D.subtract(E)),C=parseFloat(B.divide(F).multiply(u).toString())}var G=!0;if(o>=C&&(G=!1),E.toString()!==d.max.toString()&&C<r){var H=d._formatLabel(E.toString());t+=d._addTick(b,C+z,E,y,H,x,!1,c,G)}}for(p=1;p<j;p++){e=p*u+C,e=Math.floor(e);var I;d.int64===!1?I=s?d.min+g*p+B:d.max-g*p-B:"s"===d.int64?I=s?d._min64.add(g.multiply((new a.jqx.math).fromString(p.toString(),10))).add((new a.jqx.math).fromString(B.toString(),10)).toString():d._max64.subtract(g.multiply((new a.jqx.math).fromString(p.toString(),10))).subtract((new a.jqx.math).fromString(B.toString(),10)).toString():"u"===d.int64&&(I=s?d._min64.add(g.multiply(p)).add(B).toString():d._max64.subtract(g.multiply(p)).subtract(B).toString()),I.toString()!==d.max.toString()&&(f=d._formatLabel(I.toString()),q=!0,"default"===d.tickMode&&d.niceInterval===!0&&(A.innerHTML=f,o="horizontal"===d.orientation?A.offsetWidth:A.offsetHeight,e+o>=j*u&&(q=!1)),t+=d._addTick(b,e+z,p,y,f,x,!1,c,q))}if(d.showMinorTicks)for(p=1;p<k;p++)e=p*l,e=Math.floor(e),f="",t+=d._addTick(b,e+z,p,y,f,x,!0,c);f=s?d._formatLabel(n):d._formatLabel(m),t+=d._addTick(b,j*u+z,d.max,y,f,x,!1,c),b.innerHTML=t,A.parentNode.removeChild(A)}},_addTick:function(a,b,c,d,e,f,g,h,i){var j,k=this,l="";l=k.toThemeProperty("jqx-slider-tick"),l+=" "+k.toThemeProperty("jqx-fill-state-pressed"),k.template&&(l+=" "+k.toThemeProperty("jqx-"+k.template));var m,n=k._getSetting("top"),o="2px",p=k.tickSize;if(g&&(p=k.minorTickSize),a!==k._bottomTicks&&(o=d-p-2+"px"),"horizontal"===k.orientation){if(m='<div style="'+n+": "+o+"; "+k._getSetting("oSize")+":  "+p+"px; float: left; position:absolute; left:"+b+'px;" class="'+k.toThemeProperty("jqx-slider-tick-horizontal")+" "+l+'"></div>',k.showTickLabels){o=a!==k._bottomTicks?d-p-f.height-2+"px":2+p+"px";var q=f.width*e.toString().length;if(q/=2,j=b-q,i!==!1){var r="",s="",t="",u="";if(k.tickLabelStyleSettings){var v=k.tickLabelStyleSettings;v.fontSize&&(r=v.fontSize),v.fontFamily&&(s=v.fontFamily),v.fontWeight&&(t=v.fontWeight),v.fontStyle&&(u=v.fontStyle)}m+='<div class="'+k.toThemeProperty("jqx-slider-label jqx-slider-label-"+h)+'" style="'+n+": "+o+"; float: left; position:absolute; left:"+j+"px; white-space: nowrap; font-size: "+r+"; font-family: "+s+"; font-weight: "+t+"; font-style: "+u+'">'+e+"</div>"}}}else if(m='<div style="'+n+": "+o+"; "+k._getSetting("oSize")+":  "+p+"px; float: none; position:absolute; top:"+b+'px;" class="'+k.toThemeProperty("jqx-slider-tick-vertical")+" "+l+'"></div>',k.showTickLabels){o=a!==k._bottomTicks?d-p-e.toString().length*f.width-6+"px":6+p+"px";var w=f.height;w/=2,j=b-w,i!==!1&&(m+='<div class="'+k.toThemeProperty("jqx-slider-label jqx-slider-label-"+h)+'" style="'+n+": "+o+"; float: none; position:absolute; top:"+j+'px;">'+e+"</div>")}return m},_addRangeBar:function(){var a=this;(null===a._rangeBar||a._rangeBar.length<1)&&(a._rangeBar=document.createElement("div"),a._rangeBar.className=a.toThemeProperty("jqx-slider-rangebar jqx-fill-state-pressed jqx-rc-all"),a.template&&(a._rangeBar.className+=" "+a.toThemeProperty("jqx-"+a.template)),a._helpers.rangeBar=new jqxHelper(a._rangeBar),a._track.appendChild(a._rangeBar)),a.showRange?a._rangeBar.style.display="block":a._rangeBar.style.display="none",a._thumbSize=a._slider.left.offsetWidth},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){var a=this;null!==a.width&&a.width.toString().indexOf("px")!==-1?a.element.style.width=parseInt(a.width,10)+"px":void 0===a.width||isNaN(a.width)||(a.element.style.width=parseInt(a.width,10)+"px"),null!==a.height&&a.height.toString().indexOf("px")!==-1?a.element.style.height=parseInt(a.height,10)+"px":void 0===a.height||isNaN(a.height)||(a.element.style.height=parseInt(a.height,10)+"px");var b=!1;null!==a.width&&a.width.toString().indexOf("%")!==-1&&(b=!0,a._helpers.element.width(a.width)),null!==a.height&&a.height.toString().indexOf("%")!==-1&&(b=!0,a._helpers.element.height(a.height));var c=a._helpers.element.innerHeight();"width"===a._getSetting("size")&&(c=a._helpers.element.innerWidth()),a._performButtonsLayout(),a._performTrackLayout(c-6),a._contentWrapper.style[a._getSetting("size")]=a._track.style[a._getSetting("size")],a._contentWrapper.style[a._getSetting("oSize")]=a.element.style[a._getSetting("oSize")],a._performTicksLayout(),a._performRangeBarLayout();var d=a.padding;if("horizontal"===a.orientation){if(a._contentWrapper.style.position="absolute",a._contentWrapper.style.left="0px",a._contentWrapper.style.top="0px",a.showButtons&&!a.rangeSlider&&(a._contentWrapper.style.left=1+a._helpers.leftButton.outerWidth(!0)+"px",a._leftButton.style.left=d.left+"px",a._rightButton.style.right=d.right+"px","left"===a.buttonsPosition?(a._contentWrapper.style.left=2+2*a._helpers.leftButton.innerWidth()+a._helpers.left.innerWidth()/2+"px",a._rightButton.style.left=1+a._helpers.leftButton.innerWidth()+"px"):"right"===a.buttonsPosition&&(a._contentWrapper.style.left=a._helpers.left.innerWidth()/2+"px",a._leftButton.style.left="",a._leftButton.style.right=1+d.right+a._helpers.leftButton.innerWidth()+"px",a._rightButton.style.right=a._leftButton.style.right-a._helpers.leftButton.innerWidth()+"px")),!a.showButtons||a.rangeSlider){var e=2+Math.ceil(a.sliderButtonSize/2);a._contentWrapper.style.left=e+"px"}}else if(a._contentWrapper.style.position="absolute",a._contentWrapper.style.left="0px",a._contentWrapper.style.top="0px",a.showButtons&&!a.rangeSlider&&(a._contentWrapper.style.top=1+a._helpers.leftButton.outerHeight(!0)+"px",a._leftButton.style.top="0px",a._rightButton.style.bottom="0px",a._leftButton.style.left="",a._leftButton.style.right="",a._rightButton.style.left="",a._rightButton.style.right="","left"===a.buttonsPosition?(a._contentWrapper.style.top=2+2*a._helpers.leftButton.innerHeight()+a._helpers.left.innerHeight()/2+"px",a._rightButton.style.top=1+a._helpers.leftButton.innerHeight()+"px"):"right"===a.buttonsPosition&&(a._contentWrapper.style.top=a._helpers.left.innerHeight()/2+"px",a._leftButton.style.top="",a._leftButton.style.bottom=1+a._helpers.leftButton.innerHeight()+"px",a._rightButton.style.bottom=a._leftButton.style.bottom-a._helpers.leftButton.innerHeight()+"px")),!a.showButtons||a.rangeSlider){var e=2+Math.ceil(a.sliderButtonSize/2);a._contentWrapper.style.top=e+"px"}if(a.rangeSlider?a._slider.left.style.visibility="visible":a._slider.left.style.visibility="hidden",a._refreshRangeBar(),"vertical"===a.orientation&&a.showButtons){(a._leftButton.offsetWidth-a._track.offsetWidth)/2;a._track.style.marginLeft="1px"}a._editableLabels()},_performTrackLayout:function(a){var b=this,c=a;if(b.showButtons&&!b.rangeSlider&&(c-="horizontal"===b.orientation?b._helpers.leftButton.innerWidth()+b._helpers.rightButton.innerWidth()+4:b._helpers.leftButton.innerHeight()+b._helpers.rightButton.innerHeight()+4),b.rangeSlider||!b.showButtons){var d=2+Math.ceil(b.sliderButtonSize/2);c=a-2*d}"horizontal"===b.orientation?(c-=b.padding.left+b.padding.right,c-=b._helpers.left.outerWidth()-2):c-=b._helpers.left.outerHeight()-2,b._track.style[b._getSetting("size")]=c+"px",b._track.style.left=b.padding.left+"px",b._slider.left.style.left="0px",b._slider.left.style.top="0px",b._slider.right.style.left="0px",b._slider.right.style.top="0px"},_performTicksLayout:function(){var a=this;a._performTicksContainerLayout(),a._addTicks(this._topTicks,"top"),a._addTicks(this._bottomTicks,"bottom"),a._topTicks.style.visibility="hidden",a._bottomTicks.style.visibility="hidden","top"!==a.ticksPosition&&"both"!==a.ticksPosition||!a.showTicks||(a._topTicks.style.visibility="visible"),"bottom"!==a.ticksPosition&&"both"!==a.ticksPosition||!a.showTicks||(a._bottomTicks.style.visibility="visible")},_performTicksContainerLayout:function(){var a,b=this;"horizontal"===b.orientation?(b._topTicks.style.width=b._track.style.width,b._bottomTicks.style.width=b._track.style.width,a=-2+(parseInt(b.element.style.height,10)-b._helpers.track.outerHeight())/2,b._topTicks.style.height=a+"px",b._bottomTicks.style.height=a+"px",b._topTicks.style["float"]="none",b._track.style["float"]="none",b._bottomTicks.style["float"]="none"):(b._topTicks.style.height=b._track.style.height,b._bottomTicks.style.height=b._track.style.height,a=-2+(parseInt(b.element.style.width,10)-b._helpers.track.outerWidth())/2,b._topTicks.style.width=a+"px",b._bottomTicks.style.width=a+"px",b._topTicks.style["float"]="left",b._track.style["float"]="left",b._bottomTicks.style["float"]="left")},_performButtonsLayout:function(){this._updateButtonsVisibilityStyles(),this._updateButtonsVisibilityClasses(),this._updateButtonsVisibilityHover(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_centerElement:function(a){var b=new jqxHelper(a);a.style.marginLeft="0px",a.style.marginTop="0px",a.style.marginRight="0px",a.style.marginBottom="0px";var c=(parseFloat(this.element.style[this._getSetting("oSize")])-parseFloat(b[this._getSetting("outerOSize")]()))/2;return"horizontal"===this.orientation?(a.style.marginLeft="0px",a.style.marginTop=c+"px"):(a.style.marginTop="0px;",a.style.marginLeft=c+"px"),a},_updateButtonsVisibilityStyles:function(){var a=this;a._leftButton.style.backgroundPosition="center",a._rightButton.style.backgroundPosition="center","vertical"===a.orientation&&(a._leftButton.style["float"]="none",a._rightButton.style["float"]="none"),a._leftButton.style.position="absolute",a._rightButton.style.position="absolute"},_updateButtonsVisibilityClasses:function(){var a=this,b={prev:"left",next:"right"};"vertical"===a.orientation&&(b={prev:"up",next:"down"}),a._helpers.leftButton.addClass(a.toThemeProperty("jqx-rc-all jqx-slider-button")),a._helpers.rightButton.addClass(a.toThemeProperty("jqx-rc-all jqx-slider-button")),a._leftArrow=a._leftButton.firstChild,a._rightArrow=a._rightButton.firstChild,a._helpers.leftArrow=new jqxHelper(a._leftArrow),a._helpers.rightArrow=new jqxHelper(a._rightArrow),a._helpers.leftArrow.removeClass(a.toThemeProperty("jqx-icon-arrow-left")),a._helpers.rightArrow.removeClass(a.toThemeProperty("jqx-icon-arrow-right")),a._helpers.leftArrow.removeClass(a.toThemeProperty("jqx-icon-arrow-up")),a._helpers.rightArrow.removeClass(a.toThemeProperty("jqx-icon-arrow-down")),a._helpers.leftArrow.addClass(a.toThemeProperty("jqx-icon-arrow-"+b.prev)),a._helpers.rightArrow.addClass(a.toThemeProperty("jqx-icon-arrow-"+b.next))},_updateButtonsVisibilityHover:function(){var b=this,c={prev:"left",next:"right"};"vertical"===b.orientation&&(c={prev:"up",next:"down"}),b.removeHandler(a(document),"mouseup.arrow"+b.element.id),b.addHandler(a(document),"mouseup.arrow"+b.element.id,function(){b._helpers.leftArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-selected")),b._helpers.rightArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-selected")),b.sliderTooltip?(b.sliderTooltipTimer&&clearTimeout(b.sliderTooltipTimer),b.sliderTooltipTimer=setTimeout(function(){b.sliderTooltipObj.fadeOut("fast"),b._mouseDown=!1},b.tooltipHideDelay)):b._mouseDown=!1}),b.removeHandler(b._leftButton,"mousedown."+b.element.id),b.removeHandler(b._leftButton,"mouseup."+b.element.id),b.removeHandler(b._leftButton,"mouseenter."+b.element.id),b.removeHandler(b._leftButton,"mouseleave."+b.element.id),b.removeHandler(b._rightButton,"mousedown."+b.element.id),b.removeHandler(b._rightButton,"mouseup."+b.element.id),b.removeHandler(b._rightButton,"mouseenter."+b.element.id),b.removeHandler(b._rightButton,"mouseleave."+b.element.id),b.addHandler(b._leftButton,"mousedown."+b.element.id,function(){b.disabled||(b._helpers.leftArrow.addClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-selected")),b._mouseDown=!0)}),b.addHandler(b._leftButton,"mouseup."+b.element.id,function(){b.disabled||b._helpers.leftArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-selected"))}),b.addHandler(b._leftButton,"mouseenter."+b.element.id,function(){b.disabled||b._helpers.leftArrow.addClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-hover"))}),b.addHandler(b._leftButton,"mouseleave."+b.element.id,function(){b.disabled||b._helpers.leftArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.prev+"-hover"))}),b.addHandler(b._rightButton,"mousedown."+b.element.id,function(){b.disabled||(b._helpers.rightArrow.addClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-selected")),b._mouseDown=!0)}),b.addHandler(b._rightButton,"mouseup."+b.element.id,function(){b.disabled||b._helpers.rightArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-selected"))}),b.addHandler(b._rightButton,"mouseenter."+b.element.id,function(){b.disabled||b._helpers.rightArrow.addClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-hover"))}),b.addHandler(b._rightButton,"mouseleave."+b.element.id,function(){b.disabled||b._helpers.rightArrow.removeClass(b.toThemeProperty("jqx-icon-arrow-"+c.next+"-hover"))})},_layoutButtons:function(){var a=this;"horizontal"===a.orientation?a._horizontalButtonsLayout():a._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var a=this,b=2+Math.ceil(a.sliderButtonSize/2);"left"===a.buttonsPosition?(a._leftButton.style.marginRight="0px",a._rightButton.style.marginRight=b+"px"):"right"===a.buttonsPosition?(a._leftButton.style.marginLeft=2+b+"px",a._rightButton.style.marginRight="0px"):(a._leftButton.style.marginRight=b+"px",a._rightButton.style.marginLeft=b+"px")},_verticalButtonsLayout:function(){var a=this,b=2+Math.ceil(a.sliderButtonSize/2);
"left"===a.buttonsPosition?(a._leftButton.style.marginBottom="0px",a._rightButton.style.marginBottom=b+"px"):"right"===a.buttonsPosition?(a._leftButton.style.marginTop=2+b+"px",a._rightButton.style.marginBottom="0px"):(a._leftButton.style.marginBottom=b+"px",a._rightButton.style.marginTop=2+b+"px");var c=parseInt(a._leftButton.style.marginLeft,10);a._leftButton.style.marginLeft=c-1+"px",a._rightButton.style.marginLeft=c-1+"px"},_performRangeBarLayout:function(){var a=this;a._rangeBar.style[a._getSetting("oSize")]=a._helpers.track[a._getSetting("oSize")]()+"px",a._rangeBar.style[a._getSetting("size")]=a._helpers.track[a._getSetting("size")]()+"px",a._rangeBar.style.position="absolute",a._rangeBar.style.left="0px",a._rangeBar.style.top="0px"},_raiseEvent:function(b,c){var d=this,e=d._events[b],f=new a.Event(e,this.element);if(d._triggerEvents===!1)return!0;if(d._rendering)return!0;f.args=c,0===b&&(f.args.type=d.changeType,d.changeType=null),1===b&&(f.args.cancel=!1,d._slideEvent=f),d._lastValue[b]=c.value,f.owner=this;var g=d.host.trigger(f);return g},_initialSettings:function(){var a=this;a.int64===!1?a.rangeSlider?"number"!=typeof a.value?a.setValue(a.value,"load"):a.setValue(a.values,"load"):(void 0===a.value&&(a.value=0),a.setValue(a.value,"load")):a.rangeSlider===!1||Array.isArray(a._value64)===!0?a.setValue(a._value64,"load"):a.setValue(a._values64,"load"),a.disabled&&a.disable()},_addEventHandlers:function(){var b=this;b.addHandler(b._slider.right,b._getEvent("mousedown"),b._startDrag,{that:this}),b.addHandler(b._slider.left,b._getEvent("mousedown"),b._startDrag,{that:this}),b.addHandler(a(document),b._getEvent("mouseup")+"."+b.element.id,b._stopDrag,{that:this});try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var c=null;window.parent&&document.referrer&&(c=document.referrer),c&&c.indexOf(document.location.host)!==-1&&window.top.document&&(b.mouseupFuncForTop=function(a){a.data={that:this},b._stopDrag(a)},b.addHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop))}}catch(d){}b.addHandler(a(document),b._getEvent("mousemove")+"."+b.element.id,b._performDrag,{that:this}),b.addHandler(b._slider.left,"mouseenter",function(){b.disabled||b._helpers.left.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(b._slider.right,"mouseenter",function(){b.disabled||b._helpers.right.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(b._slider.left,"mouseleave",function(){b.disabled||b._helpers.left.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(b._slider.right,"mouseleave",function(){b.disabled||b._helpers.right.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),b.addHandler(b._slider.left,"mousedown",function(){b.disabled||b._helpers.left.addClass(b.toThemeProperty("jqx-fill-state-pressed"))}),b.addHandler(b._slider.right,"mousedown",function(){b.disabled||b._helpers.right.addClass(b.toThemeProperty("jqx-fill-state-pressed"))}),b.addHandler(b._slider.left,"mouseup",function(){b.disabled||b._helpers.left.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))}),b.addHandler(b._slider.right,"mouseup",function(){b.disabled||b._helpers.right.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))}),b.addHandler(b._leftButton,b._getEvent("click"),b._leftButtonHandler,{that:this}),b.addHandler(b._rightButton,b._getEvent("click"),b._rightButtonHandler,{that:this}),b.addHandler(b._track,b._getEvent("mousedown"),b._trackMouseDownHandler,{that:this}),b.addHandler(b.host,"focus",function(){b._helpers.track.addClass(b.toThemeProperty("jqx-fill-state-focus")),b._helpers.leftButton.addClass(b.toThemeProperty("jqx-fill-state-focus")),b._helpers.rightButton.addClass(b.toThemeProperty("jqx-fill-state-focus")),b._helpers.right.addClass(b.toThemeProperty("jqx-fill-state-focus")),b._helpers.left.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),b.addHandler(b.host,"blur",function(){b._helpers.track.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._helpers.leftButton.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._helpers.rightButton.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._helpers.right.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b._helpers.left.removeClass(b.toThemeProperty("jqx-fill-state-focus"))}),b.element.onselectstart=function(){return!1},b._addMouseWheelListeners(),b._addKeyboardListeners()},_addMouseWheelListeners:function(){var b=this;b.addHandler(b.host,"mousewheel",function(c){if(b.disabled)return!0;if(b.changeType="mouse",document.activeElement&&!a(document.activeElement).ischildof(b.host))return!0;var d=c.wheelDelta;c.originalEvent&&c.originalEvent.wheelDelta&&(c.wheelDelta=c.originalEvent.wheelDelta),"wheelDelta"in c||(d=c.detail*-40),d>0?b.incrementValue():b.decrementValue(),c.preventDefault()})},_addKeyboardListeners:function(){var a=this;a.addHandler(a.host,"keydown",function(b){if(a._editingLabels!==!0)switch(a.changeType="keyboard",b.keyCode){case 40:case 37:return"normal"!==a.layout||a.rtl?a.incrementValue():a.decrementValue(),!1;case 38:case 39:return"normal"!==a.layout||a.rtl?a.decrementValue():a.incrementValue(),!1;case 36:return a.rangeSlider?a.setValue([a.values[0],a.max]):a.setValue(a.min),!1;case 35:return a.rangeSlider?a.setValue([a.min,a.values[1]]):a.setValue(a.max),!1}})},_trackMouseDownHandler:function(b){var c=b.data.that,d=a.jqx.mobile.getTouches(b),e=d[0],f=parseInt(c._slider.left.style[c._getSetting("size")],10);isNaN(f)&&(f=0);var g=c._isTouchDevice?e:b,h=g[c._getSetting("page")]-f/2,i=c._getClosest(h),j=c._getValueByPosition(h);c._mouseDown=!0,c.changeType="mouse",c._setValue(j,i),c.input&&a.jqx.aria(c,"aria-valuenow",c.input.value)},_getClosest:function(a){var b=this;return b.rangeSlider?(a=a-b._helpers.track.offset()[b._getSetting("left")]-b._helpers.left[b._getSetting("size")]()/2,Math.abs(parseInt(b._slider.left.style[b._getSetting("left")],10)-a)<Math.abs(parseInt(b._slider.right.style[b._getSetting("left")],10)-a)?b._slider.left:b._slider.right):b._slider.right},_removeEventHandlers:function(){var b=this;b.removeHandler(b._slider.right,b._getEvent("mousedown"),b._startDrag),b.removeHandler(b._slider.left,b._getEvent("mousedown"),b._startDrag),b.removeHandler(a(document),b._getEvent("mouseup")+"."+b.host.attr("id"),b._stopDrag),b.removeHandler(a(document),b._getEvent("mousemove")+"."+b.host.attr("id"),b._performDrag),b.removeHandler(b._leftButton,b._getEvent("click"),b._leftButtonHandler),b.removeHandler(b._rightButton,b._getEvent("click"),b._rightButtonHandler),b.removeHandler(b._track,b._getEvent("mousedown"),b._trackMouseDownHandler),b.element.onselectstart=null,b.removeHandler(b.host,b._getEvent("mousewheel")),b.removeHandler(b.host,b._getEvent("keydown")),b.mouseupFuncForTop&&(b.removeHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop),b.mouseupFuncForTop=null,delete b.mouseupFuncForTop),b.removeHandler(a(document),"mouseup.arrow"+b.element.id)},_rightButtonClick:function(){var a=this;a.changeType="mouse","horizontal"!==a.orientation||a.rtl?a.decrementValue():a.incrementValue()},_leftButtonClick:function(){var a=this;a.changeType="mouse","horizontal"!==a.orientation||a.rtl?a.incrementValue():a.decrementValue()},_rightButtonHandler:function(a){var b=a.data.that;return"normal"===b.layout?b._rightButtonClick():b._leftButtonClick(),!1},_leftButtonHandler:function(a){var b=a.data.that;return"normal"===b.layout?b._leftButtonClick():b._rightButtonClick(),!1},_startDrag:function(b){var c=b.data.that;c.changeType="mouse",c._capturedElement=b.target;var d=new jqxHelper(b.target),e=d.offset();c._startX=e.left,c._startY=e.top;var f=a.jqx.position(b);if(c._mouseStartX=f.left,c._mouseStartY=f.top,c._mouseDown=!0,b.stopPropagation(),c.tooltip&&c._showTooltip(c._capturedElement,c.value),c._isTouchDevice)return!1},_stopDrag:function(b){var c=b.data.that;return c._slideStarted&&c._raiseEvent(2,{value:c.getValue()}),c._slideStarted&&null!==c._capturedElement?(c.input&&a.jqx.aria(this,"aria-valuenow",c.input.value),c._helpers.left.removeClass(c.toThemeProperty("jqx-fill-state-pressed")),c._helpers.right.removeClass(c.toThemeProperty("jqx-fill-state-pressed")),c._slideStarted=!1,c._capturedElement=null,void(c.sliderTooltip&&c.sliderTooltipObj.fadeOut("fast"))):void(c._capturedElement=null)},_performDrag:function(b){var c=b.data.that;if(null!==c._capturedElement){if(0===b.which&&a.jqx.browser.msie&&a.jqx.browser.version<9)return c._stopDrag(b),!1;var d=a.jqx.position(b),e="horizontal"===c.orientation?d.left:d.top;if(c._isDragged(e),c._slideStarted||c._isTouchDevice)return c._dragHandler(e)}},_isDragged:function(a){var b=this;Math.abs(a-this[b._getSetting("mouse")])>2&&!b._slideStarted?(b._slideStarted=!0,b._valueChanged(3)&&b._raiseEvent(3,{value:b.getValue()})):null==b._capturedElement&&(b._slideStarted=!1)},_dragHandler:function(a){a=a-this[this._getSetting("mouse")]+this[this._getSetting("start")];var b=this._getValueByPosition(a);if(this.rangeSlider){var c=this._helpers.right,d=this._helpers.left,e=this._getSetting("left");this._capturedElement===d?parseFloat(a)>c.offset()[e]&&(a=c.offset()[e]):parseFloat(a)<d.offset()[e]&&(a=d.offset()[e])}return this._setValue(b,this._capturedElement,a),!1},_getValueByPosition:function(a){return"default"===this.mode?this._getFloatingValueByPosition(a):this._getFixedValueByPosition(a)},_getFloatingValueByPosition:function(b){var c,d,e,f,g=this,h=b-g._helpers.track.offset()[g._getSetting("left")]+g._slider.left.offsetWidth/2,i=h/g._helpers.track[g._getSetting("size")]();return h<0&&(h=0),g.int64===!1?c=(g.max-g.min)*i+g.min:"s"===g.int64?(f=(new a.jqx.math).fromNumber(g._helpers.track[g._getSetting("size")](),10),d=g._max64.subtract(g._min64),e=g._divide64(d,f)*h,c=(new a.jqx.math).fromNumber(e,10).add(g._min64)):"u"===g.int64&&(f=new BigNumber(g._helpers.track[g._getSetting("size")]()),d=g._max64.subtract(g._min64),e=g._divide64(d,f)*h,c=new BigNumber(e).add(g._min64)),"normal"===g.layout?"horizontal"!==g.orientation||g.rtl?g.int64===!1?g.max+g.min-c:g._max64.add(g._min64).subtract(c):c:"horizontal"===g.orientation?g.int64===!1?g.max+g.min-c:g._max64.add(g._min64).subtract(c):c},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize;var a=this._helpers.left[this._getSetting("size")]();return this.__thumbSize=a,a},_getTrackSize:function(){var a=this;if(a.__trackSize)return a.__trackSize;var b=parseInt(a._helpers.track[a._getSetting("size")](),10);return a.__trackSize=b,b},_getFixedValueByPosition:function(b){var c,d,e,f,g,h,i,j=this,k=j._getTrackSize(),l=j._getThumbSize(),m={number:-1,distance:Number.MAX_VALUE};if(j.int64===!1)for(f=j.step,h=(j.max-j.min)/f,g=k/h,i=j._helpers.track.offset()[j._getSetting("left")]-l/2,d=j.max+j.step,"fixedRange"===j.mode&&(d=j.max),e=j.min;e<=d;e+=j.step)Math.abs(m.distance-b)>Math.abs(i-b)&&(m.distance=i,m.number=e),i+=g;else if("s"===j.int64)for(f=j._step64,h=j._max64.subtract(j._min64).div(j._step64),g=j._divide64((new a.jqx.math).fromNumber(k,10),h),i=j._helpers.track.offset()[j._getSetting("left")]-l/2,m={number:(new a.jqx.math).fromString(j._min64.toString(),10),distance:i},c=(new a.jqx.math).fromString(j._min64.toString(),10);"fixedRange"!==j.mode?c.lessThanOrEqual(j._max64.add(j._step64)):c.lessThanOrEqual(j._max64);c=c.add(j._step64))Math.abs(m.distance-b)>Math.abs(i-b)&&(m.distance=i,m.number=(new a.jqx.math).fromString(c.toString(),10)),i+=g;else if("u"===j.int64){f=j._step64,h=j._max64.subtract(j._min64).divide(j._step64),g=parseFloat(new BigNumber(k).divide(h).toString()),i=j._helpers.track.offset()[j._getSetting("left")]-l/2,m={number:new BigNumber(j._min64.toString()),distance:i};var n="fixedRange"!==j.mode?j._max64.add(j._step64):j._max64;for(c=new BigNumber(j._min64.toString());1!==c.compare(n);c=c.add(j._step64))Math.abs(m.distance-b)>Math.abs(i-b)&&(m.distance=i,m.number=new BigNumber(c.toString())),i+=g}return"normal"===j.layout?"horizontal"!==j.orientation||j.rtl?j.int64===!1?j.max+j.min-m.number:j._max64.add(j._min64).subtract(m.number):m.number:"horizontal"===j.orientation?j.int64===!1?j.max+j.min-m.number:j._max64.add(j._min64).subtract(m.number):m.number},_setValue:function(a,b,c,d){var e=this;if(!e._slideEvent||!e._slideEvent.args.cancel){if(a=e._handleValue(a,b),e._setSliderPosition(a,b,c),e._fixZIndexes(),e._valueChanged(1)&&e._raiseEvent(1,{value:e.getValue()}),e._valueChanged(0)&&e._raiseEvent(0,{value:e.getValue()}),void 0!=a&&"load"!=d&&e.$dataBinders$&&e.$dataBinders$.value&&e.$dataBinders$.value.updateItem(e.getValue()),!e.input)return;e.rangeSlider?e.values&&void 0!==e.value.rangeEnd&&void 0!==e.value.rangeStart&&(e.input.value=e.value.rangeStart.toString()+"-"+e.value.rangeEnd.toString()):e.input.value=e.value.toString()}},_valueChanged:function(a){var b=this.getValue();return!this.rangeSlider&&this._lastValue[a]!==b||this.rangeSlider&&("object"!=typeof this._lastValue[a]||parseFloat(this._lastValue[a].rangeEnd)!==parseFloat(b.rangeEnd)||parseFloat(this._lastValue[a].rangeStart)!==parseFloat(b.rangeStart))},_handleValue:function(a,b){var c=this;return a=c._validateValue(a,b),b===c._slider.left&&(c.int64===!1?c.values[0]=a:(c.values[0]=a.toString(),c._value64[0]=a)),b===c._slider.right&&(c.int64===!1?c.values[1]=a:(c.values[1]=a.toString(),c._values64[1]=a)),c.rangeSlider?(c.value={rangeStart:c.values[0],rangeEnd:c.values[1]},c.int64!==!1&&(c._value64={rangeStart:c._values64[0],rangeEnd:c._values64[1]})):c.int64===!1?c.value=a:(c.value=a.toString(),c._value64=a),a},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.style.zIndex=20,this._slider.right.style.zIndex=15):(this._slider.left.style.zIndex=15,this._slider.right.style.zIndex=20)},_refreshRangeBar:function(){var b,c=this._helpers.left,d=this._helpers.right,e=this._helpers.track,f=this._getSetting("left"),g=this._getSetting("size"),h=this.rtl&&"horizontal"===this.orientation;if("normal"===this.layout){b=c.position()[f];a(c[0]).position()[f];("vertical"===this.orientation||h)&&(b=d.position()[f])}else b=d.position()[f],"vertical"===this.orientation&&(b=c.position()[f]);this.rangeSlider?this._rangeBar.style[f]=b+"px":"horizontal"!==this.orientation||!h&&"normal"===this.layout?"vertical"===this.orientation&&(this._rangeBar.style[f]=b-e.position().top+c.innerHeight()/2+"px"):this._rangeBar.style[f]=b-e.position().left+c.innerWidth()/2+"px",this._rangeBar.style[g]=Math.abs(d.position()[f]-c.position()[f])+"px"},_validateValue:function(a,b){return this.int64===!1?(a>this.max&&(a=this.max),a<this.min&&(a=this.min),this.rangeSlider&&(b===this._slider.left?a>=this.values[1]&&(a=this.values[1]):a<=this.values[0]&&(a=this.values[0]))):"s"===this.int64?(a.greaterThan(this._max64)&&(a=this._max64),a.lessThan(this._min64)&&(a=this._min64)):"u"===this.int64&&(1===a.compare(this._max64)&&(a=this._max64),a.compare(this._min64)===-1&&(a=this._min64)),a},_setSliderPosition:function(b,c,d){var e,f,g,h,i=parseInt(this._helpers.track[this._getSetting("size")](),10);d&&(d-=this._helpers.track.offset()[this._getSetting("left")]);var j=parseInt(this._helpers.left[this._getSetting("size")](),10);isNaN(j)&&(j=0),"s"===this.int64?("number"==typeof b?b=(new a.jqx.math).fromNumber(b,10):"string"==typeof b&&(b=(new a.jqx.math).fromString(b,10)),b.greaterThan(this._max64)&&(b=(new a.jqx.math).fromString(this._max64.toString(),10)),b.lessThan(this._min64)&&(b=(new a.jqx.math).fromString(this._min64.toString(),10)),g=this._divide64(b.subtract(this._min64),this._max64.subtract(this._min64)),h=1-g,"normal"===this.layout?(e=g,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(e=h)):(e=h,"horizontal"!==this.orientation&&(e=g)),f=i*e-j/2,c.style[this._getSetting("left")]=f+"px"):"u"===this.int64?("number"!=typeof b&&"string"!=typeof b||(b=new BigNumber(b)),1===b.compare(this._max64)&&(b=new BigNumber(this._max64)),b.compare(this._min64)===-1&&(b=new BigNumber(this._min64)),g=this._divide64(b.subtract(this._min64),this._max64.subtract(this._min64)),h=1-g,"normal"===this.layout?(e=g,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(e=h)):(e=h,"horizontal"!==this.orientation&&(e=g)),f=i*e-j/2,c.style[this._getSetting("left")]=f+"px"):this.int64===!1&&("normal"===this.layout?(e=(b-this.min)/(this.max-this.min),("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(e=1-(b-this.min)/(this.max-this.min))):(e=1-(b-this.min)/(this.max-this.min),"horizontal"!==this.orientation&&(e=(b-this.min)/(this.max-this.min))),f=i*e-j/2,c.style[this._getSetting("left")]=f+"px"),this.tooltip&&this._showTooltip(c,this.value),this._refreshRangeBar()},_divide64:function(a,b){var c,d,e,f,g;if(c=a.toString(),e=b.toString(),e.length>15){var h=e.length-15;if(e=e.slice(0,15)+"."+e.slice(15),f=parseFloat(e),c.length>h){var i=c.length-h;c=c.slice(0,i)+"."+c.slice(i)}else if(c.length===h)c="0."+c;else{for(var j="0.",k=0;k<h-c.length;k++)j+="0";c=j+""+c}d=parseFloat(c)}else"s"===this.int64?(d=a.toNumber(),f=b.toNumber()):(d=parseFloat(a.toString()),f=parseFloat(b.toString()));return g=d/f},_showTooltip:function(b,c){var d=this;if(d._slideStarted||null!=d._capturedElement||d._mouseDown){if(c=d._formatLabel(c,!0),!d.toolTipCreated){var e="tooltip"+d.element.id,f=document.createElement("div");f.style.display="none",f.style.position="absolute",f.style.visibility="hidden",f.style.boxShadow="none",f.style.top="0px",f.style.left="0px",f.style.zIndex=99999,f.setAttribute("id",e),document.body.appendChild(f);var g=document.createElement("div");g.setAttribute("id",e+"Main"),f.appendChild(g);var h=document.createElement("div");h.setAttribute("id",e+"Text"),g.appendChild(h);var i=document.createElement("div");i.setAttribute("id",e+"Arrow"),i.style.top="0px",i.style.left="0px",f.appendChild(i),d.sliderTooltip=f,d.sliderTooltipObj=new jqxHelper(d.sliderTooltip),d.sliderTooltipObj.initAnimate(),h.innerHTML=c,d.sliderTooltip.className=d.toThemeProperty("jqx-tooltip jqx-popup"),g.className=d.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),h.className=d.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),i.className=d.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"),d.sliderTooltipContent=h,d.sliderTooltipArrow=i,d.sliderTooltipMain=g,d.sliderTooltipArrowObj=new jqxHelper(d.sliderTooltipArrow),d.arrowSize=5,d.toolTipCreated=!0,"default"===d.tooltipStyle&&d.rangeSlider&&(d.sliderTooltipArrow.style.visibility="hidden")}var j=new jqxHelper(b).offset();d.sliderTooltip.style.display="block",d.sliderTooltip.style.visibility="visible";var k=d.sliderButtonSize+d.tickSize;if(d.rangeSlider){var l=d.value?d.value.rangeStart:"",m=d.value?d.value.rangeEnd:"";if(""!==l){if("default"===d.tooltipStyle)d.sliderTooltipContent.innerHTML=l+" - "+m;else if("split"===d.tooltipStyle){var n=!1;n=!(a(b).prev().length>0),n?d.sliderTooltipContent.innerHTML=l:d.sliderTooltipContent.innerHTML=m}}else d.sliderTooltip.style.display="none",d.sliderTooltip.style.visibility="hidden"}else d.sliderTooltipContent.innerHTML=c.toString();var o,p,q,r=d.sliderTooltip.offsetWidth;if("horizontal"===d.orientation)switch(p=j.left+d.sliderButtonSize/2-r/2,"default"===d.tooltipStyle&&d.rangeSlider&&(q=(d._helpers.right.offset().left-d._helpers.left.offset().left-d._thumbSize)/2,p=d._helpers.left.offset().left-r/2+q+d._thumbSize),d.tooltipPosition){case"far":o=j.top+k+d.arrowSize,d.sliderTooltipObj.offset({top:o,left:p}),d.sliderTooltipArrowObj.addClass(d.toThemeProperty("jqx-tooltip-arrow-t-b")),d.sliderTooltipArrow.style.borderTopWidth="0px",d.sliderTooltipArrow.style.borderRightWidth=d.arrowSize+"px",d.sliderTooltipArrow.style.borderBottomWidth=d.arrowSize+"px",d.sliderTooltipArrow.style.borderLeftWidth=d.arrowSize+"px",d.sliderTooltipArrowObj.offset({top:o-d.arrowSize,left:p-d.arrowSize/2-1+r/2});break;case"near":o=j.top-d.arrowSize-d.sliderTooltipObj.innerHeight()-1,d.sliderTooltipObj.offset({top:o,left:p}),d.sliderTooltipArrowObj.addClass(d.toThemeProperty("jqx-tooltip-arrow-t-b")),d.sliderTooltipArrow.style.borderTopWidth=d.arrowSize+"px",d.sliderTooltipArrow.style.borderRightWidth=d.arrowSize+"px",d.sliderTooltipArrow.style.borderBottomWidth="0px",d.sliderTooltipArrow.style.borderLeftWidth=d.arrowSize+"px",d.sliderTooltipArrowObj.offset({top:o+d.sliderTooltipObj.innerHeight(),left:p-d.arrowSize/2-1+r/2})}else{var s=d.sliderTooltipObj.innerHeight();switch(p=j.left-r-d.arrowSize-d.tickSize,o=j.top+d._thumbSize/2-s/2-1,"default"===d.tooltipStyle&&d.rangeSlider&&(q=(d._helpers.right.offset().top-d._helpers.left.offset().top-d._thumbSize)/2,o=d._helpers.left.offset().top-s/2+q+d._thumbSize),d.tooltipPosition){case"far":p=j.left+d._thumbSize+d.arrowSize+d.tickSize,d.sliderTooltipObj.offset({top:o,left:p}),d.sliderTooltipArrowObj.addClass(d.toThemeProperty("jqx-tooltip-arrow-l-r")),d.sliderTooltipArrow.style.borderTopWidth=d.arrowSize+"px",d.sliderTooltipArrow.style.borderRightWidth=d.arrowSize+"px",d.sliderTooltipArrow.style.borderBottomWidth=d.arrowSize+"px",d.sliderTooltipArrow.style.borderLeftWidth="0px",d.sliderTooltipArrowObj.offset({top:o+d.sliderTooltipObj.innerHeight()/2-d.arrowSize/2-2,left:p-d.arrowSize});break;case"near":d.sliderTooltipObj.offset({top:o,left:p}),d.sliderTooltipArrowObj.addClass(d.toThemeProperty("jqx-tooltip-arrow-l-r")),d.sliderTooltipArrow.style.borderTopWidth=d.arrowSize+"px",d.sliderTooltipArrow.style.borderRightWidth="0px",d.sliderTooltipArrow.style.borderBottomWidth=d.arrowSize+"px",d.sliderTooltipArrow.style.borderLeftWidth=d.arrowSize+"px",d.sliderTooltipArrowObj.offset({top:o+d.sliderTooltipObj.innerHeight()/2-d.arrowSize/2-2,left:p+r+2})}}}},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2===Object.keys(c).length&&(a.__trackSize=null,a.__thumbSize=null,a._performLayout(),a._initialSettings())},propertyChangedHandler:function(b,c,d,e){if(b.__trackSize=null,b.__thumbSize=null,!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2===Object.keys(b.batchUpdate).length))switch(c){case"template":b.template&&(b._helpers.left.removeClass(b.toThemeProperty("jqx-"+d)),b._helpers.right.removeClass(b.toThemeProperty("jqx-"+d)),b._helpers.rangeBar.removeClass(b.toThemeProperty("jqx-"+d)),b._helpers.left.addClass(b.toThemeProperty("jqx-"+b.template)),b._helpers.right.addClass(b.toThemeProperty("jqx-"+b.template)),a(b._leftButton).jqxRepeatButton({template:e}),a(b._rightButton).jqxRepeatButton({template:e}),b._helpers.rangeBar.addClass(b.toThemeProperty("jqx-"+b.template)));break;case"theme":a.jqx.utilities.setTheme(d,e,b.host),a(b._leftButton).jqxRepeatButton({theme:e}),a(b._rightButton).jqxRepeatButton({theme:e});break;case"disabled":e?(b.disabled=!0,b.disable()):(b.disabled=!1,b.enable());break;case"width":case"height":b.__trackSize=null,b.__thumbSize=null,b._performLayout(),b._initialSettings();break;case"min":case"max":"s"===b.int64?b["_"+c+"64"]=(new a.jqx.math).fromString(e.toString(),10):"u"===b.int64&&(b["_"+c+"64"]=new BigNumber(e)),b._performLayout(),b.__trackSize=null,b.__thumbSize=null,b._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":case"tickMode":case"tickNumber":case"minorTickNumber":b._performLayout(),b._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":"s"===b.int64?b["_"+c+"64"]=(new a.jqx.math).fromString(e.toString(),10):"u"===b.int64&&(b["_"+c+"64"]=new BigNumber(e)),b._performLayout(),b._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":b._render(),b._performLayout(),b._initialSettings(),"orientation"===c&&("vertical"===e?b.element.style.minWidth="96px":b.element.style.minWidth="");break;case"buttonsPosition":b._refresh();break;case"rangeSlider":e?b.value={rangeEnd:b.value,rangeStart:b.value}:b.value=b.value.rangeEnd,b._render(),b._performLayout(),b._initialSettings();break;case"value":var f=e;"s"===b.int64?(f=(new a.jqx.math).fromString(e.toString(),10),b._value64=f):"u"===b.int64?(f=new BigNumber(e),b._value64=f):b.int64===!1&&(b.rangeSlider||(b.value=parseFloat(e))),b.setValue(f);break;case"values":var g=e;"s"===b.int64?(g=[(new a.jqx.math).fromString(e[0].toString(),10),(new a.jqx.math).fromString(e[1].toString(),10)],b._values64=g):"u"===b.int64&&(g=[new BigNumber(e[0]),new BigNumber(e[1])],b._values64=g),b.setValue(g);break;case"tooltip":break;case"step":"s"===b.int64?b._step64=(new a.jqx.math).fromString(e.toString(),10):"u"===b.int64&&(b._step64=new BigNumber(e));break;case"editableLabels":b._performLayout(),b._initialSettings();break;case"tickLabelStyleSettings":b._setPaddingValues(!0),b._performLayout(),b._initialSettings();break;default:b._refresh()}},incrementValue:function(b){var c,d=this;d.int64===!1?((void 0===b||isNaN(parseFloat(b)))&&(b=d.step),d.rangeSlider?d.values[1]<d.max&&d._setValue(d.values[1]+b,d._slider.right):d.values[1]>=d.min&&d.values[1]<d.max&&d._setValue(d.values[1]+b,d._slider.right)):"s"===d.int64?(b=void 0===b||isNaN(parseFloat(b))?d._step64:(new a.jqx.math).fromString(b.toString(),10),c=d._values64[1].add(b),c.lessThan(d._values64[1])&&(c=d._max64),d.rangeSlider?d._values64[1].lessThan(d._max64)&&d._setValue(c,d._slider.right):d._values64[1].greaterThanOrEqual(d._min64)&&d._values64[1].lessThan(d._max64)&&d._setValue(c,d._slider.right)):"u"===d.int64&&(b=void 0===b||isNaN(parseFloat(b))?d._step64:new BigNumber(b),c=d._values64[1].add(b),c.compare(d._values64[1])===-1&&(c=d._max64),d.rangeSlider?d._values64[1].compare(d._max64)===-1&&d._setValue(c,d._slider.right):d._values64[1].compare(d._min64)!==-1&&d._values64[1].compare(d._max64)===-1&&d._setValue(c,d._slider.right)),d.input&&a.jqx.aria(this,"aria-valuenow",d.input.value)},decrementValue:function(b){var c,d=this;d.int64===!1?((void 0===b||isNaN(parseFloat(b)))&&(b=d.step),d.rangeSlider?d.values[0]>d.min&&d._setValue(d.values[0]-b,d._slider.left):d.values[1]<=d.max&&d.values[1]>d.min&&d._setValue(d.values[1]-b,d._slider.right)):"s"===d.int64?(b=void 0===b||isNaN(parseFloat(b))?d._step64:(new a.jqx.math).fromString(b.toString(),10),d.rangeSlider?(c=d._values64[0].subtract(b),c.greaterThan(d._values64[0])&&(c=d._min64),d._values64[0].greaterThan(d._min64)&&d._setValue(c,d._slider.left)):(c=d._values64[1].subtract(b),c.greaterThan(d._values64[1])&&(c=d._min64),d._values64[1].lessThanOrEqual(d._max64)&&d._values64[1].greaterThan(d._min64)&&d._setValue(c,d._slider.right))):"u"===d.int64&&(b=void 0===b||isNaN(parseFloat(b))?d._step64:new BigNumber(b),d.rangeSlider?(c=d._values64[0].subtract(b),1===c.compare(d._values64[0])&&(c=d._min64),1===d._values64[0].compare(d._min64)&&d._setValue(c,d._slider.left)):(c=d._values64[1].subtract(b),1===c.compare(d._values64[1])&&(c=d._min64),1!==d._values64[1].compare(d._max64)&&1===d._values64[1].compare(d._min64)&&d._setValue(c,d._slider.right))),d.input&&a.jqx.aria(this,"aria-valuenow",d.input.value)},val:function(b){var c,d=this;return 0===arguments.length||!a.isArray(b)&&"object"==typeof b?d.getValue():void(d.int64===!1?d.setValue(b):"s"===d.int64?(c=(new a.jqx.math).fromString(b.toString(),10),d.setValue(c)):"u"===d.int64&&(c=new BigNumber(b),d.setValue(c)))},setValue:function(b){var c=this,d=arguments[1];if("load"==d){var e=[];e[0]=arguments[0],arguments=e}else d="update";if(c.int64===!1||"string"!=typeof b&&"number"!=typeof b||("s"===c.int64?"string"==typeof b?b=(new a.jqx.math).fromString(b,10):"number"==typeof b&&(b=(new a.jqx.math).fromNumber(b,10)):"u"===c.int64&&(b=new BigNumber(b))),c.rangeSlider){var f,g;arguments.length<2?b instanceof Array?(f=b[0],g=b[1]):"object"==typeof b&&"undefined"!=typeof b.rangeStart&&"undefined"!=typeof b.rangeEnd&&(f=b.rangeStart,g=b.rangeEnd):(f=arguments[0],g=arguments[1]),c._triggerEvents=!1,c._setValue(g,c._slider.right,void 0,d),c._triggerEvents=!0,c._setValue(f,c._slider.left,void 0,d)}else{c._triggerEvents=!1;var h;h=c.int64===!1?c.min:c._min64,c._setValue(h,c._slider.left,void 0,d),c._triggerEvents=!0,c._setValue(b,c._slider.right,void 0,d)}c.input&&a.jqx.aria(this,"aria-valuenow",c.input.value)},getValue:function(){var a=this.value;return this.int64!==!1&&(a=this._value64.toString()),a},_enable:function(b){var c=this;b?(c._addEventHandlers(),c.disabled=!1,c._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(c._removeEventHandlers(),c.disabled=!0,c._helpers.element.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),a(c._leftButton).jqxRepeatButton({disabled:this.disabled}),a(c._rightButton).jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),a.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),a.jqx.aria(this,"aria-disabled",!1)},_setPaddingValues:function(b){function c(a){var b,c,d;return f.showButtons===!0?(b=27,c=0):(b=0,c=8),d=Math.ceil(a/2)+1-b,d=Math.max(d,c)}var d,e,f=this,g=document.createElement("span");if(g.className=f.toThemeProperty("jqx-widget jqx-slider-label"),g.style.position="absolute",g.visibility="hidden",f.tickLabelStyleSettings){var h=f.tickLabelStyleSettings;g.style.fontSize=h.fontSize,g.style.fontFamily=h.fontFamily,g.style.fontWeight=h.fontWeight,g.style.fontStyle=h.fontStyle}"normal"===f.layout?(d=f._formatLabel(f.min),e=f._formatLabel(f.max)):(d=f._formatLabel(f.max),e=f._formatLabel(f.min)),document.body.appendChild(g),g.innerHTML=d;var i="horizontal"===f.orientation?g.offsetWidth:g.offsetHeight;g.innerHTML=e;var j="horizontal"===f.orientation?g.offsetWidth:g.offsetHeight;g.parentNode.removeChild(g),(b===!0||b!==!0&&(void 0===f.padding||a.isEmptyObject(f.padding)))&&("horizontal"===f.orientation?f.padding={left:c(i),right:c(j)}:f.padding={bottom:c(i),top:c(j)})},_editableLabels:function(){function b(a){var b=document.createElement("span");b.className=e.toThemeProperty("jqx-widget jqx-slider-label"),b.style.position="absolute",b.style.visibility="hidden",document.body.appendChild(b),b.innerHTML=a;var c={width:b.scrollWidth,height:b.scrollHeight};return b.parentNode.removeChild(b),c}function c(c,d){if(!e.disabled){var h=b(e._formatLabel(d));g.offset(a(c).offset()),f.style.width=h.width+10+"px",f.style.height=h.height+"px",f.style.visibility="visible",f.value=d,f.select(),e._editingLabels=!0}}function d(b,c,d,f){if(b===e[c].toString())return!1;if("s"===e.int64){var g=(new a.jqx.math).fromString(b,10);if("min"===c&&g.compare(e["_"+f+"64"])!==-1||"max"===c&&1!==g.compare(e["_"+f+"64"]))return!1;e[d]=g,e[c]=b}else if("u"===e.int64){var h=new BigNumber(b);if(h.compare(0)===-1||"min"===c&&h.compare(e["_"+f+"64"])!==-1||"max"===c&&1!==h.compare(e["_"+f+"64"]))return!1;e[d]=h,e[c]=b}else{if("min"===c&&b>=e[f]||"max"===c&&b<=e[f])return!1;e[c]=parseFloat(b)}}var e=this;if(e.showTickLabels&&e.editableLabels){var f,g,h=e.element.id,i=e.element.getElementsByClassName("jqx-slider-label-top"),j=e.element.getElementsByClassName("jqx-slider-label-bottom"),k=e.ticksPosition,l=/^-?\d+\.?\d*$/;if("both"===k||"top"===k){var m,n,o=i[0],p=i[i.length-1];"horizontal"===e.orientation&&"normal"===e.layout&&e.rtl===!1||"vertical"===e.orientation&&"reverse"===e.layout?(m=o,n=p):(m=p,n=o),e.addHandler(a(m),"dblclick.jqxSlider"+h,function(){c(this,e.min),e._editedProperty="min"}),e.addHandler(a(n),"dblclick.jqxSlider"+h,function(){c(this,e.max),e._editedProperty="max"})}if("both"===k||"bottom"===k){var q,r,s=j[0],t=j[j.length-1];"horizontal"===e.orientation&&"normal"===e.layout&&e.rtl===!1||"vertical"===e.orientation&&"reverse"===e.layout?(q=s,r=t):(q=t,r=s),e.addHandler(a(q),"dblclick.jqxSlider"+h,function(){c(this,e.min),e._editedProperty="min"}),e.addHandler(a(r),"dblclick.jqxSlider"+h,function(){c(this,e.max),e._editedProperty="max"})}e._labelInputCreated!==!0?(f=document.createElement("input"),f.className="jqx-slider-label-input",e.element.appendChild(f)):f=e.element.querySelector(".jqx-slider-label-input"),g=a(f),e._labelInputCreated!==!0&&(e.addHandler(g,"blur.jqxGauge"+e.element.id,function(){var a,b=this.value;if(f.style.visibility="hidden",l.test(b)){if("min"===e._editedProperty){
if(a=d(b,"min","_min64","max"),a===!1)return}else if(a=d(b,"max","_max64","min"),a===!1)return;e._refresh(),e._editingLabels=!1}}),e._labelInputCreated=!0)}}})}(jqxBaseFramework),function(a){a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])}}),a.jqx.jqxWidget("jqxSortable","",{}),a.extend(a.jqx._jqxSortable.prototype,{defineInstance:function(){var b={appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,maxItems:9999,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholderShow:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:999999,element:null,defaultElement:"<div>",mouseHandled:!1,cancel:"input,textarea,button,select,option",distance:1,delay:0,widgetName:"widget",widgetEventPrefix:"",disabled:!1,create:null,_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["activate","beforeStop","change","deactivate","out","over","receive","remove","sort","start","stop","update","create"]};return this===a.jqx._jqxSortable.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){this._render()},_render:function(){var b=this;this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this.containerCache={};var c=a(c||b.defaultElement||this)[0];b.document=a(c.style?c.ownerDocument:c.document||c),b.window=a(b.document[0].defaultView||b.document[0].parentWindow),b.host.addClass(b.toThemeProperty("jqx-widget jqx-sortable")),b.refresh(),b.floating=!!b.itemsArray.length&&("x"===b.axis||b._isFloating(b.itemsArray[0].item)),b.offset=b.host.offset(),b._handleMouse(),b._cancelSelect(),b.ready=!0},_isOverAxis:function(a,b,c){return a>=b&&a<b+c},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]+".jqxSortable"+this.element.id:a+".jqxSortable"+this.element.id},_handleMouse:function(){var b=this;b.addHandler(this.host,this._getEvent("mousedown"),function(a){return b._mouseDown(a)}),b.addHandler(b.host,this._getEvent("click"),function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),b.started=!1},widget:function(){return this.host},_mouseDestroy:function(){var b=this;b.host.off("."+this.widgetName),b._mouseMoveDelegate&&(b.removeHandler(a(document),this._getEvent("mousemove")),b.removeHandler(a(document),this._getEvent("mouseup")))},_mouseDown:function(b){var c=this;if(!c.mouseHandled){if(c._mouseMoved=!1,c._isTouchDevice){var d=a.jqx.position(b);b.pageX=d.left,b.pageY=d.top}c._mouseStarted&&c._mouseUp(b),c._mouseDownEvent=b,this._isTouchDevice&&(b.which=1);var e=1===b.which,f=!("string"!=typeof this.cancel||!b.target.nodeName)&&a(b.target).closest(this.cancel).length;if(this._isTouchDevice&&(e=!0),!e||f||!this._mouseCapture(b))return!0;if(c.mouseDelayMet=!c.delay,c.mouseDelayMet||(c._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},c.delay)),c._mouseDistanceMet(b)&&c._mouseDelayMet(b)&&(c._mouseStarted=c._mouseStart(b)!==!1,!c._mouseStarted))return b.preventDefault(),!0;!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),c._mouseMoveDelegate=function(a){return c._mouseMove(a)},c._mouseUpDelegate=function(a){return c._mouseUp(a)},c.addHandler(a(document),this._getEvent("mousemove"),c._mouseMoveDelegate),c.addHandler(a(document),this._getEvent("mouseup"),c._mouseUpDelegate);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var g=function(a){c._mouseUp(a)},h=null;window.parent&&document.referrer&&(h=document.referrer),h&&h.indexOf(document.location.host)!=-1&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",g,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",g))}}catch(i){}return b.preventDefault(),mouseHandled=!0,!0}},_mouseMove:function(b){var c=this;if(this._isTouchDevice){b.which=1;var d=a.jqx.position(b);b.pageX=d.left,b.pageY=d.top}if(c._mouseMoved)if(a.jqx.browser.msie&&a.jqx.browser.version>11){if(!b.which)return c._mouseUp(b)}else{if(a.jqx.browser.msie&&(!document.documentMode||document.documentMode<9)&&!b.button)return c._mouseUp(b);if(!b.which)return c._mouseUp(b)}return(b.which||b.button)&&(c._mouseMoved=!0),c._mouseStarted?(c._mouseDrag(b),b.preventDefault()):(c._mouseDistanceMet(b)&&c._mouseDelayMet(b)&&(c._mouseStarted=c._mouseStart(c._mouseDownEvent,b)!==!1,c._mouseStarted?c._mouseDrag(b):c._mouseUp(b)),!c._mouseStarted)},_mouseUp:function(b){var c=this;try{c.removeHandler(a(document),this._getEvent("mousemove")),c.removeHandler(a(document),this._getEvent("mouseup")),c._mouseStarted&&(c._mouseStarted=!1,b.target===c._mouseDownEvent.target&&a.data(b.target,c.widgetName+".preventClickEvent",!0),c._mouseStop(b)),mouseHandled=!1}catch(d){}return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.distance},_mouseDelayMet:function(){return this.mouseDelayMet},scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},destroy:function(){this.host.removeClass("jqx-sortable jqx-sortable-disabled").find(".jqx-sortable-handle").removeClass("jqx-sortable-handle"),this._mouseDestroy();for(var a=this.itemsArray.length-1;a>=0;a--)this.itemsArray[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return!f.reverting&&(!f.disabled&&"static"!==f.type&&(f._refreshItems(b),a(b.target).parents().each(function(){if(a.data(this,f.widgetName+"-item")===f)return d=a(this),!1}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),!!d&&(!(f.handle&&!c&&(a(f.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),!e))&&(f.currentItem=d,f._removeCurrentsFromItems(),!0))))},_mouseStart:function(b,c,d){var e,f,g=this;if(g.currentContainer=this,g._currentContainer=this,g.refreshPositions(),g.helper=g._utility(b),g._cacheHelperProportions(),g._storeMargins(),g.scrollParent=g.helper.scrollParent(),g.offset=g.currentItem.offset(),g.offset={top:g.offset.top-g.margins.top,left:g.offset.left-g.margins.left},a.extend(g.offset,{click:{left:b.pageX-g.offset.left,top:b.pageY-g.offset.top},parent:g._getParentOffset(),relative:g._getRelativeOffset()}),g.helper.css("position","absolute"),g.cssPosition=g.helper.css("position"),g.originalPosition=g._generatePosition(b),g.originalPageX=b.pageX,g.originalPageY=b.pageY,g.cursorAt&&g._adjustOffsetFromHelper(g.cursorAt),g.domPosition={prev:g.currentItem.prev()[0],parent:g.currentItem.parent()[0]},g.helper[0]!==g.currentItem[0]&&g.currentItem.hide(),g._createPlaceholder(),g.containment&&g._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=g.document.find("body"),g.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),g.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(g.helper.css("opacity")&&(g._storedOpacity=g.helper.css("opacity")),g.helper.css("opacity",g.opacity)),g.zIndex&&(g.helper.css("zIndex")&&(g._storedZIndex=g.helper.css("zIndex")),g.helper.css("zIndex",g.zIndex)),g.scrollParent[0]!==g.document[0]&&"HTML"!==g.scrollParent[0].tagName&&(g.overflowOffset=g.scrollParent.offset()),g._raiseEvent("9",g._uiHash()),g._preserveHelperProportions||g._cacheHelperProportions(),!d)for(e=g.owners.length-1;e>=0;e--)g.owners[e]._raiseEvent("0",g._uiHash(this));return a.jqx.ddmanager&&(a.jqx.ddmanager.current=this),a.jqx.ddmanager&&!g.dropBehaviour&&a.jqx.ddmanager.prepareOffsets(this,b),g.dragging=!0,g.helper.addClass("jqx-sortable-helper"),g._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this,h=!1,i=this;for(i.position=i._generatePosition(b),i.positionAbs=i._convertPositionTo("absolute"),i.lastPositionAbs||(i.lastPositionAbs=i.positionAbs),i.scroll&&(i.scrollParent[0]!==i.document[0]&&"HTML"!==i.scrollParent[0].tagName?(i.overflowOffset.top+i.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?i.scrollParent[0].scrollTop=h=i.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-i.overflowOffset.top<g.scrollSensitivity&&(i.scrollParent[0].scrollTop=h=i.scrollParent[0].scrollTop-g.scrollSpeed),i.overflowOffset.left+i.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?i.scrollParent[0].scrollLeft=h=i.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-i.overflowOffset.left<g.scrollSensitivity&&(i.scrollParent[0].scrollLeft=h=i.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-i.document.scrollTop()<g.scrollSensitivity?h=i.document.scrollTop(i.document.scrollTop()-g.scrollSpeed):i.window.height()-(b.pageY-i.document.scrollTop())<g.scrollSensitivity&&(h=i.document.scrollTop(i.document.scrollTop()+g.scrollSpeed)),b.pageX-i.document.scrollLeft()<g.scrollSensitivity?h=i.document.scrollLeft(i.document.scrollLeft()-g.scrollSpeed):i.window.width()-(b.pageX-i.document.scrollLeft())<g.scrollSensitivity&&(h=i.document.scrollLeft(i.document.scrollLeft()+g.scrollSpeed))),h!==!1&&a.jqx.ddmanager&&!g.dropBehaviour&&a.jqx.ddmanager.prepareOffsets(this,b)),i.positionAbs=i._convertPositionTo("absolute"),i.axis&&"y"===i.axis||(i.helper[0].style.left=i.position.left+"px"),i.axis&&"x"===i.axis||(i.helper[0].style.top=i.position.top+"px"),c=i.itemsArray.length-1;c>=0;c--)if(d=i.itemsArray[c],e=d.item[0],f=i._intersectsWithPointer(d),f&&d.instance===i.currentContainer&&!(e===i.currentItem[0]||i.placeholder[1===f?"next":"prev"]()[0]===e||a.contains(i.placeholder[0],e)||"semi-dynamic"===i.type&&a.contains(i.host[0],e))){if(i.direction=1===f?"down":"up","pointer"!==i.tolerance&&!i._intersectsWithSides(d))break;i._rearrange(b,d),i._raiseEvent("2",i._uiHash());break}return i._contactOwners(b),a.jqx.ddmanager&&a.jqx.ddmanager.drag(this,b),i._raiseEvent("8",i._uiHash()),i.lastPositionAbs=i.positionAbs,!1},_mouseStop:function(b,c){var d=this;if(b){if(a.jqx.ddmanager&&!this.dropBehaviour&&a.jqx.ddmanager.drop(this,b),d.revert){var d=this,e=d.placeholder.offset(),f=d.axis,g={};f&&"x"!==f||(g.left=e.left-d.offset.parent.left-d.margins.left+(d.offsetParent[0]===d.document[0].body?0:d.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-d.offset.parent.top-d.margins.top+(d.offsetParent[0]===d.document[0].body?0:d.offsetParent[0].scrollTop)),d.reverting=!0,a(this.helper).animate(g,parseInt(this.revert,10)||500,function(){d._clear(b)})}else d._clear(b,c);return!1}},cancelSort:function(){var b=this;if(b.dragging){b._mouseUp({target:null}),"original"===b.helper?b.currentItem.css(b._storedCSS).removeClass("jqx-sortable-helper"):b.currentItem.show();for(var c=b.owners.length-1;c>=0;c--)b.owners[c]._raiseEvent("3",b._uiHash(this)),b.owners[c].containerCache.over&&(b.owners[c]._raiseEvent("4",b._uiHash(this)),b.owners[c].containerCache.over=0)}return b.placeholder&&(b.placeholder[0].parentNode&&b.placeholder[0].parentNode.removeChild(b.placeholder[0]),"original"!==b.helper&&b.helper&&b.helper[0].parentNode&&b.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),b.domPosition.prev?a(b.domPosition.prev).after(b.currentItem):a(b.domPosition.parent).prepend(b.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.axis||d+j>h&&d+j<i,m="y"===this.axis||b+k>f&&b+k<g,n=l&&m;return"pointer"===this.tolerance||this.forcePointerForowners||"pointer"!==this.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),c="y"===this.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),d=b&&c,e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return!!d&&(this.floating?f&&"right"===f||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?"right"===e&&c||"left"===e&&!c:d&&("down"===d&&b||"up"===d&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d],this.document[0]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName).instance,g&&g!==this&&!g.disabled&&i.push([a.isFunction(g.items)?g.items.call(g.host):a(g.items,g.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),g]);for(i.push([a.isFunction(this.items)?this.items.call(this.host,null,{options:this,item:this.currentItem}):a(this.items,this.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.itemsArray=a.grep(this.itemsArray,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.itemsArray=[],this.owners=[this];var c,d,e,f,g,h,i,j,k=this.itemsArray,l=[[a.isFunction(this.items)?this.items.call(this.host[0],b,{item:this.currentItem}):a(this.items,this.host),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c],this.document[0]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetName),f&&f!==this&&!f.instance.disabled&&(l.push([a.isFunction(f.instance.items)?f.items.call(f.instance.host[0],b,{item:this.currentItem}):a(f.instance.items,f.instance.host),f.instance]),this.owners.push(f.instance));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;d<j;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.itemsArray.length-1;c>=0;c--)d=this.itemsArray[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.toleranceElement?a(this.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.custom&&this.custom.refreshowners)this.custom.refreshowners.call(this);else for(c=this.owners.length-1;c>=0;c--)f=this.owners[c].host.offset(),this.owners[c].containerCache.left=f.left,this.owners[c].containerCache.top=f.top,this.owners[c].containerCache.width=this.owners[c].host.outerWidth(),this.owners[c].containerCache.height=this.owners[c].host.outerHeight();return this},_cancelSelect:function(){that=this,that.host.addClass("jqx-disableselect")},_createPlaceholder:function(b){b=b||this;var c,d=b;d.placeholderShow&&d.placeholderShow.constructor!==String||(c=d.placeholderShow,d.placeholderShow={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" jqx-sortable-placeholder").removeClass("jqx-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){c&&!d.forcePlaceholderSize||(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholderShow.element.call(b.host,b.currentItem)),b.currentItem.after(b.placeholder),b.placeholderShow.update(b,b.placeholder)},_contactOwners:function(b){var c,d,e,f,g,h,i,j,k,l,m=null,n=null;for(c=this.owners.length-1;c>=0;c--)if(!a.contains(this.currentItem[0],this.owners[c].host[0]))if(this._intersectsWith(this.owners[c].containerCache)){if(m&&a.contains(this.owners[c].host[0],m.host[0]))continue;m=this.owners[c],n=c}else this.owners[c].containerCache.over&&(this.owners[c]._raiseEvent("4",this._uiHash(this)),this.owners[c].containerCache.over=0);if(m)if(1===this.owners.length)this.owners[n].containerCache.over||(this.owners[n]._raiseEvent("5",this._uiHash(this)),this.owners[n].containerCache.over=1);else{e=1e4,f=null,k=m.floating||this._isFloating(this.currentItem),g=k?"left":"top",h=k?"width":"height",l=k?"clientX":"clientY";var o=this.itemsArray;for(d=o.length-1;d>=0;d--)a.contains(this.owners[n].host[0],o[d].item[0])&&o[d].item[0]!==this.currentItem[0]&&(i=o[d].item.offset()[g],j=!1,b[l]-i>o[d][h]/2&&(j=!0),Math.abs(b[l]-i)<e&&(e=Math.abs(b[l]-i),f=o[d],this.direction=j?"up":"down"));if(!f&&!this.dropOnEmpty)return;if(this.currentContainer===this.owners[n])return void(this.currentContainer.containerCache.over||(this.owners[n]._raiseEvent("5",this._uiHash()),this.currentContainer.containerCache.over=1));if(this.owners[n].host.children().length+1>this.owners[n].maxItems)return this.currentContainer=this._currentContainer,f=this._rearrange(b,null,this.currentContainer.host,!0),this._currentContainer.containerCache.over=1,void this.placeholderShow.update(this.currentContainer,this.placeholder);f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.owners[n].host,!0),this._raiseEvent("2",this._uiHash()),this.owners[n]._raiseEvent("2",this._uiHash(this)),this.currentContainer=this.owners[n],this.placeholderShow.update(this.currentContainer,this.placeholder),this.owners[n]._raiseEvent("5",this._uiHash(this)),this.owners[n].containerCache.over=1}},_utility:function(b){var c=this,d=a.isFunction(c.helper)?a(c.helper.apply(this.host[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),d[0].style.width&&!c.forceHelperSize||d.width(this.currentItem.width()),d[0].style.height&&!c.forceHelperSize||d.height(this.currentItem.height()),d.scrollParent=function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.jqx.browser.msie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_storeMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this;"parent"===a.containment&&(a.containment=this.helper[0].parentNode),"document"!==a.containment&&"window"!==a.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===a.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===a.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_clear:function(a,b){function c(a,b,c){return function(d){var e=this._events.indexOf(a);c._raiseEvent(e,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)"auto"!==this._storedCSS[d]&&"static"!==this._storedCSS[d]||(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("jqx-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._raiseEvent("6",this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".jqx-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._raiseEvent("11",this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._raiseEvent("7",this._uiHash())}),e.push(function(a){return function(b){a._raiseEvent("6",this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._raiseEvent("11",this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.owners.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.owners[d])),this.owners[d].containerCache.over&&(e.push(c("out",this,this.owners[d])),this.owners[d].containerCache.over=0);return this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,b||this._raiseEvent("1",this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),b||this._raiseEvent("10",this._uiHash()),this.fromOutside=!1,!this.cancelHelperRemoval},disable:function(){that=this,that.disabled=!0},enable:function(){that=this,that.disabled=!1},instance:function(){return that=this,that},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.host:null}},_raiseEvent:function(b,c){that=this;var d=a.Event(that._events[b]);return d.args=c,that.host.trigger(d)},propertyChangedHandler:function(a,b,c,d){if(that=this,d!==c)switch(b){case"disabled":that.disabled=d}}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxSplitter","",{}),a.extend(a.jqx._jqxSplitter.prototype,{defineInstance:function(){var b={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return this===a.jqx._jqxSplitter.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){this.render()},_initOverlay:function(b){if(this.overlay||"undefined"==b)this.overlay.remove(),this.overlay=null;else if(1==b){this.overlay=a("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(a(document.body));this.host.coord();this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(a(window).width()),this.overlay.height(a(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(b){return!(b.target!=this.splitBarButton[0]&&!this.disabled)||(!(!this.panels[0].collapsed&&!this.panels[1].collapsed&&this.resizable)||(null!=this.overlay||(this._dragging=!0,this._initOverlay(!0),this._dragStart=a.jqx.position(b),!1)))},_drag:function(b){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var c="horizontal"==this.orientation?"top":"left",d="vertical"==this.orientation?"width":"height";if(this._position=a.jqx.position(b),this.overlay&&!this._splitBarClone&&Math.abs(this._position[c]-this._dragStart[c])>=3){var e=this.splitBar.coord();return this._cloneStart={left:e.left,top:e.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var f,g,h,i,j=this.host[d](),k=j/100,l=0,m=this._splitBarClone[d]()+2,n=parseInt(this.host.coord()[c]),o=this._position[c]-this._dragStart[c]+this._cloneStart[c]-n;return l>o&&(o=l),o>j+l-m&&(o=j+l-m),f=this.panels[0].min,g=this.panels[1].min,h=this.panels[0].max,i=this.panels[1].max,g.toString().indexOf("%")!=-1&&(g=parseFloat(g)*k),f.toString().indexOf("%")!=-1&&(f=parseFloat(f)*k),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),o<f&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),o=f),o>j+l-m-g&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),o=j+l-m-g),o>h&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),o=h),o<j+l-m-i&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),o=j+l-m-i),this._splitBarClone.css(c,o),b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation(),!1}return!0},resize:function(a,b){this.width=a,this.height=b,this._arrange()},_resize:function(){var a="horizontal"==this.orientation?"height":"width",b="horizontal"==this.orientation?"top":"left",c=this._splitBarClone.css(b),d=this.host[a](),e=d/100,f=1/e,g=this.panels[0].size;g.toString().indexOf("%")!=-1?(this.panels[0].size=parseFloat(c)*f+"%",this.panels[1].size=100-parseFloat(c)*f+"%"):(this.panels[0].size=parseFloat(c),this.panels[1].size=d-parseFloat(c)),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null;
}},_createSplitBarClone:function(){var a=this.splitBar.clone();return a.fadeTo(0,.7),a.css("z-index",99999),"vertical"==this.orientation?a.css("cursor","col-resize"):a.css("cursor","row-resize"),this.host.append(a),a},_eventName:function(a){return this._isTouchDevice?this._eventsMap[a]:a},_addHandlers:function(){var b=this;a.jqx.utilities.resize(this.host,function(){b._layoutPanels()}),this.addHandler(this.splitBar,"dragstart."+this.element.id,function(a){return!1}),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var a=function(a){a.collapsed?b.expand():b.collapse()};b.panels[0].collapsible?a(b.panels[0]):b.panels[1].collapsible&&a(b.panels[1])}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){b.splitBarButton.addClass(b.toThemeProperty("jqx-splitter-collapse-button-hover")),b.splitBarButton.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){b.splitBarButton.removeClass(b.toThemeProperty("jqx-splitter-collapse-button-hover")),b.splitBarButton.removeClass(b.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(a(document),this._eventName("mousemove")+"."+this.element.id,function(a){return b._drag(a)}),this.addHandler(a(document),this._eventName("mouseup")+"."+this.element.id,function(){return b._stopDrag()}),this.addHandler(this.splitBar,this._eventName("mousedown"),function(a){return b._startDrag(a)}),this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){b.resizable&&!b.disabled&&(b.splitBar.addClass(b.toThemeProperty("jqx-splitter-splitbar-hover")),b.splitBar.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){b.resizable&&!b.disabled&&(b.splitBar.removeClass(b.toThemeProperty("jqx-splitter-splitbar-hover")),b.splitBar.removeClass(b.toThemeProperty("jqx-fill-state-hover")))});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var c=null;window.parent&&document.referrer&&(c=document.referrer),c&&c.indexOf(document.location.host)!=-1&&window.top.document&&(b.mouseupFuncForTop=function(a){b._stopDrag()},b.addHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop))}}catch(d){}},_removeHandlers:function(){this.removeHandler(a(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(a(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(a(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave"))),this.mouseupFuncForTop&&(this.removeHandler(a(window.top.document),"mouseup",this.mouseupFuncForTop),this.mouseupFuncForTop=null,delete this.mouseupFuncForTop)},render:function(){this.splitBar&&this.splitBar.remove();var b=this.host.children();if(2!=b.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==b.length){var c=b[0].className.split(" "),d=b[1].className.split(" ");if(c.indexOf("jqx-reset")!=-1&&c.indexOf("jqx-splitter")!=-1&&c.indexOf("jqx-widget")!=-1)throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(d.indexOf("jqx-reset")!=-1&&d.indexOf("jqx-splitter")!=-1&&d.indexOf("jqx-widget")!=-1)throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(this.host.parent().length>0&&this.host.parent()[0].className.indexOf("jqx-splitter")!=-1){if(this.element.className.indexOf("jqx-splitter-panel")!=-1)throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),this.host.parent()[0].className.indexOf("jqx-splitter-panel")!=-1&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=a("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return a.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){var b=this.host.children();if(2!=b.length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:void 0==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var b=this.host.children();this.panel1=this.panels[0].element=a(b[0]),this.panel2=this.panels[1].element=a(b[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",a.each(this.panels,function(){void 0==this.min&&(this.min=0),void 0==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),void 0==this.collapsible&&(this.collapsible=!0),void 0==this.collapsed&&(this.collapsed=!1),0!=this.size&&(this.size.toString().indexOf("px")!=-1&&(this.size=parseInt(this.size)),this.size.toString().indexOf("%")==-1?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):this.min.toString().indexOf("%")!=-1&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){if(null!=this.width){var a=this.width;"string"!=typeof a&&(a=parseInt(this.width)+"px"),this.host.css("width",a)}if(null!=this.height){var b=this.height;"string"!=typeof b&&(b=parseInt(this.height)+"px"),this.host.css("height",b)}this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var c="horizontal"==this.orientation?"width":"height";this.splitBar.css(c,"100%"),this.panel1.css(c,"100%"),this.panel2.css(c,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){if(!this.disabled){var a=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?a=0:this.panels[1].collapsible&&(a=1),a!=-1&&(this.panels[a].collapsed=!0,this.panels[a].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:a,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var a=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?a=0:this.panels[1].collapsible&&(a=1),a!=-1&&(this.panels[a].collapsed=!1,this.panels[a].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:a,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(a){1!=a&&this._arrange()},propertyChangedHandler:function(b,c,d,e){return"panels"===c||"orientation"===c||"showSplitBar"===c?void b.render():("touchMode"===c&&(b._isTouchDevice=e),void("disabled"===c?e?b.disable():b.enable():"theme"===c?a.jqx.utilities.setTheme(d,e,b.host):b.refresh()))},_layoutPanels:function(){var a,b,c,d,e=this,f="horizontal"==this.orientation?"height":"width",g="horizontal"==this.orientation?"top":"left",h=parseInt(this._splitBarSize)+2;this.showSplitBar||(h=0);var i=this.host[f](),j=i/100,k=1/j,l=k*h,m=this.panel1,n=this.panel2,o=this.panels[0].size;this.panels[0].collapsed&&(c=!0),this.panels[1].collapsed&&(d=!0),a=this.panels[0].min,b=this.panels[1].min,b.toString().indexOf("%")!=-1&&(b=parseFloat(b)*j),a.toString().indexOf("%")!=-1&&(a=parseFloat(a)*j),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(m.width(this.host.width()),n.width(this.host.width())):(m.height(this.host.height()),n.height(this.host.height())));var p=function(){var a=e.panel1[f]();if(e.splitBar[0].style[g]!=a+"px"){var b=a;"vertical"==e.orientation?(e.splitBar[0].style.borderLeftColor="",e.splitBar[0].style.borderRightColor="",e.splitBarButton[0].style.width=parseInt(e._splitBarSize)+"px",e.splitBarButton[0].style.left="0px"):(e.splitBar[0].style.borderTopColor="",e.splitBar[0].style.borderBottomColor="",e.splitBarButton[0].style.height=parseInt(e._splitBarSize)+"px",e.splitBarButton[0].style.top="0px"),e._hasBorder&&(i-h==a?"vertical"==e.orientation?(e.splitBar[0].style.borderRightColor="transparent",e.splitBarButton[0].style.width=parseInt(e._splitBarSize+1)+"px"):(e.splitBar[0].style.borderBottomColor="transparent",e.splitBarButton[0].style.height=parseInt(e._splitBarSize+1)+"px"):0==a&&("vertical"==e.orientation?(e.splitBar[0].style.borderLeftColor="transparent",e.splitBarButton[0].style.width=parseInt(e._splitBarSize+1)+"px",e.splitBarButton[0].style.left="-1px"):(e.splitBar[0].style.borderTopColor="transparent",e.splitBarButton[0].style.height=parseInt(e._splitBarSize+1)+"px",e.splitBarButton[0].style.top="-1px"))),e.splitBar[0].style[g]=b+"px"}e.panel2[0].style[g]!=a+h+"px"&&(e.panel2[0].style[g]=a+h+"px")};if(c){var q=Math.max(b,i-h);m[f](0),n[f](q)}else if(d){var q=Math.max(a,i-h);n[f](0),m[f](q)}else if(o.toString().indexOf("%")!=-1){var r=100-parseFloat(o);m.css(f,parseFloat(o)+"%"),r-=l,n.css(f,r+"%");var s=n[f]();if(s<b){var q=s-b,t=q*k;o=parseFloat(o)+parseFloat(t);var r=100-parseFloat(o);m.css(f,parseFloat(o)+"%"),r-=l,n.css(f,r+"%")}var u=m[f]();if(u<a){var t=a*k;m.css(f,parseFloat(t)+"%")}}else{var s=i-o-h;m[0].style[f]!=o+"px"&&m[f](o),n[0].style[f]!=s+"px"&&n[f](s),s<b&&(o+=s-b,n[f](b),m[f](o)),o<a&&m[f](a)}p(),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),a.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);d.owner=this,d.args=c;var e=("vertical"==this.orientation?"width":"height",new Array);return e[0]={},e[1]={},e[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,e[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,e[0].min=this.panels[0].min,e[1].min=this.panels[1].min,e[0].collapsible=this.panels[0].collapsible,e[1].collapsible=this.panels[1].collapsible,e[0].collapsed=this.panels[0].collapsed,e[1].collapsed=this.panels[1].collapsed,d.args.panels=e,this.host.trigger(d)}})}(jqxBaseFramework),function(a,b){a.jqx.jqxWidget("jqxSwitchButton","",{}),a.extend(a.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var b={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"],enableValueExtension:!1,setExtensionValue:null,_exChecked:null};return this===a.jqx._jqxSwitchButton.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(c){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),this.enableValueExtension&&(this._exChecked=b.createModule("exboolean",this.checked,this.setExtensionValue)),a.jqx.aria(this),this.render();var d=this;if(d.element.tabIndex||d.host.attr("tabindex",0),this.$dataBinders$)for(var e in this.$dataBinders$){var f=this.$dataBinders$[e];if(f){var g=this.bindDataBinder(e);f.unbindCallbackFunc(this.element.id),f.bindCallbackFunc(this.element.id,g),f.dataBind()}}a.jqx.utilities.resize(this.host,function(){d.element.innerHTML="",d.render()})},bindDataBinder:function(a){var b=this;b.element.id;if("value"==a)return function(a){var c,d=arguments[1];"update"==a?(c=void 0==d.value?b._getChecked():d.value,b.val(c)):"load"==a&&(c=void 0==d.records?b._getChecked():d.records,b._setChecked(c),b._switchButton(b._getCheckedBoolean(),0,!0))}},_setChecked:function(a){this.enableValueExtension?this._exChecked.val(a):"string"==typeof a?("true"==a&&(this.checked=!0),"false"==a&&(this.checked=!1)):this.checked=a},_getChecked:function(){return this.enableValueExtension?this._exChecked.val():this.checked},_getCheckedBoolean:function(){return this.enableValueExtension?this._exChecked.getboolean():this.checked},_setCheckedBoolean:function(a){this.enableValueExtension?this._exChecked.setboolean(a):this.checked=a},_createFromInput:function(){var b=this;if("input"==b.element.nodeName.toLowerCase()){b.field=b.element,b.field.className&&(b._className=b.field.className);var c={title:b.field.title};b.field.value&&(c.value=b.field.value),b.field.checked&&(c.checked=!0),b.field.id.length?c.id=b.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":c.id=a.jqx.utilities.createId()+"_jqxSwitchButton";var d=a("<div></div>",c);d[0].style.cssText=b.field.style.cssText,b.width||(b.width=a(b.field).width()),b.height||(b.height=a(b.field).outerHeight()),a(b.field).hide().after(d);var e=b.host.data();if(b.host=d,b.host.data(e),b.element=d[0],b.element.id=b.field.id,b.field.id=c.id,b._className&&(b.host.addClass(b._className),a(b.field).removeClass(b._className)),b.field.tabIndex){var f=b.field.tabIndex;b.field.tabIndex=-1,b.element.tabIndex=f}}},resize:function(a,b){this.width=a,this.height=b,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||this.theme.indexOf("metro")==-1&&this.theme.indexOf("windowsphone")==-1&&this.theme.indexOf("office")==-1||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var b=a.data(document.body,"jqx-switchbutton")||1;this._idHandler(b),a.data(document.body,"jqx-draggables",++b),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this._getCheckedBoolean()||this._switchButton(!1,0,!0),this.disabled&&this.disable()},setOnLabel:function(a){this._onLabel.html('<div style="display: inline-block;">'+a+"</div>"),this._centerLabels()},setOffLabel:function(a){this._offLabel.html('<div style="display: inline-block;">'+a+"</div>"),this._centerLabels()},toggle:function(){this._getCheckedBoolean()?this.uncheck():this.check()},val:function(a){return 0==arguments.length||null!=a&&"object"==typeof a?this._getChecked():(this._setChecked(a),this._getCheckedBoolean()?this.check():this.uncheck(),this._getChecked())},uncheck:function(){this._switchButton(!1),a.jqx.aria(this,"aria-checked",this._getCheckedBoolean())},check:function(){this._switchButton(!0),a.jqx.aria(this,"aria-checked",this._getCheckedBoolean())},_idHandler:function(a){if(!this.element.id){var b="jqx-switchbutton-"+a;this.element.id=b}},_dir:function(a){return this._dimensions[this.orientation][a]},_getEvent:function(b){if(this._isTouchDevice){var c=this._touchEvents[b];return a.jqx.mobile.getTouchEventName(c)}return b},_render:function(){this._thumb=a("<div/>"),this._onLabel=a("<div/>"),this._offLabel=a("<div/>"),this._wrapper=a("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var a=this._thumb,b=this._onLabel,c=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),a.addClass(this.toThemeProperty("jqx-fill-state-normal")),a.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),b.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),b.addClass(this.toThemeProperty("jqx-switchbutton-label")),c.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),c.addClass(this.toThemeProperty("jqx-switchbutton-label")),this._getCheckedBoolean()?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var a,b=this.host,c=this._dir("opSize"),d=this._dir("size"),e=this._wrapper;if(b.css({width:this.width,height:this.height}),e.css(c,b[c]()),this._thumbLayout(),this._labelsLayout(),a=this._borders[this._dir("opposite")],e.css(d,b[d]()+this._offLabel[this._dir("oSize")]()+a),e.css(c,b[c]()),this.metroMode||this.theme&&""!=this.theme&&(this.theme.indexOf("metro")!=-1||this.theme.indexOf("office")!=-1)){var f=(this._thumb,this._onLabel),g=this._offLabel;f.css("position","relative"),f.css("top","1px"),f.css("margin-left","1px"),g.css("position","relative"),g.css("top","1px"),g.css("left","-2px"),g.css("margin-right","1px"),g.height(f.height()-2),g.width(f.width()-3),f.height(f.height()-2),f.width(f.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](b[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this._getCheckedBoolean()?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var a=this.thumbSize,b=this.host;a.toString().indexOf("%")>=0&&(a=b[this._dir("size")]()*parseInt(a,10)/100),this._thumb[this._dir("size")](a),this._thumb[this._dir("opSize")](b[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var a=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-a/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-a/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var a=this.host,b=this._thumb,c=this._dir("opSize"),d=this._dir("size"),e=this._dir("oSize"),f=a[d]()-b[e](),g=this._borders[this._dir("opposite")]/2;this._onLabel[d](f+g),this._offLabel[d](f+g),this.rtl&&this._onLabel[d](f+2*g),this._onLabel[c](a[c]()),this._offLabel[c](a[c]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var a="left";this.rtl&&(a="right"),this._onLabel.css("float",a),this._thumb.css("float",a),this._offLabel.css("float",a)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var a=this._onLabel.children("div"),b=this._offLabel.children("div"),c=a.parent(),d=c.height(),e=a.outerHeight(),f=this._borders[this.orientation]/2||0;0==e&&(e=14);var g=Math.floor((d-e)/2)+f;a.css("margin-top",g),b.css("margin-top",g)},_removeEventHandlers:function(){var b="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+b,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+b,this._mouseDown),this.removeHandler(a(document),this._getEvent("mouseup")+b,this._mouseUp),this.removeHandler(a(document),this._getEvent("mousemove")+b,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+b),this.removeHandler(this._thumb,"mouseleave"+b),this.removeHandler(this._wrapper,"focus"+b),this.removeHandler(this._wrapper,"blur"+b)},_addEventHandles:function(){var b="."+this.element.id,c=this;this.addHandler(this.host,"focus"+b,function(a){return c.host.addClass(c.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+b,function(){c.host.removeClass(c.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+b,function(){c._thumb.addClass(c.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+b,function(){c._thumb.removeClass(c.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+b,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+b,this._mouseDown,{self:this}),this.addHandler(a(document),this._getEvent("mouseup")+b,this._mouseUp,{self:this}),this.addHandler(a(document),this._getEvent("mousemove")+b,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,a.jqx.aria(this,"aria-disabled",this.disabled),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},disable:function(){this.disabled=!0,this.element.disabled=!0,a.jqx.aria(this,"aria-disabled",this.disabled),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},_clickHandle:function(a){var b=a.data.self;"click"!==b.toggleMode&&"default"!==b.toggleMode||b.disabled||b._isDistanceTraveled||b._dragged||(b._wrapper.stop(),b.toggle()),b._thumb.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(a){var b=a.data.self,c=b._wrapper;b.metroMode&&(b.host.css("overflow","hidden"),b._onLabel.css("visibility","visible"),b._offLabel.css("visibility","visible")),b._mouseStartPosition=b._getMouseCoordinates(a),b._buttonStartPosition={left:parseInt(c.css("margin-left"),10)||0,top:parseInt(c.css("margin-top"),10)||0},b.disabled||"slide"!==b.toggleMode&&"default"!==b.toggleMode||(b._wrapper.stop(),b._isMouseDown=!0,b._isDistanceTraveled=!1,b._dragged=!1),b._thumb.addClass(b.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(a){var b=a.data.self;if(b.metroMode,b._isMouseDown=!1,b._thumb.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._isDistanceTraveled){var c=b._wrapper,d=parseInt(c.css("margin-"+b._dir("pos")),10)||0,e=b._dropHandler(d);e?b._switchButton(!b._getCheckedBoolean()):b._switchButton(b._getCheckedBoolean(),null,!0),b._isDistanceTraveled=!1}},_mouseMove:function(a){var b=a.data.self,c=b._getMouseCoordinates(a);if(b._isMouseDown&&b._distanceTraveled(c)){var d=b._dir("pos"),e=b._wrapper,f=b._buttonStartPosition[d],g=f+c[d]-b._mouseStartPosition[d],g=b._validatePosition(g);return b._dragged=!0,e.css("margin-"+b._dir("pos"),g),b._onLabel.css("visibility","visible"),b._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(a){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var b=this._mouseStartPosition,c=this._distanceRequired;return this._isDistanceTraveled=Math.abs(a.left-b.left)>=c||Math.abs(a.top-b.top)>=c,this._isDistanceTraveled}return!1},_validatePosition:function(a){var b=this._borders[this._dir("opposite")],c=0,d=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-b;return c<a?c:d>a?d:a},_dropHandler:function(a){var b=0,c=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),d=Math.abs(c-b),e=Math.abs(a-this._buttonStartPosition[this._dir("pos")]),f=d*(this.switchRatio/100);return e>=f},_switchButton:function(a,b,c){this._setCheckedBoolean(a),this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),a?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var d=this._wrapper,e=this,f={},g=this._borders[this._dir("opposite")],h=0;"undefined"==typeof b&&(b=this.animationEnabled?this.animationDuration:0),this.rtl?a?(h=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+g,this.metroMode&&(h+=5)):this.metroMode&&(h-=3):a||(h=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+g),f["margin-"+this._dir("pos")]=-h,a?e.host.addClass(e.toThemeProperty("jqx-switchbutton-on")):e.host.removeClass(e.toThemeProperty("jqx-switchbutton-on")),d.animate(f,b,function(){a?(e._onLabel.css("visibility","visible"),e._offLabel.css("visibility","hidden")):(e._onLabel.css("visibility","hidden"),e._offLabel.css("visibility","visible")),c||e._handleEvent(!a)}),!c&&this.$dataBinders$&&this.$dataBinders$.value&&this.$dataBinders$.value.updateItem(this._getChecked())},_handleEvent:function(a){a!==this._getCheckedBoolean()&&this._raiseEvent(2,{check:this._getChecked(),checked:this._getChecked()}),a?this._raiseEvent(0,{checked:this._getChecked()}):this._raiseEvent(1,{checked:this._getChecked()})},_disableSelection:function(){var b=this.host,c=b.find("*");a.each(c,function(b,c){c.onselectstart=function(){return!1},a(c).addClass("jqx-disableselect")})},_getMouseCoordinates:function(a){return this._isTouchDevice&&a.originalEvent.touches?{left:a.originalEvent.touches[0].pageX,top:a.originalEvent.touches[0].pageY}:{left:a.pageX,top:a.pageY}},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove(),this.host.remove()},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},_themeChanger:function(b,c,d){if(b){"undefined"==typeof d&&(d=this.host);for(var e=d[0].className.split(" "),f=[],g=[],h=d.children(),i=0;i<e.length;i+=1)e[i].indexOf(b)>=0&&(f.push(e[i]),g.push(e[i].replace(b,c)));this._removeOldClasses(f,d),this._addNewClasses(g,d);for(var i=0;i<h.length;i+=1)this._themeChanger(b,c,a(h[i]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2==Object.keys(c).length&&(a._wrapper.css("margin-left","0px"),a._wrapper.css("margin-top","0px"),a._performLayout(),a._wrapper.css("left","0px"),a._wrapper.css("top","0px"),a._switchButton(this._getCheckedBoolean(),0,!0))},propertyChangedHandler:function(b,c,d,e){if(!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length))switch(c){case"disabled":e?b.disable():b.enable();break;case"switchRatio":b.switchRatio=parseInt(b.switchRatio,10);break;case"checked":e!=d&&(b._setChecked(e),b._getCheckedBoolean()?b.check():b.uncheck());break;case"onLabel":b.setOnLabel(e);break;case"offLabel":b.setOffLabel(e);break;case"theme":a.jqx.utilities.setTheme(d,e,b.host);break;case"width":case"height":case"thumbSize":case"orientation":b._wrapper.css("margin-left","0px"),b._wrapper.css("margin-top","0px"),b._performLayout(),b._wrapper.css("left","0px"),b._wrapper.css("top","0px"),b._switchButton(this._getCheckedBoolean(),0,!0)}}})}(jqxBaseFramework,A),function(a){"use strict";a.jqx.jqxWidget("jqxTabs","",{}),a.extend(a.jqx._jqxTabs.prototype,{defineInstance:function(){var b={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",
invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};return this===a.jqx._jqxTabs.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){this._IE8=a.jqx.browser.msie&&a.jqx.browser.version<9,a.jqx.aria(this),this.element.className+=" "+this.toThemeProperty("jqx-tabs jqx-widget jqx-widget-content"),this.element.setAttribute("role","tablist");for(var b=this.host.children(),c=0;c<b.length;c++){var d=b[c];"ul"===d.nodeName.toLowerCase()?this._unorderedList=d:"div"===d.nodeName.toLowerCase()&&this._contentList.push(d)}this._unorderedListHelper=a(this._unorderedList),this._unorderedListHelper.initAnimate&&this._unorderedListHelper.initAnimate(),this._closeButtonList=[],this._selectedItem=this.selectedItem,this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1),this._titleList=this._unorderedListHelper.children();for(var e=this._titleList.length;e;)e--,this._titleList[e].setAttribute("role","tab"),this._titleList[e].getAttribute("id")||this._titleList[e].setAttribute("id",this.element.id+"Tab"+e),this._contentList[e].setAttribute("role","tabpanel");this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_hiddenParent:function(){var b=this;if("none"===b.host.css("display"))return!0;var c=!1;return a.each(b.host.parents(),function(){if("none"===a(this).css("display"))return c=!0,!1}),c},_enableWindowResize:function(){var b=this,c=a.jqx.isHidden(b.host);a.jqx.utilities.resize(this.host,function(){c?(b._uiRefresh(!0),c=!1):b.refresh()})},resize:function(b,c){this.width=b,this.height=c;var d=a.jqx.isHidden(this.host);d?(this._uiRefresh(!0),d=!1):this.refresh()},refresh:function(a){!0===a&&void 0!==a||this._setSize()},_seletionTrackerBrowserCheck:function(){var b="Browser CodeName: "+navigator.appCodeName;return b+="Browser Name: "+navigator.appName,b+="Browser Version: "+navigator.appVersion,b+="Platform: "+navigator.platform,b+="User-agent header: "+navigator.userAgent,b.indexOf("IEMobile")===-1&&(b.indexOf("Windows Phone OS")===-1&&!(a.jqx.browser.msie&&a.jqx.browser.version<=7))},render:function(){this._refresh()},_uiRefresh:function(b){if(this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),b&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!==a(this._rightArrow).css("visibility")){var c=2*this.arrowButtonSize,d=this._width(this.element)-parseInt(this._width(this._unorderedList)+c+parseInt(this._unorderedListHelper.css("margin-left"),10),10);this._unorderedList.style.left=d+"px"}},_refresh:function(){a.jqx.isHidden(this.host)||this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.className+=" "+this.toThemeProperty("jqx-tabs-title-container"),this._unorderedList.style.outline="none",this._unorderedList.style.whiteSpace="nowrap",this._unorderedList.style.marginTop="0px",this._unorderedList.style.marginBottom="0px",this._unorderedList.style.padding="0px",this._unorderedList.style.background="transparent",this._unorderedList.style.border="none",this._unorderedList.style.borderStyle="none",this._unorderedList.style.textIndent="0px";for(var a=this.length();a;){a--;var b=this._titleList[a],c="jqx-tabs-title jqx-item";switch(b.style.padding="","bottom"===this.position&&(c+=" jqx-tabs-title-bottom"),b.disabled&&(c+=" jqx-tabs-title-disable jqx-fill-state-disabled"),this.position){case"top":c+=" jqx-rc-t",this._removeClass(this._contentList[a],this.toThemeProperty("jqx-rc-t")),this._contentList[a].className+=" "+this.toThemeProperty("jqx-rc-b");break;case"bottom":c+=" jqx-rc-b",this._removeClass(this._contentList[a],this.toThemeProperty("jqx-rc-b")),this._contentList[a].className+=" "+this.toThemeProperty("jqx-rc-t")}b.className="jqx-reset jqx-disableselect "+this.toThemeProperty(c)}if(this.selectionTracker)switch(this.position){case"top":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-b")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-t");break;case"bottom":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-t")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-b")}},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);d.owner=this,d.args=c,6!==b&&7!==b||(d.cancel=!1,this._currentEvent=d);var e="";try{if(e=this.host.trigger(d),1===b){var f=this;if(this.selectionTracker||"none"!==this.animationType)setTimeout(function(){f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0);var b=new a.Event("loadContent");b.owner=this,f._contentList.length>0&&f._contentList[f.selectedItem]&&a(f._contentList[f.selectedItem]).trigger(b)},50+f.selectionTrackerAnimationDuration);else{var g=new a.Event("loadContent");f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0),g.owner=this;var h=new a.Event("resize");this.host.trigger(h)}}}catch(i){i&&console}return e},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var a,b=this.arrowButtonSize,c=this.arrowButtonSize;return a="left"===this.scrollPosition?b+c:"both"===this.scrollPosition?b:0},_scrollRight:function(b){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var c,d,e,f=parseInt(this._width(this._unorderedList)+parseInt(this._unorderedListHelper.css("margin-left"),10),10),g=this._width(this.element),h=parseInt(this._unorderedListHelper.css("left"),10),i=this._getArrowsDisplacement(),j=0;this.scrollable?(c=this._leftArrow.offsetWidth,d=this._rightArrow.offsetWidth):(c=0,d=0),b=this.enableScrollAnimation?b:0,this._width(this._headerWrapper)>parseInt(this._unorderedListHelper.css("margin-left"),10)+this._width(this._unorderedList)?j=i:Math.abs(h)+this.scrollStep<Math.abs(g-f)+c+d+i?(j=h-this.scrollStep,e=h-this.scrollStep+parseInt(a(this._titleList[this._selectedItem]).position().left,10)):(j=g-f-(2*this.arrowButtonSize-i),j<parseInt(this._unorderedListHelper.css("left"),10)-4&&j>parseInt(this._unorderedListHelper.css("left"),10)+4&&(e=g-f-c-d+parseInt(a(this._titleList[this._selectedItem]).position().left,10))),this._performScrollAnimation(j,e,b)},_scrollLeft:function(b){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var c,d=parseInt(this._unorderedListHelper.css("left"),10),e=this._getArrowsDisplacement(),f=0;b=this.enableScrollAnimation?b:0,this._width(this._headerWrapper)>=this._width(this._unorderedList)?f=e:d+this.scrollStep<e?(f=d+this.scrollStep,c=d+this.scrollStep+parseInt(a(this._titleList[this._selectedItem]).position().left,10)):(f=e,f<parseInt(this._unorderedListHelper.css("left"),10)-4&&f>parseInt(this._unorderedListHelper.css("left"),10)+4&&(c=parseInt(a(this._titleList[this._selectedItem]).position().left,10))),this._performScrollAnimation(f,c,b)},_performScrollAnimation:function(a,b,c){var d=this;void 0!==b&&this._moveSelectionTrack(this._selectedItem,0,b),this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:a},c,function(){d._moveSelectionTrack(d.selectedItem,0),d._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var b=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(c){if(!b._activeAnimation()){var d=b._selectedItem,e=b.selectionTracker,f=b.getContentAt(d);if(a(c.target).ischildof(f))return!0;switch(c.keyCode){case 37:return b.rtl?b.next():b.previous(),!1;case 39:return b.rtl?b.previous():b.next(),!1;case 36:return b.first(),!1;case 35:return b.last(),!1;case 27:b._tabCaptured&&(b._cancelClick=!0,b._uncapture(null,b.selectedItem),b._tabCaptured=!1)}b.selectionTracker=e}return!0})},_addScrollHandlers:function(){var b=this;this.addHandler(this._leftArrow,"mousedown",function(){b._startScrollRepeat(!0,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){b._startScrollRepeat(!1,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(a(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(a){var b=a.data;b._scrollTimeout&&clearTimeout(b._scrollTimeout)},_mouseUpScrollDocumentHandler:function(a){var b=a.data;clearTimeout(b._scrollTimeout)},_mouseUpDragDocumentHandler:function(a){var b=a.data;b._tabCaptured&&b._dragStarted&&b._uncapture(a),b._tabCaptured=!1},_addReorderHandlers:function(){var b=this;b.addHandler(a(document),"mousemove.tab"+b.element.id,b._moveElement,b),b.addHandler(a(document),"mouseup.tab"+b.element.id,b._mouseUpDragDocumentHandler,b)},_addEventHandlers:function(){for(var b=this.length();b;)b--,this._addEventListenerAt(b);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var c=this;try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var d=null;window.parent&&document.referrer&&(d=document.referrer),d&&d.indexOf(document.location.host)!=-1&&window.top.document&&(c.mouseupFuncForTop=function(a){c._tabCaptured&&(c._cancelClick=!0,c._uncapture(null,me.selectedItem),c._tabCaptured=!1)},this.addHandler(a(window.top.document),"mouseup",c.mouseupFuncForTop))}}catch(e){}},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},25)}catch(b){}},_getFocusedItem:function(b){for(var c=this.length();c;){c--;var d=this._titleList[c],e=this._outerWidth(d,!0),f=parseInt(a(d).offset().left,10),g=f;if(g<=b&&g+e>=b&&d!==this._capturedElement&&!this._titleList[c].locked&&this._titleList[c].disabled!==!0)return c}return-1},_uncapture:function(a){var b=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var c=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.style.bottom="0px";break;case"bottom":this._capturedElement.style.top="0px"}var d;a&&(d=this._getFocusedItem(a.clientX)),d!==-1&&a?(this._raiseEvent(10,{item:c,dropIndex:d}),this._reorderItems(d,c)):this._capturedElement.style.left="0px";for(var e=0;e<this._titleList.length;e++)this._titleList[e].style.position="static";this._reorderHeaderElements(),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._prepareTabs(),d!==-1&&a?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=c,this._moveSelectionTrack(c,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.selectionTracker=b}},_reorderItems:function(b,c){var d=this._titleList[this.selectedItem],e=this._titleList[c];"undefined"==typeof this._capturedElement&&(this._capturedElement=e),a(e).remove(),c<b?this._titleList[b+1]?this._unorderedList.insertBefore(e,this._titleList[b+1]):this._unorderedList.appendChild(e):this._unorderedList.insertBefore(e,this._titleList[b]),this._reorderElementArrays(b,c),this._getSelectedItem(d),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(a,b){var c=this._contentList[b];if(b<a){for(var d=b;d<=a;d++)this._titleList[d]=this._titleList[d+1],this._contentList[d]=this._contentList[d+1];this._contentList[a]=c,this._titleList[a]=this._capturedElement}else{for(var e=b;e>=a;e--)this._titleList[e]=this._titleList[e-1],this._contentList[e]=this._contentList[e-1];this._contentList[a]=c,this._titleList[a]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(a){for(var b=this.length();b;)if(b--,this._titleList[b]===a){this._selectedItem=this.selectedItem=b;break}},_moveElement:function(a){var b=a.data;if(b._tabCaptured)if(document.selection&&document.selection.clear(),b._dragStarted)b._performDrag(a),clearTimeout(b._scrollTimeout);else{var c=-parseInt(b._unorderedListHelper.css("left"),10);(a.clientX+c>b._startX+3||a.clientX+c<b._startX-3)&&(b._prepareTabForDragging(),b._dragStarted=!0)}},_performDrag:function(a){var b=this.getZoomFactor(),c=-parseInt(this._unorderedListHelper.css("left"),10);this._capturedElement.style.left=this._toPx(c+a.clientX/b-this._startX/b),this._lastX=a.clientX/b,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var a=1;if(document.body.getBoundingClientRect){var b=document.body.getBoundingClientRect(),c=b.right-b.left,d=document.body.offsetWidth;a=Math.round(c/d*100)/100}return a},_prepareTabForDragging:function(){switch(this._capturedElement.style.position="relative",this._capturedElement.style.left="0px",this._capturedElement.style.top="0px",this._capturedElement.style.zIndex=300,this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.style.bottom=this._toPx(a(this._capturedElement).css("top"));break;case"bottom":this._capturedElement.style.top=this._toPx(a(this._capturedElement).css("top"))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(b){var c=parseInt(this._unorderedListHelper.css("left"),10),d=this,e=a(d._headerWrapper);b.clientX<=e.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(a(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-c):b.clientX>e.offset().left+d._width(this._headerWrapper)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(a(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-c):(d._stop(d._unorderedListHelper),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout)),this._scrollTimeout=setTimeout(function(){d._dragScroll(b)},this.scrollAnimationDuration),this._lastUnorderedListPosition=c},_captureElement:function(a,b){if(!this._tabCaptured&&!this._titleList[b].locked&&this._titleList[b].disabled!==!0&&!this._activeAnimation()){var c=-parseInt(this._unorderedListHelper.css("left"),10);this._startX=c+a.clientX,this._startY=a.clientY,this._lastX=a.clientX,this._lastY=a.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[b]}},_titleInteractionTrigger:function(a){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==a?(this.select(this._titleList[a],"toggle"),this._titleList[a].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.style.visibility="visible":this._contentWrapper.style.display="block")):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var a=this._selectedItem,b=this;this.isCollapsed=!0,"auto"!==b.height?b._contentWrapper.style.visibility="hidden":b._contentWrapper.style.display="none",b._raiseEvent(13,{item:a}),"top"===this.position?(b._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed"),b.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed")):(b._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed-bottom"),b.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed-bottom"))},expand:function(){var a=this._selectedItem,b=this;this.isCollapsed=!1,this._select(a,b.contentTransitionDuration,null,!1,!0),"auto"!==b.height?b._contentWrapper.style.visibility="visible":b._contentWrapper.style.display="block",b._raiseEvent(14,{item:a}),"top"===this.position?(b._removeClass(b._headerWrapper,b.toThemeProperty("jqx-tabs-header-collapsed")),b._removeClass(b.element,b.toThemeProperty("jqx-tabs-collapsed"))):(b._removeClass(b._headerWrapper,b.toThemeProperty("jqx-tabs-header-collapsed-bottom")),b._removeClass(b.element,b.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(a){var b=this;this.addHandler(this._titleList[a],"selectstart",function(){return!1}),this.addHandler(this._titleList[a],this.toggleMode,function(a){return function(){return b._raiseEvent("15",{item:a}),b._tabCaptured||b._cancelClick||b._titleInteractionTrigger(a),!0}}(a))},_addDragDropHandlers:function(a){var b=this;this.addHandler(this._titleList[a],"mousedown",function(c){return b._captureElement(c,a),!1}),this.addHandler(this._titleList[a],"mouseup",function(c){return b._tabCaptured&&b._dragStarted?(b._cancelClick=!0,b._uncapture(c,a)):b._cancelClick=!1,b._tabCaptured=!1,!1})},_removeHoverStates:function(){var b=this;a.each(this._titleList,function(){b._removeClass(this,b.toThemeProperty("jqx-tabs-title-hover-top jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(a){var b=this,c=this._titleList[a];this.addHandler(c,"mouseenter mouseleave",function(d){if(a!==b._selectedItem){var e="jqx-fill-state-hover";if(e+="top"===b.position?" jqx-tabs-title-hover-top":" jqx-tabs-title-hover-bottom","mouseenter"===d.type?c.className+=" "+b.toThemeProperty(e):b._removeClass(c,b.toThemeProperty(e)),b.showCloseButtons){var f=b._closeButtonList[a];"mouseenter"===d.type?f.className+=" "+b.toThemeProperty("jqx-tabs-close-button-hover",!0):b._removeClass(f,b.toThemeProperty("jqx-tabs-close-button-hover",!0))}}})},_addEventListenerAt:function(a){var b=this;if(!this._titleList[a].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(a),this._addSelectHandler(a),this.enabledHover&&this._addHoverHandlers(a);var c=b._closeButtonList[a];this.removeHandler(c,"click"),this.addHandler(c,"click",function(){return b.removeAt(a),!1})}},_removeEventHandlers:function(){for(var b=this,c=b.length();c;)c--,b._removeEventListenerAt(c);b.scrollable&&(b.removeHandler(b._leftArrow,"mousedown"),b.removeHandler(b._rightArrow,"mousedown"),b.removeHandler(b._leftArrow,"mouseleave"),b.removeHandler(b._rightArrow,"mouseleave")),b.removeHandler(a(document),"mousemove.tab"+b.element.id,b._moveElement),b.removeHandler(a(document),"mouseup.tab"+b.element.id,b._mouseUpScrollDocumentHandler),b.removeHandler(a(document),"mouseup.tab"+b.element.id,b._mouseUpDragDocumentHandler),b.removeHandler(a(document),"mouseleave.tab"+b.element.id,b._mouseLeaveScrollDocumentHandler),b.removeHandler(b.host,"keydown"),b.mouseupFuncForTop&&(b.removeHandler(a(window.top.document),"mouseup",b.mouseupFuncForTop),b.mouseupFuncForTop=null,delete b.mouseupFuncForTop)},_removeEventListenerAt:function(a){var b=this;b.removeHandler(b._titleList[a],"selectstart"),b.removeHandler(b._titleList[a],b.toggleMode),b.removeHandler(b._titleList[a],"mouseenter"),b.removeHandler(b._titleList[a],"mouseleave"),b.removeHandler(b._titleList[a],"mousedown"),b.removeHandler(b._titleList[a],"mouseup"),b.removeHandler(b._closeButtonList[a],"click")},_moveSelectionTrack:function(b,c,d){var e=this;if(b!==-1&&0!==this._titleList.length&&!(b>=this._titleList.length)){var f=this._titleList[b],g=a(f);if(this.selectionTracker&&this._selectionTracker){var h;e._stop(e._selectionTrackerHelper),this._unlockAnimation("selectionTracker"),void 0===d?(h=parseInt(g.position().left,10),isNaN(parseInt(this._unorderedListHelper.css("left"),10))||(h+=parseInt(this._unorderedListHelper.css("left"),10)),isNaN(parseInt(this._unorderedListHelper.css("margin-left"),10))||(h+=parseInt(this._unorderedListHelper.css("margin-left"),10)),isNaN(parseInt(g.css("margin-left"),10))||(h+=parseInt(g.css("margin-left"),10)),!isNaN(parseInt(g.css("margin-right"),10))):h=d;var i=0,j=0;"top"===this.position&&(i=this._height(e._headerWrapper)-f.offsetHeight,this.autoHeight||(j+=parseInt(g.css("margin-top"),10))),this._lockAnimation("selectionTracker");var k=parseInt(g.css("padding-left"),10)+parseInt(g.css("padding-right"),10),l="top"===this.position?0:1,m=parseInt(a(this._headerWrapper).css("padding-top"),10),n=parseInt(g.css("padding-top"),10)+parseInt(g.css("padding-bottom"),10);this._selectionTracker.style.visibility="visible",this._moveSelectionTrackerContainer.style.visibility="visible";var o=parseInt(g.css("margin-top"),10);isNaN(o)&&(o=0),e._selectionTrackerHelper.animate({top:m+o-l,left:h+"px",height:parseInt(this._height(f)+n,10),width:e._width(f)+k},c,function(){e._unlockAnimation("selectionTracker"),e._selectionTracker.style.visibility="hidden",e._addSelectStyle(b,!0),e._moveSelectionTrackerContainer.style.visibility="hidden"})}}},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this._removeEventHandlers(),this.host.remove()},_switchTabs:function(a,b){if(a!==b&&!this._activeAnimation()&&!this._tabCaptured){var c=this;return this._raiseEvent(7,{item:b}),this._raiseEvent(6,{item:a}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(b,null,!0),this._select(a,c.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(var a in this._isAnimated)if(this._isAnimated.hasOwnProperty(a)&&this._isAnimated[a])return!0;return!1},_indexOf:function(a){for(var b=this.length();b;)if(b--,this._titleList[b]===a||this._contentList[b]===a)return b;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width,10)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height,10)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0===this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(a){try{}catch(b){}}},_startScrollRepeat:function(a,b){var c=this;a?this._scrollLeft(b):this._scrollRight(b),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){c._startScrollRepeat(a,c.scrollAnimationDuration)},b)},_performLayout:function(){for(var a=this.length();a;)a--,"top"!==this.position&&"bottom"!==this.position||(this.rtl?this._titleList[a].style["float"]="right":this._titleList[a].style["float"]="left");this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_setSize:function(){var a=this;a._fitToSize(),a._positionArrows(a._totalItemsWidth),a._totalItemsWidth>a.element.offsetWidth?a._unorderedList.style.width=a._toPx(a._totalItemsWidth):a._unorderedList.style.width=a.element.offsetWidth-2+"px",a._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(a(this._leftArrow).remove(),a(this._rightArrow).remove()),this._leftArrow=document.createElement("div"),this._leftArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span>',this._leftArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._leftArrow.style.zIndex=30,this._leftArrow.style.display="none",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.height="100%",this._rightArrow=document.createElement("div"),this._rightArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span>',this._rightArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._rightArrow.style.zIndex=30,this._rightArrow.style.display="none",this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.height="100%",this._headerWrapper.appendChild(this._leftArrow),this._headerWrapper.appendChild(this._rightArrow)},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var b=this.length();return a.each(this._titleList,function(){var a=this.attr("hasclosebutton");void 0!==a&&null!==a&&("false"!==a&&a!==!1||b--)}),b},_calculateTitlesSize:function(){function b(a,b){a&&(b?a.style.display="block":a.style.display="none")}var c=this,d=0,e=0,f=this.length();for(this.rtl&&a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._measureItem=document.createElement("span"),this._measureItem.style.position="relative",this._measureItem.style.visibility="hidden",document.body.appendChild(this._measureItem));f;){f--;var g=this._titleList[f],h=c._closeButtonList[f];this._measureItem&&(this._measureItem.innerHTML=g.innerHTML,this._measureItem.html(this._titleList[f].html()),g.style.width=c._toPx(c._width(this._measureItem))),g.style.position="static",b(h,!1),e+=c._outerWidth(g,!0);var i=c._outerHeight(g,!0);if(d<i&&(d=i),0===c._height(g)){var j=g.cloneNode(!0);document.body.appendChild(j),d=c._outerHeight(j,!0),document.body.removeChild(j)}var k,l=g.getAttribute("hasCloseButton");void 0!==l&&null!==l?(k=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[f]&&(b(h,!1),k=!0),k||("true"===l||l===!0?(e+=this.closeButtonSize,b(h,!0)):"false"!==l&&l!==!1||b(h,!1))):this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)&&(k=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[f]&&(b(h,!1),k=!0),k||(e+=this.closeButtonSize,b(h,!0))),g.style.height=this._toPx(c._height(g))}return this._measureItem&&a(this._measureItem).remove(),{height:d,width:10+e}},_reorderHeaderElements:function(){if(this.selectionTracker&&(this._moveSelectionTrackerContainer.style.position="absolute",this._moveSelectionTrackerContainer.style.height="100%",this._moveSelectionTrackerContainer.style.top="0px",this._moveSelectionTrackerContainer.style.left="0px",this._moveSelectionTrackerContainer.style.width="100%"),this._headerWrapper.style.position="relative",this._headerWrapper.style.left="0px",this._headerWrapper.style.top="0px",this.scrollable){this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.position="absolute",this._rightArrow.style.top="0px",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.position="absolute",this._leftArrow.style.top="0px";var a=this.theme&&this.theme.indexOf("ui-")!==-1?3:0;a>0&&(this._rightArrow.className+=" "+this.toThemeProperty("jqx-rc-r"),this._leftArrow.className+=" "+this.toThemeProperty("jqx-rc-l"));var b=this.scrollPosition;switch(this.rtl&&("left"===b&&(b="right"),"right"===b&&(b="left")),b){case"both":this._rightArrow.style.right="0px",this._leftArrow.style.left="0px";break;case"left":this._rightArrow.style.left=this._toPx(this.arrowButtonSize),this._leftArrow.style.left="0px";break;case"right":this._rightArrow.style.right=this._toPx(-a),this._leftArrow.style.right=this._toPx(parseInt(this.arrowButtonSize,10)-a)}}},_positionArrows:function(a){a>=this._headerWrapper.offsetWidth&&this.scrollable?(this._needScroll=!0,0===this._unorderedListHelper.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.style.display="block",this._rightArrow.style.display="block"):(this._needScroll=!1,this._leftArrow.style.display="none",this._rightArrow.style.display="none",this._unorderedList.style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var b=this._calculateTitlesSize(),c=b.height,d=b.width;this._headerWrapper.style.height=this._toPx(c),this._unorderedList.style.height=this._toPx(c),null!==this.headerHeight&&"auto"!==this.headerHeight&&(this._headerWrapper.style.height=this._toPx(this.headerHeight),this._unorderedList.style.height=this._toPx(this.headerHeight));var e=this._width(this.element);d>e?this._unorderedList.style.width=this._toPx(d):this._unorderedList.style.width=this._toPx(e),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._unorderedList.style.position="relative",this._unorderedList.style.overflow="hidden"),this._reorderHeaderElements(),d+=parseInt(this._unorderedListHelper.css("margin-left"),10),this._totalItemsWidth=d,this._positionArrows(d),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){for(var b=this.length();b;){b--;var c=this._titleList[b],d=a(c),e=d.children()[0],f=this._closeButtonList[b],g=parseInt(d.css("padding-top"),10);if(g||(g=0),this.autoHeight){var h=parseInt(d.css("padding-top"),10),i=parseInt(d.css("padding-bottom"),10),j=d.css("border-top-width"),k=d.css("border-bottom-width");j=j.indexOf("px")===-1?1:parseInt(j,10),k=k.indexOf("px")===-1?1:parseInt(k,10),c.style.height=this._toPx(this._outerHeight(this._unorderedList,!0)-(h+i+j+k))}else if("top"===this.position){var l=this._height(this._unorderedList)-parseInt(this._outerHeight(c,!0),10);parseInt(d.css("margin-top"),10)!==l&&0!==l&&(c.style.marginTop=this._toPx(l))}else c.style.height=this._toPx(this._height(c));e.style.height="100%";var m=this._height(c);if(f){var n=m/2-this._height(f)/2;f.style.marginTop=this._toPx(1+n)}var o=m/2-this._height(e)/2;e.style.marginTop=this._toPx(o)}if(this.scrollable){var p=(parseInt(this._headerWrapper.offsetHeight,10)-this.arrowButtonSize)/2;a(this._rightArrow).children()[0].style.marginTop=this._toPx(p),this._rightArrow.style.height="100%",a(this._leftArrow).children()[0].style.marginTop=this._toPx(p),this._leftArrow.style.height="100%"}},_getImageUrl:function(a){var b=a.css("background-image");return b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")","")},_fitToSize:function(){var a=!1,b=!1,c=this;null!==c.width&&c.width.toString().indexOf("%")!==-1&&(a=!0),null!==c.height&&c.height.toString().indexOf("%")!==-1&&(b=!0),a?(this.element.style.width=this.width,this._contentWrapper.style.width="100%"):(c.element.style.width=c._toPx(c.width),"auto"!==this.width&&(this._contentWrapper.style.width="100%"));
var d;b?(this.element.style.height=this.height,this._contentWrapper.style.width="100%",this._contentWrapper.style.height="auto",d=this.element.offsetHeight-this._headerWrapper.offsetHeight,this._contentWrapper.style.height=d+"px"):"auto"!==this.height?(c.element.style.height=c._toPx(c.height),d=this._height(c.element)-this._headerWrapper.offsetHeight,this._contentWrapper.style.height=c._toPx(d)):this._contentWrapper.style.height="auto"},_maxHeightTab:function(){for(var a=this.length(),b=-1,c=-1;a;)a--,b<this._outerHeight(this._titleList[a],!0)&&(c=a);return c},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&a(this._moveSelectionTrackerContainer).remove(),this._moveSelectionTrackerContainer=document.createElement("div"),this._moveSelectionTrackerContainer.className=this.toThemeProperty("jqx-tabs-selection-tracker-container"),this._selectionTracker=document.createElement("div"),this._selectionTracker.className=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position),this._selectionTracker.style.color="inherit",this._selectionTracker.style.position="absolute",this._selectionTracker.style.zIndex=10,this._selectionTracker.style.left="0px",this._selectionTracker.style.top="0px",this._selectionTracker.style.display="inline-block",this._moveSelectionTrackerContainer.appendChild(this._selectionTracker),this._headerWrapper.appendChild(this._moveSelectionTrackerContainer),this._selectionTrackerHelper=a(this._selectionTracker),this._selectionTrackerHelper.initAnimate&&this._selectionTrackerHelper.initAnimate()},_addContentWrapper:function(){var a="none",b=null===this._contentWrapper;b&&(this._contentWrapper=document.createElement("div"),this._contentWrapper.className=this.toThemeProperty("jqx-tabs-content jqx-widget-content"),this._contentWrapper.style["float"]=a);for(var c=this.length();c;)c--,this._contentList[c].className+=" "+this.toThemeProperty("jqx-tabs-content-element");if(b){"top"===this.position?this.element.appendChild(this._contentWrapper):this.element.insertBefore(this._contentWrapper,this.element.firstChild);for(var d=0;d<this._contentList.length;d++)this._contentWrapper.appendChild(this._contentList[d])}this.roundedCorners&&("top"===this.position?this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-b"):this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-t"),this.element.className+=" "+this.toThemeProperty("jqx-rc-all"))},_addHeaderWrappers:function(){var b=this.length();void 0!==this._headerWrapper&&a(this._headerWrapper).remove(),this._headerWrapper=document.createElement("div"),this._headerWrapper.style.outline="none","top"===this.position?this.element.insertBefore(this._headerWrapper,this.element.firstChild):this.element.appendChild(this._headerWrapper),this._headerWrapper.appendChild(this._unorderedList);var c="jqx-tabs-headerWrapper jqx-tabs-header jqx-widget-header";for("bottom"===this.position&&(c+=" jqx-tabs-header-bottom"),this.roundedCorners&&(c+="top"===this.position?" jqx-rc-t":" jqx-rc-b"),this._headerWrapper.className=this.toThemeProperty(c);b;){b--;var d=this._titleList[b];if(null===d.querySelector(".jqx-tabs-titleWrapper")){var e=document.createElement("div");e.className="jqx-tabs-titleWrapper",e.style.outline="none",e.style.position="relative",e.style.zIndex=15;var f=a(d).children();e.appendChild(f[0]),e.appendChild(f[1]),d.appendChild(e)}}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(b,c){var d=document.createElement("div"),e=this._titleList[b];d.className="jqx-tabs-titleContentWrapper jqx-disableselect";var f="left";this.rtl&&(f="right"),a(e).find(".jqx-tabs-close-button").length>0&&a(e).find(".jqx-tabs-close-button").remove(),d.style["float"]=f,d.innerHTML=e.innerHTML,e.innerHTML="";var g=document.createElement("div");g.className=this.toThemeProperty("jqx-tabs-close-button"),g.style.height=this._toPx(this.closeButtonSize),g.style.width=this._toPx(this.closeButtonSize),g.style["float"]=f,g.style.fontSize="1px",e.appendChild(d),e.appendChild(g),c===!0?this._closeButtonList[b]=g:this._closeButtonList.splice(b,0,g),this.showCloseButtons?this.hiddenCloseButtons&&1===this.hiddenCloseButtons[b]&&(g.style.display="none"):g.style.display="none"},_addCloseButtons:function(){for(var a=this.length();a;)a--,this._addCloseButton(a,!0)},_prepareTabs:function(){var a=this.length(),b=this.selectionTracker;for(this.selectionTracker=!1;a;)a--,this._selectedItem!==a&&this._unselect(a,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=b,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(a){return a>=0&&a<this.length()},_removeSelectStyle:function(){for(var a=this.length();a;){a--;var b=this._titleList[a];if(this.showCloseButtons){var c=this._closeButtonList[a];this._removeClass(c,this.toThemeProperty("jqx-tabs-close-button-selected"))}var d="jqx-fill-state-pressed";d+="top"===this.position?" jqx-tabs-title-selected-top":" jqx-tabs-title-selected-bottom",this._removeClass(b,this.toThemeProperty(d))}},_addSelectStyle:function(a,b){if(this._removeSelectStyle(),!this.selectionTracker||void 0!==b&&b){var c=this._titleList[a];if(a>=0&&void 0!==c){var d=null;this.showCloseButtons&&(d=this._closeButtonList[a],this.hiddenCloseButtons&&1===this.hiddenCloseButtons[a]&&(d=null));var e="jqx-fill-state-hover",f=" jqx-fill-state-pressed";"top"===this.position?(e+=" jqx-tabs-title-hover-top",f+=" jqx-tabs-title-selected-top"):(e+=" jqx-tabs-title-hover-bottom",f+=" jqx-tabs-title-selected-bottom"),this._removeClass(c,this.toThemeProperty(e)),c.className+=this.toThemeProperty(f),null!==d&&(d.className+=" "+this.toThemeProperty("jqx-tabs-close-button-selected"))}}},_addItemTo:function(a,b,c){if(b<a.length){for(var d,e,f=b;f+1<a.length;f++)void 0===d?(d=a[f+1],a[f+1]=a[f]):(e=a[f+1],a[f+1]=d,d=e);void 0===d&&(d=a[b]),a[b]=c,a.push(d)}else a.push(c)},_select:function(b,c,d,e,f){if(!this._tabCaptured){this.host.attr("hideFocus","true");var g=this;void 0===f?this._addSelectStyle(b):this._addSelectStyle(b,f);var h=a(g._titleList[b]),i=g._titleList[b].getAttribute("id"),j=a(g._contentList[b]);if(this.isCollapsed&&this.collapsible)return j[0].style.display="none",void this._selectCallback(b,d,e);switch(this.animationType){case"none":if(g.selectionTracker)setTimeout(function(){j[0].style.display="block",a.jqx.aria(h,"aria-selected",!0),a.jqx.aria(j,"aria-hidden",!1),a.jqx.aria(g,"aria-activedescendant",i)},this.selectionTrackerAnimationDuration);else{for(var k=0;k<this._contentList.length;k++)b!==k&&"block"===a(g._contentList[k]).css("display")&&(g._contentList[k].style.display="none",a.jqx.aria(a(g._titleList[k]),"aria-selected",!1),a.jqx.aria(a(g._contentList[k]),"aria-hidden",!0));j[0].style.display="block",a.jqx.aria(h,"aria-selected",!0),a.jqx.aria(j,"aria-hidden",!1),a.jqx.aria(this,"aria-activedescendant",i)}this._selectCallback(b,d,e);break;case"fade":this._lockAnimation("contentListSelect"),g._selectCallback(b,d,e),j.initAnimate&&void 0===j.fadeIn&&j.initAnimate(),j.fadeIn({duration:1e3,complete:function(){g._unlockAnimation("contentListSelect"),a.jqx.aria(h,"aria-selected",!0),a.jqx.aria(j,"aria-hidden",!1),a.jqx.aria(g,"aria-activedescendant",i)}})}}},_selectCallback:function(a,b,c){this._selectedItem=a,this.selectedItem=this._selectedItem,b&&b(),c&&this._raiseEvent(1,{item:a})},_unselect:function(b,c,d){if(b>=0&&!this._tabCaptured){var e=this,f=e._contentList[b],g=a(f),h=e._titleList[b],i=a(h);g.initAnimate&&void 0===g.animate&&g.initAnimate(),e._stop(g),"fade"===this.animationType?(f.style.display="none",a.jqx.aria(i,"aria-selected",!1),a.jqx.aria(g,"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){f.style.display="none",a.jqx.aria(i,"aria-selected",!1),a.jqx.aria(g,"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(f.style.display="none",a.jqx.aria(i,"aria-selected",!1),a.jqx.aria(g,"aria-hidden",!0)),this._unselectCallback(b,c,d),this.selectionTracker||e._removeClass(h,e.toThemeProperty("jqx-tabs-title-selected jqx-fill-state-pressed"))}},_unselectCallback:function(a,b,c){c&&this._raiseEvent(8,{item:a}),b&&b()},disable:function(){for(var a=this.length();a;)a--,this.disableAt(a)},enable:function(){for(var a=this.length();a;)a--,this.enableAt(a)},getEnabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled||b++}),b},getDisabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled&&b++}),b},removeAt:function(b){if(this._isValidIndex(b)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var c=this,d=c._outerWidth(this._titleList[b],!0),e=this.getTitleAt(b);this._unorderedList.style.width=c._toPx(c._width(this._unorderedList)-d),a(this._titleList[b]).remove(),a(this._contentList[b]).remove(),this._titleList.splice(b,1),this._contentList.splice(b,1),c._closeButtonList.splice(b,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:b,title:e}),this._isAnimated={};var f;if(this.selectedItem>0?(this._selectedItem=-1,this.selectedItem>=b?(f=this._getPreviousIndex(this.selectedItem),this.select(f)):this.select(c.selectedItem)):(this._selectedItem=-1,f=this._getNextIndex(this.selectedItem),this.select(f)),parseInt(this._unorderedListHelper.css("left"),10)>this._getArrowsDisplacement()&&(this._unorderedList.style.left=c._toPx(this._getArrowsDisplacement())),c._width(this._unorderedList)<=c._width(this._headerWrapper)){var g=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:0},g,function(){c._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(b){var c=this._titleList[b];if(!c.disabled||void 0===c.disabled){if(this.selectedItem===b){var d=this.next();d||(d=this.previous())}c.disabled=!0,this.removeHandler(c,this.toggleMode),this.enabledHover&&a(c).off("mouseenter").off("mouseleave"),this._removeEventListenerAt(b),c.className+=" "+this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled"),this._raiseEvent(5,{item:b})}},enableAt:function(a){var b=this._titleList[a];b.disabled&&(b.disabled=!1,this._addEventListenerAt(a),this._removeClass(b,this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled")),this._raiseEvent(4,{item:a}))},addAt:function(a,b,c){if(a>=0&&a<=this.length()){this._removeHoverStates();var d=document.createElement("li");d.innerHTML=b,d.className=this.toThemeProperty("jqx-tabs-title jqx-item");var e=document.createElement("div");e.innerHTML=c,e.className=this.toThemeProperty("jqx-tabs-content-element"),"bottom"===this.position&&(d.className+=" "+this.toThemeProperty("jqx-tabs-title-bottom"));var f=!1;0===this._titleList.length?this._unorderedList.appendChild(d):a<this.length()&&a>=0?this._unorderedList.insertBefore(d,this._titleList[a]):this._unorderedList.appendChild(d),this._contentWrapper.appendChild(e),this._addItemTo(this._titleList,a,d),this._addItemTo(this._contentList,a,e),this._addCloseButton(a),this._selectedItem>a&&this._selectedItem++,this._switchTabs(a,this._selectedItem),this._selectedItem=a,this._uiRefresh(f),this._raiseEvent(2,{item:a}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(a,b){this.addAt(0,a,b)},addLast:function(a,b){this.addAt(this.length(),a,b)},val:function(a){return 0===arguments.length||"object"==typeof a?this._selectedItem:(this.select(a),this._selectedItem)},select:function(a){"object"==typeof a&&(a=this._indexOf(a));var b=!(a>=0&&a<this._titleList.length)||this._titleList[a].getAttribute("canselect");if((void 0===b||null===b||"true"===b||b===!0)&&a!==this._selectedItem&&this._isValidIndex(a)&&!this._activeAnimation()&&!this._titleList[a].disabled){var c=this._switchTabs(a,this._selectedItem);c&&this.ensureVisible(a)}},previous:function(a){var b=this._selectedItem;for(void 0===a||isNaN(a)||(b=a);b>0&&b<this._titleList.length;)if(b--,!this._titleList[b].disabled)return this.select(b),!0;return!1},_getPreviousIndex:function(a){if(void 0===a||isNaN(a))return 0;for(var b=a;a>0&&a<=this._titleList.length;)if(a--,!this._titleList[a].disabled)return a;return b},_getNextIndex:function(a){if(void 0===a||isNaN(a))return 0;for(var b=a;a>=0&&a<this._titleList.length;){if(!this._titleList[a].disabled)return a;a++}return b},next:function(a){var b=this._selectedItem;for(void 0===a||isNaN(a)||(b=a);b>=0&&b<this._titleList.length-1;)if(b++,!this._titleList[b].disabled)return this.select(b),!0;return!1},first:function(){var a=0;this._titleList[a].disabled?this.next(a):this.select(a)},last:function(){var a=this._titleList.length-1;this._titleList[a].disabled?this.previous(a):this.select(a)},length:function(){return this._titleList.length},lockAt:function(a){!this._isValidIndex(a)||this._titleList[a].locked&&void 0!==this._titleList[a].locked||(this._titleList[a].locked=!0,this._raiseEvent(11,{item:a}))},unlockAt:function(a){this._isValidIndex(a)&&this._titleList[a].locked&&(this._titleList[a].locked=!1,this._raiseEvent(12,{item:a}))},lockAll:function(){for(var a=this.length();a;)a--,this.lockAt(a)},unlockAll:function(){for(var a=this.length();a;)a--,this.unlockAt(a)},showCloseButtonAt:function(a){this._isValidIndex(a)&&(this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader()),this._closeButtonList[a].style.display="block",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[a]=0)},hideCloseButtonAt:function(a){this._isValidIndex(a)&&(this._closeButtonList[a].style.display="none",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[a]=1)},hideAllCloseButtons:function(){for(var a=this.length();a;)a--,this.hideCloseButtonAt(a)},showAllCloseButtons:function(){for(var a=this.length();a;)a--,this.showCloseButtonAt(a)},getTitleAt:function(b){return this._titleList[b]?a(this._titleList[b]).text():null},getContentAt:function(a){return this._contentList[a]?this._contentList[a]:null},setTitleAt:function(b,c){this._titleList[b]&&(a(this._titleList[b]).text(c),this.showCloseButtons&&(this._addCloseButton(b),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(b,c){this._contentList[b]&&a(this._contentList[b]).html(c)},ensureVisible:function(b){var c=this;if(void 0!==b&&b!==-1&&null!==b||(b=this.selectedItem),!this._isValidIndex(b))return!1;var d,e,f=this._titleList[b],g=parseInt(a(f).position().left,10)+parseInt(this._unorderedListHelper.css("margin-left"),10),h=parseInt(this._unorderedListHelper.css("left"),10),i=this._outerWidth(this._headerWrapper,!0),j=this._outerWidth(f,!0),k=h-this._getArrowsDisplacement(),l=i-this._getArrowsDisplacement()-k;if(g<-k)d=-g+this._getArrowsDisplacement(),e=this._getArrowsDisplacement();else{if(!(g+j>l-this._getArrowsDisplacement()))return this._moveSelectionTrack(b,this.selectionTrackerAnimationDuration),!0;d=-g+i-j-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),e=i-j-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:d},this.scrollAnimationDuration,function(){return c._unlockAnimation("unorderedList"),c._moveSelectionTrack(c._selectedItem,0),!0}),this._moveSelectionTrack(b,this.selectionTrackerAnimationDuration,e),!0},isVisibleAt:function(b){var c=this;if(void 0!==b&&b!==-1&&null!==b||(b=c.selectedItem),!c._isValidIndex(b))return!1;var d=c._titleList[b],e=parseInt(a(d).position().left,10)+parseInt(c._unorderedListHelper.css("margin-left"),10),f=parseInt(c._unorderedListHelper.css("left"),10),g=c._outerWidth(c._headerWrapper,!0),h=c._outerWidth(d,!0),i=f-c._getArrowsDisplacement(),j=g-c._getArrowsDisplacement()-i;return!(e<-i)&&!(e+h>j)},isDisabled:function(a){return this._titleList[a].disabled},_lockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!0)},_unlockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!1)},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2===Object.keys(c).length&&a._setSize()},propertyChangedHandler:function(b,c,d,e){if(!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2===Object.keys(b.batchUpdate).length)){switch(this._validateProperties(),c){case"touchMode":e&&(b.enabledHover=!1,b.keyboardNavigation=!1);break;case"width":case"height":return void b._setSize();case"disabled":return void(e?this.disable():this.enable());case"showCloseButtons":return e?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._performHeaderLayout();case"selectedItem":return void(this._isValidIndex(e)&&this.select(e));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(e?(this._refresh(),this.select(this._selectedItem)):this._selectionTracker&&this._selectionTrackerHelper.remove());case"scrollable":return void(e?(this._refresh(),this.select(this._selectedItem)):(a(this._leftArrow).remove(),a(this._rightArrow).remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void a.jqx.utilities.setTheme(d,e,this.host)}this._unorderedList.style.left="0px",this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}},_toPx:function(a){return"number"==typeof a?a+"px":a},_removeClass:function(b,c){a(b).removeClass(c)},_width:function(b){var c=a(b),d=c.css("border-left-width"),e=c.css("border-right-width"),f=parseInt(c.css("padding-left"),10),g=parseInt(c.css("padding-right"),10);d=d.indexOf("px")===-1?1:parseInt(d,10),e=e.indexOf("px")===-1?1:parseInt(e,10);var h=b.offsetWidth-(d+e+f+g);return h},_outerWidth:function(b,c){var d=b.offsetWidth;if(c){var e=a(b),f=parseInt(e.css("margin-left"),10),g=parseInt(e.css("margin-right"),10);d+=f+g}return d},_height:function(b){var c=a(b),d=c.css("border-top-width"),e=c.css("border-bottom-width"),f=parseInt(c.css("padding-top"),10),g=parseInt(c.css("padding-bottom"),10);d=d.indexOf("px")===-1?1:parseInt(d,10),e=e.indexOf("px")===-1?1:parseInt(e,10);var h=b.offsetHeight-(d+e+f+g);return h},_outerHeight:function(b,c){var d=b.offsetHeight;if(c){var e=a(b),f=parseInt(e.css("margin-top"),10),g=parseInt(e.css("margin-bottom"),10);d+=f+g}return d},_stop:function(a){a.stop?a.stop():a.animate("stop",!0)}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxTagCloud","",{}),a.extend(a.jqx._jqxTagCloud.prototype,{defineInstance:function(){var b={width:null,height:null,source:null,disabled:!1,rtl:!1,valueMember:"value",displayMember:"label",urlMember:"url",urlBase:"",autoBind:!0,takeTopWeightedItems:!1,displayLimit:null,minValueToDisplay:0,maxValueToDisplay:0,minFontSize:10,maxFontSize:24,fontSizeUnit:"px",displayValue:!1,sortBy:"none",alterTextCase:"none",sortOrder:"ascending",textColor:null,minColor:null,maxColor:null,tagRenderer:null};return this===a.jqx._jqxTagCloud.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var a=this;a.render(),a.dataBind(a.source,!0)},dataBind:function(b,c){var d=this;d.records=[];var e,f=!!b._source;f?(e=b,b=b._source):(b.datafields=[{name:d.displayMember},{name:d.valueMember},{name:d.urlMember}],e=new a.jqx.dataAdapter(b,{autoBind:!0}));var g=function(){void 0!==b.type&&(e._options.type=b.type),void 0!==b.formatdata&&(e._options.formatData=b.formatdata),void 0!==b.contenttype&&(e._options.contentType=b.contenttype),void 0!==b.async&&(e._options.async=b.async)},h=function(a){a._setSourceData(e),a._raiseEvent(1,{records:a.records}),a._renderTags()};switch(g(this),b.datatype){case"local":case"array":default:(null!=b.localdata||a.isArray(b))&&(e.unbindBindingUpdate(d.element.id),(d.autoBind||!d.autoBind&&!c)&&e.dataBind(),h(d),e.bindBindingUpdate(d.element.id,function(a){h(d,a)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata)return e.unbindBindingUpdate(d.element.id),(d.autoBind||!d.autoBind&&!c)&&e.dataBind(),h(d),void e.bindBindingUpdate(d.element.id,function(){h(d)});var i={};e._options.data?a.extend(e._options.data,i):(b.data&&a.extend(i,b.data),e._options.data=i);var j=function(){h(d)};e.unbindDownloadComplete(d.element.id),e.bindDownloadComplete(d.element.id,j),(d.autoBind||!d.autoBind&&!c)&&e.dataBind()}d._raiseEvent(2,{records:d.records})},destroy:function(){var a=this;a.removeHandler(a._el,"keydown"),a.removeHandler(a._el,"click"),a.host.empty(),a.host.remove()},findTagIndex:function(a){for(var b=this,c=0;c<b.records.length;c++)if(b.records[c][b.displayMember]===a)return b.records[c].index;return-1},getHiddenTagsList:function(){return this.hiddenList.slice()},getRenderedTags:function(){return this.renderedData.slice()},getTagsList:function(){return this.records.slice()},insertAt:function(a,b){var c=this;if(b.index=a,void 0===b[this.displayMember])throw new Error("jqxTagCloud: Insert tag requires a valid displayMember field to be supplied in the parameter");var d=void 0!==b[c.valueMember]?parseFloat(b[c.valueMember]):0;if(b[c.valueMember]=isNaN(d)?0:d,c.source.insertTag&&"function"==typeof c.source.insertTag)c.source.insertTag(a,b,function(d){if(d){c.records.splice(a,0,b);for(var e=a+1;e<c.records.length;e++)c.records[e].index+=1;for(e=0;e<c.hiddenList.length;e++)c.hiddenList[e]>=a&&c.hiddenList[e]++;c._renderTags()}});else{c.records.splice(a,0,b);for(var e=a+1;e<c.records.length;e++)c.records[e].index+=1;for(e=0;e<c.hiddenList.length;e++)c.hiddenList[e]>=a&&c.hiddenList[e]++;c._renderTags()}},updateAt:function(b,c){var d=this;if(void 0===c[this.displayMember])throw new Error("jqxTagCloud: Update tag requires a valid displayMember field to be supplied in the parameter");c.index=b,c.uid=d.records[b].uid,d.source.updateTag&&"function"==typeof d.source.updateTag?d.source.updateTag(b,c,function(e){e&&(a.each(c,function(a,c){d.records[b][a]=c}),d._renderTags())}):(a.each(c,function(a,c){d.records[b][a]=c}),d._renderTags())},removeAt:function(a){var b=this;if(b.source.deleteTag&&"function"==typeof b.source.deleteTag)b.source.deleteTag(a,function(c){if(c){b.records.splice(a,1);for(var d=a;d<b.records.length;d++)b.records[d].index-=1;for(d=0;d<b.hiddenList.length;d++)b.hiddenList[d]>a?b.hiddenList[d]--:b.hiddenList[d]===a&&b.hiddentList.splice(a,1)}});else{b.records.splice(a,1);for(var c=a;c<b.records.length;c++)b.records[c].index-=1;for(c=0;c<b.hiddenList.length;c++)b.hiddenList[c]>a?b.hiddenList[c]--:b.hiddenList[c]===a&&b.hiddentList.splice(a,1)}b._renderTags()},hideItem:function(b){var c=this;if("number"==typeof b&&c.hiddenList.indexOf(b)===-1){c.hiddenList.push(b);for(var d=-1,e=0;e<c.renderedData.length;e++)c.renderedData[e].index===b&&(d=e);d!==-1&&(a(c._el).find("li")[d].style.display="none")}},showItem:function(b){var c=this;if(c.hiddenList.indexOf(b)!==-1){for(var d=-1,e=0;e<c.renderedData.length;e++)c.renderedData[e].index===b&&(d=e);d!==-1&&(a(c._el).find("li")[d].style.display=""),c.hiddenList.splice(c.hiddenList.indexOf(b),1)}},render:function(){var b=this;b._updateSize(),b.renderedData=[],b._el=a("<ul>"),b.host.addClass(b.toThemeProperty("jqx-widget jqx-tag-cloud")),b._setRtl(),b.host.append(b._el),b.focusedItem=null,b.minColor=b._parseColor(b.minColor),b.maxColor=b._parseColor(b.maxColor),b.displayLimit=parseInt(b.displayLimit),b.disabled&&b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")),b.addHandler(b._el,"click",function(c){a(document.activeElement).parents("#"+b._el[0].parentElement.id).length||(null!=b.focusedItem?a(b.focusedItem).focus():(a(b._el).find("a")[0].focus(),b.focusedItem=document.activeElement)),b.disabled&&c.preventDefault(),"a"===c.target.tagName.toLowerCase()&&(c.target.focus(),b.focusedItem=document.activeElement),"li"===c.target.tagName.toLowerCase()&&(a(c.target).find("a").focus(),b.focusedItem=document.activeElement);var d=a(c.target).closest("li").index();d!==-1&&b._raiseEvent(0,{label:b.renderedData[d][b.displayMember],url:b.renderedData[d][b.urlMember],value:b.renderedData[d][b.valueMember],visibleIndex:d,index:b.renderedData[d].index,target:a(c.target).closest("li")[0],originalEvent:c})}),b._addKeyboardSupport()},resize:function(a,b){var c=this;c.width=a,c.height=b,c._updateSize()},propertyChangedHandler:function(a,b,c,d){var e=this;return"source"===b&&e.dataBind(a.source),"displayLimit"===b&&(e[b]=parseInt(d)),"minColor"!==b&&"maxColor"!==b||(e[b]=e._parseColor(d)),"rtl"===b?void e._setRtl():"width"===b||"height"===b?void e._updateSize():"textColor"!==b||e.minColor&&e.maxColor?void e._renderTags():void e._updateColor()},_alterCase:function(a){function b(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}var c=this;if("none"!==c.alterTextCase)switch(c.alterTextCase){case"allLower":for(var d=0;d<a.length;d++)a[d][c.displayMember]=a[d][c.displayMember].toString().toLowerCase();break;case"allUpper":for(d=0;d<a.length;d++)a[d][c.displayMember]=a[d][c.displayMember].toString().toUpperCase();break;case"firstUpper":for(d=0;d<a.length;d++)a[d][c.displayMember]=a[d][c.displayMember].toString().toLowerCase(),a[d][c.displayMember]=a[d][c.displayMember].substr(0,1).toUpperCase()+a[d][c.displayMember].substr(1);break;case"titleCase":for(d=0;d<a.length;d++)a[d][c.displayMember]=b(a[d][c.displayMember].toString());break;default:throw new Error("jqxTagCloud: Invalid alterTextCase value. Possible values: 'none', 'allLower', 'allUpper', 'firstUpper', 'titleCase'")}return a},_addKeyboardSupport:function(){var b=this;b.addHandler(b._el,"keydown",function(c){39==c.keyCode&&(a("a:focus").closest("li").next().find("a").focus(),b.focusedItem=document.activeElement),37==c.keyCode&&(a("a:focus").closest("li").prev().find("a").focus(),b.focusedItem=document.activeElement)})},_renderTags:function(){var b=this,c=b.records.slice();if(a.each(b.records,function(a,c){if(void 0===c[b.displayMember])throw new Error("jqxTagCloud: 'label' property must be specified for every element.")}),c=b._filter(c),c=b._sort(c),c=b._alterCase(c),b._el.empty(),0!==c.length){for(var d=b._getMaxValue(c),e=b._getMinValue(c),f=d-e,g=0;g<c.length;g++){var h=b._prepareTag(c[g],e,f);b._el.append(h),b.hiddenList.indexOf(c[g].index)!=-1&&(h[0].style.display="none")}b.renderedData=c,b.focusedItem=null}},_prepareTag:function(b,c,d){var e=this;d||(d=1);var f=a("<li>"),g="";g=null!==e.tagRenderer&&"function"==typeof e.tagRenderer?e.tagRenderer.apply(e,arguments):b[e.displayMember]+(e.displayValue?"("+b[e.valueMember]+")":""),g=a('<a rel="tag">').append(g);var h="javascript:void(0)";void 0!==b[e.urlMember]&&(h=(null!=e.urlBase?e.urlBase:"")+b[e.urlMember]),g.attr("href",h),f.append(g),f.addClass(e.toThemeProperty("jqx-tag-cloud-item"));var i=+e.minFontSize+(e.maxFontSize-e.minFontSize)*((b[e.valueMember]-c)/d);if(f[0].style.fontSize=i+e.fontSizeUnit,e.minColor&&e.maxColor){var j=e.minColor.split("(")[1].split(")")[0];j=j.split(",");var k=parseInt(j[0]),l=parseInt(j[1]),m=parseInt(j[2]),n=parseFloat(j[3]);j=e.maxColor.split("(")[1].split(")")[0],j=j.split(",");var o=parseInt(j[0]),p=parseInt(j[1]),q=parseInt(j[2]),r=parseFloat(j[3]);k+=Math.floor((b[e.valueMember]-c)/d*(o-k)),l+=Math.floor((b[e.valueMember]-c)/d*(p-l)),m+=Math.floor((b[e.valueMember]-c)/d*(q-m)),n+=(b[e.valueMember]-c)/d*(r-n),f[0].style.color="rgba("+k+","+l+","+m+","+n+")",f.find("a")[0].style.color="inherit"}else null!==e.textColor&&(f[0].style.color=e.textColor,f.find("a")[0].style.color="inherit");return f},_parseColor:function(b){function c(a){var b={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"undefined"!=typeof b[a.toLowerCase()]&&b[a.toLowerCase()]}var d=a("<span>").css("color",b);b=d.css("color");var e,f,g;if("rgba"===b.substr(0,4))return b;if("rgb"===b.substr(0,3)){var h=b.split("(")[1].split(")")[0];return h=h.split(","),e=parseInt(h[0]),f=parseInt(h[1]),g=parseInt(h[2]),"rgba("+e+","+f+","+g+",1)"}return"#"===b.substr(0,1)&&7===b.length?(e=parseInt(b.substr(1,2),16),f=parseInt(b.substr(3,2),16),g=parseInt(b.substr(5,2),16),"rgba("+e+","+f+","+g+",1)"):"#"===b.substr(0,1)&&4===b.length?(e=parseInt(b.substr(1,1)+b.substr(1,1),16),f=parseInt(b.substr(2,1)+b.substr(2,1),16),g=parseInt(b.substr(3,1)+b.substr(3,1),16),"rgba("+e+","+f+","+g+",1)"):(b=c(b))?(e=parseInt(b.substr(1,2),16),f=parseInt(b.substr(3,2),16),g=parseInt(b.substr(5,2),16),"rgba("+e+","+f+","+g+",1)"):b},_events:["itemClick","bindingUpdateComplete","bindingComplete"],_raiseEvent:function(b,c){var d=this._events[b],e=a.Event(d);return e.args=c,this.host.trigger(e)},_filter:function(a){var b=this;if(0!=b.minValueToDisplay)for(var c=0;c<a.length;)a[c][b.valueMember]<b.minValueToDisplay?a.splice(c,1):c++;if(0!=b.maxValueToDisplay)for(var c=0;c<a.length;)a[c][b.valueMember]>b.maxValueToDisplay?a.splice(c,1):c++;return null==b.displayLimit||isNaN(b.displayLimit)||(b.takeTopWeightedItems===!0?(a.sort(function(a,c){return a[b.valueMember]<c[b.valueMember]?1:a[b.valueMember]>c[b.valueMember]?-1:0}),a=a.slice(0,b.displayLimit),a.sort(function(a,b){
return a.index<b.index?-1:a.index>b.index?1:0})):a=a.slice(0,b.displayLimit)),a},_sort:function(a){var b=this;if("none"!==b.sortBy){if("label"===b.sortBy)a.sort(function(a,c){return a[b.displayMember]<c[b.displayMember]?-1:a[b.displayMember]>c[b.displayMember]?1:0});else{if("value"!==b.sortBy)throw new Error("jqxTagCloud: sortBy option needs to be either 'none' or 'label' or 'value'");a.sort(function(a,c){return a[b.valueMember]<c[b.valueMember]?-1:a[b.valueMember]>c[b.valueMember]?1:0})}if("ascending"===b.sortOrder)return a;if("descending"===b.sortOrder)return a.reverse();throw new Error("jqxTagCloud: sortOrder option needs to be either 'ascending' or 'descending'")}return a},_getMaxValue:function(a){for(var b=this,c=a[0][b.valueMember],d=0;d<a.length;d++)c<a[d][b.valueMember]&&(c=a[d][b.valueMember]);return c},_getMinValue:function(a){for(var b=this,c=a[0][b.valueMember],d=0;d<a.length;d++)c>a[d][b.valueMember]&&(c=a[d][b.valueMember]);return c},_setSourceData:function(a){var b=this;b.records=a.records;for(var c=0;c<b.records.length;c++){var d=void 0!==b.records[c][b.valueMember]?parseFloat(b.records[c][b.valueMember]):0;b.records[c][b.valueMember]=isNaN(d)?0:d,b.records[c].index=c}b.hiddenList=[]},_updateColor:function(){var b=this;b.textColor&&a(b._el).find("li").css("color",b.textColor)},_updateSize:function(){var a=this;a.width&&a.host.width(a.width),a.height&&a.host.height(a.height)},_setRtl:function(){var a=this;a.rtl?a.host.addClass(a.toThemeProperty("jqx-rtl")):a.host.removeClass(a.toThemeProperty("jqx-rtl"))}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxTextArea","",{}),a.extend(a.jqx._jqxTextArea.prototype,{defineInstance:function(){var b=this,c={disabled:!1,filter:b._filter,sort:b._sort,highlight:b._highlight,dropDownWidth:null,renderer:b._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,rtl:!1,displayMember:"",valueMember:"",popupZIndex:2e4,items:8,minLength:1,maxLength:null,scrollBarSize:a.jqx.utilities.scrollBarSize,query:"",changeType:null,events:["change","select","open","close"]};return this===a.jqx._jqxTextArea.prototype?c:(a.extend(!0,b,c),c)},createInstance:function(){var b=this;b._textareaWidthFix=0,a.jqx.browser.chrome?b._textareaWidthFix=6:a.jqx.browser.msie&&(b._textareaWidthFix=3),document.body.contains(b.element)===!1&&(b._notInDOM=!0),b._popupHelper=a(b.$popup),b.render(),b.isInitialized=!0},render:function(){var b=this;if(b.isInitialized===!0)return void b.refresh();15!==a.jqx.utilities.scrollBarSize&&(b.scrollBarSize=a.jqx.utilities.scrollBarSize);var c=document.createElement("div");c.style.overflow="hidden",c.style.width="100%",c.style.height="100%",c.style.backgroundColor="transparent",c.style["-webkit-appearance"]="none",c.style.outline="none",c.style.align="left",c.style.border="0px",c.style.padding="0px",c.style.margin="0px",c.style.left="0px",c.style.top="0px",c.style.valign="top",c.style.position="relative";var d=document.createElement("div");if(d.style.align="left",d.style.valign="top",d.style.left="0px",d.style.top="0px",d.style.position="absolute",b._baseHost=b.host,a.jqx.utilities.resize(b._baseHost,function(){return b._notInDOM?(b._notInDOM=!1,void("textarea"===b.element.nodeName.toLowerCase()&&(b.isInitialized=!1,b.render()))):void(b._ttimer=setTimeout(function(){b.textarea.style.width="",b._arrange()},100))},!1,!0),"div"===b.element.tagName.toLowerCase()){b.element.appendChild(c);var e=document.createElement("textarea");e.className=b.toThemeProperty("jqx-text-area-element"),b.textarea=e,c.appendChild(e),c.appendChild(d),b.wrapper=b.element}else if("textarea"===b.element.tagName.toLowerCase()){if(b._notInDOM)return;b.textarea=b.element;var f=document.createElement("div");b.element.parentNode.insertBefore(f,b.element),f.appendChild(c),c.appendChild(b.element),c.appendChild(d);var g=b.host.data();b.host=a(f),b.host.data(g),f.style.cssText=b.element.style.cssText,b.element.style.cssText="",b.element.className=b.toThemeProperty("jqx-text-area-element"),b.wrapper=f,f.setAttribute("id",b.element.id),b.element=f,b.textarea.setAttribute("id",b.element.id+"TextArea")}var h=b.host;if(b._addClasses(),!h.jqxButton)throw new Error("jqxTextArea: Missing reference to jqxbuttons.js.");if(!h.jqxScrollBar)throw new Error("jqxTextArea: Missing reference to jqxscrollbar.js.");null===b.width&&b.element.style&&null!==b.element.style.width&&(b.width=b.element.style.width),null===b.height&&b.element.style&&null!==b.element.style.height&&(b.height=b.element.style.height),b._setSize(),b.vScrollBar=a(d),b.vScrollBar.jqxScrollBar({vertical:!0,width:15,height:"100%",max:b.height,theme:b.theme}),""===a.trim(b.textarea.value)&&(b.textarea.value=""),b.textarea.setAttribute("placeholder",b.placeHolder),null!==b.maxLength&&b.textarea.setAttribute("maxlength",b.maxLength),a.jqx.browser.msie&&a.jqx.browser.version<10&&""===b.textarea.value&&(b.textarea.value=b.placeHolder),(b.source instanceof Array&&b.source.length||b.source._source||a.isFunction(b.source))&&(b._oldsource=b.source,b._updateSource(),b._addPopupClasses(),a.jqx.aria(b,"aria-haspopup",!0)),b._arrange(),b._addHandlers()},refresh:function(a){if(a!==!0){var b=this;b._setSize(),b._arrange(),b._removeHandlers(),b._addHandlers(),b.opened===!0&&b.open()}},_arrange:function(){var a=this,b=a.textarea,c=b.scrollHeight-a._height(b),d=Math.max(0,c);a.vScrollBar.jqxScrollBar({max:d,value:b.scrollTop}),c<5?(b.style.width=this._toPx(a._width(a.element)),a.vScrollBar[0].style.visibility="hidden"):(b.style.width=this._toPx(a._width(a.element)-a.scrollBarSize-a._textareaWidthFix),a.vScrollBar[0].style.visibility="visible",a._arrangeScrollbars(a.scrollBarSize))},val:function(b){var c,d=this,e=d.textarea,f=e.value;if(a.jqx.browser.msie&&a.jqx.browser.version<10&&f===d.placeHolder&&(f=""),0===arguments.length||"object"==typeof b&&a.isEmptyObject(b)===!0)return""!==d.displayMember&&""!==d.valueMember&&d.selectedItem?""===f?"":d.selectedItem:f;if(b&&b.label){if(d.selectedItem&&b.label===d.selectedItem.label&&b.value===d.selectedItem.value)return b.label;d.selectedItem={label:b.label,value:b.value},d.element.setAttribute("data-value",b.value),d.element.setAttribute("data-label",b.label),e.value=b.label,c=b.label}else{if(f===b)return b;e.value=b,d.element.setAttribute("data-value",b),d.element.setAttribute("data-label",b),c=b}return d._arrange(),d._raiseEvent("0"),c},focus:function(){this.textarea.focus()},selectAll:function(){var a=this.textarea;setTimeout(function(){if("selectionStart"in a)a.focus(),a.setSelectionRange(0,a.value.length);else{var b=a.createTextRange();b.collapse(!0),b.moveEnd("character",a.value.length),b.moveStart("character",0),b.select()}},10)},_arrangeScrollbars:function(a){var b=this,c=b._width(b.element),d=b._height(b.element),e=b.vScrollBar,f=e[0],g="hidden"!==f.style.visibility,h=2,i=2;e.jqxScrollBar({width:a,height:parseInt(d,10)-h}),f.style.left=c-a-h-i+"px",f.style.top="0px";var j=b._width(b.element)-b.vScrollBar.outerWidth();if(b.rtl){f.style.left="0px";var k=g?parseInt(a,10)+3+"px":0;b.textarea.style.paddingLeft=b._toPx(k),b.textarea.style.width=b._toPx(j-4)}else"hidden"!==e.css("visibility")&&(b.textarea.style.width=this._toPx(j-b._textareaWidthFix));e.jqxScrollBar("refresh")},destroy:function(){var a=this;a._popupHelper.remove(),a.vScrollBar.jqxScrollBar("destroy"),a._removeHandlers(),a.host.remove()},propertiesChangedHandler:function(a,b,c){c&&c.width&&c.height&&2==Object.keys(c).length&&(a.element.style.width=a._toPx(a.width),a.element.style.height=a._toPx(a.height),a._arrange())},propertyChangedHandler:function(b,c,d,e){if(void 0!==b.isInitialized&&b.isInitialized!==!1&&!(b.batchUpdate&&b.batchUpdate.width&&b.batchUpdate.height&&2==Object.keys(b.batchUpdate).length)&&e!==d)switch(c){case"theme":b.vScrollBar.jqxScrollBar({theme:b.theme});break;case"width":case"height":b.element.style[c]=b._toPx(e),b._arrange();break;case"source":b._oldsource=e,b._updateSource();break;case"displayMember":case"valueMember":b.source=b._oldsource,b._updateSource();break;case"opened":e===!0?b.open():b.close();break;case"maxLength":b.textarea.setAttribute("maxlength",e);break;case"placeHolder":b.textarea.setAttribute("placeholder",e),a.jqx.browser.msie&&a.jqx.browser.version<10&&b.textarea.value===d&&(b.textarea.value=e);break;case"scrollBarSize":b._arrange();break;case"dropDownWidth":b.$popup.style.width=b._toPx(e);break;case"roundedCorners":e===!0?(b.element.className+=" "+b.toThemeProperty("jqx-rc-all"),b.$popup.className+=" "+b.toThemeProperty("jqx-rc-all")):(b.host.removeClass(b.toThemeProperty("jqx-rc-all")),b._popupHelper.removeClass(b.toThemeProperty("jqx-rc-all")));break;case"disabled":b.vScrollBar.jqxScrollBar({disabled:e}),e===!0?(b.element.className+=" "+b.toThemeProperty("jqx-fill-state-disabled"),b.textarea.setAttribute("disabled","disabled")):(b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.textarea.removeAttribute("disabled")),a.jqx.aria(b,"aria-disabled",e);break;case"rtl":e===!0?b.textarea.className+=" "+b.toThemeProperty("jqx-text-area-element-rtl"):a(b.textarea).removeClass(b.toThemeProperty("jqx-text-area-element-rtl")),b._arrange();break;default:b.refresh()}},_raiseEvent:function(b,c){var d=this;void 0===c&&(c={owner:null});var e=d.events[b];c.owner=d;var f=new a.Event(e);f.owner=d,0===b&&(c.type=this.changeType,this.changeType=null),f.args=c,f.preventDefault&&f.preventDefault();var g;g="change"===e||"div"===d._baseHost[0].tagName.toLowerCase()?d.host:d._baseHost;var h=g.trigger(f);return h},_addHandlers:function(){var b=this,c=b.element.id,d=b.host,e=b.textarea,f=a.jqx.browser.mozilla?"wheel":"mousewheel";b.addHandler(d,f+".jqxTextArea"+c,function(a){b.wheel(a,b)}),b.addHandler(d,"mouseenter.jqxTextArea"+c,function(){b.focused=!0}),b.addHandler(d,"mouseleave.jqxTextArea"+c,function(){b.focused=!1}),b.addHandler(d,"focus.jqxTextArea"+c,function(){b.focused=!0}),b.addHandler(d,"blur.jqxTextArea"+c,function(){b.focused=!1}),b.addHandler(b.wrapper,"scroll.jqxTextArea"+c,function(){0!==b.wrapper.scrollTop&&(b.wrapper.scrollTop=0),0!==b.wrapper.scrollLeft&&(b.wrapper.scrollLeft=0)}),b.addHandler(e,"change.jqxTextArea"+c,function(a){a.stopPropagation(),a.preventDefault(),b._arrange(),b._raiseEvent("0")}),b.addHandler(e,"select.jqxTextArea"+c,function(a){a.stopPropagation(),a.preventDefault()}),b.addHandler(e,"scroll.jqxTextArea"+c,function(){var a=Math.max(0,e.scrollHeight-b._height(e));b.vScrollBar.jqxScrollBar({max:a,value:e.scrollTop})}),b.addHandler(e,"focus.jqxTextArea"+c,function(){b.element.className+=" "+b.toThemeProperty("jqx-fill-state-focus"),a.jqx.browser.msie&&a.jqx.browser.version<10&&e.value===b.placeHolder&&(e.value="")}),b.addHandler(e,"blur.jqxTextArea"+c,function(){if(b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),a.jqx.browser.msie&&a.jqx.browser.version<10){var c=b.textarea.value;""===c?b.textarea.value=b.placeHolder:null!==b.maxLength&&c.length>b.maxLength&&(b.textarea.value=c.substr(0,b.maxLength))}}),b.addHandler(e,"keydown.jqxTextArea"+c,function(c){b._suppressKeyPressRepeat=~a.inArray(c.keyCode,[40,38,9,13,27]),b.changeType="keyboard",b._move(c)}),b.addHandler(e,"keypress.jqxTextArea"+c,function(c){return!(null!==b.maxLength&&a.jqx.browser.msie&&a.jqx.browser.version<10&&e.value.length>b.maxLength)&&void(b._suppressKeyPressRepeat||b._move(c))}),b.addHandler(e,"keyup.jqxTextArea"+c,function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!b.opened)return;b._select();break;case 27:if(!b.opened)return;b.close();break;default:b.timer&&clearTimeout(b.timer),b.timer=setTimeout(function(){b._suggest()},300)}a.preventDefault(),b._arrange()}),b.addHandler(b.vScrollBar,"valueChanged.jqxTextArea"+c,function(a){e.scrollTop=a.currentValue}),b.addHandler(b.$popup,"mousedown.jqxTextArea"+c,function(a){a.stopPropagation(),a.preventDefault(),b.changeType="mouse",b._select()})},_removeHandlers:function(){var b=this,c=b.element.id,d=b.host,e=b.textarea;a.jqx.utilities.resize(b._baseHost,null,!0),b.removeHandler(d,"mousewheel.jqxTextArea"+c),b.removeHandler(d,"mouseenter.jqxTextArea"+c),b.removeHandler(d,"mouseleave.jqxTextArea"+c),b.removeHandler(d,"focus.jqxTextArea"+c),b.removeHandler(d,"blur.jqxTextArea"+c),b.removeHandler(b.wrapper,"scroll.jqxTextArea"+c),b.removeHandler(e,"change.jqxTextArea"+c),b.removeHandler(e,"select.jqxTextArea"+c),b.removeHandler(e,"scroll.jqxTextArea"+c),b.removeHandler(e,"focus.jqxTextArea"+c),b.removeHandler(e,"blur.jqxTextArea"+c),b.removeHandler(e,"keydown.jqxTextArea"+c),b.removeHandler(e,"keypress.jqxTextArea"+c),b.removeHandler(e,"keyup.jqxTextArea"+c),b.removeHandler(b.vScrollBar,"valueChanged.jqxTextArea"+c),b.removeHandler(b.$popup,"mousedown.jqxTextArea"+c)},_itemHandler:function(b){a(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),b.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},wheel:function(b,c){var d=0;if(b.originalEvent&&a.jqx.browser.msie&&b.originalEvent.wheelDelta&&(d=b.originalEvent.wheelDelta/120),b||(b=window.event),b.wheelDelta?d=b.wheelDelta/120:b.detail?d=-b.detail/3:b.originalEvent.wheelDelta?d=b.originalEvent.wheelDelta/120:b.originalEvent.detail?d=-b.originalEvent.detail/3:b.originalEvent.deltaY&&(d=-b.originalEvent.deltaY/3),d){var e=c._handleDelta(d);return e||b.preventDefault&&b.preventDefault(),!e&&e}b.preventDefault&&b.preventDefault(),b.returnValue=!1},_handleDelta:function(a){var b=this,c=b.vScrollBar.jqxScrollBar("getInstance");if(b.focused){var d=c.value;a<0?b.scrollDown():b.scrollUp();var e=c.value;if(d!==e)return!1}return!0},scrollDown:function(){var a=this;if("hidden"===a.vScrollBar.css("visibility"))return!1;var b=a.vScrollBar.jqxScrollBar("getInstance"),c=Math.min(b.value+b.largestep,b.max);return b.setPosition(c),a._arrange(),!0},scrollUp:function(){var a=this;if("hidden"===a.vScrollBar.css("visibility"))return!1;var b=a.vScrollBar.jqxScrollBar("getInstance"),c=Math.max(b.value-b.largestep,b.min);return b.setPosition(c),a._arrange(),!0},_setSize:function(){var a=this;a.element.style.width=a._toPx(a.width),a.element.style.height=a._toPx(a.height)},_addClasses:function(){var b=this,c="jqx-panel jqx-widget jqx-widget-content jqx-text-area";b.textarea.className+=" "+b.toThemeProperty("jqx-widget jqx-widget-content"),b.roundedCorners===!0&&(c+=" jqx-rc-all"),b.disabled===!0?(c+=" jqx-fill-state-disabled",b.textarea.setAttribute("disabled","disabled"),a.jqx.aria(b,"aria-disabled",!0)):a.jqx.aria(b,"aria-disabled",!1),b.rtl===!0&&(b.textarea.className+=" "+b.toThemeProperty("jqx-text-area-element-rtl")),b.element.className+=" "+b.toThemeProperty(c)},_addPopupClasses:function(){var b=this,c="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";a.jqx.browser.msie&&(c+=" jqx-noshadow"),b.roundedCorners&&(c+=" jqx-rc-all"),b.$popup.className+=" "+b.toThemeProperty(c)},_updateSource:function(){var b=this,c=function(a){if(void 0===a)return null;if("string"==typeof a||a instanceof String)return{label:a,value:a};if("string"!=typeof a&&a instanceof String==!1){var c="",d="";return""!==b.displayMember&&void 0!==b.displayMember&&a[b.displayMember]&&(c=a[b.displayMember]),""!==b.valueMember&&void 0!==b.valueMember&&(d=a[b.valueMember]),""===c&&(c=a.label),""===d&&(d=a.value),{label:c,value:d}}return a},d=function(a){for(var b=[],d=0;d<a.length;d++)b[d]=c(a[d]);return b};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){b.source=d(b.adapter.records)});else{var e={};this.adapter._options.data?a.extend(b.adapter._options.data,e):(this.source._source.data&&a.extend(e,this.source._source.data),this.adapter._options.data=e),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){b.source=d(b.adapter.records)})}return void this.source.dataBind()}a.isFunction(this.source)||(this.source=d(this.source))},open:function(){if(!a.jqx.isHidden(this.host)){var b=a.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var c=this.element.id+"_popup";this.$popup.id=c,a.jqx.aria(this,"aria-owns",c),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(b.top+b.height),this.$popup.style.left=this._toPx(b.left),this.$popup.style.display="block";var d=0,e=this._popupHelper.children();return a.each(e,function(){d+=a(this).outerHeight()+1}),this.$popup.style.height=this._toPx(d),this.opened=!0,this._raiseEvent("2",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("3",{popup:this.$popup}),a.jqx.aria(this,"aria-expanded",!1),this},_suggest:function(){var b,c=this;return c.query=c.textarea.value,!c.query||c.query.length<c.minLength?c.opened?c.close():c:(b=a.isFunction(c.source)?c.source(c.query,a.proxy(c._load,this)):c.source,b?c._load(b):c)},_load:function(b){var c=this;return b=a.grep(b,function(a){return c.filter(a)}),b=c.sort(b),b.length?c._render(b.slice(0,c.items)).open():c.opened?c.close():c},_filter:function(b){var c=this,d=c.query,e=b;switch(void 0!==b.label?e=b.label:c.displayMember&&(e=b[c.displayMember]),c.searchMode){case"none":break;case"contains":return a.jqx.string.contains(e,d);case"equals":return a.jqx.string.equals(e,d);case"equalsignorecase":return a.jqx.string.equalsIgnoreCase(e,d);case"startswith":return a.jqx.string.startsWith(e,d);case"startswithignorecase":return a.jqx.string.startsWithIgnoreCase(e,d);case"endswith":return a.jqx.string.endsWith(e,d);case"endswithignorecase":return a.jqx.string.endsWithIgnoreCase(e,d);default:return a.jqx.string.containsIgnoreCase(e,d)}},_sort:function(a){for(var b=this,c=[],d=[],e=[],f=0;f<a.length;f++){var g=a[f],h=g;g.label?h=g.label:b.displayMember&&(h=g[b.displayMember]),0===h.toString().toLowerCase().indexOf(b.query.toString().toLowerCase())?c.push(g):h.toString().indexOf(b.query)>=0?d.push(g):h.toString().toLowerCase().indexOf(b.query.toString().toLowerCase())>=0&&e.push(g)}return c.concat(d,e)},_render:function(b){var c=this,d=c._popupHelper.children();if(d.length>0)for(var e=0;e<d.length;e++)a(d[e]).remove();var f=function(a,b){var d,e,f=a,g=document.createElement("li"),h=document.createElement("a");h.setAttribute("href","#"),g.appendChild(h),void 0!==a.value&&null!==a.value?void 0!==a.label&&null!==a.label?(d=a.label,e=a.value):(d=a.value,e=a.value):void 0!==a.label&&null!==a.label?(d=a.label,e=a.label):void 0!==c.displayMember&&""!==c.displayMember?(d=a[c.displayMember],e=a[c.valueMember]):(d=a,e=a),g.setAttribute("data-value",e),g.setAttribute("data-name",d),a.label?f=a.label:c.displayMember&&(f=a[c.displayMember]),h.innerHTML=c.highlight(f);var i="";c.rtl&&(i=" jqx-rtl"),0===b&&(i+=" jqx-fill-state-pressed"),g.className=c.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+i),c.$popup.appendChild(g),c.addHandler(g,"mouseenter",function(a){c._itemHandler(a)})},g=function(a){for(var b=0;b<a.length;b++)f(a[b],b)};return g(b),this.dropDownWidth?this.$popup.style.width=c._toPx(c.dropDownWidth):this.$popup.style.width=c._toPx(c.element.offsetWidth-6),this},_highlight:function(a){var b=this.query;b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var c=new RegExp("("+b+")","ig");return a.replace(c,function(a,b){return"<b>"+b+"</b>"})},_select:function(){var a=this._find("jqx-fill-state-pressed",this._popupHelper),b=a.getAttribute("data-value"),c=a.getAttribute("data-name");return this.textarea.value=this.renderer(c,this.textarea.value),this.selectedItem={label:c,value:b},this.element.setAttribute("data-value",b),this.element.setAttribute("data-label",c),this._raiseEvent("1",{item:{label:c,value:b}}),this._arrange(),this.textarea.scrollTop=this.textarea.scrollHeight,this._raiseEvent("0"),this.close()},_renderer:function(a){return a},_move:function(a){var b=this;if(b.opened){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.shiftKey||(a.preventDefault(),b._prev());break;case 40:a.shiftKey||(a.preventDefault(),b._next())}a.stopPropagation()}},_next:function(){var b=this._find("jqx-fill-state-pressed",this._popupHelper),c=b.nextSibling;a(b).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c||(c=this.$popup.firstChild),c.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_prev:function(){var b=this._find("jqx-fill-state-pressed",this._popupHelper),c=b.previousSibling;a(b).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c||(c=this.$popup.lastChild),c.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(a){return"number"==typeof a?a+"px":a},_find:function(a,b){for(var c=b.children(),d=0;d<c.length;d++){var e=c[d];if(e.className.indexOf(a)!==-1)return e}},_width:function(b){var c=a(b),d=c.css("border-left-width"),e=c.css("border-right-width"),f=parseInt(c.css("padding-left"),10),g=parseInt(c.css("padding-right"),10);d=d.indexOf("px")===-1?1:parseInt(d,10),e=e.indexOf("px")===-1?1:parseInt(e,10);var h=b.offsetWidth-(d+e+f+g);return h>0?h:""},_height:function(b){var c=a(b),d=c.css("border-top-width"),e=c.css("border-bottom-width"),f=parseInt(c.css("padding-top"),10),g=parseInt(c.css("padding-bottom"),10);d=d.indexOf("px")===-1?1:parseInt(d,10),e=e.indexOf("px")===-1?1:parseInt(e,10);var h=b.offsetHeight-(d+e+f+g);return h>0?h:""}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxToolBar","",{}),a.extend(a.jqx._jqxToolBar.prototype,{defineInstance:function(){var b={width:"100%",minWidth:null,maxWidth:null,height:35,tools:"",initTools:null,minimizeWidth:200,disabled:!1,rtl:!1,events:["open","close"]};return this===a.jqx._jqxToolBar.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){var a=this;"none"!==a.host.css("display")&&document.body.contains(a.element)!==!1||(a._initiallyHidden=!0),a._toolToWidgetMapping={button:"jqxButton",toggleButton:"jqxToggleButton",dropdownlist:"jqxDropDownList",combobox:"jqxComboBox",input:"jqxInput"},a._toolChanges=[],a.render()},render:function(){var b=this,c=!0;b.element.innerHTML="",b.element.className.length>0&&b._removeClass(b.element,b.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar jqx-fill-state-disabled")),b._setSize(),b._destroyTools(!1),b._toolWidgets&&(c=!1,a(b._minimizeButton).remove(),a(b._minimizePopup).remove()),b._appendMinimizeButton(),b._addClasses(),b._initiallyHidden||b._createTools(),b.disabled===!0&&(b.element.className+=" "+b.toThemeProperty("jqx-fill-state-disabled"),b._disableTools(!0)),b._initiallyHidden||b._minimize(),b._removeHandlers(),b._addHandlers(),c===!1&&b._toolChanges.length>0&&b._restoreChanges()},refresh:function(a){a!==!0&&this.render()},getTools:function(){return this._toolWidgets},destroy:function(){var b=this;a.jqx.utilities.resize(this.host,null,!0),b._removeHandlers(),b._destroyTools(),b.host.remove()},_destroyTools:function(a){var b=this;if(a!==!1&&(a=!0),b._toolWidgets)for(var c=b._toolWidgets.length-1;c>=0;c--)b._destroyTool(c,a,!0)},_destroyTool:function(b,c,d){var e=this;b=parseInt(b,10);var f=e._toolWidgets[b];if(f){var g=f.type,h=f.tool,i=f.menuTool;"custom"!==g?(h[e._toolToWidgetMapping[g]]("destroy"),i&&i[e._toolToWidgetMapping[g]]("destroy")):(h.remove(),i&&i.remove()),f.menuSeparator&&a(f.menuSeparator).remove(),e._toolWidgets.splice(b,1),e._checkType(g)&&e._refreshButtonGroups(),d!==!0&&e._minimize(),c!==!1&&e._toolChanges.push({action:"destroyTool",index:b})}},destroyTool:function(a){this._destroyTool(a,!0)},addTool:function(a,b,c,d){var e,f,g,h,i=this;e="first"===b?0:i._toolWidgets.length,i._toolWidgets[e-1]&&(f=i._toolWidgets[e-1].tool,g=i._toolWidgets[e-1].separatorAfterWidget?"|":i._toolWidgets[e-1].type),c===!0?h="|":i._toolWidgets[e+1]&&(h=i._toolWidgets[e+1].type);var j=i._initializeTool(e,a,f,g,h,d,!1);"first"===b?i._toolWidgets.splice(0,0,j):i._toolWidgets.push(j),i._removeHandlers(),i._addHandlers(),i._checkType(a)&&i._refreshButtonGroups(),"first"!==b&&i._minimizedTools>0?i._minimizeTool(!0):i._minimize(),i._toolChanges.push({action:"addTool",type:a,position:b,separator:c,initCallback:d})},_disableTools:function(a){for(var b=this,c=0;c<b._toolWidgets.length;c++)b.disableTool(c,a)},disableTool:function(a,b){var c=this;a=parseInt(a,10);var d=c._toolWidgets[a];if(d){var e=d.type;"custom"!==e&&(d.tool[c._toolToWidgetMapping[e]]({disabled:b}),d.menuTool[c._toolToWidgetMapping[e]]({disabled:b})),c._toolChanges.push({action:"disableTool",index:a,disable:b})}},propertyChangedHandler:function(b,c,d,e){if("initTools"!==c&&e!==d)switch(c){case"theme":""!==d&&(b._removeClass(b.element,b.toThemeProperty("jqx-widget-"+d+" jqx-fill-state-normal-"+d+" jqx-rc-all-"+d+" jqx-toolbar-"+d)),b._removeClass(b._minimizePopup,"jqx-popup-"+d+" jqx-fill-state-normal-"+d+" jqx-rc-b-"+d+" jqx-toolbar-minimized-popup-"+d)),b._addClasses(),b._minimizePopup.className+=" "+b.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup");for(var f=0;f<b._toolWidgets.length;f++){var g=b._toolWidgets[f];"custom"!==g.type&&(g.menuTool&&(g.menuSeparator&&(""!==d&&b._removeClass(g.menuSeparator,"jqx-fill-state-pressed-"+d+" jqx-toolbar-minimized-popup-separator-"+d),g.menuSeparator.className+=" jqx-fill-state-pressed-"+e+" jqx-toolbar-minimized-popup-separator-"+e),g.menuTool[b._toolToWidgetMapping[b._toolWidgets[f].type]]({theme:e})),g.tool[b._toolToWidgetMapping[b._toolWidgets[f].type]]({theme:e}))}a.jqx.utilities.setTheme(d,e,b.host);break;case"width":b.element.style.width=b._toPx(e),b._minimize();break;case"minWidth":b.element.style.minWidth=b._toPx(e),b._minimize();break;case"maxWidth":b.element.style.maxWidth=b._toPx(e),b._minimize();break;case"height":var h,i=!1;if(b.element.style.height=b._toPx(e),"string"==typeof e&&e.indexOf("%")!==-1){if("string"==typeof d&&d.indexOf("%")!==-1)return void b.host.trigger("resize");i=!0}else h=parseInt(e,10),h-=b._getComputedStyle(b.element,"paddingTop")+b._getComputedStyle(b.element,"paddingBottom")+b._getComputedStyle(b.element,"borderTopWidth")+b._getComputedStyle(b.element,"borderBottomWidth");for(var j=0;j<b._toolWidgets.length;j++){var k=b._toolWidgets[j],l=k.type;"button"===l||"toggleButton"===l||"repeatButton"===l||"linkButton"===l?(k.tool[0].style.height=i?"100%":b._toPx(h),k.menuTool&&(k.menuTool[0].style.height=i?"100%":b._toPx(h))):"dropdownlist"!==l&&"combobox"!==l&&"input"!==l||(k.tool[b._toolToWidgetMapping[l]]({height:i?"100%":h-2}),k.menuTool&&k.menuTool[b._toolToWidgetMapping[l]]({height:i?"100%":h-2}))}break;case"tools":b._removeHandlers(),b._destroyTools(),b._createTools(),b._addHandlers(),b._minimize();break;case"minimizeWidth":if(b._isOpen===!0){var m=b._getComputedStyle(b._minimizePopup,"left")-(e-d);b._minimizePopup.style.width=b._toPx(e),b._minimizePopup.style.left=b._toPx(m)}else b._minimizePopup.style.width=b._toPx(e);break;case"rtl":b.render();break;case"disabled":e===!0?(b.element.className+=" "+b.toThemeProperty("jqx-fill-state-disabled"),b._disableTools(!0)):(b._removeClass(b.element,b.toThemeProperty("jqx-fill-state-disabled")),b._disableTools(!1))}},_raiseEvent:function(b,c){void 0===c&&(c={owner:null});var d=this.events[b];c.owner=this;var e=new a.Event(d);e.owner=this,e.args=c,e.preventDefault&&e.preventDefault();var f=this.host.trigger(e);return f},_addClasses:function(){var a=this,b="jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar";a.rtl===!0&&(b+=" jqx-toolbar-rtl"),a.element.className+=" "+a.toThemeProperty(b)},_checkType:function(a){return"button"===a||"toggleButton"===a||"repeatButton"===a||"linkButton"===a},_refreshButtonGroups:function(){function b(b,d,e,f,g,h){var i=b.tool[0],j=b.menuTool[0],k={add:"",remove:""};k[d]+=" jqx-toolbar-tool-inner-button",k[e]+=" jqx-rc-all",k[f]+=" jqx-rc-l",k[g]+=" jqx-rc-r",""!==k.add&&(i.className+=" "+c.toThemeProperty(a.trim(k.add)),j&&(j.className+=" "+c.toThemeProperty(a.trim(k.add)))),""!==k.remove&&(c._removeClass(i,c.toThemeProperty(a.trim(k.remove))),j&&c._removeClass(j,c.toThemeProperty(a.trim(k.remove)))),i.style.borderLeftWidth=h+"px",j&&(j.style.borderLeftWidth=h+"px")}for(var c=this,d=0;d<c._toolWidgets.length;d++){var e=c._toolWidgets[d];if(c._checkType(e.type)){var f,g,h=e.tool,i=e.menuTool;d>0&&(f=c._toolWidgets[d-1].separatorAfterWidget?"|":c._toolWidgets[d-1]),e.separatorAfterWidget?g="|":d<c._toolWidgets.length-1&&(g=c._toolWidgets[d+1]);var j=f&&c._checkType(f.type),k=e.separatorAfterWidget===!1&&g&&c._checkType(g.type);j||k?!j&&k?b(e,"remove","remove","add","remove",1):j&&k?b(e,"add","remove","remove","remove",0):j&&!k&&b(e,"remove","remove","remove","add",0):b(e,"remove","add","remove","remove",1);var l=c.rtl?"rtl":"ltr";k?(c._removeClass(h[0],c.toThemeProperty("jqx-toolbar-tool-separator-"+l)),c._removeClass(h[0],c.toThemeProperty("jqx-toolbar-tool-no-separator-"+l)),i&&(c._removeClass(i[0],c.toThemeProperty("jqx-toolbar-tool-separator-"+l)),c._removeClass(i[0],c.toThemeProperty("jqx-toolbar-tool-no-separator-"+l)))):e.separatorAfterWidget?(c._removeClass(h[0],c.toThemeProperty("jqx-toolbar-tool-no-separator-"+l)),h[0].className+=" "+c.toThemeProperty("jqx-toolbar-tool-separator-"+l),i&&(c._removeClass(i[0],c.toThemeProperty("jqx-toolbar-tool-no-separator-"+l)),i[0].className+=" "+c.toThemeProperty("jqx-toolbar-tool-separator-"+l))):(c._removeClass(h[0],c.toThemeProperty("jqx-toolbar-tool-separator-"+l)),h[0].className+=" "+c.toThemeProperty("jqx-toolbar-tool-no-separator-"+l),i&&(c._removeClass(i[0],c.toThemeProperty("jqx-toolbar-tool-separator-"+l)),i[0].className+=" "+c.toThemeProperty("jqx-toolbar-tool-no-separator-"+l)))}}},_addHandlers:function(){var b=this,c=b.element.id;a.jqx.utilities.resize(b.host,function(){return b._initiallyHidden?(b._createTools(),b._minimize(),void(b._initiallyHidden=!1)):(b._isOpen===!0&&(b._minimizePopup.style.display="none",b._isOpen=!1,b._raiseEvent("1")),void b._minimize())}),b.addHandler(document,"click.jqxToolbar"+c,function(){b._isOpen===!0&&b._openMinimizePopup()}),b.addHandler(b._minimizeButton,"click.jqxToolbar"+c,function(a){a.stopPropagation(),b._openMinimizePopup()}),b.addHandler(a(".jqx-popup"),"click.jqxToolbar"+c,function(a){a.target.className.indexOf("jqx-window-content")===-1&&a.stopPropagation()})},_removeHandlers:function(){var b=this,c=b.element.id;b.removeHandler(document,"click.jqxToolbar"+c),b.removeHandler(b._minimizeButton,"click.jqxToolbar"+c),b.removeHandler(a(".jqx-popup"),"click.jqxToolbar"+c)},_setSize:function(){var a=this,b=a.element.style;b.width=a._toPx(a.width),b.height=a._toPx(a.height),a.minWidth&&(b.minWidth=a._toPx(a.minWidth)),a.maxWidth&&(b.maxWidth=a._toPx(a.maxWidth))},_createTools:function(){var b=this,c=b.tools.split(" "),d=a.trim(b.tools.replace(/\|/g,""));d=d.replace(/\s+/g," "),d=d.split(" "),b._toolWidgets=[];for(var e=0,f=0;f<d.length;f++){d[f]!==c[f+e]&&e++;var g,h=f+e;b._toolWidgets[f-1]&&(g=b._toolWidgets[f-1].tool);var i=c[h],j=c[h-1],k=c[h+1],l=b.initTools;if(""===i)return!0;var m=b._initializeTool(f,i,g,j,k,l,!0);b._toolWidgets.push(m)}b._minimizePopup.style.display="none",b._minimizePopup.style.visibility="visible"},_initializeTool:function(a,b,c,d,e,f,g){var h,i,j=this,k=j._initializeWidget(b,h,i,c);h=k.tool,i=k.menuTool;var l,m=h[0],n="jqx-toolbar-tool",o=i[0],p=!0;if(j.rtl===!0&&(n+=" jqx-toolbar-tool-rtl"),j.initTools){var q;q=g===!0?j.initTools(b,a,h,!1):f(b,h,!1),!q||q.minimizable!==!1&&q.menuTool!==!1?(g===!0?j.initTools(b,a,i,!0):f(b,i,!0),i&&(l="jqx-toolbar-tool-minimized")):("custom"!==b?i[j._toolToWidgetMapping[b]]("destroy"):i.remove(),q.minimizable===!1&&(p=!1),i=!1)}var r=!1;i&&(o.style.display="none");var s,t=j.rtl?"rtl":"ltr",u=["button","toggleButton","repeatButton","linkButton"],v={
button:"jqxButton",toggleButton:"jqxToggleButton",repeatButton:"jqxRepeatButton",linkButton:"jqxRepeatButton"};"|"===e?(r=!0,n+=" jqx-toolbar-tool-separator-"+t,i&&(l+=" jqx-toolbar-tool-separator-"+t),i&&(s=document.createElement("div"),s.className=j.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator"),j._minimizePopup.appendChild(s))):(u.indexOf(b)===-1||u.indexOf(b)!==-1&&u.indexOf(e)===-1)&&(n+=" jqx-toolbar-tool-no-separator-"+t,i&&(l+=" jqx-toolbar-tool-no-separator-"+t)),u.indexOf(d)===-1&&u.indexOf(b)!==-1&&u.indexOf(e)!==-1?j.rtl===!1?(h[v[b]]({roundedCorners:"left"}),i&&i[v[b]]({roundedCorners:"left"})):(h[v[b]]({roundedCorners:"left"}),m.style.borderLeftWidth="0px",i&&(i[v[b]]({roundedCorners:"left"}),o.style.borderLeftWidth="0px")):u.indexOf(d)!==-1&&u.indexOf(b)!==-1&&u.indexOf(e)!==-1?(n+=" jqx-toolbar-tool-inner-button",m.style.borderLeftWidth="0px",i&&(l+=" jqx-toolbar-tool-inner-button",o.style.borderLeftWidth="0px")):u.indexOf(d)!==-1&&u.indexOf(b)!==-1&&u.indexOf(e)===-1&&(j.rtl===!1?(h[v[b]]({roundedCorners:"right"}),m.style.borderLeftWidth="0px",i&&(i[v[b]]({roundedCorners:"right"}),o.style.borderLeftWidth="0px")):(h[v[b]]({roundedCorners:"left"}),i&&i[v[b]]({roundedCorners:"left"}))),m.className+=" "+j.toThemeProperty(n),i&&(o.className+=" "+j.toThemeProperty(l));var w={type:b,tool:h,separatorAfterWidget:r,minimizable:p,minimized:!1,menuTool:i,menuSeparator:s};return w},_initializeWidget:function(b,c,d,e){function f(){var b=i.host.children(),f=a(i._minimizePopup).children();e||1===b.length&&0===f.length?(i.element.appendChild(c),i._minimizePopup.appendChild(d)):(i.element.insertBefore(c,b[1]),i._minimizePopup.insertBefore(d,f[0]))}var g,h,i=this,j=i._toolToWidgetMapping[b],k=!1;if("string"==typeof i.height&&i.height.indexOf("%")!==-1)k=!0;else{var l=window.getComputedStyle?window.getComputedStyle(i.element):i.element.currentStyle;h=i.element.offsetHeight-(parseInt(l.paddingTop,10)+parseInt(l.paddingBottom,10)+parseInt(l.borderTopWidth,10)+parseInt(l.borderBottomWidth,10))}if("custom"!==b&&void 0===i.host[j]){var m=i._toolToWidgetMapping[b].toLowerCase();throw new Error("jqxToolBar: Missing reference to "+m+".js")}switch(b){case"button":case"toggleButton":c=document.createElement("button"),d=document.createElement("button"),g={theme:i.theme,height:k?"100%":h,disabled:i.disabled,rtl:i.rtl};break;case"dropdownlist":case"combobox":c=document.createElement("div"),d=document.createElement("div"),g={theme:i.theme,autoDropDownHeight:!0,height:k?"100%":h-2,disabled:i.disabled,rtl:i.rtl};break;case"input":c=document.createElement("input"),c.setAttribute("type","text"),d=document.createElement("input"),d.setAttribute("type","text"),g={theme:i.theme,height:k?"100%":h-2,disabled:i.disabled,rtl:i.rtl};break;case"custom":c=document.createElement("div"),d=document.createElement("div")}return f(),c=a(c),d=a(d),"custom"!==b&&(c[j](g),d[j](g)),{tool:c,menuTool:d}},_appendMinimizeButton:function(){var a=this;a._minimizedTools=0;var b=document.createElement("div"),c="jqx-menu-minimized-button jqx-toolbar-minimized-button",d=document.createElement("div"),e="jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup";d.setAttribute("id",a.element.id+"Popup"),a.rtl===!0&&(c+=" jqx-toolbar-minimized-button-rtl",e+=" jqx-toolbar-minimized-popup-rtl"),b.className=a.toThemeProperty(c),d.className=a.toThemeProperty(e),a.element.appendChild(b),document.body.appendChild(d),a._isOpen=!1,d.style.width=a._toPx(a.minimizeWidth),a._minimizeButton=b,a._minimizePopup=d},_openMinimizePopup:function(){var b=this;if(b._isOpen===!1){var c=b.host.offset(),d=c.left;b.rtl===!1&&(d+=b.element.offsetWidth-parseInt(b.minimizeWidth,10)-(b._getComputedStyle(b._minimizePopup,"paddingLeft")+b._getComputedStyle(b._minimizePopup,"paddingRight")+b._getComputedStyle(b._minimizePopup,"borderLeftWidth")+b._getComputedStyle(b._minimizePopup,"borderRightWidth")));var e=c.top+b.element.offsetHeight-1;b._minimizePopup.style.left=d+"px",b._minimizePopup.style.top=e+"px",a(b._minimizePopup).slideDown("fast",function(){b._isOpen=!0,b._raiseEvent("0")})}else a(b._minimizePopup).slideUp("fast"),b._isOpen=!1,b._raiseEvent("1")},_minimize:function(){function b(b){var d,e=b.cloneNode(!0);return e.style.visibility="hidden",e.style.display="block",e.style.position="absolute",document.body.appendChild(e),d=e.offsetWidth+c._getComputedStyle(e,"marginLeft")+c._getComputedStyle(e,"marginRight"),a(e).remove(),d}var c=this,d=0;c._minimizedTools>0&&(d=c._minimizeButton.offsetWidth+c._getComputedStyle(c._minimizeButton,"marginLeft"));var e=c.element.offsetWidth-c._getComputedStyle(c.element,"paddingLeft")-c._getComputedStyle(c.element,"paddingRight")-d-10;if(!(e<0)){for(var f,g=0,h=0;h<c._toolWidgets.length;h++){var i=c._toolWidgets[h].tool;if(c._toolWidgets[h].minimized===!1){var j=i[0].offsetWidth+c._getComputedStyle(i[0],"marginLeft")+c._getComputedStyle(i[0],"marginRight");g+=j}else void 0===f&&(f=b(i[0]))}g>e?(c._minimizeTool(!0),c._minimize()):void 0!==f&&g+f<e&&(c._minimizeTool(!1),c._minimize())}},_minimizeTool:function(a){var b,c,d=this;if(a===!0){for(var e=d._toolWidgets.length-1;e>=0;e--)if(b=d._toolWidgets[e],b.minimizable!==!1&&b.minimized===!1){c=d._getToolValue(b.tool,b.type),b.tool[0].style.display="none",b.menuTool&&(b.menuTool[0].style.display="block",d._setToolValue(c,b.menuTool,b.type)),b.menuSeparator&&(b.menuSeparator.style.display="block"),d._toolWidgets[e].minimized=!0,d._minimizedTools++,1===d._minimizedTools&&(d._minimizeButton.style.display="block");break}}else for(var f=0;f<d._toolWidgets.length;f++)if(b=d._toolWidgets[f],b.minimized===!0){b.menuTool&&(c=d._getToolValue(b.menuTool,b.type),b.menuTool[0].style.display="none"),b.menuSeparator&&(b.menuSeparator.style.display="none"),b.tool.show(),b.menuTool&&d._setToolValue(c,b.tool,b.type),d._toolWidgets[f].minimized=!1,d._minimizedTools--,0===d._minimizedTools&&(d._minimizeButton.style.display="none");break}},_getToolValue:function(a,b){var c;switch(b){case"button":case"custom":c=void 0;break;case"toggleButton":var d=a[0].className.indexOf("jqx-fill-state-pressed")!==-1;c={text:a[0].innerHTML,toggled:d};break;case"dropdownlist":case"combobox":var e=this._toolToWidgetMapping[b];c=a[e]("checkboxes")?a[e]("val"):a[e]("getSelectedIndex");break;case"input":c=a.val()}return c},_setToolValue:function(a,b,c){if(void 0!==a)switch(c){case"button":case"custom":break;case"toggleButton":b[0].innerHTML=a.text;var d=b[0].className.indexOf("jqx-fill-state-pressed")!==-1;d!==a.toggled&&b.jqxToggleButton("toggle");break;case"dropdownlist":case"combobox":var e=this._toolToWidgetMapping[c];if(b[e]("checkboxes")){if(b[e]("uncheckAll"),""===a)return;for(var f=a.split(","),g=0;g<f.length;g++)b[e]("checkItem",f[g])}else a=b[e]("selectIndex",a);break;case"input":b.val(a)}},_restoreChanges:function(){var b=this;a.each(b._toolChanges,function(a,c){"addTool"===c.action?b.addTool(c.type,c.position,c.separator,c.initCallback):"destroyTool"===c.action?b._destroyTool(c.index):"disableTool"===c.action&&b.disableTool(c.index,c.disable)})},_removeClass:function(b,c){a(b).removeClass(c)},_toPx:function(a){return"number"==typeof a?a+"px":a},_getComputedStyle:function(a,b){var c;return window.getComputedStyle?c=window.getComputedStyle(a):a.currentStyle&&(c=a.currentStyle),"string"==typeof c[b]&&c[b].indexOf("px")===-1?0:parseInt(c[b],10)}})}(jqxBaseFramework),function(a){"use strict";a.jqx.jqxWidget("jqxTooltip","",{}),a.extend(a.jqx._jqxTooltip.prototype,{defineInstance:function(){var b={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return this===a.jqx._jqxTooltip.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){this._isTouchDevice=a.jqx.mobile.isTouchDevice();var b=a.data(document.body,"_tooltipIDArray"+this.name);b?this.IDArray=b:(this.IDArray=[],a.data(document.body,"_tooltipIDArray"+this.name,this.IDArray));var c=this._generatekey(),d="jqxtooltip"+c;this.IDArray.push({tooltipID:d,tooltipHost:this.host});var e=document.createElement("div");e.setAttribute("id",d),e.innerHTML='<div id="'+d+'Main"><div id="'+d+'Text"></div></div><div id="'+d+'Arrow"></div>',a.jqx.browser.msie&&(e.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(e),this._tooltip=e,this._tooltipHelper=a(e),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),e.style.visibility="hidden",e.style.display="none",e.style.opacity=0,e.style.zIndex=99999;var f=document.getElementById(d+"Arrow");this._arrow=f,this.showArrow===!1&&(f.style.visibility="hidden",f.style.display="none"),this._main=document.getElementById(d+"Main"),this._text=document.getElementById(d+"Text"),this._setTheme(),this._setSize(),this._setContent(),this.disabled===!1&&(this._trigger(),this.closeOnClick===!0&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2===arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),this.disabled===!1&&"removed"!==this._id())if("mouse"===this.position||"mouseenter"===this.position){var a=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=a}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(b){var c=this,d=a.jqx.browser.msie&&a.jqx.browser.version<9;"object"==typeof b&&a.isEmptyObject(b)&&(b=this.animationHideDelay);var e=parseFloat(c._tooltip.style.opacity),f=function(){clearTimeout(c.autoHideTimeout),c._raiseEvent("3"),c._tooltipHelper.animate({opacity:0},b,function(){c._tooltip.style.visibility="hidden",c._tooltip.style.display="none",c._raiseEvent("1"),c._isOpen=!1})};return this._isOpen===!1&&0!==e?void f():void(this._isOpen===!0&&(!d&&e===this.opacity||d)&&f())},destroy:function(){var b=this.IDArray.length;this._removeHandlers(),this._tooltipHelper.remove();for(var c=0;c<b;c++)if(this.IDArray[c].tooltipHost===this.host){this.IDArray.splice(c,1);break}this.host.removeData("jqxTooltip"),a.removeData(document.body,"_tooltipIDArray"+this.name),a.removeData(document.body,"_openedTooltip"+this.name)},refresh:function(a){if(a!==!0){var b=this;this.rtl&&(b._text.className+=" "+b.toThemeProperty("jqx-rtl"),b._text.style.direction="rtl");var c=parseFloat(b._tooltip.style.opacity);"removed"!==this._id()&&(this.disabled===!0&&this._isOpen===!0&&c===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){b._tooltip.style.visibility="hidden",b._tooltip.style.display="none",b._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!==this.position&&"mouseenter"!==this.position&&this._setPosition(),this._removeHandlers(),this.disabled===!1&&(this._trigger(),this.closeOnClick===!0&&this._clickHide()))}},propertyChangedHandler:function(a,b,c,d){"content"===b&&(this.changeContentFlag=!0),a.refresh()},_raiseEvent:function(b,c){var d=this.events[b],e=new a.Event(d);e.owner=this,e.args=c;var f;try{f=this.host.trigger(e)}catch(g){}return f},_generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()},_id:function(){for(var a,b,c=this.IDArray.length,d=0;d<c;d++)if(this.IDArray[d].tooltipHost===this.host){a=this.IDArray[d].tooltipID,b="#"+a;break}return void 0===b&&(b="removed"),b},_setPosition:function(b){var c=this,d=c._tooltip;if(this._isOpen===!1&&0===parseFloat(d.style.opacity)||this.changeContentFlag===!0){if(!b&&("mouse"===this.position||"mouseenter"===this.position))return;d.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=c.element.offsetWidth,this.hostHeight=c.element.offsetHeight,this.tooltipWidth=d.offsetWidth,this.tooltipHeight=d.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=c._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10);var e,f=c._arrow,g=a(f),h=c._main,i=a(h),j=h.offsetWidth,k=h.offsetHeight;switch(this.arrowSize=5,this.tooltipMainOffset=i.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-l-r")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-t-b"),f.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(j/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+k,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-l-r")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-t-b"),f.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(j/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"left":e=window.getComputedStyle?window.getComputedStyle(h):h.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(e.borderLeftWidth,10)+parseInt(e.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-t-b")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-l-r"),f.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=i.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+j,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+k/2-this.arrowSize,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-t-b")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-l-r"),f.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+h.offsetHeight/2-this.arrowSize,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-l-r")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-t-b"),f.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+j-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+k,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-l-r")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-t-b"),f.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+j-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-l-r")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-t-b"),f.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+k,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-l-r")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-t-b"),f.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"absolute":c._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),f.style.borderWidth="0px";break;case"mouse":if(this._isTouchDevice===!1)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){c.tooltipOffset.left=b.pageX+10,c.tooltipOffset.top=b.pageY+10,c._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltipOffset.left=b.pageX+10,this.tooltipOffset.top=b.pageY+10,this._detectBrowserBounds()}else{var l=b.pageX,m=b.pageY;if(b.originalEvent){var n;b.originalEvent.touches&&b.originalEvent.touches.length?n=b.originalEvent.touches[0]:b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length&&(n=b.originalEvent.changedTouches[0]),void 0!==n&&(l=n.pageX,m=n.pageY)}this.tooltipOffset.left=l+10,this.tooltipOffset.top=m+10,this._detectBrowserBounds()}f.style.borderWidth="0px";break;case"mouseenter":var o={top:b.pageY,left:b.pageX};o.top<this.hostOffset.top+10&&o.top>this.hostOffset.top-10?(this.tooltipOffset.left=o.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-l-r")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-t-b"),f.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(j/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+k,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):o.top<this.hostOffset.top+this.hostHeight+10&&o.top>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=o.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-l-r")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-t-b"),f.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(j/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):o.left<this.hostOffset.left+10&&o.left>this.hostOffset.left-10?(e=window.getComputedStyle?window.getComputedStyle(h):h.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(e.borderLeftWidth,10)+parseInt(e.borderRightWidth,10)),this.tooltipOffset.top=o.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-t-b")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-l-r"),f.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=i.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+j,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+k/2-this.arrowSize,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):o.left<this.hostOffset.left+this.hostWidth+10&&o.left>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,this.tooltipOffset.top=o.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-t-b")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-l-r"),f.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=i.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+k/2-this.arrowSize,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}));break;case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=i.offset(),c._removeClass(f,c.toThemeProperty("jqx-tooltip-arrow-l-r")),f.className+=" "+c.toThemeProperty("jqx-tooltip-arrow-t-b"),f.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,g.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var b=parseFloat(this._tooltip.style.opacity);if(this._isOpen===!1&&0===b){var c=this;if(c._tooltip.style.visibility="visible",c._tooltip.style.display="block",c._tooltip.style.opacity=0,this.opening){var d=this.opening(this);if(d===!1)return}c._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){c._raiseEvent("0"),c._isOpen=!0,c.openedTooltip=c,a.data(document.body,"_openedTooltip"+c.name,c),c.autoHideTimeout&&clearTimeout(c.autoHideTimeout),c.autoHideDelay>0&&c.autoHide===!0&&(c.autoHideTimeout=setTimeout(function(){c._autoHide()},c.autoHideDelay))})}},_trigger:function(){if("removed"!==this._id()){var b=this,c=this.host;if(this.selector&&(c=a("#"+this.selector)),this._isTouchDevice===!1)switch(this.trigger){case"hover":"mouse"===this.position?(this.addHandler(c,"mousemove.tooltip",function(a){1===b._enterFlag&&(b._raiseEvent("2"),b._setPosition(a),clearTimeout(b.hoverShowTimeout),b.hoverShowTimeout=setTimeout(function(){b._animateShow(),b._enterFlag=0},b.showDelay))}),this.addHandler(c,"mouseenter.tooltip",function(){0!==b._leaveFlag&&(b._enterFlag=1)}),this.addHandler(c,"mouseleave.tooltip",function(a){b._leaveFlag=1,clearTimeout(b.hoverShowTimeout);var c=b._tooltipHelper.offset(),d=b._tooltip.offsetWidth,e=b._tooltip.offsetHeight;(parseInt(a.pageX,10)<parseInt(c.left,10)||parseInt(a.pageX,10)>parseInt(c.left,10)+d)&&b.close(),(parseInt(a.pageY,10)<parseInt(c.top,10)||parseInt(a.pageY,10)>parseInt(c.top,10)+e)&&b.close()}),this.addHandler(b._tooltipHelper,"mouseleave.tooltip",function(a){b._checkBoundariesAuto(a),0!==b._clickFlag&&0!==b._autoFlag?b._leaveFlag=0:(b._leaveFlag=1,b.close())})):(this.addHandler(c,"mouseenter.tooltip",function(a){clearTimeout(b.hoverShowTimeout),b.hoverShowTimeout=setTimeout(function(){b._raiseEvent("2"),b._setPosition(a),b._animateShow()},b.showDelay)}),this.addHandler(c,"mouseleave.tooltip",function(a){if(b._leaveFlag=1,clearTimeout(b.hoverShowTimeout),b.autoHide){var c=a.pageX,d=a.pageY,e=b._tooltipHelper.offset(),f=e.left,g=e.top,h=b._tooltip.offsetWidth,i=b._tooltip.offsetHeight;(parseInt(c,10)<parseInt(f,10)||parseInt(c,10)>parseInt(f,10)+h||parseInt(d,10)<parseInt(g,10)||parseInt(d,10)>parseInt(g,10)+i)&&b.close()}}),this.addHandler(b._tooltipHelper,"mouseleave.tooltip",function(a){b._checkBoundariesAuto(a),0!==b._clickFlag&&0!==b._autoFlag?b._leaveFlag=0:(b._leaveFlag=1,b.autoHide&&b.close())}));break;case"click":this.addHandler(c,"click.tooltip",function(a){"mouseenter"===b.position&&(b.position="mouse"),b._raiseEvent("2"),b._setPosition(a),b._animateShow()});break;case"none":}else"none"!==this.trigger&&this.addHandler(c,"touchstart.tooltip",function(a){"mouseenter"===b.position&&(b.position="mouse"),b._raiseEvent("2"),b._setPosition(a),b._animateShow()})}},_autoHide:function(){var a=this,b=parseFloat(a._tooltip.style.opacity);this.autoHide===!0&&this._isOpen===!0&&b>=this.opacity&&(a._raiseEvent("3"),a._tooltipHelper.animate({opacity:0},a.animationHideDelay,function(){a._tooltip.style.visibility="hidden",a._tooltip.style.display="none",a._raiseEvent("1"),a._isOpen=!1}))},_clickHide:function(){var a=this;this.addHandler(a._tooltipHelper,"click.tooltip",function(b){a._checkBoundariesClick(b),a.close()})},_setSize:function(){var a=this;a._tooltip.style.width=a._toPx(a.width),a._tooltip.style.height=a._toPx(a.height)},resize:function(){this._setSize()},_setTheme:function(){var a=this;a._tooltip.className+=" "+a.toThemeProperty("jqx-tooltip jqx-popup"),a._main.className+=" "+a.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),a._text.className+=" "+a.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),a._arrow&&(a._arrow.className+=" "+a.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"))},_initialPosition:function(){var a=this.position;this.position="default",this._setPosition(),this.position=a},_detectBrowserBounds:function(){var a=this,b=a._tooltipHelper;this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?b.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?b.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?b.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?b.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?b.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?b.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?b.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?b.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):b.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):b.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(a){return a.pageX>=this.hostOffset.left&&a.pageX<=this.hostOffset.left+this.hostWidth&&a.pageY>=this.hostOffset.top&&a.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(a){this._checkBoundaries(a)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(a){this._checkBoundaries(a)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var a=0;a<this.IDArray.length;a++){var b=this.IDArray[a].tooltipID,c=document.getElementById(b);c!==this._tooltip&&(c.style.opacity=0,c.style.visibility="hidden",c.style.display="none",this._isOpen=!1)}},_toPx:function(a){return"number"==typeof a?a+"px":a},_removeClass:function(b,c){a(b).removeClass(c)}})}(jqxBaseFramework),function(a){var b=0;a.jqx.jqxWidget("jqxTouch","",{}),a.extend(a.jqx._jqxTouch.prototype,{defineInstance:function(){this.swipeMin=50,this.swipeMax=500,this.swipeDelay=1e3,this.tapHoldDelay=750,this.swipeMaxVerticalDisance=100,this.swipeMaxHorizontalDisance=100,this.orientationChangeEnabled=!0,this._eventsMap={mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove")},this._swipeLocked=!1,this._rotationInterval=200,this._events=["tap","taphold","swipe","swipeleft","swiperight","swipetop","swipebottom","orientationchange"],this._instanceId=-1},createInstance:function(){b+=1,this._instanceId=b,this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._defineRotateHandler()},destroy:function(){this._removeEventListeners(),this.host.remove()},refresh:function(){this._removeEventListeners(),this._addEventListeners()},_defineRotateHandler:function(){var a=this;this._rotateHandler||(this._rotateHandler=function(){a._checkOrientation()})},_getEvent:function(a){return this._isTouchDevice&&(a=this._eventsMap[a]),a+this._getEventNamespace()},_getEventNamespace:function(){return".swipe"+this._instanceId},_removeEventListeners:function(){clearInterval(this._rotateInterval),this.removeHandler(this.host,this._getEvent("mouseup")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(this.host,this._getEvent("mousemove")),window.removeEventListener&&(window.removeEventListener("resize",this._rotateHandler),window.removeEventListener("orientationchange",this._rotateHandler))},_addEventListeners:function(){var a=this;this.addHandler(this.host,this._getEvent("mouseup"),function(b){a._resetSwipe(),a._resetTap()}),this.addHandler(this.host,this._getEvent("mousedown"),function(b){a._initSwipe(b),a._initTap(b)}),this.addHandler(this.host,this._getEvent("mousemove"),function(b){return a._maxSwipeVerticalDistance=Math.max(a._maxSwipeVerticalDistance,Math.abs(a._startY-a._getCoordinates(b).y)),a._maxSwipeHorizontalDistance=Math.max(a._maxSwipeHorizontalDistance,Math.abs(a._startX-a._getCoordinates(b).x)),
a._mouseMoved=!0,a._handleSwipeEvents(b)}),this._rotationListeners()},_handleSwipeEvents:function(a){var b=!0;return this._mouseDown&&!this._tapHoldFired&&(b=this._handleVerticalSwipeEvents(a),b=this._handleHorizontalSwipeEvents(a)),this._lastPosition=this._getCoordinates(a),b},_handleVerticalSwipeEvents:function(a){var b,c;return b=this._getCoordinates(a).y,c=b-this._startY,!(this._maxSwipeHorizontalDistance<this.swipeMaxHorizontalDisance)||this._swiped(a,c,2)},_handleHorizontalSwipeEvents:function(a){var b,c;return b=this._getCoordinates(a).x,c=b-this._startX,!(this._maxSwipeVerticalDistance<this.swipeMaxVerticalDisance)||this._swiped(a,c)},_swiped:function(a,b,c){return c=c||0,Math.abs(b)>=this.swipeMin&&!this._swipeEvent&&!this._swipeLocked&&(this._swipeEvent=this._getSwipeEvent(b,c)),!(Math.abs(b)<=this.swipeMax)||(a.stopImmediatePropagation(),!1)},_getSwipeEvent:function(a,b){var c;return c=a<0?{eventId:3+b,data:{target:this.host}}:{eventId:4+b,data:{target:this.host}}},_resetSwipe:function(){this._swipeEvent&&!this._swipeLocked&&(this._raiseEvent(2,this._swipeEvent.data),this._raiseEvent(this._swipeEvent.eventId,this._swipeEvent.data)),clearTimeout(this._swipeTimeout),this._mouseDown=!1},_resetTap:function(){clearTimeout(this._tapHoldTimeout),this._tapHoldFired||this._mouseMoved||this._raiseEvent(0,{target:this.host})},_initTap:function(a){var b=this;this._mouseMoved=!1,this._tapHoldFired=!1,this._tapHoldTimeout=setTimeout(function(){b._mouseMoved||(b._raiseEvent(1,{target:this.host}),b._tapHoldFired=!0)},this.tapHoldDelay)},_initSwipe:function(a){var b=this;this._mouseDown=!0,this._maxSwipeVerticalDistance=0,this._maxSwipeHorizontalDistance=0,this._startX=this._getCoordinates(a).x,this._startY=this._getCoordinates(a).y,this._swipeLocked=!1,this._swipeEvent=null,this._swipeTimeout=setTimeout(function(){b._swipeLocked=!0},this.swipeDelay)},_rotationListeners:function(){var a=this;this._previousOrientation=window.orientation,this._previousWidth=screen.width,this.orientationChangeEnabled&&(window.addEventListener&&(window.addEventListener("resize",this._rotateHandler,!1),window.addEventListener("orientationchange",this._rotateHandler,!1)),this._rotateInterval=setInterval(function(){a._checkOrientation()},this._rotationInterval))},_checkOrientation:function(){var a="vertical";window.orientation===this._previousOrientation&&this._previousWidth===screen.width||((90===window.orientation||screen.width>screen.height)&&(a="horizontal"),this._raiseEvent(7,{orientation:a})),this._previousOrientation=window.orientation,this._previousWidth=screen.width},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},_getCoordinates:function(b){var c=a.jqx.position(b);return c.x=c.left,c.y=c.top,c},propertyChangedHandler:function(a,b,c,d){"orientationChangeEnabled"===b&&this.refresh()},isTouchDevice:function(){return this._isTouchDevice}})}(jqxBaseFramework),function(a,b){a.jqx.jqxWidget("jqxTree","",{}),a.extend(a.jqx._jqxTree.prototype,{defineInstance:function(){var b={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,itemsMember:"",displayMember:"",valueMember:"",enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:13,toggleIndicatorSize:16,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",beforeSelect:null,recalculateParentSelection:null,events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart","itemClick"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===a.jqx._jqxTree.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(b){var c=this;if(this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(b,d,e,f){c.disabled?b.host.addClass(b.toThemeProperty("jqx-tree-disabled")):b.host.removeClass(b.toThemeProperty("jqx-tree-disabled")),a.jqx.aria(b,"aria-disabled",f)},null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.width&&this.width.toString().indexOf("%")!=-1&&this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("%")!=-1&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),a.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL")){var d=this.host.find("ul:first");d.length>0&&(this.createTree(d[0]),this.createdTree=!0)}if(null!=this.source){var e=this.loadItems(this.source);this.element.innerHTML=e;var d=this.host.find("ul:first");d.length>0&&(this.createTree(d[0]),this.createdTree=!0)}if(this._itemslength=this.items.length,this.$dataBinders$){this.createdTree=!1;for(var f in this.$dataBinders$){var g=this.$dataBinders$[f];if(g){var h=this.bindDataBinder(f);g.unbindCallbackFunc(this.element.id),g.bindCallbackFunc(this.element.id,h),g.dataBind()}}}if(!this.createdTree&&!this.$dataBinders$&&0==this.host.find("ul").length){this.host.append(a("<ul></ul>"));var d=this.host.find("ul:first");d.length>0&&(this.createTree(d[0]),this.createdTree=!0),this.createdTree=!0}1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},bindDataBinder:function(b){var c=this;if("source"==b)return function(b){var d,e=arguments[1];if("load"==b||"reset"==b){if(d=e.records||[],d&&d.length>0){c.source={datatype:"json",datafields:[{name:"id"},{name:"parentid"},{name:"label"},{name:"value"},{name:"expanded"},{name:"checked"},{name:"disabled"},{name:"selected"},{name:"html"},{name:"icon"},{name:"iconsize"},{name:"items"}],id:"id",localdata:d};var f=new a.jqx.dataAdapter(c.source);f.dataBind(),c.element.innerHTML=c.loadItems(f.getRecordsHierarchy("id","parentid","items"))}else c.element.innerHTML=c.loadItems(d);var g=c.host.find("ul:first");0==g.length&&c.host.append(a("<ul></ul>")),g.length>0&&(c.createTree(g[0]),c.createdTree=!0),1==c.createdTree&&c._render()}else if("update"==b){var h,i=e.id,j=e.value;c.itemMapping["id"+i]&&(h=c.itemMapping["id"+i].item),c.updateItem(h,j)}else if("insert"==b){var k,l=e.value,m=l.parentid;c.itemMapping["id"+m]&&(k=c.itemMapping["id"+m].item),c.addTo(l,k)}else if("delete"==b){var h,n=e.id;c.itemMapping["id"+n]&&(h=c.itemMapping["id"+n].item),c.removeItem(h)}else if("move"==b){d=e.records||[];var o,p,q=e.fromItem,r=e.toItem;c.itemMapping["id"+q.id]&&(o=c.itemMapping["id"+q.id].item),c.itemMapping["id"+r.id]&&(p=c.itemMapping["id"+r.id].item);var s={action:"dragAfter",changedItem:o,extraItem:p};c._refreshMapping(!1,void 0,[s]),c._updateItemsNavigation(),c._render(!0,!1),c.checkboxes&&c._updateCheckStates()}else if("select"==b){var t=e.value.id;c.selectItem(c.itemMapping["id"+t].element)}}},checkItems:function(b,c){var d=this;if(null!=b){var e=0,f=!1,g=0,h=0,i=a(b.element).find("li");if(g=i.length,a.each(i,function(a){var b=d.itemMapping["id"+this.id].item;b.checked===!0?e++:null===b.checked&&(f=!0,h++)}),b!=c)d.parentCheckboxHandler(b.element,g,e,h);else{var j=c.checked,i=a(c.element).find("li");a.each(i,function(){d.itemMapping["id"+this.id].item;d.checkItem(this,j,"tree")})}this.checkItems(this._parentItem(b),c)}else{var j=c.checked,i=a(c.element).find("li");a.each(i,function(){d.itemMapping["id"+this.id].item;d.checkItem(this,j,"tree")})}},_getMatches:function(b,c){if(void 0==b||0==b.length)return-1;for(var d=this.items,e=new Array,f=0;f<d.length;f++)this._isVisible(d[f])&&!d[f].disabled&&e.push(d[f]);d=e,void 0!=c&&(d=d.slice(c));var g=new Array;return a.each(d,function(c){var d=this.label;d||(d="");var e=a.jqx.string.startsWithIgnoreCase(d.toString(),b);e&&g.push({id:this.id,element:this.element})}),g},_handleKeys:function(){var b=this;this.addHandler(this.host,"keydown",function(c){var d=c.keyCode;if((b.keyboardNavigation||b.enableKeyboardNavigation)&&null!=b.selectedItem){var e=b.selectedItem.element;if(b.incrementalSearch&&!(d>=33&&d<=40)){var f=-1;b._searchString||(b._searchString=""),(8==d||46==d)&&b._searchString.length>=1&&(b._searchString=b._searchString.substr(0,b._searchString.length-1));var g=String.fromCharCode(d),h=!isNaN(parseInt(g)),i=!1;if(d>=65&&d<=97||h||8==d||32==d||46==d){c.shiftKey||(g=g.toLocaleLowerCase()),8!=d&&32!=d&&46!=d&&(b._searchString.length>0&&b._searchString.substr(0,1)==g||(b._searchString+=g)),32==d&&(b._searchString+=" "),b._searchTime=new Date;var j=b.selectedItem;if(j){for(var k=j.id,l=-1,m=0;m<b.items.length;m++)if(b.items[m].id==k){l=m+1;break}var n=b._getMatches(b._searchString,l);if(0==n.length||n.length>0&&n[0].id==k)var n=b._getMatches(b._searchString)}else var n=b._getMatches(b._searchString);if(n.length>0){var j=b.selectedItem;b.selectedItem&&b.selectedItem.id!=n[0].id&&(b.clearSelection(),b.selectItem(n[0].element,"keyboard")),b._lastSearchString=b._searchString}}if(void 0!=b._searchTimer&&clearTimeout(b._searchTimer),27!=d&&13!=d||(b._searchString="",b._lastSearchString=""),b._searchTimer=setTimeout(function(){b._searchString="",b._lastSearchString=""},500),f>=0)return;if(i)return!1}switch(d){case 32:if(b.checkboxes){b.fromKey=!0;var o=a(b.selectedItem.checkBoxElement).jqxCheckBox("checked");return b.checkItem(b.selectedItem.element,!o,"tree"),b.hasThreeStates&&b.checkItems(b.selectedItem,b.selectedItem),!1}return!0;case 33:for(var p=b._getItemsOnPage(),q=b.selectedItem,m=0;m<p;m++)q=b._prevVisibleItem(q);return null!=q?(b.selectItem(q.element,"keyboard"),b.ensureVisible(q.element)):(b.selectItem(b._firstItem().element,"keyboard"),b.ensureVisible(b._firstItem().element)),!1;case 34:for(var p=b._getItemsOnPage(),r=b.selectedItem,m=0;m<p;m++)r=b._nextVisibleItem(r);return null!=r?(b.selectItem(r.element,"keyboard"),b.ensureVisible(r.element)):(b.selectItem(b._lastItem().element,"keyboard"),b.ensureVisible(b._lastItem().element)),!1;case 37:case 39:if(37==d&&!b.rtl||39==d&&b.rtl)if(b.selectedItem.hasItems&&b.selectedItem.isExpanded)b.collapseItem(e);else{var s=b._parentItem(b.selectedItem);null!=s&&(b.selectItem(s.element,"keyboard"),b.ensureVisible(s.element))}if((39==d&&!b.rtl||37==d&&b.rtl)&&b.selectedItem.hasItems)if(b.selectedItem.isExpanded){var r=b._nextVisibleItem(b.selectedItem);null!=r&&(b.selectItem(r.element,"keyboard"),b.ensureVisible(r.element))}else b.expandItem(e);return!1;case 13:return b.selectedItem.hasItems&&(b.selectedItem.isExpanded?b.collapseItem(e):b.expandItem(e)),!1;case 36:return b.selectItem(b._firstItem().element,"keyboard"),b.ensureVisible(b._firstItem().element),!1;case 35:return b.selectItem(b._lastItem().element,"keyboard"),b.ensureVisible(b._lastItem().element),!1;case 38:var q=b._prevVisibleItem(b.selectedItem);return null!=q&&(b.selectItem(q.element,"keyboard"),b.ensureVisible(q.element)),!1;case 40:var r=b._nextVisibleItem(b.selectedItem);return null!=r&&(b.selectItem(r.element,"keyboard"),b.ensureVisible(r.element)),!1}}})},_firstItem:function(){var b=null,c=this,d=this.host.find("ul:first"),e=a(d).find("li");for(i=0;i<=e.length-1;i++){var f=e[i];if(b=this.itemMapping["id"+f.id].item,c._isVisible(b))return b}return null},_lastItem:function(){var b=null,c=this,d=this.host.find("ul:first"),e=a(d).find("li");for(i=e.length-1;i>=0;i--){var f=e[i];if(b=this.itemMapping["id"+f.id].item,c._isVisible(b))return b}return null},_parentItem:function(b){if(null==b||void 0==b)return null;var c=b.parentElement;if(!c)return null;var d=null;return a.each(this.items,function(){if(this.element==c)return d=this,!1}),d},_nextVisibleItem:function(a){if(null==a||void 0==a)return null;for(var b=a;null!=b;)if(b=b.nextItem,this._isVisible(b)&&!b.disabled)return b;return null},_prevVisibleItem:function(a){if(null==a||void 0==a)return null;for(var b=a;null!=b;)if(b=b.prevItem,this._isVisible(b)&&!b.disabled)return b;return null},_isVisible:function(a){if(null==a||void 0==a)return!1;if(!this._isElementVisible(a.element))return!1;var b=this._parentItem(a);if(null==b)return!0;if(null!=b){if(!this._isElementVisible(b.element))return!1;if(!b.isExpanded)return!1;for(;null!=b;){if(b=this._parentItem(b),null!=b&&!this._isElementVisible(b.element))return!1;if(null!=b&&!b.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var b=0,c=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),d=0,e=this._firstItem();if(parseInt(a(e.element).height())>0)for(;d<=c;)d+=parseInt(a(e.element).outerHeight()),b++;return b},_isElementVisible:function(b){return null!=b&&("none"!=a(b).css("display")&&"hidden"!=a(b).css("visibility"))},refresh:function(b){if(null!=this.width&&this.width.toString().indexOf("px")!=-1?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&this.height.toString().indexOf("px")!=-1?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.panel){if(null!=this.width&&this.width.toString().indexOf("%")!=-1){var c=this;this.panel.jqxPanel("width","100%"),c.removeHandler(a(window),"resize.jqxtree"+c.element.id),c.addHandler(a(window),"resize.jqxtree"+c.element.id,function(){c._calculateWidth()})}else this.panel.jqxPanel("width",this.host.width());this.panel.jqxPanel("_arrange")}if(this._calculateWidth(),a.jqx.isHidden(this.host)){var c=this;this._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval(function(){a.jqx.isHidden(c.host)||(clearInterval(c._hiddenTimer),c._calculateWidth())},100)}1!=b&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(a,b){this.width=a,this.height=b,this.refresh()},loadItems:function(b){if(null!=b){var c=this;this.items=new Array;var d="<ul>";return a.map(b,function(a){return void 0==a?null:void(d+=c._parseItem(a))}),d+="</ul>"}},_parseItem:function(b){var c="";if(void 0==b)return null;var d=b.label,e=b.value;!b.label&&b.html&&(d=b.html),void 0!=this.displayMember&&""!=this.displayMember&&(d=b[this.displayMember]),void 0!=this.valueMember&&""!=this.valueMember&&(e=b[this.valueMember]),d||(d="Item"),"string"==typeof b&&(d=b);var f=!1;void 0!=b.expanded&&b.expanded&&(f=!0);var g=!1;void 0!=b.locked&&b.locked&&(g=!0);var h=!1;void 0!=b.selected&&b.selected&&(h=!0);var i=!1;void 0!=b.disabled&&b.disabled&&(i=!0);var j=!1;void 0!=b.checked&&b.checked?j=!0:null===b.checked&&(j=null);var k=b.icon,l=b.iconsize;c+="<li",f&&(c+=' item-expanded="true" '),g&&(c+=' item-locked="true" '),i&&(c+=' item-disabled="true" '),h&&(c+=' item-selected="true" '),l&&(c+=' item-iconsize="'+b.iconsize+'" '),null!=k&&void 0!=k&&(c+=' item-icon="'+k+'" '),b.label&&!b.html&&(c+=' item-label="'+a.jqx.utilities.escape(d)+'" '),null!=b.value&&(c+=' item-value="'+b.value+'" '),void 0!==b.checked?c+=' item-checked="'+j+'" ':this.hasThreeStates&&(c+=' item-checked="'+j+'" ');var m="";return void 0!=b.id?(m=b.id,c+=' id="'+m+'" '):(m=this.createID(),c+=' id="'+m+'" '),c+=">"+d,b.items?c+=this.loadItems(b.items):void 0!=this.itemsMember&&""!=this.itemsMember&&b[this.itemsMember]&&(c+=this.loadItems(b[this.itemsMember])),this._valueList||(this._valueList=new Array),this._valueList[m]=b.value,c+="</li>"},ensureVisible:function(b){if(null!=b&&void 0!=b&&this.panel){var c=this.panel.jqxPanel("getVScrollPosition"),d=this.panel.jqxPanel("getHScrollPosition"),e=parseInt(this.host.height()),f=a(b).position().top;(f<=c||f>=e+c)&&this.panel.jqxPanel("scrollTo",d,f-e+a(b).outerHeight())}},_syncItems:function(b){this._visibleItems=new Array;var c=this;a.each(b,function(){var b=a(this);if("none"!=b.css("display")){var d=b.outerHeight();if(b.height()>0){var e=parseInt(b.offset().top);c._visibleItems[c._visibleItems.length]={element:this,top:e,height:d,bottom:e+d}}}})},hitTest:function(b,c){var d=this,e=null,f=this.host.find(".jqx-item");if(this._syncItems(f),d._visibleItems){var g=parseInt(d.host.offset().left),h=d.host.outerWidth();a.each(d._visibleItems,function(f){if(b>=g&&b<g+h&&this.top+5<c&&c<this.top+this.height){var i=a(this.element).parents("li:first");if(i.length>0&&(e=d.getItem(i[0]),null!=e))return e.height=this.height,e.top=this.top,!1}})}return e},addBefore:function(a,b,c){return this.addBeforeAfter(a,b,!0,c)},addAfter:function(a,b,c){return this.addBeforeAfter(a,b,!1,c)},addBeforeAfter:function(b,c,d,e){var f=this,g=new Array;c&&void 0!=c.treeInstance&&(c=c.element),a.isArray(b)?g=b:g[0]=b;var h="",i=this;a.each(g,function(){h+=i._parseItem(this)});var j=a(h);if(f.element.innerHTML.indexOf("UL"))var k=f.host.find("ul:first");void 0==c&&null==c?k.append(j):d?a(c).before(j):a(c).after(j);for(var l=j,m=0;m<l.length;m++){this._createItem(l[m]);var n=a(l[m]).find("li");if(n.length>0)for(var o=0;o<n.length;o++)this._createItem(n[o])}var p=function(b,e){if(i.$dataBinders$&&i.$dataBinders$.source){var f={action:d?"addBefore":"addNext",changedItem:e,extraItem:{id:c.id,parentid:c.parentId}};i._refreshMapping(!1,void 0,[f])}else i._refreshMapping(!1);i._updateItemsNavigation(),b&&i.allowDrag&&i._enableDragDrop&&i._enableDragDrop(),null!=i.selectedItem&&(a(i.selectedItem.titleElement).addClass(i.toThemeProperty("jqx-fill-state-pressed")),a(i.selectedItem.titleElement).addClass(i.toThemeProperty("jqx-tree-item-selected")))},q={},r=this.getItem(l[0]);return q.id=r.id,q.parentid=r.parentId,q.value=r.value,q.label=r.label,0==e?(p(!0,q),void this._raiseEvent("4",{items:this.getItems()})):(p(!1,q),i._render(),this._raiseEvent("4",{items:this.getItems()}),void(i.checkboxes&&i._updateCheckLayout(null)))},addTo:function(b,c,d){var e=this,f=new Array;c&&void 0!=c.treeInstance&&(c=c.element),a.isArray(b)?f=b:f[0]=b;var g="",h=this;a.each(f,function(){g+=h._parseItem(this)});var i=a(g);if(e.element.innerHTML.indexOf("UL"))var j=e.host.find("ul:first");if(void 0==c&&null==c)j.append(i);else{c=a(c);var k=c.find("ul:first");if(0==k.length){ulElement=a("<ul></ul>"),a(c).append(ulElement),k=c.find("ul:first");var l=e.itemMapping["id"+c[0].id].item;l.subtreeElement=k[0],l.hasItems=!0,k.addClass(e.toThemeProperty("jqx-tree-dropdown")),h.rtl&&k.addClass(e.toThemeProperty("jqx-tree-dropdown-rtl")),k.append(i);var m=k.find("li:first");l.parentElement=m}else k.append(i)}for(var n=i,o=0;o<n.length;o++){this._createItem(n[o]);var p=a(n[o]).find("li");if(p.length>0)for(var q=0;q<p.length;q++)this._createItem(p[q])}var r=function(b,c){if(h.$dataBinders$&&h.$dataBinders$.source){var d={action:"add",changedItem:c,extraItem:null};h._refreshMapping(!1,void 0,[d])}else h._refreshMapping(!1);h._updateItemsNavigation(),b&&h.allowDrag&&h._enableDragDrop&&h._enableDragDrop(),null!=h.selectedItem&&(a(h.selectedItem.titleElement).addClass(h.toThemeProperty("jqx-fill-state-pressed")),a(h.selectedItem.titleElement).addClass(h.toThemeProperty("jqx-tree-item-selected")))},s={},t=this.getItem(n[0]);return s.id=t.id,s.parentid=t.parentId,s.value=t.value,s.label=t.label,0==d?(r(!0,s),void this._raiseEvent("4",{items:this.getItems()})):(r(!1,s),h._render(),h.checkboxes&&h._updateCheckLayout(null),void this._raiseEvent("4",{items:this.getItems()}))},updateItem:function(b,c){var d=void 0!=b.treeInstance?b:this.getItem(b);if(!d){var e=b;b=c,c=e;var d=void 0!=b.treeInstance?b:this.getItem(b)}if(d){if("string"==typeof c&&(c={label:c}),this.$dataBinders$&&this.$dataBinders$.source&&this.$dataBinders$.source.updateItem(c,d.id),c.value&&(d.value=c.value),c.label){d.label=c.label,a.jqx.utilities.html(a(d.titleElement),c.label);var f=a.jqx.browser.msie&&a.jqx.browser.version<8;if(f){a(document.body).append(this._measureItem),this._measureItem.html(a(d.titleElement).text());var g=this._measureItem.width();d.icon&&(g+=20),a(a(d.titleElement).find("img")).length>0&&(g+=20),a(d.titleElement).css("max-width",g+"px"),this._measureItem.remove()}}if(c.icon)if(a(d.element).children(".itemicon").length>0)a(d.element).find(".itemicon")[0].src=c.icon;else{var h=c.iconsize;h||(h=16);var i=a('<img width="'+h+'" height="'+h+'" style="float: left;" class="itemicon" src="'+c.icon+'"/>');a(d.titleElement).prepend(i),i.css("margin-right","4px"),this.rtl&&(i.css("margin-right","0px"),i.css("margin-left","4px"),i.css("float","right"))}return c.expanded&&this.expandItem(d),c.disabled&&this.disableItem(d),c.selected&&this.selectItem(d),!0}return!1},removeItem:function(b,c){if(void 0!=b&&null!=b){void 0!=b.treeInstance&&(b=b.element);var d=this,e=(b.id,-1),f=this.getItem(b);if(f&&(this.$dataBinders$&&this.$dataBinders$.source&&this.$dataBinders$.source.deleteItem(f.id),e=this.items.indexOf(f),e!=-1&&function g(b){var c=-1;c=this.items.indexOf(b),c!=-1&&this.items.splice(c,1);var d=a(b.element).find("li"),e=d.length,f=this,h=new Array;if(e>0){a.each(d,function(a){var b=f.itemMapping["id"+this.id].item;h.push(b)});for(var i=0;i<h.length;i++)g.apply(this,[h[i]])}}.apply(this,[f])),this.host.find("#"+b.id).length>0&&a(b).remove(),0==c)return void this._raiseEvent("5");d._updateItemsNavigation(),d.allowDrag&&d._enableDragDrop?d._render(!0,!1):d._render(),null!=d.selectedItem&&d.selectedItem.element==b&&(a(d.selectedItem.titleElement).removeClass(d.toThemeProperty("jqx-fill-state-pressed")),a(d.selectedItem.titleElement).removeClass(d.toThemeProperty("jqx-tree-item-selected")),d.selectedItem=null),this._raiseEvent("5"),d.checkboxes&&d._updateCheckLayout(null)}},clear:function(){this.items=new Array,this.itemMapping=new Array;var a=this.host.find("ul:first");a.length>0&&(a[0].innerHTML=""),this.selectedItem=null},disableItem:function(b){if(null==b)return!1;void 0!=b.treeInstance&&(b=b.element);var c=this;a.each(c.items,function(){var d=this;if(d.element==b)return d.disabled=!0,a(d.titleElement).addClass(c.toThemeProperty("jqx-fill-state-disabled")),a(d.titleElement).addClass(c.toThemeProperty("jqx-tree-item-disabled")),c.checkboxes&&d.checkBoxElement&&a(d.checkBoxElement).jqxCheckBox({disabled:!0}),!1})},_updateInputSelection:function(){if(this.input){if(null==this.selectedItem)this.input.val("");else{var a=this.selectItem.value;null==a&&(a=this.selectedItem.label),this.input.val(a)}if(this.checkboxes){var b=this.getCheckedItems();if(this.submitCheckedItems){for(var c="",d=0;d<b.length;d++){var e=b[d].value;null==e&&(e=b[d].label),c+=d==b.length-1?e:e+","}this.input.val(c)}}}},getCheckedItems:function(){var b=new Array,c=this;return a.each(c.items,function(){var a=this;a.checked&&b.push(a)}),b},getUncheckedItems:function(){var b=new Array,c=this;return a.each(c.items,function(){var a=this;a.checked===!1&&b.push(a)}),b},getIndeterminateCheckedItems:function(){var b=new Array,c=this;return a.each(c.items,function(){var a=this;null===a.checked&&b.push(a)}),b},checkAll:function(){var b=this;a.each(b.items,function(){var b=this;b.disabled||(b.checked=!0,a(b.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){var b=this;a.each(b.items,function(){var b=this;b.disabled||(b.checked=!1,a(b.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(b,c,d){if(null==b)return!1;void 0===c&&(c=!0),void 0!=b.treeInstance&&(b=b.element);var e=this,f=!1,g=null;a.each(e.items,function(){var d=this;if(d.element==b&&!d.disabled)return f=!0,d.checked=c,g=d,a(d.checkBoxElement).jqxCheckBox({checked:c}),!1}),f&&(this._raiseEvent("6",{element:b,checked:c}),this._updateInputSelection()),void 0==d&&g&&this.hasThreeStates&&this.checkItems(g,g)},uncheckItem:function(a){this.checkItem(a,!1)},enableItem:function(b){if(null==b)return!1;void 0!=b.treeInstance&&(b=b.element);var c=this;a.each(c.items,function(){var d=this;if(d.element==b)return d.disabled=!1,a(d.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-disabled")),a(d.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-disabled")),c.checkboxes&&d.checkBoxElement&&a(d.checkBoxElement).jqxCheckBox({disabled:!1}),!1})},enableAll:function(){var b=this;a.each(b.items,function(){var c=this;c.disabled=!1,a(c.titleElement).removeClass(b.toThemeProperty("jqx-tree-item-disabled")),a(c.titleElement).removeClass(b.toThemeProperty("jqx-fill-state-disabled")),b.checkboxes&&c.checkBoxElement&&a(c.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(b){if(null==b)return!1;var c=this;a.each(c.items,function(){var a=this;if(a.element==b)return a.locked=!0,!1})},unlockItem:function(b){if(null==b)return!1;var c=this;a.each(c.items,function(){var a=this;if(a.element==b)return a.locked=!1,!1})},getItems:function(){return this.items},getItem:function(a){if(null==a||void 0==a)return null;if(this.itemMapping["id"+a.id]){var b=this.itemMapping["id"+a.id].item;return b}return null},isExpanded:function(a){if(null==a||void 0==a)return!1;var b=this.itemMapping["id"+a.id].item;return null!=b&&b.isExpanded},isSelected:function(a){if(null==a||void 0==a)return!1;var b=this.itemMapping["id"+a.id].item;return null!=b&&b==this.selectedItem},getPrevItem:function(a){var b=this.getItem(a);void 0!=a.treeInstance&&(b=a);var c=this._prevVisibleItem(b);return c},getNextItem:function(a){var b=this.getItem(a);void 0!=a.treeInstance&&(b=a);var c=this._nextVisibleItem(b);return c},getSelectedItem:function(a){return this.selectedItem},val:function(a){if(0==arguments.length||"object"==typeof a)return this.selectedItem;if("string"==typeof a){var b=this.host.find("#"+a);if(b.length>0){var c=this.getItem(b[0]);this.selectItem(c)}}else{var c=this.getItem(a);this.selectItem(c)}},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(b,c){if(!this.disabled){var d=this;if(b&&this.$dataBinders$&&this.$dataBinders$.source&&this.$dataBinders$.source.selectItem(b.id),b&&void 0!=b.treeInstance&&(b=b.element),null==b||void 0==b)return void(null!=d.selectedItem&&(a(d.selectedItem.titleElement).removeClass(d.toThemeProperty("jqx-fill-state-pressed")),a(d.selectedItem.titleElement).removeClass(d.toThemeProperty("jqx-tree-item-selected")),d.selectedItem=null));if(null==this.selectedItem||this.selectedItem.element!=b){var e=null!=this.selectedItem?this.selectedItem.element:null;e&&a.jqx.aria(a(e),"aria-selected",!1),a.each(d.items,function(){var c=this;this.selected=!1,c.disabled||c.element==b&&(null==d.selectedItem||null!=d.selectedItem&&d.selectedItem.titleElement!=c.titleElement)&&(null!=d.selectedItem&&(a(d.selectedItem.titleElement).removeClass(d.toThemeProperty("jqx-fill-state-pressed")),a(d.selectedItem.titleElement).removeClass(d.toThemeProperty("jqx-tree-item-selected"))),a(c.titleElement).addClass(d.toThemeProperty("jqx-fill-state-pressed")),a(c.titleElement).addClass(d.toThemeProperty("jqx-tree-item-selected")),d.selectedItem=c,this.selected=!0,a.jqx.aria(a(c.element),"aria-selected",!0),a.jqx.aria(d,"aria-activedescendant",c.element.id))}),this._updateInputSelection(),c||(c=null),this._raiseEvent("2",{element:b,prevElement:e,type:c})}}},collapseAll:function(){this.isUpdating=!0;var b=this,c=b.items,d=this.animationHideDuration;this.animationHideDuration=0,a.each(c,function(){var a=this;1==a.isExpanded&&b._collapseItem(b,a)}),setTimeout(function(){b.isUpdating=!1,b._calculateWidth()},this.animationHideDuration),this.animationHideDuration=d},expandAll:function(){var b=this;this.isUpdating=!0;var c=this.animationShowDuration;this.animationShowDuration=0,a.each(this.items,function(){var a=this;a.hasItems&&b._expandItem(b,a)}),setTimeout(function(){b.isUpdating=!1,b._calculateWidth()},this.animationShowDuration),this.animationShowDuration=c},collapseItem:function(b){if(null==b)return!1;void 0!=b.treeInstance&&(b=b.element);var c=this;return a.each(this.items,function(){var a=this;if(1==a.isExpanded&&a.element==b)return c._collapseItem(c,a),!1}),!0},expandItem:function(b){if(null==b)return!1;void 0!=b.treeInstance&&(b=b.element);var c=this;return a.each(c.items,function(){var a=this;0!=a.isExpanded||a.element!=b||a.disabled||a.locked||(c._expandItem(c,a),a.parentElement&&c.expandItem(a.parentElement))}),!0},_getClosedSubtreeOffset:function(b){var c=a(b.subtreeElement),d=-c.outerHeight(),e=-c.outerWidth();return e=0,{left:e,top:d}},_collapseItem:function(b,c,d,e){if(null==b||null==c)return!1;if(c.disabled)return!1;if(b.disabled)return!1;if(b.locked)return!1;var f=a(c.subtreeElement),g=this._getClosedSubtreeOffset(c),h=(g.top,g.left,a(c.element),b.animationHideDelay);h=0,null!=f.data("timer").show&&(clearTimeout(f.data("timer").show),f.data("timer").show=null);var i=function(){if(c.isExpanded=!1,b.checkboxes){var d=f.find(".chkbox");d.stop(),d.css("opacity",1),f.find(".chkbox").animate({opacity:0},50)}var e=a(c.arrow);b._arrowStyle(e,"",c.isExpanded),f.slideUp(b.animationHideDuration,function(){c.isCollapsing=!1,b._calculateWidth();var d=a(c.arrow);b._arrowStyle(d,"",c.isExpanded),f.hide(),b._raiseEvent("1",{element:c.element})})};h>0?f.data("timer").hide=setTimeout(function(){i()},h):i()},_expandItem:function(b,c){if(null==b||null==c)return!1;if(c.isExpanded)return!1;if(c.locked)return!1;if(c.disabled)return!1;if(b.disabled)return!1;var d=a(c.subtreeElement);null!=d.data("timer")&&null!=d.data("timer").hide&&clearTimeout(d.data("timer").hide);var e=(a(c.element),0);if(parseInt(d.css("top"))==e)return void(c.isExpanded=!0);var f=a(c.arrow);if(b._arrowStyle(f,"",c.isExpanded),b.checkboxes){var g=d.find(".chkbox");g.stop(),g.css("opacity",0),g.animate({opacity:1},b.animationShowDuration)}if(d.slideDown(b.animationShowDuration,b.easing,function(){var d=a(c.arrow);c.isExpanded=!0,b._arrowStyle(d,"",c.isExpanded),c.isExpanding=!1,b._raiseEvent("0",{element:c.element}),b._calculateWidth()}),b.checkboxes&&(b._updateCheckItemLayout(c),c.subtreeElement)){var h=a(c.subtreeElement).find("li");a.each(h,function(){var a=b.getItem(this);null!=a&&b._updateCheckItemLayout(a)})}},_calculateWidth:function(){var b=this,c=this.checkboxes?20:0,d=0;if(!this.isUpdating){if(a.each(this.items,function(){var b=a(this.element).height();if(0!=b){var e=a(this.titleElement).outerWidth()+10+c+20*(1+this.level);if(d=Math.max(d,e),this.hasItems){var f=parseInt(a(this.titleElement).css("padding-top"));isNaN(f)&&(f=0),f=2*f,f+=2;var g=(f+a(this.titleElement).height())/2-8.5;a.jqx.browser.msie&&a.jqx.browser.version<9?a(this.arrow).css("margin-top","3px"):parseInt(g)>=0&&a(this.arrow).css("margin-top",parseInt(g)+"px")}}}),this.toggleIndicatorSize>16&&(d=d+this.toggleIndicatorSize-16),b.panel)if(d>this.host.width()){var e=d-this.host.width(),f="hidden"!==b.panel.jqxPanel("vScrollBar").css("visibility")?10:0;e+=f,b.panel.jqxPanel({horizontalScrollBarMax:e})}else b.panel.jqxPanel({horizontalScrollBarMax:0});this.host.find("ul:first").width(d);var g=this.host.width()-30;g>0&&this.host.find("ul:first").css("min-width",g),b.panel&&b.panel.jqxPanel("_arrange")}},_arrowStyle:function(a,b,c){var d=this;if(a.length>0){a.removeClass();var e="";"hover"==b&&(e="-"+b);var f=c?"-expand":"-collapse",g="jqx-tree-item-arrow"+f+e;if(a.addClass(d.toThemeProperty(g)),!this.rtl){var f=c?"-down":"-right";a.addClass(d.toThemeProperty("jqx-icon-arrow"+f))}if(this.rtl){a.addClass(d.toThemeProperty(g+"-rtl"));var f=c?"-down":"-left";a.addClass(d.toThemeProperty("jqx-icon-arrow"+f))}}},_initialize:function(b,c){var d=this;this.host.addClass(d.toThemeProperty("jqx-widget")),this.host.addClass(d.toThemeProperty("jqx-widget-content")),this.host.addClass(d.toThemeProperty("jqx-tree")),this._updateDisabledState();var e=a.jqx.browser.msie&&a.jqx.browser.version<8;
a.each(this.items,function(){var b=this;$element=a(b.element);var c=null;if(d.checkboxes&&!b.hasItems&&b.checkBoxElement&&a(b.checkBoxElement).css("margin-left","0px"),e)!b.hasItems&&a(b.element).find("ul").length>0&&a(b.element).find("ul").remove();else{if(!b.hasItems){d.rtl?b.element.style.marginRight=parseInt(d.toggleIndicatorSize)+"px":b.element.style.marginLeft=parseInt(d.toggleIndicatorSize)+"px";var f=a(b.arrow);return f.length>0&&(f.remove(),b.arrow=null),!0}d.rtl?b.element.style.marginRight="0px":b.element.style.marginLeft="0px"}var f=a(b.arrow);f.length>0&&f.remove(),c=a('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),c.prependTo($element),d.rtl?c.css("float","right"):c.css("float","left"),c.css("clear","both"),c.width(d.toggleIndicatorSize),d._arrowStyle(c,"",b.isExpanded);var g=parseInt(a(this.titleElement).css("padding-top"));isNaN(g)&&(g=0),g=2*g,g+=2;var h=(g+a(this.titleElement).height())/2-8.5;a.jqx.browser.msie&&a.jqx.browser.version<9?c.css("margin-top","3px"):parseInt(h)>=0&&c.css("margin-top",parseInt(h)+"px"),$element.addClass(d.toThemeProperty("jqx-disableselect")),c.addClass(d.toThemeProperty("jqx-disableselect"));var i="click",j=d.isTouchDevice();j&&(i=a.jqx.mobile.getTouchEventName("touchend")),d.addHandler(c,i,function(){return b.isExpanded?d._collapseItem(d,b):d._expandItem(d,b),!1}),d.addHandler(c,"selectstart",function(){return!1}),d.addHandler(c,"mouseup",function(){if(!j)return!1}),b.hasItems=a(b.element).find("li").length>0,b.arrow=c[0],b.hasItems||c.css("visibility","hidden"),$element.css("float","none")})},_getOffset:function(b){var c=a(window).scrollTop(),d=a(window).scrollLeft(),e=a.jqx.mobile.isSafariMobileBrowser(),f=a(b).offset(),g=f.top,h=f.left;return null!=e&&e?{left:h-d,top:g-c}:a(b).offset()},_renderHover:function(b,c,d){var e=this;if(!d){var f=a(c.titleElement);e.addHandler(f,"mouseenter",function(){c.disabled||!e.enableHover||e.disabled||(f.addClass(e.toThemeProperty("jqx-fill-state-hover")),f.addClass(e.toThemeProperty("jqx-tree-item-hover")))}),e.addHandler(f,"mouseleave",function(){c.disabled||!e.enableHover||e.disabled||(f.removeClass(e.toThemeProperty("jqx-fill-state-hover")),f.removeClass(e.toThemeProperty("jqx-tree-item-hover")))})}},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(null==this.input){var b=this.host.attr("name");b&&this.host.attr("name",""),this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b),this._updateInputSelection()}},render:function(){this._updateItemsNavigation(),this._render()},_render:function(b,c){if(a.jqx.browser.msie&&a.jqx.browser.version<8){var d=this;a.each(this.items,function(){var b=a(this.element),c=b.parent(),d=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;b.css("min-width",d);var e=parseInt(c.css("min-width"));isNaN(e)&&(e=0);var f=b.css("min-width");e<parseInt(b.css("min-width"))&&c.css("min-width",f),this.titleElement[0].style.width=null})}var d=this;a.data(d.element,"animationHideDelay",d.animationHideDelay),a.data(document.body,"treeel",this),this._initialize();var e=this.isTouchDevice();if(e&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),void 0!=b&&1!=b||a.each(this.items,function(){d._updateItemEvents(d,this)}),this.allowDrag&&this._enableDragDrop&&(void 0==c||1==c)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var f=this.host.find("div:first"),g="fixed";null!=this.height&&"auto"!=this.height||(g="verticalwrap"),null!=this.width&&"auto"!=this.width||(g="fixed"==g?"horizontalwrap":"wrap"),f.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:g}),a.jqx.browser.msie&&a.jqx.browser.version<8&&f.jqxPanel("content").css("left","0px"),f.data({nestedWidget:!0}),(null==this.height||null!=this.height&&this.height.toString().indexOf("%")!=-1)&&this.isTouchDevice()&&(this.removeHandler(f,a.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(f,a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(f,a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var h=a.data(f[0],"jqxPanel").instance;null!=h&&(this.vScrollInstance=h.vScrollInstance,this.hScrollInstance=h.hScrollInstance),this.panelInstance=h,a.jqx.browser.msie&&a.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),f[0].className="",this.panel=f}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(a){}},_updateItemEvents:function(b,c){var d=this.isTouchDevice();d&&(this.toggleMode=a.jqx.mobile.getTouchEventName("touchend"));var e=a(c.element);b.enableRoundedCorners&&e.addClass(b.toThemeProperty("jqx-rc-all"));var f=d?a.jqx.mobile.getTouchEventName("touchend"):"mousedown";b.touchMode===!0&&b.removeHandler(a(c.checkBoxElement),"mousedown"),b.removeHandler(a(c.checkBoxElement),f),b.addHandler(a(c.checkBoxElement),f,function(a){if(!b.disabled&&!this.treeItem.disabled){if(b.beforeSelect){var c=b.beforeSelect(this.treeItem.checked,this.treeItem,this.treeItem.checkBoxElement,b.source);if(c===!1)return}b.hasThreeStates&&b.recalculateParentSelection?this.treeItem.checked?this.treeItem.checked=null:null===this.treeItem.checked?this.treeItem.checked=!1:this.treeItem.checked=!0:this.treeItem.checked=!this.treeItem.checked,b.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),b.hasThreeStates&&b.checkItems(this.treeItem,this.treeItem)}return!1});var g=a(c.titleElement);b.removeHandler(e);var h=this.allowDrag&&this._enableDragDrop;h?(b.removeHandler(g,"mousedown.item"),b.removeHandler(g,"click"),b.removeHandler(g,"dblclick"),b.removeHandler(g,"mouseenter"),b.removeHandler(g,"mouseleave")):b.removeHandler(g),b._renderHover(e,c,d);var i=a(c.subtreeElement);if(i.length>0){var j=c.isExpanded?"block":"none";i.css({overflow:"hidden",display:j}),i.data("timer",{})}b.addHandler(g,"selectstart",function(a){return!1}),a.jqx.browser.opera&&b.addHandler(g,"mousedown.item",function(a){return!1}),"click"!=b.toggleMode&&b.addHandler(g,"click",function(a){b.selectItem(c.element,"mouse"),null!=b.panel&&b.panel.jqxPanel({focused:!0}),g.focus(),b._raiseEvent("9",{element:c.element})}),b.addHandler(g,b.toggleMode,function(a){if(i.length>0&&clearTimeout(i.data("timer").hide),null!=b.panel&&b.panel.jqxPanel({focused:!0}),b.selectItem(c.element,"mouse"),void 0==c.isExpanding&&(c.isExpanding=!1),void 0==c.isCollapsing&&(c.isCollapsing=!1),i.length>0)return c.isExpanded?0==c.isCollapsing&&(c.isCollapsing=!0,b._collapseItem(b,c,!0)):0==c.isExpanding&&(c.isExpanding=!0,b._expandItem(b,c)),!1})},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?b=!0:0==this.touchMode&&(b=!1),this._isTouchDevice=b,b},createID:function(){return a.jqx.utilities.createId()},createTree:function(b){if(null!=b){var c=this,d=a(b).find("li");this.items=new Array,this.itemMapping=new Array,a(b).addClass(c.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&a(b).addClass(c.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||a.jqx.browser.msie&&a.jqx.browser.version<8)&&(this._measureItem=a("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),a(document.body).append(this._measureItem)),a.jqx.browser.msie&&a.jqx.browser.version<8;for(var e=0;e<d.length;e++)this._createItem(d[e]);(this.rtl||a.jqx.browser.msie&&a.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(b){var c=this;this.checkboxes&&a.each(this.items,function(){this.level!=b&&void 0!=b||c._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(b){if(this.checkboxes&&"none"!=a(b.titleElement).css("display")){var c=a(b.checkBoxElement),d=a(b.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;c.css("margin-top",d),this.rtl||(a.jqx.browser.msie&&a.jqx.browser.version<8?b.titleElement.css("margin-left",parseInt(this.checkSize)+25):b.hasItems&&c.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var b=this;b.hasThreeStates&&b.recalculateParentSelection?a.each(this.items,function(){b._updateCheckState(this),this.hasItems||this.nextItem&&(!this.nextItem||this.nextItem.parentId==this.parentId)||b.checkItems(this,this)}):b.hasThreeStates?a.each(this.items,function(){b._updateCheckState(this)}):a.each(this.items,function(){null==this.checked&&b.checkItem(this.element,!1,"tree")})},_updateCheckState:function(b){if(null!=b&&void 0!=b){var c=this,d=0,e=!1,f=0,g=a(b.element).find("li");f=g.length,b.checked&&f>0&&a.each(g,function(a){var b=c.itemMapping["id"+this.id].item,d=b.element.getAttribute("item-checked");void 0!=d&&null!=d&&"true"!=d&&1!=d||c.checkItem(b.element,!0,"tree")}),a.each(g,function(a){var b=c.itemMapping["id"+this.id].item;0!=b.checked&&(null==b.checked&&(e=!0),d++)}),f>0&&(d==f?this.checkItem(b.element,!0,"tree"):d>0?this.checkItem(b.element,null,"tree"):this.checkItem(b.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var b=this.host.find("ul:first"),c=a(b).find("li"),d=0;d<c.length;d++){var e=c[d];if(this.itemMapping["id"+e.id]){var f=this.itemMapping["id"+e.id].item;if(!f)continue;f.prevItem=null,f.nextItem=null,d>0&&this.itemMapping["id"+c[d-1].id]&&(f.prevItem=this.itemMapping["id"+c[d-1].id].item),d<c.length-1&&this.itemMapping["id"+c[d+1].id]&&(f.nextItem=this.itemMapping["id"+c[d+1].id].item)}}},_applyTheme:function(b,c){var d=this;this.host.removeClass("jqx-tree-"+b),this.host.removeClass("jqx-widget-"+b),this.host.removeClass("jqx-widget-content-"+b),this.host.addClass(d.toThemeProperty("jqx-tree")),this.host.addClass(d.toThemeProperty("jqx-widget"));var e=this.host.find("ul:first");a(e).removeClass(d.toThemeProperty("jqx-tree-dropdown-root-"+b)),a(e).addClass(d.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(a(e).removeClass(d.toThemeProperty("jqx-tree-dropdown-root-rtl-"+b)),a(e).addClass(d.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var f=a(e).find("li"),g=0;g<f.length;g++){var h=f[g];a(h).children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return a(this).removeClass(d.toThemeProperty("jqx-tree-dropdown-"+b)),a(this).addClass(d.toThemeProperty("jqx-tree-dropdown")),d.rtl&&(a(this).removeClass(d.toThemeProperty("jqx-tree-dropdown-rtl-"+b)),a(this).addClass(d.toThemeProperty("jqx-tree-dropdown-rtl"))),!1})}a.each(this.items,function(){var e=this,f=a(e.element);f.removeClass(d.toThemeProperty("jqx-tree-item-li-"+b)),f.addClass(d.toThemeProperty("jqx-tree-item-li")),this.rtl&&(f.removeClass(d.toThemeProperty("jqx-tree-item-li-"+b)),f.addClass(d.toThemeProperty("jqx-tree-item-li"))),a(e.titleElement).removeClass(d.toThemeProperty("jqx-tree-item-"+b)),a(e.titleElement).addClass(d.toThemeProperty("jqx-tree-item")),a(e.titleElement).removeClass("jqx-item-"+b),a(e.titleElement).addClass(d.toThemeProperty("jqx-item"));var g=a(e.arrow);g.length>0&&d._arrowStyle(g,"",e.isExpanded),e.checkBoxElement&&a(e.checkBoxElement).jqxCheckBox({theme:c}),d.enableRoundedCorners&&(f.removeClass("jqx-rc-all-"+b),f.addClass(d.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:c})},_refreshMapping:function(b,c,d){for(var e=this.host.find("li"),f=new Array,g=new Array,h=a.data(document.body,"treeItemsStorage"),i=this,j=0;j<e.length;j++){var k=e[j],l=a(k),m=h[k.id];if(null!=m){g[g.length]=m,void 0!=b&&1!=b||this._updateItemEvents(this,m),m.level=l.parents("li").length,m.treeInstance=this;var n=null,o=null;m.titleElement[0].className.indexOf("jqx-fill-state-pressed")!=-1&&(a(m.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),a(m.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")));var p=l.children();p.each(function(){if("ul"==this.tagName||"UL"==this.tagName)return m.subtreeElement=this,a(this).addClass(i.toThemeProperty("jqx-tree-dropdown")),i.rtl&&a(this).addClass(i.toThemeProperty("jqx-tree-dropdown-rtl")),!1});var q=l.parents();q.each(function(){if("li"==this.tagName||"LI"==this.tagName)return o=this.id,n=this,!1}),m.parentElement=n,m.parentId=o,m.hasItems=a(m.element).find("li").length>0,null!=m&&(f[j]={element:k,item:m},f["id"+k.id]=f[j])}}if(i.$dataBinders$&&i.$dataBinders$.source){d=d||[];for(var r=0;r<d.length;r++){var m,s=d[r],t=s.action,u=s.changedItem,v=s.extraItem,w={};switch("update"!=t&&"dragAfter"!=t&&"dragBefore"!=t||(m=this.itemMapping["id"+u.id].item,w={id:m.id,parentid:m.parentId,label:m.label,value:m.value}),t){case"update":i.$dataBinders$.source.updateItem(w,u.id);break;case"add":i.$dataBinders$.source.addItem(u);break;case"addNext":i.$dataBinders$.source.addItem(u,v,!1);break;case"addBefore":i.$dataBinders$.source.addItem(u,v,!0);break;case"delete":i.$dataBinders$.source.deleteItem(u.id);break;case"dragAfter":i.$dataBinders$.source.changeItemPosition(w,v,!1);break;case"dragBefore":i.$dataBinders$.source.changeItemPosition(w,v,!0)}}}this.itemMapping=f,this.items=g},_createItem:function(b){if(null!=b&&void 0!=b){var c=b.id;c||(c=this.createID());var d=b,e=a(b);d.id=c;var f=a.data(document.body,"treeItemsStorage");void 0==f&&(f=new Array);var g=this.items.length;this.items[g]=new a.jqx._jqxTree.jqxTreeItem,this.treeElements[c]=this.items[g],f[d.id]=this.items[g],a.data(document.body,"treeItemsStorage",f),g=this.items.length;var h=0,i=this,j=null;e.attr("role","treeitem"),e.children().each(function(){if("ul"==this.tagName||"UL"==this.tagName)return i.items[g-1].subtreeElement=this,a(this).addClass(i.toThemeProperty("jqx-tree-dropdown")),i.rtl&&(a(this).addClass(i.toThemeProperty("jqx-tree-dropdown-rtl")),a(this).css("clear","both")),!1}),e.parents().each(function(){if("li"==this.tagName||"LI"==this.tagName)return h=this.id,j=this,!1});var k=b.getAttribute("item-expanded");k=null!=k&&void 0!=k&&("true"==k||1==k),d.removeAttribute("item-expanded");var l=b.getAttribute("item-locked");l=null!=l&&void 0!=l&&("true"==l||1==l),d.removeAttribute("item-locked");var m=b.getAttribute("item-selected");m=null!=m&&void 0!=m&&("true"==m||1==m),d.removeAttribute("item-selected");var n=b.getAttribute("item-disabled");n=null!=n&&void 0!=n&&("true"==n||1==n),d.removeAttribute("item-disabled");var o=b.getAttribute("item-checked");o="null"===o?null:void 0!=o&&("true"==o||1==o);var p=b.getAttribute("item-title");(null==p||void 0==p||"true"!=p&&1!=p)&&(p=!1),d.removeAttribute("item-title");var q=b.getAttribute("item-icon"),r=b.getAttribute("item-iconsize"),s=b.getAttribute("item-label"),t=b.getAttribute("item-value");d.removeAttribute("item-icon"),d.removeAttribute("item-iconsize"),d.removeAttribute("item-label"),d.removeAttribute("item-value");var u=this.items[g-1];u.id=c,void 0==u.value&&(this._valueList&&this._valueList[c]?u.value=this._valueList[c]:u.value=t),u.icon=q,u.iconsize=r,u.parentId=h,u.disabled=n,u.parentElement=j,u.element=b,u.locked=l,u.selected=m,u.checked=o,u.isExpanded=k,u.treeInstance=this,this.itemMapping[g-1]={element:d,item:u},this.itemMapping["id"+d.id]=this.itemMapping[g-1];var v=!1,w=!1;if(v=!1,this.rtl&&(a(u.element).css("float","right"),a(u.element).css("clear","both")),!v||!w)if(a(d.firstChild).length>0){if(u.icon){var r=u.iconsize;r||(r=16);var q=a('<img width="'+r+'" height="'+r+'" style="float: left;" class="itemicon" src="'+u.icon+'"/>');a(d).prepend(q),q.css("margin-right","4px"),this.rtl&&(q.css("margin-right","0px"),q.css("margin-left","4px"),q.css("float","right"))}var x=d.innerHTML.indexOf("<ul");if(x==-1&&(x=d.innerHTML.indexOf("<UL")),x==-1)u.originalTitle=d.innerHTML,d.innerHTML='<div style="display: inline-block;">'+d.innerHTML+"</div>",u.titleElement=a(a(d)[0].firstChild);else{var y=d.innerHTML.substring(0,x);y=a.trim(y),u.originalTitle=y,y=a('<div style="display: inline-block;">'+y+"</div>");var z=a(d).find("ul:first");z.remove(),d.innerHTML="",a(d).prepend(y),a(d).append(z),u.titleElement=y,this.rtl&&(y.css("float","right"),z.css("padding-right","10px"))}if(a.jqx.browser.msie&&a.jqx.browser.version<8){a(a(d)[0].firstChild).css("display","inline-block");var A=!1;0==this._measureItem.parents().length&&(a(document.body).append(this._measureItem),A=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=a(u.titleElement).text();var B=this._measureItem.width();u.icon&&(B+=20),a(a(item.titleElement).find("img")).length>0&&(B+=20),a(a(d)[0].firstChild).css("max-width",B+"px"),A&&this._measureItem.remove()}}else u.originalTitle="Item",a(d).append(a("<span>Item</span>")),a(d.firstChild).wrap("<span/>"),u.titleElement=a(d)[0].firstChild,a.jqx.browser.msie&&a.jqx.browser.version<8&&a(d.firstChild).css("display","inline-block");var C=a(u.titleElement),D=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&C.addClass("draggable"),null==s||void 0==s?(s=u.titleElement,u.label=a.trim(C.text())):u.label=s,a(d).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&a(d).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),D+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(D+=" "+this.toThemeProperty("jqx-tree-item-rtl")),C[0].className=C[0].className+" "+D,u.level=a(b).parents("li").length,u.hasItems=a(b).find("li").length>0,this.rtl&&u.parentElement&&!this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var E=a('<div style="overflow: visible; position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');if(E.width(parseInt(this.checkSize)),E.height(parseInt(this.checkSize)),a(d).prepend(E),this.rtl&&(E.css("float","right"),E.css("position","static")),E.jqxCheckBox({hasThreeStates:this.hasThreeStates,hasInput:!1,checked:u.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:n,theme:this.theme}),this.rtl){var F=5;u.parentElement?E.css("margin-right",F+5+"px"):E.css("margin-right",F+"px")}else C.css("margin-left",parseInt(this.checkSize)+6);u.checkBoxElement=E[0],E[0].treeItem=u;var G=C.outerHeight()/2-1-parseInt(this.checkSize)/2;E.css("margin-top",G),a.jqx.browser.msie&&a.jqx.browser.version<8?(C.css("width","1%"),C.css("margin-left",parseInt(this.checkSize)+25)):u.hasItems&&(this.rtl||E.css("margin-left",this.toggleIndicatorSize))}else a.jqx.browser.msie&&a.jqx.browser.version<8&&C.css("width","1%");n&&this.disableItem(u.element),m&&this.selectItem(u.element),a.jqx.browser.msie&&a.jqx.browser.version<8&&(a(d).css("margin","0px"),a(d).css("padding","0px"))}},destroy:function(){var b=this.host.find(".draggable");b.length>0&&b.jqxDragDrop("destroy"),this.removeHandler(this.host,"keydown"),a.removeData(document.body,"treeItemsStorage"),a.removeData(document.body,"treeel"),this.removeHandler(a(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,a.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var c=this,d=this.isTouchDevice();a.each(this.items,function(){var b=this,e=a(this.element),f=d?a.jqx.mobile.getTouchEventName("touchend"):"click";c.removeHandler(a(b.checkBoxElement),f);var g=a(b.titleElement);c.removeHandler(e);var h=c.allowDrag&&c._enableDragDrop;h?(c.removeHandler(g,"mousedown.item"),c.removeHandler(g,"click"),c.removeHandler(g,"dblclick"),c.removeHandler(g,"mouseenter"),c.removeHandler(g,"mouseleave")):c.removeHandler(g),$arrowSpan=a(b.arrow),$arrowSpan.length>0&&(c.removeHandler($arrowSpan,f),c.removeHandler($arrowSpan,"selectstart"),c.removeHandler($arrowSpan,"mouseup"),d||(c.removeHandler($arrowSpan,"mouseenter"),c.removeHandler($arrowSpan,"mouseleave")),c.removeHandler(g,"selectstart")),a.jqx.browser.opera&&c.removeHandler(g,"mousedown.item"),"click"!=c.toggleMode&&c.removeHandler(g,"click"),c.removeHandler(g,c.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},parentCheckboxHandler:function(a,b,c,d){b>0&&this.recalculateParentSelection?this.recalculateParentSelection(a,b,c,d):this._defaultCheckboxHandler(a,b,c,d)},_defaultCheckboxHandler:function(a,b,c,d){c===b?this.checkItem(a,!0,"tree"):0===c&&0===d?this.checkItem(a,!1,"tree"):this.checkItem(a,null,"tree")},_raiseEvent:function(b,c){void 0==c&&(c={owner:null});var d=this.events[b];args=c,args.owner=this;var e=new a.Event(d);e.owner=this,e.args=args;var f=this.host.trigger(e);return f},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("submitCheckedItems"==c&&b._updateInputSelection(),"disabled"==c&&b._updateDisabledState(),"theme"==c&&b._applyTheme(d,e),"keyboardNavigation"==c&&(b.enableKeyboardNavigation=e),("width"==c||"height"==c)&&(b.refresh(),b._initialize(),b._calculateWidth(),b.host.jqxPanel)){var f="fixed";null!=this.height&&"auto"!=this.height||(f="verticalwrap"),null!=this.width&&"auto"!=this.width||(f="fixed"==f?"horizontalwrap":"wrap"),b.panel.jqxPanel({sizeMode:f})}if("touchMode"==c&&(b._isTouchDevice=null,e&&(b.enableHover=!1),b._render()),("source"==c||"checkboxes"==c)&&null!=this.source){var g=[];a.each(b.items,function(){this.isExpanded&&(g[g.length]={label:this.label,level:this.level})});var h=b.loadItems(b.source);b.host.jqxPanel?b.panel.jqxPanel("setcontent",h):b.element.innerHTML=h;var i=b.disabled,j=b.host.find("ul:first");j.length>0&&(b.createTree(j[0]),b._render());var k=b,l=k.animationShowDuration;k.animationShowDuration=0,b.disabled=!1,g.length>0&&a.each(b.items,function(){for(var a=0;a<g.length;a++)if(g[a].label==this.label&&g[a].level==this.level){var b=k.getItem(this.element);k._expandItem(k,b)}}),b.disabled=i,k.animationShowDuration=l}"hasThreeStates"==c&&(b._render(),b._updateCheckStates()),"toggleIndicatorSize"==c&&(b._updateCheckLayout(),b._render())}}})}(jqxBaseFramework),function(a){a.jqx._jqxTree.jqxTreeItem=function(a,b,c){var d={label:null,id:a,parentId:b,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null};return d}}(jqxBaseFramework,A),function(a){a.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),a.extend(a.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base&&(this.base.treeGrid=this,this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"});var b={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1};return this===a.jqx._jqxTreeGrid.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(a){this.theme=this.base.theme},destroy:function(){var a=this.base;a.destroy()},deleteRow:function(a){var b=this.base;b.deleterowbykey(a)},updateRow:function(a,b){var c=this.base;c.updaterowbykey(a,b)},setCellValue:function(a,b,c){var d=this.base;d.setCellValueByKey(a,b,c)},getCellValue:function(a,b){var c=this.base;return c.getCellValueByKey(a,b)},lockRow:function(a){var b=this.base;b.lockrowbykey(a)},unlockRow:function(a){var b=this.base;b.unlockrowbykey(a)},selectRow:function(a){var b=this.base;b.selectrowbykey(a)},unselectRow:function(a){var b=this.base;b.unselectrowbykey(a)},ensureRowVisible:function(a){var b=this.base;b.ensurerowvisiblebykey(a)},beginCellEdit:function(a,b){var c=this.base,d=c.getColumn(b);c.beginroweditbykey(a,d)},beginRowEdit:function(a){var b=this.base;b.beginroweditbykey(a)},endCellEdit:function(a,b,c){var d=this.base;d.endroweditbykey(a,c)},endRowEdit:function(a,b){var c=this.base;c.endroweditbykey(a,b)},_showLoadElement:function(){var b=this.base;"block"==b.host.css("display")&&b.autoShowLoadElement&&(a(b.dataloadelement).css("visibility","visible"),a(b.dataloadelement).css("display","block"),b.dataloadelement.width(b.host.width()),b.dataloadelement.height(b.host.height()))},_hideLoadElement:function(){var b=this.base;"block"==b.host.css("display")&&b.autoShowLoadElement&&(a(b.dataloadelement).css("visibility","hidden"),a(b.dataloadelement).css("display","none"),b.dataloadelement.width(b.host.width()),b.dataloadelement.height(b.host.height()))},getKey:function(a){if(a)return a.uid},getRows:function(){var a=this.base;return a.source.hierarchy&&0!=a.source.hierarchy.length?a.source.hierarchy:a.source.records},getCheckedRows:function(){var b=this.base,c=b._names(),d=new Array,e=function(f,g){if(g)for(var h=0;h<g.length;h++)if(g[h]){var i=a.extend({},g[h]),j=b.rowinfo[g[h].uid];j&&j[c.checked]?f.push(i):i[c.checked]&&f.push(i),e(d,g[h].records)}};return e(d,b.dataViewRecords),d},getRow:function(a){var b=this.base,c=b.source.records;if(b.source.hierarchy){var d=function(b){for(var c=0;c<b.length;c++)if(b[c]){if(b[c].uid==a)return b[c];if(b[c].records){var e=d(b[c].records);if(e)return e}}},e=d(b.source.hierarchy);return e}for(var f=0;f<c.length;f++)if(c[f]&&c[f].uid==a)return c[f]},_renderrows:function(){var b=this.base,c=this;if(!b._loading&&!b._updating){var d=b._names();if(0===b.source.hierarchy.length&&!b.loadingFailed&&this.virtualModeCreateRecords){var e=function(a){if(a===!1||a&&0==a.length)return b._loading=!1,b.loadingFailed=!0,b.source.hierarchy=new Array,c._hideLoadElement(),b._renderrows(),b._updateScrollbars(),void b._arrange();for(var d=0;d<a.length;d++)a[d].level=0,c.virtualModeRecordCreating(a[d]),b.rowsByKey[a[d].uid]=a[d];b.source.hierarchy=a,b.source._source.hierarchy||(b.source._source.hierarchy={}),b._loading=!1,c._hideLoadElement(),b._renderrows(),b._updateScrollbars(),b._arrange()};b._loading=!0,this.virtualModeCreateRecords(null,e),this._showLoadElement()}b.rendering&&b.rendering();var f=0;b.table[0].rows=new Array;var g=b.toTP("jqx-cell")+" "+b.toTP("jqx-widget-content")+" "+b.toTP("jqx-item");b.rtl&&(g+=" "+b.toTP("jqx-cell-rtl"));var h=b.columns.records.length,i=a.jqx.browser.msie&&a.jqx.browser.version<8;i&&b.host.attr("hideFocus","true");var j=new Array,k=function(a,c){for(var e=0;e<a.length;e++){var f=a[e];if(f){var g=b.rowinfo[f.uid]?b.rowinfo[f.uid].expanded:f.expanded;if(0==b.dataview.filters.length&&(f._visible=!0),f._visible!==!1)if(g||f[d.leaf]){if(c.push(f),f.records&&f.records.length>0)for(var h=k(f.records,new Array),i=0;i<h.length;i++)c.push(h[i])}else c.push(f)}}return c},l=0===b.source.hierarchy.length?b.source.records:b.source.hierarchy;if(l=b.dataview.evaluate(l),b.dataViewRecords=l,this.showSubAggregates){var m=function(b,c){0!=b&&c.length>0&&(c[c.length-1]?c[c.length-1].aggregate||c.push({_visible:!0,level:b,siblings:c,aggregate:!0,leaf:!0}):a.jqx.browser.msie&&a.jqx.browser.version<9&&c[c.length-2]&&(c[c.length-2].aggregate||c.push({_visible:!0,level:b,siblings:c,aggregate:!0,leaf:!0})));for(var d=0;d<c.length;d++)c[d]&&c[d].records&&m(b+1,c[d].records)};m(0,l)}var n=function(a){for(var c=0,e=new Array,f=0;f<a.length;f++){var g=a[f];if(0==g[d.level]&&c++,c>b.dataview.pagesize*b.dataview.pagenum&&c<=b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize&&e.push(g),c>b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize)break}return e};if(0===b.source.hierarchy.length){if("all"==b.dataview.pagesize||!b.pageable||b.serverProcessing){var o=l;if(b.pageable&&b.serverProcessing&&l.length>b.dataview.pagesize)var o=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize)}else var o=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize);var j=o}else{var l=k.call(b,l,new Array);if("all"!=b.dataview.pagesize&&b.pageable){var o=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize);"root"==this.pageSizeMode&&(o=n(l))}else var o=l;var j=o,p=b.dataview.pagenum;if(b.updatepagerdetails(),b.dataview.pagenum!=p){if("all"!=b.dataview.pagesize&&b.pageable){var o=l.slice(b.dataview.pagesize*b.dataview.pagenum,b.dataview.pagesize*b.dataview.pagenum+b.dataview.pagesize);"root"==this.pageSizeMode&&(o=n(l))}else var o=l;var j=o}}b.renderedRecords=j;var q=j.length,r=b.tableZIndex,s=0,t=0;if(i)for(var u=0;u<h;u++){var v=b.columns.records[u],w=v.width;w<v.minwidth&&(w=v.minwidth),w>v.maxwidth&&(w=v.maxwidth);var x=a('<table><tr><td role="gridcell" style="max-width: '+w+"px; width:"+w+'px;" class="'+g+'"></td></tr></table>');a(document.body).append(x);var y=x.find("td");s=1+parseInt(y.css("padding-left"))+parseInt(y.css("padding-right")),x.remove();break}for(var z=b.rtl?" "+b.toTP("jqx-grid-table-rtl"):"",A="<table cellspacing='0' class='"+b.toTP("jqx-grid-table")+z+"' id='table"+b.element.id+"'><colgroup>",B="<table cellspacing='0' class='"+b.toTP("jqx-grid-table")+z+"' id='pinnedtable"+b.element.id+"'><colgroup>",C=null,u=0;u<h;u++){var v=b.columns.records[u];if(!v.hidden){C=v;var w=v.width;if(w<v.minwidth&&(w=v.minwidth),w>v.maxwidth&&(w=v.maxwidth),w-=s,w<0&&(w=0),i){var D=w;0==u&&D++,B+="<col style='max-width: "+w+"px; width: "+D+"px;'>",A+="<col style='max-width: "+w+"px; width: "+D+"px;'>"}else B+="<col style='max-width: "+w+"px; width: "+w+"px;'>",A+="<col style='max-width: "+w+"px; width: "+w+"px;'>";t+=w}}A+="</colgroup>",B+="</colgroup>",b._hiddencolumns=!1;var E=!1;if(0===q){var F='<tr role="row">',G=b.host.height();if(b.pageable&&(G-=b.pagerHeight,"both"===b.pagerPosition&&(G-=b.pagerHeight)),G-=b.columnsHeight,b.filterable){var H=b.filter.find(".filterrow"),I=b.filter.find(".filterrow-hidden"),J=1;I.length>0&&(J=0),G-=b.filterHeight+b.filterHeight*H.length*J}b.showstatusbar&&(G-=b.statusBarHeight),b.showAggregates&&(G-=b.aggregatesHeight),G<25&&(G=25),"hidden"!=b.hScrollBar[0].style.visibility&&(G-=b.hScrollBar.outerHeight()),("auto"===b.height||null===b.height||b.autoheight)&&(G=100);var w=b.host.width()+2,x='<td colspan="'+b.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+G+"px; height: "+G+"px;  min-width:"+t+"px; max-width:"+t+"px; width:"+t+"px;",g=b.toTP("jqx-cell")+" "+b.toTP("jqx-grid-cell")+" "+b.toTP("jqx-item");g+=" "+b.toTP("jqx-center-align"),x+='" class="'+g+'">',b._loading||(x+=b.gridlocalization.emptydatastring),x+="</td>",F+=x,A+=F,B+=F,b.table[0].style.width=t+2+"px",f=t}for(var K=b.source._source.hierarchy&&b.source._source.hierarchy.groupingDataFields?b.source._source.hierarchy.groupingDataFields.length:0,L=0;L<j.length;L++){var M=j[L],N=M.uid;K>0&&M[d.level]<K&&(N=M.uid),void 0===M.uid&&(M.uid=b.dataview.generatekey());var F='<tr data-key="'+N+'" role="row" id="row'+L+b.element.id+'">',O='<tr data-key="'+N+'" role="row" id="row'+L+b.element.id+'">';if(M.aggregate)var F='<tr data-role="summaryrow" role="row" id="row'+L+b.element.id+'">',O='<tr data-role="summaryrow" role="row" id="row'+L+b.element.id+'">';var P=0;if(b.rowinfo[N])void 0===b.rowinfo[N].checked&&(b.rowinfo[N].checked=M[d.checked]),void 0===b.rowinfo[N].icon&&(b.rowinfo[N].icon=M[d.icon]),void 0===b.rowinfo[N].aggregate&&(b.rowinfo[N].aggregate=M[d.aggregate]),void 0===b.rowinfo[N].row&&(b.rowinfo[N].row=M),
void 0===b.rowinfo[N].leaf&&(b.rowinfo[N].leaf=M[d.leaf]),void 0===b.rowinfo[N].expanded&&(b.rowinfo[N].expanded=M[d.expanded]);else{var Q=M[d.checked];void 0===Q&&(Q=!1),b.rowinfo[N]={selected:M[d.selected],checked:Q,icon:M[d.icon],aggregate:M.aggregate,row:M,leaf:M[d.leaf],expanded:M[d.expanded]}}var R=b.rowinfo[N];R.row=M,M.originalRecord&&(R.originalRecord=M.originalRecord);for(var S=0,u=0;u<h;u++){var T=b.columns.records[u];(T.pinned||b.rtl&&b.columns.records[h-1].pinned)&&(E=!0);var w=T.width;w<T.minwidth&&(w=T.minwidth),w>T.maxwidth&&(w=T.maxwidth),w-=s,w<0&&(w=0);var g=b.toTP("jqx-cell")+" "+b.toTP("jqx-grid-cell")+" "+b.toTP("jqx-item");T.pinned&&(g+=" "+b.toTP("jqx-grid-cell-pinned")),b.sortcolumn===T.displayfield&&(g+=" "+b.toTP("jqx-grid-cell-sort")),b.altRows&&L%2!=0&&(g+=" "+b.toTP("jqx-grid-cell-alt")),b.rtl&&(g+=" "+b.toTP("jqx-cell-rtl"));var U="";if(K>0&&!i&&!M.aggregate&&M[d.level]<K){U+=' colspan="'+h+'"';for(var D=0,V=0;V<h;V++){var W=b.columns.records[V];if(!W.hidden){var X=W.width;X<W.minwidth&&(w=W.minwidth),X>W.maxwidth&&(w=W.maxwidth),X-=s,X<0&&(X=0),D+=X}}w=D}var x='<td role="gridcell"'+U+' style="max-width:'+w+"px; width:"+w+"px;",Y='<td role="gridcell"'+U+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+w+"px; width:"+w+"px;";u==h-1&&1==h&&(x+="border-right-color: transparent;",Y+="border-right-color: transparent;"),K>0&&M[d.level]<K&&!M.aggregate?b.rtl&&(g+=" "+b.toTP("jqx-right-align")):"left"!=T.cellsalign&&(g+="right"===T.cellsalign?" "+b.toTP("jqx-right-align"):" "+b.toTP("jqx-center-align")),R&&(R.selected&&b.editKey!==N&&"none"!==b.selectionMode&&(g+=" "+b.toTP("jqx-grid-cell-selected"),g+=" "+b.toTP("jqx-fill-state-pressed")),R.locked&&(g+=" "+b.toTP("jqx-grid-cell-locked")),R.aggregate&&(g+=" "+b.toTP("jqx-grid-cell-pinned"))),T.hidden?(x+="display: none;",Y+="display: none;",b._hiddencolumns=!0):(0!=S||b.rtl?(x+="border-right-width: 0px;",Y+="border-right-width: 0px;"):(x+="border-left-width: 0px;",Y+="border-left-width: 0px;"),S++,P+=s+w),T.pinned&&(x+="pointer-events: auto;",Y+="pointer-events: auto;");var Z="";if(0!=b.source.hierarchy.length&&M.records&&(!M.records||0!==M.records.length)||this.virtualModeCreateRecords||(R.leaf=!0),M.records&&M.records.length>0&&(R.leaf=!1),b.dataview.filters.length>0&&M.records&&M.records.length>0){for(var $=!1,_=0;_<M.records.length;_++)if(M.records[_]._visible!==!1&&void 0==M.records[_].aggregate){$=!0;break}$?R.leaf=!1:R.leaf=!0}R&&!R.leaf&&(R.expanded?(Z+=b.toTP("jqx-tree-grid-expand-button")+" ",Z+=b.rtl?b.toTP("jqx-grid-group-expand-rtl"):b.toTP("jqx-grid-group-expand"),Z+=" "+b.toTP("jqx-icon-arrow-down")):(Z+=b.toTP("jqx-tree-grid-collapse-button")+" ",b.rtl?(Z+=b.toTP("jqx-grid-group-collapse-rtl"),Z+=" "+b.toTP("jqx-icon-arrow-left")):(Z+=b.toTP("jqx-grid-group-collapse"),Z+=" "+b.toTP("jqx-icon-arrow-right")))),(!b.autoRowHeight||1===S||b.autoRowHeight&&!T.autoCellHeight)&&(g+=" "+b.toTP("jqx-grid-cell-nowrap"));var aa=b._getcellvalue(T,R.row);if(K>0&&!M.aggregate&&M[d.level]<K&&(aa=M.label),""!=T.cellsFormat&&a.jqx.dataFormat&&(a.jqx.dataFormat.isDate(aa)?aa=a.jqx.dataFormat.formatdate(aa,T.cellsFormat,b.gridlocalization):(a.jqx.dataFormat.isNumber(aa)||!isNaN(parseFloat(aa))&&isFinite(aa))&&(aa=a.jqx.dataFormat.formatnumber(aa,T.cellsFormat,b.gridlocalization))),""!=T.cellclassname&&T.cellclassname)if("string"==typeof T.cellclassname)g+=" "+T.cellclassname;else{var ba=T.cellclassname(L,T.datafield,b._getcellvalue(T,R.row),R.row,aa);ba&&(g+=" "+ba)}if(""!=T.cellsRenderer&&T.cellsRenderer){var ca=T.cellsRenderer(N,T.datafield,b._getcellvalue(T,R.row),R.row,aa);void 0!==ca&&(aa=ca)}if(R.aggregate&&T.aggregates){var da=M.siblings.slice(0,M.siblings.length-1),ea=b._calculateaggregate(T,null,!0,da);if(M[T.displayfield]="",ea)if(T.aggregatesRenderer){if(ea){var fa=T.aggregatesRenderer(ea[T.datafield],T,null,b.getcolumnaggregateddata(T.datafield,T.aggregates,!1,da),"subAggregates");aa=fa,M[T.displayfield]+=name+":"+ea[T.datafield]+"\n"}}else aa="",M[T.displayfield]="",a.each(ea,function(){var a=this;for(obj in a){var c=obj;c=b._getaggregatename(c);var d='<div style="position: relative; margin: 0px; overflow: hidden;">'+c+":"+a[obj]+"</div>";aa+=d,M[T.displayfield]+=c+":"+a[obj]+"\n"}});else aa=""}if(1===S&&!b.rtl||T==C&&b.rtl||K>0&&M[d.level]<K){for(var ga="",ha=b.toThemeProperty("jqx-tree-grid-indent"),ia=R.leaf?1:0,ja=0;ja<M[d.level]+ia;ja++)ga+="<span class='"+ha+"'></span>";var ka="<span class='"+Z+"'></span>",la="",ma="";if(this.checkboxes&&!M.aggregate){var na=b.toThemeProperty("jqx-tree-grid-checkbox")+" "+ha+" "+b.toThemeProperty("jqx-checkbox-default")+" "+b.toThemeProperty("jqx-fill-state-normal")+" "+b.toThemeProperty("jqx-rc-all"),oa=!0;if(a.isFunction(this.checkboxes)&&(oa=this.checkboxes(N,M),void 0==oa&&(oa=!1)),oa)if(R){var pa=R.checked;0==this.hierarchicalCheckboxes&&null===pa&&(pa=!1),la+=pa?"<span class='"+na+"'><div class='"+b.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+b.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":pa===!1?"<span class='"+na+"'></span>":"<span class='"+na+"'><div class='"+b.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+b.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"}else la+="<span class='"+na+"'></span>"}if(this.icons&&!M.aggregate){var qa=b.toThemeProperty("jqx-tree-grid-icon")+" "+ha;if(b.rtl)var qa=b.toThemeProperty("jqx-tree-grid-icon")+" "+b.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+ha;var ra=b.toThemeProperty("jqx-tree-grid-icon-size")+" "+ha,sa=R.icon;a.isFunction(this.icons)&&(R.icon=this.icons(N,M),R.icon&&(sa=!0)),sa&&(ma+=R.icon?"<span class='"+qa+"'><img class='"+ra+"' src='"+R.icon+"'/></span>":"<span class='"+qa+"'></span>")}var ta=b.autoRowHeight&&1===S&&T.autoCellHeight?" "+b.toTP("jqx-grid-cell-wrap"):"",ua=ga+ka+la+ma+"<span class='"+b.toThemeProperty("jqx-tree-grid-title")+ta+"'>"+aa+"</span>";aa=b.rtl?"<span class='"+b.toThemeProperty("jqx-tree-grid-title")+ta+"'>"+aa+"</span>"+ma+la+ka+ga:ua}if(K>0&&i&&u>=K&&M[d.level]<K&&(x+="padding-left: 5px; border-left-width: 0px;",Y+="padding-left: 5px; border-left-width: 0px;",aa="<span style='visibility: hidden;'>-</span>"),x+='" class="'+g+'">',x+=aa,x+="</td>",Y+='" class="'+g+'">',Y+=aa,Y+="</td>",T.pinned?(O+=x,F+=x):(F+=x,E&&(O+=Y)),K>0&&!i&&M[d.level]<K&&!M.aggregate)break}if(0==f&&(b.table[0].style.width=P+2+"px",f=P),F+="</tr>",O+="</tr>",A+=F,B+=O,b.rowDetails&&!M.aggregate&&this.rowDetailsRenderer){var va='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+w+"px; width:"+w+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+b.columns.records.length+'" role="gridcell"',g=b.toTP("jqx-cell")+" "+b.toTP("jqx-grid-cell")+" "+b.toTP("jqx-item");g+=" "+b.toTP("jqx-details"),g+=" "+b.toTP("jqx-reset");var wa=this.rowDetailsRenderer(N,M);wa&&(va+='" class="'+g+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+wa+"</div></div></td></tr>",A+=va,B+=va)}}if(A+="</table>",B+="</table>",E){b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.table.html(B+A)}):b.table[0].innerHTML=B+A;var xa=b.table.find("#table"+b.element.id),ya=b.table.find("#pinnedtable"+b.element.id);ya.css("float","left"),ya.css("pointer-events","none"),xa.css("float","left"),ya[0].style.position="absolute",xa[0].style.position="relative",xa[0].style.zIndex=r-10,ya[0].style.zIndex=r+10,b._table=xa,b._table[0].style.left="0px",b._pinnedTable=ya,i&&(ya[0].style.left="0px"),b._table[0].style.width=f+"px",b._pinnedTable[0].style.width=f+"px",b.rtl&&b._haspinned&&(b._pinnedTable[0].style.left=3-f+parseInt(b.element.style.width)+"px")}else{b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.table.html(A)}):b.table[0].innerHTML=A;var V=b.table.find("#table"+b.element.id);b._table=V,a.jqx.browser.msie&&a.jqx.browser.version<10&&(b._table[0].style.width=f+"px"),0===q&&(b._table[0].style.width=2+f+"px")}0===q&&(b._table[0].style.tableLayout="auto",b._pinnedTable&&(b._pinnedTable[0].style.tableLayout="auto")),b.showAggregates&&b._updatecolumnsaggregates(),b._loading&&0==q&&(b._arrange(),this._showLoadElement()),b.rendered&&b.rendered()}},propertyChangedHandler:function(b,c,d,e){if(void 0!=b.isInitialized&&0!=b.isInitialized){var f=b.base;if("pageSizeMode"==c||"hierarchicalCheckboxes"==c)b._renderrows();else if("filterable"==c)f._render();else if("height"===c)f.host.height(b.height),f.host.width(b.width),f._updatesize(!1,!0);else if("width"===c)f.host.height(b.height),f.host.width(b.width),f._updatesize(!0,!1);else if("source"===c)f.updateBoundData();else if("columns"===c||"columnGroups"===c)f._columns=null,f._render();else if("rtl"===c)f.content.css("left",""),b.columns=b._columns,f.vScrollBar.jqxScrollBar({rtl:e}),f.hScrollBar.jqxScrollBar({rtl:e}),f._render();else if("pagerMode"===c)b.pagerMode=e,f._initpager();else if("pageSizeOptions"==c){f._initpager();for(var g=!1,h=0;h<e.length;h++)if(parseInt(e[h])==b.pageSize){g=!0;break}g||a.jqx.set(b,[{pageSize:e[0]}])}else if("pageSize"==c){var i=f.dataview.pagenum*f.dataview.pagesize;f.dataview.pagesize=f.pageSize;var j=Math.floor(i/f.dataview.pagesize);if(j!==f.dataview.pagenum||parseInt(e)!==parseInt(d)){b._raiseEvent("pageSizeChanged",{pagenum:e,oldpageSize:d,pageSize:f.dataview.pagesize});var k=b.goToPage(j);k||f.refresh()}}else if("pagerPosition"===c)f.refresh();else if("selectionMode"===c)f.selectionMode=e.toLowerCase();else if("touchmode"==c)f.touchDevice=null,f._removeHandlers(),f.touchDevice=null,f.vScrollBar.jqxScrollBar({touchMode:e}),f.hScrollBar.jqxScrollBar({touchMode:e}),f._updateTouchScrolling(),f._arrange(),f._updatecolumnwidths(),f._renderrows(),f._addHandlers();else{if("enableHover"==c)return;if("disabled"==c)e?f.base.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):f.base.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),f.pageable&&(f.pagernexttop&&(f.pagernexttop.jqxButton({disabled:e}),f.pagerprevioustop.jqxButton({disabled:e}),f.pagernextbottom.jqxButton({disabled:e}),f.pagerpreviousbottom.jqxButton({disabled:e}),f.pagerfirsttop.jqxButton({disabled:e}),f.pagerfirstbottom.jqxButton({disabled:e}),f.pagerlasttop.jqxButton({disabled:e}),f.pagerlastbottom.jqxButton({disabled:e}),f.pagershowrowscombotop.jqxDropDownList&&"advanced"==f.pagerMode&&(f.pagershowrowscombotop.jqxDropDownList({disabled:!1}),f.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),f.base.host.find(".jqx-grid-pager-number").css("cursor",e?"default":"pointer")),f.base.host.find(".jqx-grid-group-collapse").css("cursor",e?"default":"pointer"),f.base.host.find(".jqx-grid-group-expand").css("cursor",e?"default":"pointer");else if("columnsHeight"==c)f._render();else if("theme"==c){if(a.jqx.utilities.setTheme(d,e,f.base.host),f.vScrollBar.jqxScrollBar({theme:f.theme}),f.hScrollBar.jqxScrollBar({theme:f.theme}),f.pageable&&f.pagernexttop&&(f.pagernexttop.jqxButton({theme:f.theme}),f.pagerprevioustop.jqxButton({theme:f.theme}),f.pagernextbottom.jqxButton({theme:f.theme}),f.pagerpreviousbottom.jqxButton({theme:f.theme}),f.pagerfirsttop.jqxButton({theme:f.theme}),f.pagerfirstbottom.jqxButton({theme:f.theme}),f.pagerlasttop.jqxButton({theme:f.theme}),f.pagerlastbottom.jqxButton({theme:f.theme}),f.pagershowrowscombotop.jqxDropDownList&&"advanced"==f.pagerMode&&(f.pagershowrowscombotop.jqxDropDownList({theme:f.theme}),f.pagershowrowscombobottom.jqxDropDownList({theme:f.theme}))),f.filterable){var l=a(".filterconditions");l.length>0&&l.jqxDropDownList({theme:f.theme}),f.filtercolumnsList&&f.filtercolumnsList.jqxDropDownList({theme:f.theme})}f.refresh()}else f.refresh()}}},checkRow:function(a,b,c){var d=this.base,e=d._names();if(!d._loading){var f=d.rowinfo[a];if(f)f.checked=!0,f.row[e.checked]=!0,f.originalRecord&&(f.originalRecord[e.checked]=!0),void 0==c&&this.hierarchicalCheckboxes&&this.checkRows(f.row,f.row),b!==!1&&d._renderrows(),d._raiseEvent("rowCheck",{key:a,row:f.row});else{var g=this.getRow(a);g&&(d.rowinfo[a]={row:g,checked:!0},d.rowinfo[a].row[e.checked]=!0,g.originalRecord&&(d.rowinfo[a].originalRecord=g.originalRecord),d._raiseEvent("rowCheck",{key:a,row:g}),void 0==c&&this.hierarchicalCheckboxes&&this.checkRows(g,g),b!==!1&&d._renderrows())}}},checkRows:function(b,c){var d=this.base,e=this,f=d._names(),g=function(a){var b=new Array,c=function(a){for(var d=0;d<a.length;d++)b.push(a[d]),a[d]&&a[d].records&&c(a[d].records)};return a.records&&c(a.records),b};if(null!=b){var h=0,i=!1,j=0,k=function(a){for(var b=0;b<a.length;b++)if(a[b]){var c=a[b][f.checked];void 0===c&&(c=!1),0!=c&&(null==a[b][f.checked]&&(i=!0),a[b].records&&k(a[b].records),h++),j++}};if(b.records&&k(b.records),b!=c)h==j?this.checkRow(b.uid,!1,"tree"):h>0?this.indeterminateRow(b.uid,!1,"tree"):this.uncheckRow(b.uid,!1,"tree");else{var l=c[f.checked],m=g(c);a.each(m,function(){l===!0?e.checkRow(this.uid,!1,"tree"):l===!1?e.uncheckRow(this.uid,!1,"tree"):e.indeterminateRow(this.uid,!1,"tree")})}var n=b[f.parent]?b[f.parent]:null;this.checkRows(n,c)}else{var l=c[f.checked],m=g(c);a.each(m,function(){l===!0?e.checkRow(this.uid,!1,"tree"):l===!1?e.uncheckRow(this.uid,!1,"tree"):e.indeterminateRow(this.uid,!1,"tree")})}},indeterminateRow:function(a,b,c){var d=this.base,e=d._names();if(!d._loading){var f=d.rowinfo[a];if(f)f.checked=null,f.row[e.checked]=null,f.originalRecord&&(f.originalRecord[e.checked]=null),void 0==c&&this.hierarchicalCheckboxes&&this.checkRows(f.row,f.row),b!==!1&&d._renderrows();else{var g=this.getRow(a);g&&(d.rowinfo[a]={row:g,checked:null},d.rowinfo[a].row[e.checked]=null,g.originalRecord&&(d.rowinfo[a].originalRecord=g.originalRecord),void 0==c&&this.hierarchicalCheckboxes&&this.checkRows(g,g),b!==!1&&d._renderrows())}}},uncheckRow:function(a,b,c){var d=this.base,e=d._names();if(!d._loading){var f=d.rowinfo[a];if(f)f.checked=!1,f.row[e.checked]=!1,f.originalRecord&&(f.originalRecord[e.checked]=!1),void 0==c&&this.hierarchicalCheckboxes&&this.checkRows(f.row,f.row),b!==!1&&d._renderrows(),d._raiseEvent("rowUncheck",{key:a,row:f.row});else{var g=this.getRow(a);g&&(d.rowinfo[a]={row:g,checked:!1},d.rowinfo[a].row[e.checked]=!1,g.originalRecord&&(d.rowinfo[a].originalRecord=g.originalRecord),d._raiseEvent("rowUncheck",{key:a,row:g}),void 0==c&&this.hierarchicalCheckboxes&&this.checkRows(g,g),b!==!1&&d._renderrows())}}},expandRows:function(b){var c=this;if(b)if(c.virtualModeCreateRecords)a.each(b,function(){var a=this,b=function(){c.base._loading=!1,c.expandRows(a.records)};c.base._loading=!1,c.expandRow(a.uid,b)});else for(var d=0;d<b.length;d++){var e=b[d];c.expandRow(e.uid),c.expandRows(e.records)}},collapseRows:function(a){if(a)for(var b=0;b<a.length;b++)this.collapseRow(a[b].uid),this.collapseRows(a[b].records)},expandAll:function(){var a=this.base;a.beginUpdate(),this.expandRows(this.getRows()),a.endUpdate()},collapseAll:function(){var a=this.base;a.beginUpdate(),this.collapseRows(this.getRows()),a.endUpdate()},expandRow:function(a,b){var c=this.base;if(!c._loading){var d=c._names(),e=this,f=c.rowinfo[a];if(!f){var g=this.getRow(a);g&&(c.rowinfo[a]={row:g},g.originalRecord&&(c.rowinfo[a].originalRecord=g.originalRecord),f=c.rowinfo[a])}if(f){if(f.expanded)return void(f.row[d.expanded]=!0);if(f.expanded=!0,f.row[d.expanded]=!0,f.originalRecord&&(f.originalRecord[d.expanded]=!0),this.virtualModeCreateRecords&&!f.row._loadedOnDemand){var h=function(a){if(f.row._loadedOnDemand=!0,a===!1)return c._loading=!1,e._hideLoadElement(),f.leaf=!0,f.row[d.leaf]=!0,c._renderrows(),void(b&&b());for(var g=0;g<a.length;g++){if(a[g][d.level]=f.row[d.level]+1,a[g][d.parent]=f.row,c.rowsByKey[a[g].uid])throw c._loading=!1,e._hideLoadElement(),f.leaf=!0,f.row[d.leaf]=!0,c._renderrows(),b&&b(),new Error("Please, check whether you Add Records with unique ID/Key. ");c.rowsByKey[a[g].uid]=a[g],e.virtualModeRecordCreating(a[g])}f.row.records?f.row.records=f.row.records.concat(a):f.row.records=a,(!a||a&&0==a.length)&&(f.leaf=!0,f.row[d.leaf]=!0),f.originalRecord&&(f.originalRecord.records=a,f.originalRecord[d.expanded]=!0,0==a.length&&(f.originalRecord[d.leaf]=!0)),c._loading=!1,e._hideLoadElement();var h=c.vScrollBar.css("visibility");c._renderrows(),c._updateScrollbars();var i=h!=c.vScrollBar.css("visibility");("auto"===c.height||null===c.height||c.autoheight||i)&&c._arrange(),c._renderhorizontalscroll(),b&&b()};if(!f.row[d.leaf])return c._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(f.row,h)}if(!c.updating()){var i=c.vScrollBar.css("visibility");c._renderrows(),c._updateScrollbars();var j=i!=c.vScrollBar.css("visibility");("auto"===c.height||null===c.height||c.autoheight||j)&&c._arrange(),c._renderhorizontalscroll(),c._raiseEvent("rowExpand",{row:f.row,key:a})}}}},collapseRow:function(a){var b=this.base,c=b._names();if(!b._loading){var d=b.rowinfo[a];if(!d){var e=this.getRow(a);e&&(b.rowinfo[a]={row:e},e.originalRecord&&(b.rowinfo[a].originalRecord=e.originalRecord),d=b.rowinfo[a])}if(d){if(!d.expanded)return void(d.row[c.expanded]=!1);if(d.expanded=!1,d.row[c.expanded]=!1,d.originalRecord&&(d.originalRecord[c.expanded]=!1),!b.updating()){var f=b.vScrollBar.css("visibility");b._renderrows(),b._updateScrollbars();var g=f!=b.vScrollBar.css("visibility");("auto"===b.height||null===b.height||b.autoheight||g)&&b._arrange(),b._renderhorizontalscroll(),b._raiseEvent("rowCollapse",{row:d.row,key:a})}}}}})}(jqxBaseFramework),function(a){function b(a,b,c,d,e,f,g,h){this.label=a,this.value=b,this.parent=c,this.children=d,this.area=e||null,this.color=f,this.data=g,this.record=h}a.jqx.jqxWidget("jqxTreeMap","",{});var c={};c["default"]=function(){function a(b,c,d,e){this.height=e,this.width=d,this.xoffset=b,this.yoffset=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(a){var b=[],c=this.xoffset,d=this.yoffset,e=j(a)/this.height,f=j(a)/this.width;if(this.width>=this.height)for(var g=0;g<a.length;g+=1)b.push([c,d,c+e,d+a[g]/e]),d+=a[g]/e;else for(var g=0;g<a.length;g+=1)b.push([c,d,c+a[g]/f,d+f]),c+=a[g]/f;return b},this.cutArea=function(b){var c;if(this.width>=this.height){var d=b/this.height,e=this.width-d;c=new a(this.xoffset+d,this.yoffset,e,this.height)}else{var f=b/this.width,g=this.height-f;c=new a(this.xoffset,this.yoffset+f,this.width,g)}return c}}function b(a,b){for(var c=[],d=j(a),e=b/d,f=0;f<a.length;f+=1)c[f]=a[f]*e;return c}function c(a,b,e,f,g){f="undefined"==typeof f?0:f,g="undefined"==typeof g?0:g;var h,j=[],l=[];if(i(a[0])){for(var m=0;m<a.length;m+=1)j[m]=k(a[m]);h=d(j,b,e,f,g);for(var m=0;m<a.length;m+=1)l.push(c(a[m],h[m][2]-h[m][0],h[m][3]-h[m][1],h[m][0],h[m][1]))}else l=d(a,b,e,f,g);return l}function d(c,d,g,h,i){h="undefined"==typeof h?0:h,i="undefined"==typeof i?0:i;var j=f(b(c,d*g),[],new a(h,i,d,g),[]);return e(j)}function e(a){for(var b=[],c=0;c<a.length;c+=1)for(var d=0;d<a[c].length;d+=1)b.push(a[c][d]);return b}function f(a,b,c,d){var e,h,i;return 0===a.length?void d.push(c.getCoordinates(b)):(e=c.shortestEdge(),h=a[0],g(b,h,e)?(b.push(h),f(a.slice(1),b,c,d)):(i=c.cutArea(j(b),d),d.push(c.getCoordinates(b)),f(a,[],i,d)),d)}function g(a,b,c){var d;if(0===a.length)return!0;d=a.slice(),d.push(b);var e=h(a,c),f=h(d,c);return e>=f}function h(a,b){var c=Math.min.apply(Math,a),d=Math.max.apply(Math,a),e=j(a);return Math.max(Math.pow(b,2)*d/Math.pow(e,2),Math.pow(e,2)/(Math.pow(b,2)*c))}function i(a){return a&&a.constructor===Array}function j(a){for(var b=0,c=0;c<a.length;c+=1)b+=a[c];return b}function k(a){var b=0;if(i(a[0]))for(var c=0;c<a.length;c+=1)b+=k(a[c]);else b=j(a);return b}return c}();var d={HORIZONTAL:0,VERTICAL:1,BOTH:2};a.extend(a.jqx._jqxTreeMap.prototype,{defineInstance:function(){var b={width:600,height:600,renderCallbacks:{},legendScaleCallback:function(a){return a},hoverEnabled:!1,selectionEnabled:!0,singleSelection:!0,showLegend:!0,legendLabel:"Legend",headerHeight:25,colorRange:100,layout:"default",source:[],displayMember:null,valueMember:null,colorMode:"parent",baseColor:"#C2EEFF",legendPosition:{x:0,y:0},colorRanges:[{color:"#aa9988",min:0,max:10},{color:"#ccbbcc",min:11,max:50},{color:"#000",min:50,max:100}],_root:[]};return this===a.jqx._jqxTreeMap.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){this.render()},render:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this._destroy(),this._root=new b((void 0),0,null,[],this.host);var d=function(a,b){for(var d,e={},f=null,g=0;g<a.length;g+=1)if(a[g].items){f=!0;break}var h=new Array;if(f){var i=function(a,b){for(var c=0;c<a.length;c+=1){if(a[c].parent=b,a[c].data||(a[c].data=a[c].value),null==a[c].value&&(a[c].value=0),isNaN(parseFloat(a[c].value))){for(var d=a[c].value.toString(),e="",f=0;f<d.length;f++){var g=d.substring(f,f+1);null==g.match(/^[0-9]+$/)&&"."!=g||(e+=g)}a[c].value=new Number(e)}else a[c].value=parseFloat(a[c].value);h.push(a[c]),a[c].items&&i(a[c].items,a[c].label)}};i(a,null),a=h}for(var g=0;g<a.length;g+=1)d=a[g],d.value&&null!=d.parent&&(e[d.parent]||(e[d.parent]=0),e[d.parent]+=d.value);for(var g=0;g<a.length;g+=1)d=a[g],void 0!==e[d.label]&&(d.value=e[d.label]);b._buildTree(a,b._root),b._dataList=b._buildList(),b._setStyles();var j=c["default"];"simple"===b.layout&&(j=c.simple),b._render(b._root,j),b._renderLegend()};return a.jqx.dataAdapter&&null!=this.source&&this.source._source?void this.dataBind(this.source,d):(d(this.source,this),void this._trigger("bindingComplete"))},dataBind:function(b,c){this.records=new Array;var d=!!b._source,e=new a.jqx.dataAdapter(b,{autoBind:!1});d&&(e=b,b=b._source);var f=function(a){void 0!=b.type&&(e._options.type=b.type),void 0!=b.formatdata&&(e._options.formatData=b.formatdata),void 0!=b.contenttype&&(e._options.contentType=b.contenttype),void 0!=b.async&&(e._options.async=b.async)},g=function(a,b){a.records=e.records;for(var d=new Array,f=0;f<a.records.length;f++){var g=a.records[f];a.displayMember&&(g.label=g[a.displayMember]),a.valueMember&&(g.value=g[a.valueMember]),g.record=g,d.push(g)}a._trigger("bindingComplete"),c(d,a)};f(this);var h=this;switch(b.datatype){case"local":case"array":default:null!=b.localdata&&(e.unbindBindingUpdate(this.element.id),e.dataBind(),g(this),e.bindBindingUpdate(this.element.id,function(a){g(h,a)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata)return e.unbindBindingUpdate(this.element.id),e.dataBind(),g(this),void e.bindBindingUpdate(this.element.id,function(){g(h)});var i={};e._options.data?a.extend(e._options.data,i):(b.data&&a.extend(i,b.data),e._options.data=i);var j=function(){g(h)};e.unbindDownloadComplete(h.element.id),e.bindDownloadComplete(h.element.id,j),e.dataBind()}},_destroy:function(){this.host.children().remove()},destroy:function(){a.jqx.utilities.resize(this.host,null,!0),this.host.remove()},refresh:function(a){a||this._refresh()},_refresh:function(){this.render()},_setStyles:function(){this.host.css({position:"relative",width:this.width,height:this.height});var b=!1;null!=this.width&&this.width.toString().indexOf("%")!=-1&&(b=!0),null!=this.height&&this.height.toString().indexOf("%")!=-1&&(b=!0);var c=this;a.jqx.utilities.resize(this.host,function(){c.resizeTimer&&clearTimeout(c.resizeTimer),c.resizeTimer=setTimeout(function(){c.performLayout()},50)})},resize:function(a,b){this.width=a,this.height=b,this.performLayout()},performLayout:function(){var a=c["default"];this.clearSelection(),this._layout(this._root,a)},_getValues:function(a){for(var b=[],c=0;c<a.length;c+=1)b.push(a[c].value);return b},_isColor:function(a){if(!a)return!1;var b=this._colorEvaluator;return!(!b._isRgb(a)&&!b._isHex(a))},_colorEvaluator:{_toRgb:function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},_toHex:function(a){var b=a.r.toString(16),c=a.g.toString(16),d=a.b.toString(16);return b=1===b.length?"0"+b:b,c=1===c.length?"0"+c:c,d=1===d.length?"0"+d:d,"#"+b+c+d},_isRgb:function(a){return/(rgb|rgba)\s*\(\s*\d+\s*(,\s*\d+\s*){2}(,\d+\.\d+)?\)(;?)/i.test(a)},_isHex:function(a){return/^(#([0-9A-F]{3})([0-9A-F]{3})?)$/i.test(a)},getColorByValue:function(a,b,c){var d,e,f,g,h,b,i=this._colorEvaluator;i._isRgb(c)&&(c=i._toHex(c)),c=i._toRgb(c),f=b.length,d=-(1/0);for(var j=0;j<f;j+=1)d<b[j].value&&(d=b[j].value);return e=a/d,g=Math.round(e*this.colorRange),h=i._toHex({r:Math.max(c.r-g,0),g:Math.max(c.g-g,0),b:Math.max(c.b-g,0)})},parent:function(a){var b=a.parent.color,c=this._colorEvaluator;return a.parent?(b||(b=this.baseColor),b=c.getColorByValue.call(this,a.value,a.parent.children,b),a.color=b,b):"#fff"},autoColors:function(a){var b=this.baseColor,c=this._colorEvaluator;return b=c.getColorByValue.call(this,a.value,this._dataList,b),a.color=b,b},rangeColors:function(a){for(var b,c=a.value,d=0;d<this.colorRanges.length;d+=1)if(b=this.colorRanges[d],b.min<c&&b.max>=c)return b.color;return"#fff"}},_getColor:function(a){var b=a.color,c=this.colorMode;if(this._isColor(b))return b;if("function"==typeof this._colorEvaluator[c])return this._colorEvaluator[c].call(this,a);throw"Invalid colorMode"},_renderRect:function(b,c){var d=a("<div/>"),e=b[2]-b[0],f=b[3]-b[1],g=this._getColor(c);d.css({position:"absolute",left:b[0]-1,top:b[1]-1,width:e,height:f,backgroundColor:g}),d.addClass(this.toThemeProperty("jqx-treemap-rectangle"));var h=this._colorEvaluator,i={data:c.data,label:c.label,value:c.value,parent:c.parent,record:c.record,color:g,rgb:h._toRgb(g)};if(c.parent==this._root&&(i.parent=null),"function"==typeof this.renderCallbacks["*"]){var j=this.renderCallbacks["*"](d,i);if(void 0!==j)return d}if("function"==typeof this.renderCallbacks[c.label])this.renderCallbacks[c.label](d,i);else{var e=d.width()-2;d.html('<span style="max-width:'+e+'px;" class="jqx-treemap-label">'+c.label+"</span>")}return d},_centerLabel:function(a,b){var c=a[0].firstChild;c.style.position="absolute",b!==d.HORIZONTAL&&b!==d.BOTH||(c.style.left=(a[0].offsetWidth-c.offsetWidth)/2+"px"),b!==d.VERTICAL&&b!==d.BOTH||(c.style.top=(a[0].offsetHeight-c.offsetHeight)/2+"px")},_trigger:function(b,c){var d=a.Event(b);return d.args=c,this.host.trigger(d)},_addHandlers:function(b,c){var d=this;b.on("mouseenter",function(a){d.hoverEnabled&&(d.host.find(".jqx-treemap-rectangle").removeClass("jqx-treemap-rectangle-hover"),b.addClass(d.toThemeProperty("jqx-treemap-rectangle-hover"))),d._trigger("mouseenterSector",c)}),b.on("mouseleave",function(a){d.hoverEnabled&&b.removeClass("jqx-treemap-rectangle-hover"),d._trigger("mouseleaveSector",c)}),b.on("click",function(c){if(d.selectionEnabled){var e=a.data(this,"jqx-treemap-selected")||!1;d.singleSelection&&d.host.find(".jqx-treemap-rectangle-hover").each(function(b,c){a.data(c,"jqx-treemap-selected",!1),a(c).removeClass("jqx-treemap-rectangle-hover")}),e?(b.removeClass("jqx-treemap-rectangle-hover"),e=!1):(b.addClass(d.toThemeProperty("jqx-treemap-rectangle-hover")),e=!0),a.data(this,"jqx-treemap-selected",e),c.stopImmediatePropagation()}})},clearSelection:function(){this.host.find(".jqx-treemap-rectangle-hover").removeClass(this.toThemeProperty("jqx-treemap-rectangle-hover")),a.data(this,"jqx-treemap-selected",!1)},_layoutArea:function(a,b){a.children.length&&a.children.length>0?(this._centerLabel(b,d.HORIZONTAL),b.addClass(this.toThemeProperty("jqx-treemap-rectangle-parent"))):this._centerLabel(b,d.BOTH)},_render:function(a,b){if(a.children.length){var c=0;a.value&&(c=this.headerHeight);for(var d,e,f=this._getValues(a.children),g=(a.area.offset(),b(f,a.area.width(),a.area.height()-c,0,c)),h=0;h<a.children.length;h+=1)d=a.children[h],e=this._renderRect(g[h],d),d.area=e,a.area.append(e),this._addHandlers(e,{label:d.label,value:d.value,color:d.color,sector:d.area,data:d.data}),this._layoutArea(d,e),this._render(d,b)}},_layout:function(b,c){if(b.children.length){var d=0;b.value&&(d=this.headerHeight);for(var e=this._getValues(b.children),f=(b.area.offset(),c(e,b.area.width(),b.area.height()-d,0,d)),g=0;g<b.children.length;g+=1){var h=b.children[g];this._layoutRect(f[g],h),this._layoutArea(h,h.area),this._layout(h,c)}this.showLegend&&(a(".jqx-treemap-legend").remove(),this._renderLegend())}},_layoutRect:function(a,b){var c=b.area,d=a[2]-a[0],e=a[3]-a[1];c.css({left:a[0]-1,top:a[1]-1,width:d,height:e});var f=this._colorEvaluator,g=this._getColor(b),h={data:b.data,label:b.label,value:b.value,parent:b.parent,record:b.record,color:g,rgb:f._toRgb(g)};if(b.parent==this._root&&(h.parent=null),"function"==typeof this.renderCallbacks["*"]){var i=this.renderCallbacks["*"](c,h);if(void 0!==i)return c}if("function"==typeof this.renderCallbacks[b.label])this.renderCallbacks[b.label](c,h);else{var d=c.width()-2;c.find(".jqx-treemap-label:first").css("max-width",d)}},_getBoundValues:function(){var a,b=this._root,c=[],d={},e={};for(d.value=b.value||1/0,e.value=b.value||-(1/0),c.push(b);c.length;){a=c.pop(),d.value>a.value&&(d=a),e.value<a.value&&(e=a);for(var f=0;f<a.children.length;f+=1)c.push(a.children[f])}return[d,e]},_getAutocolorRanges:function(){for(var a,b=this._getBoundValues(),c=5,d=b[1].value,e=b[0].value,f=(d-e)/c,g=[],h=e;h<d;h+=f)a=Math.round(h),g.push({min:a,max:h+f,color:this._colorEvaluator.getColorByValue.call(this,a,this._dataList,this.baseColor)});return g},_renderLegend:function(){if(/autoColors|rangeColors/.test(this.colorMode)&&this.showLegend){var a=this.colorRanges;"autoColors"===this.colorMode&&(a=this._getAutocolorRanges());var b=this._renderColorLegend(a);this._renderLegendLabel(b)}},_renderLegendLabel:function(b){var c=a('<tr><td colspan="'+b.find("td").length/2+'"/></tr>'),d=a('<div class="'+this.toThemeProperty("jqx-treemap-legend-label")+'" />');d.text(this.legendLabel),c.children().append(d),b.prepend(c)},_renderColorLegend:function(b){var c,d,e=a('<div class="'+this.toThemeProperty("jqx-treemap-legend")+'"/>'),f=function(a){return a};"function"==typeof this.legendScaleCallback&&(f=this.legendScaleCallback);var g=a('<table class="'+this.toThemeProperty("jqx-treemap-legend-table")+'"/>');e.append(g),g.append("<tr/>"),e.append("<div/>"),this.host.append(e),c=a(e.find("tr")[0]),d=a(e.find("div")[0]),d.addClass(this.toThemeProperty("jqx-treemap-legend-values"));var h=function(a,b){try{if(a.min<b.min)return-1;if(a.min>b.min)return 1}catch(c){}return 0};b.sort(h);for(var i=Math.round(e.width()/b.length),j=-2,k=0,l=0;l<b.length;l+=1){var m=a('<td class="'+this.toThemeProperty("jqx-treemap-legend-color")+'"/>');if(m.css("backgroundColor",b[l].color),c.append(m),0===l){var n=a('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>');n.text(f(b[l].min)),d.append(n),g.css("margin-left",n.width()/2),j+=n.width()/2,k=j}var n=a('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>');j+=i,n.text(f(b[l].max)),d.append(n),l==b.length-1&&(k+=n.width()/2,e.css("padding-right",k+5),j-=2),j-=n.width()/2,n.css("left",j),j+=n.width()/2}return e.css({position:"absolute",left:this.legendPosition.x,bottom:this.legendPosition.y,visibility:this.showLegend?"visible":"hidden"}),e},_buildTree:function(a,c){var d,e,f=null,g=[];for(g.push(c);g.length;){f=g.pop();for(var h=0;h<a.length;h+=1)if(e=a[h],e.parent===f.label||!e.parent&&!f.label){var i=f;d=new b(e.label,parseFloat(e.value,10),i,[],null,e.color,e.data,e.record),f.children.push(d),g.push(d)}}return c},_buildList:function(){var a,b=[],c=[];for(c.push(this._root);c.length;){a=c.pop(),a!==this._root&&b.push(a);for(var d=0;d<a.children.length;d+=1)c.push(a.children[d])}return b},propertyChangedHandler:function(a,b,c){"renderCallbacks"!==b&&(/hoverEnabled|selectionEnabled/.test(b)?c||this.host.find("jqx-treemap-rectangle-hover"):"showLegend"===b?this.host.find("jqx-treemap-legend").toggle():this._refresh())}})}(jqxBaseFramework),function(a){a.jqx.jqxWidget("jqxValidator","",{}),a.extend(a.jqx._jqxValidator.prototype,{defineInstance:function(){
var b={rules:null,scroll:!0,focus:!0,scrollDuration:300,scrollCallback:null,position:"right",arrow:!0,animation:"fade",animationDuration:150,closeOnClick:!0,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:5,_inputHint:[],rtl:!1,hintType:"tooltip",zIndex:99999,disabled:!1};return a.extend(!0,this,b),b},createInstance:function(){"label"==this.hintType&&150==this.animationDuration&&(this.animationDuration=0),this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide();var a;this.host&&(a=this.host.data("jqxWidget"))&&"jqxValidator"==a.widgetName&&this.host.removeData()},validate:function(b){var c,d,e,f,g=!0,h=1/0,i=[];this.updatePosition();for(var j=this,k=0,l=0;l<this.rules.length;l+=1)"function"==typeof this.rules[l].rule&&k++;this.positions=new Array;for(var l=0;l<this.rules.length;l+=1){a(this.rules[l].input);if("function"==typeof this.rules[l].rule){var m=function(l,m){if(c=l,0==c){g=!1;a(m.input);f=a(m.input),i.push(f);var n=f.offset();n&&(d=n.top,h>d&&(h=d,e=f))}k--,0==k&&"function"==typeof b&&(j._handleValidation(g,h,e,i),b&&b(g))};this._validateRule(this.rules[l],m)}else c=this._validateRule(this.rules[l]);if(0==c){g=!1,f=a(this.rules[l].input),i.push(f);var n=f.offset();n&&(d=n.top,h>d&&(h=d,e=f))}}return 0==k?(this._handleValidation(g,h,e,i),g):void 0},validateInput:function(a){for(var b=this._getRulesForInput(a),c=!0,d=0;d<b.length;d+=1)this._validateRule(b[d])||(c=!1);return c},hideHint:function(a){for(var b=this._getRulesForInput(a),c=0;c<b.length;c+=1)this._hideHintByRule(b[c])},hide:function(){for(var a,b=0;b<this.rules.length;b+=1)a=this.rules[b],this._hideHintByRule(this.rules[b])},updatePosition:function(){var b;this.positions=new Array;for(var c=0;c<this.rules.length;c+=1)b=this.rules[c],b.hint&&this._hintLayout(b.hint,a(b.input),b.position,b)},_getRulesForInput:function(a){for(var b=[],c=0;c<this.rules.length;c+=1)this.rules[c].input===a&&b.push(this.rules[c]);return b},_validateRule:function(b,c){var d,e=a(b.input),f=!0,g=this,h=function(f){if(f)g._hideHintByRule(b),c&&c(!0,b);else{var h=g.animation;if(g.animation=null,b.hint&&g._hideHintByRule(b),"none"==a(e).css("display"))return void g._hideHintByRule(b);if(0==a(e).parents().length)return void g._hideHintByRule(b);d=b.hintRender.apply(g,[b.message,e]),g._hintLayout(d,e,b.position,b),g._showHint(d),b.hint=d,g._removeLowPriorityHints(b),c&&c(!1,b),g.animation=h}},i=!1;return"function"==typeof b.rule&&(i=b.rule.call(this,e,h),1==i&&c&&c(!0,b)),"function"==typeof b.rule&&0==i?("function"!=typeof b.hintRender||b.hint||this._higherPriorityActive(b)||!e.is(":visible")||(d=b.hintRender.apply(this,[b.message,e]),this._removeLowPriorityHints(b),this._hintLayout(d,e,b.position,b),this._showHint(d),b.hint=d),f=!1,c&&c(!1,b)):this._hideHintByRule(b),f},_hideHintByRule:function(b){var c,d=a(b.input),e=this,f=function(){if("label"==e.hintType){var a=e;if("top"==a.position||"left"==a.position){if(d.prev().hasClass(".jqx-validator-error-label"))return}else if(d.next().hasClass(".jqx-validator-error-label"))return;"input"!=d[0].nodeName.toLowerCase()?d.hasClass("jqx-validator-error-element")?d.removeClass("jqx-validator-error-element"):d.find("input").length>0&&(d.find(".jqx-input").length>0?d.find(".jqx-input").removeClass(a.toThemeProperty("jqx-validator-error-element")):d.find(".jqx-text-area").length>0?d.find(".jqx-text-area").removeClass(a.toThemeProperty("jqx-validator-error-element")):d.is(".jqx-checkbox")&&d.find(".jqx-checkbox-default").removeClass(a.toThemeProperty("jqx-validator-error-element")),d.is(".jqx-radiobutton")?d.find(".jqx-radiobutton-default").removeClass(a.toThemeProperty("jqx-validator-error-element")):d.removeClass(a.toThemeProperty("jqx-validator-error-element"))):d.removeClass(a.toThemeProperty("jqx-validator-error-element"))}};if(b){if(c=b.hint){if(this.positions){var g=!1;null!==this.ownerElement&&"relative"===a(this.ownerElement).css("position")&&(g=!0),g?this.positions[Math.round(c.position().top)+"_"+Math.round(c.position().left)]&&(this.positions[Math.round(c.position().top)+"_"+Math.round(c.position().left)]=null):this.positions[Math.round(c.offset().top)+"_"+Math.round(c.offset().left)]&&(this.positions[Math.round(c.offset().top)+"_"+Math.round(c.offset().left)]=null)}"fade"===this.animation?c.fadeOut(this.animationDuration,function(){c.remove(),f()}):(c.remove(),f())}b.hint=null}},_handleValidation:function(a,b,c,d){a?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(b),this.focus&&c.focus(),this._raiseEvent(0,{invalidInputs:d}),"function"==typeof this.onError&&this.onError(d))},_scrollHandler:function(b){if(this.scroll){var c=this;a("html,body").animate({scrollTop:b},this.scrollDuration,function(){"function"==typeof c.scrollCallback&&c.scrollCallback.call(c)})}},_higherPriorityActive:function(a){for(var b,c=!1,d=this.rules.length-1;d>=0;d-=1){if(b=this.rules[d],c&&b.input===a.input&&b.hint)return!0;b===a&&(c=!0)}return!1},_removeLowPriorityHints:function(a){for(var b,c=!1,d=0;d<this.rules.length;d+=1)b=this.rules[d],c&&b.input===a.input&&this._hideHintByRule(b),b===a&&(c=!0)},_getHintRuleByInput:function(b){for(var c,d=0;d<this.rules.length;d+=1)if(c=this.rules[d],a(c.input)[0]===b[0]&&c.hint)return c;return null},_removeEventListeners:function(){var b,c,d;if(this.host.parents(".jqx-window").length>0){var e=this.host.parents(".jqx-window");this.updateposevent&&(this.removeHandler(e,"moved",this.updateposevent),this.removeHandler(e,"moving",this.updateposevent),this.removeHandler(e,"resized",this.updateposevent),this.removeHandler(e,"resizing",this.updateposevent),this.updateposevent=null),this.hideevent&&(this.removeHandler(e,"closed",this.hideevent),this.hideevent=null),this.parentscrollevent&&(this.removeHandler(a(document.parentWindow),"scroll",this.parentscrollevent),this.parentscrollevent=null)}for(var f=0;f<this.rules.length;f+=1){b=this.rules[f],d=b.action.split(","),c=a(b.input);for(var g=0;g<d.length;g+=1)this.removeHandler(c,a.trim(d[g])+".jqx-validator");this.closeOnClick&&this.removeHandler(b.hint,"click")}},_addEventListeners:function(){var b,c;if(this.host.parents(".jqx-window").length>0){var d=this;this.updateposevent||(this.updateposevent=function(){d.updatePosition()}),this.hideevent||(this.hideevent=function(){d.hide()});var e=this.host.parents(".jqx-window");this.addHandler(e,"closed",this.hideevent),this.addHandler(e,"moved",this.updateposevent),this.addHandler(e,"moving",this.updateposevent),this.addHandler(e,"resized",this.updateposevent),this.addHandler(e,"resizing",this.updateposevent),d.parentscrollevent||(d.parentscrollevent=function(){d.scroll&&d.updatePosition()}),this.addHandler(a(document.parentWindow),"scroll",d.parentscrollevent)}for(var f=0;f<this.rules.length;f+=1)b=this.rules[f],c=a(b.input),this._addListenerTo(c,b)},_addListenerTo:function(b,c){var d=this,e=c.action.split(","),f=!1;this._isjQWidget(b)&&(f=!0);for(var g=0;g<e.length;g+=1){var h=a.trim(e[g]);!f||"blur"!=h&&"focus"!=h||b&&"input"!=b[0].nodeName.toLowerCase()&&(b=b.find("input")),this.addHandler(b,h+".jqx-validator",function(a){d.disabled||d._validateRule(c)})}},_configureInputs:function(){this.rules=this.rules||[];for(var a=0;a<this.rules.length;a+=1)this._handleInput(a)},_handleInput:function(a){var b=this.rules[a];b.position||(b.position=this.position),b.message||(b.message="Validation Failed!"),b.action||(b.action="blur"),b.hintRender||(b.hintRender=this._hintRender),b.rule?this._handleRule(b):b.rule=null},_handleRule:function(a){var b,c,d=a.rule,e=!1;if("string"==typeof d?(d.indexOf("=")>=0&&(d=d.split("="),c=d[1].split(","),d=d[0]),b=this["_"+d],b?a.rule=function(a,d){return b.apply(this,[a].concat(c))}:e=!0):"function"!=typeof d?e=!0:a.rule=d,e)throw new Error("Wrong parameter!")},_required:function(b){switch(this._getType(b)){case"jqx-input-inner":if(b.find("input").length>0)return""!==a.trim(b.find("input").val());break;case"textarea":case"password":case"jqx-input":case"jqx-text-area":case"text":var c=a.data(b[0]);if(c.jqxMaskedInput){var d=b.jqxMaskedInput("promptChar"),e=b.jqxMaskedInput("value");return e&&e.indexOf(d)<0}return c.jqxNumberInput?""!==b.jqxNumberInput("inputValue"):!!c.jqxDateTimeInput||""!==a.trim(b.val());case"checkbox":return b.is(":checked");case"radio":return b.is(":checked");case"jqx-check-box":case"jqx-radio-button":return b[0].val();case"div":return b.is(".jqx-checkbox")?b.jqxCheckBox("checked"):!!b.is(".jqx-radiobutton")&&b.jqxRadioButton("checked")}return!1},_notNumber:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/\d/;return!b.test(a)})},_startWithLetter:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/\d/;return!b.test(a.substring(0,1))})},_number:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=new Number(a);return!isNaN(b)&&isFinite(b)})},_phone:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/^\(\d{3}\)(\d){3}-(\d){4}$/;return b.test(a)})},_length:function(a,b,c){return this._minLength(a,b)&&this._maxLength(a,c)},_maxLength:function(a,b){return b=parseInt(b,10),this._validateText(a,function(a){return a.length<=b})},_minLength:function(a,b){return b=parseInt(b,10),this._validateText(a,function(a){return a.length>=b})},_email:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)})},_zipCode:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/;return b.test(a)})},_ssn:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/\d{3}-\d{2}-\d{4}/;return b.test(a)})},_validateText:function(a,b){var c;return!!this._isTextInput(a)&&(c=this._isjQWidget(a)&&a.find("input").length>0?a.find("input").val():a.val(),b(c))},_isjQWidget:function(b){var c=a.data(b[0]);return!!(c.jqxMaskedInput||c.jqxNumberInput||c.jqxDateTimeInput)||(b[0].tagName.toLowerCase().indexOf("jqx-input")>=0||(b[0].tagName.toLowerCase().indexOf("jqx-password-input")>=0||(b[0].tagName.toLowerCase().indexOf("jqx-complex-input")>=0||(b[0].tagName.toLowerCase().indexOf("jqx-formatted-input")>=0||(b[0].tagName.toLowerCase().indexOf("jqx-masked-input")>=0||(b[0].tagName.toLowerCase().indexOf("jqx-date-time-input")>=0||(b[0].tagName.toLowerCase().indexOf("jqx-number-input")>=0||(b[0].tagName.toLowerCase().indexOf("jqx-check-box")>=0||(b[0].tagName.toLowerCase().indexOf("jqx-radio-button")>=0||b[0].tagName.toLowerCase().indexOf("angular")>=0)))))))))},_isTextInput:function(a){var b=this._getType(a);return"text"===b||"textarea"===b||"password"===b||"jqx-input-inner"===b||a.is(".jqx-input")||a.is(".jqx-text-area")},_getType:function(b){if(b[0]){var c,d=b[0].tagName.toLowerCase();return"textarea"===d?"textarea":b.is(".jqx-input")?"jqx-input":b.is(".jqx-text-area")?"jqx-text-area":b.find(".jqx-input").length>0?"jqx-input-inner":"input"===d?c=a(b).attr("type")?a(b).attr("type").toLowerCase():"text":"jqx-password-input"===d?"password":"jqx-check-box"===d?"jqx-check-box":"jqx-radio-button"===d?"jqx-radio-button":d}},_hintRender:function(b,c){if("label"==this.hintType){var d=a('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>');d.html(b);var e=this;return this.closeOnClick&&this.addHandler(d,"click",function(){e.hideHint(c.selector)}),"left"==this.position||"top"==this.position?d.insertBefore(a(c)):d.insertAfter(a(c)),d}var d=a('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),f=this;return d.html(b),this.closeOnClick&&this.addHandler(d,"click",function(){f.hideHint(c.selector)}),null==this.ownerElement?d.appendTo(document.body):this.ownerElement.innerHTML?d.appendTo(a(this.ownerElement)):d.appendTo(this.ownerElement),d},_hintLayout:function(b,c,d,e){if(this._hintRender===e.hintRender){var f;if(f=this._getPosition(c,d,b,e),"label"==this.hintType){var g="2px";"left"!=this.position&&"top"!=this.position||(g="-2px"),"input"!=c[0].nodeName.toLowerCase()&&"textarea"!=c[0].nodeName.toLowerCase()?(c.find(".jqx-text-area").length>0&&c.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")),c.find("input").length>0&&(c.find(".jqx-input").length>0?c.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element")):c.find(".jqx-text-area").length>0?c.find(".jqx-text-area").addClass(this.toThemeProperty("jqx-validator-error-element")):c.is(".jqx-checkbox")&&c.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element")),c.is(".jqx-radiobutton")?c.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element")):c.addClass(this.toThemeProperty("jqx-validator-error-element")))):c.addClass(this.toThemeProperty("jqx-validator-error-element"));var h=a("<span></span>");h.addClass(this.toThemeProperty("jqx-validator-hint")),h.html(b.text()),h.appendTo(a(document.body));var i=h.outerWidth();return h.remove(),b.css({position:"relative",left:a(c).css("margin-left"),width:a(c).width(),top:g}),void("center"==d&&(b.css("width",i),b.css("left","0px"),b.css("margin-left","auto"),b.css("margin-right","auto")))}b.css({position:"absolute",left:f.left,top:f.top,"z-index":this.zIndex}),this.arrow&&this._addArrow(c,b,d,f)}},_showHint:function(a){a&&"fade"===this.animation&&(a.fadeOut(0),a.fadeIn(this.animationDuration))},_getPosition:function(b,c,d,e){var f,g,h=b.offset(),i=b.outerWidth(),j=b.outerHeight();if(this.rtl&&c.indexOf("left")>=0&&(c="right"),this.rtl&&c.indexOf("right")>=0&&(c="left"),null!=this.ownerElement&&(h={left:0,top:0},h.top=parseInt(h.top)+b.position().top,h.left=parseInt(h.left)+b.position().left),e&&e.hintPositionRelativeElement){var k=a(e.hintPositionRelativeElement);h=k.offset(),i=k.width(),j=k.height()}return f=c.indexOf("top")>=0?h.top-d.outerHeight()-(this.hintPositionOffset+5):c.indexOf("bottom")>=0?h.top+d.outerHeight()+this.hintPositionOffset+5:h.top,g=c.indexOf("center")>=0?h.left+this.hintPositionOffset+(i-d.outerWidth())/2:c.indexOf("left")>=0?h.left-d.outerWidth()-this.hintPositionOffset:c.indexOf("right")>=0?h.left+i+this.hintPositionOffset:h.left+this.hintPositionOffset,c.indexOf(":")>=0&&(c=c.split(":")[1].split(","),g+=parseInt(c[0],10),f+=parseInt(c[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(f)+"_"+Math.round(g)]&&this.positions[Math.round(f)+"_"+Math.round(g)].top==f&&(f+=b.outerHeight()),this.positions[Math.round(f)+"_"+Math.round(g)]={left:g,top:f},{left:g,top:f}},_addArrow:function(b,c,d,e){var f,g,h=a('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>');this.rtl&&d.indexOf("left")>=0&&(d="right"),this.rtl&&d.indexOf("right")>=0&&(d="left"),c.children(".jqx-validator-hint-arrow").remove(),c.append(h);var i=h.outerHeight(),j=h.outerWidth(),k=c.outerHeight(),l=c.outerWidth();this._addImage(h),g=d.indexOf("top")>=0?(k-i)/2+1:d.indexOf("bottom")>=0?-i:(k-i)/2-i/2,d.indexOf("center")>=0?f=(l-j)/2:d.indexOf("left")>=0?f=l-j/2-1:d.indexOf("right")>=0&&(f=-j/2),(d.indexOf("topright")>=0||d.indexOf("bottomright")>=0)&&(f=0),(d.indexOf("topleft")>=0||d.indexOf("bottomleft")>=0)&&(f=l-j),h.css({position:"absolute",left:f,top:g})},_addImage:function(a){var b=a.css("background-image");b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")",""),a.css("background-image","none"),a.append('<img src="'+b+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+a.width()+"px; height: "+a.height()+'px;" />')},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},propertyChangedHandler:function(a,b,c,d){"rules"===b?(this.rules=c,this._removeEventListeners(),this.hide(),this.rules=d,this._configureInputs(),this._removeEventListeners(),this._addEventListeners()):"zIndex"==b?c!=d&&this.updatePosition():"disabled"===b&&(1==d&&this.hide(),this.disabled=d)}})}(jqxBaseFramework),function(a){function b(b,d){var e=b.nodeName.toLowerCase();if("area"===e){var f,g=b.parentNode,h=g.name;return!(!b.href||!h||"map"!==g.nodeName.toLowerCase())&&(f=a("img[usemap=#"+h+"]")[0],!!f&&c(f))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||d:d)&&c(b)}function c(b){var c=a(b);return"none"!==c.css("display")&&"hidden"!==c.css("visibility")}function d(a){var c=a.getAttribute("tabindex"),d=null===c;return(d||c>=0)&&b(a,!d)}a.jqx.jqxWidget("jqxWindow","",{}),a.extend(a.jqx._jqxWindow.prototype,{defineInstance:function(){var b={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18e3,zIndex:9001,_touchEvents:{mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:a.jqx.mobile.getTouchEventName("touchstart")}};return this===a.jqx._jqxWindow.prototype?b:(a.extend(!0,this,b),b)},createInstance:function(){this.host.initAnimate&&this.host.initAnimate(),this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.appendTo(document.body);var b=this,c=function(a){for(var c=0;c<a.length;c++){var d=a[c];b[d]&&b[d].toString().indexOf("px")>=0&&(b[d]=parseInt(b[d],10))}};c(["minWidth","minHeight","maxWidth","maxHeight","width","height"]);var d=function(){var c=parseInt(a(b.restricter).css("padding-top"),10),d=parseInt(a(b.restricter).css("padding-left"),10),e=parseInt(a(b.restricter).css("padding-bottom"),10),f=parseInt(a(b.restricter).css("padding-right"),10),g=a(b.restricter).coord();b.dragArea={left:d+g.left,top:c+g.top,width:1+f+a(b.restricter).width(),height:1+e+a(b.restricter).height()}};if(this.restricter&&d(),this.restricter&&(this.addHandler(a(window),"resize."+this.element.id,function(){d()}),this.addHandler(a(window),"orientationchanged."+this.element.id,function(){d()}),this.addHandler(a(window),"orientationchange."+this.element.id,function(){d()})),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||(this.element.style.display="none"),a.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var e=this;this.isModal&&this._fixWindowZIndex("modal-show"),e.initContent&&(e.initContent(),e._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(b){var c=a.data(document.body,"jqxwindows-list")||[],d=this.zIndex;if(this.isModal){c&&(c=this._removeFromArray(this.host,c),a.data(document.body,"jqxwindows-list",c));var e=a.data(document.body,"jqxwindows-modallist");if(e)if("modal-show"==b)e.push(this.host);else{var f=e.indexOf(this.host);f!=-1&&e.splice(f,1)}else if("modal-show"==b){var g=[];g.push(this.host),a.data(document.body,"jqxwindows-modallist",g),e=g}else a.data(document.body,"jqxwindows-modallist",[]),e=[];return d=this.modalZIndex,a.each(e,function(){if(this.data()&&this.data().jqxWindow){var a=this.data().jqxWindow.instance;a._modalBackground.style.zIndex=d,a.element.style.zIndex=d+1,d+=2}}),void a.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,c)<0&&c.push(this.host),a.data(document.body,"jqxwindows-list",c),c.length>1){var h=c[c.length-2];if("auto"==h.css("z-index"))d=this.zIndex+c.length+1;else{var i=this.zIndex;d=parseInt(h.css("z-index"),10)+1,d<i&&(d=i)}}this.element.style.zIndex=d,this._sortByStyle("z-index",c)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(a){throw new Error(a)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height,10)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width,10)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight&&this.maxHeight&&parseInt(this.minHeight,10)>parseInt(this.maxHeight,10)&&this.maxHeight!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth&&this.maxWidth&&parseInt(this.minWidth,10)>parseInt(this.maxWidth,10)&&this.maxWidth!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration,10))||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration,10))||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&("undefined"==typeof this.dragArea.width||"undefined"==typeof this.dragArea.height||"undefined"==typeof this.dragArea.left||"undefined"==typeof this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var b=a.data(document.body,"jqxwindows-list")||[],c=b.length;c;)if(c-=1,a(b[c].attr("id")).length>0&&a(b[c].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var b=this.host.children();if(1===b.length)this._content=b[0],this._header=document.createElement("div"),this._header.innerHTML=this.host.attr("caption"),this.element.insertBefore(this._header,this._content),this.host.attr("caption",""),this._header=a(this._header),this._content=a(this._content);else{if(2!==b.length)throw new Error("Invalid structure!");this._header=a(b[0]),this._content=a(b[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header[0].innerHTML='<div style="float:left;">'+this._header[0].innerHTML+"</div>",this._headerContentWrapper=a(this._header.children()[0]),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=document.createElement("div"),this._closeButtonWrapper.className=this.toThemeProperty("jqx-window-close-button-background"),this._closeButton=document.createElement("div"),this._closeButton.className=this.toThemeProperty("jqx-window-close-button jqx-icon-close"),this._closeButton.style.width="100%",this._closeButton.style.height="100%",this._closeButtonWrapper.appendChild(this._closeButton),this._header[0].appendChild(this._closeButtonWrapper),this._closeButtonWrapper=a(this._closeButtonWrapper),this._closeButton=a(this._closeButton))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=document.createElement("div"),this._collapseButtonWrapper.className=this.toThemeProperty("jqx-window-collapse-button-background"),this._collapseButton=document.createElement("div"),this._collapseButton.className=this.toThemeProperty("jqx-window-collapse-button jqx-icon-arrow-up"),this._collapseButton.style.width="100%",this._collapseButton.style.height="100%",this._collapseButtonWrapper.appendChild(this._collapseButton),this._header[0].appendChild(this._collapseButtonWrapper),this._collapseButtonWrapper=a(this._collapseButtonWrapper),this._collapseButton=a(this._collapseButton))},_removeModal:function(){this.isModal||"object"!=typeof this._modalBackground||null===this._modalBackground||(this.removeHandler(a(document),"keydown.window"+this.element.id),a("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},10)}catch(b){}},_makeModal:function(){if(this.isModal&&!this._modalBackground){var b=a.data(document.body,"jqxwindows-list");b&&(this._removeFromArray(this.host,b),a.data(document.body,"jqxwindows-list",b)),this._modalBackground=document.createElement("div"),this._modalBackground.className=this.toThemeProperty("jqx-window-modal"),this._setModalBackgroundStyles(),document.body.appendChild(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var c=this,d=function(a,b){return b.contains(a)};this.addHandler(this._modalBackground,"mouseup",function(a){c._stopResizing(c),a.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(a){var b=c._getTabbables();return b.length>0&&(b[0].focus(1),setTimeout(function(){b[0].focus(1)},100)),a.preventDefault(),!1}),this.addHandler(a(document),"keydown.window"+this.element.id,function(b){if(9===b.keyCode){var e=a.data(document.body,"jqxwindows-modallist");if(!(e.length>1&&e[e.length-1][0]!=c.element)){var f=c._getTabbables(),g=null,h=null;if(0!==c.element.offsetWidth&&0!==c.element.offsetHeight&&(f.length>0&&(g=f[0],h=f[f.length-1]),b.target!=c.element&&null!=g))return d(b.target,c.element)&&(b.target!==h||b.shiftKey)?b.target===g&&b.shiftKey?(h.focus(1),!1):void 0:(g.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),a.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this._header[0].tabIndex=0,this._content[0].tabIndex=0),this.element.setAttribute("hideFocus","true"),this.element.style.outline="none"},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header[0].style.position="relative",this.rtl?(this._headerContentWrapper[0].style.direction="rtl",this._headerContentWrapper[0].style["float"]="right"):(this._headerContentWrapper[0].style.direction="ltr",this._headerContentWrapper[0].style["float"]="left"),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){if(this._closeButtonWrapper){if(this.showCloseButton){this._closeButtonWrapper[0].style.visibility="visible";
var a=this._toPx(this.closeButtonSize);this._closeButtonWrapper[0].style.width=a,this._closeButtonWrapper[0].style.height=a}else this._closeButtonWrapper[0].style.visibility="hidden";if(this.showCollapseButton){this._collapseButtonWrapper[0].style.visibility="visible";var b=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=b,this._collapseButtonWrapper[0].style.height=b}else this._collapseButtonWrapper[0].style.visibility="hidden"}},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var a=parseInt(this._header.css("padding-right"),10);isNaN(a)||(this._closeButtonWrapper.width(this.closeButtonSize),this.rtl?(this._closeButtonWrapper[0].style.marginRight="0px",this._closeButtonWrapper[0].style.marginLeft=this._toPx(a)):(this._closeButtonWrapper[0].style.marginRight=this._toPx(a),this._closeButtonWrapper[0].style.marginLeft="0px")),this._closeButtonWrapper[0].style.position="absolute",this.rtl?(this._closeButtonWrapper[0].style.right="",this._closeButtonWrapper[0].style.left="0px"):(this._closeButtonWrapper[0].style.right="0px",this._closeButtonWrapper[0].style.left="")}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var b=parseInt(this._header.css("padding-right"),10);if(!isNaN(b)){var c=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=c,this._collapseButtonWrapper[0].style.height=c,this.rtl?(this._collapseButtonWrapper[0].style.marginRight="0px",this._collapseButtonWrapper[0].style.marginLeft=this._toPx(b)):(this._collapseButtonWrapper[0].style.marginRight=this._toPx(b),this._collapseButtonWrapper[0].style.marginLeft="0px")}this._collapseButtonWrapper[0].style.position="absolute";var d=this._toPx(this.showCloseButton?this._closeButton.outerWidth(!0):0);this.rtl?(this._collapseButtonWrapper[0].style.right="",this._collapseButtonWrapper[0].style.left=d):(this._collapseButtonWrapper[0].style.right=d,this._collapseButtonWrapper[0].style.left=""),this._centerElement(this._collapseButton,a(this._collapseButton[0].parentElement),"y")}},_performWidgetLayout:function(){var a;"auto"!==this.width&&(this.element.style.width=this._toPx(this.width)),this.collapsed||("auto"!==this.height?this.element.style.height=this._toPx(this.height):this.element.style.height=this.host.height()+"px",this.element.style.minHeight=this._toPx(this.minHeight)),this._setChildrenLayout(),a=this._validateMinSize(),this.element.style.maxHeight=this._toPx(this.maxHeight),this.element.style.minWidth=this._toPx(this.minWidth),this.element.style.maxWidth=this._toPx(this.maxWidth),a||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var b=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),b=!1);var c=a(this._header.children()[0]).outerWidth(),d=this._header.children()[1]?a(this._header.children()[1]).outerWidth():0,e=c+d;return this.minWidth<100&&(this.minWidth=Math.min(e,100),b=!1),b},_centerElement:function(a,b,c,d){"number"==typeof b.left&&"number"==typeof b.top&&"number"==typeof b.height&&"number"==typeof b.width?this._centerElementInArea(a,b,c):this._centerElementInParent(a,b,c,d)},_centerElementInParent:function(a,b,c,d){var e,f,g="none"===a.css("display");if(c=c.toLowerCase(),d?(e=d+"Top",f=d+"Left"):(e="top",f="left"),c.indexOf("y")>=0){g&&(a[0].style.display="block");var h,i=a.outerHeight(!0);g&&(a[0].style.display="none"),h=b.height();var j=Math.max(0,h-i)/2;a[0].style[e]=j+"px"}if(c.indexOf("x")>=0){g&&(a[0].style.display="block");var k,l=a.outerWidth(!0);g&&(a[0].style.display="none"),k=b.width();var m=Math.max(0,k-l)/2;a[0].style[f]=m+"px"}},_centerElementInArea:function(a,b,c){if(c=c.toLowerCase(),c.indexOf("y")>=0){var d=a.outerHeight(!0),e=b.height,f=(e-d)/2;a[0].style.top=f+b.top+"px"}if(c.indexOf("x")>=0){var g=a.outerWidth(!0),h=b.width,i=(h-g)/2;a[0].style.left=i+b.left+"px"}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.okButton&&this.removeHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.cancelButton&&this.removeHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler),this.mouseupFuncForDragOnTop&&(this.removeHandler(a(window.top.document),"mouseup",this.mouseupFuncForDragOnTop),this.mouseupFuncForDragOnTop=null,delete this.mouseupFuncForDragOnTop),this.mouseupFuncForResizeOnTop&&(this.removeHandler(a(window.top.document),"mouseup",this.mouseupFuncForResizeOnTop),this.mouseupFuncForResizeOnTop=null,delete this.mouseupFuncForResizeOnTop),this.removeHandler(this._modalBackground,this._getEvent("click")),this.removeHandler(this._modalBackground,this._getEvent("mouseup")),this.removeHandler(this._modalBackground,this._getEvent("mousedown"))},_removeFromArray:function(a,b){var c=this._indexOf(a,b);return c>=0?b.splice(this._indexOf(a,b),1):b},_sortByStyle:function(a,b){for(var c=0;c<b.length;c++)for(var d=b.length-1;d>c;d--){var e,f=b[d],g=b[d-1];parseInt(f.css(a),10)<parseInt(g.css(a),10)&&(e=f,b[d]=g,b[d-1]=e)}},_initializeResize:function(){if(this.resizable){var a=this;this.initResize({target:this.host,alsoResize:a._content,maxWidth:a.maxWidth,minWidth:a.minWidth,maxHeight:a.maxHeight,minHeight:a.minHeight,indicatorSize:10,resizeParent:a.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var a=this;this.addHandler(this._header,this._getEvent("mousemove"),function(){a._addHeaderCursorHandlers(a)})},_addResizeHandlers:function(){var a=this;a.addHandler(a.host,"resizing",a._windowResizeHandler,{self:a})},_windowResizeHandler:function(a){var b=a.data.self;b._header.width(b.host.width()-(b._header.outerWidth(!0)-b._header.width())),b.width=a.args.width,b.height=a.args.height},_addHeaderHoverEffect:function(){var b=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){a(this).addClass(b.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){a(this).removeClass(b.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var b=this;this.isModal&&this.addHandler(a(window),"resize.window"+this.element.id,function(){if("object"==typeof b._modalBackground&&null!==b._modalBackground){if(b.isOpen()&&(b._modalBackground.style.display="none"),b.restricter)b._modalBackground.style.left=b._toPx(b.dragArea.left),b._modalBackground.style.top=b._toPx(b.dragArea.top),b._modalBackground.style.width=b._toPx(b.dragArea.width),b._modalBackground.style.height=b._toPx(b.dragArea.height);else{var a=b._getDocumentSize();b._modalBackground.style.width=a.width+"px",b._modalBackground.style.height=a.height+"px"}b.isOpen()&&(b._modalBackground.style.display="block")}})},_setDialogResultHandler:function(a){var b=a.data.self;b._setDialogResult(a.data.result),b.closeWindow()},_setDialogResult:function(a){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,a=a.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var b=a.jqx.browser.msie&&a.jqx.browser.version<9,c=b?4:0,d=c;return document.body.scrollHeight>document.body.clientHeight&&b&&(c=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&b&&(d=this._SCROLL_WIDTH),{width:a(document).width()-c,height:a(document).height()-d}},_closeButtonHover:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){a._closeButton.addClass(a.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){a._closeButton.removeClass(a.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){a._collapseButton.addClass(a.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){a._collapseButton.removeClass(a.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){if(this.isModal){var b=this._getDocumentSize();a.jqx.browser.msie&&a.jqx.browser.version<9?this._modalBackground.style.filter="alpha(opacity="+100*this.modalOpacity+")":this._modalBackground.style.opacity=this.modalOpacity,this._modalBackground.style.position="absolute",this._modalBackground.style.top="0px",this._modalBackground.style.left="0px",this._modalBackground.style.width=this._toPx(b.width),this._modalBackground.style.height=this._toPx(b.height),this._modalBackground.style.zIndex=this.modalBackgroundZIndex,this.autoOpen||(this._modalBackground.style.display="none")}},_addFocusHandlers:function(){var a=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){a.isModal||a.bringToFront()})},_indexOf:function(a,b){for(var c=0;c<b.length;c++)if(b[c][0]===a[0])return c;return-1},_addCloseHandlers:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("click"),function(b){return a._closeWindow(b)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(b){b.keyCode===a.keyboardCloseKey&&null!=a.keyboardCloseKey&&"none"!=a.keyboardCloseKey?a._closeWindow(b):a._handleKeys(b)},{self:this}),this.addHandler(this.host,"keyup",function(){if(a.keyboardNavigation&&a._moved){var b=a.host.coord(),c=b.left,d=b.top;a._raiseEvent(3,c,d,c,d),a._moved=!1}})},_handleKeys:function(b){if(this.keyboardNavigation&&this._headerFocused&&!a(document.activeElement).ischildof(this._content)){var c=b.ctrlKey,d=b.keyCode,e=this.host.coord(),f=e.left,g=e.top,h=this._getDraggingArea(),i=this.host.width(),j=this.host.height(),k=!0,l=10;switch(d){case 37:c?this.resizable&&this.resize(i-l,j):this.draggable&&f-l>=0&&this.move(f-l,g),k=!1;break;case 38:c?this.resizable&&this.resize(i,j-l):this.draggable&&g-l>=0&&this.move(f,g-l),k=!1;break;case 39:c?this.resizable&&this.resize(i+l,j):this.draggable&&f+i+l<=h.width&&this.move(f+l,g),k=!1;break;case 40:c?this.resizable&&this.resize(i,j+l):this.draggable&&g+j+l<=h.height&&this.move(f,g+l),k=!1}return k||(b.preventDefault&&b.preventDefault(),b.stopPropagation&&b.stopPropagation()),k}},_addCollapseHandlers:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){a.collapsed?a.expand():a.collapse()})},_closeWindow:function(){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(a){return a.resizeArea&&a.resizable&&!a.collapsed?void(a._header[0].style.cursor=a._resizeWrapper.style.cursor):a.draggable?void(a._header[0].style.cursor="move"):(a._header[0].style.cursor="default",void(a._resizeWrapper&&(a._resizeWrapper.style.cursor="default")))},_addDragDropHandlers:function(){if(this.draggable){var b=this;this.addHandler(this.host,"focus",function(){b._headerFocused=!0}),this.addHandler(this.host,"blur",function(){b._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return b._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(a,c,d){return c&&(a.pageX=c),d&&(a.pageY=d),b._headerMouseDownHandler(b,a),!0}),this.addHandler(this._header,"dragstart",function(a){return a.preventDefault&&a.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(a){return b._headerMouseMoveHandler(b,a)}),this.addHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(a){return b._dragHandler(b,a)}),this.addHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(a){return b._dropHandler(b,a)});try{if(""!==document.referrer||window.frameElement){var c=null;null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(c=document.referrer),c&&c.indexOf(document.location.host)!=-1&&window.top.document&&(b.mouseupFuncForDragOnTop=function(a){b._dropHandler(b,a)},b.addHandler(a(window.top.document),"mouseup",b.mouseupFuncForDragOnTop))}}catch(d){}}},_headerMouseDownHandler:function(b,c){if(b.isModal||b.bringToFront(),null==b._resizeDirection){var d=a.jqx.position(c);b._mousePosition.x=d.left,b._mousePosition.y=d.top,b._mouseDown=!0,b._isDragging=!1}},_headerMouseMoveHandler:function(b,c){if(b._mouseDown&&!b._isDragging){var d=a.jqx.mobile.getTouches(c),e=d[0],f=e.pageX,g=e.pageY,h=a.jqx.position(c);return f=h.left,g=h.top,(f+3<b._mousePosition.x||f-3>b._mousePosition.x||g+3<b._mousePosition.y||g-3>b._mousePosition.y)&&(b._isDragging=!0,b._mousePosition={x:f,y:g},b._windowPosition={x:b.host.coord().left,y:b.host.coord().top},a(document.body).addClass(b.toThemeProperty("jqx-disableselect"))),!!b._isTouchDevice&&(c.preventDefault(),!0)}return!b._isDragging||!!b._isTouchDevice&&(c.preventDefault(),!0)},_dropHandler:function(b,c){var d=!0;if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var e=parseInt(b.host.css("left"),10),f=parseInt(b.host.css("top"),10),g=b._isTouchDevice?0:c.pageX,h=b._isTouchDevice?0:c.pageY;b.enableResize=b._enableResizeBackup,b._enableResizeBackup="undefined",b._raiseEvent(3,e,f,g,h),d=!1,"undefined"!=c.preventDefault&&c.preventDefault(),null!=c.originalEvent&&(c.originalEvent.mouseHandled=!0),"undefined"!=c.stopPropagation&&c.stopPropagation()}return b._isDragging=!1,b._mouseDown=!1,a(document.body).removeClass(b.toThemeProperty("jqx-disableselect")),d},_dragHandler:function(b,c){if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var d=b._isTouchDevice?c.originalEvent.which:c.which;if("undefined"==typeof b._enableResizeBackup&&(b._enableResizeBackup=b.enableResize),b.enableResize=!1,0===d&&a.jqx.browser.msie&&a.jqx.browser.version<8)return b._dropHandler(b,c);var e=a.jqx.position(c),f=e.left,g=e.top,h=f-b._mousePosition.x,i=g-b._mousePosition.y,j=b._windowPosition.x+h,k=b._windowPosition.y+i;return b.move(j,k,c),c.preventDefault(),!1}return!0},_validateCoordinates:function(a,b,c,d){var e=this._getDraggingArea();a=a<e.left?e.left:a,b=b<e.top?e.top:b;var f=this.host.outerWidth(!0),g=this.host.outerHeight(!0);return a+f>=e.width+e.left-2*d&&(a=e.width+e.left-f-d),b+g>=e.height+e.top-c&&(b=e.height+e.top-g-c),{x:a,y:b}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.element.style.left=this._toPx(this.position[0]),this.element.style.top=this._toPx(this.position[1]);else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!==this.position.y)this.element.style.left=this._toPx(this.position.x),this.element.style.top=this._toPx(this.position.y);else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var a=this.position.center.coord(),b=parseInt(this.host.css("left"),10),c=parseInt(this.host.css("top"),10);this.element.style.left=this._toPx(b+a.left),this.element.style.top=this._toPx(c+a.top)}}else this._positionFromLiteral()},_getDraggingArea:function(){var a={};return a.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,a.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,a.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,a.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,a},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var b=this.position.length,c=this._getDraggingArea();b;)switch(b-=1,this.position[b]=this.position[b].replace(/ /g,""),this.position[b]){case"top":this.element.style.top=this._toPx(c.top);break;case"left":this.element.style.left=this._toPx(c.left);break;case"bottom":this.element.style.top=this._toPx(c.height-this.host.height()+c.top);break;case"right":this.element.style.left=this._toPx(c.left+c.width-this.host.width());break;default:this.dragArea||(c=a(window)),this._centerElement(this.host,c,"xy")}},_raiseEvent:function(b){var c=this._events[b],d=a.Event(c),e={};return 2!==b&&3!==b||(e.x=arguments[1],e.y=arguments[2],e.pageX=arguments[3],e.pageY=arguments[4]),"closed"!==c&&"close"!==c||(e.dialogResult=this.dialogResult),d.args=e,this.host.trigger(d)},destroy:function(){this.removeHandler(a(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){if(this.isModal){this.removeHandler(a(document),"keydown.window"+this.element.id);var b=a.data(document.body,"jqxwindows-modallist");b&&b.length>=0&&(this._removeFromArray(this.host,b),0==b.length&&a.removeData(document.body,"jqxwindows-modallist"))}a.removeData(document.body,"jqxwindow-modal");var c=a.data(document.body,"jqxwindows-list");c&&(this._removeFromArray(this.host,c),0==c.length&&a.removeData(document.body,"jqxwindows-list")),this.isModal&&null!==this._modalBackground&&a(this._modalBackground).remove(),this.restricter&&(this.removeHandler(a(window),"resize."+this.element.id),this.removeHandler(a(window),"orientationchanged."+this.element.id),this.removeHandler(a(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&a(this._modalBackground).remove()},_toClose:function(a,b){return a&&b[0]===this.element||b[0]!==this.element&&"object"==typeof b[0]},propertyChangedHandler:function(b,c,d,e){switch(this._validateProperties(),c){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":if(this._refresh(),this._fixWindowZIndex(),e===!1)for(var f=a.data(document.body,"jqxwindows-modallist"),g=[],h=0;h<f.length;h++){var i=f[h][0];i!==this.element&&g.push(f[h])}a.data(document.body,"jqxwindows-modallist",g);break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":e?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(e),this.title=e;break;case"content":this.setContent(e);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":this.enableResize=e,e?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":e?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":e?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":e?d||(this.collapsed=!1,this.collapse(0)):d&&(this.collapsed=!0,this.expand(0));break;case"theme":a.jqx.utilities.setTheme(d,e,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return b._performLayout(),b._removeResize(),void b._initializeResize();default:return}},collapse:function(b){if(!this.collapsed&&this._animationInProgress!==!0){if("none"==this.host.css("display"))return;var c=this,d=this._header.outerHeight(!0),e=parseInt(this._header.css("border-bottom-width"),10),f=parseInt(this._header.css("margin-bottom"),10);b=isNaN(parseInt(b,10))?this.collapseAnimationDuration:b,isNaN(e)||(d-=2*e),isNaN(f)||(d+=f),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.element.style.minHeight=this._toPx(d),c._animationInProgress=!0,this.host.animate({height:d},{duration:b,complete:function(){c._animationInProgress=!1,c.collapsed=!0,c._collapseButton.addClass(c.toThemeProperty("jqx-window-collapse-button-collapsed")),c._collapseButton.addClass(c.toThemeProperty("jqx-icon-arrow-down")),c._content[0].style.display="none",c._raiseEvent(5),c._raiseEvent(9),a.jqx.aria(c,"aria-expanded",!1)}})}},expand:function(b){if(this.collapsed&&this._animationInProgress!==!0){var c=this;b=isNaN(parseInt(b,10))?this.collapseAnimationDuration:b,c._animationInProgress=!0,this.host.animate({height:this._heightBeforeCollapse},{duration:b,complete:function(){c._animationInProgress=!1,c.collapsed=!1,c.element.style.minHeight=c._toPx(c._minHeightBeforeCollapse),c._collapseButton.removeClass(c.toThemeProperty("jqx-window-collapse-button-collapsed")),c._collapseButton.removeClass(c.toThemeProperty("jqx-icon-arrow-down")),c._content[0].style.display="block",c._raiseEvent(6),c._performWidgetLayout(),c._raiseEvent(9),a.jqx.aria(c,"aria-expanded",!0)}})}},closeAll:function(b){b=!0;for(var c=a.data(document.body,"jqxwindows-list"),d=c.length,e=a.data(document.body,"jqxwindow-modal")||[];d;)d-=1,this._toClose(b,c[d])&&(c[d].jqxWindow("closeWindow","close"),c.splice(d,1));this._toClose(b,e)&&(e.jqxWindow("closeWindow","close"),a.data(document.body,"jqxwindow-modal",[])),a.data(document.body,"jqxwindows-list",c)},setTitle:function(a){if("string"==typeof a)this._headerContentWrapper.html(a);else if("object"==typeof a)try{this._headerContentWrapper[0].innerHTML="",a instanceof HTMLElement?this._headerContentWrapper[0].appendChild(a):a.appendTo&&a.appendTo(this._headerContentWrapper)}catch(b){throw new Error(b)}this.title=a,this._performLayout()},setContent:function(b){this._contentInitialized=!1;for(var c=this._content,d=!1;!d;)c[0].style.width="auto",c[0].style.height="auto",c.hasClass("jqx-window")?d=!0:c=a(c[0].parentNode);if(a.isArray(b))for(var e=0;e<b.length;e++)b[e].appendTo(this._content);else if("string"==typeof b)a(this._content[0]).html(b);else if("object"==typeof b)try{this._content[0].innerHTML="",b instanceof HTMLElement?this._content[0].appendChild(b):b.appendTo&&b.appendTo(this._content)}catch(f){throw new Error(f)}this.content=b,this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(a){var b=this;a="undefined"==typeof a?this.closeButtonAction:a,this.hide(function(){"close"===a&&b._destroy()})},bringToFront:function(){var b=a.data(document.body,"jqxwindows-list");if(this.isModal)return b=a.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var c=b[b.length-1],d=parseInt(c.css("z-index"),10),e=this._indexOf(this.host,b),f=b.length-1;f>e;f-=1){var g=parseInt(b[f].css("z-index"),10)-1;b[f][0].style.zIndex=g}this.element.style.zIndex=d,this._sortByStyle("z-index",b)},hide:function(b,c,d){var e=this;if(this.closing){var f=this.closing();if(f===!1)return}switch(c=c||this.closeAnimationDuration,this.animationType){case"none":this.element.style.display="none";break;case"fade":e._animationInProgress=!0,this.host.fadeOut({duration:c,callback:function(){e._animationInProgress=!1,b instanceof Function&&b()}});break;case"slide":e._animationInProgress=!0,this.host.slideUp({duration:c,callback:function(){e._animationInProgress=!1,b instanceof Function&&b()}});break;case"combined":e._animationInProgress=!0,this.host.animate({opacity:0,width:"0px",height:"0px"},{duration:c,complete:function(){e._animationInProgress=!1,e.element.style.display="none",b instanceof Function&&b()}})}this._visible=!1,this.isModal&&(a(this._modalBackground).hide(),this._fixWindowZIndex("modal-hide")),d!==!0&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(a,b){this.show(a,b)},close:function(a,b,c){this.hide(a,b,c)},show:function(b,c){var d=this;switch(this._setDialogResult("none"),c=c||this.showAnimationDuration,this.animationType){case"none":this.element.style.display="block";break;case"fade":d._animationInProgress=!0,this.host.fadeIn({duration:c,complete:function(){d._animationInProgress=!1,b instanceof Function&&b()}});break;case"slide":d._animationInProgress=!0,this.host.slideDown({duration:c,callback:function(){d._animationInProgress=!1,b instanceof Function&&b()}});break;case"combined":this.element.style.display="block";var e=d.host.width(),f=d.host.height();this.element.style.minWidth="0px",this.element.style.minHeight="0px",this.element.style.opacity=0,this.element.style.width="0px",this.element.style.height="0px",d._animationInProgress=!0,this.host.animate({opacity:1,width:e+"px",height:f+"px"},{duration:c,complete:function(){d._animationInProgress=!1,d._performLayout(),b instanceof Function&&b()}})}this.isModal&&(a(this._modalBackground).show(),this._fixWindowZIndex("modal-show"));var g=this;if(this._visible||(c>150&&"none"!=this.animationType?setTimeout(function(){g._contentInitialized||g.initContent&&(g.initContent(),g._contentInitialized=!0),g._raiseEvent(7),g._raiseEvent(9)},c-150):(g._contentInitialized||g.initContent&&(g.initContent(),g._contentInitialized=!0),this._raiseEvent(7),g._raiseEvent(9))),this._visible=!0,"combined"!==d.animationType&&this._performLayout(),this.autoFocus){var h=function(){g._isTouchDevice||g._content[0].focus()};h()}},_getTabbables:function(){var b;b=a.jqx.browser.msie&&a.jqx.browser.version<9?this._content.find("*"):this._content[0].querySelectorAll("*");var c=[];return a.each(b,function(){d(this)&&(c[c.length]=this)}),c},move:function(b,c,d,e){var f,g,h,i=0,j=0;if(b=parseInt(b,10),c=parseInt(c,10),a.jqx.browser.msie&&(a(window).width()>a(document).width()&&!this.dragArea&&(j=this._SCROLL_WIDTH),a(window).height()<a(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(i=this._SCROLL_WIDTH)),f=this._validateCoordinates(b,c,j,i),parseInt(this.host.css("left"),10)!==f.x||parseInt(this.host.css("top"),10)!==f.y){if(d){var k=a.jqx.position(d);g=k.left,h=k.top}void 0===g&&(g=b),void 0===h&&(h=c),e!==!1&&this._raiseEvent(2,f.x,f.y,g,h)}this.element.style.left=f.x+"px",this.element.style.top=f.y+"px",this._moved=!0},_toPx:function(a){return"number"==typeof a?a+"px":a}})}(jqxBaseFramework),function(a){var b=function(a){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var b=a(this.resizeTarget.children(".jqx-resize"));b.detach();var c=b.children();this._removeResizeEventListeners();for(var d=0;d<c.length;d+=1)a(c[d]).detach(),this.resizeTarget.append(c[d]);b.remove()}this._resizeDirection=null},initResize:function(b){this.resizeConfig(),this.resizeTarget=a(b.target),this.resizeIndicatorSize=b.indicatorSize||10,this.maxWidth=b.maxWidth||100,this.minWidth=b.minWidth||1,this.maxHeight=b.maxHeight||100,this.minHeight=b.minHeight||1,this.resizeParent=b.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,b.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(b,c,d,e,f){this.resizeTargetChildren=a(f),this.resizeTargetChildren=this.resizeTargetChildren.toArray();for(var g=this.resizeTargetChildren.length;g;)g-=1,this.resizeTargetChildren[g]=a(this.resizeTargetChildren[g])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),
this._addResizeEventHandlers()},_renderResize:function(){var b=this;if(!(void 0!==b._resizeWrapper&&a(b._resizeWrapper).parents().length>0)){var c=document.createElement("div");c.className="jqx-resize jqx-rc-all",c.style.zIndex=8e3,c.appendChild(b._header[0]),c.appendChild(b._content[0]),b.resizeTarget[0].appendChild(c),b._resizeWrapper=c}},_performResizeLayout:function(){this._resizeWrapper.style.height=this.resizeTarget.height()+"px",this._resizeWrapper.style.width=this.resizeTarget.width()+"px"},_removeResizeEventListeners:function(){var b=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+b),this.removeHandler(this._resizeWrapper,"mousedown.resize"+b),this.removeHandler(a(document),"mousemove.resize"+b),this.removeHandler(a(document),"mouseup.resize"+b)},_addResizeEventHandlers:function(){var b=this.resizeTarget.attr("id"),c=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+b,function(a){c._resizeCursorChangeHandler(c,a)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+b,function(a){c._resizeMouseDownHandler(c,a)}),this.addHandler(a(document),"mousemove.resize."+b,function(a){return c._resizeHandler(c,a)}),this.addHandler(a(document),"mouseup.resize."+b,function(a){c._stopResizing(c,a)});try{if(""!==document.referrer||window.frameElement){var d=null;null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(d=document.referrer),d&&d.indexOf(document.location.host)!=-1&&(c.mouseupFuncForResizeOnTop=function(a){c._stopResizing(c,a)},window.top.document&&c.addHandler(a(window.top.document),"mouseup",c.mouseupFuncForResizeOnTop))}}catch(e){c.mouseupFuncForResizeOnTop=null}},_stopResizing:function(a){a.enableResize&&(a.isResizing&&a._raiseResizeEvent(1),a._resizeMouseDown=!1,a.isResizing=!1,a._resizeDirection=null,a.resizeTarget&&a.resizeTarget.removeClass("jqx-disableselect")),"undefined"==a._cursorBackup&&(a._cursorBackup="default"),a._resizeWrapper&&(a._resizeWrapper.style.cursor=a._cursorBackup)},_resizeHandler:function(b,c){if(b.enableResize&&!b.collapsed)return b.isResizing&&b._resizeDirection?(0===c.which&&a.jqx.browser.msie&&a.jqx.browser.version<9&&b._stopResizing(c),b._performResize(c.pageX,c.pageY),!1):b._resizeCaptureCursor(c.pageX,c.pageY)},_resizeCaptureCursor:function(a,b){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(a+3<this._mouseResizePosition.x||a-3>this._mouseResizePosition.x||b+3<this._mouseResizePosition.y||b-3>this._mouseResizePosition.y))return this._changeCursor(a-parseInt(this.resizeTarget.css("left"),10),b-parseInt(this.resizeTarget.css("top"),10)),this._mouseResizePosition={x:a,y:b},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var a,b=this.resizeTargetChildren.length;b;)b-=1,a=this.resizeTargetChildren[b],this.resizeTargetChildren[b].lastWidth=a.width(),this.resizeTargetChildren[b].lastHeight=a.height()},_performResize:function(a,b){var c=a-this._mouseResizePosition.x,d=b-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,c,d)},_resizeCursorChangeHandler:function(a,b){a.enableResize&&!a.collapsed&&(a.isResizing||a._changeCursor(b.pageX-parseInt(a.resizeTarget.css("left"),10),b.pageY-parseInt(a.resizeTarget.css("top"),10)))},_resizeMouseDownHandler:function(a,b){a.enableResize&&null!==a._resizeDirection&&(a._resizeMouseDown=!0,a._mouseResizePosition.x=b.pageX,a._mouseResizePosition.y=b.pageY,b.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight,10)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight,10)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth,10)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth,10)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize,10)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(a){throw new Error(a)}},_changeCursor:function(a,b){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,a<=this.resizeIndicatorSize&&a>=0&&b<=this.resizeIndicatorSize&&b>0?(this._resizeWrapper.style.cursor="nw-resize",this._resizeDirection="topleft"):b<=this.resizeIndicatorSize&&b>0&&a>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.style.cursor="ne-resize",this._resizeDirection="topright"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a<=this.resizeIndicatorSize&&a>=0?(this._resizeWrapper.style.cursor="sw-resize",this._resizeDirection="bottomleft"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="se-resize",this._resizeDirection="bottomright"):a<=this.resizeIndicatorSize&&a>=0?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="left"):b<=this.resizeIndicatorSize&&b>0?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="top"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="bottom"):a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="right"):(this._resizeWrapper.style.cursor=this._cursorBackup,this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(a){this._resizeMethods=[],a.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),a.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),a.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),a.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(a,b,c,d,e){return"horizontal"===c||"both"===c?this._validateWidth(a,d,e):"vertical"===c||"both"===c?this._validateHeight(b,d,e):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:a(document).width(),height:a(document).height()}},_validateHeight:function(b,c,d){var e=0,f=2,g=this._getParent();return a(window).width()>a(document).width()&&a.jqx.browser.msie&&g.height===a(document).height()&&(e=this._SCROLL_WIDTH),"bottom"===d&&b+c.position().top+e+f>g.height+g.top?{fix:g.height-c.position().top-e-f+g.top,result:!1}:"top"===d&&c.lastHeight-b+c.y<g.top?{fix:b+(c.lastHeight-b+c.y)-g.top,result:!1}:b<c.minHeight?{fix:c.minHeight,result:!1}:b>c.maxHeight?{fix:c.maxHeight,result:!1}:{result:!0,fix:b}},_validateWidth:function(b,c,d){var e=0,f=2,g=this._getParent();return a(window).height()<a(document).height()&&a.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&g.width===a(document).width()&&(e=this._SCROLL_WIDTH),"right"===d&&b+c.position().left+e+f>g.width+g.left?{fix:g.width-c.position().left-e-f+g.left,result:!1}:"left"===d&&c.lastWidth-b+c.x<g.left?{fix:b+(c.lastWidth-b+c.x)-g.left,result:!1}:b<c.minWidth?{fix:c.minWidth,result:!1}:b>c.maxWidth?{fix:c.maxWidth,result:!1}:{result:!0,fix:b}},_resize:function(a,b,c){for(var d=this._resizeMethods.length,e=0;e<d;e++)if(this._resizeMethods[e]instanceof Function){var f={element:a,x:b,y:c,self:this};this._resizeMethods[e](f)}this._performResizeLayout()},resize:function(a,b){if(this.resizable){var c=a-this.host.width(),d=b-this.host.height(),e="right";0!==d&&(e="bottom"),this._resizeDirection=e,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,c,d),this.isResizing=!1}},_setResizeChildrenSize:function(a,b){for(var c=this.resizeTargetChildren.length;c;)if(c--,"width"===b){var d=this.resizeTargetChildren[c].lastWidth-(this.resizeTarget.lastWidth-a);d<this.resizeTarget.maxWidth&&d>0&&this.resizeTargetChildren[c].width(d)}else{var e=this.resizeTargetChildren[c].lastHeight-(this.resizeTarget.lastHeight-a);e<this.resizeTarget.maxHeight&&e>0&&this.resizeTargetChildren[c].height(e)}},_resizeRight:function(a){var b=a.element.lastWidth+a.x,c=a.self._validateResize(b,0,"horizontal",a.element,"right");return c.result||(b=c.fix),a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.self._raiseResizeEvent(0)),b},_resizeLeft:function(a){var b=a.element.lastWidth-a.x,c=a.self._validateResize(b,0,"horizontal",a.element,"left"),d=a.element.x+a.x;return c.result?(a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.element[0].style.left=a.self._toPx(d),a.self._raiseResizeEvent(0)),b):(d=a.element.x+(a.element.lastWidth-c.fix),void(b=c.fix))},_resizeBottom:function(a){var b=a.element.lastHeight+a.y,c=a.self._validateResize(0,b,"vertical",a.element,"bottom");return c.result||(b=c.fix),a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.self._raiseResizeEvent(0)),b},_resizeTop:function(a){var b=a.element.lastHeight-a.y,c=a.self._validateResize(0,b,"vertical",a.element,"top"),d=a.element.y+a.y;return c.result?(a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.element[0].style.top=a.self._toPx(d),a.self._raiseResizeEvent(0)),b):(d=a.element.y+(a.element.lastHeight-c.fix),void(b=c.fix))},_raiseResizeEvent:function(b){var c=this._resizeEvents[b],d=a.Event(c),e={};if(e.width=parseInt(this.resizeTarget[0].style.width,10),e.height=parseInt(this.resizeTarget[0].style.height,10),d.args=e,0===b){c=this._resizeEvents[2];var f=a.Event(c);f.args=e,this.resizeTarget.trigger(f)}return this.resizeTarget.trigger(d)}}}(jqxBaseFramework);a.extend(a.jqx._jqxWindow.prototype,b)}(jqxBaseFramework),!jqxBaseFramework)var jqxBaseFramework=window.minQuery||window.jQuery;!function(a,b,c){function d(b,c,d,e,f){if(e&&f)switch(b){case"jqxGrid":case"jqxDataTable":case"jqxTreeGrid":if(d.columns){var g=e.columns||e,h=f.columns||f;if(g.length!=h.length)return!1;var i={};if(a.each(g,function(a,b){var c=this;for(var d in this)if(c[d]!=h[a][d]){var e=c.datafield||c.dataField;i[e]||(i[e]={}),i[e][d]=c[d]}}),!a.isEmptyObject(i))return a.each(i,function(b,d){for(var e in d){var f=a(c).jqxProxy("getcolumnproperty",b,e);f!==d[e]&&a(c).jqxProxy("setcolumnproperty",b,e,d[e])}}),!0}}return!1}function e(d,e,g,h,i,j,k){var l=function(b){if("jqxTree"===j||"jqxMenu"===j)return b;if("object"==typeof b&&b&&null!=b._bindingUpdate)return b;var c={},d=!1;if(a.isArray(b)||b instanceof Object&&!b.url&&!b.localdata&&!b.localData){if("jqxChart"===j)return b;if(d=!0,c.localData=b,c.type="array",b[0]){var e=new Array;"object"==a.type(b[0])&&(a.each(b[0],function(b,c){var d={name:b,type:a.type(c)};e.push(d)}),c.datafields=e)}}else b&&b.url?c=b:b&&(b.localdata||b.localData)&&(c=b);if(a.jqx.dataAdapter){var f=new a.jqx.dataAdapter(c);return f}return d?b:null};if(g.jqxSource!=c){var m=d.$watchCollection(g.jqxSource,function(c,f){if(c!=f){if(b.equals(c,f))return;if(c&&f&&c._source&&f._source&&b.equals(c._source,f._source))return;var h=l(c);a(e).jqxProxy({source:h});var i=b.extend({},d.$eval(g.jqxSettings));g.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged("source",f,c)}});k.push(m)}else if(g.jqxSettings!=c){var n={},o=null,q=p(g.jqxSettings)(d),r=e.controller();for(var s in r)if(q&&r[s]==q.source){o=s;break}if(!o)for(var s in d)if(q&&d[s]==q.source){o=s;break}if(o){var t="";for(var s in d)if(d[s]==r){t=s;break}""!=t&&(o=t+"."+o);var m=i.$watchCollection(o,function(c,f){if(c!=f){if(b.equals(c,f))return;if(c&&f&&c._source&&f._source&&b.equals(c._source,f._source))return;var h=a.isArray(c)||"array"===a.type(c);if(new Date-n["jqxSettings.source"]>1e3||n=={}||!n["jqxSettings.source"]||h){var i=l(c);a(e).jqxProxy({source:i});var j=b.extend({},d.$eval(g.jqxSettings));g.jqxSettings&&j&&j.propertyChanged&&j.propertyChanged("source",f,c),n.property=new Date}}});k.push(m)}var m=d.$watchCollection(g.jqxSettings+".source",function(c,f){if(c!=f){if(b.equals(c,f))return;if(c&&f&&c._source&&f._source&&b.equals(c._source,f._source))return;if(new Date-n.property>1e3||!n["jqxSettings.property"]||n=={}){var h=l(c);a(e).jqxProxy({source:h});var i=b.extend({},d.$eval(g.jqxSettings));g.jqxSettings&&i&&i.propertyChanged&&i.propertyChanged("source",f,c),n["jqxSettings.source"]=new Date}}});k.push(m);var m=d.$watchCollection(g.jqxSettings,function(c,h){if(c){if(!h){var i=l(c.source);return void a(e).jqxProxy({source:i})}if(c.source!=h.source){if(b.equals(c.source,h.source))return;if(c&&h&&c.source&&h.source&&c.source._source&&h.source._source&&b.equals(c.source._source,h.source._source))return;if(c.source&&h.source&&a.isArray(c.source)&&a.isArray(h.source)&&f(c.source)==f(h.source))return;if(new Date-n.property>1e3||!n["jqxSettings.source"]||n=={}){var i=l(c.source);a(e).jqxProxy({source:i});var j=b.extend({},d.$eval(g.jqxSettings));g.jqxSettings&&j&&j.propertyChanged&&j.propertyChanged("source",h.source,c.source),n["jqxSettings.source"]=new Date}}}});k.push(m)}return l(h)}function f(b){if(null==b)return"";var c="";return a.each(b,function(b){var d=this;b>0&&(c+=", "),c+="[";var e=0;if("object"==a.type(d))for(var f in d)e>0&&(c+=", "),c+="{"+f+":"+d[f]+"}",e++;else e>0&&(c+=", "),c+="{"+b+":"+d+"}",e++;c+="]"}),c}function g(b,c,d,e,f,g){a.extend(a.jqx["_"+e].prototype,{definedInstance:function(){if(this.element&&this.element!==c[0])return!0;if(this.base&&this.base.element!==c[0])return!0;var h=this,i=function(c){a.each(g,function(d,e){h.addHandler(a(c),d,function(c){b.$parent?a.proxy(e,f)(c):e(c),"$apply"!=b.$root.$$phase&&"$digest"!=b.$root.$$phase&&b.$apply()})});var e=d.$attr;if(a.each(d,function(f,g){if(f.indexOf("jqxOn")>=0){var i=e[f].substring(7),j=a.camelCase(i),k=g;h.addHandler(a(c),j,function(a){if(a.data=d.data||d.jqxData,k.indexOf("(")>=0){var c=k.indexOf("("),e=p(k.substring(0,c))(b);e?e(a):b.$emit(j,a)}else b.$emit(k,a);"$apply"!=b.$root.$$phase&&"$digest"!=b.$root.$$phase&&b.$apply()})}}),d.jqxInstance){var i=p(d.jqxInstance).assign;i&&i(b,h),"$apply"!=b.$root.$$phase&&"$digest"!=b.$root.$$phase&&b.$apply()}};i(c),"jqxPopover"==e&&setTimeout(function(){i(h.host)})}})}function h(e,f,g,h,i,j){if(g.jqxSettings){var k=p(g.jqxSettings)(e);k&&(k.apply?(v[i.$id+h+g.jqxSettings]||(v[i.$id+h+g.jqxSettings]=new Array),v[i.$id+h+g.jqxSettings].push(j)):(k.apply=k[h]=function(){var b=arguments,c=new Array;return 0==b.length||(a.each(v[i.$id+h+g.jqxSettings],function(d,e){var f=this;c.push({widgetName:h,element:f,result:a.jqx.jqxWidgetProxy(h,f,b)})}),1==c.length?c[0].result:c)},k.digest=function(){/^\$(digest|apply)$/.test(e.$root.$$phase)||e.$digest()},k.refresh=function(j,l){var m={},n=a(f)[h]("getInstance");if(a.each(k,function(a,b){if("created"===a||"propertyChanged"===a||"data"==a||"refresh"==a||a==h||"apply"==a)return!0;var d=n.events||n._events;return!!(d&&d.indexOf(a)>=0||a.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))||(j!=c&&j.indexOf(a)===-1||void(m[a]=b))}),m!=={})if(l)a.each(m,function(a,b){k[a]=n[a]}),"$apply"!=e.$root.$$phase&&"$digest"!=e.$root.$$phase&&e.$apply();else if(a.each(v[i.$id+h+g.jqxSettings],function(b,c){a(this).jqxProxy(m)}),g.jqxWatchSettings!=c&&i){var o=p(g.jqxSettings)(i);a.each(o,function(c,f){if(c.match(/(source|propertyChanged|created|data|apply|refresh)/g))return!0;var j=n.events||n._events;if(j&&j.indexOf(c)>=0||c.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(c===h)return!0;if(!w[g.jqxSettings+"."+c]){var k=c,l=i.$watch(g.jqxSettings+"."+c,function(c,f){if(c!=f){if(b.equals(c,f))return;var j={};j[k]=c,a.each(v[i.$id+h+g.jqxSettings],function(b,e){var g=d(h,a(this),j,c,f);g||a(this).jqxProxy(j)});var l=b.extend({},e.$eval(g.jqxSettings));g.jqxSettings&&l&&l.propertyChanged&&l.propertyChanged(k,f,c)}},!0);w[g.jqxSettings+"."+c]=l}})}A[f[0].id]&&(m={},a.each(A[f[0].id],function(){if(j!=c&&j.indexOf(a.camelCase(this.value.substring(4)))===-1)return!0;if(m[a.camelCase(this.value.substring(4))]=e.$eval(this.label),l){var b=a.parse(this.label)(e).assign;b&&b(e,n[a.camelCase(this.value.substring(4))])}}),l?"$apply"!=e.$root.$$phase&&"$digest"!=e.$root.$$phase&&e.$apply():a.each(v[i.$id+h+g.jqxSettings],function(b,c){a(this).jqxProxy(m)}))},v[i.$id+h+g.jqxSettings]=new Array,v[i.$id+h+g.jqxSettings].push(j)))}}function i(d,f,g,h,i,j,k){var l=/(jqxGrid|jqxTree|jqxMenu|jqxDataTable|jqxTreeGrid|jqxListBox|jqxTreeMap|jqxComboBox|jqxDropDownList|jqxChart)/gi;if(g.jqxSettings&&j&&j.source===c&&g.jqxSource===c&&h.match(l)&&(h.match(/(jqxTree|jqxMenu)/gi)?f[0].innerHTML.toLowerCase().indexOf("ul")===-1&&(j.source=[]):j.source=[]),j.source!==c&&g.jqxSettings)j.source=e(d,f,g,j.source,i,h,k);else if(g.jqxSource!==c){var m=b.extend({},d.$eval(g.jqxSource)),n=!(!g.jqxSource||!g.jqxSource.dataBind);n?j.source=e(d,f,g,g.jqxSource,i,h,k):j.source=e(d,f,g,m,i,h,k)}var o=d.$watch(g.ngDisabled,function(b,d){if(b!=c&&(b!=d||a(f).jqxProxy("disabled")!==b)){var e={};e.disabled=b,a(f).length>0&&a(f).jqxProxy(e)}});k.push(o)}function j(e,f,j,l,m){var n=new Array,o=b.extend({},e.$eval(j.jqxSettings));i(e,f,j,l,m,o,n);var p={},q={};A[f[0].id]&&a.each(A[f[0].id],function(){var g=this.label,h=this.value,i=a.camelCase(h.substring("4"));if("undefined"!=typeof j[g]){var k=e.$eval(j[g]);if(k===c&&"string"===a.type(j[g])&&(k=j[g]),"instance"==i)return!0;"array"===a.type(k)&&"source"!==l?k=k.slice(0):"object"===a.type(k)&&"source"!==l&&(k=a.extend({},k));var m=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|draw|renderFiles|initTools|initFeedBack|onTargetDrop|drawBefore|dragStart|dragEnd|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,o=/(searchMode)/gi,r=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(a.isFunction(k)&&!i.match(m))q[index]=k;else{if(i.match(m)&&!i.match(o)){var s=function(){var a=k.apply(this,arguments);return i.match(r)&&!/^\$(digest|apply)$/.test(e.$root.$$phase)&&e.$digest(),a};return p[i]=s,!0}p[i]=k}var t=function(c,g){if(c!=g){if(b.equals(c,g))return;var i=a.camelCase(h.substring("4"));if("watch"==i){if(j.jqxWatch.indexOf(",")>=0||j.jqxWatch.indexOf("[")>=0){var k=j.jqxWatch;return k=k.replace("[",""),k=k.replace("]",""),k=k.trim(),k=k.split(","),void a.each(k,function(h,k){for(var m=this.split("."),n=0;n<m.length;n++){if(m[n]in a(f).data().jqxWidget){i=m[n];break}if(m[n].toLowerCase()in a(f).data().jqxWidget){i=m[n].toLowerCase();break}}var o={};o[i]=c[h];var p=d(l,a(f),o,c,g);if(!p){a(f).jqxProxy(o);var q=b.extend({},e.$eval(j.jqxSettings));j.jqxSettings&&q&&q.propertyChanged&&q.propertyChanged(i,g,c)}})}for(var k=j.jqxWatch.split("."),m=0;m<k.length;m++){if(k[m]in a(f).data().jqxWidget){i=k[m];break}if(k[m].toLowerCase()in a(f).data().jqxWidget){i=k[m].toLowerCase();break}}}var n={};n[i]=c;var o=d(l,a(f),n,c,g);if(!o){a(f).jqxProxy(n);var p=b.extend({},e.$eval(j.jqxSettings));j.jqxSettings&&p&&p.propertyChanged&&p.propertyChanged(i,g,c)}}};if("watch"==i){delete p[i];var t=e.$watch(j[g],t,!0);n.push(t)}else{var t=e.$watch(j[g],t);n.push(t)}}}),""==f[0].id?(c==u[l]&&(u[l]=0),f[0].id=l+u[l]++):""!=f[0].id&&f[0].id==l+"0"&&(c==u[l]&&(u[l]=0),f[0].id=l+u[l]++);var r=a(f)[l];if(!r)throw new Error("Missing required JavaScript references for: "+l);a.each(o,function(b,c){if("data"===b||"created"===b||"propertyChanged"===b)return!0;var d=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|renderFiles|initTools|draw|drawBefore|dragStart|dragEnd|initFeedBack|onTargetDrop|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/gi,f=/(searchMode)/gi,g=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/gi;if(a.isFunction(c)&&!b.match(d))q[b]=c;else{if(b.match(d)&&!b.match(f)){var h=function(){var a=c.apply(this,arguments);return b.match(g)&&!/^\$(digest|apply)$/.test(e.$root.$$phase)&&e.$digest(),a};return p[b]=h,!0}"array"===a.type(c)&&"source"!==b?c=c.slice(0):"object"===a.type(c)&&"source"!==b&&(c=a.extend({},c)),p[b]=c}}),g(e,f,j,l,m,q);var s=f[0];h(e,f,j,l,m,s);var t=(a(f)[l](p),a(f)[l]("getInstance"));k(e,f,j,l,m,o,s,t,p,n);var v=e.$on("$destroy",function(){t&&t.destroy&&!t.isDestroyed?(t.isDestroyed=!0,a(f).parents().length>0&&a(f)[l]("destroy"),t=null):(a(f).remove(),t=null);for(var b=0;b<n.length;b++)n[b]();p=[],q=[],v()});return t}function k(g,h,i,j,k,l,m,n,o,q){if(i.jqxSettings){if(i.jqxWatchSettings!=c&&k){var r=p(i.jqxSettings)(k);a.each(r,function(c,e){if(c.match(/(source|created|propertyChanged|data|apply|refresh)/g))return!0;var f=n.events||n._events;if(f&&f.indexOf(c)>=0||c.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;if(c===j)return!0;if(o.hasOwnProperty(c)){var l=c,m=k.$watch(i.jqxSettings+"."+c,function(c,e){if(c!=e){if(b.equals(c,e))return;var f={};f[l]=c;var k=d(j,a(h),f,c,e);if(!k){a(h).jqxProxy(f);var m=b.extend({},g.$eval(i.jqxSettings));i.jqxSettings&&m&&m.propertyChanged&&m.propertyChanged(l,e,c)}}},!0);w[i.jqxSettings+"."+c]=m,q.push(m)}})}var s=g.$watch(i.jqxSettings,function(l,m){var o={},p=!1;if(l!=m){if(b.equals(l,m))return;if(a.each(l,function(l,r){if("source"===l){if(null!=m.source)return!0;var s=e(g,h,i,r,k,q);o[l]=s}if("created"===l)return!0;if("propertyChanged"===l)return!0;if("data"===l)return g.$apply(),!0;var t=n.events||n._events;if(t&&t.indexOf(l)>=0||l.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g))return!0;var u=function(e){if(i.jqxWatchSettings!=c&&k&&!w[i.jqxSettings+"."+e]){var e=l,f=k.$watch(i.jqxSettings+"."+e,function(c,f){if(c!=f){if(b.equals(c,f))return;var k={};k[e]=c;var l=d(j,a(h),k,c,f);if(!l){a(h).jqxProxy(k);var m=b.extend({},g.$eval(i.jqxSettings));i.jqxSettings&&m&&m.propertyChanged&&m.propertyChanged(e,f,c)}}},!0);w[i.jqxSettings+"."+e]=f,q.push(f)}};r instanceof Object||null!=m&&r===m[l]?l!==j&&"apply"!==l&&"created"!==l&&"propertyChanged"!==l&&r instanceof Object&&(null==m||f(r)!==f(m[l])||""==f(r)&&""==f(m[l]))&&(o[l]=r,u(l),p=!0):(o[l]=r,u(l),p=!0)}),o!=={}&&p){var r=d(j,a(h),o,l,m);if(!r){a(h).jqxProxy(o);var s=b.extend({},g.$eval(i.jqxSettings));i.jqxSettings&&s&&s.propertyChanged&&s.propertyChanged(index,m,l)}}}});q.push(s)}}function l(b,d,e,f){var g=b[0].nodeName.toLowerCase(),h=a(b).parent(),i=a(b).html(),j=!(!h||!h[0]||"ng-include"!=h[0].nodeName.toLowerCase());if(a(b).parents("[ui-view]").length>0&&(j=!0),j&&!d)return void a(b).attr("data-jqx-ng-include",!0);var k='<div id="jqx-ngwidget">'+i+"</div>";if(g.indexOf("jqx")>=0){var l=b[0].attributes,m=b;if(g.indexOf("input")>=0)g.indexOf("date")>=0||g.indexOf("number")>=0?a(b).replaceWith('<div id="jqx-ngwidget"></div>'):g.indexOf("password")>=0?a(b).replaceWith('<input id="jqx-ngwidget" type="password"/>'):a(b).replaceWith('<input id="jqx-ngwidget"/>');else if(g.indexOf("jqx-button")>=0&&g.indexOf("jqx-button-group")==-1)a(b).replaceWith('<button id="jqx-ngwidget">'+i+"</button>");else if(g.indexOf("jqx-toggle-button")>=0)a(b).replaceWith('<button id="jqx-ngwidget">'+i+"</button>");else if(g.indexOf("jqx-link-button")>=0)if(a(b).find("a").length>0){var n=a(b).find("a");n.attr("id","jqx-ngwidget"),a(b).replaceWith(n)}else a(b).replaceWith('<a id="jqx-ngwidget">'+i+"</a>");else if(g.indexOf("jqx-data-table")>=0||g.indexOf("jqx-grid")>=0)a(b).find("tr").length>0?a(b).replaceWith('<div id="jqx-ngwidget">'+i+"</div>"):a(b).replaceWith('<div id="jqx-ngwidget"></div>');else if(g.indexOf("jqx-list-box")>=0||g.indexOf("jqx-drop-down-list")>=0||g.indexOf("jqx-combo-box")>=0)a(b).find("option").length>0?a(b).replaceWith('<select id="jqx-ngwidget">'+i+"</select>"):a(b).find("li").length>0?a(b).replaceWith('<ul id="jqx-ngwidget">'+i+"</ul>"):a(b).replaceWith('<div id="jqx-ngwidget"></div>');else if(g.indexOf("jqx-list-menu")>=0)a(b).replaceWith('<ul id="jqx-ngwidget" data-role="listmenu">'+i+"</ul>");else if(g.indexOf("jqx-tooltip")>=0){var o=a(b).children();o.detach(),a(o).insertAfter(a(b)),a.each(l,function(){a(o)[0]&&a(o)[0].setAttribute(this.name,this.value)}),a(b).remove(),b=o}else a(b).replaceWith(k);m=h.find("#jqx-ngwidget").removeAttr("id"),a.each(l,function(){a(m)[0]&&a(m)[0].setAttribute(this.name,this.value)})}var p=b[0];m&&m.length&&(p=m[0]);return""==p.id&&(c==u[f]&&(u[f]=0),p.id=f+u[f]++),a.each(e,function(a,b){a!==f&&"jqxNgModel"!=a&&a.indexOf("jqxOn")==-1&&"jqxData"!=a&&"jqxWatchSettings"!=a&&"jqxCreated"!=a&&"jqxSource"!=a&&"jqxCreate"!=a&&"jqxSettings"!=a&&a.indexOf("jqx")>=0&&(A[p.id]||(A[p.id]=new Array),A[p.id].push({label:a,value:e.$attr[a]}))}),a(p)}function m(b,d){function e(b){d.filesCount=0;var e=b.length;if(b.scripts){var f=b.scripts.length;for(var g in b.deps){f++;var h=b.deps[g];f+=h.length}e=f}var i=function(b,f){var g=0,h=0,i=function(){var j=b[g],k=a('script[src*="'+j+'"]').length;if(0===k){var l=document.getElementsByTagName("head")[0],m=document.createElement("script");m.type="text/javascript";var n=function(){return d.filesCount++,h++,y[j]=!1,x[j]!=c&&a.each(x[j],function(){this.documentReady=!0,this.scriptsLoaded&&this.scriptsLoaded()}),x[j]=!0,d.filesCount==e?(d.documentReady=!0,void(d.scriptsLoaded&&d.scriptsLoaded())):void(h===b.length&&f&&f())};m.addEventListener?m.addEventListener("load",n,!1):window.attachEvent&&m.attachEvent("onreadystatechange",function(){"complete"!=m.readyState&&"loaded"!=m.readyState||n()}),y[j]=!0;var o=C;"globalize.js"==j&&(o=C+"globalization/"),m.src=o+j,l.appendChild(m),g++,g<b.length&&i()}else{if(d.filesCount++,d.filesCount==e)return x[j]===!0||y[j]===c?(d.documentReady=!0,void(d.scriptsLoaded&&d.scriptsLoaded())):(x[j]==c&&(x[j]=new Array),void x[j].push(d));g++,g<b.length&&i(),h++,h===b.length&&f&&f()}};i()};b.scripts?(i(b.scripts),a.each(b.deps,function(a,b){var c=new Array;c.push(a),i(c,function(){i(b)})})):i(b)}var f={jqxCalendar:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxDateTimeInput:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxScheduler:["jqxscheduler.js","jqxscheduler.api.js","jqxdate.js","jqxmenu.js","jqxwindow.js","jqxcheckbox.js","jqxnumberinput.js","jqxscrollbar.js","jqxlistbox.js","jqxdropdownlist.js","jqxinput.js","jqxradiobutton.js","jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxListBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js"],jqxComboBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxcombobox.js"],jqxDropDownList:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxdropdownlist.js"],jqxKanban:["jqxkanban.js","jqxsortable.js"],jqxSortable:["jqxsortable.js"],jqxKnob:["jqxdraw.js","jqxknob.js"],jqxGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js"],deps:{"jqxgrid.js":["jqxgrid.selection.js","jqxgrid.filter.js","jqxgrid.sort.js","jqxgrid.storage.js","jqxgrid.grouping.js","jqxgrid.pager.js","jqxgrid.columnsresize.js","jqxgrid.columnsreorder.js","jqxgrid.edit.js","jqxgrid.export.js","jqxgrid.aggregates.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDataTable:{scripts:["jqxdatatable.js","jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdata.js":["jqxdata.export.js"]}},jqxTreeGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdatatable.js":["jqxtreegrid.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDockingLayout:{scripts:["jqxmenu.js"],deps:{"jqxlayout.js":["jqxdockinglayout.js"]}},jqxCheckBox:["jqxcheckbox.js"],jqxRadioButton:["jqxradiobutton.js"],jqxBulletChart:["jqxbulletchart.js","jqxtooltip.js"],jqxRangeSelector:["jqxrangeselector.js"],jqxScrollView:["jqxbuttons.js","jqxscrollview.js"],jqxSwitchButton:["jqxswitchbutton.js"],jqxTouch:["jqxtouch.js"],jqxColorPicker:["jqxcolorpicker.js"],jqxInput:["jqxinput.js"],jqxTextArea:["jqxtextarea.js","jqxbuttons.js","jqxscrollbar.js"],jqxTagCloud:["jqxtagcloud.js"],jqxPopover:["jqxpopover.js"],jqxLayout:["jqxlayout.js","jqxmenu.js","jqxwindow.js"],jqxLoader:["jqxloader.js"],jqxResponsivePanel:["jqxresponsivepanel.js"],jqxEditor:["jqxeditor.js"],jqxNumberInput:["jqxbuttons.js","jqxnumberinput.js"],jqxMaskedInput:["jqxmaskedinput.js"],jqxSlider:["jqxbuttons.js","jqxslider.js"],jqxPanel:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js"],jqxButton:["jqxbuttons.js"],jqxLinkButton:["jqxbuttons.js"],jqxToggleButton:["jqxbuttons.js"],jqxRepeatButton:["jqxbuttons.js"],jqxDropDownButton:["jqxdropdownbutton.js"],jqxNotification:["jqxnotification.js"],jqxDockPanel:["jqxdockpanel.js"],jqxProgressBar:["jqxprogressbar.js"],jqxListMenu:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxlistmenu.js"],jqxTree:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxtree.js","jqxdata.js"],jqxMenu:["jqxmenu.js","jqxdata.js"],jqxTabs:["jqxtabs.js","jqxbuttons.js"],jqxDragDrop:["jqxdragdrop.js"],jqxDraw:["jqxdraw.js"],jqxWindow:["jqxwindow.js"],jqxDocking:["jqxwindow.js","jqxdocking.js"],jqxButtonGroup:["jqxbuttons.js","jqxbuttongroup.js"],jqxChart:["jqxdata.js","jqxchart.js"],jqxNavigationBar:["jqxnavigationbar.js"],jqxExpander:["jqxexpander.js"],jqxResponse:["jqxresponse.js"],jqxPasswordInput:["jqxpasswordinput.js"],jqxRating:["jqxrating.js"],jqxSplitter:["jqxbuttons.js","jqxsplitter.js"],jqxValidator:["jqxvalidator.js"],jqxTooltip:["jqxtooltip.js"],jqxGauge:["jqxdraw.js","jqxgauge.js"],jqxLinearGauge:["jqxdraw.js","jqxgauge.js"],jqxTreeMap:["jqxtreemap.js"],jqxRibbon:["jqxbuttons.js","jqxribbon.js"],jqxFormattedInput:["jqxbuttons.js","jqxformattedinput.js"],jqxComplexInput:["jqxbuttons.js","jqxcomplexinput.js"],jqxToolBar:["jqxtoolbar.js"],jqxFileUpload:["jqxfileupload.js"],jqxNavBar:["jqxnavbar.js"]};e(f[b])}function n(b){var d=function(d,e,f,g,h){if(a(e).attr("data-jqx-ng-include")){a(e).removeAttr("data-jqx-ng-include");var i=a(e.children()).detach();e=l(e,!0,f,b),e.append(i),s(e)(d);var k=!0;for(var n in f)if(n.toString().indexOf("jqx")!=-1&&(d[f[n]]!=c&&(k=!1),f[n].split(".").length>1))for(var o=f[n].split("."),t=0;t<o.length;t++)d[o[t]]!=c&&(k=!1);
k&&f.jqxSettings&&(p(f.jqxSettings)(d)||(k=!1)),k&&(d=d.$parent)}if(a.jqx.AMD){var u={};z[b]=!1,u.documentReady=!1,m(b,u)}var v=e[0].style.visibility,w=e[0].style.display;e[0].style.visibility="hidden",e[0].style.display="none";var x=d,y=r(function(){r.cancel(y),y=c;var h=function(){var h=g[0];e[0].style.visibility=v,e[0].style.display=w;var i=j(d,e,f,b,x),k=(b.toLowerCase(),b.match(/(input|list|radio|checkbox|combobox|rating|slider|scrollbar|progress|range|editor|picker|range|gauge|textarea|calendar|switch|button)/gi)),l={element:e[0],name:b,instance:a(e).data().jqxWidget,id:e[0].id,scope:d},m=function(){d.$emit(b+"Created",l),f.jqxSettings&&p(f.jqxSettings)(d)&&p(f.jqxSettings)(d).created&&q(function(){var a=p(f.jqxSettings)(d).created;a(l)}),f.jqxCreated&&q(function(){var a=p(f.jqxCreated)(d);a(l)})};if("jqxGrid"===b||"jqxDataTable"===b)var n=0,o=r(function(){a(e).data().jqxWidget?(a(e).data().jqxWidget.initializedcall||25==n)&&(r.cancel(o),o=c,m()):(r.cancel(o),o=c),n++},100);else m();q(function(){if(h){if(h.$render=function(){var f=h.$viewValue;return f===c&&(f=h.$modelValue),"jqxRadioButton"===b?void(d.$eval(a(e).attr("value"))==h.$viewValue?a(e).val(!0):"true"==d.$eval(a(e).attr("value"))&&1==h.$viewValue?a(e).val(!0):a(e).val(!1)):"jqxCheckBox"===b?(d.$eval(a(e).attr("ng-true-value"))==h.$viewValue&&a(e).val(!0),void(d.$eval(a(e).attr("ng-false-value"))==h.$viewValue?a(e).val(!1):a(e).val(h.$viewValue))):void(f!=a(e).val()&&q(function(){a(e).val(f)}))},"jqxRadioButton"===b)d.$eval(a(e).attr("value"))==h.$viewValue?a(e).val(!0):"true"==d.$eval(a(e).attr("value"))&&1==h.$viewValue?a(e).val(!0):a(e).val(!1);else if("jqxCheckBox"===b)d.$eval(a(e).attr("ng-true-value"))==h.$viewValue&&a(e).val(!0),d.$eval(a(e).attr("ng-false-value"))==h.$viewValue?a(e).val(!1):a(e).val(h.$viewValue);else if("jqxDropDownList"===b||"jqxComboBox"===b||"jqxListBox"===b||"jqxInput"===b||"jqxTextArea"===b)if(f.jqxNgModel!=c){var g=a(e).data().jqxWidget;"jqxInput"!=b?g.valueMember?g.selectItem(h.$viewValue[g.valueMember]):g.displayMember?g.selectItem(h.$viewValue[g.displayMember]):a(e).val(h.$viewValue):a(e).val(h.$viewValue)}else a(e).val(h.$viewValue);else if("jqxDateTimeInput"===b||"jqxCalendar"===b)if(f.jqxNgModel!=c){var g=a(e).data().jqxWidget;"range"==g.selectionMode?g.setRange(h.$viewValue):g.setDate(h.$viewValue)}else a(e).val(h.$viewValue);else if("jqxToggleButton"==b){var g=a(e).data().jqxWidget;g.toggled=!0,g.refresh()}else a(e).val(h.$viewValue);if(k){var j="keyup change";"jqxScrollBar"==b&&(j="valueChanged"),"jqxToggleButton"==b&&(j="keyup click"),"jqxInput"==b&&(j="keyup change select");var l,m=i.host;!m&&i.base&&(m=i.base.host),a(m).on(j,function(g){var i=g.args;l&&q.cancel(l),l=q(function(){if("jqxRadioButton"===b)i&&"api"!=i.type&&h.$setViewValue(d.$eval(a(e).attr("value")));else if("jqxCheckBox"===b)a(e).attr("ng-true-value")!=c&&i.checked?h.$setViewValue(a(e).attr("ng-true-value")):a(e).attr("ng-false-value")==c||i.checked?h.$setViewValue(a(e).val()):h.$setViewValue(a(e).attr("ng-false-value"));else if("jqxDropDownList"===b||"jqxComboBox"===b||"jqxListBox"===b||"jqxInput"===b||"jqxTextArea"===b){var g=a(e).val();if(f.jqxNgModel!=c){var j=a(e).data().jqxWidget;j.getSelectedItem&&(g=j.getSelectedItem(),g.originalItem&&(g=g.originalItem)),"jqxInput"!==b&&"jqxTextArea"!==b||(g=j.selectedItem),h.$setViewValue(g)}else h.$setViewValue(g)}else if("jqxDateTimeInput"===b||"jqxCalendar"===b)if(f.jqxNgModel!=c){var j=a(e).data().jqxWidget;"range"==j.selectionMode?h.$setViewValue(j.getRange()):h.$setViewValue(j.getDate())}else if("date"===a.type(h.$viewValue)){var j=a(e).data().jqxWidget;"range"==j.selectionMode?h.$setViewValue(j.getRange()):h.$setViewValue(j.getDate())}else h.$setViewValue(a(e).val());else if("jqxToggleButton"==b){var j=a(e).data().jqxWidget;h.$setViewValue(j.toggled)}else h.$setViewValue(a(e).val());d.$emit(b+"ModelChange",h.$viewValue)})})}}})};if(f.ngShow===c||f.jqxCreate!==c){var i=function(){if(null!=f.jqxCreate||null!=f.jqxCreate)if(f.jqxCreate===!0||null!==f.jqxCreate&&"object"==a.type(f.jqxCreate))h();else var b=d.$watch(f.jqxCreate,function(a,c){"number"==typeof a?(q(h,a),b()):a&&(h(),b())});else h()};if(a.jqx.AMD){var k=function(){var b=!0;for(var c in z)if(!z[c]){b=!1;break}if(b){B||(d.$emit("jQWidgetsScriptsLoaded"),B=!0);for(var c in z)a.each(z[c],function(){this()}),z[c]=new Array}};if(u.documentReady){var l={element:e[0],name:b,scope:d};d.$emit(b+"ScriptsLoaded",l),z[b]||(z[b]=new Array),z[b].push(i),k()}else u.scriptsLoaded=function(){var a={element:e[0],name:b,scope:d};d.$emit(b+"ScriptsLoaded",a),z[b]||(z[b]=new Array),z[b].push(i),k()}}else i()}else var m=d.$watch(f.ngShow,function(a,b){a&&(h(),m())})})};o.directive(b,["$timeout","$interval","$parse","$compile","$log",function(a,c,e,f,g){q=a,r=c,p=e,s=f,t=g;var h;return{restrict:"ACE",require:["?ngModel"],scope:!1,template:function(a,c){l(a,!1,c,b),h=this.scope},controller:["$scope","$attrs","$element","$transclude",function(a,b,c,d){}],compile:function(a,b,c){return{pre:function(a,b,c,d,e){},post:function(a,b,c,e,f){d(a,b,c,e,f)}}},link:d}}])}if(b){a.jqx=a.jqx||{},a.jqx.AMD=!1;var o=b.module("jqwidgets",[]),p=(b.module("jqwidgets-amd",[],function(){a.jqx.AMD=!0}),null),q=null,r=null,s=null,t=null,u=new Array,v=new Array,w=new Array,x=new Array,y=new Array,z=new Array,A={},B=!1,C=function(){var a,b,c,d=document.getElementsByTagName("script");for(a=0;b=d[a];a++)if(c=b.src,c.indexOf("jqxcore.js")>=0){var e=c.substring(0,c.indexOf("jqxcore.js"));break}return e}();a.jqx.angularCompile=function(a,d){a.length>0&&(a=a[0]);var e=b.element(a),f=e.injector();d==c&&(d=a.innerHTML),f.invoke(["$compile","$rootScope",function(a,b){var c=e.html(d).scope();a(e)(c||b),/^\$(digest|apply)$/.test(b.$$phase)?/^\$(digest|apply)$/.test(c.$$phase)||c.$digest():b.$digest()}])},n("jqxBulletChart"),n("jqxButtonGroup"),n("jqxButton"),n("jqxBarGauge"),n("jqxRepeatButton"),n("jqxToggleButton"),n("jqxLinkButton"),n("jqxCalendar"),n("jqxChart"),n("jqxCheckBox"),n("jqxComplexInput"),n("jqxColorPicker"),n("jqxComboBox"),n("jqxDataTable"),n("jqxDateTimeInput"),n("jqxDocking"),n("jqxDockPanel"),n("jqxDragDrop"),n("jqxDraw"),n("jqxDropDownButton"),n("jqxDropDownList"),n("jqxEditor"),n("jqxExpander"),n("jqxFormattedInput"),n("jqxFileUpload"),n("jqxGauge"),n("jqxLinearGauge"),n("jqxGrid"),n("jqxInput"),n("jqxListBox"),n("jqxListMenu"),n("jqxMaskedInput"),n("jqxMenu"),n("jqxNavigationBar"),n("jqxNavBar"),n("jqxNotification"),n("jqxNumberInput"),n("jqxPanel"),n("jqxPasswordInput"),n("jqxProgressBar"),n("jqxRadioButton"),n("jqxRangeSelector"),n("jqxRating"),n("jqxRibbon"),n("jqxScrollBar"),n("jqxScrollView"),n("jqxSlider"),n("jqxSplitter"),n("jqxSwitchButton"),n("jqxTabs"),n("jqxToolBar"),n("jqxTooltip"),n("jqxTouch"),n("jqxTree"),n("jqxTreeGrid"),n("jqxTreeMap"),n("jqxValidator"),n("jqxWindow"),n("jqxTagCloud"),n("jqxPopover"),n("jqxKanban"),n("jqxKnob"),n("jqxSortablePlugin"),n("jqxScheduler"),n("jqxTextArea"),n("jqxLayout"),n("jqxDockingLayout"),n("jqxResponsivePanel"),n("jqxLoader")}}(jqxBaseFramework,window.angular);try{!function(a,b){b.jqwidgets=b.jqwidgets||{},b.jqwidgets.knockout=function(c){var d={},e=c.name;d.init=function(d,f,g,h){var i=b.utils.unwrapObservable(f()),j=b.toJS(i);if(c.reset&&c.reset(),void 0==a.data(d)[e]){var k=[];a(d)[e](),widget=a.data(d)[e].instance,a.each(c,function(a,d){if(widget.hasOwnProperty(a)&&j.hasOwnProperty(a)&&!widget.koupdating){widget.koupdatingFromObservable=!0;try{var e=!1;c.serialize&&c.serialize(widget,a)&&(b.toJSON(j[a])!=b.toJSON(c.serialize(widget,a))&&c.setProperty(widget,a,widget[a],j[a]),e=!0),e||b.toJSON(j[a])!=b.toJSON(widget[a])&&c.setProperty(widget,a,widget[a],j[a])}catch(f){c.setProperty(widget,a,widget[a],j[a])}k[a]=a,widget.koupdatingFromObservable=!1}});var l={};a.each(j,function(a,b){void 0==k[a]&&(l[a]=j[a])}),widget.host[e](l)}widget=a.data(d)[e].instance,widget.koupdatingFromObservable=!1,widget.koupdating=!1,c.events&&a.each(c.events,function(){var g=this;a(d).on(g+"."+d.id,function(h){if(widget=a.data(d)[e].instance,!widget.koupdatingFromObservable){var j=widget;j.koupdating=!0;var k=f(),l=c.getProperty(widget,h,g,i);void 0!=l&&(k.hasOwnProperty(l.name)&&a.isFunction(k[l.name])?b.isObservable(k[l.name])&&k[l.name].push?f(l.value):k[l.name](l.value):k[l.name]&&f(l.value)),j.koupdating=!1}})})},d.update=function(d,f,g,h,i){var j=b.utils.unwrapObservable(f()),k=b.toJS(j);widget=a.data(d)[e].instance,widget.koupdating||a.each(c,function(a,d){if(widget.hasOwnProperty(a)&&k.hasOwnProperty(a)&&!widget.koupdating){widget.koupdatingFromObservable=!0;var e=!1;c.serialize&&c.serialize(widget,a)&&(b.toJSON(k[a])!=b.toJSON(c.serialize(widget,a))&&c.setProperty(widget,a,widget[a],k[a]),e=!0),e||b.toJSON(k[a])!=b.toJSON(widget[a])&&c.setProperty(widget,a,widget[a],k[a]),widget.koupdatingFromObservable=!1}})},b.bindingHandlers[c.name]=d};new b.jqwidgets.knockout({name:"jqxGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxGauge({disabled:d}),"min"==b&&a.host.jqxGauge({min:d}),"max"==b&&a.host.jqxGauge({max:d}),"value"==b&&a.host.jqxGauge({value:d})}}),new b.jqwidgets.knockout({name:"jqxLinearGauge",disabled:!1,min:0,max:220,value:0,reset:function(){this.value=0,this.max=220,this.min=0,this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxLinearGauge({disabled:d}),"min"==b&&a.host.jqxLinearGauge({min:d}),"max"==b&&a.host.jqxLinearGauge({max:d}),"value"==b&&a.host.jqxLinearGauge({value:d})}}),new b.jqwidgets.knockout({name:"jqxSlider",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["change"],getProperty:function(a,b,c){if("change"==c)return{name:"value",value:b.args.value}},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxSlider({disabled:d}),"min"==b&&a.host.jqxSlider({min:parseFloat(d)}),"max"==b&&a.host.jqxSlider({max:parseFloat(d)}),"value"==b&&a.host.jqxSlider({value:parseFloat(d)})}}),new b.jqwidgets.knockout({name:"jqxScrollBar",disabled:!1,min:0,max:10,value:0,reset:function(){this.value=0,this.max=10,this.min=0,this.disabled=!1},events:["valueChanged"],getProperty:function(a,b,c){if("valueChanged"==c)return{name:"value",value:parseInt(b.currentValue)}},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxScrollBar({disabled:d}),"min"==b&&a.host.jqxScrollBar({min:parseFloat(d)}),"max"==b&&a.host.jqxScrollBar({max:parseFloat(d)}),"value"==b&&a.host.jqxScrollBar({value:parseFloat(d)})}}),new b.jqwidgets.knockout({name:"jqxProgressBar",disabled:!1,value:0,reset:function(){this.value=0,this.disabled=!1},events:["valueChanged"],getProperty:function(a,b,c){if("valueChanged"==c)return{name:"value",value:parseInt(b.currentValue)}},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxProgressBar({disabled:d}),"value"==b&&a.host.jqxProgressBar({value:parseFloat(d)})}}),new b.jqwidgets.knockout({name:"jqxButton",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxButton({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxCheckBox",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(a,b,c){if("change"==c)return{name:"checked",value:b.args.checked}},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxCheckBox({disabled:d}),"checked"==b&&c!=d&&a.host.jqxCheckBox({checked:d})}}),new b.jqwidgets.knockout({name:"jqxRadioButton",checked:!1,disabled:!1,reset:function(){this.checked=!1,this.disabled=!1},events:["change"],getProperty:function(a,b,c){if("change"==c)return{name:"checked",value:b.args.checked}},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxRadioButton({disabled:d}),"checked"==b&&c!=d&&a.host.jqxRadioButton({checked:d})}}),new b.jqwidgets.knockout({name:"jqxDateTimeInput",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(a,b,c){if("valueChanged"==c)return{name:"value",value:b.args.date}},setProperty:function(a,b,c,d){"value"==b&&a.setDate(d),"disabled"==b&&a.host.jqxDateTimeInput({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxCalendar",value:null,disabled:!1,reset:function(){this.value=null,this.disabled=!1},events:["valueChanged"],getProperty:function(a,b,c){if("valueChanged"==c)return{name:"value",value:b.args.date}},setProperty:function(a,b,c,d){"value"==b&&a.setDate(d),"disabled"==b&&a.host.jqxCalendar({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxNumberInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(a,b,c){if("valueChanged"==c)return{name:"value",value:a.val()}},setProperty:function(a,b,c,d){"value"==b&&a.host.jqxNumberInput("val",d),"disabled"==b&&a.host.jqxNumberInput({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxMaskedInput",value:null,events:["valueChanged"],disabled:!1,reset:function(){this.value=null,this.disabled=!1},getProperty:function(a,b,c){if("valueChanged"==c)return{name:"value",value:a.val()}},setProperty:function(a,b,c,d){"value"==b&&a.host.jqxMaskedInput("val",d),"disabled"==b&&a.host.jqxMaskedInput({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxListBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(a,b,c){if("change"==c)return this.selectedIndex=a.selectedIndex,{name:"selectedIndex",value:a.selectedIndex}},setProperty:function(a,b,c,d){if("source"==b&&(a.source=d,a.refresh()),"disabled"==b&&(a.disabled=d,a._renderItems()),"selectedIndex"==b){var e=a.disabled;a.disabled=!1,a.selectIndex(d),a.disabled=e,e&&a._renderItems()}}}),new b.jqwidgets.knockout({name:"jqxDropDownList",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(a,b,c){if("change"==c)return{name:"selectedIndex",value:a.selectedIndex}},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxDropDownList({source:d}),"disabled"==b&&a.host.jqxDropDownList({disabled:d}),"selectedIndex"==b&&a.host.jqxDropDownList({selectedIndex:d})}}),new b.jqwidgets.knockout({name:"jqxComboBox",source:null,disabled:!1,selectedIndex:-1,reset:function(){this.disabled=!1,this.selectedIndex=-1,this.source=null},events:["change"],getProperty:function(a,b,c){if("change"==c)return{name:"selectedIndex",value:a.selectedIndex}},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxComboBox({source:d}),"disabled"==b&&a.host.jqxComboBox({disabled:d}),"selectedIndex"==b&&a.host.jqxComboBox({selectedIndex:d})}}),new b.jqwidgets.knockout({name:"jqxInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(a,b,c){if("change"==c)return{name:"value",value:a.host.val()}},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxInput({source:d}),"disabled"==b&&a.host.jqxInput({disabled:d}),"value"==b&&a.host.jqxInput({value:d})}}),new b.jqwidgets.knockout({name:"jqxComplexInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(a,b,c){if("change"==c)return{name:"value",value:a.host.val()}},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxComplexInput({source:d}),"disabled"==b&&a.host.jqxComplexInput({disabled:d}),"value"==b&&a.host.jqxComplexInput({value:d})}}),new b.jqwidgets.knockout({name:"jqxFormattedInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(a,b,c){if("change"==c)return{name:"value",value:a.host.val()}},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxFormattedInput({source:d}),"disabled"==b&&a.host.jqxFormattedInput({disabled:d}),"value"==b&&a.host.jqxFormattedInput({value:d})}}),new b.jqwidgets.knockout({name:"jqxPasswordInput",source:null,disabled:!1,value:"",reset:function(){this.disabled=!1,this.source=null},events:["change"],getProperty:function(a,b,c){if("change"==c)return{name:"value",value:a.host.val()}},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxPasswordInput({source:d}),"disabled"==b&&a.host.jqxPasswordInput({disabled:d}),"value"==b&&a.host.jqxPasswordInput({value:d})}}),new b.jqwidgets.knockout({name:"jqxTree",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxTree({source:d}),"disabled"==b&&a.host.jqxTree({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxTabs",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&a.host.jqxTabs({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxWindow",disabled:!1,content:"",title:"",reset:function(){this.disabled=!1,this.title="",this.content=""},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b?a.host.jqxWindow({disabled:d}):"content"==b?a.host.jqxWindow("setContent",d):"title"==b&&a.host.jqxWindow({title:d})}}),new b.jqwidgets.knockout({name:"jqxNavigationBar",disabled:!1,reset:function(){this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"disabled"==b&&d!=this.disabled&&(this.disabled=d,a.host.jqxNavigationBar({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxMenu",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&a.host.jqxMenu({source:d}),"disabled"==b&&a.host.jqxMenu({disabled:d})}}),new b.jqwidgets.knockout({name:"jqxChart",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&(this.source=d,a.host.jqxChart({source:d})),"disabled"==b&&(this.disabled=d,a.host.jqxChart({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxDataTable",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&(this.source=d,a.host.jqxDataTable({source:d})),"disabled"==b&&(this.disabled=d,a.host.jqxDataTable({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxTreeGrid",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&(this.source=d,a.host.jqxTreeGrid({source:d})),"disabled"==b&&(this.disabled=d,a.host.jqxTreeGrid({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxKnob",value:0,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"value"==b&&(this.value=d,a.host.jqxKnob({value:d})),"disabled"==b&&(this.disabled=d,a.host.jqxKnob({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxScheduler",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&(this.source=d,a.host.jqxScheduler({source:d})),"disabled"==b&&(this.disabled=d,a.host.jqxScheduler({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxKanban",source:null,disabled:!1,reset:function(){this.disabled=!1,this.source=null},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"source"==b&&(this.source=d,a.host.jqxKanban({source:d})),"disabled"==b&&(this.disabled=d,a.host.jqxKanban({disabled:d}))}}),new b.jqwidgets.knockout({name:"jqxGrid",source:null,disabled:!1,selectedRowIndex:-1,reset:function(){this.disabled=!1,this.source=null,this.selectedRowIndex=-1},serialize:function(a,b){return!("source"!=b||!a.source||!a.source._source)&&a.source.records},events:["cellvaluechanged","cellselect","rowselect"],getProperty:function(c,d,e,f){if("cellvaluechanged"==e){var g=c.host.jqxGrid("getrowid",d.args.rowindex),h=c.host.jqxGrid("getrowdata",g),i=f.source;if(void 0!=i){var j={},k={},l=!1,m=!1;return i()[g]&&a.each(i()[g],function(a,c){j[a]=c,k[a]="",b.isObservable(c)&&!b.isComputed(c)&&(l=!0,c(h[a])),b.isObservable(c)&&b.isComputed(c)&&(m=!0)}),l?(j=h,i.replace&&i.replace(i()[g],j)):(j=h,i.replace&&(i.replace(i()[g],k),i.replace(i()[g],j))),m&&c.host.jqxGrid("updaterow",g,b.toJS(i)[g]),{name:"source",value:i}}}},setProperty:function(c,d,e,f){if("selectedRowIndex"==d&&c.host.jqxGrid("selectrow",f),"source"==d)if(null==this.source||null==f){if(this.source!=f){this.source=f;var g={localdata:f,datatype:"local"},h=new a.jqx.dataAdapter(g);c.host.jqxGrid({source:h})}}else{var g={localdata:f,datatype:"local"},h=new a.jqx.dataAdapter(g);if(h.dataBind(),!e.records||!h.records)return;var i=Math.max(e.records.length,h.records.length),j=Math.abs(e.records.length-h.records.length);if(0==j&&i>10)return void c.host.jqxGrid({source:h});j>1&&c.host.jqxGrid("beginupdate");for(var k=new Array,l=0;l<i;l++){var m=h.records[l];if(void 0==m){var n=c.host.jqxGrid("getrowid",l);k.push(n)}else{var o=void 0!=e.records[l];if(o){if(b.toJSON(m)!=b.toJSON(e.records[l])){if(void 0!=e.records[l].uid&&(m.uid=e.records[l].uid,b.toJSON(m)==b.toJSON(e.records[l])))continue;var n=c.host.jqxGrid("getrowid",l);c.host.jqxGrid("updaterow",n,m)}}else c.host.jqxGrid("addrow",null,m)}}k.length>0&&c.host.jqxGrid("deleterow",k),j>1&&c.host.jqxGrid("endupdate")}"disabled"==d&&c.host.jqxGrid({disabled:f})}}),new b.jqwidgets.knockout({name:"jqxBulletChart",pointer:{value:0},target:{value:0},disabled:!1,reset:function(){this.pointer.value=0,this.target.value=0,this.disabled=!1},getProperty:function(a,b,c){},setProperty:function(a,b,c,d){"pointer"==b&&a.host.jqxBulletChart({pointer:d}),"target"==b&&a.host.jqxBulletChart({target:d}),"disabled"==b&&a.host.jqxBulletChart({disabled:d})}})}(jqxBaseFramework,ko)}catch(error){var er=error}